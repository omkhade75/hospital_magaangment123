var lH=Object.defineProperty;var S4=e=>{throw TypeError(e)};var cH=(e,t,r)=>t in e?lH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rt=(e,t,r)=>cH(e,typeof t!="symbol"?t+"":t,r),c_=(e,t,r)=>t.has(e)||S4("Cannot "+r);var he=(e,t,r)=>(c_(e,t,"read from private field"),r?r.call(e):t.get(e)),Rt=(e,t,r)=>t.has(e)?S4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),nt=(e,t,r,n)=>(c_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ir=(e,t,r)=>(c_(e,t,"access private method"),r);var Qy=(e,t,r,n)=>({set _(s){nt(e,t,s,r)},get _(){return he(e,t,n)}});function uH(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var j4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dH(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var FM={exports:{}},ob={},$M={exports:{}},or={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0=Symbol.for("react.element"),hH=Symbol.for("react.portal"),fH=Symbol.for("react.fragment"),pH=Symbol.for("react.strict_mode"),mH=Symbol.for("react.profiler"),gH=Symbol.for("react.provider"),vH=Symbol.for("react.context"),yH=Symbol.for("react.forward_ref"),xH=Symbol.for("react.suspense"),wH=Symbol.for("react.memo"),bH=Symbol.for("react.lazy"),N4=Symbol.iterator;function _H(e){return e===null||typeof e!="object"?null:(e=N4&&e[N4]||e["@@iterator"],typeof e=="function"?e:null)}var BM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UM=Object.assign,qM={};function xm(e,t,r){this.props=e,this.context=t,this.refs=qM,this.updater=r||BM}xm.prototype.isReactComponent={};xm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zM(){}zM.prototype=xm.prototype;function jk(e,t,r){this.props=e,this.context=t,this.refs=qM,this.updater=r||BM}var Nk=jk.prototype=new zM;Nk.constructor=jk;UM(Nk,xm.prototype);Nk.isPureReactComponent=!0;var k4=Array.isArray,VM=Object.prototype.hasOwnProperty,kk={current:null},WM={key:!0,ref:!0,__self:!0,__source:!0};function HM(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)VM.call(t,n)&&!WM.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:S0,type:e,key:i,ref:a,props:s,_owner:kk.current}}function SH(e,t){return{$$typeof:S0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ck(e){return typeof e=="object"&&e!==null&&e.$$typeof===S0}function jH(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var C4=/\/+/g;function u_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jH(""+e.key):t.toString(36)}function rx(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case S0:case hH:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+u_(a,0):n,k4(s)?(r="",e!=null&&(r=e.replace(C4,"$&/")+"/"),rx(s,t,r,"",function(u){return u})):s!=null&&(Ck(s)&&(s=SH(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(C4,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",k4(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+u_(i,l);a+=rx(i,t,r,c,s)}else if(c=_H(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+u_(i,l++),a+=rx(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zy(e,t,r){if(e==null)return e;var n=[],s=0;return rx(e,n,"","",function(i){return t.call(r,i,s++)}),n}function NH(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ki={current:null},nx={transition:null},kH={ReactCurrentDispatcher:ki,ReactCurrentBatchConfig:nx,ReactCurrentOwner:kk};function GM(){throw Error("act(...) is not supported in production builds of React.")}or.Children={map:Zy,forEach:function(e,t,r){Zy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zy(e,function(){t++}),t},toArray:function(e){return Zy(e,function(t){return t})||[]},only:function(e){if(!Ck(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};or.Component=xm;or.Fragment=fH;or.Profiler=mH;or.PureComponent=jk;or.StrictMode=pH;or.Suspense=xH;or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kH;or.act=GM;or.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=UM({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=kk.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)VM.call(t,c)&&!WM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:S0,type:e.type,key:s,ref:i,props:n,_owner:a}};or.createContext=function(e){return e={$$typeof:vH,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gH,_context:e},e.Consumer=e};or.createElement=HM;or.createFactory=function(e){var t=HM.bind(null,e);return t.type=e,t};or.createRef=function(){return{current:null}};or.forwardRef=function(e){return{$$typeof:yH,render:e}};or.isValidElement=Ck;or.lazy=function(e){return{$$typeof:bH,_payload:{_status:-1,_result:e},_init:NH}};or.memo=function(e,t){return{$$typeof:wH,type:e,compare:t===void 0?null:t}};or.startTransition=function(e){var t=nx.transition;nx.transition={};try{e()}finally{nx.transition=t}};or.unstable_act=GM;or.useCallback=function(e,t){return ki.current.useCallback(e,t)};or.useContext=function(e){return ki.current.useContext(e)};or.useDebugValue=function(){};or.useDeferredValue=function(e){return ki.current.useDeferredValue(e)};or.useEffect=function(e,t){return ki.current.useEffect(e,t)};or.useId=function(){return ki.current.useId()};or.useImperativeHandle=function(e,t,r){return ki.current.useImperativeHandle(e,t,r)};or.useInsertionEffect=function(e,t){return ki.current.useInsertionEffect(e,t)};or.useLayoutEffect=function(e,t){return ki.current.useLayoutEffect(e,t)};or.useMemo=function(e,t){return ki.current.useMemo(e,t)};or.useReducer=function(e,t,r){return ki.current.useReducer(e,t,r)};or.useRef=function(e){return ki.current.useRef(e)};or.useState=function(e){return ki.current.useState(e)};or.useSyncExternalStore=function(e,t,r){return ki.current.useSyncExternalStore(e,t,r)};or.useTransition=function(){return ki.current.useTransition()};or.version="18.3.1";$M.exports=or;var _=$M.exports;const Re=DM(_),Ek=uH({__proto__:null,default:Re},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CH=_,EH=Symbol.for("react.element"),AH=Symbol.for("react.fragment"),PH=Object.prototype.hasOwnProperty,TH=CH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RH={key:!0,ref:!0,__self:!0,__source:!0};function YM(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)PH.call(t,n)&&!RH.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:EH,type:e,key:i,ref:a,props:s,_owner:TH.current}}ob.Fragment=AH;ob.jsx=YM;ob.jsxs=YM;FM.exports=ob;var o=FM.exports,KM={exports:{}},xa={},JM={exports:{}},QM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,X){var pe=W.length;W.push(X);e:for(;0<pe;){var ge=pe-1>>>1,U=W[ge];if(0<s(U,X))W[ge]=X,W[pe]=U,pe=ge;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var X=W[0],pe=W.pop();if(pe!==X){W[0]=pe;e:for(var ge=0,U=W.length,b=U>>>1;ge<b;){var C=2*(ge+1)-1,E=W[C],B=C+1,F=W[B];if(0>s(E,pe))B<U&&0>s(F,E)?(W[ge]=F,W[B]=pe,ge=B):(W[ge]=E,W[C]=pe,ge=C);else if(B<U&&0>s(F,pe))W[ge]=F,W[B]=pe,ge=B;else break e}}return X}function s(W,X){var pe=W.sortIndex-X.sortIndex;return pe!==0?pe:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,v=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=W)n(u),X.sortIndex=X.expirationTime,t(c,X);else break;X=r(u)}}function k(W){if(m=!1,S(W),!v)if(r(c)!==null)v=!0,ne(T);else{var X=r(u);X!==null&&re(k,X.startTime-W)}}function T(W,X){v=!1,m&&(m=!1,g(D),D=-1),f=!0;var pe=p;try{for(S(X),h=r(c);h!==null&&(!(h.expirationTime>X)||W&&!A());){var ge=h.callback;if(typeof ge=="function"){h.callback=null,p=h.priorityLevel;var U=ge(h.expirationTime<=X);X=e.unstable_now(),typeof U=="function"?h.callback=U:h===r(c)&&n(c),S(X)}else n(c);h=r(c)}if(h!==null)var b=!0;else{var C=r(u);C!==null&&re(k,C.startTime-X),b=!1}return b}finally{h=null,p=pe,f=!1}}var R=!1,L=null,D=-1,M=5,G=-1;function A(){return!(e.unstable_now()-G<M)}function I(){if(L!==null){var W=e.unstable_now();G=W;var X=!0;try{X=L(!0,W)}finally{X?$():(R=!1,L=null)}}else R=!1}var $;if(typeof w=="function")$=function(){w(I)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,te=q.port2;q.port1.onmessage=I,$=function(){te.postMessage(null)}}else $=function(){x(I,0)};function ne(W){L=W,R||(R=!0,$())}function re(W,X){D=x(function(){W(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,ne(T))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(W){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var pe=p;p=X;try{return W()}finally{p=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=p;p=W;try{return X()}finally{p=pe}},e.unstable_scheduleCallback=function(W,X,pe){var ge=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ge+pe:ge):pe=ge,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=pe+U,W={id:d++,callback:X,priorityLevel:W,startTime:pe,expirationTime:U,sortIndex:-1},pe>ge?(W.sortIndex=pe,t(u,W),r(c)===null&&W===r(u)&&(m?(g(D),D=-1):m=!0,re(k,pe-ge))):(W.sortIndex=U,t(c,W),v||f||(v=!0,ne(T))),W},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(W){var X=p;return function(){var pe=p;p=X;try{return W.apply(this,arguments)}finally{p=pe}}}})(QM);JM.exports=QM;var OH=JM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LH=_,ga=OH;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZM=new Set,Ev={};function zh(e,t){qp(e,t),qp(e+"Capture",t)}function qp(e,t){for(Ev[e]=t,e=0;e<t.length;e++)ZM.add(t[e])}var wc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),NS=Object.prototype.hasOwnProperty,MH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E4={},A4={};function IH(e){return NS.call(A4,e)?!0:NS.call(E4,e)?!1:MH.test(e)?A4[e]=!0:(E4[e]=!0,!1)}function DH(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FH(e,t,r,n){if(t===null||typeof t>"u"||DH(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ci(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ys={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ys[e]=new Ci(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ys[t]=new Ci(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ys[e]=new Ci(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ys[e]=new Ci(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ys[e]=new Ci(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ys[e]=new Ci(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ys[e]=new Ci(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ys[e]=new Ci(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ys[e]=new Ci(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ak=/[\-:]([a-z])/g;function Pk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ak,Pk);Ys[t]=new Ci(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ak,Pk);Ys[t]=new Ci(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ak,Pk);Ys[t]=new Ci(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ys[e]=new Ci(e,1,!1,e.toLowerCase(),null,!1,!1)});Ys.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ys[e]=new Ci(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tk(e,t,r,n){var s=Ys.hasOwnProperty(t)?Ys[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FH(t,r,s,n)&&(r=null),n||s===null?IH(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Oc=LH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xy=Symbol.for("react.element"),Wf=Symbol.for("react.portal"),Hf=Symbol.for("react.fragment"),Rk=Symbol.for("react.strict_mode"),kS=Symbol.for("react.profiler"),XM=Symbol.for("react.provider"),e6=Symbol.for("react.context"),Ok=Symbol.for("react.forward_ref"),CS=Symbol.for("react.suspense"),ES=Symbol.for("react.suspense_list"),Lk=Symbol.for("react.memo"),uu=Symbol.for("react.lazy"),t6=Symbol.for("react.offscreen"),P4=Symbol.iterator;function Sg(e){return e===null||typeof e!="object"?null:(e=P4&&e[P4]||e["@@iterator"],typeof e=="function"?e:null)}var Ln=Object.assign,d_;function zg(e){if(d_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);d_=t&&t[1]||""}return`
`+d_+e}var h_=!1;function f_(e,t){if(!e||h_)return"";h_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{h_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zg(e):""}function $H(e){switch(e.tag){case 5:return zg(e.type);case 16:return zg("Lazy");case 13:return zg("Suspense");case 19:return zg("SuspenseList");case 0:case 2:case 15:return e=f_(e.type,!1),e;case 11:return e=f_(e.type.render,!1),e;case 1:return e=f_(e.type,!0),e;default:return""}}function AS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hf:return"Fragment";case Wf:return"Portal";case kS:return"Profiler";case Rk:return"StrictMode";case CS:return"Suspense";case ES:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e6:return(e.displayName||"Context")+".Consumer";case XM:return(e._context.displayName||"Context")+".Provider";case Ok:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lk:return t=e.displayName||null,t!==null?t:AS(e.type)||"Memo";case uu:t=e._payload,e=e._init;try{return AS(e(t))}catch{}}return null}function BH(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AS(t);case 8:return t===Rk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ju(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function r6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UH(e){var t=r6(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function e1(e){e._valueTracker||(e._valueTracker=UH(e))}function n6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=r6(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Bx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function PS(e,t){var r=t.checked;return Ln({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function T4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ju(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function s6(e,t){t=t.checked,t!=null&&Tk(e,"checked",t,!1)}function TS(e,t){s6(e,t);var r=Ju(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?RS(e,t.type,r):t.hasOwnProperty("defaultValue")&&RS(e,t.type,Ju(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function R4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function RS(e,t,r){(t!=="number"||Bx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vg=Array.isArray;function op(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ju(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function OS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return Ln({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function O4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(Vg(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ju(r)}}function i6(e,t){var r=Ju(t.value),n=Ju(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function L4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var t1,o6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(t1=t1||document.createElement("div"),t1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=t1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Av(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var av={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qH=["Webkit","ms","Moz","O"];Object.keys(av).forEach(function(e){qH.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),av[t]=av[e]})});function l6(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||av.hasOwnProperty(e)&&av[e]?(""+t).trim():t+"px"}function c6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=l6(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var zH=Ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function MS(e,t){if(t){if(zH[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function IS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DS=null;function Mk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var FS=null,lp=null,cp=null;function M4(e){if(e=k0(e)){if(typeof FS!="function")throw Error(We(280));var t=e.stateNode;t&&(t=hb(t),FS(e.stateNode,e.type,t))}}function u6(e){lp?cp?cp.push(e):cp=[e]:lp=e}function d6(){if(lp){var e=lp,t=cp;if(cp=lp=null,M4(e),t)for(e=0;e<t.length;e++)M4(t[e])}}function h6(e,t){return e(t)}function f6(){}var p_=!1;function p6(e,t,r){if(p_)return e(t,r);p_=!0;try{return h6(e,t,r)}finally{p_=!1,(lp!==null||cp!==null)&&(f6(),d6())}}function Pv(e,t){var r=e.stateNode;if(r===null)return null;var n=hb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var $S=!1;if(wc)try{var jg={};Object.defineProperty(jg,"passive",{get:function(){$S=!0}}),window.addEventListener("test",jg,jg),window.removeEventListener("test",jg,jg)}catch{$S=!1}function VH(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ov=!1,Ux=null,qx=!1,BS=null,WH={onError:function(e){ov=!0,Ux=e}};function HH(e,t,r,n,s,i,a,l,c){ov=!1,Ux=null,VH.apply(WH,arguments)}function GH(e,t,r,n,s,i,a,l,c){if(HH.apply(this,arguments),ov){if(ov){var u=Ux;ov=!1,Ux=null}else throw Error(We(198));qx||(qx=!0,BS=u)}}function Vh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function m6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function I4(e){if(Vh(e)!==e)throw Error(We(188))}function YH(e){var t=e.alternate;if(!t){if(t=Vh(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return I4(s),e;if(i===n)return I4(s),t;i=i.sibling}throw Error(We(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(We(189))}}if(r.alternate!==n)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function g6(e){return e=YH(e),e!==null?v6(e):null}function v6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=v6(e);if(t!==null)return t;e=e.sibling}return null}var y6=ga.unstable_scheduleCallback,D4=ga.unstable_cancelCallback,KH=ga.unstable_shouldYield,JH=ga.unstable_requestPaint,Xn=ga.unstable_now,QH=ga.unstable_getCurrentPriorityLevel,Ik=ga.unstable_ImmediatePriority,x6=ga.unstable_UserBlockingPriority,zx=ga.unstable_NormalPriority,ZH=ga.unstable_LowPriority,w6=ga.unstable_IdlePriority,lb=null,gl=null;function XH(e){if(gl&&typeof gl.onCommitFiberRoot=="function")try{gl.onCommitFiberRoot(lb,e,void 0,(e.current.flags&128)===128)}catch{}}var ko=Math.clz32?Math.clz32:rG,eG=Math.log,tG=Math.LN2;function rG(e){return e>>>=0,e===0?32:31-(eG(e)/tG|0)|0}var r1=64,n1=4194304;function Wg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Wg(l):(i&=a,i!==0&&(n=Wg(i)))}else a=r&~s,a!==0?n=Wg(a):i!==0&&(n=Wg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ko(t),s=1<<r,n|=e[r],t&=~s;return n}function nG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ko(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=nG(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function US(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function b6(){var e=r1;return r1<<=1,!(r1&4194240)&&(r1=64),e}function m_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function j0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ko(t),e[t]=r}function iG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ko(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Dk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ko(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Kr=0;function _6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var S6,Fk,j6,N6,k6,qS=!1,s1=[],Mu=null,Iu=null,Du=null,Tv=new Map,Rv=new Map,mu=[],aG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F4(e,t){switch(e){case"focusin":case"focusout":Mu=null;break;case"dragenter":case"dragleave":Iu=null;break;case"mouseover":case"mouseout":Du=null;break;case"pointerover":case"pointerout":Tv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rv.delete(t.pointerId)}}function Ng(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=k0(t),t!==null&&Fk(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function oG(e,t,r,n,s){switch(t){case"focusin":return Mu=Ng(Mu,e,t,r,n,s),!0;case"dragenter":return Iu=Ng(Iu,e,t,r,n,s),!0;case"mouseover":return Du=Ng(Du,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Tv.set(i,Ng(Tv.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Rv.set(i,Ng(Rv.get(i)||null,e,t,r,n,s)),!0}return!1}function C6(e){var t=Kd(e.target);if(t!==null){var r=Vh(t);if(r!==null){if(t=r.tag,t===13){if(t=m6(r),t!==null){e.blockedOn=t,k6(e.priority,function(){j6(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);DS=n,r.target.dispatchEvent(n),DS=null}else return t=k0(r),t!==null&&Fk(t),e.blockedOn=r,!1;t.shift()}return!0}function $4(e,t,r){sx(e)&&r.delete(t)}function lG(){qS=!1,Mu!==null&&sx(Mu)&&(Mu=null),Iu!==null&&sx(Iu)&&(Iu=null),Du!==null&&sx(Du)&&(Du=null),Tv.forEach($4),Rv.forEach($4)}function kg(e,t){e.blockedOn===t&&(e.blockedOn=null,qS||(qS=!0,ga.unstable_scheduleCallback(ga.unstable_NormalPriority,lG)))}function Ov(e){function t(s){return kg(s,e)}if(0<s1.length){kg(s1[0],e);for(var r=1;r<s1.length;r++){var n=s1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Mu!==null&&kg(Mu,e),Iu!==null&&kg(Iu,e),Du!==null&&kg(Du,e),Tv.forEach(t),Rv.forEach(t),r=0;r<mu.length;r++)n=mu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<mu.length&&(r=mu[0],r.blockedOn===null);)C6(r),r.blockedOn===null&&mu.shift()}var up=Oc.ReactCurrentBatchConfig,Wx=!0;function cG(e,t,r,n){var s=Kr,i=up.transition;up.transition=null;try{Kr=1,$k(e,t,r,n)}finally{Kr=s,up.transition=i}}function uG(e,t,r,n){var s=Kr,i=up.transition;up.transition=null;try{Kr=4,$k(e,t,r,n)}finally{Kr=s,up.transition=i}}function $k(e,t,r,n){if(Wx){var s=zS(e,t,r,n);if(s===null)N_(e,t,n,Hx,r),F4(e,n);else if(oG(s,e,t,r,n))n.stopPropagation();else if(F4(e,n),t&4&&-1<aG.indexOf(e)){for(;s!==null;){var i=k0(s);if(i!==null&&S6(i),i=zS(e,t,r,n),i===null&&N_(e,t,n,Hx,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else N_(e,t,n,null,r)}}var Hx=null;function zS(e,t,r,n){if(Hx=null,e=Mk(n),e=Kd(e),e!==null)if(t=Vh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=m6(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hx=e,null}function E6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QH()){case Ik:return 1;case x6:return 4;case zx:case ZH:return 16;case w6:return 536870912;default:return 16}default:return 16}}var Pu=null,Bk=null,ix=null;function A6(){if(ix)return ix;var e,t=Bk,r=t.length,n,s="value"in Pu?Pu.value:Pu.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ix=s.slice(e,1<n?1-n:void 0)}function ax(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function i1(){return!0}function B4(){return!1}function wa(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?i1:B4,this.isPropagationStopped=B4,this}return Ln(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=i1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=i1)},persist:function(){},isPersistent:i1}),t}var wm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uk=wa(wm),N0=Ln({},wm,{view:0,detail:0}),dG=wa(N0),g_,v_,Cg,cb=Ln({},N0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cg&&(Cg&&e.type==="mousemove"?(g_=e.screenX-Cg.screenX,v_=e.screenY-Cg.screenY):v_=g_=0,Cg=e),g_)},movementY:function(e){return"movementY"in e?e.movementY:v_}}),U4=wa(cb),hG=Ln({},cb,{dataTransfer:0}),fG=wa(hG),pG=Ln({},N0,{relatedTarget:0}),y_=wa(pG),mG=Ln({},wm,{animationName:0,elapsedTime:0,pseudoElement:0}),gG=wa(mG),vG=Ln({},wm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yG=wa(vG),xG=Ln({},wm,{data:0}),q4=wa(xG),wG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_G[e])?!!t[e]:!1}function qk(){return SG}var jG=Ln({},N0,{key:function(e){if(e.key){var t=wG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ax(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bG[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qk,charCode:function(e){return e.type==="keypress"?ax(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ax(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NG=wa(jG),kG=Ln({},cb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z4=wa(kG),CG=Ln({},N0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qk}),EG=wa(CG),AG=Ln({},wm,{propertyName:0,elapsedTime:0,pseudoElement:0}),PG=wa(AG),TG=Ln({},cb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RG=wa(TG),OG=[9,13,27,32],zk=wc&&"CompositionEvent"in window,lv=null;wc&&"documentMode"in document&&(lv=document.documentMode);var LG=wc&&"TextEvent"in window&&!lv,P6=wc&&(!zk||lv&&8<lv&&11>=lv),V4=" ",W4=!1;function T6(e,t){switch(e){case"keyup":return OG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gf=!1;function MG(e,t){switch(e){case"compositionend":return R6(t);case"keypress":return t.which!==32?null:(W4=!0,V4);case"textInput":return e=t.data,e===V4&&W4?null:e;default:return null}}function IG(e,t){if(Gf)return e==="compositionend"||!zk&&T6(e,t)?(e=A6(),ix=Bk=Pu=null,Gf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return P6&&t.locale!=="ko"?null:t.data;default:return null}}var DG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DG[e.type]:t==="textarea"}function O6(e,t,r,n){u6(n),t=Gx(t,"onChange"),0<t.length&&(r=new Uk("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var cv=null,Lv=null;function FG(e){V6(e,0)}function ub(e){var t=Jf(e);if(n6(t))return e}function $G(e,t){if(e==="change")return t}var L6=!1;if(wc){var x_;if(wc){var w_="oninput"in document;if(!w_){var G4=document.createElement("div");G4.setAttribute("oninput","return;"),w_=typeof G4.oninput=="function"}x_=w_}else x_=!1;L6=x_&&(!document.documentMode||9<document.documentMode)}function Y4(){cv&&(cv.detachEvent("onpropertychange",M6),Lv=cv=null)}function M6(e){if(e.propertyName==="value"&&ub(Lv)){var t=[];O6(t,Lv,e,Mk(e)),p6(FG,t)}}function BG(e,t,r){e==="focusin"?(Y4(),cv=t,Lv=r,cv.attachEvent("onpropertychange",M6)):e==="focusout"&&Y4()}function UG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ub(Lv)}function qG(e,t){if(e==="click")return ub(t)}function zG(e,t){if(e==="input"||e==="change")return ub(t)}function VG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var To=typeof Object.is=="function"?Object.is:VG;function Mv(e,t){if(To(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!NS.call(t,s)||!To(e[s],t[s]))return!1}return!0}function K4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function J4(e,t){var r=K4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=K4(r)}}function I6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function D6(){for(var e=window,t=Bx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Bx(e.document)}return t}function Vk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WG(e){var t=D6(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&I6(r.ownerDocument.documentElement,r)){if(n!==null&&Vk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=J4(r,i);var a=J4(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HG=wc&&"documentMode"in document&&11>=document.documentMode,Yf=null,VS=null,uv=null,WS=!1;function Q4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;WS||Yf==null||Yf!==Bx(n)||(n=Yf,"selectionStart"in n&&Vk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),uv&&Mv(uv,n)||(uv=n,n=Gx(VS,"onSelect"),0<n.length&&(t=new Uk("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yf)))}function a1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Kf={animationend:a1("Animation","AnimationEnd"),animationiteration:a1("Animation","AnimationIteration"),animationstart:a1("Animation","AnimationStart"),transitionend:a1("Transition","TransitionEnd")},b_={},F6={};wc&&(F6=document.createElement("div").style,"AnimationEvent"in window||(delete Kf.animationend.animation,delete Kf.animationiteration.animation,delete Kf.animationstart.animation),"TransitionEvent"in window||delete Kf.transitionend.transition);function db(e){if(b_[e])return b_[e];if(!Kf[e])return e;var t=Kf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in F6)return b_[e]=t[r];return e}var $6=db("animationend"),B6=db("animationiteration"),U6=db("animationstart"),q6=db("transitionend"),z6=new Map,Z4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ld(e,t){z6.set(e,t),zh(t,[e])}for(var __=0;__<Z4.length;__++){var S_=Z4[__],GG=S_.toLowerCase(),YG=S_[0].toUpperCase()+S_.slice(1);ld(GG,"on"+YG)}ld($6,"onAnimationEnd");ld(B6,"onAnimationIteration");ld(U6,"onAnimationStart");ld("dblclick","onDoubleClick");ld("focusin","onFocus");ld("focusout","onBlur");ld(q6,"onTransitionEnd");qp("onMouseEnter",["mouseout","mouseover"]);qp("onMouseLeave",["mouseout","mouseover"]);qp("onPointerEnter",["pointerout","pointerover"]);qp("onPointerLeave",["pointerout","pointerover"]);zh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zh("onBeforeInput",["compositionend","keypress","textInput","paste"]);zh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hg));function X4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,GH(n,t,void 0,e),e.currentTarget=null}function V6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;X4(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;X4(s,l,u),i=c}}}if(qx)throw e=BS,qx=!1,BS=null,e}function wn(e,t){var r=t[JS];r===void 0&&(r=t[JS]=new Set);var n=e+"__bubble";r.has(n)||(W6(t,e,2,!1),r.add(n))}function j_(e,t,r){var n=0;t&&(n|=4),W6(r,e,n,t)}var o1="_reactListening"+Math.random().toString(36).slice(2);function Iv(e){if(!e[o1]){e[o1]=!0,ZM.forEach(function(r){r!=="selectionchange"&&(KG.has(r)||j_(r,!1,e),j_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[o1]||(t[o1]=!0,j_("selectionchange",!1,t))}}function W6(e,t,r,n){switch(E6(t)){case 1:var s=cG;break;case 4:s=uG;break;default:s=$k}r=s.bind(null,t,r,e),s=void 0,!$S||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function N_(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Kd(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}p6(function(){var u=i,d=Mk(r),h=[];e:{var p=z6.get(e);if(p!==void 0){var f=Uk,v=e;switch(e){case"keypress":if(ax(r)===0)break e;case"keydown":case"keyup":f=NG;break;case"focusin":v="focus",f=y_;break;case"focusout":v="blur",f=y_;break;case"beforeblur":case"afterblur":f=y_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=U4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=fG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=EG;break;case $6:case B6:case U6:f=gG;break;case q6:f=PG;break;case"scroll":f=dG;break;case"wheel":f=RG;break;case"copy":case"cut":case"paste":f=yG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=z4}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?p!==null?p+"Capture":null:p;m=[];for(var w=u,S;w!==null;){S=w;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,g!==null&&(k=Pv(w,g),k!=null&&m.push(Dv(w,k,S)))),x)break;w=w.return}0<m.length&&(p=new f(p,v,null,r,d),h.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==DS&&(v=r.relatedTarget||r.fromElement)&&(Kd(v)||v[bc]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=u,v=v?Kd(v):null,v!==null&&(x=Vh(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(m=U4,k="onMouseLeave",g="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=z4,k="onPointerLeave",g="onPointerEnter",w="pointer"),x=f==null?p:Jf(f),S=v==null?p:Jf(v),p=new m(k,w+"leave",f,r,d),p.target=x,p.relatedTarget=S,k=null,Kd(d)===u&&(m=new m(g,w+"enter",v,r,d),m.target=S,m.relatedTarget=x,k=m),x=k,f&&v)t:{for(m=f,g=v,w=0,S=m;S;S=bf(S))w++;for(S=0,k=g;k;k=bf(k))S++;for(;0<w-S;)m=bf(m),w--;for(;0<S-w;)g=bf(g),S--;for(;w--;){if(m===g||g!==null&&m===g.alternate)break t;m=bf(m),g=bf(g)}m=null}else m=null;f!==null&&eP(h,p,f,m,!1),v!==null&&x!==null&&eP(h,x,v,m,!0)}}e:{if(p=u?Jf(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var T=$G;else if(H4(p))if(L6)T=zG;else{T=UG;var R=BG}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=qG);if(T&&(T=T(e,u))){O6(h,T,r,d);break e}R&&R(e,p,u),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&RS(p,"number",p.value)}switch(R=u?Jf(u):window,e){case"focusin":(H4(R)||R.contentEditable==="true")&&(Yf=R,VS=u,uv=null);break;case"focusout":uv=VS=Yf=null;break;case"mousedown":WS=!0;break;case"contextmenu":case"mouseup":case"dragend":WS=!1,Q4(h,r,d);break;case"selectionchange":if(HG)break;case"keydown":case"keyup":Q4(h,r,d)}var L;if(zk)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Gf?T6(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(P6&&r.locale!=="ko"&&(Gf||D!=="onCompositionStart"?D==="onCompositionEnd"&&Gf&&(L=A6()):(Pu=d,Bk="value"in Pu?Pu.value:Pu.textContent,Gf=!0)),R=Gx(u,D),0<R.length&&(D=new q4(D,e,null,r,d),h.push({event:D,listeners:R}),L?D.data=L:(L=R6(r),L!==null&&(D.data=L)))),(L=LG?MG(e,r):IG(e,r))&&(u=Gx(u,"onBeforeInput"),0<u.length&&(d=new q4("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=L))}V6(h,t)})}function Dv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gx(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pv(e,r),i!=null&&n.unshift(Dv(e,i,s)),i=Pv(e,t),i!=null&&n.push(Dv(e,i,s))),e=e.return}return n}function bf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eP(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Pv(r,i),c!=null&&a.unshift(Dv(r,c,l))):s||(c=Pv(r,i),c!=null&&a.push(Dv(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var JG=/\r\n?/g,QG=/\u0000|\uFFFD/g;function tP(e){return(typeof e=="string"?e:""+e).replace(JG,`
`).replace(QG,"")}function l1(e,t,r){if(t=tP(t),tP(e)!==t&&r)throw Error(We(425))}function Yx(){}var HS=null,GS=null;function YS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var KS=typeof setTimeout=="function"?setTimeout:void 0,ZG=typeof clearTimeout=="function"?clearTimeout:void 0,rP=typeof Promise=="function"?Promise:void 0,XG=typeof queueMicrotask=="function"?queueMicrotask:typeof rP<"u"?function(e){return rP.resolve(null).then(e).catch(eY)}:KS;function eY(e){setTimeout(function(){throw e})}function k_(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ov(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ov(t)}function Fu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bm=Math.random().toString(36).slice(2),cl="__reactFiber$"+bm,Fv="__reactProps$"+bm,bc="__reactContainer$"+bm,JS="__reactEvents$"+bm,tY="__reactListeners$"+bm,rY="__reactHandles$"+bm;function Kd(e){var t=e[cl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bc]||r[cl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nP(e);e!==null;){if(r=e[cl])return r;e=nP(e)}return t}e=r,r=e.parentNode}return null}function k0(e){return e=e[cl]||e[bc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function hb(e){return e[Fv]||null}var QS=[],Qf=-1;function cd(e){return{current:e}}function _n(e){0>Qf||(e.current=QS[Qf],QS[Qf]=null,Qf--)}function pn(e,t){Qf++,QS[Qf]=e.current,e.current=t}var Qu={},oi=cd(Qu),$i=cd(!1),wh=Qu;function zp(e,t){var r=e.type.contextTypes;if(!r)return Qu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bi(e){return e=e.childContextTypes,e!=null}function Kx(){_n($i),_n(oi)}function sP(e,t,r){if(oi.current!==Qu)throw Error(We(168));pn(oi,t),pn($i,r)}function H6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(We(108,BH(e)||"Unknown",s));return Ln({},r,n)}function Jx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qu,wh=oi.current,pn(oi,e),pn($i,$i.current),!0}function iP(e,t,r){var n=e.stateNode;if(!n)throw Error(We(169));r?(e=H6(e,t,wh),n.__reactInternalMemoizedMergedChildContext=e,_n($i),_n(oi),pn(oi,e)):_n($i),pn($i,r)}var rc=null,fb=!1,C_=!1;function G6(e){rc===null?rc=[e]:rc.push(e)}function nY(e){fb=!0,G6(e)}function ud(){if(!C_&&rc!==null){C_=!0;var e=0,t=Kr;try{var r=rc;for(Kr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rc=null,fb=!1}catch(s){throw rc!==null&&(rc=rc.slice(e+1)),y6(Ik,ud),s}finally{Kr=t,C_=!1}}return null}var Zf=[],Xf=0,Qx=null,Zx=0,La=[],Ma=0,bh=null,lc=1,cc="";function Bd(e,t){Zf[Xf++]=Zx,Zf[Xf++]=Qx,Qx=e,Zx=t}function Y6(e,t,r){La[Ma++]=lc,La[Ma++]=cc,La[Ma++]=bh,bh=e;var n=lc;e=cc;var s=32-ko(n)-1;n&=~(1<<s),r+=1;var i=32-ko(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,lc=1<<32-ko(t)+s|r<<s|n,cc=i+e}else lc=1<<i|r<<s|n,cc=e}function Wk(e){e.return!==null&&(Bd(e,1),Y6(e,1,0))}function Hk(e){for(;e===Qx;)Qx=Zf[--Xf],Zf[Xf]=null,Zx=Zf[--Xf],Zf[Xf]=null;for(;e===bh;)bh=La[--Ma],La[Ma]=null,cc=La[--Ma],La[Ma]=null,lc=La[--Ma],La[Ma]=null}var fa=null,ca=null,kn=!1,_o=null;function K6(e,t){var r=Da(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function aP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fa=e,ca=Fu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fa=e,ca=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bh!==null?{id:lc,overflow:cc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Da(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,fa=e,ca=null,!0):!1;default:return!1}}function ZS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function XS(e){if(kn){var t=ca;if(t){var r=t;if(!aP(e,t)){if(ZS(e))throw Error(We(418));t=Fu(r.nextSibling);var n=fa;t&&aP(e,t)?K6(n,r):(e.flags=e.flags&-4097|2,kn=!1,fa=e)}}else{if(ZS(e))throw Error(We(418));e.flags=e.flags&-4097|2,kn=!1,fa=e}}}function oP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fa=e}function c1(e){if(e!==fa)return!1;if(!kn)return oP(e),kn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!YS(e.type,e.memoizedProps)),t&&(t=ca)){if(ZS(e))throw J6(),Error(We(418));for(;t;)K6(e,t),t=Fu(t.nextSibling)}if(oP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ca=Fu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ca=null}}else ca=fa?Fu(e.stateNode.nextSibling):null;return!0}function J6(){for(var e=ca;e;)e=Fu(e.nextSibling)}function Vp(){ca=fa=null,kn=!1}function Gk(e){_o===null?_o=[e]:_o.push(e)}var sY=Oc.ReactCurrentBatchConfig;function Eg(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var n=r.stateNode}if(!n)throw Error(We(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function u1(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lP(e){var t=e._init;return t(e._payload)}function Q6(e){function t(g,w){if(e){var S=g.deletions;S===null?(g.deletions=[w],g.flags|=16):S.push(w)}}function r(g,w){if(!e)return null;for(;w!==null;)t(g,w),w=w.sibling;return null}function n(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function s(g,w){return g=qu(g,w),g.index=0,g.sibling=null,g}function i(g,w,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<w?(g.flags|=2,w):S):(g.flags|=2,w)):(g.flags|=1048576,w)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,w,S,k){return w===null||w.tag!==6?(w=L_(S,g.mode,k),w.return=g,w):(w=s(w,S),w.return=g,w)}function c(g,w,S,k){var T=S.type;return T===Hf?d(g,w,S.props.children,k,S.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===uu&&lP(T)===w.type)?(k=s(w,S.props),k.ref=Eg(g,w,S),k.return=g,k):(k=fx(S.type,S.key,S.props,null,g.mode,k),k.ref=Eg(g,w,S),k.return=g,k)}function u(g,w,S,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=M_(S,g.mode,k),w.return=g,w):(w=s(w,S.children||[]),w.return=g,w)}function d(g,w,S,k,T){return w===null||w.tag!==7?(w=ph(S,g.mode,k,T),w.return=g,w):(w=s(w,S),w.return=g,w)}function h(g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=L_(""+w,g.mode,S),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xy:return S=fx(w.type,w.key,w.props,null,g.mode,S),S.ref=Eg(g,null,w),S.return=g,S;case Wf:return w=M_(w,g.mode,S),w.return=g,w;case uu:var k=w._init;return h(g,k(w._payload),S)}if(Vg(w)||Sg(w))return w=ph(w,g.mode,S,null),w.return=g,w;u1(g,w)}return null}function p(g,w,S,k){var T=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:l(g,w,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xy:return S.key===T?c(g,w,S,k):null;case Wf:return S.key===T?u(g,w,S,k):null;case uu:return T=S._init,p(g,w,T(S._payload),k)}if(Vg(S)||Sg(S))return T!==null?null:d(g,w,S,k,null);u1(g,S)}return null}function f(g,w,S,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(S)||null,l(w,g,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xy:return g=g.get(k.key===null?S:k.key)||null,c(w,g,k,T);case Wf:return g=g.get(k.key===null?S:k.key)||null,u(w,g,k,T);case uu:var R=k._init;return f(g,w,S,R(k._payload),T)}if(Vg(k)||Sg(k))return g=g.get(S)||null,d(w,g,k,T,null);u1(w,k)}return null}function v(g,w,S,k){for(var T=null,R=null,L=w,D=w=0,M=null;L!==null&&D<S.length;D++){L.index>D?(M=L,L=null):M=L.sibling;var G=p(g,L,S[D],k);if(G===null){L===null&&(L=M);break}e&&L&&G.alternate===null&&t(g,L),w=i(G,w,D),R===null?T=G:R.sibling=G,R=G,L=M}if(D===S.length)return r(g,L),kn&&Bd(g,D),T;if(L===null){for(;D<S.length;D++)L=h(g,S[D],k),L!==null&&(w=i(L,w,D),R===null?T=L:R.sibling=L,R=L);return kn&&Bd(g,D),T}for(L=n(g,L);D<S.length;D++)M=f(L,g,D,S[D],k),M!==null&&(e&&M.alternate!==null&&L.delete(M.key===null?D:M.key),w=i(M,w,D),R===null?T=M:R.sibling=M,R=M);return e&&L.forEach(function(A){return t(g,A)}),kn&&Bd(g,D),T}function m(g,w,S,k){var T=Sg(S);if(typeof T!="function")throw Error(We(150));if(S=T.call(S),S==null)throw Error(We(151));for(var R=T=null,L=w,D=w=0,M=null,G=S.next();L!==null&&!G.done;D++,G=S.next()){L.index>D?(M=L,L=null):M=L.sibling;var A=p(g,L,G.value,k);if(A===null){L===null&&(L=M);break}e&&L&&A.alternate===null&&t(g,L),w=i(A,w,D),R===null?T=A:R.sibling=A,R=A,L=M}if(G.done)return r(g,L),kn&&Bd(g,D),T;if(L===null){for(;!G.done;D++,G=S.next())G=h(g,G.value,k),G!==null&&(w=i(G,w,D),R===null?T=G:R.sibling=G,R=G);return kn&&Bd(g,D),T}for(L=n(g,L);!G.done;D++,G=S.next())G=f(L,g,D,G.value,k),G!==null&&(e&&G.alternate!==null&&L.delete(G.key===null?D:G.key),w=i(G,w,D),R===null?T=G:R.sibling=G,R=G);return e&&L.forEach(function(I){return t(g,I)}),kn&&Bd(g,D),T}function x(g,w,S,k){if(typeof S=="object"&&S!==null&&S.type===Hf&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Xy:e:{for(var T=S.key,R=w;R!==null;){if(R.key===T){if(T=S.type,T===Hf){if(R.tag===7){r(g,R.sibling),w=s(R,S.props.children),w.return=g,g=w;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===uu&&lP(T)===R.type){r(g,R.sibling),w=s(R,S.props),w.ref=Eg(g,R,S),w.return=g,g=w;break e}r(g,R);break}else t(g,R);R=R.sibling}S.type===Hf?(w=ph(S.props.children,g.mode,k,S.key),w.return=g,g=w):(k=fx(S.type,S.key,S.props,null,g.mode,k),k.ref=Eg(g,w,S),k.return=g,g=k)}return a(g);case Wf:e:{for(R=S.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){r(g,w.sibling),w=s(w,S.children||[]),w.return=g,g=w;break e}else{r(g,w);break}else t(g,w);w=w.sibling}w=M_(S,g.mode,k),w.return=g,g=w}return a(g);case uu:return R=S._init,x(g,w,R(S._payload),k)}if(Vg(S))return v(g,w,S,k);if(Sg(S))return m(g,w,S,k);u1(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(r(g,w.sibling),w=s(w,S),w.return=g,g=w):(r(g,w),w=L_(S,g.mode,k),w.return=g,g=w),a(g)):r(g,w)}return x}var Wp=Q6(!0),Z6=Q6(!1),Xx=cd(null),ew=null,ep=null,Yk=null;function Kk(){Yk=ep=ew=null}function Jk(e){var t=Xx.current;_n(Xx),e._currentValue=t}function ej(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function dp(e,t){ew=e,Yk=ep=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ii=!0),e.firstContext=null)}function Ha(e){var t=e._currentValue;if(Yk!==e)if(e={context:e,memoizedValue:t,next:null},ep===null){if(ew===null)throw Error(We(308));ep=e,ew.dependencies={lanes:0,firstContext:e}}else ep=ep.next=e;return t}var Jd=null;function Qk(e){Jd===null?Jd=[e]:Jd.push(e)}function X6(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Qk(t)):(r.next=s.next,s.next=r),t.interleaved=r,_c(e,n)}function _c(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var du=!1;function Zk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $u(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ar&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_c(e,r)}return s=n.interleaved,s===null?(t.next=t,Qk(n)):(t.next=s.next,s.next=t),n.interleaved=t,_c(e,r)}function ox(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Dk(e,r)}}function cP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function tw(e,t,r,n){var s=e.updateQueue;du=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(p=t,f=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){h=v.call(f,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,p=typeof v=="function"?v.call(f,h,p):v,p==null)break e;h=Ln({},h,p);break e;case 2:du=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Sh|=a,e.lanes=a,e.memoizedState=h}}function uP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(We(191,s));s.call(n)}}}var C0={},vl=cd(C0),$v=cd(C0),Bv=cd(C0);function Qd(e){if(e===C0)throw Error(We(174));return e}function Xk(e,t){switch(pn(Bv,t),pn($v,e),pn(vl,C0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:LS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=LS(t,e)}_n(vl),pn(vl,t)}function Hp(){_n(vl),_n($v),_n(Bv)}function tI(e){Qd(Bv.current);var t=Qd(vl.current),r=LS(t,e.type);t!==r&&(pn($v,e),pn(vl,r))}function eC(e){$v.current===e&&(_n(vl),_n($v))}var Tn=cd(0);function rw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var E_=[];function tC(){for(var e=0;e<E_.length;e++)E_[e]._workInProgressVersionPrimary=null;E_.length=0}var lx=Oc.ReactCurrentDispatcher,A_=Oc.ReactCurrentBatchConfig,_h=0,On=null,_s=null,Ps=null,nw=!1,dv=!1,Uv=0,iY=0;function Qs(){throw Error(We(321))}function rC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!To(e[r],t[r]))return!1;return!0}function nC(e,t,r,n,s,i){if(_h=i,On=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lx.current=e===null||e.memoizedState===null?cY:uY,e=r(n,s),dv){i=0;do{if(dv=!1,Uv=0,25<=i)throw Error(We(301));i+=1,Ps=_s=null,t.updateQueue=null,lx.current=dY,e=r(n,s)}while(dv)}if(lx.current=sw,t=_s!==null&&_s.next!==null,_h=0,Ps=_s=On=null,nw=!1,t)throw Error(We(300));return e}function sC(){var e=Uv!==0;return Uv=0,e}function rl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ps===null?On.memoizedState=Ps=e:Ps=Ps.next=e,Ps}function Ga(){if(_s===null){var e=On.alternate;e=e!==null?e.memoizedState:null}else e=_s.next;var t=Ps===null?On.memoizedState:Ps.next;if(t!==null)Ps=t,_s=e;else{if(e===null)throw Error(We(310));_s=e,e={memoizedState:_s.memoizedState,baseState:_s.baseState,baseQueue:_s.baseQueue,queue:_s.queue,next:null},Ps===null?On.memoizedState=Ps=e:Ps=Ps.next=e}return Ps}function qv(e,t){return typeof t=="function"?t(e):t}function P_(e){var t=Ga(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=_s,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((_h&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,On.lanes|=d,Sh|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,To(n,t.memoizedState)||(Ii=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,On.lanes|=i,Sh|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function T_(e){var t=Ga(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);To(i,t.memoizedState)||(Ii=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function rI(){}function nI(e,t){var r=On,n=Ga(),s=t(),i=!To(n.memoizedState,s);if(i&&(n.memoizedState=s,Ii=!0),n=n.queue,iC(aI.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ps!==null&&Ps.memoizedState.tag&1){if(r.flags|=2048,zv(9,iI.bind(null,r,n,s,t),void 0,null),Os===null)throw Error(We(349));_h&30||sI(r,t,s)}return s}function sI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=On.updateQueue,t===null?(t={lastEffect:null,stores:null},On.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function iI(e,t,r,n){t.value=r,t.getSnapshot=n,oI(t)&&lI(e)}function aI(e,t,r){return r(function(){oI(t)&&lI(e)})}function oI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!To(e,r)}catch{return!0}}function lI(e){var t=_c(e,1);t!==null&&Co(t,e,1,-1)}function dP(e){var t=rl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qv,lastRenderedState:e},t.queue=e,e=e.dispatch=lY.bind(null,On,e),[t.memoizedState,e]}function zv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=On.updateQueue,t===null?(t={lastEffect:null,stores:null},On.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function cI(){return Ga().memoizedState}function cx(e,t,r,n){var s=rl();On.flags|=e,s.memoizedState=zv(1|t,r,void 0,n===void 0?null:n)}function pb(e,t,r,n){var s=Ga();n=n===void 0?null:n;var i=void 0;if(_s!==null){var a=_s.memoizedState;if(i=a.destroy,n!==null&&rC(n,a.deps)){s.memoizedState=zv(t,r,i,n);return}}On.flags|=e,s.memoizedState=zv(1|t,r,i,n)}function hP(e,t){return cx(8390656,8,e,t)}function iC(e,t){return pb(2048,8,e,t)}function uI(e,t){return pb(4,2,e,t)}function dI(e,t){return pb(4,4,e,t)}function hI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fI(e,t,r){return r=r!=null?r.concat([e]):null,pb(4,4,hI.bind(null,t,e),r)}function aC(){}function pI(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mI(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gI(e,t,r){return _h&21?(To(r,t)||(r=b6(),On.lanes|=r,Sh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ii=!0),e.memoizedState=r)}function aY(e,t){var r=Kr;Kr=r!==0&&4>r?r:4,e(!0);var n=A_.transition;A_.transition={};try{e(!1),t()}finally{Kr=r,A_.transition=n}}function vI(){return Ga().memoizedState}function oY(e,t,r){var n=Uu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yI(e))xI(t,r);else if(r=X6(e,t,r,n),r!==null){var s=Ni();Co(r,e,n,s),wI(r,t,n)}}function lY(e,t,r){var n=Uu(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yI(e))xI(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,To(l,a)){var c=t.interleaved;c===null?(s.next=s,Qk(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=X6(e,t,s,n),r!==null&&(s=Ni(),Co(r,e,n,s),wI(r,t,n))}}function yI(e){var t=e.alternate;return e===On||t!==null&&t===On}function xI(e,t){dv=nw=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function wI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Dk(e,r)}}var sw={readContext:Ha,useCallback:Qs,useContext:Qs,useEffect:Qs,useImperativeHandle:Qs,useInsertionEffect:Qs,useLayoutEffect:Qs,useMemo:Qs,useReducer:Qs,useRef:Qs,useState:Qs,useDebugValue:Qs,useDeferredValue:Qs,useTransition:Qs,useMutableSource:Qs,useSyncExternalStore:Qs,useId:Qs,unstable_isNewReconciler:!1},cY={readContext:Ha,useCallback:function(e,t){return rl().memoizedState=[e,t===void 0?null:t],e},useContext:Ha,useEffect:hP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,cx(4194308,4,hI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return cx(4194308,4,e,t)},useInsertionEffect:function(e,t){return cx(4,2,e,t)},useMemo:function(e,t){var r=rl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=oY.bind(null,On,e),[n.memoizedState,e]},useRef:function(e){var t=rl();return e={current:e},t.memoizedState=e},useState:dP,useDebugValue:aC,useDeferredValue:function(e){return rl().memoizedState=e},useTransition:function(){var e=dP(!1),t=e[0];return e=aY.bind(null,e[1]),rl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=On,s=rl();if(kn){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),Os===null)throw Error(We(349));_h&30||sI(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,hP(aI.bind(null,n,i,e),[e]),n.flags|=2048,zv(9,iI.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=rl(),t=Os.identifierPrefix;if(kn){var r=cc,n=lc;r=(n&~(1<<32-ko(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Uv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=iY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uY={readContext:Ha,useCallback:pI,useContext:Ha,useEffect:iC,useImperativeHandle:fI,useInsertionEffect:uI,useLayoutEffect:dI,useMemo:mI,useReducer:P_,useRef:cI,useState:function(){return P_(qv)},useDebugValue:aC,useDeferredValue:function(e){var t=Ga();return gI(t,_s.memoizedState,e)},useTransition:function(){var e=P_(qv)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:rI,useSyncExternalStore:nI,useId:vI,unstable_isNewReconciler:!1},dY={readContext:Ha,useCallback:pI,useContext:Ha,useEffect:iC,useImperativeHandle:fI,useInsertionEffect:uI,useLayoutEffect:dI,useMemo:mI,useReducer:T_,useRef:cI,useState:function(){return T_(qv)},useDebugValue:aC,useDeferredValue:function(e){var t=Ga();return _s===null?t.memoizedState=e:gI(t,_s.memoizedState,e)},useTransition:function(){var e=T_(qv)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:rI,useSyncExternalStore:nI,useId:vI,unstable_isNewReconciler:!1};function go(e,t){if(e&&e.defaultProps){t=Ln({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ln({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var mb={isMounted:function(e){return(e=e._reactInternals)?Vh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ni(),s=Uu(e),i=pc(n,s);i.payload=t,r!=null&&(i.callback=r),t=$u(e,i,s),t!==null&&(Co(t,e,s,n),ox(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ni(),s=Uu(e),i=pc(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=$u(e,i,s),t!==null&&(Co(t,e,s,n),ox(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ni(),n=Uu(e),s=pc(r,n);s.tag=2,t!=null&&(s.callback=t),t=$u(e,s,n),t!==null&&(Co(t,e,n,r),ox(t,e,n))}};function fP(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Mv(r,n)||!Mv(s,i):!0}function bI(e,t,r){var n=!1,s=Qu,i=t.contextType;return typeof i=="object"&&i!==null?i=Ha(i):(s=Bi(t)?wh:oi.current,n=t.contextTypes,i=(n=n!=null)?zp(e,s):Qu),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function pP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&mb.enqueueReplaceState(t,t.state,null)}function rj(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Zk(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ha(i):(i=Bi(t)?wh:oi.current,s.context=zp(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tj(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&mb.enqueueReplaceState(s,s.state,null),tw(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Gp(e,t){try{var r="",n=t;do r+=$H(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function R_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function nj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hY=typeof WeakMap=="function"?WeakMap:Map;function _I(e,t,r){r=pc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){aw||(aw=!0,fj=n),nj(e,t)},r}function SI(e,t,r){r=pc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){nj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){nj(e,t),typeof n!="function"&&(Bu===null?Bu=new Set([this]):Bu.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function mP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new hY;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=kY.bind(null,e,t,r),t.then(e,e))}function gP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vP(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pc(-1,1),t.tag=2,$u(r,t,1))),r.lanes|=1),e)}var fY=Oc.ReactCurrentOwner,Ii=!1;function vi(e,t,r,n){t.child=e===null?Z6(t,null,r,n):Wp(t,e.child,r,n)}function yP(e,t,r,n,s){r=r.render;var i=t.ref;return dp(t,s),n=nC(e,t,r,n,i,s),r=sC(),e!==null&&!Ii?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sc(e,t,s)):(kn&&r&&Wk(t),t.flags|=1,vi(e,t,n,s),t.child)}function xP(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!pC(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,jI(e,t,i,n,s)):(e=fx(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Mv,r(a,n)&&e.ref===t.ref)return Sc(e,t,s)}return t.flags|=1,e=qu(i,n),e.ref=t.ref,e.return=t,t.child=e}function jI(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Mv(i,n)&&e.ref===t.ref)if(Ii=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ii=!0);else return t.lanes=e.lanes,Sc(e,t,s)}return sj(e,t,r,n,s)}function NI(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(rp,sa),sa|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pn(rp,sa),sa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pn(rp,sa),sa|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,pn(rp,sa),sa|=n;return vi(e,t,s,r),t.child}function kI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sj(e,t,r,n,s){var i=Bi(r)?wh:oi.current;return i=zp(t,i),dp(t,s),r=nC(e,t,r,n,i,s),n=sC(),e!==null&&!Ii?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sc(e,t,s)):(kn&&n&&Wk(t),t.flags|=1,vi(e,t,r,s),t.child)}function wP(e,t,r,n,s){if(Bi(r)){var i=!0;Jx(t)}else i=!1;if(dp(t,s),t.stateNode===null)ux(e,t),bI(t,r,n),rj(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ha(u):(u=Bi(r)?wh:oi.current,u=zp(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&pP(t,a,n,u),du=!1;var p=t.memoizedState;a.state=p,tw(t,n,a,s),c=t.memoizedState,l!==n||p!==c||$i.current||du?(typeof d=="function"&&(tj(t,r,d,n),c=t.memoizedState),(l=du||fP(t,r,l,n,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,eI(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:go(t.type,l),a.props=u,h=t.pendingProps,p=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ha(c):(c=Bi(r)?wh:oi.current,c=zp(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==c)&&pP(t,a,n,c),du=!1,p=t.memoizedState,a.state=p,tw(t,n,a,s);var v=t.memoizedState;l!==h||p!==v||$i.current||du?(typeof f=="function"&&(tj(t,r,f,n),v=t.memoizedState),(u=du||fP(t,r,u,n,p,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return ij(e,t,r,n,i,s)}function ij(e,t,r,n,s,i){kI(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&iP(t,r,!1),Sc(e,t,i);n=t.stateNode,fY.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Wp(t,e.child,null,i),t.child=Wp(t,null,l,i)):vi(e,t,l,i),t.memoizedState=n.state,s&&iP(t,r,!0),t.child}function CI(e){var t=e.stateNode;t.pendingContext?sP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sP(e,t.context,!1),Xk(e,t.containerInfo)}function bP(e,t,r,n,s){return Vp(),Gk(s),t.flags|=256,vi(e,t,r,n),t.child}var aj={dehydrated:null,treeContext:null,retryLane:0};function oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function EI(e,t,r){var n=t.pendingProps,s=Tn.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pn(Tn,s&1),e===null)return XS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=yb(a,n,0,null),e=ph(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=oj(r),t.memoizedState=aj,e):oC(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pY(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=qu(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=qu(l,i):(i=ph(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?oj(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=aj,n}return i=e.child,e=i.sibling,n=qu(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function oC(e,t){return t=yb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function d1(e,t,r,n){return n!==null&&Gk(n),Wp(t,e.child,null,r),e=oC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pY(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=R_(Error(We(422))),d1(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=yb({mode:"visible",children:n.children},s,0,null),i=ph(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Wp(t,e.child,null,a),t.child.memoizedState=oj(a),t.memoizedState=aj,i);if(!(t.mode&1))return d1(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(We(419)),n=R_(i,n,void 0),d1(e,t,a,n)}if(l=(a&e.childLanes)!==0,Ii||l){if(n=Os,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_c(e,s),Co(n,e,s,-1))}return fC(),n=R_(Error(We(421))),d1(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=CY.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ca=Fu(s.nextSibling),fa=t,kn=!0,_o=null,e!==null&&(La[Ma++]=lc,La[Ma++]=cc,La[Ma++]=bh,lc=e.id,cc=e.overflow,bh=t),t=oC(t,n.children),t.flags|=4096,t)}function _P(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ej(e.return,t,r)}function O_(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function AI(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(vi(e,t,n.children,r),n=Tn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_P(e,r,t);else if(e.tag===19)_P(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pn(Tn,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&rw(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),O_(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&rw(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}O_(t,!0,r,null,i);break;case"together":O_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ux(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=qu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mY(e,t,r){switch(t.tag){case 3:CI(t),Vp();break;case 5:tI(t);break;case 1:Bi(t.type)&&Jx(t);break;case 4:Xk(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;pn(Xx,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pn(Tn,Tn.current&1),t.flags|=128,null):r&t.child.childLanes?EI(e,t,r):(pn(Tn,Tn.current&1),e=Sc(e,t,r),e!==null?e.sibling:null);pn(Tn,Tn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return AI(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pn(Tn,Tn.current),n)break;return null;case 22:case 23:return t.lanes=0,NI(e,t,r)}return Sc(e,t,r)}var PI,lj,TI,RI;PI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lj=function(){};TI=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Qd(vl.current);var i=null;switch(r){case"input":s=PS(e,s),n=PS(e,n),i=[];break;case"select":s=Ln({},s,{value:void 0}),n=Ln({},n,{value:void 0}),i=[];break;case"textarea":s=OS(e,s),n=OS(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yx)}MS(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ev.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ev.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&wn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};RI=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ag(e,t){if(!kn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gY(e,t,r){var n=t.pendingProps;switch(Hk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(t),null;case 1:return Bi(t.type)&&Kx(),Zs(t),null;case 3:return n=t.stateNode,Hp(),_n($i),_n(oi),tC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(c1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_o!==null&&(gj(_o),_o=null))),lj(e,t),Zs(t),null;case 5:eC(t);var s=Qd(Bv.current);if(r=t.type,e!==null&&t.stateNode!=null)TI(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(We(166));return Zs(t),null}if(e=Qd(vl.current),c1(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[cl]=t,n[Fv]=i,e=(t.mode&1)!==0,r){case"dialog":wn("cancel",n),wn("close",n);break;case"iframe":case"object":case"embed":wn("load",n);break;case"video":case"audio":for(s=0;s<Hg.length;s++)wn(Hg[s],n);break;case"source":wn("error",n);break;case"img":case"image":case"link":wn("error",n),wn("load",n);break;case"details":wn("toggle",n);break;case"input":T4(n,i),wn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},wn("invalid",n);break;case"textarea":O4(n,i),wn("invalid",n)}MS(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&l1(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&l1(n.textContent,l,e),s=["children",""+l]):Ev.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&wn("scroll",n)}switch(r){case"input":e1(n),R4(n,i,!0);break;case"textarea":e1(n),L4(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Yx)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a6(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[cl]=t,e[Fv]=n,PI(e,t,!1,!1),t.stateNode=e;e:{switch(a=IS(r,n),r){case"dialog":wn("cancel",e),wn("close",e),s=n;break;case"iframe":case"object":case"embed":wn("load",e),s=n;break;case"video":case"audio":for(s=0;s<Hg.length;s++)wn(Hg[s],e);s=n;break;case"source":wn("error",e),s=n;break;case"img":case"image":case"link":wn("error",e),wn("load",e),s=n;break;case"details":wn("toggle",e),s=n;break;case"input":T4(e,n),s=PS(e,n),wn("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ln({},n,{value:void 0}),wn("invalid",e);break;case"textarea":O4(e,n),s=OS(e,n),wn("invalid",e);break;default:s=n}MS(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?c6(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&o6(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Av(e,c):typeof c=="number"&&Av(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ev.hasOwnProperty(i)?c!=null&&i==="onScroll"&&wn("scroll",e):c!=null&&Tk(e,i,c,a))}switch(r){case"input":e1(e),R4(e,n,!1);break;case"textarea":e1(e),L4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ju(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?op(e,!!n.multiple,i,!1):n.defaultValue!=null&&op(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zs(t),null;case 6:if(e&&t.stateNode!=null)RI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(We(166));if(r=Qd(Bv.current),Qd(vl.current),c1(t)){if(n=t.stateNode,r=t.memoizedProps,n[cl]=t,(i=n.nodeValue!==r)&&(e=fa,e!==null))switch(e.tag){case 3:l1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&l1(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cl]=t,t.stateNode=n}return Zs(t),null;case 13:if(_n(Tn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kn&&ca!==null&&t.mode&1&&!(t.flags&128))J6(),Vp(),t.flags|=98560,i=!1;else if(i=c1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(We(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(We(317));i[cl]=t}else Vp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zs(t),i=!1}else _o!==null&&(gj(_o),_o=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Tn.current&1?js===0&&(js=3):fC())),t.updateQueue!==null&&(t.flags|=4),Zs(t),null);case 4:return Hp(),lj(e,t),e===null&&Iv(t.stateNode.containerInfo),Zs(t),null;case 10:return Jk(t.type._context),Zs(t),null;case 17:return Bi(t.type)&&Kx(),Zs(t),null;case 19:if(_n(Tn),i=t.memoizedState,i===null)return Zs(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Ag(i,!1);else{if(js!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=rw(e),a!==null){for(t.flags|=128,Ag(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pn(Tn,Tn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xn()>Yp&&(t.flags|=128,n=!0,Ag(i,!1),t.lanes=4194304)}else{if(!n)if(e=rw(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ag(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!kn)return Zs(t),null}else 2*Xn()-i.renderingStartTime>Yp&&r!==1073741824&&(t.flags|=128,n=!0,Ag(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xn(),t.sibling=null,r=Tn.current,pn(Tn,n?r&1|2:r&1),t):(Zs(t),null);case 22:case 23:return hC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?sa&1073741824&&(Zs(t),t.subtreeFlags&6&&(t.flags|=8192)):Zs(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function vY(e,t){switch(Hk(t),t.tag){case 1:return Bi(t.type)&&Kx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hp(),_n($i),_n(oi),tC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return eC(t),null;case 13:if(_n(Tn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));Vp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _n(Tn),null;case 4:return Hp(),null;case 10:return Jk(t.type._context),null;case 22:case 23:return hC(),null;case 24:return null;default:return null}}var h1=!1,si=!1,yY=typeof WeakSet=="function"?WeakSet:Set,ot=null;function tp(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Wn(e,t,n)}else r.current=null}function cj(e,t,r){try{r()}catch(n){Wn(e,t,n)}}var SP=!1;function xY(e,t){if(HS=Wx,e=D6(),Vk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++u===s&&(l=a),p===i&&++d===n&&(c=a),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(GS={focusedElem:e,selectionRange:r},Wx=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,x=v.memoizedState,g=t.stateNode,w=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:go(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(k){Wn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return v=SP,SP=!1,v}function hv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&cj(t,r,i)}s=s.next}while(s!==n)}}function gb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function OI(e){var t=e.alternate;t!==null&&(e.alternate=null,OI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cl],delete t[Fv],delete t[JS],delete t[tY],delete t[rY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function LI(e){return e.tag===5||e.tag===3||e.tag===4}function jP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||LI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yx));else if(n!==4&&(e=e.child,e!==null))for(dj(e,t,r),e=e.sibling;e!==null;)dj(e,t,r),e=e.sibling}function hj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hj(e,t,r),e=e.sibling;e!==null;)hj(e,t,r),e=e.sibling}var Vs=null,wo=!1;function Xc(e,t,r){for(r=r.child;r!==null;)MI(e,t,r),r=r.sibling}function MI(e,t,r){if(gl&&typeof gl.onCommitFiberUnmount=="function")try{gl.onCommitFiberUnmount(lb,r)}catch{}switch(r.tag){case 5:si||tp(r,t);case 6:var n=Vs,s=wo;Vs=null,Xc(e,t,r),Vs=n,wo=s,Vs!==null&&(wo?(e=Vs,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vs.removeChild(r.stateNode));break;case 18:Vs!==null&&(wo?(e=Vs,r=r.stateNode,e.nodeType===8?k_(e.parentNode,r):e.nodeType===1&&k_(e,r),Ov(e)):k_(Vs,r.stateNode));break;case 4:n=Vs,s=wo,Vs=r.stateNode.containerInfo,wo=!0,Xc(e,t,r),Vs=n,wo=s;break;case 0:case 11:case 14:case 15:if(!si&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&cj(r,t,a),s=s.next}while(s!==n)}Xc(e,t,r);break;case 1:if(!si&&(tp(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Wn(r,t,l)}Xc(e,t,r);break;case 21:Xc(e,t,r);break;case 22:r.mode&1?(si=(n=si)||r.memoizedState!==null,Xc(e,t,r),si=n):Xc(e,t,r);break;default:Xc(e,t,r)}}function NP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yY),t.forEach(function(n){var s=EY.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function lo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Vs=l.stateNode,wo=!1;break e;case 3:Vs=l.stateNode.containerInfo,wo=!0;break e;case 4:Vs=l.stateNode.containerInfo,wo=!0;break e}l=l.return}if(Vs===null)throw Error(We(160));MI(i,a,s),Vs=null,wo=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Wn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)II(t,e),t=t.sibling}function II(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lo(t,e),Xo(e),n&4){try{hv(3,e,e.return),gb(3,e)}catch(m){Wn(e,e.return,m)}try{hv(5,e,e.return)}catch(m){Wn(e,e.return,m)}}break;case 1:lo(t,e),Xo(e),n&512&&r!==null&&tp(r,r.return);break;case 5:if(lo(t,e),Xo(e),n&512&&r!==null&&tp(r,r.return),e.flags&32){var s=e.stateNode;try{Av(s,"")}catch(m){Wn(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&s6(s,i),IS(l,a);var u=IS(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?c6(s,h):d==="dangerouslySetInnerHTML"?o6(s,h):d==="children"?Av(s,h):Tk(s,d,h,u)}switch(l){case"input":TS(s,i);break;case"textarea":i6(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?op(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?op(s,!!i.multiple,i.defaultValue,!0):op(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fv]=i}catch(m){Wn(e,e.return,m)}}break;case 6:if(lo(t,e),Xo(e),n&4){if(e.stateNode===null)throw Error(We(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Wn(e,e.return,m)}}break;case 3:if(lo(t,e),Xo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ov(t.containerInfo)}catch(m){Wn(e,e.return,m)}break;case 4:lo(t,e),Xo(e);break;case 13:lo(t,e),Xo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uC=Xn())),n&4&&NP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(si=(u=si)||d,lo(t,e),si=u):lo(t,e),Xo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ot=e,d=e.child;d!==null;){for(h=ot=d;ot!==null;){switch(p=ot,f=p.child,p.tag){case 0:case 11:case 14:case 15:hv(4,p,p.return);break;case 1:tp(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Wn(n,r,m)}}break;case 5:tp(p,p.return);break;case 22:if(p.memoizedState!==null){CP(h);continue}}f!==null?(f.return=p,ot=f):CP(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=l6("display",a))}catch(m){Wn(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Wn(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:lo(t,e),Xo(e),n&4&&NP(e);break;case 21:break;default:lo(t,e),Xo(e)}}function Xo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(LI(r)){var n=r;break e}r=r.return}throw Error(We(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Av(s,""),n.flags&=-33);var i=jP(e);hj(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=jP(e);dj(e,l,a);break;default:throw Error(We(161))}}catch(c){Wn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wY(e,t,r){ot=e,DI(e)}function DI(e,t,r){for(var n=(e.mode&1)!==0;ot!==null;){var s=ot,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||h1;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||si;l=h1;var u=si;if(h1=a,(si=c)&&!u)for(ot=s;ot!==null;)a=ot,c=a.child,a.tag===22&&a.memoizedState!==null?EP(s):c!==null?(c.return=a,ot=c):EP(s);for(;i!==null;)ot=i,DI(i),i=i.sibling;ot=s,h1=l,si=u}kP(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ot=i):kP(e)}}function kP(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:si||gb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!si)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:go(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&uP(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uP(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ov(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}si||t.flags&512&&uj(t)}catch(p){Wn(t,t.return,p)}}if(t===e){ot=null;break}if(r=t.sibling,r!==null){r.return=t.return,ot=r;break}ot=t.return}}function CP(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ot=r;break}ot=t.return}}function EP(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gb(4,t)}catch(c){Wn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Wn(t,s,c)}}var i=t.return;try{uj(t)}catch(c){Wn(t,i,c)}break;case 5:var a=t.return;try{uj(t)}catch(c){Wn(t,a,c)}}}catch(c){Wn(t,t.return,c)}if(t===e){ot=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ot=l;break}ot=t.return}}var bY=Math.ceil,iw=Oc.ReactCurrentDispatcher,lC=Oc.ReactCurrentOwner,Ba=Oc.ReactCurrentBatchConfig,Ar=0,Os=null,us=null,Hs=0,sa=0,rp=cd(0),js=0,Vv=null,Sh=0,vb=0,cC=0,fv=null,Mi=null,uC=0,Yp=1/0,Zl=null,aw=!1,fj=null,Bu=null,f1=!1,Tu=null,ow=0,pv=0,pj=null,dx=-1,hx=0;function Ni(){return Ar&6?Xn():dx!==-1?dx:dx=Xn()}function Uu(e){return e.mode&1?Ar&2&&Hs!==0?Hs&-Hs:sY.transition!==null?(hx===0&&(hx=b6()),hx):(e=Kr,e!==0||(e=window.event,e=e===void 0?16:E6(e.type)),e):1}function Co(e,t,r,n){if(50<pv)throw pv=0,pj=null,Error(We(185));j0(e,r,n),(!(Ar&2)||e!==Os)&&(e===Os&&(!(Ar&2)&&(vb|=r),js===4&&gu(e,Hs)),Ui(e,n),r===1&&Ar===0&&!(t.mode&1)&&(Yp=Xn()+500,fb&&ud()))}function Ui(e,t){var r=e.callbackNode;sG(e,t);var n=Vx(e,e===Os?Hs:0);if(n===0)r!==null&&D4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&D4(r),t===1)e.tag===0?nY(AP.bind(null,e)):G6(AP.bind(null,e)),XG(function(){!(Ar&6)&&ud()}),r=null;else{switch(_6(n)){case 1:r=Ik;break;case 4:r=x6;break;case 16:r=zx;break;case 536870912:r=w6;break;default:r=zx}r=WI(r,FI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function FI(e,t){if(dx=-1,hx=0,Ar&6)throw Error(We(327));var r=e.callbackNode;if(hp()&&e.callbackNode!==r)return null;var n=Vx(e,e===Os?Hs:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lw(e,n);else{t=n;var s=Ar;Ar|=2;var i=BI();(Os!==e||Hs!==t)&&(Zl=null,Yp=Xn()+500,fh(e,t));do try{jY();break}catch(l){$I(e,l)}while(!0);Kk(),iw.current=i,Ar=s,us!==null?t=0:(Os=null,Hs=0,t=js)}if(t!==0){if(t===2&&(s=US(e),s!==0&&(n=s,t=mj(e,s))),t===1)throw r=Vv,fh(e,0),gu(e,n),Ui(e,Xn()),r;if(t===6)gu(e,n);else{if(s=e.current.alternate,!(n&30)&&!_Y(s)&&(t=lw(e,n),t===2&&(i=US(e),i!==0&&(n=i,t=mj(e,i))),t===1))throw r=Vv,fh(e,0),gu(e,n),Ui(e,Xn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(We(345));case 2:Ud(e,Mi,Zl);break;case 3:if(gu(e,n),(n&130023424)===n&&(t=uC+500-Xn(),10<t)){if(Vx(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ni(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=KS(Ud.bind(null,e,Mi,Zl),t);break}Ud(e,Mi,Zl);break;case 4:if(gu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-ko(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Xn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bY(n/1960))-n,10<n){e.timeoutHandle=KS(Ud.bind(null,e,Mi,Zl),n);break}Ud(e,Mi,Zl);break;case 5:Ud(e,Mi,Zl);break;default:throw Error(We(329))}}}return Ui(e,Xn()),e.callbackNode===r?FI.bind(null,e):null}function mj(e,t){var r=fv;return e.current.memoizedState.isDehydrated&&(fh(e,t).flags|=256),e=lw(e,t),e!==2&&(t=Mi,Mi=r,t!==null&&gj(t)),e}function gj(e){Mi===null?Mi=e:Mi.push.apply(Mi,e)}function _Y(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!To(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gu(e,t){for(t&=~cC,t&=~vb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ko(t),n=1<<r;e[r]=-1,t&=~n}}function AP(e){if(Ar&6)throw Error(We(327));hp();var t=Vx(e,0);if(!(t&1))return Ui(e,Xn()),null;var r=lw(e,t);if(e.tag!==0&&r===2){var n=US(e);n!==0&&(t=n,r=mj(e,n))}if(r===1)throw r=Vv,fh(e,0),gu(e,t),Ui(e,Xn()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ud(e,Mi,Zl),Ui(e,Xn()),null}function dC(e,t){var r=Ar;Ar|=1;try{return e(t)}finally{Ar=r,Ar===0&&(Yp=Xn()+500,fb&&ud())}}function jh(e){Tu!==null&&Tu.tag===0&&!(Ar&6)&&hp();var t=Ar;Ar|=1;var r=Ba.transition,n=Kr;try{if(Ba.transition=null,Kr=1,e)return e()}finally{Kr=n,Ba.transition=r,Ar=t,!(Ar&6)&&ud()}}function hC(){sa=rp.current,_n(rp)}function fh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ZG(r)),us!==null)for(r=us.return;r!==null;){var n=r;switch(Hk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kx();break;case 3:Hp(),_n($i),_n(oi),tC();break;case 5:eC(n);break;case 4:Hp();break;case 13:_n(Tn);break;case 19:_n(Tn);break;case 10:Jk(n.type._context);break;case 22:case 23:hC()}r=r.return}if(Os=e,us=e=qu(e.current,null),Hs=sa=t,js=0,Vv=null,cC=vb=Sh=0,Mi=fv=null,Jd!==null){for(t=0;t<Jd.length;t++)if(r=Jd[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Jd=null}return e}function $I(e,t){do{var r=us;try{if(Kk(),lx.current=sw,nw){for(var n=On.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}nw=!1}if(_h=0,Ps=_s=On=null,dv=!1,Uv=0,lC.current=null,r===null||r.return===null){js=1,Vv=t,us=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=Hs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gP(a);if(f!==null){f.flags&=-257,vP(f,a,l,i,t),f.mode&1&&mP(i,u,t),t=f,c=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){mP(i,u,t),fC();break e}c=Error(We(426))}}else if(kn&&l.mode&1){var x=gP(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),vP(x,a,l,i,t),Gk(Gp(c,l));break e}}i=c=Gp(c,l),js!==4&&(js=2),fv===null?fv=[i]:fv.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=_I(i,c,t);cP(i,g);break e;case 1:l=c;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Bu===null||!Bu.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=SI(i,l,t);cP(i,k);break e}}i=i.return}while(i!==null)}qI(r)}catch(T){t=T,us===r&&r!==null&&(us=r=r.return);continue}break}while(!0)}function BI(){var e=iw.current;return iw.current=sw,e===null?sw:e}function fC(){(js===0||js===3||js===2)&&(js=4),Os===null||!(Sh&268435455)&&!(vb&268435455)||gu(Os,Hs)}function lw(e,t){var r=Ar;Ar|=2;var n=BI();(Os!==e||Hs!==t)&&(Zl=null,fh(e,t));do try{SY();break}catch(s){$I(e,s)}while(!0);if(Kk(),Ar=r,iw.current=n,us!==null)throw Error(We(261));return Os=null,Hs=0,js}function SY(){for(;us!==null;)UI(us)}function jY(){for(;us!==null&&!KH();)UI(us)}function UI(e){var t=VI(e.alternate,e,sa);e.memoizedProps=e.pendingProps,t===null?qI(e):us=t,lC.current=null}function qI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vY(r,t),r!==null){r.flags&=32767,us=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{js=6,us=null;return}}else if(r=gY(r,t,sa),r!==null){us=r;return}if(t=t.sibling,t!==null){us=t;return}us=t=e}while(t!==null);js===0&&(js=5)}function Ud(e,t,r){var n=Kr,s=Ba.transition;try{Ba.transition=null,Kr=1,NY(e,t,r,n)}finally{Ba.transition=s,Kr=n}return null}function NY(e,t,r,n){do hp();while(Tu!==null);if(Ar&6)throw Error(We(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(iG(e,i),e===Os&&(us=Os=null,Hs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||f1||(f1=!0,WI(zx,function(){return hp(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ba.transition,Ba.transition=null;var a=Kr;Kr=1;var l=Ar;Ar|=4,lC.current=null,xY(e,r),II(r,e),WG(GS),Wx=!!HS,GS=HS=null,e.current=r,wY(r),JH(),Ar=l,Kr=a,Ba.transition=i}else e.current=r;if(f1&&(f1=!1,Tu=e,ow=s),i=e.pendingLanes,i===0&&(Bu=null),XH(r.stateNode),Ui(e,Xn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(aw)throw aw=!1,e=fj,fj=null,e;return ow&1&&e.tag!==0&&hp(),i=e.pendingLanes,i&1?e===pj?pv++:(pv=0,pj=e):pv=0,ud(),null}function hp(){if(Tu!==null){var e=_6(ow),t=Ba.transition,r=Kr;try{if(Ba.transition=null,Kr=16>e?16:e,Tu===null)var n=!1;else{if(e=Tu,Tu=null,ow=0,Ar&6)throw Error(We(331));var s=Ar;for(Ar|=4,ot=e.current;ot!==null;){var i=ot,a=i.child;if(ot.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ot=u;ot!==null;){var d=ot;switch(d.tag){case 0:case 11:case 15:hv(8,d,i)}var h=d.child;if(h!==null)h.return=d,ot=h;else for(;ot!==null;){d=ot;var p=d.sibling,f=d.return;if(OI(d),d===u){ot=null;break}if(p!==null){p.return=f,ot=p;break}ot=f}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}ot=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ot=a;else e:for(;ot!==null;){if(i=ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hv(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ot=g;break e}ot=i.return}}var w=e.current;for(ot=w;ot!==null;){a=ot;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ot=S;else e:for(a=w;ot!==null;){if(l=ot,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gb(9,l)}}catch(T){Wn(l,l.return,T)}if(l===a){ot=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ot=k;break e}ot=l.return}}if(Ar=s,ud(),gl&&typeof gl.onPostCommitFiberRoot=="function")try{gl.onPostCommitFiberRoot(lb,e)}catch{}n=!0}return n}finally{Kr=r,Ba.transition=t}}return!1}function PP(e,t,r){t=Gp(r,t),t=_I(e,t,1),e=$u(e,t,1),t=Ni(),e!==null&&(j0(e,1,t),Ui(e,t))}function Wn(e,t,r){if(e.tag===3)PP(e,e,r);else for(;t!==null;){if(t.tag===3){PP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bu===null||!Bu.has(n))){e=Gp(r,e),e=SI(t,e,1),t=$u(t,e,1),e=Ni(),t!==null&&(j0(t,1,e),Ui(t,e));break}}t=t.return}}function kY(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ni(),e.pingedLanes|=e.suspendedLanes&r,Os===e&&(Hs&r)===r&&(js===4||js===3&&(Hs&130023424)===Hs&&500>Xn()-uC?fh(e,0):cC|=r),Ui(e,t)}function zI(e,t){t===0&&(e.mode&1?(t=n1,n1<<=1,!(n1&130023424)&&(n1=4194304)):t=1);var r=Ni();e=_c(e,t),e!==null&&(j0(e,t,r),Ui(e,r))}function CY(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),zI(e,r)}function EY(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(We(314))}n!==null&&n.delete(t),zI(e,r)}var VI;VI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$i.current)Ii=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ii=!1,mY(e,t,r);Ii=!!(e.flags&131072)}else Ii=!1,kn&&t.flags&1048576&&Y6(t,Zx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ux(e,t),e=t.pendingProps;var s=zp(t,oi.current);dp(t,r),s=nC(null,t,n,e,s,r);var i=sC();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(n)?(i=!0,Jx(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zk(t),s.updater=mb,t.stateNode=s,s._reactInternals=t,rj(t,n,e,r),t=ij(null,t,n,!0,i,r)):(t.tag=0,kn&&i&&Wk(t),vi(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ux(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=PY(n),e=go(n,e),s){case 0:t=sj(null,t,n,e,r);break e;case 1:t=wP(null,t,n,e,r);break e;case 11:t=yP(null,t,n,e,r);break e;case 14:t=xP(null,t,n,go(n.type,e),r);break e}throw Error(We(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:go(n,s),sj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:go(n,s),wP(e,t,n,s,r);case 3:e:{if(CI(t),e===null)throw Error(We(387));n=t.pendingProps,i=t.memoizedState,s=i.element,eI(e,t),tw(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Gp(Error(We(423)),t),t=bP(e,t,n,r,s);break e}else if(n!==s){s=Gp(Error(We(424)),t),t=bP(e,t,n,r,s);break e}else for(ca=Fu(t.stateNode.containerInfo.firstChild),fa=t,kn=!0,_o=null,r=Z6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vp(),n===s){t=Sc(e,t,r);break e}vi(e,t,n,r)}t=t.child}return t;case 5:return tI(t),e===null&&XS(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,YS(n,s)?a=null:i!==null&&YS(n,i)&&(t.flags|=32),kI(e,t),vi(e,t,a,r),t.child;case 6:return e===null&&XS(t),null;case 13:return EI(e,t,r);case 4:return Xk(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wp(t,null,n,r):vi(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:go(n,s),yP(e,t,n,s,r);case 7:return vi(e,t,t.pendingProps,r),t.child;case 8:return vi(e,t,t.pendingProps.children,r),t.child;case 12:return vi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,pn(Xx,n._currentValue),n._currentValue=a,i!==null)if(To(i.value,a)){if(i.children===s.children&&!$i.current){t=Sc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=pc(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ej(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(We(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ej(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}vi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,dp(t,r),s=Ha(s),n=n(s),t.flags|=1,vi(e,t,n,r),t.child;case 14:return n=t.type,s=go(n,t.pendingProps),s=go(n.type,s),xP(e,t,n,s,r);case 15:return jI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:go(n,s),ux(e,t),t.tag=1,Bi(n)?(e=!0,Jx(t)):e=!1,dp(t,r),bI(t,n,s),rj(t,n,s,r),ij(null,t,n,!0,e,r);case 19:return AI(e,t,r);case 22:return NI(e,t,r)}throw Error(We(156,t.tag))};function WI(e,t){return y6(e,t)}function AY(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Da(e,t,r,n){return new AY(e,t,r,n)}function pC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PY(e){if(typeof e=="function")return pC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ok)return 11;if(e===Lk)return 14}return 2}function qu(e,t){var r=e.alternate;return r===null?(r=Da(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fx(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")pC(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Hf:return ph(r.children,s,i,t);case Rk:a=8,s|=8;break;case kS:return e=Da(12,r,t,s|2),e.elementType=kS,e.lanes=i,e;case CS:return e=Da(13,r,t,s),e.elementType=CS,e.lanes=i,e;case ES:return e=Da(19,r,t,s),e.elementType=ES,e.lanes=i,e;case t6:return yb(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case XM:a=10;break e;case e6:a=9;break e;case Ok:a=11;break e;case Lk:a=14;break e;case uu:a=16,n=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Da(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ph(e,t,r,n){return e=Da(7,e,n,t),e.lanes=r,e}function yb(e,t,r,n){return e=Da(22,e,n,t),e.elementType=t6,e.lanes=r,e.stateNode={isHidden:!1},e}function L_(e,t,r){return e=Da(6,e,null,t),e.lanes=r,e}function M_(e,t,r){return t=Da(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function TY(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=m_(0),this.expirationTimes=m_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=m_(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mC(e,t,r,n,s,i,a,l,c){return e=new TY(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Da(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zk(i),e}function RY(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function HI(e){if(!e)return Qu;e=e._reactInternals;e:{if(Vh(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(Bi(r))return H6(e,r,t)}return t}function GI(e,t,r,n,s,i,a,l,c){return e=mC(r,n,!0,e,s,i,a,l,c),e.context=HI(null),r=e.current,n=Ni(),s=Uu(r),i=pc(n,s),i.callback=t??null,$u(r,i,s),e.current.lanes=s,j0(e,s,n),Ui(e,n),e}function xb(e,t,r,n){var s=t.current,i=Ni(),a=Uu(s);return r=HI(r),t.context===null?t.context=r:t.pendingContext=r,t=pc(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$u(s,t,a),e!==null&&(Co(e,s,a,i),ox(e,s,a)),a}function cw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function TP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gC(e,t){TP(e,t),(e=e.alternate)&&TP(e,t)}function OY(){return null}var YI=typeof reportError=="function"?reportError:function(e){console.error(e)};function vC(e){this._internalRoot=e}wb.prototype.render=vC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));xb(e,t,null,null)};wb.prototype.unmount=vC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jh(function(){xb(null,e,null,null)}),t[bc]=null}};function wb(e){this._internalRoot=e}wb.prototype.unstable_scheduleHydration=function(e){if(e){var t=N6();e={blockedOn:null,target:e,priority:t};for(var r=0;r<mu.length&&t!==0&&t<mu[r].priority;r++);mu.splice(r,0,e),r===0&&C6(e)}};function yC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function RP(){}function LY(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=cw(a);i.call(u)}}var a=GI(t,n,e,0,null,!1,!1,"",RP);return e._reactRootContainer=a,e[bc]=a.current,Iv(e.nodeType===8?e.parentNode:e),jh(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=cw(c);l.call(u)}}var c=mC(e,0,!1,null,null,!1,!1,"",RP);return e._reactRootContainer=c,e[bc]=c.current,Iv(e.nodeType===8?e.parentNode:e),jh(function(){xb(t,c,r,n)}),c}function _b(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=cw(a);l.call(c)}}xb(t,a,e,s)}else a=LY(r,t,e,s,n);return cw(a)}S6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wg(t.pendingLanes);r!==0&&(Dk(t,r|1),Ui(t,Xn()),!(Ar&6)&&(Yp=Xn()+500,ud()))}break;case 13:jh(function(){var n=_c(e,1);if(n!==null){var s=Ni();Co(n,e,1,s)}}),gC(e,1)}};Fk=function(e){if(e.tag===13){var t=_c(e,134217728);if(t!==null){var r=Ni();Co(t,e,134217728,r)}gC(e,134217728)}};j6=function(e){if(e.tag===13){var t=Uu(e),r=_c(e,t);if(r!==null){var n=Ni();Co(r,e,t,n)}gC(e,t)}};N6=function(){return Kr};k6=function(e,t){var r=Kr;try{return Kr=e,t()}finally{Kr=r}};FS=function(e,t,r){switch(t){case"input":if(TS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=hb(n);if(!s)throw Error(We(90));n6(n),TS(n,s)}}}break;case"textarea":i6(e,r);break;case"select":t=r.value,t!=null&&op(e,!!r.multiple,t,!1)}};h6=dC;f6=jh;var MY={usingClientEntryPoint:!1,Events:[k0,Jf,hb,u6,d6,dC]},Pg={findFiberByHostInstance:Kd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IY={bundleType:Pg.bundleType,version:Pg.version,rendererPackageName:Pg.rendererPackageName,rendererConfig:Pg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=g6(e),e===null?null:e.stateNode},findFiberByHostInstance:Pg.findFiberByHostInstance||OY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p1.isDisabled&&p1.supportsFiber)try{lb=p1.inject(IY),gl=p1}catch{}}xa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MY;xa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yC(t))throw Error(We(200));return RY(e,t,null,r)};xa.createRoot=function(e,t){if(!yC(e))throw Error(We(299));var r=!1,n="",s=YI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=mC(e,1,!1,null,null,r,!1,n,s),e[bc]=t.current,Iv(e.nodeType===8?e.parentNode:e),new vC(t)};xa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=g6(t),e=e===null?null:e.stateNode,e};xa.flushSync=function(e){return jh(e)};xa.hydrate=function(e,t,r){if(!bb(t))throw Error(We(200));return _b(null,e,t,!0,r)};xa.hydrateRoot=function(e,t,r){if(!yC(e))throw Error(We(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=YI;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=GI(t,null,e,1,r??null,s,!1,i,a),e[bc]=t.current,Iv(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new wb(t)};xa.render=function(e,t,r){if(!bb(t))throw Error(We(200));return _b(null,e,t,!1,r)};xa.unmountComponentAtNode=function(e){if(!bb(e))throw Error(We(40));return e._reactRootContainer?(jh(function(){_b(null,null,e,!1,function(){e._reactRootContainer=null,e[bc]=null})}),!0):!1};xa.unstable_batchedUpdates=dC;xa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bb(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return _b(e,t,r,!1,n)};xa.version="18.3.1-next-f1338f8080-20240426";function KI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KI)}catch(e){console.error(e)}}KI(),KM.exports=xa;var Wh=KM.exports;const JI=DM(Wh);var QI,OP=Wh;QI=OP.createRoot,OP.hydrateRoot;const DY=1,FY=1e6;let I_=0;function $Y(){return I_=(I_+1)%Number.MAX_SAFE_INTEGER,I_.toString()}const D_=new Map,LP=e=>{if(D_.has(e))return;const t=setTimeout(()=>{D_.delete(e),mv({type:"REMOVE_TOAST",toastId:e})},FY);D_.set(e,t)},BY=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,DY)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?LP(r):e.toasts.forEach(n=>{LP(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},px=[];let mx={toasts:[]};function mv(e){mx=BY(mx,e),px.forEach(t=>{t(mx)})}function Jr({...e}){const t=$Y(),r=s=>mv({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>mv({type:"DISMISS_TOAST",toastId:t});return mv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function E0(){const[e,t]=_.useState(mx);return _.useEffect(()=>(px.push(t),()=>{const r=px.indexOf(t);r>-1&&px.splice(r,1)}),[e]),{...e,toast:Jr,dismiss:r=>mv({type:"DISMISS_TOAST",toastId:r})}}function dt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function MP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function A0(...e){return t=>{let r=!1;const n=e.map(s=>{const i=MP(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():MP(e[s],null)}}}}function Tt(...e){return _.useCallback(A0(...e),e)}function UY(e,t){const r=_.createContext(t),n=i=>{const{children:a,...l}=i,c=_.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(i){const a=_.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function fs(e,t=[]){let r=[];function n(i,a){const l=_.createContext(a),c=r.length;r=[...r,a];const u=h=>{var g;const{scope:p,children:f,...v}=h,m=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,x=_.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:x,children:f})};u.displayName=i+"Provider";function d(h,p){var m;const f=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,v=_.useContext(f);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>_.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,qY(s,...t)]}function qY(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function Zu(e){const t=zY(e),r=_.forwardRef((n,s)=>{const{children:i,...a}=n,l=_.Children.toArray(i),c=l.find(VY);if(c){const u=c.props.children,d=l.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var ZI=Zu("Slot");function zY(e){const t=_.forwardRef((r,n)=>{const{children:s,...i}=r;if(_.isValidElement(s)){const a=HY(s),l=WY(i,s.props);return s.type!==_.Fragment&&(l.ref=n?A0(n,a):a),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var XI=Symbol("radix.slottable");function eD(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=XI,t}function VY(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===XI}function WY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function HY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _m(e){const t=e+"CollectionProvider",[r,n]=fs(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:x,children:g}=m,w=Re.useRef(null),S=Re.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:S,collectionRef:w,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=Zu(l),u=Re.forwardRef((m,x)=>{const{scope:g,children:w}=m,S=i(l,g),k=Tt(x,S.collectionRef);return o.jsx(c,{ref:k,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=Zu(d),f=Re.forwardRef((m,x)=>{const{scope:g,children:w,...S}=m,k=Re.useRef(null),T=Tt(x,k),R=i(d,g);return Re.useEffect(()=>(R.itemMap.set(k,{ref:k,...S}),()=>void R.itemMap.delete(k))),o.jsx(p,{[h]:"",ref:T,children:w})});f.displayName=d;function v(m){const x=i(e+"CollectionConsumer",m);return Re.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((R,L)=>S.indexOf(R.ref.current)-S.indexOf(L.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:f},v,n]}var GY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=GY.reduce((e,t)=>{const r=Zu(`Primitive.${t}`),n=_.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Sb(e,t){e&&Wh.flushSync(()=>e.dispatchEvent(t))}function an(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function tD(e,t=globalThis==null?void 0:globalThis.document){const r=an(e);_.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var YY="DismissableLayer",vj="dismissableLayer.update",KY="dismissableLayer.pointerDownOutside",JY="dismissableLayer.focusOutside",IP,rD=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sm=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=_.useContext(rD),[d,h]=_.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=_.useState({}),v=Tt(t,L=>h(L)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),w=d?m.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=w>=g,T=ZY(L=>{const D=L.target,M=[...u.branches].some(G=>G.contains(D));!k||M||(s==null||s(L),a==null||a(L),L.defaultPrevented||l==null||l())},p),R=XY(L=>{const D=L.target;[...u.branches].some(G=>G.contains(D))||(i==null||i(L),a==null||a(L),L.defaultPrevented||l==null||l())},p);return tD(L=>{w===u.layers.size-1&&(n==null||n(L),!L.defaultPrevented&&l&&(L.preventDefault(),l()))},p),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(IP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),DP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=IP)}},[d,p,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),DP())},[d,u]),_.useEffect(()=>{const L=()=>f({});return document.addEventListener(vj,L),()=>document.removeEventListener(vj,L)},[]),o.jsx(it.div,{...c,ref:v,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,R.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,T.onPointerDownCapture)})});Sm.displayName=YY;var QY="DismissableLayerBranch",nD=_.forwardRef((e,t)=>{const r=_.useContext(rD),n=_.useRef(null),s=Tt(t,n);return _.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(it.div,{...e,ref:s})});nD.displayName=QY;function ZY(e,t=globalThis==null?void 0:globalThis.document){const r=an(e),n=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){sD(KY,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function XY(e,t=globalThis==null?void 0:globalThis.document){const r=an(e),n=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!n.current&&sD(JY,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function DP(){const e=new CustomEvent(vj);document.dispatchEvent(e)}function sD(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Sb(s,i):s.dispatchEvent(i)}var eK=Sm,tK=nD,ln=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},rK="Portal",jm=_.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=_.useState(!1);ln(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?JI.createPortal(o.jsx(it.div,{...n,ref:t}),a):null});jm.displayName=rK;function nK(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var ba=e=>{const{present:t,children:r}=e,n=sK(t),s=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=Tt(n.ref,iK(s));return typeof r=="function"||n.isPresent?_.cloneElement(s,{ref:i}):null};ba.displayName="Presence";function sK(e){const[t,r]=_.useState(),n=_.useRef(null),s=_.useRef(e),i=_.useRef("none"),a=e?"mounted":"unmounted",[l,c]=nK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=m1(n.current);i.current=l==="mounted"?u:"none"},[l]),ln(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=m1(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ln(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=m1(n.current).includes(f.animationName);if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=f=>{f.target===t&&(i.current=m1(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function m1(e){return(e==null?void 0:e.animationName)||"none"}function iK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aK=Ek[" useInsertionEffect ".trim().toString()]||ln;function Ya({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,a]=oK({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=_.useRef(e!==void 0);_.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=_.useCallback(d=>{var h;if(l){const p=lK(d)?d(e):d;p!==e&&((h=a.current)==null||h.call(a,p))}else i(d)},[l,e,i,a]);return[c,u]}function oK({defaultProp:e,onChange:t}){const[r,n]=_.useState(e),s=_.useRef(r),i=_.useRef(t);return aK(()=>{i.current=t},[t]),_.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,n,i]}function lK(e){return typeof e=="function"}var iD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cK="VisuallyHidden",jb=_.forwardRef((e,t)=>o.jsx(it.span,{...e,ref:t,style:{...iD,...e.style}}));jb.displayName=cK;var uK=jb,xC="ToastProvider",[wC,dK,hK]=_m("Toast"),[aD,wbe]=fs("Toast",[hK]),[fK,Nb]=aD(xC),oD=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=_.useState(null),[u,d]=_.useState(0),h=_.useRef(!1),p=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${xC}\`. Expected non-empty \`string\`.`),o.jsx(wC.Provider,{scope:t,children:o.jsx(fK,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:_.useCallback(()=>d(f=>f+1),[]),onToastRemove:_.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:a})})};oD.displayName=xC;var lD="ToastViewport",pK=["F8"],yj="toast.viewportPause",xj="toast.viewportResume",cD=_.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=pK,label:s="Notifications ({hotkey})",...i}=e,a=Nb(lD,r),l=dK(r),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=Tt(t,h,a.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;_.useEffect(()=>{const x=g=>{var S;n.length!==0&&n.every(k=>g[k]||g.code===k)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),_.useEffect(()=>{const x=c.current,g=h.current;if(v&&x&&g){const w=()=>{if(!a.isClosePausedRef.current){const R=new CustomEvent(yj);g.dispatchEvent(R),a.isClosePausedRef.current=!0}},S=()=>{if(a.isClosePausedRef.current){const R=new CustomEvent(xj);g.dispatchEvent(R),a.isClosePausedRef.current=!1}},k=R=>{!x.contains(R.relatedTarget)&&S()},T=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",w),x.addEventListener("focusout",k),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",T),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",k),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",T),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[v,a.isClosePausedRef]);const m=_.useCallback(({tabbingDirection:x})=>{const w=l().map(S=>{const k=S.ref.current,T=[k,...CK(k)];return x==="forwards"?T:T.reverse()});return(x==="forwards"?w.reverse():w).flat()},[l]);return _.useEffect(()=>{const x=h.current;if(x){const g=w=>{var T,R,L;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const D=document.activeElement,M=w.shiftKey;if(w.target===x&&M){(T=u.current)==null||T.focus();return}const I=m({tabbingDirection:M?"backwards":"forwards"}),$=I.findIndex(q=>q===D);F_(I.slice($+1))?w.preventDefault():M?(R=u.current)==null||R.focus():(L=d.current)==null||L.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[l,m]),o.jsxs(tK,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(wj,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});F_(x)}}),o.jsx(wC.Slot,{scope:r,children:o.jsx(it.ol,{tabIndex:-1,...i,ref:p})}),v&&o.jsx(wj,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});F_(x)}})]})});cD.displayName=lD;var uD="ToastFocusProxy",wj=_.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Nb(uD,r);return o.jsx(jb,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});wj.displayName=uD;var P0="Toast",mK="toast.swipeStart",gK="toast.swipeMove",vK="toast.swipeCancel",yK="toast.swipeEnd",dD=_.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=e,[l,c]=Ya({prop:n,defaultProp:s??!0,onChange:i,caller:P0});return o.jsx(ba,{present:r||l,children:o.jsx(bK,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:an(e.onPause),onResume:an(e.onResume),onSwipeStart:dt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:dt(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:dt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:dt(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});dD.displayName=P0;var[xK,wK]=aD(P0,{onClose(){}}),bK=_.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...v}=e,m=Nb(P0,r),[x,g]=_.useState(null),w=Tt(t,q=>g(q)),S=_.useRef(null),k=_.useRef(null),T=s||m.duration,R=_.useRef(0),L=_.useRef(T),D=_.useRef(0),{onToastAdd:M,onToastRemove:G}=m,A=an(()=>{var te;(x==null?void 0:x.contains(document.activeElement))&&((te=m.viewport)==null||te.focus()),a()}),I=_.useCallback(q=>{!q||q===1/0||(window.clearTimeout(D.current),R.current=new Date().getTime(),D.current=window.setTimeout(A,q))},[A]);_.useEffect(()=>{const q=m.viewport;if(q){const te=()=>{I(L.current),u==null||u()},ne=()=>{const re=new Date().getTime()-R.current;L.current=L.current-re,window.clearTimeout(D.current),c==null||c()};return q.addEventListener(yj,ne),q.addEventListener(xj,te),()=>{q.removeEventListener(yj,ne),q.removeEventListener(xj,te)}}},[m.viewport,T,c,u,I]),_.useEffect(()=>{i&&!m.isClosePausedRef.current&&I(T)},[i,T,m.isClosePausedRef,I]),_.useEffect(()=>(M(),()=>G()),[M,G]);const $=_.useMemo(()=>x?yD(x):null,[x]);return m.viewport?o.jsxs(o.Fragment,{children:[$&&o.jsx(_K,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),o.jsx(xK,{scope:r,onClose:A,children:Wh.createPortal(o.jsx(wC.ItemSlot,{scope:r,children:o.jsx(eK,{asChild:!0,onEscapeKeyDown:dt(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(it.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:dt(e.onKeyDown,q=>{q.key==="Escape"&&(l==null||l(q.nativeEvent),q.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:dt(e.onPointerDown,q=>{q.button===0&&(S.current={x:q.clientX,y:q.clientY})}),onPointerMove:dt(e.onPointerMove,q=>{if(!S.current)return;const te=q.clientX-S.current.x,ne=q.clientY-S.current.y,re=!!k.current,W=["left","right"].includes(m.swipeDirection),X=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,pe=W?X(0,te):0,ge=W?0:X(0,ne),U=q.pointerType==="touch"?10:2,b={x:pe,y:ge},C={originalEvent:q,delta:b};re?(k.current=b,g1(gK,h,C,{discrete:!1})):FP(b,m.swipeDirection,U)?(k.current=b,g1(mK,d,C,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(te)>U||Math.abs(ne)>U)&&(S.current=null)}),onPointerUp:dt(e.onPointerUp,q=>{const te=k.current,ne=q.target;if(ne.hasPointerCapture(q.pointerId)&&ne.releasePointerCapture(q.pointerId),k.current=null,S.current=null,te){const re=q.currentTarget,W={originalEvent:q,delta:te};FP(te,m.swipeDirection,m.swipeThreshold)?g1(yK,f,W,{discrete:!0}):g1(vK,p,W,{discrete:!0}),re.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),_K=e=>{const{__scopeToast:t,children:r,...n}=e,s=Nb(P0,t),[i,a]=_.useState(!1),[l,c]=_.useState(!1);return NK(()=>a(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(jm,{asChild:!0,children:o.jsx(jb,{...n,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},SK="ToastTitle",hD=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(it.div,{...n,ref:t})});hD.displayName=SK;var jK="ToastDescription",fD=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(it.div,{...n,ref:t})});fD.displayName=jK;var pD="ToastAction",mD=_.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(vD,{altText:r,asChild:!0,children:o.jsx(bC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${pD}\`. Expected non-empty \`string\`.`),null)});mD.displayName=pD;var gD="ToastClose",bC=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=wK(gD,r);return o.jsx(vD,{asChild:!0,children:o.jsx(it.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,s.onClose)})})});bC.displayName=gD;var vD=_.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(it.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function yD(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),kK(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...yD(n))}}),t}function g1(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Sb(s,i):s.dispatchEvent(i)}var FP=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function NK(e=()=>{}){const t=an(e);ln(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function kK(e){return e.nodeType===e.ELEMENT_NODE}function CK(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function F_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var EK=oD,xD=cD,wD=dD,bD=hD,_D=fD,SD=mD,jD=bC;function ND(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=ND(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function kD(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=ND(e))&&(n&&(n+=" "),n+=t);return n}const $P=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,BP=kD,Nm=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return BP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const p=$P(d)||$P(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(v=>{let[m,x]=v;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...u,h,p]:u},[]);return BP(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>_.createElement("svg",{ref:c,...PK,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:CD("lucide",s),...l},[...a.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(e,t)=>{const r=_.forwardRef(({className:n,...s},i)=>_.createElement(TK,{ref:i,iconNode:t,className:CD(`lucide-${AK(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Ve("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Ve("Ambulance",[["path",{d:"M10 10H6",key:"1bsnug"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14",key:"lrkjwd"}],["path",{d:"M8 8v4",key:"1fwk8c"}],["path",{d:"M9 18h6",key:"x1upvd"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=Ve("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Ve("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=Ve("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=Ve("Bone",[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=Ve("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=Ve("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Ve("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=Ve("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Ve("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=Ve("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Ve("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=Ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Ve("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=Ve("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=Ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=Ve("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=Ve("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Ve("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=Ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=Ve("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=Ve("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Ve("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=Ve("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=Ve("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=Ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=Ve("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=Ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Ve("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=Ve("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=Ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=Ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=Ve("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=Ve("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=Ve("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Ve("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=Ve("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Ve("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=Ve("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=Ve("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=Ve("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=Ve("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=Ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=Ve("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Ve("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Ve("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Ve("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=Ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=Ve("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=Ve("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),PC="-",cJ=e=>{const t=dJ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(PC);return l[0]===""&&l.length!==1&&l.shift(),FD(l,t)||uJ(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},FD=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?FD(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(PC);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},KP=/^\[(.+)\]$/,uJ=e=>{if(KP.test(e)){const t=KP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},dJ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return fJ(Object.entries(e.classGroups),r).forEach(([i,a])=>{jj(a,n,i,t)}),n},jj=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:JP(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(hJ(s)){jj(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{jj(a,JP(t,i),r,n)})})},JP=(e,t)=>{let r=e;return t.split(PC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},hJ=e=>e.isThemeGetter,fJ=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[r,s]}):e,pJ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},$D="!",mJ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let g=l[x];if(u===0){if(g===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(g==="/"){h=x;continue}}g==="["?u++:g==="]"&&u--}const p=c.length===0?l:l.substring(d),f=p.startsWith($D),v=f?p.substring(1):p,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:a}):a},gJ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},vJ=e=>({cache:pJ(e.cacheSize),parseClassName:mJ(e),...cJ(e)}),yJ=/\s+/,xJ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(yJ);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(u);let v=!!f,m=n(v?p.substring(0,f):p);if(!m){if(!v){l=u+(l.length>0?" "+l:l);continue}if(m=n(p),!m){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=gJ(d).join(":"),g=h?x+$D:x,w=g+m;if(i.includes(w))continue;i.push(w);const S=s(m,v);for(let k=0;k<S.length;++k){const T=S[k];i.push(g+T)}l=u+(l.length>0?" "+l:l)}return l};function wJ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=BD(t))&&(n&&(n+=" "),n+=r);return n}const BD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=BD(e[n]))&&(r&&(r+=" "),r+=t);return r};function bJ(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=vJ(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=xJ(c,r);return s(c,d),d}return function(){return i(wJ.apply(null,arguments))}}const xn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},UD=/^\[(?:([a-z-]+):)?(.+)\]$/i,_J=/^\d+\/\d+$/,SJ=new Set(["px","full","screen"]),jJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wl=e=>pp(e)||SJ.has(e)||_J.test(e),eu=e=>Am(e,"length",IJ),pp=e=>!!e&&!Number.isNaN(Number(e)),U_=e=>Am(e,"number",pp),Tg=e=>!!e&&Number.isInteger(Number(e)),AJ=e=>e.endsWith("%")&&pp(e.slice(0,-1)),sr=e=>UD.test(e),tu=e=>jJ.test(e),PJ=new Set(["length","size","percentage"]),TJ=e=>Am(e,PJ,qD),RJ=e=>Am(e,"position",qD),OJ=new Set(["image","url"]),LJ=e=>Am(e,OJ,FJ),MJ=e=>Am(e,"",DJ),Rg=()=>!0,Am=(e,t,r)=>{const n=UD.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},IJ=e=>NJ.test(e)&&!kJ.test(e),qD=()=>!1,DJ=e=>CJ.test(e),FJ=e=>EJ.test(e),$J=()=>{const e=xn("colors"),t=xn("spacing"),r=xn("blur"),n=xn("brightness"),s=xn("borderColor"),i=xn("borderRadius"),a=xn("borderSpacing"),l=xn("borderWidth"),c=xn("contrast"),u=xn("grayscale"),d=xn("hueRotate"),h=xn("invert"),p=xn("gap"),f=xn("gradientColorStops"),v=xn("gradientColorStopPositions"),m=xn("inset"),x=xn("margin"),g=xn("opacity"),w=xn("padding"),S=xn("saturate"),k=xn("scale"),T=xn("sepia"),R=xn("skew"),L=xn("space"),D=xn("translate"),M=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",sr,t],I=()=>[sr,t],$=()=>["",Wl,eu],q=()=>["auto",pp,sr],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",sr],pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[pp,sr];return{cacheSize:500,separator:":",theme:{colors:[Rg],spacing:[Wl,eu],blur:["none","",tu,sr],brightness:ge(),borderColor:[e],borderRadius:["none","","full",tu,sr],borderSpacing:I(),borderWidth:$(),contrast:ge(),grayscale:X(),hueRotate:ge(),invert:X(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[AJ,eu],inset:A(),margin:A(),opacity:ge(),padding:I(),saturate:ge(),scale:ge(),sepia:X(),skew:ge(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",sr]}],container:["container"],columns:[{columns:[tu]}],"break-after":[{"break-after":pe()}],"break-before":[{"break-before":pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),sr]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tg,sr]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",sr]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",Tg,sr]}],"grid-cols":[{"grid-cols":[Rg]}],"col-start-end":[{col:["auto",{span:["full",Tg,sr]},sr]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Rg]}],"row-start-end":[{row:["auto",{span:[Tg,sr]},sr]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",sr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",sr]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",sr,t]}],"min-w":[{"min-w":[sr,t,"min","max","fit"]}],"max-w":[{"max-w":[sr,t,"none","full","min","max","fit","prose",{screen:[tu]},tu]}],h:[{h:[sr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[sr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[sr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[sr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",tu,eu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",U_]}],"font-family":[{font:[Rg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",sr]}],"line-clamp":[{"line-clamp":["none",pp,U_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wl,sr]}],"list-image":[{"list-image":["none",sr]}],"list-style-type":[{list:["none","disc","decimal",sr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wl,eu]}],"underline-offset":[{"underline-offset":["auto",Wl,sr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",sr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",sr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),RJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LJ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Wl,sr]}],"outline-w":[{outline:[Wl,eu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Wl,eu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",tu,MJ]}],"shadow-color":[{shadow:[Rg]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",tu,sr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",sr]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",sr]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",sr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Tg,sr]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",sr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",sr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",sr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wl,eu,U_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BJ=bJ($J);function Me(...e){return BJ(kD(e))}const UJ=EK,zD=_.forwardRef(({className:e,...t},r)=>o.jsx(xD,{ref:r,className:Me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));zD.displayName=xD.displayName;const qJ=Nm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VD=_.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(wD,{ref:n,className:Me(qJ({variant:t}),e),...r}));VD.displayName=wD.displayName;const zJ=_.forwardRef(({className:e,...t},r)=>o.jsx(SD,{ref:r,className:Me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));zJ.displayName=SD.displayName;const WD=_.forwardRef(({className:e,...t},r)=>o.jsx(jD,{ref:r,className:Me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Em,{className:"h-4 w-4"})}));WD.displayName=jD.displayName;const HD=_.forwardRef(({className:e,...t},r)=>o.jsx(bD,{ref:r,className:Me("text-sm font-semibold",e),...t}));HD.displayName=bD.displayName;const GD=_.forwardRef(({className:e,...t},r)=>o.jsx(_D,{ref:r,className:Me("text-sm opacity-90",e),...t}));GD.displayName=_D.displayName;function VJ(){const{toasts:e}=E0();return o.jsxs(UJ,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return o.jsxs(VD,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(HD,{children:r}),n&&o.jsx(GD,{children:n})]}),s,o.jsx(WD,{})]},t)}),o.jsx(zD,{})]})}var QP=["light","dark"],WJ="(prefers-color-scheme: dark)",HJ=_.createContext(void 0),GJ={setTheme:e=>{},themes:[]},YJ=()=>{var e;return(e=_.useContext(HJ))!=null?e:GJ};_.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?QP.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,m=!1,x=!0)=>{let g=a?a[v]:v,w=m?v+"|| ''":`'${g}'`,S="";return s&&x&&!m&&QP.includes(v)&&(S+=`d.style.colorScheme = '${v}';`),r==="class"?m||g?S+=`c.add(${w})`:S+="null":g&&(S+=`d[s](n,${w})`),S},f=e?`!function(){${d}${p(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${WJ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return _.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var KJ=e=>{switch(e){case"success":return ZJ;case"info":return eQ;case"warning":return XJ;case"error":return tQ;default:return null}},JJ=Array(12).fill(0),QJ=({visible:e,className:t})=>Re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Re.createElement("div",{className:"sonner-spinner"},JJ.map((r,n)=>Re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ZJ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),XJ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nQ=()=>{let[e,t]=Re.useState(document.hidden);return Re.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Nj=1,sQ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Nj++,a=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=t instanceof Promise?t:t(),i=n!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],Re.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(aQ(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:h})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||Nj++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Li=new sQ,iQ=(e,t)=>{let r=(t==null?void 0:t.id)||Nj++;return Li.addToast({title:e,...t,id:r}),r},aQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",oQ=iQ,lQ=()=>Li.toasts,cQ=()=>Li.getActiveToasts(),qe=Object.assign(oQ,{success:Li.success,info:Li.info,warning:Li.warning,error:Li.error,custom:Li.custom,message:Li.message,promise:Li.promise,dismiss:Li.dismiss,loading:Li.loading},{getHistory:lQ,getToasts:cQ});function uQ(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}uQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function v1(e){return e.label!==void 0}var dQ=3,hQ="32px",fQ="16px",ZP=4e3,pQ=356,mQ=14,gQ=20,vQ=200;function co(...e){return e.filter(Boolean).join(" ")}function yQ(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var xQ=e=>{var t,r,n,s,i,a,l,c,u,d,h;let{invert:p,toast:f,unstyled:v,interacting:m,setHeights:x,visibleToasts:g,heights:w,index:S,toasts:k,expanded:T,removeToast:R,defaultRichColors:L,closeButton:D,style:M,cancelButtonStyle:G,actionButtonStyle:A,className:I="",descriptionClassName:$="",duration:q,position:te,gap:ne,loadingIcon:re,expandByDefault:W,classNames:X,icons:pe,closeButtonAriaLabel:ge="Close toast",pauseWhenPageIsHidden:U}=e,[b,C]=Re.useState(null),[E,B]=Re.useState(null),[F,Z]=Re.useState(!1),[se,le]=Re.useState(!1),[ue,fe]=Re.useState(!1),[be,Ie]=Re.useState(!1),[Q,De]=Re.useState(!1),[Ye,Ke]=Re.useState(0),[Ne,K]=Re.useState(0),ce=Re.useRef(f.duration||q||ZP),ve=Re.useRef(null),je=Re.useRef(null),Oe=S===0,ke=S+1<=g,Le=f.type,Xe=f.dismissible!==!1,at=f.className||"",Qe=f.descriptionClassName||"",bt=Re.useMemo(()=>w.findIndex(Pt=>Pt.toastId===f.id)||0,[w,f.id]),tt=Re.useMemo(()=>{var Pt;return(Pt=f.closeButton)!=null?Pt:D},[f.closeButton,D]),Fr=Re.useMemo(()=>f.duration||q||ZP,[f.duration,q]),Vt=Re.useRef(0),Ot=Re.useRef(0),Wt=Re.useRef(0),lr=Re.useRef(null),[_t,_r]=te.split("-"),At=Re.useMemo(()=>w.reduce((Pt,Ft,cr)=>cr>=bt?Pt:Pt+Ft.height,0),[w,bt]),Dt=nQ(),Ur=f.invert||p,Yt=Le==="loading";Ot.current=Re.useMemo(()=>bt*ne+At,[bt,At]),Re.useEffect(()=>{ce.current=Fr},[Fr]),Re.useEffect(()=>{Z(!0)},[]),Re.useEffect(()=>{let Pt=je.current;if(Pt){let Ft=Pt.getBoundingClientRect().height;return K(Ft),x(cr=>[{toastId:f.id,height:Ft,position:f.position},...cr]),()=>x(cr=>cr.filter(Dn=>Dn.toastId!==f.id))}},[x,f.id]),Re.useLayoutEffect(()=>{if(!F)return;let Pt=je.current,Ft=Pt.style.height;Pt.style.height="auto";let cr=Pt.getBoundingClientRect().height;Pt.style.height=Ft,K(cr),x(Dn=>Dn.find(mt=>mt.toastId===f.id)?Dn.map(mt=>mt.toastId===f.id?{...mt,height:cr}:mt):[{toastId:f.id,height:cr,position:f.position},...Dn])},[F,f.title,f.description,x,f.id]);let pt=Re.useCallback(()=>{le(!0),Ke(Ot.current),x(Pt=>Pt.filter(Ft=>Ft.toastId!==f.id)),setTimeout(()=>{R(f)},vQ)},[f,R,x,Ot]);Re.useEffect(()=>{if(f.promise&&Le==="loading"||f.duration===1/0||f.type==="loading")return;let Pt;return T||m||U&&Dt?(()=>{if(Wt.current<Vt.current){let Ft=new Date().getTime()-Vt.current;ce.current=ce.current-Ft}Wt.current=new Date().getTime()})():ce.current!==1/0&&(Vt.current=new Date().getTime(),Pt=setTimeout(()=>{var Ft;(Ft=f.onAutoClose)==null||Ft.call(f,f),pt()},ce.current)),()=>clearTimeout(Pt)},[T,m,f,Le,U,Dt,pt]),Re.useEffect(()=>{f.delete&&pt()},[pt,f.delete]);function mr(){var Pt,Ft,cr;return pe!=null&&pe.loading?Re.createElement("div",{className:co(X==null?void 0:X.loader,(Pt=f==null?void 0:f.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":Le==="loading"},pe.loading):re?Re.createElement("div",{className:co(X==null?void 0:X.loader,(Ft=f==null?void 0:f.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":Le==="loading"},re):Re.createElement(QJ,{className:co(X==null?void 0:X.loader,(cr=f==null?void 0:f.classNames)==null?void 0:cr.loader),visible:Le==="loading"})}return Re.createElement("li",{tabIndex:0,ref:je,className:co(I,at,X==null?void 0:X.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,X==null?void 0:X.default,X==null?void 0:X[Le],(r=f==null?void 0:f.classNames)==null?void 0:r[Le]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:L,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":F,"data-promise":!!f.promise,"data-swiped":Q,"data-removed":se,"data-visible":ke,"data-y-position":_t,"data-x-position":_r,"data-index":S,"data-front":Oe,"data-swiping":ue,"data-dismissible":Xe,"data-type":Le,"data-invert":Ur,"data-swipe-out":be,"data-swipe-direction":E,"data-expanded":!!(T||W&&F),style:{"--index":S,"--toasts-before":S,"--z-index":k.length-S,"--offset":`${se?Ye:Ot.current}px`,"--initial-height":W?"auto":`${Ne}px`,...M,...f.style},onDragEnd:()=>{fe(!1),C(null),lr.current=null},onPointerDown:Pt=>{Yt||!Xe||(ve.current=new Date,Ke(Ot.current),Pt.target.setPointerCapture(Pt.pointerId),Pt.target.tagName!=="BUTTON"&&(fe(!0),lr.current={x:Pt.clientX,y:Pt.clientY}))},onPointerUp:()=>{var Pt,Ft,cr,Dn;if(be||!Xe)return;lr.current=null;let mt=Number(((Pt=je.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cs=Number(((Ft=je.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ls=new Date().getTime()-((cr=ve.current)==null?void 0:cr.getTime()),Sn=b==="x"?mt:Cs,Hn=Math.abs(Sn)/Ls;if(Math.abs(Sn)>=gQ||Hn>.11){Ke(Ot.current),(Dn=f.onDismiss)==null||Dn.call(f,f),B(b==="x"?mt>0?"right":"left":Cs>0?"down":"up"),pt(),Ie(!0),De(!1);return}fe(!1),C(null)},onPointerMove:Pt=>{var Ft,cr,Dn,mt;if(!lr.current||!Xe||((Ft=window.getSelection())==null?void 0:Ft.toString().length)>0)return;let Cs=Pt.clientY-lr.current.y,Ls=Pt.clientX-lr.current.x,Sn=(cr=e.swipeDirections)!=null?cr:yQ(te);!b&&(Math.abs(Ls)>1||Math.abs(Cs)>1)&&C(Math.abs(Ls)>Math.abs(Cs)?"x":"y");let Hn={x:0,y:0};b==="y"?(Sn.includes("top")||Sn.includes("bottom"))&&(Sn.includes("top")&&Cs<0||Sn.includes("bottom")&&Cs>0)&&(Hn.y=Cs):b==="x"&&(Sn.includes("left")||Sn.includes("right"))&&(Sn.includes("left")&&Ls<0||Sn.includes("right")&&Ls>0)&&(Hn.x=Ls),(Math.abs(Hn.x)>0||Math.abs(Hn.y)>0)&&De(!0),(Dn=je.current)==null||Dn.style.setProperty("--swipe-amount-x",`${Hn.x}px`),(mt=je.current)==null||mt.style.setProperty("--swipe-amount-y",`${Hn.y}px`)}},tt&&!f.jsx?Re.createElement("button",{"aria-label":ge,"data-disabled":Yt,"data-close-button":!0,onClick:Yt||!Xe?()=>{}:()=>{var Pt;pt(),(Pt=f.onDismiss)==null||Pt.call(f,f)},className:co(X==null?void 0:X.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=pe==null?void 0:pe.close)!=null?i:rQ):null,f.jsx||_.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Re.createElement(Re.Fragment,null,Le||f.icon||f.promise?Re.createElement("div",{"data-icon":"",className:co(X==null?void 0:X.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||mr():null,f.type!=="loading"?f.icon||(pe==null?void 0:pe[Le])||KJ(Le):null):null,Re.createElement("div",{"data-content":"",className:co(X==null?void 0:X.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},Re.createElement("div",{"data-title":"",className:co(X==null?void 0:X.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?Re.createElement("div",{"data-description":"",className:co($,Qe,X==null?void 0:X.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),_.isValidElement(f.cancel)?f.cancel:f.cancel&&v1(f.cancel)?Re.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||G,onClick:Pt=>{var Ft,cr;v1(f.cancel)&&Xe&&((cr=(Ft=f.cancel).onClick)==null||cr.call(Ft,Pt),pt())},className:co(X==null?void 0:X.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,_.isValidElement(f.action)?f.action:f.action&&v1(f.action)?Re.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:Pt=>{var Ft,cr;v1(f.action)&&((cr=(Ft=f.action).onClick)==null||cr.call(Ft,Pt),!Pt.defaultPrevented&&pt())},className:co(X==null?void 0:X.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function XP(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function wQ(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?fQ:hQ;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var bQ=_.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:v=dQ,toastOptions:m,dir:x=XP(),gap:g=mQ,loadingIcon:w,icons:S,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:T}=e,[R,L]=Re.useState([]),D=Re.useMemo(()=>Array.from(new Set([n].concat(R.filter(U=>U.position).map(U=>U.position)))),[R,n]),[M,G]=Re.useState([]),[A,I]=Re.useState(!1),[$,q]=Re.useState(!1),[te,ne]=Re.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=Re.useRef(null),W=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=Re.useRef(null),pe=Re.useRef(!1),ge=Re.useCallback(U=>{L(b=>{var C;return(C=b.find(E=>E.id===U.id))!=null&&C.delete||Li.dismiss(U.id),b.filter(({id:E})=>E!==U.id)})},[]);return Re.useEffect(()=>Li.subscribe(U=>{if(U.dismiss){L(b=>b.map(C=>C.id===U.id?{...C,delete:!0}:C));return}setTimeout(()=>{JI.flushSync(()=>{L(b=>{let C=b.findIndex(E=>E.id===U.id);return C!==-1?[...b.slice(0,C),{...b[C],...U},...b.slice(C+1)]:[U,...b]})})})}),[]),Re.useEffect(()=>{if(d!=="system"){ne(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:b})=>{ne(b?"dark":"light")})}catch{U.addListener(({matches:C})=>{try{ne(C?"dark":"light")}catch(E){console.error(E)}})}},[d]),Re.useEffect(()=>{R.length<=1&&I(!1)},[R]),Re.useEffect(()=>{let U=b=>{var C,E;s.every(B=>b[B]||b.code===B)&&(I(!0),(C=re.current)==null||C.focus()),b.code==="Escape"&&(document.activeElement===re.current||(E=re.current)!=null&&E.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[s]),Re.useEffect(()=>{if(re.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,pe.current=!1)}},[re.current]),Re.createElement("section",{ref:t,"aria-label":`${k} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((U,b)=>{var C;let[E,B]=U.split("-");return R.length?Re.createElement("ol",{key:U,dir:x==="auto"?XP():x,tabIndex:-1,ref:re,className:l,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":E,"data-lifted":A&&R.length>1&&!i,"data-x-position":B,style:{"--front-toast-height":`${((C=M[0])==null?void 0:C.height)||0}px`,"--width":`${pQ}px`,"--gap":`${g}px`,...f,...wQ(c,u)},onBlur:F=>{pe.current&&!F.currentTarget.contains(F.relatedTarget)&&(pe.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||pe.current||(pe.current=!0,X.current=F.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{$||I(!1)},onDragEnd:()=>I(!1),onPointerDown:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},R.filter(F=>!F.position&&b===0||F.position===U).map((F,Z)=>{var se,le;return Re.createElement(xQ,{key:F.id,icons:S,index:Z,toast:F,defaultRichColors:h,duration:(se=m==null?void 0:m.duration)!=null?se:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:v,closeButton:(le=m==null?void 0:m.closeButton)!=null?le:a,interacting:$,position:U,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ge,toasts:R.filter(ue=>ue.position==F.position),heights:M.filter(ue=>ue.position==F.position),setHeights:G,expandByDefault:i,gap:g,loadingIcon:w,expanded:A,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const _Q=({...e})=>{const{theme:t="system"}=YJ();return o.jsx(bQ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var SQ=Ek[" useId ".trim().toString()]||(()=>{}),jQ=0;function pa(e){const[t,r]=_.useState(SQ());return ln(()=>{r(n=>n??String(jQ++))},[e]),t?`radix-${t}`:""}const NQ=["top","right","bottom","left"],Xu=Math.min,aa=Math.max,pw=Math.round,y1=Math.floor,yl=e=>({x:e,y:e}),kQ={left:"right",right:"left",bottom:"top",top:"bottom"},CQ={start:"end",end:"start"};function kj(e,t,r){return aa(e,Xu(t,r))}function Cc(e,t){return typeof e=="function"?e(t):e}function Ec(e){return e.split("-")[0]}function Pm(e){return e.split("-")[1]}function TC(e){return e==="x"?"y":"x"}function RC(e){return e==="y"?"height":"width"}const EQ=new Set(["top","bottom"]);function hl(e){return EQ.has(Ec(e))?"y":"x"}function OC(e){return TC(hl(e))}function AQ(e,t,r){r===void 0&&(r=!1);const n=Pm(e),s=OC(e),i=RC(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=mw(a)),[a,mw(a)]}function PQ(e){const t=mw(e);return[Cj(e),t,Cj(t)]}function Cj(e){return e.replace(/start|end/g,t=>CQ[t])}const eT=["left","right"],tT=["right","left"],TQ=["top","bottom"],RQ=["bottom","top"];function OQ(e,t,r){switch(e){case"top":case"bottom":return r?t?tT:eT:t?eT:tT;case"left":case"right":return t?TQ:RQ;default:return[]}}function LQ(e,t,r,n){const s=Pm(e);let i=OQ(Ec(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(Cj)))),i}function mw(e){return e.replace(/left|right|bottom|top/g,t=>kQ[t])}function MQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function YD(e){return typeof e!="number"?MQ(e):{top:e,right:e,bottom:e,left:e}}function gw(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function rT(e,t,r){let{reference:n,floating:s}=e;const i=hl(t),a=OC(t),l=RC(a),c=Ec(t),u=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Pm(t)){case"start":f[a]-=p*(r&&u?-1:1);break;case"end":f[a]+=p*(r&&u?-1:1);break}return f}const IQ=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=rT(u,n,c),p=n,f={},v=0;for(let m=0;m<l.length;m++){const{name:x,fn:g}=l[m],{x:w,y:S,data:k,reset:T}=await g({x:d,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:f,rects:u,platform:a,elements:{reference:e,floating:t}});d=w??d,h=S??h,f={...f,[x]:{...f[x],...k}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(u=T.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):T.rects),{x:d,y:h}=rT(u,p,c)),m=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:f}};async function Hv(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Cc(t,e),v=YD(f),x=l[p?h==="floating"?"reference":"floating":h],g=gw(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},T=gw(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:S,strategy:c}):w);return{top:(g.top-T.top+v.top)/k.y,bottom:(T.bottom-g.bottom+v.bottom)/k.y,left:(g.left-T.left+v.left)/k.x,right:(T.right-g.right+v.right)/k.x}}const DQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Cc(e,t)||{};if(u==null)return{};const h=YD(d),p={x:r,y:n},f=OC(s),v=RC(f),m=await a.getDimensions(u),x=f==="y",g=x?"top":"left",w=x?"bottom":"right",S=x?"clientHeight":"clientWidth",k=i.reference[v]+i.reference[f]-p[f]-i.floating[v],T=p[f]-i.reference[f],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let L=R?R[S]:0;(!L||!await(a.isElement==null?void 0:a.isElement(R)))&&(L=l.floating[S]||i.floating[v]);const D=k/2-T/2,M=L/2-m[v]/2-1,G=Xu(h[g],M),A=Xu(h[w],M),I=G,$=L-m[v]-A,q=L/2-m[v]/2+D,te=kj(I,q,$),ne=!c.arrow&&Pm(s)!=null&&q!==te&&i.reference[v]/2-(q<I?G:A)-m[v]/2<0,re=ne?q<I?q-I:q-$:0;return{[f]:p[f]+re,data:{[f]:te,centerOffset:q-te-re,...ne&&{alignmentOffset:re}},reset:ne}}}),FQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...x}=Cc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Ec(s),w=hl(l),S=Ec(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=p||(S||!m?[mw(l)]:PQ(l)),R=v!=="none";!p&&R&&T.push(...LQ(l,m,v,k));const L=[l,...T],D=await Hv(t,x),M=[];let G=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&M.push(D[g]),h){const q=AQ(s,a,k);M.push(D[q[0]],D[q[1]])}if(G=[...G,{placement:s,overflows:M}],!M.every(q=>q<=0)){var A,I;const q=(((A=i.flip)==null?void 0:A.index)||0)+1,te=L[q];if(te&&(!(h==="alignment"?w!==hl(te):!1)||G.every(W=>W.overflows[0]>0&&hl(W.placement)===w)))return{data:{index:q,overflows:G},reset:{placement:te}};let ne=(I=G.filter(re=>re.overflows[0]<=0).sort((re,W)=>re.overflows[1]-W.overflows[1])[0])==null?void 0:I.placement;if(!ne)switch(f){case"bestFit":{var $;const re=($=G.filter(W=>{if(R){const X=hl(W.placement);return X===w||X==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(X=>X>0).reduce((X,pe)=>X+pe,0)]).sort((W,X)=>W[1]-X[1])[0])==null?void 0:$[0];re&&(ne=re);break}case"initialPlacement":ne=l;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function nT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sT(e){return NQ.some(t=>e[t]>=0)}const $Q=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Cc(e,t);switch(n){case"referenceHidden":{const i=await Hv(t,{...s,elementContext:"reference"}),a=nT(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:sT(a)}}}case"escaped":{const i=await Hv(t,{...s,altBoundary:!0}),a=nT(i,r.floating);return{data:{escapedOffsets:a,escaped:sT(a)}}}default:return{}}}}},KD=new Set(["left","top"]);async function BQ(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Ec(r),l=Pm(r),c=hl(r)==="y",u=KD.has(a)?-1:1,d=i&&c?-1:1,h=Cc(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(f=l==="end"?v*-1:v),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const UQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await BQ(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},qQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:g,y:w}=x;return{x:g,y:w}}},...c}=Cc(e,t),u={x:r,y:n},d=await Hv(t,c),h=hl(Ec(s)),p=TC(h);let f=u[p],v=u[h];if(i){const x=p==="y"?"top":"left",g=p==="y"?"bottom":"right",w=f+d[x],S=f-d[g];f=kj(w,f,S)}if(a){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",w=v+d[x],S=v-d[g];v=kj(w,v,S)}const m=l.fn({...t,[p]:f,[h]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[h]:a}}}}}},zQ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Cc(e,t),d={x:r,y:n},h=hl(s),p=TC(h);let f=d[p],v=d[h];const m=Cc(l,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const S=p==="y"?"height":"width",k=i.reference[p]-i.floating[S]+x.mainAxis,T=i.reference[p]+i.reference[S]-x.mainAxis;f<k?f=k:f>T&&(f=T)}if(u){var g,w;const S=p==="y"?"width":"height",k=KD.has(Ec(s)),T=i.reference[h]-i.floating[S]+(k&&((g=a.offset)==null?void 0:g[h])||0)+(k?0:x.crossAxis),R=i.reference[h]+i.reference[S]+(k?0:((w=a.offset)==null?void 0:w[h])||0)-(k?x.crossAxis:0);v<T?v=T:v>R&&(v=R)}return{[p]:f,[h]:v}}}},VQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Cc(e,t),d=await Hv(t,u),h=Ec(s),p=Pm(s),f=hl(s)==="y",{width:v,height:m}=i.floating;let x,g;h==="top"||h==="bottom"?(x=h,g=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,x=p==="end"?"top":"bottom");const w=m-d.top-d.bottom,S=v-d.left-d.right,k=Xu(m-d[x],w),T=Xu(v-d[g],S),R=!t.middlewareData.shift;let L=k,D=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(L=w),R&&!p){const G=aa(d.left,0),A=aa(d.right,0),I=aa(d.top,0),$=aa(d.bottom,0);f?D=v-2*(G!==0||A!==0?G+A:aa(d.left,d.right)):L=m-2*(I!==0||$!==0?I+$:aa(d.top,d.bottom))}await c({...t,availableWidth:D,availableHeight:L});const M=await a.getDimensions(l.floating);return v!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function Pb(){return typeof window<"u"}function Tm(e){return JD(e)?(e.nodeName||"").toLowerCase():"#document"}function ma(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Nl(e){var t;return(t=(JD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JD(e){return Pb()?e instanceof Node||e instanceof ma(e).Node:!1}function Oo(e){return Pb()?e instanceof Element||e instanceof ma(e).Element:!1}function _l(e){return Pb()?e instanceof HTMLElement||e instanceof ma(e).HTMLElement:!1}function iT(e){return!Pb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ma(e).ShadowRoot}const WQ=new Set(["inline","contents"]);function R0(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Lo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!WQ.has(s)}const HQ=new Set(["table","td","th"]);function GQ(e){return HQ.has(Tm(e))}const YQ=[":popover-open",":modal"];function Tb(e){return YQ.some(t=>{try{return e.matches(t)}catch{return!1}})}const KQ=["transform","translate","scale","rotate","perspective"],JQ=["transform","translate","scale","rotate","perspective","filter"],QQ=["paint","layout","strict","content"];function LC(e){const t=MC(),r=Oo(e)?Lo(e):e;return KQ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||JQ.some(n=>(r.willChange||"").includes(n))||QQ.some(n=>(r.contain||"").includes(n))}function ZQ(e){let t=ed(e);for(;_l(t)&&!Qp(t);){if(LC(t))return t;if(Tb(t))return null;t=ed(t)}return null}function MC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XQ=new Set(["html","body","#document"]);function Qp(e){return XQ.has(Tm(e))}function Lo(e){return ma(e).getComputedStyle(e)}function Rb(e){return Oo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ed(e){if(Tm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||iT(e)&&e.host||Nl(e);return iT(t)?t.host:t}function QD(e){const t=ed(e);return Qp(t)?e.ownerDocument?e.ownerDocument.body:e.body:_l(t)&&R0(t)?t:QD(t)}function Gv(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=QD(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=ma(s);if(i){const l=Ej(a);return t.concat(a,a.visualViewport||[],R0(s)?s:[],l&&r?Gv(l):[])}return t.concat(s,Gv(s,[],r))}function Ej(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ZD(e){const t=Lo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=_l(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=pw(r)!==i||pw(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function IC(e){return Oo(e)?e:e.contextElement}function mp(e){const t=IC(e);if(!_l(t))return yl(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=ZD(t);let a=(i?pw(r.width):r.width)/n,l=(i?pw(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const eZ=yl(0);function XD(e){const t=ma(e);return!MC()||!t.visualViewport?eZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tZ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ma(e)?!1:t}function Nh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=IC(e);let a=yl(1);t&&(n?Oo(n)&&(a=mp(n)):a=mp(e));const l=tZ(i,r,n)?XD(i):yl(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const p=ma(i),f=n&&Oo(n)?ma(n):n;let v=p,m=Ej(v);for(;m&&n&&f!==v;){const x=mp(m),g=m.getBoundingClientRect(),w=Lo(m),S=g.left+(m.clientLeft+parseFloat(w.paddingLeft))*x.x,k=g.top+(m.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=S,u+=k,v=ma(m),m=Ej(v)}}return gw({width:d,height:h,x:c,y:u})}function DC(e,t){const r=Rb(e).scrollLeft;return t?t.left+r:Nh(Nl(e)).left+r}function e8(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:DC(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function rZ(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=Nl(n),l=t?Tb(t.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=yl(1);const d=yl(0),h=_l(n);if((h||!h&&!i)&&((Tm(n)!=="body"||R0(a))&&(c=Rb(n)),_l(n))){const f=Nh(n);u=mp(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=a&&!h&&!i?e8(a,c,!0):yl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function nZ(e){return Array.from(e.getClientRects())}function sZ(e){const t=Nl(e),r=Rb(e),n=e.ownerDocument.body,s=aa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=aa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+DC(e);const l=-r.scrollTop;return Lo(n).direction==="rtl"&&(a+=aa(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:l}}function iZ(e,t){const r=ma(e),n=Nl(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=MC();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const aZ=new Set(["absolute","fixed"]);function oZ(e,t){const r=Nh(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=_l(e)?mp(e):yl(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:l,x:c,y:u}}function aT(e,t,r){let n;if(t==="viewport")n=iZ(e,r);else if(t==="document")n=sZ(Nl(e));else if(Oo(t))n=oZ(t,r);else{const s=XD(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return gw(n)}function t8(e,t){const r=ed(e);return r===t||!Oo(r)||Qp(r)?!1:Lo(r).position==="fixed"||t8(r,t)}function lZ(e,t){const r=t.get(e);if(r)return r;let n=Gv(e,[],!1).filter(l=>Oo(l)&&Tm(l)!=="body"),s=null;const i=Lo(e).position==="fixed";let a=i?ed(e):e;for(;Oo(a)&&!Qp(a);){const l=Lo(a),c=LC(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&aZ.has(s.position)||R0(a)&&!c&&t8(e,a))?n=n.filter(d=>d!==a):s=l,a=ed(a)}return t.set(e,n),n}function cZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?Tb(t)?[]:lZ(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const h=aT(t,d,s);return u.top=aa(h.top,u.top),u.right=Xu(h.right,u.right),u.bottom=Xu(h.bottom,u.bottom),u.left=aa(h.left,u.left),u},aT(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function uZ(e){const{width:t,height:r}=ZD(e);return{width:t,height:r}}function dZ(e,t,r){const n=_l(t),s=Nl(t),i=r==="fixed",a=Nh(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=yl(0);function u(){c.x=DC(s)}if(n||!n&&!i)if((Tm(t)!=="body"||R0(s))&&(l=Rb(t)),n){const f=Nh(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?e8(s,l):yl(0),h=a.left+l.scrollLeft-c.x-d.x,p=a.top+l.scrollTop-c.y-d.y;return{x:h,y:p,width:a.width,height:a.height}}function q_(e){return Lo(e).position==="static"}function oT(e,t){if(!_l(e)||Lo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Nl(e)===r&&(r=r.ownerDocument.body),r}function r8(e,t){const r=ma(e);if(Tb(e))return r;if(!_l(e)){let s=ed(e);for(;s&&!Qp(s);){if(Oo(s)&&!q_(s))return s;s=ed(s)}return r}let n=oT(e,t);for(;n&&GQ(n)&&q_(n);)n=oT(n,t);return n&&Qp(n)&&q_(n)&&!LC(n)?r:n||ZQ(e)||r}const hZ=async function(e){const t=this.getOffsetParent||r8,r=this.getDimensions,n=await r(e.floating);return{reference:dZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function fZ(e){return Lo(e).direction==="rtl"}const pZ={convertOffsetParentRelativeRectToViewportRelativeRect:rZ,getDocumentElement:Nl,getClippingRect:cZ,getOffsetParent:r8,getElementRects:hZ,getClientRects:nZ,getDimensions:uZ,getScale:mp,isElement:Oo,isRTL:fZ};function n8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mZ(e,t){let r=null,n;const s=Nl(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(l||t(),!p||!f)return;const v=y1(h),m=y1(s.clientWidth-(d+p)),x=y1(s.clientHeight-(h+f)),g=y1(d),S={rootMargin:-v+"px "+-m+"px "+-x+"px "+-g+"px",threshold:aa(0,Xu(1,c))||1};let k=!0;function T(R){const L=R[0].intersectionRatio;if(L!==c){if(!k)return a();L?a(!1,L):n=setTimeout(()=>{a(!1,1e-7)},1e3)}L===1&&!n8(u,e.getBoundingClientRect())&&a(),k=!1}try{r=new IntersectionObserver(T,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(T,S)}r.observe(e)}return a(!0),i}function s8(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=IC(e),d=s||i?[...u?Gv(u):[],...Gv(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const h=u&&l?mZ(u,r):null;let p=-1,f=null;a&&(f=new ResizeObserver(g=>{let[w]=g;w&&w.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let v,m=c?Nh(e):null;c&&x();function x(){const g=Nh(e);m&&!n8(m,g)&&r(),m=g,v=requestAnimationFrame(x)}return r(),()=>{var g;d.forEach(w=>{s&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),h==null||h(),(g=f)==null||g.disconnect(),f=null,c&&cancelAnimationFrame(v)}}const gZ=UQ,vZ=qQ,yZ=FQ,xZ=VQ,wZ=$Q,lT=DQ,bZ=zQ,_Z=(e,t,r)=>{const n=new Map,s={platform:pZ,...r},i={...s.platform,_c:n};return IQ(e,t,{...s,platform:i})};var SZ=typeof document<"u",jZ=function(){},vx=SZ?_.useLayoutEffect:jZ;function vw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!vw(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!vw(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function i8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cT(e,t){const r=i8(e);return Math.round(t*r)/r}function z_(e){const t=_.useRef(e);return vx(()=>{t.current=e}),t}function a8(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=_.useState(n);vw(p,n)||f(n);const[v,m]=_.useState(null),[x,g]=_.useState(null),w=_.useCallback(W=>{W!==R.current&&(R.current=W,m(W))},[]),S=_.useCallback(W=>{W!==L.current&&(L.current=W,g(W))},[]),k=i||v,T=a||x,R=_.useRef(null),L=_.useRef(null),D=_.useRef(d),M=c!=null,G=z_(c),A=z_(s),I=z_(u),$=_.useCallback(()=>{if(!R.current||!L.current)return;const W={placement:t,strategy:r,middleware:p};A.current&&(W.platform=A.current),_Z(R.current,L.current,W).then(X=>{const pe={...X,isPositioned:I.current!==!1};q.current&&!vw(D.current,pe)&&(D.current=pe,Wh.flushSync(()=>{h(pe)}))})},[p,t,r,A,I]);vx(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(W=>({...W,isPositioned:!1})))},[u]);const q=_.useRef(!1);vx(()=>(q.current=!0,()=>{q.current=!1}),[]),vx(()=>{if(k&&(R.current=k),T&&(L.current=T),k&&T){if(G.current)return G.current(k,T,$);$()}},[k,T,$,G,M]);const te=_.useMemo(()=>({reference:R,floating:L,setReference:w,setFloating:S}),[w,S]),ne=_.useMemo(()=>({reference:k,floating:T}),[k,T]),re=_.useMemo(()=>{const W={position:r,left:0,top:0};if(!ne.floating)return W;const X=cT(ne.floating,d.x),pe=cT(ne.floating,d.y);return l?{...W,transform:"translate("+X+"px, "+pe+"px)",...i8(ne.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:pe}},[r,l,ne.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:$,refs:te,elements:ne,floatingStyles:re}),[d,$,te,ne,re])}const NZ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?lT({element:n.current,padding:s}).fn(r):{}:n?lT({element:n,padding:s}).fn(r):{}}}},o8=(e,t)=>({...gZ(e),options:[e,t]}),l8=(e,t)=>({...vZ(e),options:[e,t]}),c8=(e,t)=>({...bZ(e),options:[e,t]}),u8=(e,t)=>({...yZ(e),options:[e,t]}),d8=(e,t)=>({...xZ(e),options:[e,t]}),h8=(e,t)=>({...wZ(e),options:[e,t]}),f8=(e,t)=>({...NZ(e),options:[e,t]});var kZ="Arrow",p8=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return o.jsx(it.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});p8.displayName=kZ;var m8=p8;function Ob(e){const[t,r]=_.useState(void 0);return ln(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var FC="Popper",[g8,Rm]=fs(FC),[CZ,v8]=g8(FC),y8=e=>{const{__scopePopper:t,children:r}=e,[n,s]=_.useState(null);return o.jsx(CZ,{scope:t,anchor:n,onAnchorChange:s,children:r})};y8.displayName=FC;var x8="PopperAnchor",w8=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=v8(x8,r),a=_.useRef(null),l=Tt(t,a);return _.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(it.div,{...s,ref:l})});w8.displayName=x8;var $C="PopperContent",[EZ,AZ]=g8($C),b8=_.forwardRef((e,t)=>{var F,Z,se,le,ue,fe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...m}=e,x=v8($C,r),[g,w]=_.useState(null),S=Tt(t,be=>w(be)),[k,T]=_.useState(null),R=Ob(k),L=(R==null?void 0:R.width)??0,D=(R==null?void 0:R.height)??0,M=n+(i!=="center"?"-"+i:""),G=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],I=A.length>0,$={padding:G,boundary:A.filter(TZ),altBoundary:I},{refs:q,floatingStyles:te,placement:ne,isPositioned:re,middlewareData:W}=a8({strategy:"fixed",placement:M,whileElementsMounted:(...be)=>s8(...be,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[o8({mainAxis:s+D,alignmentAxis:a}),c&&l8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?c8():void 0,...$}),c&&u8({...$}),d8({...$,apply:({elements:be,rects:Ie,availableWidth:Q,availableHeight:De})=>{const{width:Ye,height:Ke}=Ie.reference,Ne=be.floating.style;Ne.setProperty("--radix-popper-available-width",`${Q}px`),Ne.setProperty("--radix-popper-available-height",`${De}px`),Ne.setProperty("--radix-popper-anchor-width",`${Ye}px`),Ne.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),k&&f8({element:k,padding:l}),RZ({arrowWidth:L,arrowHeight:D}),p&&h8({strategy:"referenceHidden",...$})]}),[X,pe]=j8(ne),ge=an(v);ln(()=>{re&&(ge==null||ge())},[re,ge]);const U=(F=W.arrow)==null?void 0:F.x,b=(Z=W.arrow)==null?void 0:Z.y,C=((se=W.arrow)==null?void 0:se.centerOffset)!==0,[E,B]=_.useState();return ln(()=>{g&&B(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:re?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(le=W.transformOrigin)==null?void 0:le.x,(ue=W.transformOrigin)==null?void 0:ue.y].join(" "),...((fe=W.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(EZ,{scope:r,placedSide:X,onArrowChange:T,arrowX:U,arrowY:b,shouldHideArrow:C,children:o.jsx(it.div,{"data-side":X,"data-align":pe,...m,ref:S,style:{...m.style,animation:re?void 0:"none"}})})})});b8.displayName=$C;var _8="PopperArrow",PZ={top:"bottom",right:"left",bottom:"top",left:"right"},S8=_.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=AZ(_8,n),a=PZ[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(m8,{...s,ref:r,style:{...s.style,display:"block"}})})});S8.displayName=_8;function TZ(e){return e!==null}var RZ=e=>({name:"transformOrigin",options:e,fn(t){var x,g,w;const{placement:r,rects:n,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=j8(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,f=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=a?h:`${p}px`,m=`${-c}px`):u==="top"?(v=a?h:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=a?h:`${f}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=a?h:`${f}px`),{data:{x:v,y:m}}}});function j8(e){const[t,r="center"]=e.split("-");return[t,r]}var N8=y8,Lb=w8,BC=b8,UC=S8,[Mb,_be]=fs("Tooltip",[Rm]),qC=Rm(),k8="TooltipProvider",OZ=700,uT="tooltip.open",[LZ,C8]=Mb(k8),E8=e=>{const{__scopeTooltip:t,delayDuration:r=OZ,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,a=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(LZ,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};E8.displayName=k8;var A8="Tooltip",[Sbe,Ib]=Mb(A8),Aj="TooltipTrigger",MZ=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ib(Aj,r),i=C8(Aj,r),a=qC(r),l=_.useRef(null),c=Tt(t,l,s.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),h=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(Lb,{asChild:!0,...a,children:o.jsx(it.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:dt(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:dt(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:dt(e.onBlur,s.onClose),onClick:dt(e.onClick,s.onClose)})})});MZ.displayName=Aj;var IZ="TooltipPortal",[jbe,DZ]=Mb(IZ,{forceMount:void 0}),Zp="TooltipContent",P8=_.forwardRef((e,t)=>{const r=DZ(Zp,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,a=Ib(Zp,e.__scopeTooltip);return o.jsx(ba,{present:n||a.open,children:a.disableHoverableContent?o.jsx(T8,{side:s,...i,ref:t}):o.jsx(FZ,{side:s,...i,ref:t})})}),FZ=_.forwardRef((e,t)=>{const r=Ib(Zp,e.__scopeTooltip),n=C8(Zp,e.__scopeTooltip),s=_.useRef(null),i=Tt(t,s),[a,l]=_.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,p=_.useCallback(()=>{l(null),h(!1)},[h]),f=_.useCallback((v,m)=>{const x=v.currentTarget,g={x:v.clientX,y:v.clientY},w=zZ(g,x.getBoundingClientRect()),S=VZ(g,w),k=WZ(m.getBoundingClientRect()),T=GZ([...S,...k]);l(T),h(!0)},[h]);return _.useEffect(()=>()=>p(),[p]),_.useEffect(()=>{if(c&&d){const v=x=>f(x,d),m=x=>f(x,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[c,d,f,p]),_.useEffect(()=>{if(a){const v=m=>{const x=m.target,g={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),S=!HZ(g,a);w?p():S&&(p(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,p]),o.jsx(T8,{...e,ref:i})}),[$Z,BZ]=Mb(A8,{isInside:!1}),UZ=eD("TooltipContent"),T8=_.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Ib(Zp,r),u=qC(r),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(uT,d),()=>document.removeEventListener(uT,d)),[d]),_.useEffect(()=>{if(c.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(Sm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(BC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(UZ,{children:n}),o.jsx($Z,{scope:r,isInside:!0,children:o.jsx(uK,{id:c.contentId,role:"tooltip",children:s||n})})]})})});P8.displayName=Zp;var R8="TooltipArrow",qZ=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=qC(r);return BZ(R8,r).isInside?null:o.jsx(UC,{...s,...n,ref:t})});qZ.displayName=R8;function zZ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function VZ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function WZ(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function HZ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function GZ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),YZ(t)}function YZ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var KZ=E8,O8=P8;const JZ=KZ,QZ=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(O8,{ref:n,sideOffset:t,className:Me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));QZ.displayName=O8.displayName;var Om=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kh=typeof window>"u"||"Deno"in globalThis;function yi(){}function ZZ(e,t){return typeof e=="function"?e(t):e}function Pj(e){return typeof e=="number"&&e>=0&&e!==1/0}function L8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vu(e,t){return typeof e=="function"?e(t):e}function Oa(e,t){return typeof e=="function"?e(t):e}function dT(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==zC(a,t.options))return!1}else if(!Yv(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function hT(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ch(t.options.mutationKey)!==Ch(i))return!1}else if(!Yv(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function zC(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ch)(e)}function Ch(e){return JSON.stringify(e,(t,r)=>Tj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Yv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Yv(e[r],t[r])):!1}function M8(e,t){if(e===t)return e;const r=fT(e)&&fT(t);if(r||Tj(e)&&Tj(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<a;d++){const h=r?d:i[d];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=M8(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return s===a&&u===s?e:l}return t}function yw(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function fT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tj(e){if(!pT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!pT(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pT(e){return Object.prototype.toString.call(e)==="[object Object]"}function XZ(e){return new Promise(t=>{setTimeout(t,e)})}function Rj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?M8(e,t):t}function eX(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function tX(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var VC=Symbol();function I8(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===VC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function D8(e,t){return typeof e=="function"?e(...t):!!e}var sh,wu,Pp,CM,rX=(CM=class extends Om{constructor(){super();Rt(this,sh);Rt(this,wu);Rt(this,Pp);nt(this,Pp,t=>{if(!kh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){he(this,wu)||this.setEventListener(he(this,Pp))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,wu))==null||t.call(this),nt(this,wu,void 0))}setEventListener(t){var r;nt(this,Pp,t),(r=he(this,wu))==null||r.call(this),nt(this,wu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){he(this,sh)!==t&&(nt(this,sh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof he(this,sh)=="boolean"?he(this,sh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},sh=new WeakMap,wu=new WeakMap,Pp=new WeakMap,CM),WC=new rX,Tp,bu,Rp,EM,nX=(EM=class extends Om{constructor(){super();Rt(this,Tp,!0);Rt(this,bu);Rt(this,Rp);nt(this,Rp,t=>{if(!kh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){he(this,bu)||this.setEventListener(he(this,Rp))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,bu))==null||t.call(this),nt(this,bu,void 0))}setEventListener(t){var r;nt(this,Rp,t),(r=he(this,bu))==null||r.call(this),nt(this,bu,t(this.setOnline.bind(this)))}setOnline(t){he(this,Tp)!==t&&(nt(this,Tp,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return he(this,Tp)}},Tp=new WeakMap,bu=new WeakMap,Rp=new WeakMap,EM),xw=new nX;function Oj(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function sX(e){return Math.min(1e3*2**e,3e4)}function F8(e){return(e??"online")==="online"?xw.isOnline():!0}var $8=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function V_(e){return e instanceof $8}function B8(e){let t=!1,r=0,n=!1,s;const i=Oj(),a=m=>{var x;n||(p(new $8(m)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>WC.isFocused()&&(e.networkMode==="always"||xw.isOnline())&&e.canRun(),d=()=>F8(e.networkMode)&&e.canRun(),h=m=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,m),s==null||s(),i.resolve(m))},p=m=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,m),s==null||s(),i.reject(m))},f=()=>new Promise(m=>{var x;s=g=>{(n||u())&&m(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),v=()=>{if(n)return;let m;const x=r===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(h).catch(g=>{var R;if(n)return;const w=e.retry??(kh?0:3),S=e.retryDelay??sX,k=typeof S=="function"?S(r,g):S,T=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,g);if(t||!T){p(g);return}r++,(R=e.onFail)==null||R.call(e,r,g),XZ(k).then(()=>u()?void 0:f()).then(()=>{t?p(g):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():f().then(v),i)}}var iX=e=>setTimeout(e,0);function aX(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=iX;const i=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ss=aX(),ih,AM,U8=(AM=class{constructor(){Rt(this,ih)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pj(this.gcTime)&&nt(this,ih,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kh?1/0:5*60*1e3))}clearGcTimeout(){he(this,ih)&&(clearTimeout(he(this,ih)),nt(this,ih,void 0))}},ih=new WeakMap,AM),Op,ah,Ra,oh,ni,x0,lh,yo,Jl,PM,oX=(PM=class extends U8{constructor(t){super();Rt(this,yo);Rt(this,Op);Rt(this,ah);Rt(this,Ra);Rt(this,oh);Rt(this,ni);Rt(this,x0);Rt(this,lh);nt(this,lh,!1),nt(this,x0,t.defaultOptions),this.setOptions(t.options),this.observers=[],nt(this,oh,t.client),nt(this,Ra,he(this,oh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,nt(this,Op,lX(this.options)),this.state=t.state??he(this,Op),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=he(this,ni))==null?void 0:t.promise}setOptions(t){this.options={...he(this,x0),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,Ra).remove(this)}setData(t,r){const n=Rj(this.state.data,t,this.options);return ir(this,yo,Jl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ir(this,yo,Jl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=he(this,ni))==null?void 0:n.promise;return(s=he(this,ni))==null||s.cancel(t),r?r.then(yi).catch(yi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,Op))}isActive(){return this.observers.some(t=>Oa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===VC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Vu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!L8(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=he(this,ni))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=he(this,ni))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),he(this,Ra).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(he(this,ni)&&(he(this,lh)?he(this,ni).cancel({revert:!0}):he(this,ni).cancelRetry()),this.scheduleGc()),he(this,Ra).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ir(this,yo,Jl).call(this,{type:"invalidate"})}fetch(t,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(he(this,ni))return he(this,ni).continueRetry(),he(this,ni).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(nt(this,lh,!0),n.signal)})},i=()=>{const p=I8(this.options,r),v=(()=>{const m={client:he(this,oh),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return nt(this,lh,!1),this.options.persister?this.options.persister(p,v,this):p(v)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:he(this,oh),state:this.state,fetchFn:i};return s(p),p})();(u=this.options.behavior)==null||u.onFetch(l,this),nt(this,ah,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ir(this,yo,Jl).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=p=>{var f,v,m,x;V_(p)&&p.silent||ir(this,yo,Jl).call(this,{type:"error",error:p}),V_(p)||((v=(f=he(this,Ra).config).onError)==null||v.call(f,p,this),(x=(m=he(this,Ra).config).onSettled)==null||x.call(m,this.state.data,p,this)),this.scheduleGc()};return nt(this,ni,B8({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var f,v,m,x;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(g){c(g);return}(v=(f=he(this,Ra).config).onSuccess)==null||v.call(f,p,this),(x=(m=he(this,Ra).config).onSettled)==null||x.call(m,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,f)=>{ir(this,yo,Jl).call(this,{type:"failed",failureCount:p,error:f})},onPause:()=>{ir(this,yo,Jl).call(this,{type:"pause"})},onContinue:()=>{ir(this,yo,Jl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),he(this,ni).start()}},Op=new WeakMap,ah=new WeakMap,Ra=new WeakMap,oh=new WeakMap,ni=new WeakMap,x0=new WeakMap,lh=new WeakMap,yo=new WeakSet,Jl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...q8(n.data,this.options),fetchMeta:t.meta??null};case"success":return nt(this,ah,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return V_(s)&&s.revert&&he(this,ah)?{...he(this,ah),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ss.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),he(this,Ra).notify({query:this,type:"updated",action:t})})},PM);function q8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:F8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lX(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var il,TM,cX=(TM=class extends Om{constructor(t={}){super();Rt(this,il);this.config=t,nt(this,il,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??zC(s,r);let a=this.get(i);return a||(a=new oX({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){he(this,il).has(t.queryHash)||(he(this,il).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=he(this,il).get(t.queryHash);r&&(t.destroy(),r===t&&he(this,il).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ss.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return he(this,il).get(t)}getAll(){return[...he(this,il).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>dT(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>dT(t,n)):r}notify(t){Ss.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ss.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ss.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},il=new WeakMap,TM),al,mi,ch,ol,au,RM,uX=(RM=class extends U8{constructor(t){super();Rt(this,ol);Rt(this,al);Rt(this,mi);Rt(this,ch);this.mutationId=t.mutationId,nt(this,mi,t.mutationCache),nt(this,al,[]),this.state=t.state||z8(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){he(this,al).includes(t)||(he(this,al).push(t),this.clearGcTimeout(),he(this,mi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){nt(this,al,he(this,al).filter(r=>r!==t)),this.scheduleGc(),he(this,mi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){he(this,al).length||(this.state.status==="pending"?this.scheduleGc():he(this,mi).remove(this))}continue(){var t;return((t=he(this,ch))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,l,c,u,d,h,p,f,v,m,x,g,w,S,k,T,R,L,D;const r=()=>{ir(this,ol,au).call(this,{type:"continue"})};nt(this,ch,B8({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,G)=>{ir(this,ol,au).call(this,{type:"failed",failureCount:M,error:G})},onPause:()=>{ir(this,ol,au).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,mi).canRun(this)}));const n=this.state.status==="pending",s=!he(this,ch).canStart();try{if(n)r();else{ir(this,ol,au).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=he(this,mi).config).onMutate)==null?void 0:a.call(i,t,this));const G=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));G!==this.state.context&&ir(this,ol,au).call(this,{type:"pending",context:G,variables:t,isPaused:s})}const M=await he(this,ch).start();return await((d=(u=he(this,mi).config).onSuccess)==null?void 0:d.call(u,M,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,M,t,this.state.context)),await((v=(f=he(this,mi).config).onSettled)==null?void 0:v.call(f,M,null,this.state.variables,this.state.context,this)),await((x=(m=this.options).onSettled)==null?void 0:x.call(m,M,null,t,this.state.context)),ir(this,ol,au).call(this,{type:"success",data:M}),M}catch(M){try{throw await((w=(g=he(this,mi).config).onError)==null?void 0:w.call(g,M,t,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,M,t,this.state.context)),await((R=(T=he(this,mi).config).onSettled)==null?void 0:R.call(T,void 0,M,this.state.variables,this.state.context,this)),await((D=(L=this.options).onSettled)==null?void 0:D.call(L,void 0,M,t,this.state.context)),M}finally{ir(this,ol,au).call(this,{type:"error",error:M})}}finally{he(this,mi).runNext(this)}}},al=new WeakMap,mi=new WeakMap,ch=new WeakMap,ol=new WeakSet,au=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ss.batch(()=>{he(this,al).forEach(n=>{n.onMutationUpdate(t)}),he(this,mi).notify({mutation:this,type:"updated",action:t})})},RM);function z8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ic,xo,w0,OM,dX=(OM=class extends Om{constructor(t={}){super();Rt(this,ic);Rt(this,xo);Rt(this,w0);this.config=t,nt(this,ic,new Set),nt(this,xo,new Map),nt(this,w0,0)}build(t,r,n){const s=new uX({mutationCache:this,mutationId:++Qy(this,w0)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){he(this,ic).add(t);const r=x1(t);if(typeof r=="string"){const n=he(this,xo).get(r);n?n.push(t):he(this,xo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(he(this,ic).delete(t)){const r=x1(t);if(typeof r=="string"){const n=he(this,xo).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&he(this,xo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=x1(t);if(typeof r=="string"){const n=he(this,xo).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=x1(t);if(typeof r=="string"){const s=(n=he(this,xo).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ss.batch(()=>{he(this,ic).forEach(t=>{this.notify({type:"removed",mutation:t})}),he(this,ic).clear(),he(this,xo).clear()})}getAll(){return Array.from(he(this,ic))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>hT(r,n))}findAll(t={}){return this.getAll().filter(r=>hT(t,r))}notify(t){Ss.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ss.batch(()=>Promise.all(t.map(r=>r.continue().catch(yi))))}},ic=new WeakMap,xo=new WeakMap,w0=new WeakMap,OM);function x1(e){var t;return(t=e.options.scope)==null?void 0:t.id}function mT(e){return{onFetch:(t,r)=>{var d,h,p,f,v;const n=t.options,s=(p=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},g=I8(t.options,t.fetchOptions),w=async(S,k,T)=>{if(m)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const L=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:k,direction:T?"backward":"forward",meta:t.options.meta};return x(A),A})(),D=await g(L),{maxPages:M}=t.options,G=T?tX:eX;return{pages:G(S.pages,D,M),pageParams:G(S.pageParams,k,M)}};if(s&&i.length){const S=s==="backward",k=S?hX:gT,T={pages:i,pageParams:a},R=k(n,T);l=await w(T,R,S)}else{const S=e??i.length;do{const k=c===0?a[0]??n.initialPageParam:gT(n,l);if(c>0&&k==null)break;l=await w(l,k),c++}while(c<S)}return l};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function gT(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function hX(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Un,_u,Su,Lp,Mp,ju,Ip,Dp,LM,fX=(LM=class{constructor(e={}){Rt(this,Un);Rt(this,_u);Rt(this,Su);Rt(this,Lp);Rt(this,Mp);Rt(this,ju);Rt(this,Ip);Rt(this,Dp);nt(this,Un,e.queryCache||new cX),nt(this,_u,e.mutationCache||new dX),nt(this,Su,e.defaultOptions||{}),nt(this,Lp,new Map),nt(this,Mp,new Map),nt(this,ju,0)}mount(){Qy(this,ju)._++,he(this,ju)===1&&(nt(this,Ip,WC.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Un).onFocus())})),nt(this,Dp,xw.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Un).onOnline())})))}unmount(){var e,t;Qy(this,ju)._--,he(this,ju)===0&&((e=he(this,Ip))==null||e.call(this),nt(this,Ip,void 0),(t=he(this,Dp))==null||t.call(this),nt(this,Dp,void 0))}isFetching(e){return he(this,Un).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return he(this,_u).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=he(this,Un).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=he(this,Un).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Vu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return he(this,Un).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=he(this,Un).get(n.queryHash),i=s==null?void 0:s.state.data,a=ZZ(t,i);if(a!==void 0)return he(this,Un).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Ss.batch(()=>he(this,Un).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=he(this,Un).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=he(this,Un);Ss.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=he(this,Un);return Ss.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ss.batch(()=>he(this,Un).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(yi).catch(yi)}invalidateQueries(e,t={}){return Ss.batch(()=>(he(this,Un).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ss.batch(()=>he(this,Un).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(yi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(yi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=he(this,Un).build(this,t);return r.isStaleByTime(Vu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(yi).catch(yi)}fetchInfiniteQuery(e){return e.behavior=mT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(yi).catch(yi)}ensureInfiniteQueryData(e){return e.behavior=mT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xw.isOnline()?he(this,_u).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,Un)}getMutationCache(){return he(this,_u)}getDefaultOptions(){return he(this,Su)}setDefaultOptions(e){nt(this,Su,e)}setQueryDefaults(e,t){he(this,Lp).set(Ch(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...he(this,Lp).values()],r={};return t.forEach(n=>{Yv(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){he(this,Mp).set(Ch(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...he(this,Mp).values()],r={};return t.forEach(n=>{Yv(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...he(this,Su).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===VC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...he(this,Su).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){he(this,Un).clear(),he(this,_u).clear()}},Un=new WeakMap,_u=new WeakMap,Su=new WeakMap,Lp=new WeakMap,Mp=new WeakMap,ju=new WeakMap,Ip=new WeakMap,Dp=new WeakMap,LM),Ti,hr,b0,gi,uh,Fp,Nu,ku,_0,$p,Bp,dh,hh,Cu,Up,Br,Gg,Lj,Mj,Ij,Dj,Fj,$j,Bj,V8,MM,pX=(MM=class extends Om{constructor(t,r){super();Rt(this,Br);Rt(this,Ti);Rt(this,hr);Rt(this,b0);Rt(this,gi);Rt(this,uh);Rt(this,Fp);Rt(this,Nu);Rt(this,ku);Rt(this,_0);Rt(this,$p);Rt(this,Bp);Rt(this,dh);Rt(this,hh);Rt(this,Cu);Rt(this,Up,new Set);this.options=r,nt(this,Ti,t),nt(this,ku,null),nt(this,Nu,Oj()),this.options.experimental_prefetchInRender||he(this,Nu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(he(this,hr).addObserver(this),vT(he(this,hr),this.options)?ir(this,Br,Gg).call(this):this.updateResult(),ir(this,Br,Dj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Uj(he(this,hr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Uj(he(this,hr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ir(this,Br,Fj).call(this),ir(this,Br,$j).call(this),he(this,hr).removeObserver(this)}setOptions(t){const r=this.options,n=he(this,hr);if(this.options=he(this,Ti).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oa(this.options.enabled,he(this,hr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ir(this,Br,Bj).call(this),he(this,hr).setOptions(this.options),r._defaulted&&!yw(this.options,r)&&he(this,Ti).getQueryCache().notify({type:"observerOptionsUpdated",query:he(this,hr),observer:this});const s=this.hasListeners();s&&yT(he(this,hr),n,this.options,r)&&ir(this,Br,Gg).call(this),this.updateResult(),s&&(he(this,hr)!==n||Oa(this.options.enabled,he(this,hr))!==Oa(r.enabled,he(this,hr))||Vu(this.options.staleTime,he(this,hr))!==Vu(r.staleTime,he(this,hr)))&&ir(this,Br,Lj).call(this);const i=ir(this,Br,Mj).call(this);s&&(he(this,hr)!==n||Oa(this.options.enabled,he(this,hr))!==Oa(r.enabled,he(this,hr))||i!==he(this,Cu))&&ir(this,Br,Ij).call(this,i)}getOptimisticResult(t){const r=he(this,Ti).getQueryCache().build(he(this,Ti),t),n=this.createResult(r,t);return gX(this,n)&&(nt(this,gi,n),nt(this,Fp,this.options),nt(this,uh,he(this,hr).state)),n}getCurrentResult(){return he(this,gi)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){he(this,Up).add(t)}getCurrentQuery(){return he(this,hr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=he(this,Ti).defaultQueryOptions(t),n=he(this,Ti).getQueryCache().build(he(this,Ti),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ir(this,Br,Gg).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),he(this,gi)))}createResult(t,r){var M;const n=he(this,hr),s=this.options,i=he(this,gi),a=he(this,uh),l=he(this,Fp),u=t!==n?t.state:he(this,b0),{state:d}=t;let h={...d},p=!1,f;if(r._optimisticResults){const G=this.hasListeners(),A=!G&&vT(t,r),I=G&&yT(t,n,r,s);(A||I)&&(h={...h,...q8(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:x}=h;f=h.data;let g=!1;if(r.placeholderData!==void 0&&f===void 0&&x==="pending"){let G;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(G=i.data,g=!0):G=typeof r.placeholderData=="function"?r.placeholderData((M=he(this,Bp))==null?void 0:M.state.data,he(this,Bp)):r.placeholderData,G!==void 0&&(x="success",f=Rj(i==null?void 0:i.data,G,r),p=!0)}if(r.select&&f!==void 0&&!g)if(i&&f===(a==null?void 0:a.data)&&r.select===he(this,_0))f=he(this,$p);else try{nt(this,_0,r.select),f=r.select(f),f=Rj(i==null?void 0:i.data,f,r),nt(this,$p,f),nt(this,ku,null)}catch(G){nt(this,ku,G)}he(this,ku)&&(v=he(this,ku),f=he(this,$p),m=Date.now(),x="error");const w=h.fetchStatus==="fetching",S=x==="pending",k=x==="error",T=S&&w,R=f!==void 0,D={status:x,fetchStatus:h.fetchStatus,isPending:S,isSuccess:x==="success",isError:k,isInitialLoading:T,isLoading:T,data:f,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!S,isLoadingError:k&&!R,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:k&&R,isStale:HC(t,r),refetch:this.refetch,promise:he(this,Nu),isEnabled:Oa(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const G=$=>{D.status==="error"?$.reject(D.error):D.data!==void 0&&$.resolve(D.data)},A=()=>{const $=nt(this,Nu,D.promise=Oj());G($)},I=he(this,Nu);switch(I.status){case"pending":t.queryHash===n.queryHash&&G(I);break;case"fulfilled":(D.status==="error"||D.data!==I.value)&&A();break;case"rejected":(D.status!=="error"||D.error!==I.reason)&&A();break}}return D}updateResult(){const t=he(this,gi),r=this.createResult(he(this,hr),this.options);if(nt(this,uh,he(this,hr).state),nt(this,Fp,this.options),he(this,uh).data!==void 0&&nt(this,Bp,he(this,hr)),yw(r,t))return;nt(this,gi,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!he(this,Up).size)return!0;const a=new Set(i??he(this,Up));return this.options.throwOnError&&a.add("error"),Object.keys(he(this,gi)).some(l=>{const c=l;return he(this,gi)[c]!==t[c]&&a.has(c)})};ir(this,Br,V8).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ir(this,Br,Dj).call(this)}},Ti=new WeakMap,hr=new WeakMap,b0=new WeakMap,gi=new WeakMap,uh=new WeakMap,Fp=new WeakMap,Nu=new WeakMap,ku=new WeakMap,_0=new WeakMap,$p=new WeakMap,Bp=new WeakMap,dh=new WeakMap,hh=new WeakMap,Cu=new WeakMap,Up=new WeakMap,Br=new WeakSet,Gg=function(t){ir(this,Br,Bj).call(this);let r=he(this,hr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(yi)),r},Lj=function(){ir(this,Br,Fj).call(this);const t=Vu(this.options.staleTime,he(this,hr));if(kh||he(this,gi).isStale||!Pj(t))return;const n=L8(he(this,gi).dataUpdatedAt,t)+1;nt(this,dh,setTimeout(()=>{he(this,gi).isStale||this.updateResult()},n))},Mj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(he(this,hr)):this.options.refetchInterval)??!1},Ij=function(t){ir(this,Br,$j).call(this),nt(this,Cu,t),!(kh||Oa(this.options.enabled,he(this,hr))===!1||!Pj(he(this,Cu))||he(this,Cu)===0)&&nt(this,hh,setInterval(()=>{(this.options.refetchIntervalInBackground||WC.isFocused())&&ir(this,Br,Gg).call(this)},he(this,Cu)))},Dj=function(){ir(this,Br,Lj).call(this),ir(this,Br,Ij).call(this,ir(this,Br,Mj).call(this))},Fj=function(){he(this,dh)&&(clearTimeout(he(this,dh)),nt(this,dh,void 0))},$j=function(){he(this,hh)&&(clearInterval(he(this,hh)),nt(this,hh,void 0))},Bj=function(){const t=he(this,Ti).getQueryCache().build(he(this,Ti),this.options);if(t===he(this,hr))return;const r=he(this,hr);nt(this,hr,t),nt(this,b0,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},V8=function(t){Ss.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(he(this,gi))}),he(this,Ti).getQueryCache().notify({query:he(this,hr),type:"observerResultsUpdated"})})},MM);function mX(e,t){return Oa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function vT(e,t){return mX(e,t)||e.state.data!==void 0&&Uj(e,t,t.refetchOnMount)}function Uj(e,t,r){if(Oa(t.enabled,e)!==!1&&Vu(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&HC(e,t)}return!1}function yT(e,t,r,n){return(e!==t||Oa(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&HC(e,r)}function HC(e,t){return Oa(t.enabled,e)!==!1&&e.isStaleByTime(Vu(t.staleTime,e))}function gX(e,t){return!yw(e.getCurrentResult(),t)}var Eu,Au,Ri,ac,xc,yx,qj,IM,vX=(IM=class extends Om{constructor(r,n){super();Rt(this,xc);Rt(this,Eu);Rt(this,Au);Rt(this,Ri);Rt(this,ac);nt(this,Eu,r),this.setOptions(n),this.bindMethods(),ir(this,xc,yx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=he(this,Eu).defaultMutationOptions(r),yw(this.options,n)||he(this,Eu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:he(this,Ri),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ch(n.mutationKey)!==Ch(this.options.mutationKey)?this.reset():((s=he(this,Ri))==null?void 0:s.state.status)==="pending"&&he(this,Ri).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=he(this,Ri))==null||r.removeObserver(this)}onMutationUpdate(r){ir(this,xc,yx).call(this),ir(this,xc,qj).call(this,r)}getCurrentResult(){return he(this,Au)}reset(){var r;(r=he(this,Ri))==null||r.removeObserver(this),nt(this,Ri,void 0),ir(this,xc,yx).call(this),ir(this,xc,qj).call(this)}mutate(r,n){var s;return nt(this,ac,n),(s=he(this,Ri))==null||s.removeObserver(this),nt(this,Ri,he(this,Eu).getMutationCache().build(he(this,Eu),this.options)),he(this,Ri).addObserver(this),he(this,Ri).execute(r)}},Eu=new WeakMap,Au=new WeakMap,Ri=new WeakMap,ac=new WeakMap,xc=new WeakSet,yx=function(){var n;const r=((n=he(this,Ri))==null?void 0:n.state)??z8();nt(this,Au,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},qj=function(r){Ss.batch(()=>{var n,s,i,a,l,c,u,d;if(he(this,ac)&&this.hasListeners()){const h=he(this,Au).variables,p=he(this,Au).context;(r==null?void 0:r.type)==="success"?((s=(n=he(this,ac)).onSuccess)==null||s.call(n,r.data,h,p),(a=(i=he(this,ac)).onSettled)==null||a.call(i,r.data,null,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=he(this,ac)).onError)==null||c.call(l,r.error,h,p),(d=(u=he(this,ac)).onSettled)==null||d.call(u,void 0,r.error,h,p))}this.listeners.forEach(h=>{h(he(this,Au))})})},IM),W8=_.createContext(void 0),In=e=>{const t=_.useContext(W8);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},yX=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(W8.Provider,{value:e,children:t})),H8=_.createContext(!1),xX=()=>_.useContext(H8);H8.Provider;function wX(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var bX=_.createContext(wX()),_X=()=>_.useContext(bX),SX=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},jX=e=>{_.useEffect(()=>{e.clearReset()},[e])},NX=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||D8(r,[e.error,n])),kX=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},CX=(e,t)=>e.isLoading&&e.isFetching&&!t,EX=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,xT=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function AX(e,t,r){var h,p,f,v,m;const n=xX(),s=_X(),i=In(),a=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,a),a._optimisticResults=n?"isRestoring":"optimistic",kX(a),SX(a,s),jX(s);const l=!i.getQueryCache().get(a.queryHash),[c]=_.useState(()=>new t(i,a)),u=c.getOptimisticResult(a),d=!n&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(x=>{const g=d?c.subscribe(Ss.batchCalls(x)):yi;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(a)},[a,c]),EX(a,u))throw xT(a,c,s);if(NX({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((v=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||v.call(f,a,u),a.experimental_prefetchInRender&&!kh&&CX(u,n)){const x=l?xT(a,c,s):(m=i.getQueryCache().get(a.queryHash))==null?void 0:m.promise;x==null||x.catch(yi).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Cn(e,t){return AX(e,pX)}function Qr(e,t){const r=In(),[n]=_.useState(()=>new vX(r,e));_.useEffect(()=>{n.setOptions(e)},[n,e]);const s=_.useSyncExternalStore(_.useCallback(a=>n.subscribe(Ss.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=_.useCallback((a,l)=>{n.mutate(a,l).catch(yi)},[n]);if(s.error&&D8(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wT="popstate";function PX(e={}){function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return zj("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Kv(s)}return RX(t,r,null,e)}function En(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ka(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TX(){return Math.random().toString(36).substring(2,10)}function bT(e,t){return{usr:e.state,key:e.key,idx:t}}function zj(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Lm(t):t,state:r,key:t&&t.key||n||TX()}}function Kv({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Lm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function RX(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let x=d(),g=x==null?null:x-u;u=x,c&&c({action:l,location:m.location,delta:g})}function p(x,g){l="PUSH";let w=zj(m.location,x,g);u=d()+1;let S=bT(w,u),k=m.createHref(w);try{a.pushState(S,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(k)}i&&c&&c({action:l,location:m.location,delta:1})}function f(x,g){l="REPLACE";let w=zj(m.location,x,g);u=d();let S=bT(w,u),k=m.createHref(w);a.replaceState(S,"",k),i&&c&&c({action:l,location:m.location,delta:0})}function v(x){return OX(x)}let m={get action(){return l},get location(){return e(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(wT,h),c=x,()=>{s.removeEventListener(wT,h),c=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:f,go(x){return a.go(x)}};return m}function OX(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),En(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Kv(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function G8(e,t,r="/"){return LX(e,t,r,!1)}function LX(e,t,r,n){let s=typeof t=="string"?Lm(t):t,i=Ac(s.pathname||"/",r);if(i==null)return null;let a=Y8(e);MX(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=HX(i);l=VX(a[c],u,n)}return l}function Y8(e,t=[],r=[],n="",s=!1){let i=(a,l,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;En(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=mc([n,d.relativePath]),p=r.concat(d);a.children&&a.children.length>0&&(En(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Y8(a.children,t,p,h,c)),!(a.path==null&&!a.index)&&t.push({path:h,score:qX(h,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let u of K8(a.path))i(a,l,!0,u)}),t}function K8(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=K8(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function MX(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:zX(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var IX=/^:[\w-]+$/,DX=3,FX=2,$X=1,BX=10,UX=-2,_T=e=>e==="*";function qX(e,t){let r=e.split("/"),n=r.length;return r.some(_T)&&(n+=UX),t&&(n+=FX),r.filter(s=>!_T(s)).reduce((s,i)=>s+(IX.test(i)?DX:i===""?$X:BX),n)}function zX(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function VX(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=ww({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=ww({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:mc([i,h.pathname]),pathnameBase:JX(mc([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=mc([i,h.pathnameBase]))}return a}function ww(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=WX(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},p)=>{if(d==="*"){let v=l[p]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const f=l[p];return h&&!f?u[d]=void 0:u[d]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function WX(e,t=!1,r=!0){Ka(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function HX(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ka(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ac(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var J8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GX=e=>J8.test(e);function YX(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Lm(e):e,i;if(r)if(GX(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Ka(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=ST(r.substring(1),"/"):i=ST(r,t)}else i=t;return{pathname:i,search:QX(n),hash:ZX(s)}}function ST(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function W_(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KX(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function GC(e){let t=KX(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function YC(e,t,r,n=!1){let s;typeof e=="string"?s=Lm(e):(s={...e},En(!s.pathname||!s.pathname.includes("?"),W_("?","pathname","search",s)),En(!s.pathname||!s.pathname.includes("#"),W_("#","pathname","hash",s)),En(!s.search||!s.search.includes("#"),W_("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=YX(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var mc=e=>e.join("/").replace(/\/\/+/g,"/"),JX=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QX=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZX=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,XX=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function eee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function tee(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Q8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Z8(e,t){let r=e;if(typeof r!="string"||!J8.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,s=!1;if(Q8)try{let i=new URL(window.location.href),a=r.startsWith("//")?new URL(i.protocol+r):new URL(r),l=Ac(a.pathname,t);a.origin===i.origin&&l!=null?r=l+a.search+a.hash:s=!0}catch{Ka(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var X8=["POST","PUT","PATCH","DELETE"];new Set(X8);var ree=["GET",...X8];new Set(ree);var Mm=_.createContext(null);Mm.displayName="DataRouter";var Db=_.createContext(null);Db.displayName="DataRouterState";var nee=_.createContext(!1),eF=_.createContext({isTransitioning:!1});eF.displayName="ViewTransition";var see=_.createContext(new Map);see.displayName="Fetchers";var iee=_.createContext(null);iee.displayName="Await";var _a=_.createContext(null);_a.displayName="Navigation";var O0=_.createContext(null);O0.displayName="Location";var kl=_.createContext({outlet:null,matches:[],isDataRoute:!1});kl.displayName="Route";var KC=_.createContext(null);KC.displayName="RouteError";var tF="REACT_ROUTER_ERROR",aee="REDIRECT",oee="ROUTE_ERROR_RESPONSE";function lee(e){if(e.startsWith(`${tF}:${aee}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function cee(e){if(e.startsWith(`${tF}:${oee}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new XX(t.status,t.statusText,t.data)}catch{}}function uee(e,{relative:t}={}){En(Im(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(_a),{hash:s,pathname:i,search:a}=L0(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:mc([r,i])),n.createHref({pathname:l,search:a,hash:s})}function Im(){return _.useContext(O0)!=null}function Cl(){return En(Im(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(O0).location}var rF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nF(e){_.useContext(_a).static||_.useLayoutEffect(e)}function Ks(){let{isDataRoute:e}=_.useContext(kl);return e?See():dee()}function dee(){En(Im(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(Mm),{basename:t,navigator:r}=_.useContext(_a),{matches:n}=_.useContext(kl),{pathname:s}=Cl(),i=JSON.stringify(GC(n)),a=_.useRef(!1);return nF(()=>{a.current=!0}),_.useCallback((c,u={})=>{if(Ka(a.current,rF),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=YC(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:mc([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}_.createContext(null);function L0(e,{relative:t}={}){let{matches:r}=_.useContext(kl),{pathname:n}=Cl(),s=JSON.stringify(GC(r));return _.useMemo(()=>YC(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function hee(e,t){return sF(e,t)}function sF(e,t,r,n,s){var w;En(Im(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(_a),{matches:a}=_.useContext(kl),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let S=h&&h.path||"";aF(u,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Cl(),f;if(t){let S=typeof t=="string"?Lm(t):t;En(d==="/"||((w=S.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),f=S}else f=p;let v=f.pathname||"/",m=v;if(d!=="/"){let S=d.replace(/^\//,"").split("/");m="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=G8(e,{pathname:m});Ka(h||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Ka(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=vee(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:mc([d,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:mc([d,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),a,r,n,s);return t&&g?_.createElement(O0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},g):g}function fee(){let e=_ee(),t=eee(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:i},"ErrorBoundary")," or"," ",_.createElement("code",{style:i},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:s},r):null,a)}var pee=_.createElement(fee,null),iF=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=cee(e.digest);r&&(e=r)}let t=e!==void 0?_.createElement(kl.Provider,{value:this.props.routeContext},_.createElement(KC.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?_.createElement(mee,{error:e},t):t}};iF.contextType=nee;var H_=new WeakMap;function mee({children:e,error:t}){let{basename:r}=_.useContext(_a);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=lee(t.digest);if(n){let s=H_.get(t);if(s)throw s;let i=Z8(n.location,r);if(Q8&&!H_.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw H_.set(t,a),a}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function gee({routeContext:e,match:t,children:r}){let n=_.useContext(Mm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(kl.Provider,{value:e},r)}function vee(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);En(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:f}=r,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var p,f;n(d,{location:r.location,params:((f=(p=r.matches)==null?void 0:p[0])==null?void 0:f.params)??{},unstable_pattern:tee(r.matches),errorInfo:h})}:void 0;return i.reduceRight((d,h,p)=>{let f,v=!1,m=null,x=null;r&&(f=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||pee,l&&(c<0&&p===0?(aF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,p+1)),w=()=>{let S;return f?S=m:v?S=x:h.route.Component?S=_.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,_.createElement(gee,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:S})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?_.createElement(iF,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):w()},null)}function JC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yee(e){let t=_.useContext(Mm);return En(t,JC(e)),t}function xee(e){let t=_.useContext(Db);return En(t,JC(e)),t}function wee(e){let t=_.useContext(kl);return En(t,JC(e)),t}function QC(e){let t=wee(e),r=t.matches[t.matches.length-1];return En(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function bee(){return QC("useRouteId")}function _ee(){var n;let e=_.useContext(KC),t=xee("useRouteError"),r=QC("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function See(){let{router:e}=yee("useNavigate"),t=QC("useNavigate"),r=_.useRef(!1);return nF(()=>{r.current=!0}),_.useCallback(async(s,i={})=>{Ka(r.current,rF),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var jT={};function aF(e,t,r){!t&&!jT[e]&&(jT[e]=!0,Ka(!1,r))}_.memo(jee);function jee({routes:e,future:t,state:r,onError:n}){return sF(e,void 0,r,n,t)}function xx({to:e,replace:t,state:r,relative:n}){En(Im(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=_.useContext(_a);Ka(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=_.useContext(kl),{pathname:a}=Cl(),l=Ks(),c=YC(e,GC(i),a,n==="path"),u=JSON.stringify(c);return _.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function Nr(e){En(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nee({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){En(!Im(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[l,s,i,a]);typeof r=="string"&&(r=Lm(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,v=_.useMemo(()=>{let m=Ac(u,l);return m==null?null:{location:{pathname:m,search:d,hash:h,state:p,key:f},navigationType:n}},[l,u,d,h,p,f,n]);return Ka(v!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:_.createElement(_a.Provider,{value:c},_.createElement(O0.Provider,{children:t,value:v}))}function kee({children:e,location:t}){return hee(Vj(e),t)}function Vj(e,t=[]){let r=[];return _.Children.forEach(e,(n,s)=>{if(!_.isValidElement(n))return;let i=[...t,s];if(n.type===_.Fragment){r.push.apply(r,Vj(n.props.children,i));return}En(n.type===Nr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),En(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Vj(n.props.children,i)),r.push(a)}),r}var wx="get",bx="application/x-www-form-urlencoded";function Fb(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Cee(e){return Fb(e)&&e.tagName.toLowerCase()==="button"}function Eee(e){return Fb(e)&&e.tagName.toLowerCase()==="form"}function Aee(e){return Fb(e)&&e.tagName.toLowerCase()==="input"}function Pee(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tee(e,t){return e.button===0&&(!t||t==="_self")&&!Pee(e)}var w1=null;function Ree(){if(w1===null)try{new FormData(document.createElement("form"),0),w1=!1}catch{w1=!0}return w1}var Oee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function G_(e){return e!=null&&!Oee.has(e)?(Ka(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bx}"`),null):e}function Lee(e,t){let r,n,s,i,a;if(Eee(e)){let l=e.getAttribute("action");n=l?Ac(l,t):null,r=e.getAttribute("method")||wx,s=G_(e.getAttribute("enctype"))||bx,i=new FormData(e)}else if(Cee(e)||Aee(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Ac(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||wx,s=G_(e.getAttribute("formenctype"))||G_(l.getAttribute("enctype"))||bx,i=new FormData(l,e),!Ree()){let{name:u,type:d,value:h}=e;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,h)}}else{if(Fb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wx,n=null,s=bx,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ZC(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mee(e,t,r,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:t&&Ac(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Iee(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dee(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Fee(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await Iee(i,r);return a.links?a.links():[]}return[]}));return qee(n.flat(1).filter(Dee).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function NT(e,t,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function $ee(e,t,{includeHydrateFallback:r}={}){return Bee(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Bee(e){return[...new Set(e)]}function Uee(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function qee(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(Uee(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function oF(){let e=_.useContext(Mm);return ZC(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function zee(){let e=_.useContext(Db);return ZC(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var XC=_.createContext(void 0);XC.displayName="FrameworkContext";function lF(){let e=_.useContext(XC);return ZC(e,"You must render this element inside a <HydratedRouter> element"),e}function Vee(e,t){let r=_.useContext(XC),[n,s]=_.useState(!1),[i,a]=_.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=_.useRef(null);_.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let m=g=>{g.forEach(w=>{a(w.isIntersecting)})},x=new IntersectionObserver(m,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[e]),_.useEffect(()=>{if(n){let m=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(m)}}},[n]);let f=()=>{s(!0)},v=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:Og(l,f),onBlur:Og(c,v),onMouseEnter:Og(u,f),onMouseLeave:Og(d,v),onTouchStart:Og(h,f)}]:[!1,p,{}]}function Og(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Wee({page:e,...t}){let{router:r}=oF(),n=_.useMemo(()=>G8(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?_.createElement(Gee,{page:e,matches:n,...t}):null}function Hee(e){let{manifest:t,routeModules:r}=lF(),[n,s]=_.useState([]);return _.useEffect(()=>{let i=!1;return Fee(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function Gee({page:e,matches:t,...r}){let n=Cl(),{future:s,manifest:i,routeModules:a}=lF(),{basename:l}=oF(),{loaderData:c,matches:u}=zee(),d=_.useMemo(()=>NT(e,t,u,i,n,"data"),[e,t,u,i,n]),h=_.useMemo(()=>NT(e,t,u,i,n,"assets"),[e,t,u,i,n]),p=_.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,x=!1;if(t.forEach(w=>{var k;let S=i.routes[w.route.id];!S||!S.hasLoader||(!d.some(T=>T.route.id===w.route.id)&&w.route.id in c&&((k=a[w.route.id])!=null&&k.shouldRevalidate)||S.hasClientLoader?x=!0:m.add(w.route.id))}),m.size===0)return[];let g=Mee(e,l,s.unstable_trailingSlashAwareDataRequests,"data");return x&&m.size>0&&g.searchParams.set("_routes",t.filter(w=>m.has(w.route.id)).map(w=>w.route.id).join(",")),[g.pathname+g.search]},[l,s.unstable_trailingSlashAwareDataRequests,c,n,i,d,t,e,a]),f=_.useMemo(()=>$ee(h,i),[h,i]),v=Hee(h);return _.createElement(_.Fragment,null,p.map(m=>_.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),f.map(m=>_.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),v.map(({key:m,link:x})=>_.createElement("link",{key:m,nonce:r.nonce,...x})))}function Yee(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Kee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kee&&(window.__reactRouterVersion="7.12.0")}catch{}function Jee({basename:e,children:t,unstable_useTransitions:r,window:n}){let s=_.useRef();s.current==null&&(s.current=PX({window:n,v5Compat:!0}));let i=s.current,[a,l]=_.useState({action:i.action,location:i.location}),c=_.useCallback(u=>{r===!1?l(u):_.startTransition(()=>l(u))},[r]);return _.useLayoutEffect(()=>i.listen(c),[i,c]),_.createElement(Nee,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:r})}var cF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hr=_.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:p,...f},v){let{basename:m,unstable_useTransitions:x}=_.useContext(_a),g=typeof u=="string"&&cF.test(u),w=Z8(u,m);u=w.to;let S=uee(u,{relative:s}),[k,T,R]=Vee(n,f),L=ete(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:x});function D(G){t&&t(G),G.defaultPrevented||L(G)}let M=_.createElement("a",{...f,...R,href:w.absoluteURL||S,onClick:w.isExternal||i?t:D,ref:Yee(v,T),target:c,"data-discover":!g&&r==="render"?"true":void 0});return k&&!g?_.createElement(_.Fragment,null,M,_.createElement(Wee,{page:S})):M});Hr.displayName="Link";var Qee=_.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let h=L0(a,{relative:u.relative}),p=Cl(),f=_.useContext(Db),{navigator:v,basename:m}=_.useContext(_a),x=f!=null&&ite(h)&&l===!0,g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,w=p.pathname,S=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(w=w.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&m&&(S=Ac(S,m)||S);const k=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let T=w===g||!s&&w.startsWith(g)&&w.charAt(k)==="/",R=S!=null&&(S===g||!s&&S.startsWith(g)&&S.charAt(g.length)==="/"),L={isActive:T,isPending:R,isTransitioning:x},D=T?t:void 0,M;typeof n=="function"?M=n(L):M=[n,T?"active":null,R?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(L):i;return _.createElement(Hr,{...u,"aria-current":D,className:M,ref:d,style:G,to:a,viewTransition:l},typeof c=="function"?c(L):c)});Qee.displayName="NavLink";var Zee=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=wx,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:p,...f},v)=>{let{unstable_useTransitions:m}=_.useContext(_a),x=nte(),g=ste(l,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&cF.test(l),k=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let R=T.nativeEvent.submitter,L=(R==null?void 0:R.getAttribute("formmethod"))||a,D=()=>x(R||T.currentTarget,{fetcherKey:t,method:L,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:p});m&&r!==!1?_.startTransition(()=>D()):D()};return _.createElement("form",{ref:v,method:w,action:g,onSubmit:n?c:k,...f,"data-discover":!S&&e==="render"?"true":void 0})});Zee.displayName="Form";function Xee(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uF(e){let t=_.useContext(Mm);return En(t,Xee(e)),t}function ete(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=Ks(),d=Cl(),h=L0(e,{relative:i});return _.useCallback(p=>{if(Tee(p,t)){p.preventDefault();let f=r!==void 0?r:Kv(d)===Kv(h),v=()=>u(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:l});c?_.startTransition(()=>v()):v()}},[d,u,h,r,n,t,e,s,i,a,l,c])}var tte=0,rte=()=>`__${String(++tte)}__`;function nte(){let{router:e}=uF("useSubmit"),{basename:t}=_.useContext(_a),r=bee(),n=e.fetch,s=e.navigate;return _.useCallback(async(i,a={})=>{let{action:l,method:c,encType:u,formData:d,body:h}=Lee(i,t);if(a.navigate===!1){let p=a.fetcherKey||rte();await n(p,r,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await s(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,s,t,r])}function ste(e,{relative:t}={}){let{basename:r}=_.useContext(_a),n=_.useContext(kl);En(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...L0(e||".",{relative:t})},a=Cl();if(e==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:mc([r,i.pathname])),Kv(i)}function ite(e,{relative:t}={}){let r=_.useContext(eF);En(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=uF("useViewTransitionState"),s=L0(e,{relative:t});if(!r.isTransitioning)return!1;let i=Ac(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Ac(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ww(s.pathname,a)!=null||ww(s.pathname,i)!=null}var ul=function(){return ul=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ul.apply(this,arguments)};function Dm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function ate(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function ote(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const lte=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class eE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class cte extends eE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kT extends eE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class CT extends eE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wj||(Wj={}));class ute{constructor(t,{headers:r={},customFetch:n,region:s=Wj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=lte(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ate(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let p={},{region:f}=n;f||(f=this.region);const v=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(p["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(p["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let x=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:m,signal:x}).catch(T=>{throw new cte(T)}),w=g.headers.get("x-relay-error");if(w&&w==="true")throw new kT(g);if(!g.ok)throw new CT(g);let S=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return S==="application/json"?k=yield g.json():S==="application/octet-stream"||S==="application/pdf"?k=yield g.blob():S==="text/event-stream"?k=g:S==="multipart/form-data"?k=yield g.formData():k=yield g.text(),{data:k,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof CT||l instanceof kT?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var dte=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},hte=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,p;if(r.method!=="HEAD"){var f;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const m=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");m&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const m=await i.text();try{a=JSON.parse(m),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):a={message:m}}if(a&&r.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new dte(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,p;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${v}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var f;l=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},fte=class extends hte{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const ET=new RegExp("[,()]");var Ff=class extends fte{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&ET.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&ET.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},pte=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new Ff({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Ff({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new Ff({method:a,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Ff({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Ff({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},mte=class dF{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new pte(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new dF(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),h=n&&Object.values(r).some(d);h?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,v])=>v!==void 0).map(([f,v])=>[f,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([f,v])=>{c.searchParams.append(f,v)})):(l="POST",u=r);const p=new Headers(this.headers);return h?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new Ff({method:l,url:c,headers:p,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class gte{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const vte="2.90.1",yte=`realtime-js/${vte}`,hF="1.0.0",xte="2.0.0",AT=hF,Hj=1e4,wte=1e3,bte=100;var hu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hu||(hu={}));var ws;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ws||(ws={}));var bo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bo||(bo={}));var Gj;(function(e){e.websocket="websocket"})(Gj||(Gj={}));var Hd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Hd||(Hd={}));class _te{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(f),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,c.length),v.setUint8(m++,l.length),v.setUint8(m++,a.length),v.setUint8(m++,u.length),v.setUint8(m++,h.length),v.setUint8(m++,r),Array.from(c,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(l,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(h,g=>v.setUint8(m++,g.charCodeAt(0)));var x=new Uint8Array(f.byteLength+n.byteLength);return x.set(new Uint8Array(f),0),x.set(new Uint8Array(n),f.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+a));c=c+a;const p=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST_EVENT,event:d,payload:f};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class fF{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(dn||(dn={}));const PT=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=Ste(a,e,t,s),i),{}):{}},Ste=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?pF(i,a):Yj(a)},pF=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Cte(t,r)}switch(e){case dn.bool:return jte(t);case dn.float4:case dn.float8:case dn.int2:case dn.int4:case dn.int8:case dn.numeric:case dn.oid:return Nte(t);case dn.json:case dn.jsonb:return kte(t);case dn.timestamp:return Ete(t);case dn.abstime:case dn.date:case dn.daterange:case dn.int4range:case dn.int8range:case dn.money:case dn.reltime:case dn.text:case dn.time:case dn.timestamptz:case dn.timetz:case dn.tsrange:case dn.tstzrange:return Yj(t);default:return Yj(t)}},Yj=e=>e,jte=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Nte=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kte=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Cte=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>pF(t,l))}return e},Ete=e=>typeof e=="string"?e.replace(" ","T"):e,mF=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Y_{constructor(t,r,n={},s=Hj){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var TT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(TT||(TT={}));class gv{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gv.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=gv.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=gv.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const p=d.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),v=d.filter(x=>f.indexOf(x.presence_ref)<0),m=h.filter(x=>p.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var RT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(RT||(RT={}));var vv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vv||(vv={}));var Xl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xl||(Xl={}));class sp{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ws.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Y_(this,bo.join,this.params,this.timeout),this.rejoinTimer=new fF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ws.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ws.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ws.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ws.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ws.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bo.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new gv(this),this.broadcastEndpointURL=mF(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ws.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[vv.PRESENCE]&&this.bindings[vv.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Xl.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Xl.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(Xl.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,x=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,g=[];for(let w=0;w<x;w++){const S=m[w],{filter:{event:k,schema:T,table:R,filter:L}}=S,D=f&&f[w];if(D&&D.event===k&&sp.isFilterValueEqual(D.schema,T)&&sp.isFilterValueEqual(D.table,R)&&sp.isFilterValueEqual(D.filter,L))g.push(Object.assign(Object.assign({},S),{id:D.id}));else{this.unsubscribe(),this.state=ws.errored,t==null||t(Xl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Xl.SUBSCRIBED);return}}).receive("error",f=>{this.state=ws.errored,t==null||t(Xl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ws.joined&&t===vv.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ws.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Y_(this,bo.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ws.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Y_(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>bte){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=bo;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var v,m,x;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(m=f.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(f=>f.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var v,m,x,g,w,S,k,T;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const R=f.id,L=(v=f.filter)===null||v===void 0?void 0:v.event;return R&&((m=r.ids)===null||m===void 0?void 0:m.includes(R))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((g=f.filter)===null||g===void 0)&&g.table)||f.filter.table===((w=r.data)===null||w===void 0?void 0:w.table))}else{const R=(k=(S=f==null?void 0:f.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return R==="*"||R===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:m,table:x,commit_timestamp:g,type:w,errors:S}=v;p=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:g,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(v))}f.callback(p,n)})}_isClosed(){return this.state===ws.closed}_isJoined(){return this.state===ws.joined}_isJoining(){return this.state===ws.joining}_isLeaving(){return this.state===ws.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&sp.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bo.close,{},t)}_onError(t){this._on(bo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ws.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=PT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=PT(t.columns,t.old_record)),r}}const K_=()=>{},b1={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ate=[1e3,2e3,5e3,1e4],Pte=1e4,Tte=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rte{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hj,this.transport=null,this.heartbeatIntervalMs=b1.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=K_,this.ref=0,this.reconnectTimer=null,this.vsn=AT,this.logger=K_,this.conn=null,this.sendBuffer=[],this.serializer=new _te,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Gj.websocket}`,this.httpEndpoint=mF(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gte.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hu.connecting:return Hd.Connecting;case hu.open:return Hd.Open;case hu.closing:return Hd.Closing;default:return Hd.Closed}}isConnected(){return this.connectionState()===Hd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new sp(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wte,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},b1.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===hu.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===hu.open||this.conn.readyState===hu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(bo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Tte],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:yte};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(bo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new fF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},b1.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,d,h,p,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Hj,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:b1.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:K_,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:AT,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>Ate[v-1]||Pte,this.vsn){case hF:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,m)=>m(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,m)=>m(JSON.parse(v));break;case xte:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Jv=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ote(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Lte(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Mte(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=Ote(e.baseUrl,n,s),c=await Lte(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?p:void 0,v=f==null?void 0:f.error;throw new Jv((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:f})}return{status:u.status,headers:u.headers,data:p}}}}function _1(e){return e.join("")}var Ite=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:_1(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_1(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_1(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_1(e.namespace)}`}),!0}catch(t){if(t instanceof Jv&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Jv&&r.status===409)return;throw r}}};function _f(e){return e.join("")}var Dte=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_f(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_f(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_f(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_f(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_f(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_f(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Jv&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Jv&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Fte=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Mte({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Ite(this.client,t),this.tableOps=new Dte(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},$b=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Pn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var $te=class extends $b{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Kj=class extends $b{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const tE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Bte=()=>Response,Jj=e=>{if(Array.isArray(e))return e.map(r=>Jj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Jj(n)}),t},Ute=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qte=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function zte(e,t){if(Qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vte(e){var t=zte(e,"string");return Qv(t)=="symbol"?t:t+""}function Wte(e,t,r){return(t=Vte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){Wte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const J_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Hte=async(e,t,r)=>{e instanceof await Bte()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new $te(J_(n),s,i))}).catch(n=>{t(new Kj(J_(n),n))}):t(new Kj(J_(e),e))},Gte=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Ute(n)?(s.headers=It({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),It(It({},s),r))};async function M0(e,t,r,n,s,i){return new Promise((a,l)=>{e(r,Gte(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Hte(c,l,n))})}async function Zv(e,t,r,n){return M0(e,"GET",t,r,n)}async function vo(e,t,r,n,s){return M0(e,"POST",t,n,s,r)}async function Qj(e,t,r,n,s){return M0(e,"PUT",t,n,s,r)}async function Yte(e,t,r,n){return M0(e,"HEAD",t,It(It({},r),{},{noResolveJson:!0}),n)}async function rE(e,t,r,n,s){return M0(e,"DELETE",t,n,s,r)}var Kte=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}}};let gF;gF=Symbol.toStringTag;var Jte=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[gF]="BlobDownloadBuilder",this.promise=null}asStream(){return new Kte(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}}};const Qte={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Zte=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=tE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const a=It(It({},LT),n);let l=It(It({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=It(It({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?Qj:vo)(s.fetch,`${s.url}/object/${d}`,i,It({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Pn(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let c;const u=It({upsert:LT.upsert},n),d=It(It({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await Qj(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Pn(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=It({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await vo(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new $b("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await vo(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await vo(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await vo(n.fetch,`${n.url}/object/sign/${s}`,It({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await vo(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>It(It({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>Zv(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Jte(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Jj(await Zv(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Yte(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Pn(n)&&n instanceof Kj){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await rE(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=It(It(It({},Qte),t),{},{prefix:e||""});return{data:await vo(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=It({},e);return{data:await vo(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const vF="2.90.1",yF={"X-Client-Info":`storage-js/${vF}`};var Xte=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=It(It({},yF),t),this.fetch=tE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Zv(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Zv(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await vo(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Qj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await vo(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await rE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},ere=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=It(It({},yF),t),this.fetch=tE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await vo(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Zv(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await rE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!qte(e))throw new $b("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Fte({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const nE={"X-Client-Info":`storage-js/${vF}`,"Content-Type":"application/json"};var xF=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function oa(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Q_=class extends xF{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tre=class extends xF{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const sE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rre=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},MT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nre=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Q_(MT(i),n,a))}).catch(()=>{const i=n+"";t(new Q_(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Q_(s.statusText||`HTTP ${n} error`,n,i))}}else t(new tre(MT(e),e))},sre=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(rre(n)?(s.headers=It({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,It(It({},s),r)):s};async function ire(e,t,r,n,s,i){return new Promise((a,l)=>{e(r,sre(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>nre(c,l,n))})}async function la(e,t,r,n,s){return ire(e,"POST",t,n,s,r)}var are=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=It(It({},nE),t),this.fetch=sE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await la(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oa(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await la(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(oa(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await la(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oa(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await la(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(oa(n))return{data:null,error:n};throw n}}},ore=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=It(It({},nE),t),this.fetch=sE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await la(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oa(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await la(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oa(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await la(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oa(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await la(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oa(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await la(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oa(r))return{data:null,error:r};throw r}}},lre=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=It(It({},nE),t),this.fetch=sE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await la(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oa(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await la(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oa(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await la(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oa(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await la(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oa(r))return{data:null,error:r};throw r}}},cre=class extends lre{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new ure(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},ure=class extends are{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new dre(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},dre=class extends ore{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},hre=class extends Xte{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Zte(this.url,this.headers,e,this.fetch)}get vectors(){return new cre(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ere(this.url+"/iceberg",this.headers,this.fetch)}};const wF="2.90.1",$f=30*1e3,Zj=3,Z_=Zj*$f,fre="http://localhost:9999",pre="supabase.auth.token",mre={"X-Client-Info":`gotrue-js/${wF}`},Xj="X-Supabase-Api-Version",bF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gre=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vre=10*60*1e3;class Xv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Nt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yre extends Xv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function xre(e){return Nt(e)&&e.name==="AuthApiError"}class Gd extends Xv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Lc extends Xv{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ra extends Lc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wre(e){return Nt(e)&&e.name==="AuthSessionMissingError"}class Sf extends Lc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class S1 extends Lc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class j1 extends Lc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bre(e){return Nt(e)&&e.name==="AuthImplicitGrantRedirectError"}class IT extends Lc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _re extends Lc{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class eN extends Lc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function X_(e){return Nt(e)&&e.name==="AuthRetryableFetchError"}class DT extends Lc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tN extends Lc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),FT=` 	
\r=`.split(""),Sre=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<FT.length;t+=1)e[FT[t].charCodeAt(0)]=-2;for(let t=0;t<bw.length;t+=1)e[bw[t].charCodeAt(0)]=t;return e})();function $T(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bw[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bw[n]),t.queuedBits-=6}}function _F(e,t,r){const n=Sre[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function BT(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{kre(a,n,r)};for(let a=0;a<e.length;a+=1)_F(e.charCodeAt(a),s,i);return t.join("")}function jre(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Nre(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}jre(n,t)}}function kre(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function gp(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)_F(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Cre(e){const t=[];return Nre(e,r=>t.push(r)),new Uint8Array(t)}function Zd(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>$T(s,r,n)),$T(null,r,n),t.join("")}function Ere(e){return Math.round(Date.now()/1e3)+e}function Are(){return Symbol("auth-callback")}const zs=()=>typeof window<"u"&&typeof document<"u",Ld={tested:!1,writable:!1},SF=()=>{if(!zs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ld.tested)return Ld.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ld.tested=!0,Ld.writable=!0}catch{Ld.tested=!0,Ld.writable=!1}return Ld.writable};function Pre(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const jF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Tre=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Bf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Md=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Us=async(e,t)=>{await e.removeItem(t)};class Bb{constructor(){this.promise=new Bb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Bb.promiseConstructor=Promise;function e5(e){const t=e.split(".");if(t.length!==3)throw new tN("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!gre.test(t[n]))throw new tN("JWT not in base64url format");return{header:JSON.parse(BT(t[0])),payload:JSON.parse(BT(t[1])),signature:gp(t[2]),raw:{header:t[0],payload:t[1]}}}async function Rre(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ore(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Lre(e){return("0"+e.toString(16)).substr(-2)}function Mre(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Lre).join("")}async function Ire(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Dre(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Ire(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jf(e,t,r=!1){const n=Mre();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Bf(e,`${t}-code-verifier`,s);const i=await Dre(n);return[i,n===i?"plain":"s256"]}const Fre=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $re(e){const t=e.headers.get(Xj);if(!t||!t.match(Fre))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Bre(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ure(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qre=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nf(e){if(!qre.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function t5(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zre(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function UT(e){return JSON.parse(JSON.stringify(e))}const qd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vre=[502,503,504];async function qT(e){var t;if(!Tre(e))throw new eN(qd(e),0);if(Vre.includes(e.status))throw new eN(qd(e),e.status);let r;try{r=await e.json()}catch(i){throw new Gd(qd(i),i)}let n;const s=$re(e);if(s&&s.getTime()>=bF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new DT(qd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ra}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new DT(qd(r),e.status,r.weak_password.reasons);throw new yre(qd(r),e.status||500,n)}const Wre=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Mt(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Xj]||(i[Xj]=bF["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Hre(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Hre(e,t,r,n,s,i){const a=Wre(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new eN(qd(c),0)}if(l.ok||await qT(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await qT(c)}}function fo(e){var t;let r=null;Kre(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ere(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function zT(e){const t=fo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vu(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Gre(e){return{data:e,error:null}}function Yre(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Dm(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function VT(e){return e}function Kre(e){return e.access_token&&e.refresh_token&&e.expires_in}const r5=["global","local","others"];class Jre{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=jF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=r5[0]){if(r5.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${r5.join(", ")}`);try{return await Mt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vu})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Dm(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Yre,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Nt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Mt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vu})}catch(r){if(Nt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:VT});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Nt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Nf(t);try{return await Mt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vu})}catch(r){if(Nt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Nf(t);try{return await Mt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:vu})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Nf(t);try{return await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:vu})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Nf(t.userId);try{const{data:r,error:n}=await Mt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Nf(t.userId),Nf(t.id);try{return{data:await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Mt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:VT});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Nt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Mt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Mt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Mt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Mt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Mt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}}function WT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const kf={debug:!!(globalThis&&SF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class NF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Qre extends NF{}async function Zre(e,t,r){kf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),kf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){kf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{kf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw kf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Qre(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kf.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Xre(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ene(e){return parseInt(e,16)}function tne(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function rne(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=kF(e.address),v=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${f}

${m}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);w+=`
- ${S}`}g+=w}return`${x}
${g}`}class cs extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class _w extends cs{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function nne({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new cs({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new cs({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new cs({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new cs({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new cs({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new cs({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new cs({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new cs({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(CF(a)){if(i.rp.id!==a)return new cs({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new cs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new cs({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new cs({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new cs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function sne({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new cs({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new cs({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(CF(n)){if(r.rpId!==n)return new cs({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new cs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new cs({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new cs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ine{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ane=new ine;function one(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Dm(e,["challenge","user","excludeCredentials"]),i=gp(t).buffer,a=Object.assign(Object.assign({},r),{id:gp(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:gp(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function lne(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Dm(e,["challenge","allowCredentials"]),s=gp(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:gp(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function cne(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Zd(new Uint8Array(e.response.attestationObject)),clientDataJSON:Zd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function une(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Zd(new Uint8Array(s.authenticatorData)),clientDataJSON:Zd(new Uint8Array(s.clientDataJSON)),signature:Zd(new Uint8Array(s.signature)),userHandle:s.userHandle?Zd(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function HT(){var e,t;return!!(zs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function dne(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _w("Browser returned unexpected credential type",t)}:{data:null,error:new _w("Empty credential response",t)}}catch(t){return{data:null,error:nne({error:t,options:e})}}}async function hne(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _w("Browser returned unexpected credential type",t)}:{data:null,error:new _w("Empty credential response",t)}}catch(t){return{data:null,error:sne({error:t,options:e})}}}const fne={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pne={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sw(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=Sw(l,a):n[i]=Sw(a)}else n[i]=a}return n}function mne(e,t){return Sw(fne,e,t||{})}function gne(e,t){return Sw(pne,e,t||{})}class vne{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??ane.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=mne(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await dne({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=gne(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await hne(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return Nt(a)?{data:null,error:a}:{data:null,error:new Gd("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Xv("rpId is required for WebAuthn authentication")};try{if(!HT())return{data:null,error:new Gd("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return Nt(a)?{data:null,error:a}:{data:null,error:new Gd("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Xv("rpId is required for WebAuthn registration")};try{if(!HT())return{data:null,error:new Gd("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Nt(a)?{data:null,error:a}:{data:null,error:new Gd("Unexpected error in register",a)}}}}Xre();const yne={url:fre,storageKey:pre,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mre,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function GT(e,t,r){return await r()}const Cf={};class e0{get jwks(){var t,r;return(r=(t=Cf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Cf[this.storageKey]=Object.assign(Object.assign({},Cf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Cf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Cf[this.storageKey]=Object.assign(Object.assign({},Cf[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},yne),t);if(this.storageKey=i.storageKey,this.instanceID=(r=e0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&zs()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Jre({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jF(i.fetch),this.lock=i.lock||GT,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&zs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Zre:this.lock=GT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vne(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:SF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=WT(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=WT(this.memoryStorage)),zs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wF}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(zs()&&(r=Pre(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),zs()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bre(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Nt(r)?this._returnResult({error:r}):this._returnResult({error:new Gd("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:fo}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Nt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await jf(this.storage,this.storageKey)),i=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:v},xform:fo})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:fo})}else throw new S1("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await Us(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Us(this.storage,`${this.storageKey}-code-verifier`),Nt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zT})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zT})}else throw new S1("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Sf;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,d,h,p;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:m,wallet:x,statement:g,options:w}=t;let S;if(zs())if(typeof x=="object")S=x;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")S=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const k=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),T=await S.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=kF(T[0]);let L=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const M=await S.request({method:"eth_chainId"});L=ene(M)}const D={domain:k.host,address:R,statement:g,uri:k.href,version:"1",chainId:L,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=rne(D),v=await S.request({method:"personal_sign",params:[tne(f),R]})}try{const{data:m,error:x}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:fo});if(x)throw x;if(!m||!m.session||!m.user){const g=new Sf;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:x})}catch(m){if(Nt(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,h,p,f;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:x,wallet:g,statement:w,options:S}=t;let k;if(zs())if(typeof g=="object")k=g;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))k=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const T=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const R=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),w?{statement:w}:null));let L;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")L=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)L=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)v=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),m=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const R=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=R}}try{const{data:x,error:g}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Zd(m)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:fo});if(g)throw g;if(!x||!x.session||!x.user){const w=new Sf;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(Nt(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Md(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new _re;const{data:i,error:a}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:fo});if(await Us(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Sf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Us(this.storage,`${this.storageKey}-code-verifier`),Nt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:fo}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Sf;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await jf(this.storage,this.storageKey));const{error:h}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new S1("You must provide either an email or phone number.")}catch(l){if(await Us(this.storage,`${this.storageKey}-code-verifier`),Nt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:fo});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Nt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await jf(this.storage,this.storageKey));const u=await Mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Gre});return!((i=u.data)===null||i===void 0)&&i.url&&zs()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Us(this.storage,`${this.storageKey}-code-verifier`),Nt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ra;const{error:s}=await Mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Nt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await Mt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await Mt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new S1("You must provide either an email or phone number and a type")}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Md(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Z_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Md(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=t5()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=zre(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vu}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ra}:await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:vu})})}catch(r){if(Nt(r))return wre(r)&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ra;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await jf(this.storage,this.storageKey));const{data:u,error:d}=await Mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:vu});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Us(this.storage,`${this.storageKey}-code-verifier`),Nt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ra;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=e5(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Nt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ra;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!zs())throw new j1("No browser detected.");if(t.error||t.error_description||t.error_code)throw new j1(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new IT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new j1("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new IT("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new j1("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const f=p-d;f*1e3<=$f&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:m,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(Nt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Md(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(xre(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Are(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await jf(this.storage,this.storageKey,!0));try{return await Mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Us(this.storage,`${this.storageKey}-code-verifier`),Nt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Mt(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return zs()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Nt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:fo}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Sf}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(await Us(this.storage,`${this.storageKey}-code-verifier`),Nt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Mt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ore(async s=>(s>0&&await Rre(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fo})),(s,i)=>{const a=200*Math.pow(2,s);return i&&X_(i)&&Date.now()+a-n<$f})}catch(n){if(this._debug(r,"error",n),Nt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),zs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Md(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Md(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Bf(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:t5()}else if(s&&!s.user&&!s.user){const a=await Md(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Us(this.storage,this.storageKey+"-user"),await Bf(this.storage,this.storageKey,s)):s.user=t5()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Z_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Z_}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),X_(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ra;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bb;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new ra;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Nt(i)){const a={data:null,error:i};return X_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Us(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Bf(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=UT(s);await Bf(this.storage,this.storageKey,i)}else{const s=UT(r);await Bf(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Us(this.storage,this.storageKey),await Us(this.storage,this.storageKey+"-code-verifier"),await Us(this.storage,this.storageKey+"-user"),this.userStorage&&await Us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$f);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/$f);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$f}ms, refresh threshold is ${Zj} ticks`),s<=Zj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof NF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await jf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Mt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Mt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?cne(t.webauthn.credential_response):une(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await Mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:one(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:lne(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=e5(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Mt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ra})})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ra});const a=await Mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&zs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ra});const a=await Mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&zs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Mt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ra})})}catch(t){if(Nt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Mt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ra})})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+vre>s)return n;const{data:i,error:a}=await Mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=e5(n);r!=null&&r.allowExpired||Bre(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const d=Ure(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Cre(`${l}.${c}`)))throw new tN("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}}e0.nextInstanceID={};const xne=e0,wne="2.90.1";let Yg="";typeof Deno<"u"?Yg="deno":typeof document<"u"?Yg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yg="react-native":Yg="node";const bne={"X-Client-Info":`supabase-js-${Yg}/${wne}`},_ne={headers:bne},Sne={schema:"public"},jne={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nne={};function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}function kne(e,t){if(t0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cne(e){var t=kne(e,"string");return t0(t)=="symbol"?t:t+""}function Ene(e,t,r){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(n){Ene(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Ane=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Pne=()=>Headers,Tne=(e,t,r)=>{const n=Ane(r),s=Pne();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,zn(zn({},a),{},{headers:u}))}};function Rne(e){return e.endsWith("/")?e:e+"/"}function One(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:zn(zn({},c),s),auth:zn(zn({},u),i),realtime:zn(zn({},d),a),storage:{},global:zn(zn(zn({},h),l),{},{headers:zn(zn({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function Lne(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Rne(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Mne=class extends xne{constructor(e){super(e)}},Ine=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=Lne(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:Sne,realtime:Nne,auth:zn(zn({},jne),{},{storageKey:a}),global:_ne},c=One(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Tne(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(zn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new mte(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new hre(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new ute(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mne({url:this.authUrl.href,headers:zn(zn({},p),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Rte(this.realtimeUrl.href,zn(zn({},e),{},{params:zn(zn({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Dne=(e,t,r)=>new Ine(e,t,r);function Fne(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Fne()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $ne="https://fjwwkjtfwlomvuqpochk.supabase.co",Bne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqd3dranRmd2xvbXZ1cXBvY2hrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxODk0NzcsImV4cCI6MjA4Mzc2NTQ3N30.9ZWpneOBq84flxmTv1td3Y0EfA-WvMIskWaI4ux_ccc",Be=Dne($ne,Bne,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),EF=_.createContext(void 0),li=()=>{const e=_.useContext(EF);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Une=({children:e})=>{const[t,r]=_.useState(null),[n,s]=_.useState(null),[i,a]=_.useState(!0);_.useEffect(()=>{const{data:{subscription:h}}=Be.auth.onAuthStateChange((p,f)=>{s(f),r((f==null?void 0:f.user)??null),a(!1)});return Be.auth.getSession().then(({data:{session:p}})=>{s(p),r((p==null?void 0:p.user)??null),a(!1)}),()=>h.unsubscribe()},[]);const d={user:t,session:n,loading:i,signIn:async(h,p)=>{const{error:f}=await Be.auth.signInWithPassword({email:h,password:p});return{error:f}},signUp:async(h,p,f)=>{const{error:v}=await Be.auth.signUp({email:h,password:p,options:{emailRedirectTo:window.location.origin,data:{full_name:f}}});return{error:v}},signOut:async()=>{await Be.auth.signOut()}};return o.jsx(EF.Provider,{value:d,children:e})},qne=({children:e})=>{const{user:t,loading:r}=li();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(xx,{to:"/patient/login",replace:!0})},os=({children:e,requiredRole:t})=>{const{user:r,loading:n}=li(),[s,i]=_.useState(null),[a,l]=_.useState(null),[c,u]=_.useState(!0);return _.useEffect(()=>{n||(async()=>{if(!r){i(!1),u(!1);return}const{data:h}=await Be.from("user_roles").select("role").eq("user_id",r.id).maybeSingle();h?(i(!0),l(h.role)):i(!1),u(!1)})()},[r,n]),n||c?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r?s?t&&a!==t&&a!=="admin"?o.jsx(xx,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:e}):o.jsx(xx,{to:"/staff/pending",replace:!0}):o.jsx(xx,{to:"/staff/login",replace:!0})},vt=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));vt.displayName="Card";const Bt=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Me("flex flex-col space-y-1.5 p-6",e),...t}));Bt.displayName="CardHeader";const Lt=_.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:Me("text-2xl font-semibold leading-none tracking-tight",e),...t}));Lt.displayName="CardTitle";const wr=_.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));wr.displayName="CardDescription";const Et=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Me("p-6 pt-0",e),...t}));Et.displayName="CardContent";const Mo=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Me("flex items-center p-6 pt-0",e),...t}));Mo.displayName="CardFooter";const r0=Nm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=_.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const a=n?ZI:"button";return o.jsx(a,{className:Me(r0({variant:t,size:r,className:e})),ref:i,...s})});Ce.displayName="Button";const zne=Nm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function zt({className:e,variant:t,...r}){return o.jsx("div",{className:Me(zne({variant:t}),e),...r})}function br(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Vne=_.createContext(void 0);function dd(e){const t=_.useContext(Vne);return e||t||"ltr"}var Wne="DismissableLayer",rN="dismissableLayer.update",Hne="dismissableLayer.pointerDownOutside",Gne="dismissableLayer.focusOutside",KT,AF=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),PF=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=_.useContext(AF),[d,h]=_.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=_.useState({}),v=Tt(t,L=>h(L)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),w=d?m.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=w>=g,T=Jne(L=>{const D=L.target,M=[...u.branches].some(G=>G.contains(D));!k||M||(s==null||s(L),a==null||a(L),L.defaultPrevented||l==null||l())},p),R=Qne(L=>{const D=L.target;[...u.branches].some(G=>G.contains(D))||(i==null||i(L),a==null||a(L),L.defaultPrevented||l==null||l())},p);return tD(L=>{w===u.layers.size-1&&(n==null||n(L),!L.defaultPrevented&&l&&(L.preventDefault(),l()))},p),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(KT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),JT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=KT)}},[d,p,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),JT())},[d,u]),_.useEffect(()=>{const L=()=>f({});return document.addEventListener(rN,L),()=>document.removeEventListener(rN,L)},[]),o.jsx(it.div,{...c,ref:v,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:br(e.onFocusCapture,R.onFocusCapture),onBlurCapture:br(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:br(e.onPointerDownCapture,T.onPointerDownCapture)})});PF.displayName=Wne;var Yne="DismissableLayerBranch",Kne=_.forwardRef((e,t)=>{const r=_.useContext(AF),n=_.useRef(null),s=Tt(t,n);return _.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(it.div,{...e,ref:s})});Kne.displayName=Yne;function Jne(e,t=globalThis==null?void 0:globalThis.document){const r=an(e),n=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){TF(Hne,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Qne(e,t=globalThis==null?void 0:globalThis.document){const r=an(e),n=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!n.current&&TF(Gne,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function JT(){const e=new CustomEvent(rN);document.dispatchEvent(e)}function TF(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Sb(s,i):s.dispatchEvent(i)}var n5=0;function Zne(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??QT()),document.body.insertAdjacentElement("beforeend",e[1]??QT()),n5++,()=>{n5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),n5--}},[])}function QT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var s5="focusScope.autoFocusOnMount",i5="focusScope.autoFocusOnUnmount",ZT={bubbles:!1,cancelable:!0},Xne="FocusScope",I0=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=_.useState(null),u=an(s),d=an(i),h=_.useRef(null),p=Tt(t,m=>c(m)),f=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let m=function(S){if(f.paused||!l)return;const k=S.target;l.contains(k)?h.current=k:ou(h.current,{select:!0})},x=function(S){if(f.paused||!l)return;const k=S.relatedTarget;k!==null&&(l.contains(k)||ou(h.current,{select:!0}))},g=function(S){if(document.activeElement===document.body)for(const T of S)T.removedNodes.length>0&&ou(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const w=new MutationObserver(g);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),w.disconnect()}}},[n,l,f.paused]),_.useEffect(()=>{if(l){e3.add(f);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(s5,ZT);l.addEventListener(s5,u),l.dispatchEvent(g),g.defaultPrevented||(ese(ise(RF(l)),{select:!0}),document.activeElement===m&&ou(l))}return()=>{l.removeEventListener(s5,u),setTimeout(()=>{const g=new CustomEvent(i5,ZT);l.addEventListener(i5,d),l.dispatchEvent(g),g.defaultPrevented||ou(m??document.body,{select:!0}),l.removeEventListener(i5,d),e3.remove(f)},0)}}},[l,u,d,f]);const v=_.useCallback(m=>{if(!r&&!n||f.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(x&&g){const w=m.currentTarget,[S,k]=tse(w);S&&k?!m.shiftKey&&g===k?(m.preventDefault(),r&&ou(S,{select:!0})):m.shiftKey&&g===S&&(m.preventDefault(),r&&ou(k,{select:!0})):g===w&&m.preventDefault()}},[r,n,f.paused]);return o.jsx(it.div,{tabIndex:-1,...a,ref:p,onKeyDown:v})});I0.displayName=Xne;function ese(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ou(n,{select:t}),document.activeElement!==r)return}function tse(e){const t=RF(e),r=XT(t,e),n=XT(t.reverse(),e);return[r,n]}function RF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function XT(e,t){for(const r of e)if(!rse(r,{upTo:t}))return r}function rse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nse(e){return e instanceof HTMLInputElement&&"select"in e}function ou(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&nse(e)&&t&&e.select()}}var e3=sse();function sse(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=t3(e,t),e.unshift(t)},remove(t){var r;e=t3(e,t),(r=e[0])==null||r.resume()}}}function t3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ise(e){return e.filter(t=>t.tagName!=="A")}var iE="Popper",[OF,LF]=fs(iE),[ase,MF]=OF(iE),IF=e=>{const{__scopePopper:t,children:r}=e,[n,s]=_.useState(null);return o.jsx(ase,{scope:t,anchor:n,onAnchorChange:s,children:r})};IF.displayName=iE;var DF="PopperAnchor",FF=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=MF(DF,r),a=_.useRef(null),l=Tt(t,a),c=_.useRef(null);return _.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||a.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:o.jsx(it.div,{...s,ref:l})});FF.displayName=DF;var aE="PopperContent",[ose,lse]=OF(aE),$F=_.forwardRef((e,t)=>{var F,Z,se,le,ue,fe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...m}=e,x=MF(aE,r),[g,w]=_.useState(null),S=Tt(t,be=>w(be)),[k,T]=_.useState(null),R=Ob(k),L=(R==null?void 0:R.width)??0,D=(R==null?void 0:R.height)??0,M=n+(i!=="center"?"-"+i:""),G=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],I=A.length>0,$={padding:G,boundary:A.filter(use),altBoundary:I},{refs:q,floatingStyles:te,placement:ne,isPositioned:re,middlewareData:W}=a8({strategy:"fixed",placement:M,whileElementsMounted:(...be)=>s8(...be,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[o8({mainAxis:s+D,alignmentAxis:a}),c&&l8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?c8():void 0,...$}),c&&u8({...$}),d8({...$,apply:({elements:be,rects:Ie,availableWidth:Q,availableHeight:De})=>{const{width:Ye,height:Ke}=Ie.reference,Ne=be.floating.style;Ne.setProperty("--radix-popper-available-width",`${Q}px`),Ne.setProperty("--radix-popper-available-height",`${De}px`),Ne.setProperty("--radix-popper-anchor-width",`${Ye}px`),Ne.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),k&&f8({element:k,padding:l}),dse({arrowWidth:L,arrowHeight:D}),p&&h8({strategy:"referenceHidden",...$})]}),[X,pe]=qF(ne),ge=an(v);ln(()=>{re&&(ge==null||ge())},[re,ge]);const U=(F=W.arrow)==null?void 0:F.x,b=(Z=W.arrow)==null?void 0:Z.y,C=((se=W.arrow)==null?void 0:se.centerOffset)!==0,[E,B]=_.useState();return ln(()=>{g&&B(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:re?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(le=W.transformOrigin)==null?void 0:le.x,(ue=W.transformOrigin)==null?void 0:ue.y].join(" "),...((fe=W.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(ose,{scope:r,placedSide:X,onArrowChange:T,arrowX:U,arrowY:b,shouldHideArrow:C,children:o.jsx(it.div,{"data-side":X,"data-align":pe,...m,ref:S,style:{...m.style,animation:re?void 0:"none"}})})})});$F.displayName=aE;var BF="PopperArrow",cse={top:"bottom",right:"left",bottom:"top",left:"right"},UF=_.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=lse(BF,n),a=cse[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(m8,{...s,ref:r,style:{...s.style,display:"block"}})})});UF.displayName=BF;function use(e){return e!==null}var dse=e=>({name:"transformOrigin",options:e,fn(t){var x,g,w;const{placement:r,rects:n,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=qF(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,f=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=a?h:`${p}px`,m=`${-c}px`):u==="top"?(v=a?h:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=a?h:`${f}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=a?h:`${f}px`),{data:{x:v,y:m}}}});function qF(e){const[t,r="center"]=e.split("-");return[t,r]}var hse=IF,fse=FF,pse=$F,mse=UF;function gse(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var D0=e=>{const{present:t,children:r}=e,n=vse(t),s=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=Tt(n.ref,yse(s));return typeof r=="function"||n.isPresent?_.cloneElement(s,{ref:i}):null};D0.displayName="Presence";function vse(e){const[t,r]=_.useState(),n=_.useRef(null),s=_.useRef(e),i=_.useRef("none"),a=e?"mounted":"unmounted",[l,c]=gse(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=N1(n.current);i.current=l==="mounted"?u:"none"},[l]),ln(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=N1(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ln(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=N1(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=f=>{f.target===t&&(i.current=N1(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function N1(e){return(e==null?void 0:e.animationName)||"none"}function yse(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var a5="rovingFocusGroup.onEntryFocus",xse={bubbles:!1,cancelable:!0},F0="RovingFocusGroup",[nN,zF,wse]=_m(F0),[bse,VF]=fs(F0,[wse]),[_se,Sse]=bse(F0),WF=_.forwardRef((e,t)=>o.jsx(nN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(nN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(jse,{...e,ref:t})})}));WF.displayName=F0;var jse=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=_.useRef(null),f=Tt(t,p),v=dd(i),[m,x]=Ya({prop:a,defaultProp:l??null,onChange:c,caller:F0}),[g,w]=_.useState(!1),S=an(u),k=zF(r),T=_.useRef(!1),[R,L]=_.useState(0);return _.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(a5,S),()=>D.removeEventListener(a5,S)},[S]),o.jsx(_se,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:_.useCallback(D=>x(D),[x]),onItemShiftTab:_.useCallback(()=>w(!0),[]),onFocusableItemAdd:_.useCallback(()=>L(D=>D+1),[]),onFocusableItemRemove:_.useCallback(()=>L(D=>D-1),[]),children:o.jsx(it.div,{tabIndex:g||R===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:br(e.onMouseDown,()=>{T.current=!0}),onFocus:br(e.onFocus,D=>{const M=!T.current;if(D.target===D.currentTarget&&M&&!g){const G=new CustomEvent(a5,xse);if(D.currentTarget.dispatchEvent(G),!G.defaultPrevented){const A=k().filter(ne=>ne.focusable),I=A.find(ne=>ne.active),$=A.find(ne=>ne.id===m),te=[I,$,...A].filter(Boolean).map(ne=>ne.ref.current);YF(te,d)}}T.current=!1}),onBlur:br(e.onBlur,()=>w(!1))})})}),HF="RovingFocusGroupItem",GF=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=pa(),u=i||c,d=Sse(HF,r),h=d.currentTabStopId===u,p=zF(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return _.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),o.jsx(nN.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(it.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:br(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:br(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:br(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=Cse(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(k=>k.focusable).map(k=>k.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const k=S.indexOf(x.currentTarget);S=d.loop?Ese(S,k+1):S.slice(k+1)}setTimeout(()=>YF(S))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:m!=null}):a})})});GF.displayName=HF;var Nse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kse(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Cse(e,t,r){const n=kse(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Nse[n]}function YF(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Ese(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ase=WF,Pse=GF,Tse=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ef=new WeakMap,k1=new WeakMap,C1={},o5=0,KF=function(e){return e&&(e.host||KF(e.parentNode))},Rse=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=KF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Ose=function(e,t,r,n){var s=Rse(t,Array.isArray(e)?e:[e]);C1[r]||(C1[r]=new WeakMap);var i=C1[r],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var f=p.getAttribute(n),v=f!==null&&f!=="false",m=(Ef.get(p)||0)+1,x=(i.get(p)||0)+1;Ef.set(p,m),i.set(p,x),a.push(p),m===1&&v&&k1.set(p,!0),x===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return d(t),l.clear(),o5++,function(){a.forEach(function(h){var p=Ef.get(h)-1,f=i.get(h)-1;Ef.set(h,p),i.set(h,f),p||(k1.has(h)||h.removeAttribute(n),k1.delete(h)),f||h.removeAttribute(r)}),o5--,o5||(Ef=new WeakMap,Ef=new WeakMap,k1=new WeakMap,C1={})}},Ub=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Tse(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Ose(n,s,r,"aria-hidden")):function(){return null}},_x="right-scroll-bar-position",Sx="width-before-scroll-bar",Lse="with-scroll-bars-hidden",Mse="--removed-body-scroll-bar-size";function l5(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ise(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var Dse=typeof window<"u"?_.useLayoutEffect:_.useEffect,r3=new WeakMap;function Fse(e,t){var r=Ise(null,function(n){return e.forEach(function(s){return l5(s,n)})});return Dse(function(){var n=r3.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(l){i.has(l)||l5(l,null)}),i.forEach(function(l){s.has(l)||l5(l,a)})}r3.set(r,e)},[e]),r}function $se(e){return e}function Bse(e,t){t===void 0&&(t=$se);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function Use(e){e===void 0&&(e={});var t=Bse(null);return t.options=ul({async:!0,ssr:!1},e),t}var JF=function(e){var t=e.sideCar,r=Dm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,ul({},r))};JF.isSideCarExport=!0;function qse(e,t){return e.useMedium(t),JF}var QF=Use(),c5=function(){},qb=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:c5,onWheelCapture:c5,onTouchMoveCapture:c5}),s=n[0],i=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,v=e.noIsolation,m=e.inert,x=e.allowPinchZoom,g=e.as,w=g===void 0?"div":g,S=e.gapMode,k=Dm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=p,R=Fse([r,t]),L=ul(ul({},k),s);return _.createElement(_.Fragment,null,d&&_.createElement(T,{sideCar:QF,removeScrollBar:u,shards:h,noRelative:f,noIsolation:v,inert:m,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:S}),a?_.cloneElement(_.Children.only(l),ul(ul({},L),{ref:R})):_.createElement(w,ul({},L,{className:c,ref:R}),l))});qb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qb.classNames={fullWidth:Sx,zeroRight:_x};var zse=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Vse(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zse();return t&&e.setAttribute("nonce",t),e}function Wse(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Hse(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Gse=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Vse())&&(Wse(t,r),Hse(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Yse=function(){var e=Gse();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ZF=function(){var e=Yse(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},Kse={left:0,top:0,right:0,gap:0},u5=function(e){return parseInt(e||"",10)||0},Jse=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[u5(r),u5(n),u5(s)]},Qse=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Kse;var t=Jse(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Zse=ZF(),vp="data-scroll-locked",Xse=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Lse,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(vp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_x,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_x," .").concat(_x,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sx," .").concat(Sx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(vp,`] {
    `).concat(Mse,": ").concat(l,`px;
  }
`)},n3=function(){var e=parseInt(document.body.getAttribute(vp)||"0",10);return isFinite(e)?e:0},eie=function(){_.useEffect(function(){return document.body.setAttribute(vp,(n3()+1).toString()),function(){var e=n3()-1;e<=0?document.body.removeAttribute(vp):document.body.setAttribute(vp,e.toString())}},[])},tie=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;eie();var i=_.useMemo(function(){return Qse(s)},[s]);return _.createElement(Zse,{styles:Xse(i,!t,s,r?"":"!important")})},sN=!1;if(typeof window<"u")try{var E1=Object.defineProperty({},"passive",{get:function(){return sN=!0,!0}});window.addEventListener("test",E1,E1),window.removeEventListener("test",E1,E1)}catch{sN=!1}var Af=sN?{passive:!1}:!1,rie=function(e){return e.tagName==="TEXTAREA"},XF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!rie(e)&&r[t]==="visible")},nie=function(e){return XF(e,"overflowY")},sie=function(e){return XF(e,"overflowX")},s3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=e7(e,n);if(s){var i=t7(e,n),a=i[1],l=i[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},iie=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},aie=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},e7=function(e,t){return e==="v"?nie(t):sie(t)},t7=function(e,t){return e==="v"?iie(t):aie(t)},oie=function(e,t){return e==="h"&&t==="rtl"?-1:1},lie=function(e,t,r,n,s){var i=oie(e,window.getComputedStyle(t).direction),a=i*n,l=r.target,c=t.contains(l),u=!1,d=a>0,h=0,p=0;do{if(!l)break;var f=t7(e,l),v=f[0],m=f[1],x=f[2],g=m-x-i*v;(v||g)&&e7(e,l)&&(h+=g,p+=v);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},A1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},i3=function(e){return[e.deltaX,e.deltaY]},a3=function(e){return e&&"current"in e?e.current:e},cie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},uie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},die=0,Pf=[];function hie(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),s=_.useState(die++)[0],i=_.useState(ZF)[0],a=_.useRef(e);_.useEffect(function(){a.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=ote([e.lockRef.current],(e.shards||[]).map(a3),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var g=A1(m),w=r.current,S="deltaX"in m?m.deltaX:w[0]-g[0],k="deltaY"in m?m.deltaY:w[1]-g[1],T,R=m.target,L=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in m&&L==="h"&&R.type==="range")return!1;var D=s3(L,R);if(!D)return!0;if(D?T=L:(T=L==="v"?"h":"v",D=s3(L,R)),!D)return!1;if(!n.current&&"changedTouches"in m&&(S||k)&&(n.current=T),!T)return!0;var M=n.current||T;return lie(M,x,m,M==="h"?S:k,!0)},[]),c=_.useCallback(function(m){var x=m;if(!(!Pf.length||Pf[Pf.length-1]!==i)){var g="deltaY"in x?i3(x):A1(x),w=t.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&cie(T.delta,g)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var S=(a.current.shards||[]).map(a3).filter(Boolean).filter(function(T){return T.contains(x.target)}),k=S.length>0?l(x,S[0]):!a.current.noIsolation;k&&x.cancelable&&x.preventDefault()}}},[]),u=_.useCallback(function(m,x,g,w){var S={name:m,delta:x,target:g,should:w,shadowParent:fie(g)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(k){return k!==S})},1)},[]),d=_.useCallback(function(m){r.current=A1(m),n.current=void 0},[]),h=_.useCallback(function(m){u(m.type,i3(m),m.target,l(m,e.lockRef.current))},[]),p=_.useCallback(function(m){u(m.type,A1(m),m.target,l(m,e.lockRef.current))},[]);_.useEffect(function(){return Pf.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Af),document.addEventListener("touchmove",c,Af),document.addEventListener("touchstart",d,Af),function(){Pf=Pf.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Af),document.removeEventListener("touchmove",c,Af),document.removeEventListener("touchstart",d,Af)}},[]);var f=e.removeScrollBar,v=e.inert;return _.createElement(_.Fragment,null,v?_.createElement(i,{styles:uie(s)}):null,f?_.createElement(tie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function fie(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pie=qse(QF,hie);var $0=_.forwardRef(function(e,t){return _.createElement(qb,ul({},e,{ref:t,sideCar:pie}))});$0.classNames=qb.classNames;var iN=["Enter"," "],mie=["ArrowDown","PageUp","Home"],r7=["ArrowUp","PageDown","End"],gie=[...mie,...r7],vie={ltr:[...iN,"ArrowRight"],rtl:[...iN,"ArrowLeft"]},yie={ltr:["ArrowLeft"],rtl:["ArrowRight"]},B0="Menu",[n0,xie,wie]=_m(B0),[Yh,n7]=fs(B0,[wie,LF,VF]),zb=LF(),s7=VF(),[bie,Kh]=Yh(B0),[_ie,U0]=Yh(B0),i7=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:a=!0}=e,l=zb(t),[c,u]=_.useState(null),d=_.useRef(!1),h=an(i),p=dd(s);return _.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(hse,{...l,children:o.jsx(bie,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(_ie,{scope:t,onClose:_.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:a,children:n})})})};i7.displayName=B0;var Sie="MenuAnchor",oE=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=zb(r);return o.jsx(fse,{...s,...n,ref:t})});oE.displayName=Sie;var lE="MenuPortal",[jie,a7]=Yh(lE,{forceMount:void 0}),o7=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Kh(lE,t);return o.jsx(jie,{scope:t,forceMount:r,children:o.jsx(D0,{present:r||i.open,children:o.jsx(jm,{asChild:!0,container:s,children:n})})})};o7.displayName=lE;var Va="MenuContent",[Nie,cE]=Yh(Va),l7=_.forwardRef((e,t)=>{const r=a7(Va,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Kh(Va,e.__scopeMenu),a=U0(Va,e.__scopeMenu);return o.jsx(n0.Provider,{scope:e.__scopeMenu,children:o.jsx(D0,{present:n||i.open,children:o.jsx(n0.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(kie,{...s,ref:t}):o.jsx(Cie,{...s,ref:t})})})})}),kie=_.forwardRef((e,t)=>{const r=Kh(Va,e.__scopeMenu),n=_.useRef(null),s=Tt(t,n);return _.useEffect(()=>{const i=n.current;if(i)return Ub(i)},[]),o.jsx(uE,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:br(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Cie=_.forwardRef((e,t)=>{const r=Kh(Va,e.__scopeMenu);return o.jsx(uE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Eie=Zu("MenuContent.ScrollLock"),uE=_.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,disableOutsideScroll:v,...m}=e,x=Kh(Va,r),g=U0(Va,r),w=zb(r),S=s7(r),k=xie(r),[T,R]=_.useState(null),L=_.useRef(null),D=Tt(t,L,x.onContentChange),M=_.useRef(0),G=_.useRef(""),A=_.useRef(0),I=_.useRef(null),$=_.useRef("right"),q=_.useRef(0),te=v?$0:_.Fragment,ne=v?{as:Eie,allowPinchZoom:!0}:void 0,re=X=>{var F,Z;const pe=G.current+X,ge=k().filter(se=>!se.disabled),U=document.activeElement,b=(F=ge.find(se=>se.ref.current===U))==null?void 0:F.textValue,C=ge.map(se=>se.textValue),E=Bie(C,pe,b),B=(Z=ge.find(se=>se.textValue===E))==null?void 0:Z.ref.current;(function se(le){G.current=le,window.clearTimeout(M.current),le!==""&&(M.current=window.setTimeout(()=>se(""),1e3))})(pe),B&&setTimeout(()=>B.focus())};_.useEffect(()=>()=>window.clearTimeout(M.current),[]),Zne();const W=_.useCallback(X=>{var ge,U;return $.current===((ge=I.current)==null?void 0:ge.side)&&qie(X,(U=I.current)==null?void 0:U.area)},[]);return o.jsx(Nie,{scope:r,searchRef:G,onItemEnter:_.useCallback(X=>{W(X)&&X.preventDefault()},[W]),onItemLeave:_.useCallback(X=>{var pe;W(X)||((pe=L.current)==null||pe.focus(),R(null))},[W]),onTriggerLeave:_.useCallback(X=>{W(X)&&X.preventDefault()},[W]),pointerGraceTimerRef:A,onPointerGraceIntentChange:_.useCallback(X=>{I.current=X},[]),children:o.jsx(te,{...ne,children:o.jsx(I0,{asChild:!0,trapped:s,onMountAutoFocus:br(i,X=>{var pe;X.preventDefault(),(pe=L.current)==null||pe.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(PF,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,children:o.jsx(Ase,{asChild:!0,...S,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:R,onEntryFocus:br(c,X=>{g.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(pse,{role:"menu","aria-orientation":"vertical","data-state":j7(x.open),"data-radix-menu-content":"",dir:g.dir,...w,...m,ref:D,style:{outline:"none",...m.style},onKeyDown:br(m.onKeyDown,X=>{const ge=X.target.closest("[data-radix-menu-content]")===X.currentTarget,U=X.ctrlKey||X.altKey||X.metaKey,b=X.key.length===1;ge&&(X.key==="Tab"&&X.preventDefault(),!U&&b&&re(X.key));const C=L.current;if(X.target!==C||!gie.includes(X.key))return;X.preventDefault();const B=k().filter(F=>!F.disabled).map(F=>F.ref.current);r7.includes(X.key)&&B.reverse(),Fie(B)}),onBlur:br(e.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(M.current),G.current="")}),onPointerMove:br(e.onPointerMove,s0(X=>{const pe=X.target,ge=q.current!==X.clientX;if(X.currentTarget.contains(pe)&&ge){const U=X.clientX>q.current?"right":"left";$.current=U,q.current=X.clientX}}))})})})})})})});l7.displayName=Va;var Aie="MenuGroup",dE=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(it.div,{role:"group",...n,ref:t})});dE.displayName=Aie;var Pie="MenuLabel",c7=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(it.div,{...n,ref:t})});c7.displayName=Pie;var jw="MenuItem",o3="menu.itemSelect",Vb=_.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=_.useRef(null),a=U0(jw,e.__scopeMenu),l=cE(jw,e.__scopeMenu),c=Tt(t,i),u=_.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const p=new CustomEvent(o3,{bubbles:!0,cancelable:!0});h.addEventListener(o3,f=>n==null?void 0:n(f),{once:!0}),Sb(h,p),p.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(u7,{...s,ref:c,disabled:r,onClick:br(e.onClick,d),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),u.current=!0},onPointerUp:br(e.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:br(e.onKeyDown,h=>{const p=l.searchRef.current!=="";r||p&&h.key===" "||iN.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Vb.displayName=jw;var u7=_.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,a=cE(jw,r),l=s7(r),c=_.useRef(null),u=Tt(t,c),[d,h]=_.useState(!1),[p,f]=_.useState("");return _.useEffect(()=>{const v=c.current;v&&f((v.textContent??"").trim())},[i.children]),o.jsx(n0.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:o.jsx(Pse,{asChild:!0,...l,focusable:!n,children:o.jsx(it.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:br(e.onPointerMove,s0(v=>{n?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:br(e.onPointerLeave,s0(v=>a.onItemLeave(v))),onFocus:br(e.onFocus,()=>h(!0)),onBlur:br(e.onBlur,()=>h(!1))})})})}),Tie="MenuCheckboxItem",d7=_.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(g7,{scope:e.__scopeMenu,checked:r,children:o.jsx(Vb,{role:"menuitemcheckbox","aria-checked":Nw(r)?"mixed":r,...s,ref:t,"data-state":fE(r),onSelect:br(s.onSelect,()=>n==null?void 0:n(Nw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});d7.displayName=Tie;var h7="MenuRadioGroup",[Rie,Oie]=Yh(h7,{value:void 0,onValueChange:()=>{}}),f7=_.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=an(n);return o.jsx(Rie,{scope:e.__scopeMenu,value:r,onValueChange:i,children:o.jsx(dE,{...s,ref:t})})});f7.displayName=h7;var p7="MenuRadioItem",m7=_.forwardRef((e,t)=>{const{value:r,...n}=e,s=Oie(p7,e.__scopeMenu),i=r===s.value;return o.jsx(g7,{scope:e.__scopeMenu,checked:i,children:o.jsx(Vb,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":fE(i),onSelect:br(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});m7.displayName=p7;var hE="MenuItemIndicator",[g7,Lie]=Yh(hE,{checked:!1}),v7=_.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Lie(hE,r);return o.jsx(D0,{present:n||Nw(i.checked)||i.checked===!0,children:o.jsx(it.span,{...s,ref:t,"data-state":fE(i.checked)})})});v7.displayName=hE;var Mie="MenuSeparator",y7=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(it.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});y7.displayName=Mie;var Iie="MenuArrow",x7=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=zb(r);return o.jsx(mse,{...s,...n,ref:t})});x7.displayName=Iie;var Die="MenuSub",[kbe,w7]=Yh(Die),Kg="MenuSubTrigger",b7=_.forwardRef((e,t)=>{const r=Kh(Kg,e.__scopeMenu),n=U0(Kg,e.__scopeMenu),s=w7(Kg,e.__scopeMenu),i=cE(Kg,e.__scopeMenu),a=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=_.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return _.useEffect(()=>d,[d]),_.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(oE,{asChild:!0,...u,children:o.jsx(u7,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":j7(r.open),...e,ref:A0(t,s.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:br(e.onPointerMove,s0(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:br(e.onPointerLeave,s0(h=>{var f,v;d();const p=(f=r.content)==null?void 0:f.getBoundingClientRect();if(p){const m=(v=r.content)==null?void 0:v.dataset.side,x=m==="right",g=x?-5:5,w=p[x?"left":"right"],S=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:w,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:w,y:p.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:br(e.onKeyDown,h=>{var f;const p=i.searchRef.current!=="";e.disabled||p&&h.key===" "||vie[n.dir].includes(h.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),h.preventDefault())})})})});b7.displayName=Kg;var _7="MenuSubContent",S7=_.forwardRef((e,t)=>{const r=a7(Va,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Kh(Va,e.__scopeMenu),a=U0(Va,e.__scopeMenu),l=w7(_7,e.__scopeMenu),c=_.useRef(null),u=Tt(t,c);return o.jsx(n0.Provider,{scope:e.__scopeMenu,children:o.jsx(D0,{present:n||i.open,children:o.jsx(n0.Slot,{scope:e.__scopeMenu,children:o.jsx(uE,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:br(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:br(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:br(e.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),p=yie[a.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),d.preventDefault())})})})})})});S7.displayName=_7;function j7(e){return e?"open":"closed"}function Nw(e){return e==="indeterminate"}function fE(e){return Nw(e)?"indeterminate":e?"checked":"unchecked"}function Fie(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function $ie(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Bie(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=$ie(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Uie(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function qie(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Uie(r,t)}function s0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var zie=i7,Vie=oE,Wie=o7,Hie=l7,Gie=dE,Yie=c7,Kie=Vb,Jie=d7,Qie=f7,Zie=m7,Xie=v7,eae=y7,tae=x7,rae=b7,nae=S7,Wb="DropdownMenu",[sae,Cbe]=fs(Wb,[n7]),Ei=n7(),[iae,N7]=sae(Wb),k7=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,c=Ei(t),u=_.useRef(null),[d,h]=Ya({prop:s,defaultProp:i??!1,onChange:a,caller:Wb});return o.jsx(iae,{scope:t,triggerId:pa(),triggerRef:u,contentId:pa(),open:d,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(p=>!p),[h]),modal:l,children:o.jsx(zie,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};k7.displayName=Wb;var C7="DropdownMenuTrigger",E7=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=N7(C7,r),a=Ei(r);return o.jsx(Vie,{asChild:!0,...a,children:o.jsx(it.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:A0(t,i.triggerRef),onPointerDown:br(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:br(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});E7.displayName=C7;var aae="DropdownMenuPortal",A7=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ei(t);return o.jsx(Wie,{...n,...r})};A7.displayName=aae;var P7="DropdownMenuContent",T7=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=N7(P7,r),i=Ei(r),a=_.useRef(!1);return o.jsx(Hie,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:br(e.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:br(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T7.displayName=P7;var oae="DropdownMenuGroup",lae=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return o.jsx(Gie,{...s,...n,ref:t})});lae.displayName=oae;var cae="DropdownMenuLabel",R7=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return o.jsx(Yie,{...s,...n,ref:t})});R7.displayName=cae;var uae="DropdownMenuItem",O7=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return o.jsx(Kie,{...s,...n,ref:t})});O7.displayName=uae;var dae="DropdownMenuCheckboxItem",L7=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return o.jsx(Jie,{...s,...n,ref:t})});L7.displayName=dae;var hae="DropdownMenuRadioGroup",fae=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return o.jsx(Qie,{...s,...n,ref:t})});fae.displayName=hae;var pae="DropdownMenuRadioItem",M7=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return o.jsx(Zie,{...s,...n,ref:t})});M7.displayName=pae;var mae="DropdownMenuItemIndicator",I7=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return o.jsx(Xie,{...s,...n,ref:t})});I7.displayName=mae;var gae="DropdownMenuSeparator",D7=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return o.jsx(eae,{...s,...n,ref:t})});D7.displayName=gae;var vae="DropdownMenuArrow",yae=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return o.jsx(tae,{...s,...n,ref:t})});yae.displayName=vae;var xae="DropdownMenuSubTrigger",F7=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return o.jsx(rae,{...s,...n,ref:t})});F7.displayName=xae;var wae="DropdownMenuSubContent",$7=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ei(r);return o.jsx(nae,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$7.displayName=wae;var bae=k7,_ae=E7,Sae=A7,B7=T7,U7=R7,q7=O7,z7=L7,V7=M7,W7=I7,H7=D7,G7=F7,Y7=$7;const td=bae,rd=_ae,jae=_.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(G7,{ref:s,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(np,{className:"ml-auto h-4 w-4"})]}));jae.displayName=G7.displayName;const Nae=_.forwardRef(({className:e,...t},r)=>o.jsx(Y7,{ref:r,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Nae.displayName=Y7.displayName;const Pc=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Sae,{children:o.jsx(B7,{ref:n,sideOffset:t,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Pc.displayName=B7.displayName;const fn=_.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(q7,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));fn.displayName=q7.displayName;const kae=_.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(z7,{ref:s,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(W7,{children:o.jsx(kb,{className:"h-4 w-4"})})}),t]}));kae.displayName=z7.displayName;const Cae=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(V7,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(W7,{children:o.jsx(RD,{className:"h-2 w-2 fill-current"})})}),t]}));Cae.displayName=V7.displayName;const pE=_.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(U7,{ref:n,className:Me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));pE.displayName=U7.displayName;const Xp=_.forwardRef(({className:e,...t},r)=>o.jsx(H7,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));Xp.displayName=H7.displayName;var d5=0;function mE(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??l3()),document.body.insertAdjacentElement("beforeend",e[1]??l3()),d5++,()=>{d5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),d5--}},[])}function l3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hb="Dialog",[K7,J7]=fs(Hb),[Eae,qo]=K7(Hb),Q7=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=_.useRef(null),c=_.useRef(null),[u,d]=Ya({prop:n,defaultProp:s??!1,onChange:i,caller:Hb});return o.jsx(Eae,{scope:t,triggerRef:l,contentRef:c,contentId:pa(),titleId:pa(),descriptionId:pa(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};Q7.displayName=Hb;var Z7="DialogTrigger",X7=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qo(Z7,r),i=Tt(t,s.triggerRef);return o.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":yE(s.open),...n,ref:i,onClick:dt(e.onClick,s.onOpenToggle)})});X7.displayName=Z7;var gE="DialogPortal",[Aae,e$]=K7(gE,{forceMount:void 0}),t$=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=qo(gE,t);return o.jsx(Aae,{scope:t,forceMount:r,children:_.Children.map(n,a=>o.jsx(ba,{present:r||i.open,children:o.jsx(jm,{asChild:!0,container:s,children:a})}))})};t$.displayName=gE;var kw="DialogOverlay",r$=_.forwardRef((e,t)=>{const r=e$(kw,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=qo(kw,e.__scopeDialog);return i.modal?o.jsx(ba,{present:n||i.open,children:o.jsx(Tae,{...s,ref:t})}):null});r$.displayName=kw;var Pae=Zu("DialogOverlay.RemoveScroll"),Tae=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qo(kw,r);return o.jsx($0,{as:Pae,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(it.div,{"data-state":yE(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Eh="DialogContent",n$=_.forwardRef((e,t)=>{const r=e$(Eh,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=qo(Eh,e.__scopeDialog);return o.jsx(ba,{present:n||i.open,children:i.modal?o.jsx(Rae,{...s,ref:t}):o.jsx(Oae,{...s,ref:t})})});n$.displayName=Eh;var Rae=_.forwardRef((e,t)=>{const r=qo(Eh,e.__scopeDialog),n=_.useRef(null),s=Tt(t,r.contentRef,n);return _.useEffect(()=>{const i=n.current;if(i)return Ub(i)},[]),o.jsx(s$,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,i=>i.preventDefault())})}),Oae=_.forwardRef((e,t)=>{const r=qo(Eh,e.__scopeDialog),n=_.useRef(!1),s=_.useRef(!1);return o.jsx(s$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),s$=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=qo(Eh,r),c=_.useRef(null),u=Tt(t,c);return mE(),o.jsxs(o.Fragment,{children:[o.jsx(I0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Sm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":yE(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Mae,{titleId:l.titleId}),o.jsx(Dae,{contentRef:c,descriptionId:l.descriptionId})]})]})}),vE="DialogTitle",i$=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qo(vE,r);return o.jsx(it.h2,{id:s.titleId,...n,ref:t})});i$.displayName=vE;var a$="DialogDescription",o$=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qo(a$,r);return o.jsx(it.p,{id:s.descriptionId,...n,ref:t})});o$.displayName=a$;var l$="DialogClose",c$=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qo(l$,r);return o.jsx(it.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,()=>s.onOpenChange(!1))})});c$.displayName=l$;function yE(e){return e?"open":"closed"}var u$="DialogTitleWarning",[Lae,d$]=UY(u$,{contentName:Eh,titleName:vE,docsSlug:"dialog"}),Mae=({titleId:e})=>{const t=d$(u$),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Iae="DialogDescriptionWarning",Dae=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${d$(Iae).contentName}}.`;return _.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},xE=Q7,wE=X7,bE=t$,q0=r$,z0=n$,V0=i$,W0=o$,Gb=c$;const Ns=xE,gc=wE,Fae=bE,h$=_.forwardRef(({className:e,...t},r)=>o.jsx(q0,{ref:r,className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));h$.displayName=q0.displayName;const ds=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Fae,{children:[o.jsx(h$,{}),o.jsxs(z0,{ref:n,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(Gb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Em,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ds.displayName=z0.displayName;const ks=({className:e,...t})=>o.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ks.displayName="DialogHeader";const Fm=({className:e,...t})=>o.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fm.displayName="DialogFooter";const hs=_.forwardRef(({className:e,...t},r)=>o.jsx(V0,{ref:r,className:Me("text-lg font-semibold leading-none tracking-tight",e),...t}));hs.displayName=V0.displayName;const Gs=_.forwardRef(({className:e,...t},r)=>o.jsx(W0,{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));Gs.displayName=W0.displayName;const ht=_.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ht.displayName="Input";var $ae="Label",f$=_.forwardRef((e,t)=>o.jsx(it.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));f$.displayName=$ae;var p$=f$;const Bae=Nm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),lt=_.forwardRef(({className:e,...t},r)=>o.jsx(p$,{ref:r,className:Me(Bae(),e),...t}));lt.displayName=p$.displayName;const Eo=_.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Eo.displayName="Textarea";function aN(e,[t,r]){return Math.min(r,Math.max(t,e))}function _E(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Uae=[" ","Enter","ArrowUp","ArrowDown"],qae=[" ","Enter"],Ah="Select",[Yb,Kb,zae]=_m(Ah),[$m,Ebe]=fs(Ah,[zae,Rm]),Jb=Rm(),[Vae,hd]=$m(Ah),[Wae,Hae]=$m(Ah),m$=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:v}=e,m=Jb(t),[x,g]=_.useState(null),[w,S]=_.useState(null),[k,T]=_.useState(!1),R=dd(u),[L,D]=Ya({prop:n,defaultProp:s??!1,onChange:i,caller:Ah}),[M,G]=Ya({prop:a,defaultProp:l,onChange:c,caller:Ah}),A=_.useRef(null),I=x?v||!!x.closest("form"):!0,[$,q]=_.useState(new Set),te=Array.from($).map(ne=>ne.props.value).join(";");return o.jsx(N8,{...m,children:o.jsxs(Vae,{required:f,scope:t,trigger:x,onTriggerChange:g,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:T,contentId:pa(),value:M,onValueChange:G,open:L,onOpenChange:D,dir:R,triggerPointerDownPosRef:A,disabled:p,children:[o.jsx(Yb.Provider,{scope:t,children:o.jsx(Wae,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(ne=>{q(re=>new Set(re).add(ne))},[]),onNativeOptionRemove:_.useCallback(ne=>{q(re=>{const W=new Set(re);return W.delete(ne),W})},[]),children:r})}),I?o.jsxs($$,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:M,onChange:ne=>G(ne.target.value),disabled:p,form:v,children:[M===void 0?o.jsx("option",{value:""}):null,Array.from($)]},te):null]})})};m$.displayName=Ah;var g$="SelectTrigger",v$=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Jb(r),a=hd(g$,r),l=a.disabled||n,c=Tt(t,a.onTriggerChange),u=Kb(r),d=_.useRef("touch"),[h,p,f]=U$(m=>{const x=u().filter(S=>!S.disabled),g=x.find(S=>S.value===a.value),w=q$(x,m,g);w!==void 0&&a.onValueChange(w.value)}),v=m=>{l||(a.onOpenChange(!0),f()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(Lb,{asChild:!0,...i,children:o.jsx(it.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":B$(a.value)?"":void 0,...s,ref:c,onClick:dt(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:dt(s.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:dt(s.onKeyDown,m=>{const x=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(x&&m.key===" ")&&Uae.includes(m.key)&&(v(),m.preventDefault())})})})});v$.displayName=g$;var y$="SelectValue",x$=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...l}=e,c=hd(y$,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Tt(t,c.onValueNodeChange);return ln(()=>{u(d)},[u,d]),o.jsx(it.span,{...l,ref:h,style:{pointerEvents:"none"},children:B$(c.value)?o.jsx(o.Fragment,{children:a}):i})});x$.displayName=y$;var Gae="SelectIcon",w$=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(it.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});w$.displayName=Gae;var Yae="SelectPortal",b$=e=>o.jsx(jm,{asChild:!0,...e});b$.displayName=Yae;var Ph="SelectContent",_$=_.forwardRef((e,t)=>{const r=hd(Ph,e.__scopeSelect),[n,s]=_.useState();if(ln(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Wh.createPortal(o.jsx(S$,{scope:e.__scopeSelect,children:o.jsx(Yb.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(j$,{...e,ref:t})});_$.displayName=Ph;var po=10,[S$,fd]=$m(Ph),Kae="SelectContentImpl",Jae=Zu("SelectContent.RemoveScroll"),j$=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:x,...g}=e,w=hd(Ph,r),[S,k]=_.useState(null),[T,R]=_.useState(null),L=Tt(t,F=>k(F)),[D,M]=_.useState(null),[G,A]=_.useState(null),I=Kb(r),[$,q]=_.useState(!1),te=_.useRef(!1);_.useEffect(()=>{if(S)return Ub(S)},[S]),mE();const ne=_.useCallback(F=>{const[Z,...se]=I().map(fe=>fe.ref.current),[le]=se.slice(-1),ue=document.activeElement;for(const fe of F)if(fe===ue||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===Z&&T&&(T.scrollTop=0),fe===le&&T&&(T.scrollTop=T.scrollHeight),fe==null||fe.focus(),document.activeElement!==ue))return},[I,T]),re=_.useCallback(()=>ne([D,S]),[ne,D,S]);_.useEffect(()=>{$&&re()},[$,re]);const{onOpenChange:W,triggerPointerDownPosRef:X}=w;_.useEffect(()=>{if(S){let F={x:0,y:0};const Z=le=>{var ue,fe;F={x:Math.abs(Math.round(le.pageX)-(((ue=X.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(le.pageY)-(((fe=X.current)==null?void 0:fe.y)??0))}},se=le=>{F.x<=10&&F.y<=10?le.preventDefault():S.contains(le.target)||W(!1),document.removeEventListener("pointermove",Z),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",se,{capture:!0})}}},[S,W,X]),_.useEffect(()=>{const F=()=>W(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[W]);const[pe,ge]=U$(F=>{const Z=I().filter(ue=>!ue.disabled),se=Z.find(ue=>ue.ref.current===document.activeElement),le=q$(Z,F,se);le&&setTimeout(()=>le.ref.current.focus())}),U=_.useCallback((F,Z,se)=>{const le=!te.current&&!se;(w.value!==void 0&&w.value===Z||le)&&(M(F),le&&(te.current=!0))},[w.value]),b=_.useCallback(()=>S==null?void 0:S.focus(),[S]),C=_.useCallback((F,Z,se)=>{const le=!te.current&&!se;(w.value!==void 0&&w.value===Z||le)&&A(F)},[w.value]),E=n==="popper"?oN:N$,B=E===oN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:x}:{};return o.jsx(S$,{scope:r,content:S,viewport:T,onViewportChange:R,itemRefCallback:U,selectedItem:D,onItemLeave:b,itemTextRefCallback:C,focusSelectedItem:re,selectedItemText:G,position:n,isPositioned:$,searchRef:pe,children:o.jsx($0,{as:Jae,allowPinchZoom:!0,children:o.jsx(I0,{asChild:!0,trapped:w.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:dt(s,F=>{var Z;(Z=w.trigger)==null||Z.focus({preventScroll:!0}),F.preventDefault()}),children:o.jsx(Sm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(E,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:F=>F.preventDefault(),...g,...B,onPlaced:()=>q(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:dt(g.onKeyDown,F=>{const Z=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!Z&&F.key.length===1&&ge(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let le=I().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(F.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const ue=F.target,fe=le.indexOf(ue);le=le.slice(fe+1)}setTimeout(()=>ne(le)),F.preventDefault()}})})})})})})});j$.displayName=Kae;var Qae="SelectItemAlignedPosition",N$=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=hd(Ph,r),a=fd(Ph,r),[l,c]=_.useState(null),[u,d]=_.useState(null),h=Tt(t,L=>d(L)),p=Kb(r),f=_.useRef(!1),v=_.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:g,focusSelectedItem:w}=a,S=_.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&x&&g){const L=i.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),G=g.getBoundingClientRect();if(i.dir!=="rtl"){const ue=G.left-D.left,fe=M.left-ue,be=L.left-fe,Ie=L.width+be,Q=Math.max(Ie,D.width),De=window.innerWidth-po,Ye=aN(fe,[po,Math.max(po,De-Q)]);l.style.minWidth=Ie+"px",l.style.left=Ye+"px"}else{const ue=D.right-G.right,fe=window.innerWidth-M.right-ue,be=window.innerWidth-L.right-fe,Ie=L.width+be,Q=Math.max(Ie,D.width),De=window.innerWidth-po,Ye=aN(fe,[po,Math.max(po,De-Q)]);l.style.minWidth=Ie+"px",l.style.right=Ye+"px"}const A=p(),I=window.innerHeight-po*2,$=m.scrollHeight,q=window.getComputedStyle(u),te=parseInt(q.borderTopWidth,10),ne=parseInt(q.paddingTop,10),re=parseInt(q.borderBottomWidth,10),W=parseInt(q.paddingBottom,10),X=te+ne+$+W+re,pe=Math.min(x.offsetHeight*5,X),ge=window.getComputedStyle(m),U=parseInt(ge.paddingTop,10),b=parseInt(ge.paddingBottom,10),C=L.top+L.height/2-po,E=I-C,B=x.offsetHeight/2,F=x.offsetTop+B,Z=te+ne+F,se=X-Z;if(Z<=C){const ue=A.length>0&&x===A[A.length-1].ref.current;l.style.bottom="0px";const fe=u.clientHeight-m.offsetTop-m.offsetHeight,be=Math.max(E,B+(ue?b:0)+fe+re),Ie=Z+be;l.style.height=Ie+"px"}else{const ue=A.length>0&&x===A[0].ref.current;l.style.top="0px";const be=Math.max(C,te+m.offsetTop+(ue?U:0)+B)+se;l.style.height=be+"px",m.scrollTop=Z-C+m.offsetTop}l.style.margin=`${po}px 0`,l.style.minHeight=pe+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,l,u,m,x,g,i.dir,n]);ln(()=>S(),[S]);const[k,T]=_.useState();ln(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const R=_.useCallback(L=>{L&&v.current===!0&&(S(),w==null||w(),v.current=!1)},[S,w]);return o.jsx(Xae,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:o.jsx(it.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});N$.displayName=Qae;var Zae="SelectPopperPosition",oN=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=po,...i}=e,a=Jb(r);return o.jsx(BC,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});oN.displayName=Zae;var[Xae,SE]=$m(Ph,{}),lN="SelectViewport",k$=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=fd(lN,r),a=SE(lN,r),l=Tt(t,i.onViewportChange),c=_.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Yb.Slot,{scope:r,children:o.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:dt(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const v=window.innerHeight-po*2,m=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),g=Math.max(m,x);if(g<v){const w=g+f,S=Math.min(v,w),k=w-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});k$.displayName=lN;var C$="SelectGroup",[eoe,toe]=$m(C$),roe=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=pa();return o.jsx(eoe,{scope:r,id:s,children:o.jsx(it.div,{role:"group","aria-labelledby":s,...n,ref:t})})});roe.displayName=C$;var E$="SelectLabel",A$=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=toe(E$,r);return o.jsx(it.div,{id:s.id,...n,ref:t})});A$.displayName=E$;var Cw="SelectItem",[noe,P$]=$m(Cw),T$=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,l=hd(Cw,r),c=fd(Cw,r),u=l.value===n,[d,h]=_.useState(i??""),[p,f]=_.useState(!1),v=Tt(t,w=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,w,n,s)}),m=pa(),x=_.useRef("touch"),g=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(noe,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:_.useCallback(w=>{h(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(Yb.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(it.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:dt(a.onFocus,()=>f(!0)),onBlur:dt(a.onBlur,()=>f(!1)),onClick:dt(a.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:dt(a.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:dt(a.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:dt(a.onPointerMove,w=>{var S;x.current=w.pointerType,s?(S=c.onItemLeave)==null||S.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(a.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:dt(a.onKeyDown,w=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(qae.includes(w.key)&&g(),w.key===" "&&w.preventDefault())})})})})});T$.displayName=Cw;var Jg="SelectItemText",R$=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=hd(Jg,r),l=fd(Jg,r),c=P$(Jg,r),u=Hae(Jg,r),[d,h]=_.useState(null),p=Tt(t,g=>h(g),c.onItemTextChange,g=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,g,c.value,c.disabled)}),f=d==null?void 0:d.textContent,v=_.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return ln(()=>(m(v),()=>x(v)),[m,x,v]),o.jsxs(o.Fragment,{children:[o.jsx(it.span,{id:c.textId,...i,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Wh.createPortal(i.children,a.valueNode):null]})});R$.displayName=Jg;var O$="SelectItemIndicator",L$=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return P$(O$,r).isSelected?o.jsx(it.span,{"aria-hidden":!0,...n,ref:t}):null});L$.displayName=O$;var cN="SelectScrollUpButton",M$=_.forwardRef((e,t)=>{const r=fd(cN,e.__scopeSelect),n=SE(cN,e.__scopeSelect),[s,i]=_.useState(!1),a=Tt(t,n.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(D$,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});M$.displayName=cN;var uN="SelectScrollDownButton",I$=_.forwardRef((e,t)=>{const r=fd(uN,e.__scopeSelect),n=SE(uN,e.__scopeSelect),[s,i]=_.useState(!1),a=Tt(t,n.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(D$,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});I$.displayName=uN;var D$=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=fd("SelectScrollButton",r),a=_.useRef(null),l=Kb(r),c=_.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),ln(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(it.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:dt(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:dt(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:dt(s.onPointerLeave,()=>{c()})})}),soe="SelectSeparator",F$=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(it.div,{"aria-hidden":!0,...n,ref:t})});F$.displayName=soe;var dN="SelectArrow",ioe=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Jb(r),i=hd(dN,r),a=fd(dN,r);return i.open&&a.position==="popper"?o.jsx(UC,{...s,...n,ref:t}):null});ioe.displayName=dN;var aoe="SelectBubbleInput",$$=_.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=_.useRef(null),i=Tt(n,s),a=_E(t);return _.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[a,t]),o.jsx(it.select,{...r,style:{...iD,...r.style},ref:i,defaultValue:t})});$$.displayName=aoe;function B$(e){return e===""||e===void 0}function U$(e){const t=an(e),r=_.useRef(""),n=_.useRef(0),s=_.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function q$(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=ooe(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function ooe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var loe=m$,z$=v$,coe=x$,uoe=w$,doe=b$,V$=_$,hoe=k$,W$=A$,H$=T$,foe=R$,poe=L$,G$=M$,Y$=I$,K$=F$;const Mr=loe,Ir=coe,Tr=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(z$,{ref:n,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(uoe,{asChild:!0,children:o.jsx(_C,{className:"h-4 w-4 opacity-50"})})]}));Tr.displayName=z$.displayName;const J$=_.forwardRef(({className:e,...t},r)=>o.jsx(G$,{ref:r,className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx($K,{className:"h-4 w-4"})}));J$.displayName=G$.displayName;const Q$=_.forwardRef(({className:e,...t},r)=>o.jsx(Y$,{ref:r,className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(_C,{className:"h-4 w-4"})}));Q$.displayName=Y$.displayName;const Rr=_.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(doe,{children:o.jsxs(V$,{ref:s,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(J$,{}),o.jsx(hoe,{className:Me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(Q$,{})]})}));Rr.displayName=V$.displayName;const moe=_.forwardRef(({className:e,...t},r)=>o.jsx(W$,{ref:r,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));moe.displayName=W$.displayName;const He=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(H$,{ref:n,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(poe,{children:o.jsx(kb,{className:"h-4 w-4"})})}),o.jsx(foe,{children:t})]}));He.displayName=H$.displayName;const goe=_.forwardRef(({className:e,...t},r)=>o.jsx(K$,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));goe.displayName=K$.displayName;const voe=({delaySeconds:e=10})=>{const[t,r]=_.useState(!1),[n,s]=_.useState(!1),i=Ks();_.useEffect(()=>{if(sessionStorage.getItem("loginPromptShown")){s(!0);return}const c=setTimeout(()=>{n||(r(!0),s(!0),sessionStorage.setItem("loginPromptShown","true"))},e*1e3);return()=>clearTimeout(c)},[e,n]);const a=l=>{r(!1),i(l)};return o.jsx(Ns,{open:t,onOpenChange:r,children:o.jsxs(ds,{className:"sm:max-w-[500px] border-none shadow-2xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-md p-0 overflow-hidden rounded-2xl",children:[o.jsx("button",{onClick:()=>r(!1),className:"absolute right-4 top-4 z-50 p-2 bg-black/5 dark:bg-white/10 rounded-full hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:o.jsx(Em,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-600/10 to-purple-600/10 p-8 text-center pb-6",children:[o.jsx("div",{className:"w-16 h-16 mx-auto bg-white rounded-2xl shadow-lg flex items-center justify-center mb-4 transition-transform hover:scale-105 duration-300",children:o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"w-10 h-10 object-contain"})}),o.jsx(hs,{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-600 to-teal-600 dark:from-emerald-400 dark:to-teal-400 mb-2",children:"Welcome to Medicare"}),o.jsx(Gs,{className:"text-muted-foreground max-w-sm mx-auto",children:"Access personalized care, view reports, or manage hospital operations securely."})]}),o.jsxs("div",{className:"p-6 grid grid-cols-2 gap-4",children:[o.jsxs("div",{onClick:()=>a("/patient/login"),className:"group cursor-pointer relative p-5 rounded-2xl border border-border/50 bg-card hover:bg-blue-50/50 dark:hover:bg-blue-900/20 hover:border-blue-200 dark:hover:border-blue-700 transition-all duration-300 hover:shadow-md",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:o.jsx(za,{className:"h-6 w-6"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Patient Portal"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-snug mb-3",children:"Book appointments & view medical records"}),o.jsxs("div",{className:"flex items-center text-xs font-medium text-blue-600 dark:text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity -translate-x-2 group-hover:translate-x-0 duration-300",children:["Sign In ",o.jsx(Kp,{className:"h-3 w-3 ml-1"})]})]}),o.jsxs("div",{onClick:()=>a("/staff/login"),className:"group cursor-pointer relative p-5 rounded-2xl border border-border/50 bg-card hover:bg-emerald-50/50 dark:hover:bg-emerald-900/20 hover:border-emerald-200 dark:hover:border-emerald-700 transition-all duration-300 hover:shadow-md",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:o.jsx(qi,{className:"h-6 w-6"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Staff Portal"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-snug mb-3",children:"For doctors, nurses & hospital staff"}),o.jsxs("div",{className:"flex items-center text-xs font-medium text-emerald-600 dark:text-emerald-400 opacity-0 group-hover:opacity-100 transition-opacity -translate-x-2 group-hover:translate-x-0 duration-300",children:["Staff Login ",o.jsx(Kp,{className:"h-3 w-3 ml-1"})]})]})]}),o.jsx("div",{className:"pb-6 text-center",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["New patient?"," ",o.jsx(Hr,{to:"/patient/register",onClick:()=>r(!1),className:"text-primary font-medium hover:underline hover:text-primary/80 transition-colors",children:"Create an account"})]})})]})]})})},yoe=({name:e,specialty:t,experience:r,rating:n=4.5,available:s=!0})=>o.jsx(vt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary/20 to-primary/40 flex items-center justify-center flex-shrink-0",children:o.jsx(No,{className:"h-8 w-8 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-lg truncate",children:e}),o.jsx("p",{className:"text-primary font-medium text-sm",children:t}),r&&o.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:r}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(CC,{className:"h-4 w-4 text-amber-500 fill-amber-500"}),o.jsx("span",{className:"text-sm font-medium",children:n.toFixed(1)})]}),o.jsx(zt,{variant:s?"default":"secondary",className:"text-xs",children:s?"Available":"Busy"})]})]})]})})}),xoe=({title:e,excerpt:t,date:r,category:n})=>o.jsxs(vt,{className:"overflow-hidden hover:shadow-lg transition-shadow h-full",children:[o.jsx("div",{className:"h-2 bg-gradient-to-r from-primary to-primary/60"}),o.jsxs(Bt,{className:"pb-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[o.jsx(zt,{variant:"secondary",className:"text-xs",children:n}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(zu,{className:"h-3 w-3"}),r]})]}),o.jsx(Lt,{className:"text-lg line-clamp-2",children:e})]}),o.jsx(Et,{children:o.jsx("p",{className:"text-muted-foreground text-sm line-clamp-3",children:t})})]}),woe=[{icon:AC,title:"Create Account",description:"Sign up for a patient account using your email address and phone number.",color:"bg-blue-100 text-blue-600"},{icon:zu,title:"Book Appointment",description:"Choose your preferred department, doctor, date, and time for your visit.",color:"bg-emerald-100 text-emerald-600"},{icon:Gh,title:"Get Confirmation",description:"Receive instant confirmation via call or message with appointment details.",color:"bg-purple-100 text-purple-600"},{icon:KK,title:"Use AI Assistant",description:"Chat with Maya, our AI assistant, for quick answers and guidance.",color:"bg-amber-100 text-amber-600"},{icon:Nc,title:"Visit Hospital",description:"Arrive at your scheduled time with your confirmation details.",color:"bg-rose-100 text-rose-600"}],boe=()=>{const e=t=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const r=new SpeechSynthesisUtterance(t),s=window.speechSynthesis.getVoices().find(i=>i.name.includes("Female")||i.name.includes("Samantha")||i.name.includes("Google US English"));s&&(r.voice=s),r.pitch=1,r.rate=1,window.speechSynthesis.speak(r)}};return o.jsx("section",{className:"py-16 px-4 bg-gradient-to-b from-muted/30 to-background",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"How to Use Our Services"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Getting started is easy. Follow these simple steps to book your appointment and access our healthcare services."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:woe.map((t,r)=>o.jsxs(vt,{className:"relative overflow-hidden cursor-pointer hover:scale-105 hover:shadow-lg transition-all duration-300 group",onClick:()=>e(`${t.title}. ${t.description}`),children:[o.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 bg-primary text-primary-foreground flex items-center justify-center font-bold text-sm rounded-br-lg z-10",children:r+1}),o.jsx("div",{className:"absolute inset-0 bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),o.jsxs(Bt,{className:"pt-10 pb-2",children:[o.jsx("div",{className:`w-12 h-12 rounded-full ${t.color} flex items-center justify-center mb-3 group-hover:animate-bounce`,children:o.jsx(t.icon,{className:"h-6 w-6"})}),o.jsx(Lt,{className:"text-lg",children:t.title})]}),o.jsxs(Et,{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:t.description}),o.jsx("p",{className:"text-xs text-primary mt-2 opacity-0 group-hover:opacity-100 transition-opacity font-medium",children:"Click to listen"})]})]},t.title))})]})})},_oe=[{title:"Basic Health Checkup",price:"1,499",description:"Essential health screening for everyone.",icon:Ro,features:["CBC (Complete Blood Count)","Blood Sugar (Fasting)","Lipid Profile","Urine Routine","Doctor Consultation"]},{title:"Full Body Checkup",price:"3,999",description:"Comprehensive health assessment.",popular:!0,icon:km,features:["All Basic Features","Liver Function Test","Kidney Function Test","Thyroid Profile","ECG","Vitamin D & B12","Chest X-Ray"]},{title:"Diabetes Care",price:"2,499",description:"Specialized package for diabetic patients.",icon:Wv,features:["HbA1c","Fasting & PP Blood Sugar","Cholesterol Profile","Creatinine","Eye Checkup","Dietician Consultation"]},{title:"Heart Care Package",price:"5,999",description:"Advanced cardiac health screening.",icon:Wv,features:["2D Echo / TMT","Lipid Profile","ECG","Chest X-Ray","Cardiologist Consultation","Diet Counselling"]}];function Soe(){return o.jsx("section",{className:"py-20 px-4 bg-muted/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx(zt,{className:"mb-4 bg-blue-100 text-blue-700 hover:bg-blue-200 border-none",children:"Preventive Care"}),o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Health Checkup Packages"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Detect health issues early with our comprehensive and affordable health packages. Book online and skip the queue."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:_oe.map((e,t)=>o.jsxs(vt,{className:`relative flex flex-col hover:shadow-xl transition-shadow ${e.popular?"border-primary shadow-lg scale-105 z-10":""}`,children:[e.popular&&o.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),o.jsxs(Bt,{children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:o.jsx(e.icon,{className:"h-6 w-6 text-primary"})}),o.jsx(Lt,{className:"text-xl",children:e.title}),o.jsx(wr,{children:e.description})]}),o.jsxs(Et,{className:"flex-1",children:[o.jsx("div",{className:"mb-6",children:o.jsx("span",{className:"text-3xl font-bold",children:e.price})}),o.jsx("ul",{className:"space-y-3",children:e.features.map((r,n)=>o.jsxs("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[o.jsx(kb,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r]},n))})]}),o.jsx(Mo,{children:o.jsx(Ce,{className:"w-full",variant:e.popular?"default":"outline",children:"Book Now"})})]},t))})]})})}const joe={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Noe(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function koe(e,t){const r=e.rootNode();return t&&t(r)||r}function jE(e={}){let t,r,n,s,i=null,a=0,l=!1,c=!1,u=!1,d=!1;function h(q,te){r=q;const{mergeOptions:ne,optionsAtMedia:re}=te,W=ne(joe,jE.globalOptions),X=ne(W,e);if(t=re(X),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,s=Noe(r,t.delay);const{eventStore:pe,ownerDocument:ge}=r.internalEngine(),U=!!r.internalEngine().options.watchDrag,b=koe(r,t.rootNode);pe.add(ge,"visibilitychange",g),U&&r.on("pointerDown",S),U&&!t.stopOnInteraction&&r.on("pointerUp",k),t.stopOnMouseEnter&&pe.add(b,"mouseenter",T),t.stopOnMouseEnter&&!t.stopOnInteraction&&pe.add(b,"mouseleave",R),t.stopOnFocusIn&&r.on("slideFocusStart",x),t.stopOnFocusIn&&!t.stopOnInteraction&&pe.add(r.containerNode(),"focusout",m),t.playOnInit&&m()}function p(){r.off("pointerDown",S).off("pointerUp",k).off("slideFocusStart",x),x(),n=!0,l=!1}function f(){const{ownerWindow:q}=r.internalEngine();q.clearTimeout(a),a=q.setTimeout(A,s[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function v(){const{ownerWindow:q}=r.internalEngine();q.clearTimeout(a),a=0,i=null,r.emit("autoplay:timerstopped")}function m(){if(!n){if(w()){u=!0;return}l||r.emit("autoplay:play"),f(),l=!0}}function x(){n||(l&&r.emit("autoplay:stop"),v(),l=!1)}function g(){if(w())return u=l,x();u&&m()}function w(){const{ownerDocument:q}=r.internalEngine();return q.visibilityState==="hidden"}function S(){c||x()}function k(){c||m()}function T(){c=!0,x()}function R(){c=!1,m()}function L(q){typeof q<"u"&&(d=q),m()}function D(){l&&x()}function M(){l&&m()}function G(){return l}function A(){const{index:q}=r.internalEngine(),te=q.clone().add(1).get(),ne=r.scrollSnapList().length-1,re=t.stopOnLastSnap&&te===ne;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),re)return x();m()}function I(){if(!i)return null;const q=s[r.selectedScrollSnap()],te=new Date().getTime()-i;return q-te}return{name:"autoplay",options:e,init:h,destroy:p,play:L,stop:D,reset:M,isPlaying:G,timeUntilNext:I}}jE.globalOptions=void 0;function Coe(e){return Object.prototype.toString.call(e)==="[object Object]"}function c3(e){return Coe(e)||Array.isArray(e)}function Eoe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function NE(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:r.every(a=>{const l=e[a],c=t[a];return typeof l=="function"?`${l}`==`${c}`:!c3(l)||!c3(c)?l===c:NE(l,c)})}function u3(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function Aoe(e,t){if(e.length!==t.length)return!1;const r=u3(e),n=u3(t);return r.every((s,i)=>{const a=n[i];return NE(s,a)})}function kE(e){return typeof e=="number"}function hN(e){return typeof e=="string"}function Qb(e){return typeof e=="boolean"}function d3(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rn(e){return Math.abs(e)}function CE(e){return Math.sign(e)}function yv(e,t){return Rn(e-t)}function Poe(e,t){if(e===0||t===0||Rn(e)<=Rn(t))return 0;const r=yv(Rn(e),Rn(t));return Rn(r/e)}function Toe(e){return Math.round(e*100)/100}function i0(e){return a0(e).map(Number)}function Ao(e){return e[H0(e)]}function H0(e){return Math.max(0,e.length-1)}function EE(e,t){return t===H0(e)}function h3(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function a0(e){return Object.keys(e)}function Z$(e,t){return[e,t].reduce((r,n)=>(a0(n).forEach(s=>{const i=r[s],a=n[s],l=d3(i)&&d3(a);r[s]=l?Z$(i,a):a}),r),{})}function fN(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Roe(e,t){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return t-c}function a(c,u){return hN(e)?r[e](c):e(t,c,u)}return{measure:a}}function o0(){let e=[];function t(s,i,a,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,a,l),c=()=>s.removeEventListener(i,a,l);else{const u=s;u.addListener(a),c=()=>u.removeListener(a)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function Ooe(e,t,r,n){const s=o0(),i=1e3/60;let a=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&v()})}function d(){f(),s.clear()}function h(x){if(!c)return;a||(a=x,r(),r());const g=x-a;for(a=x,l+=g;l>=i;)r(),l-=i;const w=l/i;n(w),c&&(c=t.requestAnimationFrame(h))}function p(){c||(c=t.requestAnimationFrame(h))}function f(){t.cancelAnimationFrame(c),a=null,l=0,c=0}function v(){a=null,l=0}return{init:u,destroy:d,start:p,stop:f,update:r,render:n}}function Loe(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",i=n?"x":"y",a=!n&&r?-1:1,l=d(),c=h();function u(v){const{height:m,width:x}=v;return n?m:x}function d(){return n?"top":r?"right":"left"}function h(){return n?"bottom":r?"left":"right"}function p(v){return v*a}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:p}}function Th(e=0,t=0){const r=Rn(e-t);function n(u){return u<e}function s(u){return u>t}function i(u){return n(u)||s(u)}function a(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:a,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:l}}function X$(e,t,r){const{constrain:n}=Th(0,e),s=e+1;let i=a(t);function a(p){return r?Rn((s+p)%s):n(p)}function l(){return i}function c(p){return i=a(p),h}function u(p){return d().set(l()+p)}function d(){return X$(e,l(),r)}const h={get:l,set:c,add:u,clone:d};return h}function Moe(e,t,r,n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,w){const{cross:S,direction:k}=e,T=["INPUT","SELECT","TEXTAREA"],R={passive:!1},L=o0(),D=o0(),M=Th(50,225).constrain(f.measure(20)),G={mouse:300,touch:400},A={mouse:500,touch:600},I=v?43:25;let $=!1,q=0,te=0,ne=!1,re=!1,W=!1,X=!1;function pe(fe){if(!w)return;function be(Q){(Qb(w)||w(fe,Q))&&B(Q)}const Ie=t;L.add(Ie,"dragstart",Q=>Q.preventDefault(),R).add(Ie,"touchmove",()=>{},R).add(Ie,"touchend",()=>{}).add(Ie,"touchstart",be).add(Ie,"mousedown",be).add(Ie,"touchcancel",Z).add(Ie,"contextmenu",Z).add(Ie,"click",se,!0)}function ge(){L.clear(),D.clear()}function U(){const fe=X?r:t;D.add(fe,"touchmove",F,R).add(fe,"touchend",Z).add(fe,"mousemove",F,R).add(fe,"mouseup",Z)}function b(fe){const be=fe.nodeName||"";return T.includes(be)}function C(){return(v?A:G)[X?"mouse":"touch"]}function E(fe,be){const Ie=h.add(CE(fe)*-1),Q=d.byDistance(fe,!v).distance;return v||Rn(fe)<M?Q:x&&be?Q*.5:d.byIndex(Ie.get(),0).distance}function B(fe){const be=fN(fe,n);X=be,W=v&&be&&!fe.buttons&&$,$=yv(s.get(),a.get())>=2,!(be&&fe.button!==0)&&(b(fe.target)||(ne=!0,i.pointerDown(fe),u.useFriction(0).useDuration(0),s.set(a),U(),q=i.readPoint(fe),te=i.readPoint(fe,S),p.emit("pointerDown")))}function F(fe){if(!fN(fe,n)&&fe.touches.length>=2)return Z(fe);const Ie=i.readPoint(fe),Q=i.readPoint(fe,S),De=yv(Ie,q),Ye=yv(Q,te);if(!re&&!X&&(!fe.cancelable||(re=De>Ye,!re)))return Z(fe);const Ke=i.pointerMove(fe);De>m&&(W=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(k(Ke)),fe.preventDefault()}function Z(fe){const Ie=d.byDistance(0,!1).index!==h.get(),Q=i.pointerUp(fe)*C(),De=E(k(Q),Ie),Ye=Poe(Q,De),Ke=I-10*Ye,Ne=g+Ye/50;re=!1,ne=!1,D.clear(),u.useDuration(Ke).useFriction(Ne),c.distance(De,!v),X=!1,p.emit("pointerUp")}function se(fe){W&&(fe.stopPropagation(),fe.preventDefault(),W=!1)}function le(){return ne}return{init:pe,destroy:ge,pointerDown:le}}function Ioe(e,t){let n,s;function i(h){return h.timeStamp}function a(h,p){const v=`client${(p||e.scroll)==="x"?"X":"Y"}`;return(fN(h,t)?h:h.touches[0])[v]}function l(h){return n=h,s=h,a(h)}function c(h){const p=a(h)-a(s),f=i(h)-i(n)>170;return s=h,f&&(n=h),p}function u(h){if(!n||!s)return 0;const p=a(s)-a(n),f=i(h)-i(n),v=i(h)-i(s)>170,m=p/f;return f&&!v&&Rn(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function Doe(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:a}=r;return{top:n,right:s+i,bottom:n+a,left:s,width:i,height:a}}return{measure:e}}function Foe(e){function t(n){return e*(n/100)}return{measure:t}}function $oe(e,t,r,n,s,i,a){const l=[e].concat(n);let c,u,d=[],h=!1;function p(x){return s.measureSize(a.measure(x))}function f(x){if(!i)return;u=p(e),d=n.map(p);function g(w){for(const S of w){if(h)return;const k=S.target===e,T=n.indexOf(S.target),R=k?u:d[T],L=p(k?e:n[T]);if(Rn(L-R)>=.5){x.reInit(),t.emit("resize");break}}}c=new ResizeObserver(w=>{(Qb(i)||i(x,w))&&g(w)}),r.requestAnimationFrame(()=>{l.forEach(w=>c.observe(w))})}function v(){h=!0,c&&c.disconnect()}return{init:f,destroy:v}}function Boe(e,t,r,n,s,i){let a=0,l=0,c=s,u=i,d=e.get(),h=0;function p(){const R=n.get()-e.get(),L=!c;let D=0;return L?(a=0,r.set(n),e.set(n),D=R):(r.set(e),a+=R/c,a*=u,d+=a,e.add(a),D=d-h),l=CE(D),h=d,T}function f(){const R=n.get()-t.get();return Rn(R)<.001}function v(){return c}function m(){return l}function x(){return a}function g(){return S(s)}function w(){return k(i)}function S(R){return c=R,T}function k(R){return u=R,T}const T={direction:m,duration:v,velocity:x,seek:p,settled:f,useBaseFriction:w,useBaseDuration:g,useFriction:k,useDuration:S};return T}function Uoe(e,t,r,n,s){const i=s.measure(10),a=s.measure(50),l=Th(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(f){if(!u())return;const v=e.reachedMin(t.get())?"min":"max",m=Rn(e[v]-t.get()),x=r.get()-t.get(),g=l.constrain(m/a);r.subtract(x*g),!f&&Rn(x)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function h(f){c=!f}return{shouldConstrain:u,constrain:d,toggleActive:h}}function qoe(e,t,r,n,s){const i=Th(-t+e,0),a=h(),l=d(),c=p();function u(v,m){return yv(v,m)<=1}function d(){const v=a[0],m=Ao(a),x=a.lastIndexOf(v),g=a.indexOf(m)+1;return Th(x,g)}function h(){return r.map((v,m)=>{const{min:x,max:g}=i,w=i.constrain(v),S=!m,k=EE(r,m);return S?g:k||u(x,w)?x:u(g,w)?g:w}).map(v=>parseFloat(v.toFixed(3)))}function p(){if(t<=e+s)return[i.max];if(n==="keepSnaps")return a;const{min:v,max:m}=l;return a.slice(v,m)}return{snapsContained:c,scrollContainLimit:l}}function zoe(e,t,r){const n=t[0],s=r?n-e:Ao(t);return{limit:Th(s,n)}}function Voe(e,t,r,n){const i=t.min+.1,a=t.max+.1,{reachedMin:l,reachedMax:c}=Th(i,a);function u(p){return p===1?c(r.get()):p===-1?l(r.get()):!1}function d(p){if(!u(p))return;const f=e*(p*-1);n.forEach(v=>v.add(f))}return{loop:d}}function Woe(e){const{max:t,length:r}=e;function n(i){const a=i-t;return r?a/-r:0}return{get:n}}function Hoe(e,t,r,n,s){const{startEdge:i,endEdge:a}=e,{groupSlides:l}=s,c=h().map(t.measure),u=p(),d=f();function h(){return l(n).map(m=>Ao(m)[a]-m[0][i]).map(Rn)}function p(){return n.map(m=>r[i]-m[i]).map(m=>-Rn(m))}function f(){return l(u).map(m=>m[0]).map((m,x)=>m+c[x])}return{snaps:u,snapsAligned:d}}function Goe(e,t,r,n,s,i){const{groupSlides:a}=s,{min:l,max:c}=n,u=d();function d(){const p=a(i),f=!e||t==="keepSnaps";return r.length===1?[i]:f?p:p.slice(l,c).map((v,m,x)=>{const g=!m,w=EE(x,m);if(g){const S=Ao(x[0])+1;return h3(S)}if(w){const S=H0(i)-Ao(x)[0]+1;return h3(S,Ao(x)[0])}return v})}return{slideRegistry:u}}function Yoe(e,t,r,n,s){const{reachedAny:i,removeOffset:a,constrain:l}=n;function c(v){return v.concat().sort((m,x)=>Rn(m)-Rn(x))[0]}function u(v){const m=e?a(v):l(v),x=t.map((w,S)=>({diff:d(w-m,0),index:S})).sort((w,S)=>Rn(w.diff)-Rn(S.diff)),{index:g}=x[0];return{index:g,distance:m}}function d(v,m){const x=[v,v+r,v-r];if(!e)return v;if(!m)return c(x);const g=x.filter(w=>CE(w)===m);return g.length?c(g):Ao(x)-r}function h(v,m){const x=t[v]-s.get(),g=d(x,m);return{index:v,distance:g}}function p(v,m){const x=s.get()+v,{index:g,distance:w}=u(x),S=!e&&i(x);if(!m||S)return{index:g,distance:v};const k=t[g]-w,T=v+d(k,0);return{index:g,distance:T}}return{byDistance:p,byIndex:h,shortcut:d}}function Koe(e,t,r,n,s,i,a){function l(h){const p=h.distance,f=h.index!==t.get();i.add(p),p&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),f&&(r.set(t.get()),t.set(h.index),a.emit("select"))}function c(h,p){const f=s.byDistance(h,p);l(f)}function u(h,p){const f=t.clone().set(h),v=s.byIndex(f.get(),p);l(v)}return{distance:c,index:u}}function Joe(e,t,r,n,s,i,a,l){const c={passive:!0,capture:!0};let u=0;function d(f){if(!l)return;function v(m){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const w=r.findIndex(S=>S.includes(m));kE(w)&&(s.useDuration(0),n.index(w,0),a.emit("slideFocus"))}i.add(document,"keydown",h,!1),t.forEach((m,x)=>{i.add(m,"focus",g=>{(Qb(l)||l(f,g))&&v(x)},c)})}function h(f){f.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Qg(e){let t=e;function r(){return t}function n(c){t=a(c)}function s(c){t+=a(c)}function i(c){t-=a(c)}function a(c){return kE(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function e9(e,t){const r=e.scroll==="x"?a:l,n=t.style;let s=null,i=!1;function a(p){return`translate3d(${p}px,0px,0px)`}function l(p){return`translate3d(0px,${p}px,0px)`}function c(p){if(i)return;const f=Toe(e.direction(p));f!==s&&(n.transform=r(f),s=f)}function u(p){i=!p}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function Qoe(e,t,r,n,s,i,a,l,c){const d=i0(s),h=i0(s).reverse(),p=g().concat(w());function f(L,D){return L.reduce((M,G)=>M-s[G],D)}function v(L,D){return L.reduce((M,G)=>f(M,D)>0?M.concat([G]):M,[])}function m(L){return i.map((D,M)=>({start:D-n[M]+.5+L,end:D+t-.5+L}))}function x(L,D,M){const G=m(D);return L.map(A=>{const I=M?0:-r,$=M?r:0,q=M?"end":"start",te=G[A][q];return{index:A,loopPoint:te,slideLocation:Qg(-1),translate:e9(e,c[A]),target:()=>l.get()>te?I:$}})}function g(){const L=a[0],D=v(h,L);return x(D,r,!1)}function w(){const L=t-a[0]-1,D=v(d,L);return x(D,-r,!0)}function S(){return p.every(({index:L})=>{const D=d.filter(M=>M!==L);return f(D,t)<=.1})}function k(){p.forEach(L=>{const{target:D,translate:M,slideLocation:G}=L,A=D();A!==G.get()&&(M.to(A),G.set(A))})}function T(){p.forEach(L=>L.translate.clear())}return{canLoop:S,clear:T,loop:k,loopPoints:p}}function Zoe(e,t,r){let n,s=!1;function i(c){if(!r)return;function u(d){for(const h of d)if(h.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(Qb(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function a(){n&&n.disconnect(),s=!0}return{init:i,destroy:a}}function Xoe(e,t,r,n){const s={};let i=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(v=>{c||(v.forEach(m=>{const x=t.indexOf(m.target);s[x]=m}),i=null,a=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(v=>l.observe(v))}function d(){l&&l.disconnect(),c=!0}function h(v){return a0(s).reduce((m,x)=>{const g=parseInt(x),{isIntersecting:w}=s[g];return(v&&w||!v&&!w)&&m.push(g),m},[])}function p(v=!0){if(v&&i)return i;if(!v&&a)return a;const m=h(v);return v&&(i=m),v||(a=m),m}return{init:u,destroy:d,get:p}}function ele(e,t,r,n,s,i){const{measureSize:a,startEdge:l,endEdge:c}=e,u=r[0]&&s,d=v(),h=m(),p=r.map(a),f=x();function v(){if(!u)return 0;const w=r[0];return Rn(t[l]-w[l])}function m(){if(!u)return 0;const w=i.getComputedStyle(Ao(n));return parseFloat(w.getPropertyValue(`margin-${c}`))}function x(){return r.map((w,S,k)=>{const T=!S,R=EE(k,S);return T?p[S]+d:R?p[S]+h:k[S+1][l]-w[l]}).map(Rn)}return{slideSizes:p,slideSizesWithGaps:f,startGap:d,endGap:h}}function tle(e,t,r,n,s,i,a,l,c){const{startEdge:u,endEdge:d,direction:h}=e,p=kE(r);function f(g,w){return i0(g).filter(S=>S%w===0).map(S=>g.slice(S,S+w))}function v(g){return g.length?i0(g).reduce((w,S,k)=>{const T=Ao(w)||0,R=T===0,L=S===H0(g),D=s[u]-i[T][u],M=s[u]-i[S][d],G=!n&&R?h(a):0,A=!n&&L?h(l):0,I=Rn(M-A-(D+G));return k&&I>t+c&&w.push(S),L&&w.push(g.length),w},[]).map((w,S,k)=>{const T=Math.max(k[S-1]||0);return g.slice(T,w)}):[]}function m(g){return p?f(g,r):v(g)}return{groupSlides:m}}function rle(e,t,r,n,s,i,a){const{align:l,axis:c,direction:u,startIndex:d,loop:h,duration:p,dragFree:f,dragThreshold:v,inViewThreshold:m,slidesToScroll:x,skipSnaps:g,containScroll:w,watchResize:S,watchSlides:k,watchDrag:T,watchFocus:R}=i,L=2,D=Doe(),M=D.measure(t),G=r.map(D.measure),A=Loe(c,u),I=A.measureSize(M),$=Foe(I),q=Roe(l,I),te=!h&&!!w,ne=h||!!w,{slideSizes:re,slideSizesWithGaps:W,startGap:X,endGap:pe}=ele(A,M,G,r,ne,s),ge=tle(A,I,x,h,M,G,X,pe,L),{snaps:U,snapsAligned:b}=Hoe(A,q,M,G,ge),C=-Ao(U)+Ao(W),{snapsContained:E,scrollContainLimit:B}=qoe(I,C,b,w,L),F=te?E:b,{limit:Z}=zoe(C,F,h),se=X$(H0(F),d,h),le=se.clone(),ue=i0(r),fe=({dragHandler:bt,scrollBody:tt,scrollBounds:Fr,options:{loop:Vt}})=>{Vt||Fr.constrain(bt.pointerDown()),tt.seek()},be=({scrollBody:bt,translate:tt,location:Fr,offsetLocation:Vt,previousLocation:Ot,scrollLooper:Wt,slideLooper:lr,dragHandler:_t,animation:_r,eventHandler:At,scrollBounds:Dt,options:{loop:Ur}},Yt)=>{const pt=bt.settled(),mr=!Dt.shouldConstrain(),Pt=Ur?pt:pt&&mr,Ft=Pt&&!_t.pointerDown();Ft&&_r.stop();const cr=Fr.get()*Yt+Ot.get()*(1-Yt);Vt.set(cr),Ur&&(Wt.loop(bt.direction()),lr.loop()),tt.to(Vt.get()),Ft&&At.emit("settle"),Pt||At.emit("scroll")},Ie=Ooe(n,s,()=>fe(Qe),bt=>be(Qe,bt)),Q=.68,De=F[se.get()],Ye=Qg(De),Ke=Qg(De),Ne=Qg(De),K=Qg(De),ce=Boe(Ye,Ne,Ke,K,p,Q),ve=Yoe(h,F,C,Z,K),je=Koe(Ie,se,le,ce,ve,K,a),Oe=Woe(Z),ke=o0(),Le=Xoe(t,r,a,m),{slideRegistry:Xe}=Goe(te,w,F,B,ge,ue),at=Joe(e,r,Xe,je,ce,ke,a,R),Qe={ownerDocument:n,ownerWindow:s,eventHandler:a,containerRect:M,slideRects:G,animation:Ie,axis:A,dragHandler:Moe(A,e,n,s,K,Ioe(A,s),Ye,Ie,je,ce,ve,se,a,$,f,v,g,Q,T),eventStore:ke,percentOfView:$,index:se,indexPrevious:le,limit:Z,location:Ye,offsetLocation:Ne,previousLocation:Ke,options:i,resizeHandler:$oe(t,a,s,r,A,S,D),scrollBody:ce,scrollBounds:Uoe(Z,Ne,K,ce,$),scrollLooper:Voe(C,Z,Ne,[Ye,Ne,Ke,K]),scrollProgress:Oe,scrollSnapList:F.map(Oe.get),scrollSnaps:F,scrollTarget:ve,scrollTo:je,slideLooper:Qoe(A,I,C,re,W,U,F,Ne,r),slideFocus:at,slidesHandler:Zoe(t,a,k),slidesInView:Le,slideIndexes:ue,slideRegistry:Xe,slidesToScroll:ge,target:K,translate:e9(A,t)};return Qe}function nle(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function a(u,d){return e[u]=n(u).filter(h=>h!==d),c}function l(){e={}}const c={init:r,emit:s,off:a,on:i,clear:l};return c}const sle={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function ile(e){function t(i,a){return Z$(i,a||{})}function r(i){const a=i.breakpoints||{},l=a0(a).filter(c=>e.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(a=>a0(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function ale(e){let t=[];function r(i,a){return t=a.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function Ew(e,t,r){const n=e.ownerDocument,s=n.defaultView,i=ile(s),a=ale(i),l=o0(),c=nle(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:h}=i,{on:p,off:f,emit:v}=c,m=A;let x=!1,g,w=u(sle,Ew.globalOptions),S=u(w),k=[],T,R,L;function D(){const{container:ue,slides:fe}=S;R=(hN(ue)?e.querySelector(ue):ue)||e.children[0];const Ie=hN(fe)?R.querySelectorAll(fe):fe;L=[].slice.call(Ie||R.children)}function M(ue){const fe=rle(e,R,L,n,s,ue,c);if(ue.loop&&!fe.slideLooper.canLoop()){const be=Object.assign({},ue,{loop:!1});return M(be)}return fe}function G(ue,fe){x||(w=u(w,ue),S=d(w),k=fe||k,D(),g=M(S),h([w,...k.map(({options:be})=>be)]).forEach(be=>l.add(be,"change",A)),S.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(le),g.eventHandler.init(le),g.resizeHandler.init(le),g.slidesHandler.init(le),g.options.loop&&g.slideLooper.loop(),R.offsetParent&&L.length&&g.dragHandler.init(le),T=a.init(le,k)))}function A(ue,fe){const be=ge();I(),G(u({startIndex:be},ue),fe),c.emit("reInit")}function I(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),a.destroy(),l.clear()}function $(){x||(x=!0,l.clear(),I(),c.emit("destroy"),c.clear())}function q(ue,fe,be){!S.active||x||(g.scrollBody.useBaseFriction().useDuration(fe===!0?0:S.duration),g.scrollTo.index(ue,be||0))}function te(ue){const fe=g.index.add(1).get();q(fe,ue,-1)}function ne(ue){const fe=g.index.add(-1).get();q(fe,ue,1)}function re(){return g.index.add(1).get()!==ge()}function W(){return g.index.add(-1).get()!==ge()}function X(){return g.scrollSnapList}function pe(){return g.scrollProgress.get(g.offsetLocation.get())}function ge(){return g.index.get()}function U(){return g.indexPrevious.get()}function b(){return g.slidesInView.get()}function C(){return g.slidesInView.get(!1)}function E(){return T}function B(){return g}function F(){return e}function Z(){return R}function se(){return L}const le={canScrollNext:re,canScrollPrev:W,containerNode:Z,internalEngine:B,destroy:$,off:f,on:p,emit:v,plugins:E,previousScrollSnap:U,reInit:m,rootNode:F,scrollNext:te,scrollPrev:ne,scrollProgress:pe,scrollSnapList:X,scrollTo:q,selectedScrollSnap:ge,slideNodes:se,slidesInView:b,slidesNotInView:C};return G(t,r),setTimeout(()=>c.emit("init"),0),le}Ew.globalOptions=void 0;function AE(e={},t=[]){const r=_.useRef(e),n=_.useRef(t),[s,i]=_.useState(),[a,l]=_.useState(),c=_.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return _.useEffect(()=>{NE(r.current,e)||(r.current=e,c())},[e,c]),_.useEffect(()=>{Aoe(n.current,t)||(n.current=t,c())},[t,c]),_.useEffect(()=>{if(Eoe()&&a){Ew.globalOptions=AE.globalOptions;const u=Ew(a,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),[l,s]}AE.globalOptions=void 0;const t9=_.createContext(null);function Zb(){const e=_.useContext(t9);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const r9=_.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:i,...a},l)=>{const[c,u]=AE({...t,axis:e==="horizontal"?"x":"y"},n),[d,h]=_.useState(!1),[p,f]=_.useState(!1),v=_.useCallback(w=>{w&&(h(w.canScrollPrev()),f(w.canScrollNext()))},[]),m=_.useCallback(()=>{u==null||u.scrollPrev()},[u]),x=_.useCallback(()=>{u==null||u.scrollNext()},[u]),g=_.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),m()):w.key==="ArrowRight"&&(w.preventDefault(),x())},[m,x]);return _.useEffect(()=>{!u||!r||r(u)},[u,r]),_.useEffect(()=>{if(u)return v(u),u.on("reInit",v),u.on("select",v),()=>{u==null||u.off("select",v)}},[u,v]),o.jsx(t9.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:x,canScrollPrev:d,canScrollNext:p},children:o.jsx("div",{ref:l,onKeyDownCapture:g,className:Me("relative",s),role:"region","aria-roledescription":"carousel",...a,children:i})})});r9.displayName="Carousel";const n9=_.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=Zb();return o.jsx("div",{ref:n,className:"overflow-hidden",children:o.jsx("div",{ref:r,className:Me("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});n9.displayName="CarouselContent";const s9=_.forwardRef(({className:e,...t},r)=>{const{orientation:n}=Zb();return o.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:Me("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});s9.displayName="CarouselItem";const i9=_.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollPrev:a,canScrollPrev:l}=Zb();return o.jsxs(Ce,{ref:s,variant:t,size:r,className:Me("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:a,...n,children:[o.jsx(Hh,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Previous slide"})]})});i9.displayName="CarouselPrevious";const a9=_.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollNext:a,canScrollNext:l}=Zb();return o.jsxs(Ce,{ref:s,variant:t,size:r,className:Me("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:a,...n,children:[o.jsx(Kp,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Next slide"})]})});a9.displayName="CarouselNext";function ole(e,t=[]){let r=[];function n(i,a){const l=_.createContext(a);l.displayName=i+"Context";const c=r.length;r=[...r,a];const u=h=>{var g;const{scope:p,children:f,...v}=h,m=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,x=_.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:x,children:f})};u.displayName=i+"Provider";function d(h,p){var m;const f=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,v=_.useContext(f);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>_.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,lle(s,...t)]}function lle(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var cle=Symbol.for("react.lazy"),Aw=Ek[" use ".trim().toString()];function ule(e){return typeof e=="object"&&e!==null&&"then"in e}function o9(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===cle&&"_payload"in e&&ule(e._payload)}function dle(e){const t=hle(e),r=_.forwardRef((n,s)=>{let{children:i,...a}=n;o9(i)&&typeof Aw=="function"&&(i=Aw(i._payload));const l=_.Children.toArray(i),c=l.find(ple);if(c){const u=c.props.children,d=l.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function hle(e){const t=_.forwardRef((r,n)=>{let{children:s,...i}=r;if(o9(s)&&typeof Aw=="function"&&(s=Aw(s._payload)),_.isValidElement(s)){const a=gle(s),l=mle(i,s.props);return s.type!==_.Fragment&&(l.ref=n?A0(n,a):a),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fle=Symbol("radix.slottable");function ple(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fle}function mle(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function gle(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],PE=vle.reduce((e,t)=>{const r=dle(`Primitive.${t}`),n=_.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),l9={exports:{}},c9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=_;function yle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xle=typeof Object.is=="function"?Object.is:yle,wle=em.useState,ble=em.useEffect,_le=em.useLayoutEffect,Sle=em.useDebugValue;function jle(e,t){var r=t(),n=wle({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return _le(function(){s.value=r,s.getSnapshot=t,h5(s)&&i({inst:s})},[e,r,t]),ble(function(){return h5(s)&&i({inst:s}),e(function(){h5(s)&&i({inst:s})})},[e]),Sle(r),r}function h5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xle(e,r)}catch{return!0}}function Nle(e,t){return t()}var kle=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nle:jle;c9.useSyncExternalStore=em.useSyncExternalStore!==void 0?em.useSyncExternalStore:kle;l9.exports=c9;var Cle=l9.exports;function Ele(){return Cle.useSyncExternalStore(Ale,()=>!0,()=>!1)}function Ale(){return()=>{}}var TE="Avatar",[Ple,Abe]=ole(TE),[Tle,u9]=Ple(TE),d9=_.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=_.useState("idle");return o.jsx(Tle,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(PE.span,{...n,ref:t})})});d9.displayName=TE;var h9="AvatarImage",f9=_.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,a=u9(h9,r),l=Rle(n,i),c=an(u=>{s(u),a.onImageLoadingStatusChange(u)});return ln(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(PE.img,{...i,ref:t,src:n}):null});f9.displayName=h9;var p9="AvatarFallback",m9=_.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=u9(p9,r),[a,l]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(PE.span,{...s,ref:t}):null});m9.displayName=p9;function f3(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Rle(e,{referrerPolicy:t,crossOrigin:r}){const n=Ele(),s=_.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[a,l]=_.useState(()=>f3(i,e));return ln(()=>{l(f3(i,e))},[i,e]),ln(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),a}var g9=d9,v9=f9,y9=m9;const Io=_.forwardRef(({className:e,...t},r)=>o.jsx(g9,{ref:r,className:Me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Io.displayName=g9.displayName;const Xb=_.forwardRef(({className:e,...t},r)=>o.jsx(v9,{ref:r,className:Me("aspect-square h-full w-full",e),...t}));Xb.displayName=v9.displayName;const Do=_.forwardRef(({className:e,...t},r)=>o.jsx(y9,{ref:r,className:Me("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Do.displayName=y9.displayName;const Ole=[{name:"Rahul Sharma",role:"Patient",content:"The care I received at Star Hospital was exceptional. The doctors were attentive and the nursing staff was incredibly supportive during my recovery.",rating:5,avatar:"RS"},{name:"Priya Patel",role:"Regular Checkups",content:"I've been using their health packages for 3 years now. The process is seamless, reports are digital, and the advice is very practical.",rating:5,avatar:"PP"},{name:"David Wilson",role:"Emergency Care",content:"Rushed here for an emergency late at night. The response time was phenomenal. Literally saved a life. Forever grateful.",rating:5,avatar:"DW"},{name:"Anita Desai",role:"Maternity Care",content:"The maternity ward is world-class. Dr. Sarah Johnson guided me through a complex pregnancy with so much patience and expertise.",rating:4,avatar:"AD"}];function Lle(){const e=_.useRef(jE({delay:4e3,stopOnInteraction:!0}));return o.jsx("section",{className:"py-20 px-4 bg-muted/30",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Patient Stories"}),o.jsx("p",{className:"text-muted-foreground",children:"What our community says about their experience with us."})]}),o.jsxs(r9,{plugins:[e.current],className:"w-full max-w-5xl mx-auto",opts:{align:"start",loop:!0},children:[o.jsx(n9,{children:Ole.map((t,r)=>o.jsx(s9,{className:"md:basis-1/2 lg:basis-1/3 pl-6",children:o.jsx(vt,{className:"h-full border-none shadow-md bg-card/50 hover:bg-card transition-colors",children:o.jsxs(Et,{className:"p-6 flex flex-col h-full",children:[o.jsx(eJ,{className:"h-8 w-8 text-primary/20 mb-4"}),o.jsxs("p",{className:"text-muted-foreground mb-6 flex-1 italic",children:['"',t.content,'"']}),o.jsxs("div",{className:"flex items-center gap-4 mt-auto",children:[o.jsxs(Io,{children:[o.jsx(Xb,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${t.avatar}`}),o.jsx(Do,{children:t.avatar})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-sm",children:t.name}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((n,s)=>o.jsx(CC,{className:`h-3 w-3 ${s<t.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},s))})]})]})]})})},r))}),o.jsx(i9,{className:"hidden md:flex"}),o.jsx(a9,{className:"hidden md:flex"})]})]})})}function vc(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var f5="rovingFocusGroup.onEntryFocus",Mle={bubbles:!1,cancelable:!0},G0="RovingFocusGroup",[pN,x9,Ile]=_m(G0),[Dle,w9]=fs(G0,[Ile]),[Fle,$le]=Dle(G0),b9=_.forwardRef((e,t)=>o.jsx(pN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(pN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ble,{...e,ref:t})})}));b9.displayName=G0;var Ble=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=_.useRef(null),f=Tt(t,p),v=dd(i),[m,x]=Ya({prop:a,defaultProp:l??null,onChange:c,caller:G0}),[g,w]=_.useState(!1),S=an(u),k=x9(r),T=_.useRef(!1),[R,L]=_.useState(0);return _.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(f5,S),()=>D.removeEventListener(f5,S)},[S]),o.jsx(Fle,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:_.useCallback(D=>x(D),[x]),onItemShiftTab:_.useCallback(()=>w(!0),[]),onFocusableItemAdd:_.useCallback(()=>L(D=>D+1),[]),onFocusableItemRemove:_.useCallback(()=>L(D=>D-1),[]),children:o.jsx(it.div,{tabIndex:g||R===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:vc(e.onMouseDown,()=>{T.current=!0}),onFocus:vc(e.onFocus,D=>{const M=!T.current;if(D.target===D.currentTarget&&M&&!g){const G=new CustomEvent(f5,Mle);if(D.currentTarget.dispatchEvent(G),!G.defaultPrevented){const A=k().filter(ne=>ne.focusable),I=A.find(ne=>ne.active),$=A.find(ne=>ne.id===m),te=[I,$,...A].filter(Boolean).map(ne=>ne.ref.current);j9(te,d)}}T.current=!1}),onBlur:vc(e.onBlur,()=>w(!1))})})}),_9="RovingFocusGroupItem",S9=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=pa(),u=i||c,d=$le(_9,r),h=d.currentTabStopId===u,p=x9(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return _.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),o.jsx(pN.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(it.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:vc(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:vc(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:vc(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=zle(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(k=>k.focusable).map(k=>k.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const k=S.indexOf(x.currentTarget);S=d.loop?Vle(S,k+1):S.slice(k+1)}setTimeout(()=>j9(S))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:m!=null}):a})})});S9.displayName=_9;var Ule={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zle(e,t,r){const n=qle(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ule[n]}function j9(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Vle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Wle=b9,Hle=S9;function Gle(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var N9=e=>{const{present:t,children:r}=e,n=Yle(t),s=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=Tt(n.ref,Kle(s));return typeof r=="function"||n.isPresent?_.cloneElement(s,{ref:i}):null};N9.displayName="Presence";function Yle(e){const[t,r]=_.useState(),n=_.useRef(null),s=_.useRef(e),i=_.useRef("none"),a=e?"mounted":"unmounted",[l,c]=Gle(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=P1(n.current);i.current=l==="mounted"?u:"none"},[l]),ln(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=P1(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ln(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=P1(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=f=>{f.target===t&&(i.current=P1(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function P1(e){return(e==null?void 0:e.animationName)||"none"}function Kle(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var RE="Radio",[Jle,k9]=fs(RE),[Qle,Zle]=Jle(RE),C9=_.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:a,value:l="on",onCheck:c,form:u,...d}=e,[h,p]=_.useState(null),f=Tt(t,x=>p(x)),v=_.useRef(!1),m=h?u||!!h.closest("form"):!0;return o.jsxs(Qle,{scope:r,checked:s,disabled:a,children:[o.jsx(it.button,{type:"button",role:"radio","aria-checked":s,"data-state":T9(s),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:f,onClick:vc(e.onClick,x=>{s||c==null||c(),m&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),m&&o.jsx(P9,{control:h,bubbles:!v.current,name:n,value:l,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});C9.displayName=RE;var E9="RadioIndicator",A9=_.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=Zle(E9,r);return o.jsx(N9,{present:n||i.checked,children:o.jsx(it.span,{"data-state":T9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});A9.displayName=E9;var Xle="RadioBubbleInput",P9=_.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=_.useRef(null),l=Tt(a,i),c=_E(r),u=Ob(t);return _.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const v=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(v)}},[c,r,n]),o.jsx(it.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});P9.displayName=Xle;function T9(e){return e?"checked":"unchecked"}var ece=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],e2="RadioGroup",[tce,Pbe]=fs(e2,[w9,k9]),R9=w9(),O9=k9(),[rce,nce]=tce(e2),L9=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...p}=e,f=R9(r),v=dd(u),[m,x]=Ya({prop:i,defaultProp:s??null,onChange:h,caller:e2});return o.jsx(rce,{scope:r,name:n,required:a,disabled:l,value:m,onValueChange:x,children:o.jsx(Wle,{asChild:!0,...f,orientation:c,dir:v,loop:d,children:o.jsx(it.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...p,ref:t})})})});L9.displayName=e2;var M9="RadioGroupItem",I9=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=nce(M9,r),a=i.disabled||n,l=R9(r),c=O9(r),u=_.useRef(null),d=Tt(t,u),h=i.value===s.value,p=_.useRef(!1);return _.useEffect(()=>{const f=m=>{ece.includes(m.key)&&(p.current=!0)},v=()=>p.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",v)}},[]),o.jsx(Hle,{asChild:!0,...l,focusable:!a,active:h,children:o.jsx(C9,{disabled:a,required:i.required,checked:h,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:vc(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:vc(s.onFocus,()=>{var f;p.current&&((f=u.current)==null||f.click())})})})});I9.displayName=M9;var sce="RadioGroupIndicator",D9=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=O9(r);return o.jsx(A9,{...s,...n,ref:t})});D9.displayName=sce;var F9=L9,$9=I9,ice=D9;const mN=_.forwardRef(({className:e,...t},r)=>o.jsx(F9,{className:Me("grid gap-2",e),...t,ref:r}));mN.displayName=F9.displayName;const Zg=_.forwardRef(({className:e,...t},r)=>o.jsx($9,{ref:r,className:Me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(ice,{className:"flex items-center justify-center",children:o.jsx(RD,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Zg.displayName=$9.displayName;const p3=[{id:"headache",label:"Headache / Dizziness",department:"Neurology"},{id:"chest_pain",label:"Chest Pain / Palpitations",department:"Cardiology"},{id:"stomach",label:"Stomach Pain / Nausea",department:"Gastroenterology"},{id:"joint",label:"Joint Pain / Fracture",department:"Orthopedics"},{id:"skin",label:"Skin Rash / Itching",department:"Dermatology"},{id:"child",label:"Child Health Issue",department:"Pediatrics"}];function ace(){const[e,t]=_.useState(1),[r,n]=_.useState(""),[s,i]=_.useState(""),a=()=>{if(e===1&&!r){qe.error("Please select a primary symptom");return}if(e===2&&!s){qe.error("Please select severity");return}t(e+1)},l=()=>{t(1),n(""),i("")},c=()=>{const u=p3.find(d=>d.id===r);return u?u.department:"General Medicine"};return o.jsx("section",{className:"py-20 px-4 bg-gradient-to-br from-blue-600 to-indigo-700 text-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row items-center gap-12",children:[o.jsxs("div",{className:"flex-1 space-y-6",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/20 text-sm font-medium backdrop-blur-sm",children:[o.jsx(fp,{className:"h-4 w-4"}),o.jsx("span",{children:"AI Health Assistant"})]}),o.jsx("h2",{className:"text-4xl font-bold leading-tight",children:"Not sure which specialist to see?"}),o.jsx("p",{className:"text-blue-100 text-lg",children:"Use our smart Symptom Checker to find the right department for your needs. It takes less than a minute."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),o.jsx("span",{className:"text-sm font-medium",children:"Free to use"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),o.jsx("span",{className:"text-sm font-medium",children:"Instant results"})]})]})]}),o.jsx("div",{className:"w-full md:w-[450px]",children:o.jsxs(vt,{className:"bg-white/95 backdrop-blur shadow-2xl border-none",children:[o.jsxs(Bt,{children:[o.jsxs(Lt,{className:"text-slate-900 flex items-center justify-between",children:[o.jsx("span",{children:"Symptom Checker"}),e<3&&o.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Step ",e,"/2"]})]}),e<3&&o.jsx(wr,{children:"Select what describes your condition best."})]}),o.jsxs(Et,{children:[e===1&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(lt,{className:"text-base",children:"What represents your main symptom?"}),o.jsx(mN,{value:r,onValueChange:n,className:"grid grid-cols-1 gap-3",children:p3.map(u=>o.jsxs("div",{className:`flex items-center space-x-3 border rounded-lg p-3 cursor-pointer transition-colors ${r===u.id?"border-primary bg-primary/5":"hover:bg-slate-50"}`,children:[o.jsx(Zg,{value:u.id,id:u.id}),o.jsx(lt,{htmlFor:u.id,className:"cursor-pointer flex-1",children:u.label})]},u.id))})]}),e===2&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(lt,{className:"text-base",children:"How severe is the pain/discomfort?"}),o.jsxs(mN,{value:s,onValueChange:i,className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-3 cursor-pointer hover:bg-slate-50",children:[o.jsx(Zg,{value:"mild",id:"mild"}),o.jsx(lt,{htmlFor:"mild",className:"cursor-pointer flex-1",children:"Mild - Annoying but bearable"})]}),o.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-3 cursor-pointer hover:bg-slate-50",children:[o.jsx(Zg,{value:"moderate",id:"moderate"}),o.jsx(lt,{htmlFor:"moderate",className:"cursor-pointer flex-1",children:"Moderate - Affects daily activities"})]}),o.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-3 cursor-pointer hover:bg-red-50 border-red-200",children:[o.jsx(Zg,{value:"severe",id:"severe",className:"text-red-600"}),o.jsx(lt,{htmlFor:"severe",className:"cursor-pointer flex-1 text-red-700 font-medium",children:"Severe - Unbearable / Emergency"})]})]}),s==="severe"&&o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 text-red-700 text-sm rounded-lg",children:[o.jsx(BK,{className:"h-5 w-5 shrink-0"}),o.jsx("p",{children:"For severe symptoms, please visit the Emergency Department immediately or call an ambulance."})]})]}),e===3&&o.jsxs("div",{className:"text-center py-4 space-y-4 animation-fade-in",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(fp,{className:"h-8 w-8"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Recommended Department"}),o.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[o.jsx("p",{className:"text-lg font-semibold text-blue-700",children:c()}),o.jsx("p",{className:"text-sm text-blue-600/80 mt-1",children:"Based on your symptoms"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Please note: This is an AI suggestion, not a medical diagnosis."})]})]}),o.jsx(Mo,{children:e<3?o.jsxs("div",{className:"flex w-full gap-3",children:[e>1&&o.jsx(Ce,{variant:"outline",onClick:()=>t(e-1),className:"flex-1",children:"Back"}),o.jsxs(Ce,{onClick:a,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:["Next ",o.jsx(Kp,{className:"ml-2 h-4 w-4"})]})]}):o.jsxs(Ce,{onClick:l,variant:"outline",className:"w-full",children:[o.jsx(kC,{className:"mr-2 h-4 w-4"})," Check Another Symptom"]})})]})})]})})}const oce={theme:"system",setTheme:()=>null},B9=_.createContext(oce);function lce({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"}){const[n,s]=_.useState(()=>localStorage.getItem(r)||t);_.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),n==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(n)},[n]);const i={theme:n,setTheme:a=>{localStorage.setItem(r,a),s(a)}};return o.jsx(B9.Provider,{value:i,children:e})}const cce=()=>{const e=_.useContext(B9);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function uce(){const{setTheme:e}=cce();return o.jsxs(td,{children:[o.jsx(rd,{asChild:!0,children:o.jsxs(Ce,{variant:"outline",size:"icon",className:"rounded-full shadow-sm hover:shadow-md transition-all",children:[o.jsx(aJ,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0 text-orange-500"}),o.jsx(QK,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100 text-blue-400"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),o.jsxs(Pc,{align:"end",children:[o.jsx(fn,{onClick:()=>e("light"),children:"Light"}),o.jsx(fn,{onClick:()=>e("dark"),children:"Dark"}),o.jsx(fn,{onClick:()=>e("system"),children:"System"})]})]})}const dce=[{title:"New Cardiac Care Wing Opens",excerpt:"Medicare Hospital is proud to announce the opening of our new cardiac care wing, equipped with the latest diagnostic and treatment technologies.",date:"Jan 15, 2026",category:"Hospital News",url:"https://news.google.com/search?q=cardiac+care+hospital"},{title:"Free Health Checkup Camp",excerpt:"Join us for a comprehensive free health checkup camp including blood pressure, diabetes screening, and general health assessment.",date:"Jan 12, 2026",category:"Events",url:"https://news.google.com/search?q=health+camp"},{title:"Winter Health Tips",excerpt:"Our doctors share essential tips for staying healthy during the cold season, including nutrition advice and exercise recommendations.",date:"Jan 10, 2026",category:"Health Tips",url:"https://news.google.com/search?q=winter+health+tips"}],p5=()=>{const e=Ks(),[t,r]=_.useState(!1),[n,s]=_.useState(""),[i,a]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState(""),[h,p]=_.useState(""),f=Qr({mutationFn:async()=>{if(!n||!i)throw new Error("Please provide your name and phone number");const{data:g,error:w}=await Be.functions.invoke("vapi-callback-request",{body:{name:n,phone:i,email:l||null,preferred_time:u||null,reason:h||null}});if(w)throw console.error("Function Error:",w),new Error(w.message||"Failed to submit request");return g},onSuccess:()=>{qe.success("Callback request submitted! Our AI agent will call you shortly."),r(!1),s(""),a(""),c(""),d(""),p("")},onError:g=>{qe.error(g.message)}}),v=[{id:"101",name:"Dr. Sarah Johnson",specialty:"Cardiology",experience:"15 years",rating:4.9,available:!0},{id:"102",name:"Dr. James Smith",specialty:"Neurology",experience:"12 years",rating:4.8,available:!0},{id:"103",name:"Dr. Emily Chen",specialty:"Pediatrics",experience:"10 years",rating:4.9,available:!0},{id:"104",name:"Dr. Michael Brown",specialty:"Orthopedics",experience:"18 years",rating:4.7,available:!0}],m=[{id:"1",name:"Cardiology",doctors_count:5},{id:"2",name:"Neurology",doctors_count:4},{id:"3",name:"Orthopedics",doctors_count:6},{id:"4",name:"Oncology",doctors_count:3},{id:"5",name:"Pediatrics",doctors_count:4},{id:"6",name:"Emergency",doctors_count:10}],x=g=>{window.open(g,"_blank")};return o.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[o.jsx(voe,{delaySeconds:5}),o.jsx("header",{className:"bg-card shadow-md sticky top-0 z-50 border-b border-border/40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center shadow-lg shadow-primary/20",children:o.jsx("img",{src:"/logo.png",alt:"Medicare Hospital Logo",className:"w-8 h-8 object-contain"})}),o.jsxs("div",{children:[o.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-blue-600",children:"Medicare Hospital"}),o.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block tracking-wide",children:"Excellence in Healthcare"})]})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("div",{className:"mr-2",children:o.jsx(uce,{})}),o.jsx("div",{className:"hidden lg:flex items-center gap-4 border-r pr-6 border-border",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#0077b5] transition-colors",children:o.jsx(HP,{className:"h-5 w-5"})}),o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#E4405F] transition-colors",children:o.jsx(WP,{className:"h-5 w-5"})}),o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#1DA1F2] transition-colors",children:o.jsx(YP,{className:"h-5 w-5"})}),o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#1877F2] transition-colors",children:o.jsx(zP,{className:"h-5 w-5"})})]})}),o.jsxs(td,{children:[o.jsx(rd,{asChild:!0,children:o.jsxs(Ce,{size:"lg",className:"gap-2 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsx(GK,{className:"w-4 h-4"}),"Login"]})}),o.jsxs(Pc,{align:"end",className:"w-56 p-2",children:[o.jsxs(fn,{onClick:()=>e("/patient/login"),className:"cursor-pointer py-3 px-3 focus:bg-primary/10",children:[o.jsx(za,{className:"mr-2 h-4 w-4 text-primary"}),o.jsx("span",{className:"font-medium",children:"Patient Login"})]}),o.jsxs(fn,{onClick:()=>e("/staff/login"),className:"cursor-pointer py-3 px-3 focus:bg-emerald-50 text-emerald-700",children:[o.jsx(qi,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Staff Login"})]}),o.jsxs(fn,{onClick:()=>e("/admin/login"),className:"cursor-pointer py-3 px-3 focus:bg-purple-50 text-purple-700",children:[o.jsx(km,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Admin Login"})]})]})]})]})]})})}),o.jsxs("section",{className:"relative bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 py-24 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?q=80&w=2600&auto=format&fit=crop')] bg-cover bg-center opacity-5"}),o.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[o.jsx(zt,{className:"mb-6 bg-primary/10 text-primary border-primary/20 text-sm px-6 py-2 rounded-full uppercase tracking-wider font-semibold",children:"Trusted by 50,000+ Patients"}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 dark:text-white mb-8 leading-tight tracking-tight",children:["Your Health, Our ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-blue-600",children:"Commitment"})]}),o.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-10 max-w-3xl mx-auto leading-relaxed",children:"Experience world-class healthcare at Medicare Hospital. Our expert team and advanced technology ensure the best care for you and your family."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[o.jsxs(Ce,{size:"lg",className:"h-16 px-10 text-xl rounded-full shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300",onClick:()=>e("/patient/register"),children:[o.jsx(za,{className:"h-6 w-6 mr-2"}),"Book Appointment"]}),o.jsx(Ce,{variant:"outline",size:"lg",className:"h-16 px-10 text-xl rounded-full border-2 bg-transparent hover:scale-95 hover:bg-gradient-to-r hover:from-red-500 hover:via-yellow-500 hover:to-green-500 hover:text-white hover:border-transparent hover:shadow-2xl transition-all duration-300 transform",asChild:!0,children:o.jsxs("a",{href:"#contact",children:[o.jsx(qa,{className:"h-6 w-6 mr-2 animate-bounce"}),"Contact Us"]})})]})]})]}),o.jsx(ace,{}),o.jsx("section",{className:"py-20 px-4 bg-muted/30",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-12",children:[o.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:o.jsx(ZK,{className:"h-8 w-8 text-primary"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Latest News & Updates"}),o.jsx("p",{className:"text-muted-foreground",children:"Stay informed with the latest announcements from Medicare Hospital"})]})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:dce.map((g,w)=>o.jsx("div",{onClick:()=>x(g.url),className:"cursor-pointer transform hover:-translate-y-1 transition-transform duration-300",children:o.jsx(xoe,{title:g.title,excerpt:g.excerpt,date:g.date,category:g.category})},w))})]})}),o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-12",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Our Expert Doctors"}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Meet our team of experienced healthcare professionals"})]}),o.jsxs(Ce,{variant:"outline",className:"hidden md:flex gap-2",onClick:()=>e("/patient/login"),children:["View All Doctors ",o.jsx(Kp,{className:"h-4 w-4"})]})]}),v.length>0?o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:v.map(g=>o.jsx(yoe,{name:g.name,specialty:g.specialty,experience:g.experience||void 0,rating:g.rating||4.5,available:g.available??!0},g.id))}):o.jsxs(vt,{className:"p-12 text-center border-dashed",children:[o.jsx(qi,{className:"h-16 w-16 text-muted-foreground/30 mx-auto mb-6"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Doctors Directory Updating"}),o.jsx("p",{className:"text-muted-foreground",children:"We are currently updating our doctor profiles. Please check back shortly."})]})]})}),o.jsx("section",{className:"py-20 px-4 bg-blue-50/50 dark:bg-gray-900/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Center of Excellence"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Specialized departments equipped with advanced technology and staffed by leading specialists."})]}),m.length>0?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:m.map(g=>o.jsxs(vt,{className:"text-center p-6 hover:shadow-xl transition-all duration-300 cursor-pointer border-transparent hover:border-primary/20 group bg-card/50 hover:bg-card",onClick:()=>{window.open(`https://en.wikipedia.org/wiki/${g.name}`,"_blank")},children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/5 group-hover:bg-primary/10 flex items-center justify-center mx-auto mb-4 transition-colors",children:o.jsx(mh,{className:"h-8 w-8 text-primary"})}),o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:g.name}),g.doctors_count&&g.doctors_count>0&&o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[g.doctors_count," Specialists"]})]},g.id))}):o.jsxs("div",{className:"text-center p-12 border-2 border-dashed border-primary/20 rounded-3xl bg-white/50",children:[o.jsx(mh,{className:"w-16 h-16 mx-auto text-primary/30 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-primary/60",children:"Departments Coming Soon"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"We are currently updating our department list."})]})]})}),o.jsx(Soe,{}),o.jsx(boe,{}),o.jsx(Lle,{}),o.jsxs("section",{id:"contact",className:"py-20 px-4 bg-slate-900 text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 pointer-events-none"}),o.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 lg:gap-16 items-center",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 text-sm font-medium mb-6 backdrop-blur-sm",children:[o.jsx(Ru,{className:"h-4 w-4 text-blue-400"}),o.jsx("span",{className:"text-blue-100",children:"Visit Us Today"})]}),o.jsx("h2",{className:"text-4xl font-bold mb-8 text-white",children:"Contact & Location"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-start gap-6 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/5 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-500/20 transition-colors border border-white/5",children:o.jsx(Ru,{className:"h-6 w-6 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Main Campus"}),o.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["123 Healthcare Avenue, Koregaon Park",o.jsx("br",{}),"Pune, Maharashtra 411001"]})]})]}),o.jsxs("div",{className:"flex items-start gap-6 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/5 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-500/20 transition-colors border border-white/5",children:o.jsx(qa,{className:"h-6 w-6 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"24/7 Support"}),o.jsxs("p",{className:"text-slate-300 mb-1",children:["Emergency: ",o.jsx("span",{className:"text-white font-mono font-medium",children:"+91 98765 43210"})]}),o.jsxs("p",{className:"text-slate-300",children:["Appointments: ",o.jsx("span",{className:"text-white font-mono font-medium",children:"+91 88888 88888"})]})]})]}),o.jsxs("div",{className:"flex items-start gap-6 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/5 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-500/20 transition-colors border border-white/5",children:o.jsx(va,{className:"h-6 w-6 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Working Hours"}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-slate-300",children:[o.jsx("span",{children:"Mon - Sat:"}),o.jsx("span",{className:"text-white",children:"9:00 AM - 8:00 PM"}),o.jsx("span",{children:"Sunday:"}),o.jsx("span",{className:"text-white",children:"10:00 AM - 2:00 PM"}),o.jsx("span",{children:"Emergency:"}),o.jsxs("span",{className:"text-green-400 font-bold flex items-center gap-2",children:[o.jsx(UK,{className:"w-3 h-3"})," 24 / 7 Open"]})]})]})]})]}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-white/10",children:[o.jsxs(Ns,{open:t,onOpenChange:r,children:[o.jsx(gc,{asChild:!0,children:o.jsxs(Ce,{size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-6 text-lg shadow-lg hover:shadow-blue-500/25 transition-all duration-300 border border-white/10",children:[o.jsx(Gh,{className:"mr-3 h-5 w-5 animate-pulse"}),"Request a Free Callback"]})}),o.jsxs(ds,{className:"sm:max-w-md bg-white text-slate-900 border-none",children:[o.jsxs(ks,{children:[o.jsx(hs,{className:"text-xl font-bold text-slate-900",children:"Request a Callback"}),o.jsx(Gs,{className:"text-slate-500",children:"Leave your details and our team will contact you shortly."})]}),o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Full Name *"}),o.jsx(ht,{placeholder:"Enter your name",className:"bg-slate-50 border-slate-200 focus:border-blue-500",value:n,onChange:g=>s(g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Phone Number *"}),o.jsx(ht,{placeholder:"Enter your phone number",className:"bg-slate-50 border-slate-200 focus:border-blue-500",value:i,onChange:g=>a(g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Preferred Time"}),o.jsxs(Mr,{value:u,onValueChange:d,children:[o.jsx(Tr,{className:"bg-slate-50 border-slate-200",children:o.jsx(Ir,{placeholder:"Select best time to call"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"morning",children:"Morning (9 AM - 12 PM)"}),o.jsx(He,{value:"afternoon",children:"Afternoon (12 PM - 5 PM)"}),o.jsx(He,{value:"evening",children:"Evening (5 PM - 8 PM)"}),o.jsx(He,{value:"anytime",children:"Anytime"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Reason (Optional)"}),o.jsx(Eo,{placeholder:"How can we help?",className:"bg-slate-50 border-slate-200 focus:border-blue-500",value:h,onChange:g=>p(g.target.value)})]}),o.jsx(Ce,{onClick:()=>f.mutate(),disabled:f.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white mt-2",children:f.isPending?"Submitting...":"Submit Request"})]})]})]}),o.jsxs("p",{className:"text-center text-slate-400 text-xs mt-3 flex items-center justify-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Typical response time: 10-15 mins"]})]})]}),o.jsx("div",{className:"w-full h-[350px] bg-slate-800 rounded-3xl overflow-hidden shadow-2xl border border-white/10 relative z-20",children:o.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-slate-800/50 backdrop-blur-sm p-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4",children:o.jsx(Ru,{className:"w-8 h-8 text-blue-400 opacity-50"})}),o.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Location Map"}),o.jsx("p",{className:"text-slate-400",children:"Interactive hospital map coming soon."}),o.jsxs("div",{className:"mt-6 flex flex-col gap-2 text-sm text-slate-500",children:[o.jsx("p",{children:"123 Healthcare Avenue, Koregaon Park"}),o.jsx("p",{children:"Pune, Maharashtra 411001"})]})]})})]})})]}),o.jsx("footer",{className:"bg-slate-950 text-slate-200 border-t border-slate-800 pt-16 pb-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center text-white shadow-lg shadow-blue-900/20",children:o.jsx(mh,{className:"w-6 h-6"})}),o.jsx("span",{className:"text-2xl font-bold text-white",children:"Medicare Hospital"})]}),o.jsx("p",{className:"text-slate-400 leading-relaxed",children:"Excellence in healthcare since 2001. We are committed to providing world-class medical services with compassion and advanced technology."}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx(Ce,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-blue-600 hover:text-white hover:border-blue-600 transition-all duration-300",onClick:()=>{},children:o.jsx(zP,{className:"h-4 w-4"})}),o.jsx(Ce,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-sky-500 hover:text-white hover:border-sky-500 transition-all duration-300",onClick:()=>{},children:o.jsx(YP,{className:"h-4 w-4"})}),o.jsx(Ce,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-pink-600 hover:text-white hover:border-pink-600 transition-all duration-300",onClick:()=>{},children:o.jsx(WP,{className:"h-4 w-4"})}),o.jsx(Ce,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-blue-700 hover:text-white hover:border-blue-700 transition-all duration-300",onClick:()=>{},children:o.jsx(HP,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsxs(Hr,{to:"/patient/login",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(np,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Patient Portal"]})}),o.jsx("li",{children:o.jsxs(Hr,{to:"/staff/login",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(np,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Staff Portal"]})}),o.jsx("li",{children:o.jsxs("a",{href:"#contact",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(np,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Contact Us"]})}),o.jsx("li",{children:o.jsxs(Hr,{to:"/admin/login",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(np,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Administration"]})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:"Departments"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Cardiology"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Neurology"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Orthopedics"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Pediatrics"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Emergency Care"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:"Get In Touch"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ru,{className:"h-5 w-5 text-blue-500 mt-1"}),o.jsx("span",{className:"text-slate-400 text-sm",children:"Pune, Maharashtra 411001"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ab,{className:"h-5 w-5 text-blue-500"}),o.jsx("a",{href:"mailto:info@medicarehospital.com",className:"text-slate-400 text-sm hover:text-blue-400",children:"info@medicarehospital.com"})]}),o.jsxs("div",{className:"mt-6 p-4 bg-slate-900 rounded-xl border border-slate-800",children:[o.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Subscribe to our newsletter"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"email",placeholder:"Email address",className:"bg-slate-950 border border-slate-800 rounded-lg px-3 py-2 text-sm w-full focus:outline-none focus:border-blue-500 text-white"}),o.jsx(Ce,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:o.jsx(Kp,{className:"h-4 w-4"})})]})]})]})]})]}),o.jsxs("div",{className:"border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-slate-500",children:[o.jsx("p",{children:" 2026 Medicare Hospital. All rights reserved."}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookie Policy"})]})]})]})})]})},U9=({className:e,onLinkClick:t})=>{const r=Cl(),n=Ks(),{user:s,signOut:i}=li(),{data:a=!1}=Cn({queryKey:["is-admin",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Be.rpc("has_role",{_user_id:s.id,_role:"admin"});return m?!1:v},enabled:!!s}),{data:l=!1}=Cn({queryKey:["is-nurse",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Be.rpc("has_role",{_user_id:s.id,_role:"nurse"});return m?!1:v},enabled:!!s}),{data:c=!1}=Cn({queryKey:["is-cashier",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Be.rpc("has_role",{_user_id:s.id,_role:"cashier"});return m?!1:v},enabled:!!s}),{data:u=!1}=Cn({queryKey:["is-receptionist",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Be.rpc("has_role",{_user_id:s.id,_role:"receptionist"});return m?!1:v},enabled:!!s}),{data:d=0}=Cn({queryKey:["pending-approvals-count"],queryFn:async()=>{const{count:v,error:m}=await Be.from("staff_approval_requests").select("*",{count:"exact",head:!0}).eq("status","pending");return m?0:v||0},enabled:a}),{data:h=0}=Cn({queryKey:["pending-callbacks-count"],queryFn:async()=>{const{count:v,error:m}=await Be.from("callback_requests").select("*",{count:"exact",head:!0}).eq("status","pending");return m?0:v||0}}),p=async()=>{await i(),n("/"),t==null||t()};let f=[{icon:B_,label:"Dashboard",path:"/dashboard"},{icon:za,label:"Patients",path:"/patients"},{icon:qi,label:"Doctors",path:"/doctors"},{icon:bj,label:"Appointments",path:"/appointments"},{icon:mh,label:"Departments",path:"/departments"},{icon:jc,label:"Bed Management",path:"/beds"},...a||u||c?[{icon:GP,label:"Callbacks",path:"/callbacks",badge:h}]:[],{icon:uw,label:"Reports",path:"/reports"},...a?[{icon:DD,label:"Staff Approvals",path:"/staff/approvals",badge:d},{icon:Ro,label:"AI Tools",path:"/admin/ai-tools"},{icon:ED,label:"Manage Salaries",path:"/salaries"},{icon:jC,label:"System Info",path:"/admin/info"}]:[]];return l&&!a&&(f=[{icon:B_,label:"Dashboard",path:"/dashboard"},{icon:za,label:"Patients",path:"/patients"},{icon:qi,label:"Doctors",path:"/doctors"},{icon:jc,label:"Bed Management",path:"/beds"},{icon:uw,label:"Reports",path:"/reports"},{icon:SC,label:"Rounds & Advice",path:"/nurse/rounds"}]),c&&!a&&(f=[{icon:B_,label:"Dashboard",path:"/staff/dashboard/cashier"},{icon:GP,label:"Callbacks",path:"/callbacks",badge:h},{icon:za,label:"Patients",path:"/patients"},{icon:qi,label:"Doctors",path:"/doctors"}]),o.jsxs("aside",{className:Me("h-full w-64 bg-sidebar flex flex-col",e),children:[o.jsxs("div",{className:"flex items-center gap-3 px-6 py-6 border-b border-sidebar-border shrink-0",children:[o.jsx("img",{src:"/logo.png",alt:"MediCare Logo",className:"w-10 h-10 object-contain rounded-xl"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-heading font-bold text-sidebar-foreground",children:"MediCare"}),o.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Hospital Management"})]})]}),o.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto",children:f.map(v=>{const m=r.pathname===v.path;return o.jsxs(Hr,{to:v.path,onClick:t,className:Me("flex items-center justify-between px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200",m?"bg-sidebar-primary text-sidebar-primary-foreground shadow-md":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-foreground"),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(v.icon,{className:"w-5 h-5"}),v.label]}),"badge"in v&&v.badge>0&&o.jsx(zt,{variant:"destructive",className:"text-xs px-1.5 py-0.5 min-w-[20px] h-5",children:v.badge})]},v.path)})}),o.jsxs("div",{className:"px-3 py-4 border-t border-sidebar-border space-y-1 shrink-0",children:[o.jsxs(Hr,{to:"/settings",onClick:t,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-foreground transition-all duration-200",children:[o.jsx(sJ,{className:"w-5 h-5"}),"Settings"]}),o.jsxs("button",{onClick:p,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-sidebar-foreground/70 hover:bg-destructive/20 hover:text-destructive transition-all duration-200",children:[o.jsx(NC,{className:"w-5 h-5"}),"Logout"]})]})]})},hce=xE,fce=wE,pce=bE,q9=_.forwardRef(({className:e,...t},r)=>o.jsx(q0,{className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));q9.displayName=q0.displayName;const mce=Nm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),z9=_.forwardRef(({side:e="right",className:t,children:r,...n},s)=>o.jsxs(pce,{children:[o.jsx(q9,{}),o.jsxs(z0,{ref:s,className:Me(mce({side:e}),t),...n,children:[r,o.jsxs(Gb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Em,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));z9.displayName=z0.displayName;const gce=_.forwardRef(({className:e,...t},r)=>o.jsx(V0,{ref:r,className:Me("text-lg font-semibold text-foreground",e),...t}));gce.displayName=V0.displayName;const vce=_.forwardRef(({className:e,...t},r)=>o.jsx(W0,{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));vce.displayName=W0.displayName;function yce(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var OE="ScrollArea",[V9,Tbe]=fs(OE),[xce,Za]=V9(OE),W9=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=_.useState(null),[u,d]=_.useState(null),[h,p]=_.useState(null),[f,v]=_.useState(null),[m,x]=_.useState(null),[g,w]=_.useState(0),[S,k]=_.useState(0),[T,R]=_.useState(!1),[L,D]=_.useState(!1),M=Tt(t,A=>c(A)),G=dd(s);return o.jsx(xce,{scope:r,type:n,dir:G,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:T,onScrollbarXEnabledChange:R,scrollbarY:m,onScrollbarYChange:x,scrollbarYEnabled:L,onScrollbarYEnabledChange:D,onCornerWidthChange:w,onCornerHeightChange:k,children:o.jsx(it.div,{dir:G,...a,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});W9.displayName=OE;var H9="ScrollAreaViewport",G9=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,a=Za(H9,r),l=_.useRef(null),c=Tt(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(it.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});G9.displayName=H9;var El="ScrollAreaScrollbar",LE=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Za(El,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return _.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(wce,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(bce,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(Y9,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(ME,{...n,ref:t}):null});LE.displayName=El;var wce=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Za(El,e.__scopeScrollArea),[i,a]=_.useState(!1);return _.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(ba,{present:r||i,children:o.jsx(Y9,{"data-state":i?"visible":"hidden",...n,ref:t})})}),bce=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Za(El,e.__scopeScrollArea),i=e.orientation==="horizontal",a=r2(()=>c("SCROLL_END"),100),[l,c]=yce("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),_.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const f=u[d];h!==f&&(c("SCROLL"),a()),h=f};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,c,a]),o.jsx(ba,{present:r||l!=="hidden",children:o.jsx(ME,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:dt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:dt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Y9=_.forwardRef((e,t)=>{const r=Za(El,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,a]=_.useState(!1),l=e.orientation==="horizontal",c=r2(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:d)}},10);return tm(r.viewport,c),tm(r.content,c),o.jsx(ba,{present:n||i,children:o.jsx(ME,{"data-state":i?"visible":"hidden",...s,ref:t})})}),ME=_.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Za(El,e.__scopeScrollArea),i=_.useRef(null),a=_.useRef(0),[l,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=X9(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function h(p,f){return Cce(p,a.current,l,f)}return r==="horizontal"?o.jsx(_ce,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,f=m3(p,l,s.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):r==="vertical"?o.jsx(Sce,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,f=m3(p,l);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),_ce=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Za(El,e.__scopeScrollArea),[a,l]=_.useState(),c=_.useRef(null),u=Tt(t,c,i.onScrollbarXChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(J9,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":t2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),tB(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Tw(a.paddingLeft),paddingEnd:Tw(a.paddingRight)}})}})}),Sce=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Za(El,e.__scopeScrollArea),[a,l]=_.useState(),c=_.useRef(null),u=Tt(t,c,i.onScrollbarYChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(J9,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":t2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),tB(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Tw(a.paddingTop),paddingEnd:Tw(a.paddingBottom)}})}})}),[jce,K9]=V9(El),J9=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,f=Za(El,r),[v,m]=_.useState(null),x=Tt(t,M=>m(M)),g=_.useRef(null),w=_.useRef(""),S=f.viewport,k=n.content-n.viewport,T=an(d),R=an(c),L=r2(h,10);function D(M){if(g.current){const G=M.clientX-g.current.left,A=M.clientY-g.current.top;u({x:G,y:A})}}return _.useEffect(()=>{const M=G=>{const A=G.target;(v==null?void 0:v.contains(A))&&T(G,k)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[S,v,k,T]),_.useEffect(R,[n,R]),tm(v,L),tm(f.content,L),o.jsx(jce,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:an(i),onThumbPointerUp:an(a),onThumbPositionChange:R,onThumbPointerDown:an(l),children:o.jsx(it.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:dt(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),g.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),D(M))}),onPointerMove:dt(e.onPointerMove,D),onPointerUp:dt(e.onPointerUp,M=>{const G=M.target;G.hasPointerCapture(M.pointerId)&&G.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=w.current,f.viewport&&(f.viewport.style.scrollBehavior=""),g.current=null})})})}),Pw="ScrollAreaThumb",Q9=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=K9(Pw,e.__scopeScrollArea);return o.jsx(ba,{present:r||s.hasThumb,children:o.jsx(Nce,{ref:t,...n})})}),Nce=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Za(Pw,r),a=K9(Pw,r),{onThumbPositionChange:l}=a,c=Tt(t,h=>a.onThumbChange(h)),u=_.useRef(void 0),d=r2(()=>{u.current&&(u.current(),u.current=void 0)},100);return _.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!u.current){const f=Ece(h,l);u.current=f,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,l]),o.jsx(it.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:dt(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),v=h.clientX-f.left,m=h.clientY-f.top;a.onThumbPointerDown({x:v,y:m})}),onPointerUp:dt(e.onPointerUp,a.onThumbPointerUp)})});Q9.displayName=Pw;var IE="ScrollAreaCorner",Z9=_.forwardRef((e,t)=>{const r=Za(IE,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(kce,{...e,ref:t}):null});Z9.displayName=IE;var kce=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Za(IE,r),[i,a]=_.useState(0),[l,c]=_.useState(0),u=!!(i&&l);return tm(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),tm(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?o.jsx(it.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Tw(e){return e?parseInt(e,10):0}function X9(e,t){const r=e/t;return isNaN(r)?0:r}function t2(e){const t=X9(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Cce(e,t,r,n="ltr"){const s=t2(r),i=s/2,a=t||i,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return eB([c,u],h)(e)}function m3(e,t,r="ltr"){const n=t2(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,a]:[a*-1,0],u=aN(e,c);return eB([0,a],[0,l])(u)}function eB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function tB(e,t){return e>0&&e<t}var Ece=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,l=r.top!==i.top;(a||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function r2(e,t){const r=an(e),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function tm(e,t){const r=an(t);ln(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var rB=W9,Ace=G9,Pce=Z9;const yp=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(rB,{ref:n,className:Me("relative overflow-hidden",e),...r,children:[o.jsx(Ace,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(nB,{}),o.jsx(Pce,{})]}));yp.displayName=rB.displayName;const nB=_.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(LE,{ref:n,orientation:t,className:Me("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Q9,{className:"relative flex-1 rounded-full bg-border"})}));nB.displayName=LE.displayName;const Tce=()=>{const e=In();return _.useEffect(()=>{const t=Be.channel("notifications-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications"},r=>{e.invalidateQueries({queryKey:["notifications"]});const n=r.new;Jr({title:n.title,description:n.message})}).subscribe();return()=>{Be.removeChannel(t)}},[e]),Cn({queryKey:["notifications"],queryFn:async()=>{const{data:t,error:r}=await Be.from("notifications").select("*").order("created_at",{ascending:!1}).limit(50);if(r)throw r;return t}})},Rce=()=>Cn({queryKey:["notifications","unread-count"],queryFn:async()=>{const{count:e,error:t}=await Be.from("notifications").select("*",{count:"exact",head:!0}).eq("is_read",!1);if(t)throw t;return e||0}}),Oce=()=>{const e=In();return Qr({mutationFn:async t=>{const{error:r}=await Be.from("notifications").update({is_read:!0}).eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]})}})},Lce=()=>{const e=In();return Qr({mutationFn:async()=>{const{error:t}=await Be.from("notifications").update({is_read:!0}).eq("is_read",!1);if(t)throw t},onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]}),Jr({title:"Success",description:"All notifications marked as read"})}})},Mce=()=>{const e=In();return Qr({mutationFn:async t=>{const{error:r}=await Be.from("notifications").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]})}})};function Gt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Vi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function xi(e,t){const r=Gt(e);return isNaN(t)?Vi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Fo(e,t){const r=Gt(e);if(isNaN(t))return Vi(e,NaN);if(!t)return r;const n=r.getDate(),s=Vi(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const DE=6048e5,Ice=864e5,T1=43200,g3=1440;let Dce={};function Bm(){return Dce}function Sl(e,t){var l,c,u,d;const r=Bm(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Gt(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Rh(e){return Sl(e,{weekStartsOn:1})}function sB(e){const t=Gt(e),r=t.getFullYear(),n=Vi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Rh(n),i=Vi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=Rh(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function rm(e){const t=Gt(e);return t.setHours(0,0,0,0),t}function nm(e){const t=Gt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function fl(e,t){const r=rm(e),n=rm(t),s=+r-nm(r),i=+n-nm(n);return Math.round((s-i)/Ice)}function Fce(e){const t=sB(e),r=Vi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Rh(r)}function gN(e,t){const r=t*7;return xi(e,r)}function $ce(e,t){return Fo(e,t*12)}function Bce(e){let t;return e.forEach(function(r){const n=Gt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Uce(e){let t;return e.forEach(r=>{const n=Gt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function jx(e,t){const r=Gt(e),n=Gt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function qce(e){return Vi(e,Date.now())}function Di(e,t){const r=rm(e),n=rm(t);return+r==+n}function FE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zce(e){if(!FE(e)&&typeof e!="number")return!1;const t=Gt(e);return!isNaN(Number(t))}function sm(e,t){const r=Gt(e),n=Gt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Vce(e,t,r){const n=Sl(e,r),s=Sl(t,r),i=+n-nm(n),a=+s-nm(s);return Math.round((i-a)/DE)}function Wce(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Hce(e,t){return+Gt(e)-+Gt(t)}function Gce(e){const t=Gt(e);return t.setHours(23,59,59,999),t}function n2(e){const t=Gt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Yce(e){const t=Gt(e);return+Gce(t)==+n2(t)}function Kce(e,t){const r=Gt(e),n=Gt(t),s=jx(r,n),i=Math.abs(sm(r,n));let a;if(i<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=jx(r,n)===-s;Yce(Gt(e))&&i===1&&jx(e,n)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function Jce(e,t,r){const n=Hce(e,t)/1e3;return Wce(r==null?void 0:r.roundingMethod)(n)}function zi(e){const t=Gt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function iB(e){const t=Gt(e),r=Vi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function $E(e,t){var l,c,u,d;const r=Bm(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Gt(e),i=s.getDay(),a=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function aB(e){return $E(e,{weekStartsOn:1})}const Qce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zce=(e,t,r)=>{let n;const s=Qce[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function m5(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Xce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rue={date:m5({formats:Xce,defaultWidth:"full"}),time:m5({formats:eue,defaultWidth:"full"}),dateTime:m5({formats:tue,defaultWidth:"full"})},nue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sue=(e,t,r,n)=>nue[e];function Lg(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const iue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},due=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hue={ordinalNumber:due,era:Lg({values:iue,defaultWidth:"wide"}),quarter:Lg({values:aue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Lg({values:oue,defaultWidth:"wide"}),day:Lg({values:lue,defaultWidth:"wide"}),dayPeriod:Lg({values:cue,defaultWidth:"wide",formattingValues:uue,defaultFormattingWidth:"wide"})};function Mg(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?pue(l,h=>h.test(a)):fue(l,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function fue(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function pue(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function mue(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const gue=/^(\d+)(th|st|nd|rd)?/i,vue=/\d+/i,yue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xue={any:[/^b/i,/^(a|c)/i]},wue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bue={any:[/1/i,/2/i,/3/i,/4/i]},_ue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Eue={ordinalNumber:mue({matchPattern:gue,parsePattern:vue,valueCallback:e=>parseInt(e,10)}),era:Mg({matchPatterns:yue,defaultMatchWidth:"wide",parsePatterns:xue,defaultParseWidth:"any"}),quarter:Mg({matchPatterns:wue,defaultMatchWidth:"wide",parsePatterns:bue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mg({matchPatterns:_ue,defaultMatchWidth:"wide",parsePatterns:Sue,defaultParseWidth:"any"}),day:Mg({matchPatterns:jue,defaultMatchWidth:"wide",parsePatterns:Nue,defaultParseWidth:"any"}),dayPeriod:Mg({matchPatterns:kue,defaultMatchWidth:"any",parsePatterns:Cue,defaultParseWidth:"any"})},BE={code:"en-US",formatDistance:Zce,formatLong:rue,formatRelative:sue,localize:hue,match:Eue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Aue(e){const t=Gt(e);return fl(t,iB(t))+1}function oB(e){const t=Gt(e),r=+Rh(t)-+Fce(t);return Math.round(r/DE)+1}function lB(e,t){var d,h,p,f;const r=Gt(e),n=r.getFullYear(),s=Bm(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(p=s.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=Vi(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const l=Sl(a,t),c=Vi(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Sl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Pue(e,t){var l,c,u,d;const r=Bm(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=lB(e,t),i=Vi(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Sl(i,t)}function cB(e,t){const r=Gt(e),n=+Sl(r,t)-+Pue(r,t);return Math.round(n/DE)+1}function Wr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ru={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Wr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Wr(r+1,2)},d(e,t){return Wr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Wr(e.getHours()%12||12,t.length)},H(e,t){return Wr(e.getHours(),t.length)},m(e,t){return Wr(e.getMinutes(),t.length)},s(e,t){return Wr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Wr(s,t.length)}},Tf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v3={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return ru.y(e,t)},Y:function(e,t,r,n){const s=lB(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Wr(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Wr(i,t.length)},R:function(e,t){const r=sB(e);return Wr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Wr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Wr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Wr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ru.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Wr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=cB(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Wr(s,t.length)},I:function(e,t,r){const n=oB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Wr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ru.d(e,t)},D:function(e,t,r){const n=Aue(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Wr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Wr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Wr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Wr(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Tf.noon:n===0?s=Tf.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Tf.evening:n>=12?s=Tf.afternoon:n>=4?s=Tf.morning:s=Tf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ru.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ru.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Wr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Wr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ru.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ru.s(e,t)},S:function(e,t){return ru.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return x3(n);case"XXXX":case"XX":return zd(n);case"XXXXX":case"XXX":default:return zd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return x3(n);case"xxxx":case"xx":return zd(n);case"xxxxx":case"xxx":default:return zd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+y3(n,":");case"OOOO":default:return"GMT"+zd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+y3(n,":");case"zzzz":default:return"GMT"+zd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Wr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Wr(n,t.length)}};function y3(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Wr(i,2)}function x3(e,t){return e%60===0?(e>0?"-":"+")+Wr(Math.abs(e)/60,2):zd(e,t)}function zd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Wr(Math.trunc(n/60),2),i=Wr(n%60,2);return r+s+t+i}const w3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Tue=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return w3(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",w3(n,t)).replace("{{time}}",uB(s,t))},Rue={p:uB,P:Tue},Oue=/^D+$/,Lue=/^Y+$/,Mue=["D","DD","YY","YYYY"];function Iue(e){return Oue.test(e)}function Due(e){return Lue.test(e)}function Fue(e,t,r){const n=$ue(e,t,r);if(console.warn(n),Mue.includes(e))throw new RangeError(n)}function $ue(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,que=/^'([^]*?)'?$/,zue=/''/g,Vue=/[a-zA-Z]/;function on(e,t,r){var d,h,p,f,v,m,x,g;const n=Bm(),s=(r==null?void 0:r.locale)??n.locale??BE,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((g=(x=n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,l=Gt(e);if(!zce(l))throw new RangeError("Invalid time value");let c=t.match(Uue).map(w=>{const S=w[0];if(S==="p"||S==="P"){const k=Rue[S];return k(w,s.formatLong)}return w}).join("").match(Bue).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const S=w[0];if(S==="'")return{isToken:!1,value:Wue(w)};if(v3[S])return{isToken:!0,value:w};if(S.match(Vue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const S=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Due(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Iue(S))&&Fue(S,t,String(e));const k=v3[S[0]];return k(l,S,s.localize,u)}).join("")}function Wue(e){const t=e.match(que);return t?t[1].replace(zue,"'"):e}function Hue(e,t,r){const n=Bm(),s=(r==null?void 0:r.locale)??n.locale??BE,i=2520,a=jx(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,u;a>0?(c=Gt(t),u=Gt(e)):(c=Gt(e),u=Gt(t));const d=Jce(u,c),h=(nm(u)-nm(c))/1e3,p=Math.round((d-h)/60);let f;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<g3){const v=Math.round(p/60);return s.formatDistance("aboutXHours",v,l)}else{if(p<i)return s.formatDistance("xDays",1,l);if(p<T1){const v=Math.round(p/g3);return s.formatDistance("xDays",v,l)}else if(p<T1*2)return f=Math.round(p/T1),s.formatDistance("aboutXMonths",f,l)}if(f=Kce(u,c),f<12){const v=Math.round(p/T1);return s.formatDistance("xMonths",v,l)}else{const v=f%12,m=Math.trunc(f/12);return v<3?s.formatDistance("aboutXYears",m,l):v<9?s.formatDistance("overXYears",m,l):s.formatDistance("almostXYears",m+1,l)}}function Gue(e,t){return Hue(e,qce(e),t)}function Yue(e){const t=Gt(e),r=t.getFullYear(),n=t.getMonth(),s=Vi(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Kue(e){return Math.trunc(+Gt(e)/1e3)}function Jue(e){const t=Gt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Que(e,t){return Vce(Jue(e),zi(e),t)+1}function vN(e,t){const r=Gt(e),n=Gt(t);return r.getTime()>n.getTime()}function dB(e,t){const r=Gt(e),n=Gt(t);return+r<+n}function UE(e,t){const r=Gt(e),n=Gt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Zue(e,t){const r=Gt(e),n=Gt(t);return r.getFullYear()===n.getFullYear()}function g5(e,t){return xi(e,-t)}function v5(e,t){const r=Gt(e),n=r.getFullYear(),s=r.getDate(),i=Vi(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const a=Yue(i);return r.setMonth(t,Math.min(s,a)),r}function b3(e,t){const r=Gt(e);return isNaN(+r)?Vi(e,NaN):(r.setFullYear(t),r)}const Xue=e=>{switch(e){case"success":return o.jsx(Nc,{className:"w-4 h-4 text-success"});case"warning":return o.jsx(hw,{className:"w-4 h-4 text-warning"});case"error":return o.jsx(Jp,{className:"w-4 h-4 text-destructive"});default:return o.jsx(jC,{className:"w-4 h-4 text-info"})}},ede=({notification:e})=>{const t=Oce(),r=Mce();return o.jsx("div",{className:Me("p-3 border-b border-border last:border-0 hover:bg-muted/50 transition-colors",!e.is_read&&"bg-primary/5"),children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-0.5",children:Xue(e.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:Me("text-sm font-medium",!e.is_read&&"font-semibold"),children:e.title}),o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:e.message}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Gue(new Date(e.created_at),{addSuffix:!0})})]}),o.jsxs("div",{className:"flex gap-1",children:[!e.is_read&&o.jsx(Ce,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:n=>{n.stopPropagation(),t.mutate(e.id)},children:o.jsx(kb,{className:"w-3 h-3"})}),o.jsx(Ce,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive",onClick:n=>{n.stopPropagation(),r.mutate(e.id)},children:o.jsx(Cm,{className:"w-3 h-3"})})]})]})})},tde=()=>{const{data:e,isLoading:t}=Tce(),{data:r}=Rce(),n=Lce();return o.jsxs(td,{children:[o.jsx(rd,{asChild:!0,children:o.jsxs(Ce,{variant:"ghost",size:"icon",className:"relative",children:[o.jsx(AD,{className:"w-5 h-5 text-muted-foreground"}),(r??0)>0&&o.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 bg-destructive text-destructive-foreground text-xs font-medium rounded-full flex items-center justify-center",children:r>99?"99+":r})]})}),o.jsxs(Pc,{align:"end",className:"w-80",children:[o.jsxs(pE,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Notifications"}),(r??0)>0&&o.jsxs(Ce,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>n.mutate(),children:[o.jsx(DK,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),o.jsx(Xp,{}),o.jsx(yp,{className:"h-[300px]",children:t?o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Loading notifications..."}):e&&e.length>0?e.map(s=>o.jsx(ede,{notification:s},s.id)):o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications yet"})})]})]})},rde=({title:e,subtitle:t})=>{const{user:r,signOut:n}=li(),[s,i]=_.useState(!1),{data:a}=Cn({queryKey:["user-role-header",r==null?void 0:r.id],queryFn:async()=>{if(!r)return null;const h=["admin","doctor","nurse","receptionist","cashier"];for(const p of h){const{data:f}=await Be.rpc("has_role",{_user_id:r.id,_role:p});if(f)return p}return"patient"},enabled:!!r}),l=h=>{switch(h){case"admin":return"bg-purple-100 text-purple-800 hover:bg-purple-200";case"doctor":return"bg-blue-100 text-blue-800 hover:bg-blue-200";case"nurse":return"bg-pink-100 text-pink-800 hover:bg-pink-200";case"cashier":return"bg-emerald-100 text-emerald-800 hover:bg-emerald-200";case"receptionist":return"bg-orange-100 text-orange-800 hover:bg-orange-200";default:return"bg-gray-100 text-gray-800"}},c=async()=>{await n(),qe.success("Signed out successfully")},u=()=>r!=null&&r.email?r.email.charAt(0).toUpperCase():"U",d=()=>{var p;const h=(p=r==null?void 0:r.user_metadata)==null?void 0:p.full_name;return h||(r!=null&&r.email?r.email.split("@")[0]:"User")};return o.jsxs("header",{className:"h-16 bg-card border-b border-border flex items-center justify-between px-4 lg:px-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(hce,{open:s,onOpenChange:i,children:[o.jsx(fce,{asChild:!0,children:o.jsx(Ce,{variant:"ghost",size:"icon",className:"lg:hidden",children:o.jsx(YK,{className:"h-6 w-6"})})}),o.jsx(z9,{side:"left",className:"p-0 border-r-0 w-64",children:o.jsx(U9,{className:"h-full border-r-0",onLinkClick:()=>i(!1)})})]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-heading font-semibold text-foreground",children:e}),t&&o.jsx("p",{className:"text-sm text-muted-foreground hidden sm:block",children:t})]})]}),o.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[o.jsxs("div",{className:"relative w-full max-w-[200px] hidden md:block",children:[o.jsx(jl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search...",className:"pl-10 bg-secondary border-0 h-9"})]}),o.jsx(tde,{}),o.jsxs(td,{children:[o.jsx(rd,{asChild:!0,children:o.jsxs(Ce,{variant:"ghost",className:"flex items-center gap-2 px-2",children:[o.jsxs("div",{className:"text-right hidden md:block mr-2",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:d()}),a&&o.jsx(zt,{className:`mt-1 text-[10px] h-4 px-1.5 ${l(a)}`,children:a.toUpperCase()})]}),o.jsxs(Io,{className:"w-8 h-8",children:[o.jsx(Xb,{src:""}),o.jsx(Do,{className:"bg-primary text-primary-foreground text-sm",children:u()})]}),o.jsx(_C,{className:"w-4 h-4 text-muted-foreground"})]})}),o.jsxs(Pc,{align:"end",className:"w-48",children:[o.jsx(pE,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:d()}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:r==null?void 0:r.email}),a&&o.jsx(zt,{className:`w-fit mt-1 ${l(a)}`,children:a})]})}),o.jsx(Xp,{}),o.jsx(fn,{onClick:()=>window.location.href="/settings",children:"Profile"}),o.jsx(fn,{onClick:()=>window.location.href="/settings",children:"Settings"}),o.jsx(Xp,{}),o.jsx(fn,{className:"text-destructive",onClick:c,children:"Logout"})]})]})]})]})},Mn=({children:e,title:t,subtitle:r})=>o.jsxs("div",{className:"min-h-screen bg-background flex",children:[o.jsx("div",{className:"hidden lg:block fixed inset-y-0 left-0 z-50 w-64 border-r bg-sidebar",children:o.jsx(U9,{className:"h-full w-full border-r-0"})}),o.jsxs("div",{className:"flex-1 flex flex-col lg:pl-64 w-full transition-all duration-300",children:[o.jsx(rde,{title:t,subtitle:r}),o.jsx("main",{className:"flex-1 p-4 lg:p-6 overflow-x-hidden",children:e})]})]}),nde={primary:"bg-primary/10 text-primary",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning",info:"bg-info/10 text-info",destructive:"bg-destructive/10 text-destructive"},Si=({title:e,value:t,change:r,changeType:n="neutral",icon:s,iconColor:i="primary"})=>o.jsx("div",{className:"bg-card rounded-xl p-6 card-shadow animate-fade-in border border-border/50",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),o.jsx("p",{className:"mt-2 text-3xl font-heading font-bold text-foreground",children:t}),r&&o.jsx("p",{className:Me("mt-2 text-sm font-medium",n==="positive"&&"text-success",n==="negative"&&"text-destructive",n==="neutral"&&"text-muted-foreground"),children:r})]}),o.jsx("div",{className:Me("p-3 rounded-xl",nde[i]),children:o.jsx(s,{className:"w-6 h-6"})})]})}),Um=()=>Cn({queryKey:["patients"],queryFn:async()=>{const{data:e,error:t}=await Be.from("patients").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}}),sde=()=>{const e=In();return Qr({mutationFn:async t=>{const{data:r,error:n}=await Be.from("patients").insert([{...t,patient_id:""}]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["patients"]}),Jr({title:"Success",description:"Patient added successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})},ide=()=>{const e=In();return Qr({mutationFn:async t=>{const{error:r}=await Be.from("patients").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["patients"]}),Jr({title:"Success",description:"Patient deleted successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})},qm=()=>Cn({queryKey:["doctors"],queryFn:async()=>{const{data:e,error:t}=await Be.from("doctors").select("*").order("name");if(t)throw t;return e}}),ade=()=>{const e=In();return Qr({mutationFn:async t=>{const{data:r,error:n}=await Be.from("doctors").insert([t]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["doctors"]}),Jr({title:"Success",description:"Doctor added successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})},ode=()=>{const e=In();return Qr({mutationFn:async({id:t,...r})=>{const{data:n,error:s}=await Be.from("doctors").update(r).eq("id",t).select().single();if(s)throw s;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["doctors"]}),Jr({title:"Success",description:"Doctor updated successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})},lde=()=>{const e=In();return Qr({mutationFn:async t=>{const{error:r}=await Be.from("doctors").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["doctors"]}),Jr({title:"Success",description:"Doctor deleted successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})},s2=e=>Cn({queryKey:["appointments",e],queryFn:async()=>{let t=Be.from("appointments").select(`
          *,
          patients (name, patient_id),
          doctors (name, specialty)
        `).order("appointment_time");e&&(t=t.eq("appointment_date",e));const{data:r,error:n}=await t;if(n)throw n;return r}}),cde=()=>{const e=In();return Qr({mutationFn:async t=>{const{data:r,error:n}=await Be.from("appointments").insert([t]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["appointments"]}),Jr({title:"Success",description:"Appointment scheduled successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})},ude=()=>{const e=In();return Qr({mutationFn:async({id:t,...r})=>{const{data:n,error:s}=await Be.from("appointments").update(r).eq("id",t).select().single();if(s)throw s;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["appointments"]}),Jr({title:"Success",description:"Appointment updated successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})},dde=()=>{const e=In();return Qr({mutationFn:async t=>{const{error:r}=await Be.from("appointments").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["appointments"]}),Jr({title:"Success",description:"Appointment cancelled successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})},pd=()=>Cn({queryKey:["departments"],queryFn:async()=>{const{data:e,error:t}=await Be.from("departments").select("*").order("name");if(t)throw t;return e}}),hde=()=>{const e=In();return Qr({mutationFn:async t=>{const{error:r}=await Be.from("departments").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["departments"]}),Jr({title:"Success",description:"Department deleted successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})};var qE="Progress",zE=100,[fde,Rbe]=fs(qE),[pde,mde]=fde(qE),hB=_.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=gde,...a}=e;(s||s===0)&&!_3(s)&&console.error(vde(`${s}`,"Progress"));const l=_3(s)?s:zE;n!==null&&!S3(n,l)&&console.error(yde(`${n}`,"Progress"));const c=S3(n,l)?n:null,u=Rw(c)?i(c,l):void 0;return o.jsx(pde,{scope:r,value:c,max:l,children:o.jsx(it.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Rw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":mB(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});hB.displayName=qE;var fB="ProgressIndicator",pB=_.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=mde(fB,r);return o.jsx(it.div,{"data-state":mB(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});pB.displayName=fB;function gde(e,t){return`${Math.round(e/t*100)}%`}function mB(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Rw(e){return typeof e=="number"}function _3(e){return Rw(e)&&!isNaN(e)&&e>0}function S3(e,t){return Rw(e)&&!isNaN(e)&&e<=t&&e>=0}function vde(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zE}\`.`}function yde(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var gB=hB,xde=pB;const i2=_.forwardRef(({className:e,value:t,...r},n)=>o.jsx(gB,{ref:n,className:Me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(xde,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));i2.displayName=gB.displayName;var Y0=e=>e.type==="checkbox",Xd=e=>e instanceof Date,wi=e=>e==null;const vB=e=>typeof e=="object";var ns=e=>!wi(e)&&!Array.isArray(e)&&vB(e)&&!Xd(e),yB=e=>ns(e)&&e.target?Y0(e.target)?e.target.checked:e.target.value:e,wde=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xB=(e,t)=>e.has(wde(t)),bde=e=>{const t=e.constructor&&e.constructor.prototype;return ns(t)&&t.hasOwnProperty("isPrototypeOf")},VE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bs(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(VE&&(e instanceof Blob||n))&&(r||ns(e)))if(t=r?[]:{},!r&&!bde(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=bs(e[s]));else return e;return t}var a2=e=>/^\w*$/.test(e),Zn=e=>e===void 0,WE=e=>Array.isArray(e)?e.filter(Boolean):[],HE=e=>WE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ze=(e,t,r)=>{if(!t||!ns(e))return r;const n=(a2(t)?[t]:HE(t)).reduce((s,i)=>wi(s)?s:s[i],e);return Zn(n)||n===e?Zn(e[t])?r:e[t]:n},ia=e=>typeof e=="boolean",Vr=(e,t,r)=>{let n=-1;const s=a2(t)?[t]:HE(t),i=s.length,a=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==a){const u=e[l];c=ns(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ow={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},So={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},GE=Re.createContext(null);GE.displayName="HookFormContext";const o2=()=>Re.useContext(GE),_de=e=>{const{children:t,...r}=e;return Re.createElement(GE.Provider,{value:r},t)};var wB=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==So.all&&(t._proxyFormState[a]=!n||So.all),r&&(r[a]=!0),e[a]}});return s};const YE=typeof window<"u"?Re.useLayoutEffect:Re.useEffect;function Sde(e){const t=o2(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[a,l]=Re.useState(r._formState),c=Re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return YE(()=>r._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,i]),Re.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Re.useMemo(()=>wB(a,r,c.current,!1),[a,r])}var pl=e=>typeof e=="string",bB=(e,t,r,n,s)=>pl(e)?(n&&t.watch.add(e),Ze(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ze(r,i))):(n&&(t.watchAll=!0),r),yN=e=>wi(e)||!vB(e);function oc(e,t,r=new WeakSet){if(yN(e)||yN(t))return e===t;if(Xd(e)&&Xd(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Xd(a)&&Xd(l)||ns(a)&&ns(l)||Array.isArray(a)&&Array.isArray(l)?!oc(a,l,r):a!==l)return!1}}return!0}function jde(e){const t=o2(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:a,compute:l}=e||{},c=Re.useRef(s),u=Re.useRef(l),d=Re.useRef(void 0);u.current=l;const h=Re.useMemo(()=>r._getWatch(n,c.current),[r,n]),[p,f]=Re.useState(u.current?u.current(h):h);return YE(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:v=>{if(!i){const m=bB(n,r._names,v.values||r._formValues,!1,c.current);if(u.current){const x=u.current(m);oc(x,d.current)||(f(x),d.current=x)}else f(m)}}}),[r,i,n,a]),Re.useEffect(()=>r._removeUnmounted()),p}function Nde(e){const t=o2(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i,defaultValue:a}=e,l=xB(s._names.array,r),c=Re.useMemo(()=>Ze(s._formValues,r,Ze(s._defaultValues,r,a)),[s,r,a]),u=jde({control:s,name:r,defaultValue:c,exact:!0}),d=Sde({control:s,name:r,exact:!0}),h=Re.useRef(e),p=Re.useRef(s.register(r,{...e.rules,value:u,...ia(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const f=Re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ze(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ze(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ze(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ze(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ze(d.errors,r)}}),[d,r]),v=Re.useCallback(w=>p.current.onChange({target:{value:yB(w),name:r},type:Ow.CHANGE}),[r]),m=Re.useCallback(()=>p.current.onBlur({target:{value:Ze(s._formValues,r),name:r},type:Ow.BLUR}),[r,s._formValues]),x=Re.useCallback(w=>{const S=Ze(s._fields,r);S&&w&&(S._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:k=>w.setCustomValidity(k),reportValidity:()=>w.reportValidity()})},[s._fields,r]),g=Re.useMemo(()=>({name:r,value:u,...ia(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:v,onBlur:m,ref:x}),[r,n,d.disabled,v,m,x,u]);return Re.useEffect(()=>{const w=s._options.shouldUnregister||i;s.register(r,{...h.current.rules,...ia(h.current.disabled)?{disabled:h.current.disabled}:{}});const S=(k,T)=>{const R=Ze(s._fields,k);R&&R._f&&(R._f.mount=T)};if(S(r,!0),w){const k=bs(Ze(s._options.defaultValues,r));Vr(s._defaultValues,r,k),Zn(Ze(s._formValues,r))&&Vr(s._formValues,r,k)}return!l&&s.register(r),()=>{(l?w&&!s._state.action:w)?s.unregister(r):S(r,!1)}},[r,s,l,i]),Re.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),Re.useMemo(()=>({field:g,formState:d,fieldState:f}),[g,d,f])}const kde=e=>e.render(Nde(e));var _B=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},xv=e=>Array.isArray(e)?e:[e],j3=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Oi=e=>ns(e)&&!Object.keys(e).length,KE=e=>e.type==="file",jo=e=>typeof e=="function",Lw=e=>{if(!VE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},SB=e=>e.type==="select-multiple",JE=e=>e.type==="radio",Cde=e=>JE(e)||Y0(e),y5=e=>Lw(e)&&e.isConnected;function Ede(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Zn(e)?n++:e[t[n++]];return e}function Ade(e){for(const t in e)if(e.hasOwnProperty(t)&&!Zn(e[t]))return!1;return!0}function ls(e,t){const r=Array.isArray(t)?t:a2(t)?[t]:HE(t),n=r.length===1?e:Ede(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(ns(n)&&Oi(n)||Array.isArray(n)&&Ade(n))&&ls(e,r.slice(0,-1)),e}var jB=e=>{for(const t in e)if(jo(e[t]))return!0;return!1};function Mw(e,t={}){const r=Array.isArray(e);if(ns(e)||r)for(const n in e)Array.isArray(e[n])||ns(e[n])&&!jB(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Mw(e[n],t[n])):wi(e[n])||(t[n]=!0);return t}function NB(e,t,r){const n=Array.isArray(e);if(ns(e)||n)for(const s in e)Array.isArray(e[s])||ns(e[s])&&!jB(e[s])?Zn(t)||yN(r[s])?r[s]=Array.isArray(e[s])?Mw(e[s],[]):{...Mw(e[s])}:NB(e[s],wi(t)?{}:t[s],r[s]):r[s]=!oc(e[s],t[s]);return r}var Ig=(e,t)=>NB(e,t,Mw(t));const N3={value:!1,isValid:!1},k3={value:!0,isValid:!0};var kB=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Zn(e[0].attributes.value)?Zn(e[0].value)||e[0].value===""?k3:{value:e[0].value,isValid:!0}:k3:N3}return N3},CB=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Zn(e)?e:t?e===""?NaN:e&&+e:r&&pl(e)?new Date(e):n?n(e):e;const C3={isValid:!1,value:null};var EB=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,C3):C3;function E3(e){const t=e.ref;return KE(t)?t.files:JE(t)?EB(e.refs).value:SB(t)?[...t.selectedOptions].map(({value:r})=>r):Y0(t)?kB(e.refs).value:CB(Zn(t.value)?e.ref.value:t.value,e)}var Pde=(e,t,r,n)=>{const s={};for(const i of e){const a=Ze(t,i);a&&Vr(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Iw=e=>e instanceof RegExp,Dg=e=>Zn(e)?e:Iw(e)?e.source:ns(e)?Iw(e.value)?e.value.source:e.value:e,A3=e=>({isOnSubmit:!e||e===So.onSubmit,isOnBlur:e===So.onBlur,isOnChange:e===So.onChange,isOnAll:e===So.all,isOnTouch:e===So.onTouched});const P3="AsyncFunction";var Tde=e=>!!e&&!!e.validate&&!!(jo(e.validate)&&e.validate.constructor.name===P3||ns(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===P3)),Rde=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),T3=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const wv=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Ze(e,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(wv(l,t))break}else if(ns(l)&&wv(l,t))break}}};function R3(e,t,r){const n=Ze(e,r);if(n||a2(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=Ze(t,i),l=Ze(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var Ode=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Oi(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||So.all))},Lde=(e,t,r)=>!e||!t||e===t||xv(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Mde=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Ide=(e,t)=>!WE(Ze(e,t)).length&&ls(e,t),Dde=(e,t,r)=>{const n=xv(Ze(e,r));return Vr(n,"root",t[r]),Vr(e,r,n),e},Nx=e=>pl(e);function O3(e,t,r="validate"){if(Nx(e)||Array.isArray(e)&&e.every(Nx)||ia(e)&&!e)return{type:r,message:Nx(e)?e:"",ref:t}}var Rf=e=>ns(e)&&!Iw(e)?e:{value:e,message:""},L3=async(e,t,r,n,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:h,max:p,pattern:f,validate:v,name:m,valueAsNumber:x,mount:g}=e._f,w=Ze(r,m);if(!g||t.has(m))return{};const S=l?l[0]:a,k=I=>{s&&S.reportValidity&&(S.setCustomValidity(ia(I)?"":I||""),S.reportValidity())},T={},R=JE(a),L=Y0(a),D=R||L,M=(x||KE(a))&&Zn(a.value)&&Zn(w)||Lw(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,G=_B.bind(null,m,n,T),A=(I,$,q,te=Hl.maxLength,ne=Hl.minLength)=>{const re=I?$:q;T[m]={type:I?te:ne,message:re,ref:a,...G(I?te:ne,re)}};if(i?!Array.isArray(w)||!w.length:c&&(!D&&(M||wi(w))||ia(w)&&!w||L&&!kB(l).isValid||R&&!EB(l).isValid)){const{value:I,message:$}=Nx(c)?{value:!!c,message:c}:Rf(c);if(I&&(T[m]={type:Hl.required,message:$,ref:S,...G(Hl.required,$)},!n))return k($),T}if(!M&&(!wi(h)||!wi(p))){let I,$;const q=Rf(p),te=Rf(h);if(!wi(w)&&!isNaN(w)){const ne=a.valueAsNumber||w&&+w;wi(q.value)||(I=ne>q.value),wi(te.value)||($=ne<te.value)}else{const ne=a.valueAsDate||new Date(w),re=pe=>new Date(new Date().toDateString()+" "+pe),W=a.type=="time",X=a.type=="week";pl(q.value)&&w&&(I=W?re(w)>re(q.value):X?w>q.value:ne>new Date(q.value)),pl(te.value)&&w&&($=W?re(w)<re(te.value):X?w<te.value:ne<new Date(te.value))}if((I||$)&&(A(!!I,q.message,te.message,Hl.max,Hl.min),!n))return k(T[m].message),T}if((u||d)&&!M&&(pl(w)||i&&Array.isArray(w))){const I=Rf(u),$=Rf(d),q=!wi(I.value)&&w.length>+I.value,te=!wi($.value)&&w.length<+$.value;if((q||te)&&(A(q,I.message,$.message),!n))return k(T[m].message),T}if(f&&!M&&pl(w)){const{value:I,message:$}=Rf(f);if(Iw(I)&&!w.match(I)&&(T[m]={type:Hl.pattern,message:$,ref:a,...G(Hl.pattern,$)},!n))return k($),T}if(v){if(jo(v)){const I=await v(w,r),$=O3(I,S);if($&&(T[m]={...$,...G(Hl.validate,$.message)},!n))return k($.message),T}else if(ns(v)){let I={};for(const $ in v){if(!Oi(I)&&!n)break;const q=O3(await v[$](w,r),S,$);q&&(I={...q,...G($,q.message)},k(q.message),n&&(T[m]=I))}if(!Oi(I)&&(T[m]={ref:S,...I},!n))return T}}return k(!0),T};const Fde={mode:So.onSubmit,reValidateMode:So.onChange,shouldFocusError:!0};function $de(e={}){let t={...Fde,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:jo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=ns(t.defaultValues)||ns(t.values)?bs(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:bs(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:j3(),state:j3()},f=t.criteriaMode===So.all,v=K=>ce=>{clearTimeout(u),u=setTimeout(K,ce)},m=async K=>{if(!t.disabled&&(d.isValid||h.isValid||K)){const ce=t.resolver?Oi((await L()).errors):await M(n,!0);ce!==r.isValid&&p.state.next({isValid:ce})}},x=(K,ce)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((K||Array.from(l.mount)).forEach(ve=>{ve&&(ce?Vr(r.validatingFields,ve,ce):ls(r.validatingFields,ve))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Oi(r.validatingFields)}))},g=(K,ce=[],ve,je,Oe=!0,ke=!0)=>{if(je&&ve&&!t.disabled){if(a.action=!0,ke&&Array.isArray(Ze(n,K))){const Le=ve(Ze(n,K),je.argA,je.argB);Oe&&Vr(n,K,Le)}if(ke&&Array.isArray(Ze(r.errors,K))){const Le=ve(Ze(r.errors,K),je.argA,je.argB);Oe&&Vr(r.errors,K,Le),Ide(r.errors,K)}if((d.touchedFields||h.touchedFields)&&ke&&Array.isArray(Ze(r.touchedFields,K))){const Le=ve(Ze(r.touchedFields,K),je.argA,je.argB);Oe&&Vr(r.touchedFields,K,Le)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Ig(s,i)),p.state.next({name:K,isDirty:A(K,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Vr(i,K,ce)},w=(K,ce)=>{Vr(r.errors,K,ce),p.state.next({errors:r.errors})},S=K=>{r.errors=K,p.state.next({errors:r.errors,isValid:!1})},k=(K,ce,ve,je)=>{const Oe=Ze(n,K);if(Oe){const ke=Ze(i,K,Zn(ve)?Ze(s,K):ve);Zn(ke)||je&&je.defaultChecked||ce?Vr(i,K,ce?ke:E3(Oe._f)):q(K,ke),a.mount&&m()}},T=(K,ce,ve,je,Oe)=>{let ke=!1,Le=!1;const Xe={name:K};if(!t.disabled){if(!ve||je){(d.isDirty||h.isDirty)&&(Le=r.isDirty,r.isDirty=Xe.isDirty=A(),ke=Le!==Xe.isDirty);const at=oc(Ze(s,K),ce);Le=!!Ze(r.dirtyFields,K),at?ls(r.dirtyFields,K):Vr(r.dirtyFields,K,!0),Xe.dirtyFields=r.dirtyFields,ke=ke||(d.dirtyFields||h.dirtyFields)&&Le!==!at}if(ve){const at=Ze(r.touchedFields,K);at||(Vr(r.touchedFields,K,ve),Xe.touchedFields=r.touchedFields,ke=ke||(d.touchedFields||h.touchedFields)&&at!==ve)}ke&&Oe&&p.state.next(Xe)}return ke?Xe:{}},R=(K,ce,ve,je)=>{const Oe=Ze(r.errors,K),ke=(d.isValid||h.isValid)&&ia(ce)&&r.isValid!==ce;if(t.delayError&&ve?(c=v(()=>w(K,ve)),c(t.delayError)):(clearTimeout(u),c=null,ve?Vr(r.errors,K,ve):ls(r.errors,K)),(ve?!oc(Oe,ve):Oe)||!Oi(je)||ke){const Le={...je,...ke&&ia(ce)?{isValid:ce}:{},errors:r.errors,name:K};r={...r,...Le},p.state.next(Le)}},L=async K=>{x(K,!0);const ce=await t.resolver(i,t.context,Pde(K||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(K),ce},D=async K=>{const{errors:ce}=await L(K);if(K)for(const ve of K){const je=Ze(ce,ve);je?Vr(r.errors,ve,je):ls(r.errors,ve)}else r.errors=ce;return ce},M=async(K,ce,ve={valid:!0})=>{for(const je in K){const Oe=K[je];if(Oe){const{_f:ke,...Le}=Oe;if(ke){const Xe=l.array.has(ke.name),at=Oe._f&&Tde(Oe._f);at&&d.validatingFields&&x([je],!0);const Qe=await L3(Oe,l.disabled,i,f,t.shouldUseNativeValidation&&!ce,Xe);if(at&&d.validatingFields&&x([je]),Qe[ke.name]&&(ve.valid=!1,ce))break;!ce&&(Ze(Qe,ke.name)?Xe?Dde(r.errors,Qe,ke.name):Vr(r.errors,ke.name,Qe[ke.name]):ls(r.errors,ke.name))}!Oi(Le)&&await M(Le,ce,ve)}}return ve.valid},G=()=>{for(const K of l.unMount){const ce=Ze(n,K);ce&&(ce._f.refs?ce._f.refs.every(ve=>!y5(ve)):!y5(ce._f.ref))&&F(K)}l.unMount=new Set},A=(K,ce)=>!t.disabled&&(K&&ce&&Vr(i,K,ce),!oc(pe(),s)),I=(K,ce,ve)=>bB(K,l,{...a.mount?i:Zn(ce)?s:pl(K)?{[K]:ce}:ce},ve,ce),$=K=>WE(Ze(a.mount?i:s,K,t.shouldUnregister?Ze(s,K,[]):[])),q=(K,ce,ve={})=>{const je=Ze(n,K);let Oe=ce;if(je){const ke=je._f;ke&&(!ke.disabled&&Vr(i,K,CB(ce,ke)),Oe=Lw(ke.ref)&&wi(ce)?"":ce,SB(ke.ref)?[...ke.ref.options].forEach(Le=>Le.selected=Oe.includes(Le.value)):ke.refs?Y0(ke.ref)?ke.refs.forEach(Le=>{(!Le.defaultChecked||!Le.disabled)&&(Array.isArray(Oe)?Le.checked=!!Oe.find(Xe=>Xe===Le.value):Le.checked=Oe===Le.value||!!Oe)}):ke.refs.forEach(Le=>Le.checked=Le.value===Oe):KE(ke.ref)?ke.ref.value="":(ke.ref.value=Oe,ke.ref.type||p.state.next({name:K,values:bs(i)})))}(ve.shouldDirty||ve.shouldTouch)&&T(K,Oe,ve.shouldTouch,ve.shouldDirty,!0),ve.shouldValidate&&X(K)},te=(K,ce,ve)=>{for(const je in ce){if(!ce.hasOwnProperty(je))return;const Oe=ce[je],ke=K+"."+je,Le=Ze(n,ke);(l.array.has(K)||ns(Oe)||Le&&!Le._f)&&!Xd(Oe)?te(ke,Oe,ve):q(ke,Oe,ve)}},ne=(K,ce,ve={})=>{const je=Ze(n,K),Oe=l.array.has(K),ke=bs(ce);Vr(i,K,ke),Oe?(p.array.next({name:K,values:bs(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&ve.shouldDirty&&p.state.next({name:K,dirtyFields:Ig(s,i),isDirty:A(K,ke)})):je&&!je._f&&!wi(ke)?te(K,ke,ve):q(K,ke,ve),T3(K,l)&&p.state.next({...r,name:K}),p.state.next({name:a.mount?K:void 0,values:bs(i)})},re=async K=>{a.mount=!0;const ce=K.target;let ve=ce.name,je=!0;const Oe=Ze(n,ve),ke=at=>{je=Number.isNaN(at)||Xd(at)&&isNaN(at.getTime())||oc(at,Ze(i,ve,at))},Le=A3(t.mode),Xe=A3(t.reValidateMode);if(Oe){let at,Qe;const bt=ce.type?E3(Oe._f):yB(K),tt=K.type===Ow.BLUR||K.type===Ow.FOCUS_OUT,Fr=!Rde(Oe._f)&&!t.resolver&&!Ze(r.errors,ve)&&!Oe._f.deps||Mde(tt,Ze(r.touchedFields,ve),r.isSubmitted,Xe,Le),Vt=T3(ve,l,tt);Vr(i,ve,bt),tt?(Oe._f.onBlur&&Oe._f.onBlur(K),c&&c(0)):Oe._f.onChange&&Oe._f.onChange(K);const Ot=T(ve,bt,tt),Wt=!Oi(Ot)||Vt;if(!tt&&p.state.next({name:ve,type:K.type,values:bs(i)}),Fr)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?tt&&m():tt||m()),Wt&&p.state.next({name:ve,...Vt?{}:Ot});if(!tt&&Vt&&p.state.next({...r}),t.resolver){const{errors:lr}=await L([ve]);if(ke(bt),je){const _t=R3(r.errors,n,ve),_r=R3(lr,n,_t.name||ve);at=_r.error,ve=_r.name,Qe=Oi(lr)}}else x([ve],!0),at=(await L3(Oe,l.disabled,i,f,t.shouldUseNativeValidation))[ve],x([ve]),ke(bt),je&&(at?Qe=!1:(d.isValid||h.isValid)&&(Qe=await M(n,!0)));je&&(Oe._f.deps&&X(Oe._f.deps),R(ve,Qe,at,Ot))}},W=(K,ce)=>{if(Ze(r.errors,ce)&&K.focus)return K.focus(),1},X=async(K,ce={})=>{let ve,je;const Oe=xv(K);if(t.resolver){const ke=await D(Zn(K)?K:Oe);ve=Oi(ke),je=K?!Oe.some(Le=>Ze(ke,Le)):ve}else K?(je=(await Promise.all(Oe.map(async ke=>{const Le=Ze(n,ke);return await M(Le&&Le._f?{[ke]:Le}:Le)}))).every(Boolean),!(!je&&!r.isValid)&&m()):je=ve=await M(n);return p.state.next({...!pl(K)||(d.isValid||h.isValid)&&ve!==r.isValid?{}:{name:K},...t.resolver||!K?{isValid:ve}:{},errors:r.errors}),ce.shouldFocus&&!je&&wv(n,W,K?Oe:l.mount),je},pe=K=>{const ce={...a.mount?i:s};return Zn(K)?ce:pl(K)?Ze(ce,K):K.map(ve=>Ze(ce,ve))},ge=(K,ce)=>({invalid:!!Ze((ce||r).errors,K),isDirty:!!Ze((ce||r).dirtyFields,K),error:Ze((ce||r).errors,K),isValidating:!!Ze(r.validatingFields,K),isTouched:!!Ze((ce||r).touchedFields,K)}),U=K=>{K&&xv(K).forEach(ce=>ls(r.errors,ce)),p.state.next({errors:K?r.errors:{}})},b=(K,ce,ve)=>{const je=(Ze(n,K,{_f:{}})._f||{}).ref,Oe=Ze(r.errors,K)||{},{ref:ke,message:Le,type:Xe,...at}=Oe;Vr(r.errors,K,{...at,...ce,ref:je}),p.state.next({name:K,errors:r.errors,isValid:!1}),ve&&ve.shouldFocus&&je&&je.focus&&je.focus()},C=(K,ce)=>jo(K)?p.state.subscribe({next:ve=>"values"in ve&&K(I(void 0,ce),ve)}):I(K,ce,!0),E=K=>p.state.subscribe({next:ce=>{Lde(K.name,ce.name,K.exact)&&Ode(ce,K.formState||d,Ye,K.reRenderRoot)&&K.callback({values:{...i},...r,...ce,defaultValues:s})}}).unsubscribe,B=K=>(a.mount=!0,h={...h,...K.formState},E({...K,formState:h})),F=(K,ce={})=>{for(const ve of K?xv(K):l.mount)l.mount.delete(ve),l.array.delete(ve),ce.keepValue||(ls(n,ve),ls(i,ve)),!ce.keepError&&ls(r.errors,ve),!ce.keepDirty&&ls(r.dirtyFields,ve),!ce.keepTouched&&ls(r.touchedFields,ve),!ce.keepIsValidating&&ls(r.validatingFields,ve),!t.shouldUnregister&&!ce.keepDefaultValue&&ls(s,ve);p.state.next({values:bs(i)}),p.state.next({...r,...ce.keepDirty?{isDirty:A()}:{}}),!ce.keepIsValid&&m()},Z=({disabled:K,name:ce})=>{(ia(K)&&a.mount||K||l.disabled.has(ce))&&(K?l.disabled.add(ce):l.disabled.delete(ce))},se=(K,ce={})=>{let ve=Ze(n,K);const je=ia(ce.disabled)||ia(t.disabled);return Vr(n,K,{...ve||{},_f:{...ve&&ve._f?ve._f:{ref:{name:K}},name:K,mount:!0,...ce}}),l.mount.add(K),ve?Z({disabled:ia(ce.disabled)?ce.disabled:t.disabled,name:K}):k(K,!0,ce.value),{...je?{disabled:ce.disabled||t.disabled}:{},...t.progressive?{required:!!ce.required,min:Dg(ce.min),max:Dg(ce.max),minLength:Dg(ce.minLength),maxLength:Dg(ce.maxLength),pattern:Dg(ce.pattern)}:{},name:K,onChange:re,onBlur:re,ref:Oe=>{if(Oe){se(K,ce),ve=Ze(n,K);const ke=Zn(Oe.value)&&Oe.querySelectorAll&&Oe.querySelectorAll("input,select,textarea")[0]||Oe,Le=Cde(ke),Xe=ve._f.refs||[];if(Le?Xe.find(at=>at===ke):ke===ve._f.ref)return;Vr(n,K,{_f:{...ve._f,...Le?{refs:[...Xe.filter(y5),ke,...Array.isArray(Ze(s,K))?[{}]:[]],ref:{type:ke.type,name:K}}:{ref:ke}}}),k(K,!1,void 0,ke)}else ve=Ze(n,K,{}),ve._f&&(ve._f.mount=!1),(t.shouldUnregister||ce.shouldUnregister)&&!(xB(l.array,K)&&a.action)&&l.unMount.add(K)}}},le=()=>t.shouldFocusError&&wv(n,W,l.mount),ue=K=>{ia(K)&&(p.state.next({disabled:K}),wv(n,(ce,ve)=>{const je=Ze(n,ve);je&&(ce.disabled=je._f.disabled||K,Array.isArray(je._f.refs)&&je._f.refs.forEach(Oe=>{Oe.disabled=je._f.disabled||K}))},0,!1))},fe=(K,ce)=>async ve=>{let je;ve&&(ve.preventDefault&&ve.preventDefault(),ve.persist&&ve.persist());let Oe=bs(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:ke,values:Le}=await L();r.errors=ke,Oe=bs(Le)}else await M(n);if(l.disabled.size)for(const ke of l.disabled)ls(Oe,ke);if(ls(r.errors,"root"),Oi(r.errors)){p.state.next({errors:{}});try{await K(Oe,ve)}catch(ke){je=ke}}else ce&&await ce({...r.errors},ve),le(),setTimeout(le);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Oi(r.errors)&&!je,submitCount:r.submitCount+1,errors:r.errors}),je)throw je},be=(K,ce={})=>{Ze(n,K)&&(Zn(ce.defaultValue)?ne(K,bs(Ze(s,K))):(ne(K,ce.defaultValue),Vr(s,K,bs(ce.defaultValue))),ce.keepTouched||ls(r.touchedFields,K),ce.keepDirty||(ls(r.dirtyFields,K),r.isDirty=ce.defaultValue?A(K,bs(Ze(s,K))):A()),ce.keepError||(ls(r.errors,K),d.isValid&&m()),p.state.next({...r}))},Ie=(K,ce={})=>{const ve=K?bs(K):s,je=bs(ve),Oe=Oi(K),ke=Oe?s:je;if(ce.keepDefaultValues||(s=ve),!ce.keepValues){if(ce.keepDirtyValues){const Le=new Set([...l.mount,...Object.keys(Ig(s,i))]);for(const Xe of Array.from(Le))Ze(r.dirtyFields,Xe)?Vr(ke,Xe,Ze(i,Xe)):ne(Xe,Ze(ke,Xe))}else{if(VE&&Zn(K))for(const Le of l.mount){const Xe=Ze(n,Le);if(Xe&&Xe._f){const at=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if(Lw(at)){const Qe=at.closest("form");if(Qe){Qe.reset();break}}}}if(ce.keepFieldsRef)for(const Le of l.mount)ne(Le,Ze(ke,Le));else n={}}i=t.shouldUnregister?ce.keepDefaultValues?bs(s):{}:bs(ke),p.array.next({values:{...ke}}),p.state.next({values:{...ke}})}l={mount:ce.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,a.watch=!!t.shouldUnregister,p.state.next({submitCount:ce.keepSubmitCount?r.submitCount:0,isDirty:Oe?!1:ce.keepDirty?r.isDirty:!!(ce.keepDefaultValues&&!oc(K,s)),isSubmitted:ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Oe?{}:ce.keepDirtyValues?ce.keepDefaultValues&&i?Ig(s,i):r.dirtyFields:ce.keepDefaultValues&&K?Ig(s,K):ce.keepDirty?r.dirtyFields:{},touchedFields:ce.keepTouched?r.touchedFields:{},errors:ce.keepErrors?r.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Q=(K,ce)=>Ie(jo(K)?K(i):K,ce),De=(K,ce={})=>{const ve=Ze(n,K),je=ve&&ve._f;if(je){const Oe=je.refs?je.refs[0]:je.ref;Oe.focus&&(Oe.focus(),ce.shouldSelect&&jo(Oe.select)&&Oe.select())}},Ye=K=>{r={...r,...K}},Ne={control:{register:se,unregister:F,getFieldState:ge,handleSubmit:fe,setError:b,_subscribe:E,_runSchema:L,_focusError:le,_getWatch:I,_getDirty:A,_setValid:m,_setFieldArray:g,_setDisabledField:Z,_setErrors:S,_getFieldArray:$,_reset:Ie,_resetDefaultValues:()=>jo(t.defaultValues)&&t.defaultValues().then(K=>{Q(K,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:ue,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(K){a=K},get _defaultValues(){return s},get _names(){return l},set _names(K){l=K},get _formState(){return r},get _options(){return t},set _options(K){t={...t,...K}}},subscribe:B,trigger:X,register:se,handleSubmit:fe,watch:C,setValue:ne,getValues:pe,reset:Q,resetField:be,clearErrors:U,unregister:F,setError:b,setFocus:De,getFieldState:ge};return{...Ne,formControl:Ne}}function K0(e={}){const t=Re.useRef(void 0),r=Re.useRef(void 0),[n,s]=Re.useState({isDirty:!1,isValidating:!1,isLoading:jo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:jo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!jo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...l}=$de(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,YE(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),Re.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Re.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Re.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Re.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Re.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),Re.useEffect(()=>{e.values&&!oc(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),Re.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=wB(n,i),t.current}const M3=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ze(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},AB=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?M3(n.ref,r,e):n.refs&&n.refs.forEach(s=>M3(s,r,e))}},Bde=(e,t)=>{t.shouldUseNativeValidation&&AB(e,t);const r={};for(const n in e){const s=Ze(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(Ude(t.names||Object.keys(e),n)){const a=Object.assign({},Ze(r,n));Vr(a,"root",i),Vr(r,n,a)}else Vr(r,n,i)}return r},Ude=(e,t)=>e.some(r=>r.startsWith(t+"."));var qde=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=r[a].types,u=c&&c[n.code];r[a]=_B(a,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},J0=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&AB({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:Bde(qde(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},Or;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Or||(Or={}));var I3;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(I3||(I3={}));const gt=Or.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fu=e=>{switch(typeof e){case"undefined":return gt.undefined;case"string":return gt.string;case"number":return Number.isNaN(e)?gt.nan:gt.number;case"boolean":return gt.boolean;case"function":return gt.function;case"bigint":return gt.bigint;case"symbol":return gt.symbol;case"object":return Array.isArray(e)?gt.array:e===null?gt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?gt.promise:typeof Map<"u"&&e instanceof Map?gt.map:typeof Set<"u"&&e instanceof Set?gt.set:typeof Date<"u"&&e instanceof Date?gt.date:gt.object;default:return gt.unknown}},Ge=Or.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Tc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Tc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Or.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Tc.create=e=>new Tc(e);const xN=(e,t)=>{let r;switch(e.code){case Ge.invalid_type:e.received===gt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ge.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Or.jsonStringifyReplacer)}`;break;case Ge.unrecognized_keys:r=`Unrecognized key(s) in object: ${Or.joinValues(e.keys,", ")}`;break;case Ge.invalid_union:r="Invalid input";break;case Ge.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Or.joinValues(e.options)}`;break;case Ge.invalid_enum_value:r=`Invalid enum value. Expected ${Or.joinValues(e.options)}, received '${e.received}'`;break;case Ge.invalid_arguments:r="Invalid function arguments";break;case Ge.invalid_return_type:r="Invalid function return type";break;case Ge.invalid_date:r="Invalid date";break;case Ge.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Or.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ge.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ge.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ge.custom:r="Invalid input";break;case Ge.invalid_intersection_types:r="Intersection results could not be merged";break;case Ge.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ge.not_finite:r="Number must be finite";break;default:r=t.defaultError,Or.assertNever(e)}return{message:r}};let zde=xN;function Vde(){return zde}const Wde=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function st(e,t){const r=Vde(),n=Wde({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===xN?void 0:xN].filter(s=>!!s)});e.common.issues.push(n)}class ya{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Zt;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return ya.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Zt;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}}const Zt=Object.freeze({status:"aborted"}),Xg=e=>({status:"dirty",value:e}),Xa=e=>({status:"valid",value:e}),D3=e=>e.status==="aborted",F3=e=>e.status==="dirty",im=e=>e.status==="valid",Dw=e=>typeof Promise<"u"&&e instanceof Promise;var wt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(wt||(wt={}));class nd{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $3=(e,t)=>{if(im(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Tc(e.common.issues);return this._error=r,this._error}}};function ar(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,l)=>{const{message:c}=e;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Pr{get description(){return this._def.description}_getType(t){return fu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:fu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ya,ctx:{common:t.parent.common,data:t.data,parsedType:fu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Dw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fu(t)},s=this._parseSync({data:t,path:n.path,parent:n});return $3(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fu(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return im(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>im(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fu(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Dw(s)?s:Promise.resolve(s));return $3(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=t(s),l=()=>i.addIssue({code:Ge.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new lm({schema:this,typeName:Xt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Wu.create(this,this._def)}nullable(){return cm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xl.create(this)}promise(){return Uw.create(this,this._def)}or(t){return $w.create([this,t],this._def)}and(t){return Bw.create(this,t,this._def)}transform(t){return new lm({...ar(this._def),schema:this,typeName:Xt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new SN({...ar(this._def),innerType:this,defaultValue:r,typeName:Xt.ZodDefault})}brand(){return new phe({typeName:Xt.ZodBranded,type:this,...ar(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new jN({...ar(this._def),innerType:this,catchValue:r,typeName:Xt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return QE.create(this,t)}readonly(){return NN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Hde=/^c[^\s-]{8,}$/i,Gde=/^[0-9a-z]+$/,Yde=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Kde=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Jde=/^[a-z0-9_-]{21}$/i,Qde=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Zde=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xde=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ehe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let x5;const the=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rhe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nhe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,she=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ihe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ahe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,PB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ohe=new RegExp(`^${PB}$`);function TB(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function lhe(e){return new RegExp(`^${TB(e)}$`)}function che(e){let t=`${PB}T${TB(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function uhe(e,t){return!!((t==="v4"||!t)&&the.test(e)||(t==="v6"||!t)&&nhe.test(e))}function dhe(e,t){if(!Qde.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function hhe(e,t){return!!((t==="v4"||!t)&&rhe.test(e)||(t==="v6"||!t)&&she.test(e))}class uc extends Pr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==gt.string){const i=this._getOrReturnCtx(t);return st(i,{code:Ge.invalid_type,expected:gt.string,received:i.parsedType}),Zt}const n=new ya;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(t,s),a?st(s,{code:Ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&st(s,{code:Ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Xde.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"email",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")x5||(x5=new RegExp(ehe,"u")),x5.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"emoji",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Kde.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"uuid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Jde.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"nanoid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Hde.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"cuid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Gde.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"cuid2",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Yde.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"ulid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),st(s,{validation:"url",code:Ge.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"regex",code:Ge.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ge.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ge.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ge.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?che(i).test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ge.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?ohe.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ge.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?lhe(i).test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ge.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Zde.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"duration",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?uhe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"ip",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?dhe(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"jwt",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?hhe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"cidr",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ihe.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"base64",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?ahe.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"base64url",code:Ge.invalid_string,message:i.message}),n.dirty()):Or.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:Ge.invalid_string,...wt.errToObj(n)})}_addCheck(t){return new uc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...wt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...wt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...wt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...wt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...wt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...wt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...wt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...wt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...wt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...wt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...wt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...wt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...wt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...wt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...wt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...wt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...wt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...wt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...wt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...wt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...wt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...wt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...wt.errToObj(r)})}nonempty(t){return this.min(1,wt.errToObj(t))}trim(){return new uc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new uc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new uc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}uc.create=e=>new uc({checks:[],typeName:Xt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ar(e)});function fhe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}class Oh extends Pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==gt.number){const i=this._getOrReturnCtx(t);return st(i,{code:Ge.invalid_type,expected:gt.number,received:i.parsedType}),Zt}let n;const s=new ya;for(const i of this._def.checks)i.kind==="int"?Or.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),st(n,{code:Ge.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ge.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ge.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?fhe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),st(n,{code:Ge.not_finite,message:i.message}),s.dirty()):Or.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,wt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,wt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,wt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,wt.toString(r))}setLimit(t,r,n,s){return new Oh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:wt.toString(s)}]})}_addCheck(t){return new Oh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:wt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:wt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:wt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:wt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:wt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:wt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:wt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:wt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:wt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Or.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Oh.create=e=>new Oh({checks:[],typeName:Xt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ar(e)});class Lh extends Pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==gt.bigint)return this._getInvalidInput(t);let n;const s=new ya;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ge.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ge.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Or.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return st(r,{code:Ge.invalid_type,expected:gt.bigint,received:r.parsedType}),Zt}gte(t,r){return this.setLimit("min",t,!0,wt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,wt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,wt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,wt.toString(r))}setLimit(t,r,n,s){return new Lh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:wt.toString(s)}]})}_addCheck(t){return new Lh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:wt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:wt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:wt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:wt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:wt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Lh.create=e=>new Lh({checks:[],typeName:Xt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ar(e)});class Fw extends Pr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==gt.boolean){const n=this._getOrReturnCtx(t);return st(n,{code:Ge.invalid_type,expected:gt.boolean,received:n.parsedType}),Zt}return Xa(t.data)}}Fw.create=e=>new Fw({typeName:Xt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ar(e)});class am extends Pr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==gt.date){const i=this._getOrReturnCtx(t);return st(i,{code:Ge.invalid_type,expected:gt.date,received:i.parsedType}),Zt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return st(i,{code:Ge.invalid_date}),Zt}const n=new ya;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ge.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ge.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Or.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new am({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:wt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:wt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}am.create=e=>new am({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Xt.ZodDate,...ar(e)});class B3 extends Pr{_parse(t){if(this._getType(t)!==gt.symbol){const n=this._getOrReturnCtx(t);return st(n,{code:Ge.invalid_type,expected:gt.symbol,received:n.parsedType}),Zt}return Xa(t.data)}}B3.create=e=>new B3({typeName:Xt.ZodSymbol,...ar(e)});class U3 extends Pr{_parse(t){if(this._getType(t)!==gt.undefined){const n=this._getOrReturnCtx(t);return st(n,{code:Ge.invalid_type,expected:gt.undefined,received:n.parsedType}),Zt}return Xa(t.data)}}U3.create=e=>new U3({typeName:Xt.ZodUndefined,...ar(e)});class q3 extends Pr{_parse(t){if(this._getType(t)!==gt.null){const n=this._getOrReturnCtx(t);return st(n,{code:Ge.invalid_type,expected:gt.null,received:n.parsedType}),Zt}return Xa(t.data)}}q3.create=e=>new q3({typeName:Xt.ZodNull,...ar(e)});class wN extends Pr{constructor(){super(...arguments),this._any=!0}_parse(t){return Xa(t.data)}}wN.create=e=>new wN({typeName:Xt.ZodAny,...ar(e)});class z3 extends Pr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Xa(t.data)}}z3.create=e=>new z3({typeName:Xt.ZodUnknown,...ar(e)});class sd extends Pr{_parse(t){const r=this._getOrReturnCtx(t);return st(r,{code:Ge.invalid_type,expected:gt.never,received:r.parsedType}),Zt}}sd.create=e=>new sd({typeName:Xt.ZodNever,...ar(e)});class V3 extends Pr{_parse(t){if(this._getType(t)!==gt.undefined){const n=this._getOrReturnCtx(t);return st(n,{code:Ge.invalid_type,expected:gt.void,received:n.parsedType}),Zt}return Xa(t.data)}}V3.create=e=>new V3({typeName:Xt.ZodVoid,...ar(e)});class xl extends Pr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==gt.array)return st(r,{code:Ge.invalid_type,expected:gt.array,received:r.parsedType}),Zt;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(st(r,{code:a?Ge.too_big:Ge.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(st(r,{code:Ge.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(st(r,{code:Ge.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new nd(r,a,r.path,l)))).then(a=>ya.mergeArray(n,a));const i=[...r.data].map((a,l)=>s.type._parseSync(new nd(r,a,r.path,l)));return ya.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new xl({...this._def,minLength:{value:t,message:wt.toString(r)}})}max(t,r){return new xl({...this._def,maxLength:{value:t,message:wt.toString(r)}})}length(t,r){return new xl({...this._def,exactLength:{value:t,message:wt.toString(r)}})}nonempty(t){return this.min(1,t)}}xl.create=(e,t)=>new xl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Xt.ZodArray,...ar(t)});function Uf(e){if(e instanceof Vn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Wu.create(Uf(n))}return new Vn({...e._def,shape:()=>t})}else return e instanceof xl?new xl({...e._def,type:Uf(e.element)}):e instanceof Wu?Wu.create(Uf(e.unwrap())):e instanceof cm?cm.create(Uf(e.unwrap())):e instanceof Mh?Mh.create(e.items.map(t=>Uf(t))):e}class Vn extends Pr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Or.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==gt.object){const u=this._getOrReturnCtx(t);return st(u,{code:Ge.invalid_type,expected:gt.object,received:u.parsedType}),Zt}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof sd&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new nd(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof sd){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(st(s,{code:Ge.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new nd(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>ya.mergeObjectSync(n,u)):ya.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return wt.errToObj,new Vn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:wt.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Vn({...this._def,unknownKeys:"strip"})}passthrough(){return new Vn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Vn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Vn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Xt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Vn({...this._def,catchall:t})}pick(t){const r={};for(const n of Or.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Vn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Or.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Vn({...this._def,shape:()=>r})}deepPartial(){return Uf(this)}partial(t){const r={};for(const n of Or.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Vn({...this._def,shape:()=>r})}required(t){const r={};for(const n of Or.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Wu;)i=i._def.innerType;r[n]=i}return new Vn({...this._def,shape:()=>r})}keyof(){return RB(Or.objectKeys(this.shape))}}Vn.create=(e,t)=>new Vn({shape:()=>e,unknownKeys:"strip",catchall:sd.create(),typeName:Xt.ZodObject,...ar(t)});Vn.strictCreate=(e,t)=>new Vn({shape:()=>e,unknownKeys:"strict",catchall:sd.create(),typeName:Xt.ZodObject,...ar(t)});Vn.lazycreate=(e,t)=>new Vn({shape:e,unknownKeys:"strip",catchall:sd.create(),typeName:Xt.ZodObject,...ar(t)});class $w extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new Tc(l.ctx.common.issues));return st(r,{code:Ge.invalid_union,unionErrors:a}),Zt}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new Tc(c));return st(r,{code:Ge.invalid_union,unionErrors:l}),Zt}}get options(){return this._def.options}}$w.create=(e,t)=>new $w({options:e,typeName:Xt.ZodUnion,...ar(t)});function bN(e,t){const r=fu(e),n=fu(t);if(e===t)return{valid:!0,data:e};if(r===gt.object&&n===gt.object){const s=Or.objectKeys(t),i=Or.objectKeys(e).filter(l=>s.indexOf(l)!==-1),a={...e,...t};for(const l of i){const c=bN(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===gt.array&&n===gt.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],c=bN(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===gt.date&&n===gt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Bw extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,a)=>{if(D3(i)||D3(a))return Zt;const l=bN(i.value,a.value);return l.valid?((F3(i)||F3(a))&&r.dirty(),{status:r.value,value:l.data}):(st(n,{code:Ge.invalid_intersection_types}),Zt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Bw.create=(e,t,r)=>new Bw({left:e,right:t,typeName:Xt.ZodIntersection,...ar(r)});class Mh extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.array)return st(n,{code:Ge.invalid_type,expected:gt.array,received:n.parsedType}),Zt;if(n.data.length<this._def.items.length)return st(n,{code:Ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Zt;!this._def.rest&&n.data.length>this._def.items.length&&(st(n,{code:Ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new nd(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>ya.mergeArray(r,a)):ya.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Mh({...this._def,rest:t})}}Mh.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mh({items:e,typeName:Xt.ZodTuple,rest:null,...ar(t)})};class W3 extends Pr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.map)return st(n,{code:Ge.invalid_type,expected:gt.map,received:n.parsedType}),Zt;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new nd(n,l,n.path,[u,"key"])),value:i._parse(new nd(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Zt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Zt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}W3.create=(e,t,r)=>new W3({valueType:t,keyType:e,typeName:Xt.ZodMap,...ar(r)});class l0 extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.set)return st(n,{code:Ge.invalid_type,expected:gt.set,received:n.parsedType}),Zt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(st(n,{code:Ge.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(st(n,{code:Ge.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Zt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new nd(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new l0({...this._def,minSize:{value:t,message:wt.toString(r)}})}max(t,r){return new l0({...this._def,maxSize:{value:t,message:wt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}l0.create=(e,t)=>new l0({valueType:e,minSize:null,maxSize:null,typeName:Xt.ZodSet,...ar(t)});class H3 extends Pr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}H3.create=(e,t)=>new H3({getter:e,typeName:Xt.ZodLazy,...ar(t)});class _N extends Pr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return st(r,{received:r.data,code:Ge.invalid_literal,expected:this._def.value}),Zt}return{status:"valid",value:t.data}}get value(){return this._def.value}}_N.create=(e,t)=>new _N({value:e,typeName:Xt.ZodLiteral,...ar(t)});function RB(e,t){return new om({values:e,typeName:Xt.ZodEnum,...ar(t)})}class om extends Pr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return st(r,{expected:Or.joinValues(n),received:r.parsedType,code:Ge.invalid_type}),Zt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return st(r,{received:r.data,code:Ge.invalid_enum_value,options:n}),Zt}return Xa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return om.create(t,{...this._def,...r})}exclude(t,r=this._def){return om.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}om.create=RB;class G3 extends Pr{_parse(t){const r=Or.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==gt.string&&n.parsedType!==gt.number){const s=Or.objectValues(r);return st(n,{expected:Or.joinValues(s),received:n.parsedType,code:Ge.invalid_type}),Zt}if(this._cache||(this._cache=new Set(Or.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Or.objectValues(r);return st(n,{received:n.data,code:Ge.invalid_enum_value,options:s}),Zt}return Xa(t.data)}get enum(){return this._def.values}}G3.create=(e,t)=>new G3({values:e,typeName:Xt.ZodNativeEnum,...ar(t)});class Uw extends Pr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==gt.promise&&r.common.async===!1)return st(r,{code:Ge.invalid_type,expected:gt.promise,received:r.parsedType}),Zt;const n=r.parsedType===gt.promise?r.data:Promise.resolve(r.data);return Xa(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Uw.create=(e,t)=>new Uw({type:e,typeName:Xt.ZodPromise,...ar(t)});class lm extends Pr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{st(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return Zt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Zt:c.status==="dirty"||r.value==="dirty"?Xg(c.value):c});{if(r.value==="aborted")return Zt;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?Zt:l.status==="dirty"||r.value==="dirty"?Xg(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Zt:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Zt:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!im(a))return Zt;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>im(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:r.value,value:l})):Zt);Or.assertNever(s)}}lm.create=(e,t,r)=>new lm({schema:e,typeName:Xt.ZodEffects,effect:t,...ar(r)});lm.createWithPreprocess=(e,t,r)=>new lm({schema:t,effect:{type:"preprocess",transform:e},typeName:Xt.ZodEffects,...ar(r)});class Wu extends Pr{_parse(t){return this._getType(t)===gt.undefined?Xa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Wu.create=(e,t)=>new Wu({innerType:e,typeName:Xt.ZodOptional,...ar(t)});class cm extends Pr{_parse(t){return this._getType(t)===gt.null?Xa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}cm.create=(e,t)=>new cm({innerType:e,typeName:Xt.ZodNullable,...ar(t)});class SN extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===gt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}SN.create=(e,t)=>new SN({innerType:e,typeName:Xt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ar(t)});class jN extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Dw(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Tc(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Tc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}jN.create=(e,t)=>new jN({innerType:e,typeName:Xt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ar(t)});class Y3 extends Pr{_parse(t){if(this._getType(t)!==gt.nan){const n=this._getOrReturnCtx(t);return st(n,{code:Ge.invalid_type,expected:gt.nan,received:n.parsedType}),Zt}return{status:"valid",value:t.data}}}Y3.create=e=>new Y3({typeName:Xt.ZodNaN,...ar(e)});class phe extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class QE extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Zt:i.status==="dirty"?(r.dirty(),Xg(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Zt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new QE({in:t,out:r,typeName:Xt.ZodPipeline})}}class NN extends Pr{_parse(t){const r=this._def.innerType._parse(t),n=s=>(im(s)&&(s.value=Object.freeze(s.value)),s);return Dw(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}NN.create=(e,t)=>new NN({innerType:e,typeName:Xt.ZodReadonly,...ar(t)});Vn.lazycreate;var Xt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Xt||(Xt={}));const Gr=uc.create;Oh.create;Lh.create;const mhe=Fw.create,ghe=am.create,vhe=wN.create;sd.create;xl.create;const Q0=Vn.create;Vn.strictCreate;$w.create;Bw.create;Mh.create;const OB=_N.create;om.create;Uw.create;Wu.create;cm.create;const ZE={string:e=>uc.create({...e,coerce:!0}),number:e=>Oh.create({...e,coerce:!0}),boolean:e=>Fw.create({...e,coerce:!0}),bigint:e=>Lh.create({...e,coerce:!0}),date:e=>am.create({...e,coerce:!0})},Z0=_de,LB=_.createContext({}),kr=({...e})=>o.jsx(LB.Provider,{value:{name:e.name},children:o.jsx(kde,{...e})}),l2=()=>{const e=_.useContext(LB),t=_.useContext(MB),{getFieldState:r,formState:n}=o2(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},MB=_.createContext({}),vr=_.forwardRef(({className:e,...t},r)=>{const n=_.useId();return o.jsx(MB.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:Me("space-y-2",e),...t})})});vr.displayName="FormItem";const yr=_.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=l2();return o.jsx(lt,{ref:r,className:Me(n&&"text-destructive",e),htmlFor:s,...t})});yr.displayName="FormLabel";const xr=_.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=l2();return o.jsx(ZI,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});xr.displayName="FormControl";const IB=_.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=l2();return o.jsx("p",{ref:r,id:n,className:Me("text-sm text-muted-foreground",e),...t})});IB.displayName="FormDescription";const Cr=_.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=l2(),a=s?String(s==null?void 0:s.message):t;return a?o.jsx("p",{ref:n,id:i,className:Me("text-sm font-medium text-destructive",e),...r,children:a}):null});Cr.displayName="FormMessage";const yhe=Q0({name:Gr().min(2,"Name must be at least 2 characters"),age:ZE.number().min(0).max(150),gender:Gr().min(1,"Please select gender"),phone:Gr().optional(),email:Gr().email().optional().or(OB("")),address:Gr().optional(),condition:Gr().optional(),status:Gr().optional(),department_id:Gr().optional(),doctor_id:Gr().optional()}),XE=({open:e,onOpenChange:t})=>{const r=sde(),{data:n}=pd(),{data:s}=qm(),i=K0({resolver:J0(yhe),defaultValues:{name:"",age:0,gender:"",phone:"",email:"",address:"",condition:"",status:"outpatient"}}),a=async l=>{await r.mutateAsync({name:l.name,age:l.age,gender:l.gender,phone:l.phone||void 0,email:l.email||void 0,address:l.address||void 0,condition:l.condition||void 0,status:l.status||void 0,department_id:l.department_id||void 0,doctor_id:l.doctor_id||void 0}),i.reset(),t(!1)};return o.jsx(Ns,{open:e,onOpenChange:t,children:o.jsxs(ds,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ks,{children:o.jsx(hs,{className:"font-heading",children:"Add New Patient"})}),o.jsx(Z0,{...i,children:o.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(kr,{control:i.control,name:"name",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Full Name *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"John Smith",...l})}),o.jsx(Cr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(kr,{control:i.control,name:"age",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Age *"}),o.jsx(xr,{children:o.jsx(ht,{type:"number",placeholder:"30",...l})}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:i.control,name:"gender",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Gender *"}),o.jsxs(Mr,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select"})})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"Male",children:"Male"}),o.jsx(He,{value:"Female",children:"Female"}),o.jsx(He,{value:"Other",children:"Other"})]})]}),o.jsx(Cr,{})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(kr,{control:i.control,name:"phone",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Phone"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"+1 234-567-8900",...l})}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:i.control,name:"email",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Email"}),o.jsx(xr,{children:o.jsx(ht,{type:"email",placeholder:"john@email.com",...l})}),o.jsx(Cr,{})]})})]}),o.jsx(kr,{control:i.control,name:"address",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Address"}),o.jsx(xr,{children:o.jsx(Eo,{placeholder:"123 Main St, City, State",...l})}),o.jsx(Cr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(kr,{control:i.control,name:"department_id",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Department"}),o.jsxs(Mr,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select department"})})}),o.jsx(Rr,{children:n==null?void 0:n.map(c=>o.jsx(He,{value:c.id,children:c.name},c.id))})]}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:i.control,name:"doctor_id",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Assigned Doctor"}),o.jsxs(Mr,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select doctor"})})}),o.jsx(Rr,{children:s==null?void 0:s.map(c=>o.jsxs(He,{value:c.id,children:[c.name," - ",c.specialty]},c.id))})]}),o.jsx(Cr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(kr,{control:i.control,name:"condition",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Condition/Diagnosis"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g., Hypertension",...l})}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:i.control,name:"status",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Status"}),o.jsxs(Mr,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select status"})})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"outpatient",children:"Outpatient"}),o.jsx(He,{value:"admitted",children:"Admitted"}),o.jsx(He,{value:"critical",children:"Critical"}),o.jsx(He,{value:"discharged",children:"Discharged"})]})]}),o.jsx(Cr,{})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(Ce,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(Ce,{type:"submit",disabled:r.isPending,children:r.isPending?"Adding...":"Add Patient"})]})]})})]})})};var $t=function(){return $t=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$t.apply(this,arguments)};function xhe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function DB(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function X0(e){return e.mode==="multiple"}function ey(e){return e.mode==="range"}function c2(e){return e.mode==="single"}var whe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function bhe(e,t){return on(e,"LLLL y",t)}function _he(e,t){return on(e,"d",t)}function She(e,t){return on(e,"LLLL",t)}function jhe(e){return"".concat(e)}function Nhe(e,t){return on(e,"cccccc",t)}function khe(e,t){return on(e,"yyyy",t)}var Che=Object.freeze({__proto__:null,formatCaption:bhe,formatDay:_he,formatMonthCaption:She,formatWeekNumber:jhe,formatWeekdayName:Nhe,formatYearCaption:khe}),Ehe=function(e,t,r){return on(e,"do MMMM (EEEE)",r)},Ahe=function(){return"Month: "},Phe=function(){return"Go to next month"},The=function(){return"Go to previous month"},Rhe=function(e,t){return on(e,"cccc",t)},Ohe=function(e){return"Week n. ".concat(e)},Lhe=function(){return"Year: "},Mhe=Object.freeze({__proto__:null,labelDay:Ehe,labelMonthDropdown:Ahe,labelNext:Phe,labelPrevious:The,labelWeekNumber:Ohe,labelWeekday:Rhe,labelYearDropdown:Lhe});function Ihe(){var e="buttons",t=whe,r=BE,n={},s={},i=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:Che,labels:Mhe,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:a,today:l,mode:"default"}}function Dhe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,a=e.toDate;return n?i=zi(n):t&&(i=new Date(t,0,1)),s?a=n2(s):r&&(a=new Date(r,11,31)),{fromDate:i?rm(i):void 0,toDate:a?rm(a):void 0}}var FB=_.createContext(void 0);function Fhe(e){var t,r=e.initialProps,n=Ihe(),s=Dhe(r),i=s.fromDate,a=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(c2(r)||X0(r)||ey(r))&&(c=r.onSelect);var u=$t($t($t({},n),r),{captionLayout:l,classNames:$t($t({},n.classNames),r.classNames),components:$t({},r.components),formatters:$t($t({},n.formatters),r.formatters),fromDate:i,labels:$t($t({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:$t($t({},n.modifiers),r.modifiers),modifiersClassNames:$t($t({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:$t($t({},n.styles),r.styles),toDate:a});return o.jsx(FB.Provider,{value:u,children:e.children})}function vn(){var e=_.useContext(FB);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function $B(e){var t=vn(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function $he(e){return o.jsx("svg",$t({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function BB(e){var t,r,n=e.onChange,s=e.value,i=e.children,a=e.caption,l=e.className,c=e.style,u=vn(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:$he;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Bhe(e){var t,r=vn(),n=r.fromDate,s=r.toDate,i=r.styles,a=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var h=[];if(Zue(n,s))for(var p=zi(n),f=n.getMonth();f<=s.getMonth();f++)h.push(v5(p,f));else for(var p=zi(new Date),f=0;f<=11;f++)h.push(v5(p,f));var v=function(x){var g=Number(x.target.value),w=v5(zi(e.displayMonth),g);e.onChange(w)},m=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:BB;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:h.map(function(x){return o.jsx("option",{value:x.getMonth(),children:l(x,{locale:a})},x.getMonth())})})}function Uhe(e){var t,r=e.displayMonth,n=vn(),s=n.fromDate,i=n.toDate,a=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,p=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var f=s.getFullYear(),v=i.getFullYear(),m=f;m<=v;m++)p.push(b3(iB(new Date),m));var x=function(w){var S=b3(zi(r),Number(w.target.value));e.onChange(S)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:BB;return o.jsx(g,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:r.getFullYear(),caption:d(r,{locale:a}),children:p.map(function(w){return o.jsx("option",{value:w.getFullYear(),children:d(w,{locale:a})},w.getFullYear())})})}function qhe(e,t){var r=_.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function zhe(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&sm(i,s)<0){var u=-1*(c-1);s=Fo(i,u)}return a&&sm(s,a)<0&&(s=a),zi(s)}function Vhe(){var e=vn(),t=zhe(e),r=qhe(t,e.month),n=r[0],s=r[1],i=function(a){var l;if(!e.disableNavigation){var c=zi(a);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function Whe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=zi(e),i=zi(Fo(s,n)),a=sm(i,s),l=[],c=0;c<a;c++){var u=Fo(s,c);l.push(u)}return r&&(l=l.reverse()),l}function Hhe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,l=zi(e);if(!r)return Fo(l,a);var c=sm(r,e);if(!(c<i))return Fo(l,a)}}function Ghe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,l=zi(e);if(!r)return Fo(l,-a);var c=sm(l,r);if(!(c<=0))return Fo(l,-a)}}var UB=_.createContext(void 0);function Yhe(e){var t=vn(),r=Vhe(),n=r[0],s=r[1],i=Whe(n,t),a=Hhe(n,t),l=Ghe(n,t),c=function(h){return i.some(function(p){return UE(h,p)})},u=function(h,p){c(h)||(p&&dB(h,p)?s(Fo(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(UB.Provider,{value:d,children:e.children})}function ty(){var e=_.useContext(UB);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function K3(e){var t,r=vn(),n=r.classNames,s=r.styles,i=r.components,a=ty().goToMonth,l=function(d){a(Fo(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:$B,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(Bhe,{onChange:l,displayMonth:e.displayMonth}),o.jsx(Uhe,{onChange:l,displayMonth:e.displayMonth})]})}function Khe(e){return o.jsx("svg",$t({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Jhe(e){return o.jsx("svg",$t({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var qw=_.forwardRef(function(e,t){var r=vn(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var a=i.join(" "),l=$t($t({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),o.jsx("button",$t({},e,{ref:t,type:"button",className:a,style:l}))});function Qhe(e){var t,r,n=vn(),s=n.dir,i=n.locale,a=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var p=u(e.previousMonth,{locale:i}),f=[a.nav_button,a.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:i}),m=[a.nav_button,a.nav_button_next].join(" "),x=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Jhe,g=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:Khe;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(qw,{name:"previous-month","aria-label":p,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?o.jsx(x,{className:a.nav_icon,style:l.nav_icon}):o.jsx(g,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(qw,{name:"next-month","aria-label":v,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?o.jsx(g,{className:a.nav_icon,style:l.nav_icon}):o.jsx(x,{className:a.nav_icon,style:l.nav_icon})})]})}function J3(e){var t=vn().numberOfMonths,r=ty(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,a=r.displayMonths,l=a.findIndex(function(v){return UE(e.displayMonth,v)}),c=l===0,u=l===a.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),p=function(){n&&i(n)},f=function(){s&&i(s)};return o.jsx(Qhe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:p,onNextClick:f})}function Zhe(e){var t,r=vn(),n=r.classNames,s=r.disableNavigation,i=r.styles,a=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:$B,u;return s?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=o.jsx(K3,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(K3,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(J3,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(J3,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:i.caption,children:u})}function Xhe(e){var t=vn(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?o.jsx("tfoot",{className:s,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function efe(e,t,r){for(var n=r?Rh(new Date):Sl(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var a=xi(n,i);s.push(a)}return s}function tfe(){var e=vn(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=efe(s,i,a);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,h){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function rfe(){var e,t=vn(),r=t.classNames,n=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:tfe;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(i,{})})}function nfe(e){var t=vn(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var eA=_.createContext(void 0);function sfe(e){if(!X0(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(eA.Provider,{value:t,children:e.children})}return o.jsx(ife,{initialProps:e.initialProps,children:e.children})}function ife(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,a=function(u,d,h){var p,f;(p=t.onDayClick)===null||p===void 0||p.call(t,u,d,h);var v=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!v){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var x=n?DB([],n):[];if(d.selected){var g=x.findIndex(function(w){return Di(u,w)});x.splice(g,1)}else x.push(u);(f=t.onSelect)===null||f===void 0||f.call(t,x,u,d,h)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,h=n.some(function(p){return Di(p,u)});return!!(d&&!h)});var c={selected:n,onDayClick:a,modifiers:l};return o.jsx(eA.Provider,{value:c,children:r})}function tA(){var e=_.useContext(eA);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function afe(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Di(s,e)&&Di(n,e)?void 0:Di(s,e)?{from:s,to:void 0}:Di(n,e)?void 0:vN(n,e)?{from:e,to:s}:{from:n,to:e}:s?vN(e,s)?{from:s,to:e}:{from:e,to:s}:n?dB(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var rA=_.createContext(void 0);function ofe(e){if(!ey(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(rA.Provider,{value:t,children:e.children})}return o.jsx(lfe,{initialProps:e.initialProps,children:e.children})}function lfe(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,a=s.to,l=t.min,c=t.max,u=function(f,v,m){var x,g;(x=t.onDayClick)===null||x===void 0||x.call(t,f,v,m);var w=afe(f,n);(g=t.onSelect)===null||g===void 0||g.call(t,w,f,v,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],Di(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),l&&(i&&!a&&d.disabled.push({after:g5(i,l-1),before:xi(i,l-1)}),i&&a&&d.disabled.push({after:i,before:xi(i,l-1)}),!i&&a&&d.disabled.push({after:g5(a,l-1),before:xi(a,l-1)})),c){if(i&&!a&&(d.disabled.push({before:xi(i,-c+1)}),d.disabled.push({after:xi(i,c-1)})),i&&a){var h=fl(a,i)+1,p=c-h;d.disabled.push({before:g5(i,p)}),d.disabled.push({after:xi(a,p)})}!i&&a&&(d.disabled.push({before:xi(a,-c+1)}),d.disabled.push({after:xi(a,c-1)}))}return o.jsx(rA.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function nA(){var e=_.useContext(rA);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function kx(e){return Array.isArray(e)?DB([],e):e!==void 0?[e]:[]}function cfe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=kx(s)}),t}var $o;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})($o||($o={}));var ufe=$o.Selected,Gl=$o.Disabled,dfe=$o.Hidden,hfe=$o.Today,w5=$o.RangeEnd,b5=$o.RangeMiddle,_5=$o.RangeStart,ffe=$o.Outside;function pfe(e,t,r){var n,s=(n={},n[ufe]=kx(e.selected),n[Gl]=kx(e.disabled),n[dfe]=kx(e.hidden),n[hfe]=[e.today],n[w5]=[],n[b5]=[],n[_5]=[],n[ffe]=[],n);return e.fromDate&&s[Gl].push({before:e.fromDate}),e.toDate&&s[Gl].push({after:e.toDate}),X0(e)?s[Gl]=s[Gl].concat(t.modifiers[Gl]):ey(e)&&(s[Gl]=s[Gl].concat(r.modifiers[Gl]),s[_5]=r.modifiers[_5],s[b5]=r.modifiers[b5],s[w5]=r.modifiers[w5]),s}var qB=_.createContext(void 0);function mfe(e){var t=vn(),r=tA(),n=nA(),s=pfe(t,r,n),i=cfe(t.modifiers),a=$t($t({},s),i);return o.jsx(qB.Provider,{value:a,children:e.children})}function zB(){var e=_.useContext(qB);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function gfe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function vfe(e){return!!(e&&typeof e=="object"&&"from"in e)}function yfe(e){return!!(e&&typeof e=="object"&&"after"in e)}function xfe(e){return!!(e&&typeof e=="object"&&"before"in e)}function wfe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function bfe(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=fl(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var a=fl(e,n)>=0&&fl(s,e)>=0;return a}return s?Di(s,e):n?Di(n,e):!1}function _fe(e){return FE(e)}function Sfe(e){return Array.isArray(e)&&e.every(FE)}function jfe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(_fe(r))return Di(e,r);if(Sfe(r))return r.includes(e);if(vfe(r))return bfe(e,r);if(wfe(r))return r.dayOfWeek.includes(e.getDay());if(gfe(r)){var n=fl(r.before,e),s=fl(r.after,e),i=n>0,a=s<0,l=vN(r.before,r.after);return l?a&&i:i||a}return yfe(r)?fl(e,r.after)>0:xfe(r)?fl(r.before,e)>0:typeof r=="function"?r(e):!1})}function sA(e,t,r){var n=Object.keys(t).reduce(function(i,a){var l=t[a];return jfe(e,l)&&i.push(a),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!UE(e,r)&&(s.outside=!0),s}function Nfe(e,t){for(var r=zi(e[0]),n=n2(e[e.length-1]),s,i,a=r;a<=n;){var l=sA(a,t),c=!l.disabled&&!l.hidden;if(!c){a=xi(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),s||(s=a),a=xi(a,1)}return i||s}var kfe=365;function VB(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,p={day:xi,week:gN,month:Fo,year:$ce,startOfWeek:function(x){return s.ISOWeek?Rh(x):Sl(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?aB(x):$E(x,{locale:h,weekStartsOn:c})}},f=p[r](e,n==="after"?1:-1);n==="before"&&u?f=Bce([u,f]):n==="after"&&d&&(f=Uce([d,f]));var v=!0;if(i){var m=sA(f,i);v=!m.disabled&&!m.hidden}return v?f:l.count>kfe?l.lastFocused:VB(f,{moveBy:r,direction:n,context:s,modifiers:i,retry:$t($t({},l),{count:l.count+1})})}var WB=_.createContext(void 0);function Cfe(e){var t=ty(),r=zB(),n=_.useState(),s=n[0],i=n[1],a=_.useState(),l=a[0],c=a[1],u=Nfe(t.displayMonths,r),d=s??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(s),i(void 0)},p=function(x){i(x)},f=vn(),v=function(x,g){if(s){var w=VB(s,{moveBy:x,direction:g,context:f,modifiers:r});Di(s,w)||(t.goToDate(w,s),p(w))}},m={focusedDay:s,focusTarget:d,blur:h,focus:p,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return o.jsx(WB.Provider,{value:m,children:e.children})}function iA(){var e=_.useContext(WB);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Efe(e,t){var r=zB(),n=sA(e,r,t);return n}var aA=_.createContext(void 0);function Afe(e){if(!c2(e.initialProps)){var t={selected:void 0};return o.jsx(aA.Provider,{value:t,children:e.children})}return o.jsx(Pfe,{initialProps:e.initialProps,children:e.children})}function Pfe(e){var t=e.initialProps,r=e.children,n=function(i,a,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,a,l),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,a,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,a,l)},s={selected:t.selected,onDayClick:n};return o.jsx(aA.Provider,{value:s,children:r})}function HB(){var e=_.useContext(aA);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Tfe(e,t){var r=vn(),n=HB(),s=tA(),i=nA(),a=iA(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,p=a.focus,f=a.focusMonthBefore,v=a.focusMonthAfter,m=a.focusYearBefore,x=a.focusYearAfter,g=a.focusStartOfWeek,w=a.focusEndOfWeek,S=function(re){var W,X,pe,ge;c2(r)?(W=n.onDayClick)===null||W===void 0||W.call(n,e,t,re):X0(r)?(X=s.onDayClick)===null||X===void 0||X.call(s,e,t,re):ey(r)?(pe=i.onDayClick)===null||pe===void 0||pe.call(i,e,t,re):(ge=r.onDayClick)===null||ge===void 0||ge.call(r,e,t,re)},k=function(re){var W;p(e),(W=r.onDayFocus)===null||W===void 0||W.call(r,e,t,re)},T=function(re){var W;h(),(W=r.onDayBlur)===null||W===void 0||W.call(r,e,t,re)},R=function(re){var W;(W=r.onDayMouseEnter)===null||W===void 0||W.call(r,e,t,re)},L=function(re){var W;(W=r.onDayMouseLeave)===null||W===void 0||W.call(r,e,t,re)},D=function(re){var W;(W=r.onDayPointerEnter)===null||W===void 0||W.call(r,e,t,re)},M=function(re){var W;(W=r.onDayPointerLeave)===null||W===void 0||W.call(r,e,t,re)},G=function(re){var W;(W=r.onDayTouchCancel)===null||W===void 0||W.call(r,e,t,re)},A=function(re){var W;(W=r.onDayTouchEnd)===null||W===void 0||W.call(r,e,t,re)},I=function(re){var W;(W=r.onDayTouchMove)===null||W===void 0||W.call(r,e,t,re)},$=function(re){var W;(W=r.onDayTouchStart)===null||W===void 0||W.call(r,e,t,re)},q=function(re){var W;(W=r.onDayKeyUp)===null||W===void 0||W.call(r,e,t,re)},te=function(re){var W;switch(re.key){case"ArrowLeft":re.preventDefault(),re.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":re.preventDefault(),re.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":re.preventDefault(),re.stopPropagation(),u();break;case"ArrowUp":re.preventDefault(),re.stopPropagation(),d();break;case"PageUp":re.preventDefault(),re.stopPropagation(),re.shiftKey?m():f();break;case"PageDown":re.preventDefault(),re.stopPropagation(),re.shiftKey?x():v();break;case"Home":re.preventDefault(),re.stopPropagation(),g();break;case"End":re.preventDefault(),re.stopPropagation(),w();break}(W=r.onDayKeyDown)===null||W===void 0||W.call(r,e,t,re)},ne={onClick:S,onFocus:k,onBlur:T,onKeyDown:te,onKeyUp:q,onMouseEnter:R,onMouseLeave:L,onPointerEnter:D,onPointerLeave:M,onTouchCancel:G,onTouchEnd:A,onTouchMove:I,onTouchStart:$};return ne}function Rfe(){var e=vn(),t=HB(),r=tA(),n=nA(),s=c2(e)?t.selected:X0(e)?r.selected:ey(e)?n.selected:void 0;return s}function Ofe(e){return Object.values($o).includes(e)}function Lfe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(Ofe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Mfe(e,t){var r=$t({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=$t($t({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function Ife(e,t,r){var n,s,i,a=vn(),l=iA(),c=Efe(e,t),u=Tfe(e,c),d=Rfe(),h=!!(a.onDayClick||a.mode!=="default");_.useEffect(function(){var R;c.outside||l.focusedDay&&h&&Di(l.focusedDay,e)&&((R=r.current)===null||R===void 0||R.focus())},[l.focusedDay,e,r,h,c.outside]);var p=Lfe(a,c).join(" "),f=Mfe(a,c),v=!!(c.outside&&!a.showOutsideDays||c.hidden),m=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:nfe,x=o.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),g={style:f,className:p,children:x,role:"gridcell"},w=l.focusTarget&&Di(l.focusTarget,e)&&!c.outside,S=l.focusedDay&&Di(l.focusedDay,e),k=$t($t($t({},g),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=S||w?0:-1,n)),u),T={isButton:h,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:k,divProps:g};return T}function Dfe(e){var t=_.useRef(null),r=Ife(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(qw,$t({name:"day",ref:t},r.buttonProps)):o.jsx("div",$t({},r.divProps))}function Ffe(e){var t=e.number,r=e.dates,n=vn(),s=n.onWeekNumberClick,i=n.styles,a=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var h=c(Number(t),{locale:l}),p=function(f){s(t,r,f)};return o.jsx(qw,{name:"week-number","aria-label":h,className:a.weeknumber,style:i.weeknumber,onClick:p,children:d})}function $fe(e){var t,r,n=vn(),s=n.styles,i=n.classNames,a=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Dfe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Ffe,d;return a&&(d=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(h){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:h})},Kue(h))})]})}function Q3(e,t,r){for(var n=r!=null&&r.ISOWeek?aB(t):$E(t,r),s=r!=null&&r.ISOWeek?Rh(e):Sl(e,r),i=fl(n,s),a=[],l=0;l<=i;l++)a.push(xi(s,l));var c=a.reduce(function(u,d){var h=r!=null&&r.ISOWeek?oB(d):cB(d,r),p=u.find(function(f){return f.weekNumber===h});return p?(p.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function Bfe(e,t){var r=Q3(zi(e),n2(e),t);if(t!=null&&t.useFixedWeeks){var n=Que(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],a=gN(i,6-n),l=Q3(gN(i,1),a,t);r.push.apply(r,l)}}return r}function Ufe(e){var t,r,n,s=vn(),i=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,p=s.firstWeekContainsDate,f=s.ISOWeek,v=Bfe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:f,locale:i,weekStartsOn:h,firstWeekContainsDate:p}),m=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:rfe,x=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:$fe,g=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Xhe;return o.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:v.map(function(w){return o.jsx(x,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),o.jsx(g,{displayMonth:e.displayMonth})]})}function qfe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var zfe=qfe()?_.useLayoutEffect:_.useEffect,S5=!1,Vfe=0;function Z3(){return"react-day-picker-".concat(++Vfe)}function Wfe(e){var t,r=e??(S5?Z3():null),n=_.useState(r),s=n[0],i=n[1];return zfe(function(){s===null&&i(Z3())},[]),_.useEffect(function(){S5===!1&&(S5=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function Hfe(e){var t,r,n=vn(),s=n.dir,i=n.classNames,a=n.styles,l=n.components,c=ty().displayMonths,u=Wfe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],p=a.month,f=e.displayIndex===0,v=e.displayIndex===c.length-1,m=!f&&!v;s==="rtl"&&(t=[f,v],v=t[0],f=t[1]),f&&(h.push(i.caption_start),p=$t($t({},p),a.caption_start)),v&&(h.push(i.caption_end),p=$t($t({},p),a.caption_end)),m&&(h.push(i.caption_between),p=$t($t({},p),a.caption_between));var x=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Zhe;return o.jsxs("div",{className:h.join(" "),style:p,children:[o.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(Ufe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Gfe(e){var t=vn(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function Yfe(e){var t,r,n=e.initialProps,s=vn(),i=iA(),a=ty(),l=_.useState(!1),c=l[0],u=l[1];_.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=$t($t({},s.styles.root),s.style),p=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,m){var x;return $t($t({},v),(x={},x[m]=n[m],x))},{}),f=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Gfe;return o.jsx("div",$t({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:o.jsx(f,{children:a.displayMonths.map(function(v,m){return o.jsx(Hfe,{displayIndex:m,displayMonth:v},m)})})}))}function Kfe(e){var t=e.children,r=xhe(e,["children"]);return o.jsx(Fhe,{initialProps:r,children:o.jsx(Yhe,{children:o.jsx(Afe,{initialProps:r,children:o.jsx(sfe,{initialProps:r,children:o.jsx(ofe,{initialProps:r,children:o.jsx(mfe,{children:o.jsx(Cfe,{children:t})})})})})})})}function Jfe(e){return o.jsx(Kfe,$t({},e,{children:o.jsx(Yfe,{initialProps:e})}))}function u2({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(Jfe,{showOutsideDays:r,className:Me("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Me(r0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Me(r0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>o.jsx(FK,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(np,{className:"h-4 w-4"})},...n})}u2.displayName="Calendar";var d2="Popover",[GB,Obe]=fs(d2,[Rm]),ry=Rm(),[Qfe,md]=GB(d2),YB=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,l=ry(t),c=_.useRef(null),[u,d]=_.useState(!1),[h,p]=Ya({prop:n,defaultProp:s??!1,onChange:i,caller:d2});return o.jsx(N8,{...l,children:o.jsx(Qfe,{scope:t,contentId:pa(),triggerRef:c,open:h,onOpenChange:p,onOpenToggle:_.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:u,onCustomAnchorAdd:_.useCallback(()=>d(!0),[]),onCustomAnchorRemove:_.useCallback(()=>d(!1),[]),modal:a,children:r})})};YB.displayName=d2;var KB="PopoverAnchor",Zfe=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=md(KB,r),i=ry(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return _.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(Lb,{...i,...n,ref:t})});Zfe.displayName=KB;var JB="PopoverTrigger",QB=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=md(JB,r),i=ry(r),a=Tt(t,s.triggerRef),l=o.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rU(s.open),...n,ref:a,onClick:dt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Lb,{asChild:!0,...i,children:l})});QB.displayName=JB;var oA="PopoverPortal",[Xfe,epe]=GB(oA,{forceMount:void 0}),ZB=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=md(oA,t);return o.jsx(Xfe,{scope:t,forceMount:r,children:o.jsx(ba,{present:r||i.open,children:o.jsx(jm,{asChild:!0,container:s,children:n})})})};ZB.displayName=oA;var um="PopoverContent",XB=_.forwardRef((e,t)=>{const r=epe(um,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=md(um,e.__scopePopover);return o.jsx(ba,{present:n||i.open,children:i.modal?o.jsx(rpe,{...s,ref:t}):o.jsx(npe,{...s,ref:t})})});XB.displayName=um;var tpe=Zu("PopoverContent.RemoveScroll"),rpe=_.forwardRef((e,t)=>{const r=md(um,e.__scopePopover),n=_.useRef(null),s=Tt(t,n),i=_.useRef(!1);return _.useEffect(()=>{const a=n.current;if(a)return Ub(a)},[]),o.jsx($0,{as:tpe,allowPinchZoom:!0,children:o.jsx(eU,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:dt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),npe=_.forwardRef((e,t)=>{const r=md(um,e.__scopePopover),n=_.useRef(!1),s=_.useRef(!1);return o.jsx(eU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),eU=_.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,p=md(um,r),f=ry(r);return mE(),o.jsx(I0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Sm,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:o.jsx(BC,{"data-state":rU(p.open),role:"dialog",id:p.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tU="PopoverClose",spe=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=md(tU,r);return o.jsx(it.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,()=>s.onOpenChange(!1))})});spe.displayName=tU;var ipe="PopoverArrow",ape=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ry(r);return o.jsx(UC,{...s,...n,ref:t})});ape.displayName=ipe;function rU(e){return e?"open":"closed"}var ope=YB,lpe=QB,cpe=ZB,nU=XB;const sU=ope,iU=lpe,lA=_.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>o.jsx(cpe,{children:o.jsx(nU,{ref:s,align:t,sideOffset:r,className:Me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));lA.displayName=nU.displayName;const upe=Q0({patient_id:Gr().min(1,"Please select a patient"),doctor_id:Gr().min(1,"Please select a doctor"),appointment_date:ghe(),appointment_time:Gr().min(1,"Please enter time"),duration:ZE.number().min(15).max(240).default(30),type:Gr().min(1,"Please select appointment type"),notes:Gr().optional()}),cA=({open:e,onOpenChange:t,selectedDate:r})=>{const n=cde(),{data:s}=Um(),{data:i}=qm(),a=K0({resolver:J0(upe),defaultValues:{patient_id:"",doctor_id:"",appointment_date:r||new Date,appointment_time:"09:00",duration:30,type:"",notes:""}}),{toast:l}=E0(),c=async d=>{var h;try{l({title:"MAYA AI Assistant",description:"Checking doctor availability and slot status...",duration:2e3}),await new Promise(f=>setTimeout(f,1500)),await n.mutateAsync({patient_id:d.patient_id,doctor_id:d.doctor_id,appointment_date:on(d.appointment_date,"yyyy-MM-dd"),appointment_time:d.appointment_time,duration:d.duration,type:d.type,notes:d.notes||void 0});const p=((h=i==null?void 0:i.find(f=>f.id===d.doctor_id))==null?void 0:h.name)||"the doctor";l({title:"Appointment Confirmed! ",description:`MAYA: I've booked your appointment with ${p} at ${d.appointment_time} on ${on(d.appointment_date,"MMM dd")}.`,className:"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800",duration:5e3}),a.reset(),t(!1)}catch{l({title:"Booking Failed",description:"MAYA: I couldn't confirm this slot. Please try another time.",variant:"destructive"})}},u=(i==null?void 0:i.filter(d=>d.available))||[];return o.jsx(Ns,{open:e,onOpenChange:t,children:o.jsxs(ds,{className:"max-w-lg",children:[o.jsx(ks,{children:o.jsx(hs,{className:"font-heading",children:"Schedule Appointment"})}),o.jsx(Z0,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-4",children:[o.jsx(kr,{control:a.control,name:"patient_id",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Patient *"}),o.jsxs(Mr,{onValueChange:d.onChange,defaultValue:d.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select patient"})})}),o.jsx(Rr,{children:s==null?void 0:s.map(h=>o.jsxs(He,{value:h.id,children:[h.name," (",h.patient_id,")"]},h.id))})]}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:a.control,name:"doctor_id",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Doctor *"}),o.jsxs(Mr,{onValueChange:d.onChange,defaultValue:d.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select doctor"})})}),o.jsx(Rr,{children:u.map(h=>o.jsxs(He,{value:h.id,children:[h.name," - ",h.specialty]},h.id))})]}),o.jsx(Cr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(kr,{control:a.control,name:"appointment_date",render:({field:d})=>o.jsxs(vr,{className:"flex flex-col",children:[o.jsx(yr,{children:"Date *"}),o.jsxs(sU,{children:[o.jsx(iU,{asChild:!0,children:o.jsx(xr,{children:o.jsxs(Ce,{variant:"outline",className:Me("pl-3 text-left font-normal",!d.value&&"text-muted-foreground"),children:[d.value?on(d.value,"PPP"):"Pick a date",o.jsx(zu,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(lA,{className:"w-auto p-0",align:"start",children:o.jsx(u2,{mode:"single",selected:d.value,onSelect:d.onChange,disabled:h=>h<new Date})})]}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:a.control,name:"appointment_time",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Time *"}),o.jsx(xr,{children:o.jsx(ht,{type:"time",...d})}),o.jsx(Cr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(kr,{control:a.control,name:"type",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Appointment Type *"}),o.jsxs(Mr,{onValueChange:d.onChange,defaultValue:d.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select type"})})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"General Checkup",children:"General Checkup"}),o.jsx(He,{value:"Follow-up",children:"Follow-up"}),o.jsx(He,{value:"Consultation",children:"Consultation"}),o.jsx(He,{value:"Emergency",children:"Emergency"}),o.jsx(He,{value:"Surgery",children:"Surgery"}),o.jsx(He,{value:"Lab Test",children:"Lab Test"})]})]}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:a.control,name:"duration",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Duration (min)"}),o.jsx(xr,{children:o.jsx(ht,{type:"number",min:15,max:240,...d})}),o.jsx(Cr,{})]})})]}),o.jsx(kr,{control:a.control,name:"notes",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Notes"}),o.jsx(xr,{children:o.jsx(Eo,{placeholder:"Additional notes...",...d})}),o.jsx(Cr,{})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(Ce,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(Ce,{type:"submit",disabled:n.isPending,children:n.isPending?"Scheduling...":"Schedule Appointment"})]})]})})]})})},X3={confirmed:"bg-success/10 text-success border-success/20",pending:"bg-warning/10 text-warning border-warning/20","in-progress":"bg-info/10 text-info border-info/20",cancelled:"bg-destructive/10 text-destructive border-destructive/20"},dpe=()=>{const e=Ks(),[t,r]=_.useState(!1),[n,s]=_.useState(!1),{data:i,isLoading:a}=Um(),{data:l,isLoading:c}=qm(),{data:u,isLoading:d}=s2(on(new Date,"yyyy-MM-dd")),{data:h,isLoading:p}=pd(),f=a||c||d||p,v=(h==null?void 0:h.reduce((T,R)=>T+R.total_beds,0))||0,m=(h==null?void 0:h.reduce((T,R)=>T+R.occupied_beds,0))||0,x=v-m,g=(l==null?void 0:l.filter(T=>T.available).length)||0,w=(u==null?void 0:u.filter(T=>T.status==="pending").length)||0,S=T=>{const[R,L]=T.split(":"),D=parseInt(R),M=D>=12?"PM":"AM";return`${D%12||12}:${L} ${M}`},k=[{icon:AC,label:"Add Patient",description:"Register new patient",color:"bg-primary/10 text-primary hover:bg-primary/20",onClick:()=>r(!0)},{icon:TD,label:"New Appointment",description:"Schedule appointment",color:"bg-info/10 text-info hover:bg-info/20",onClick:()=>s(!0)},{icon:jc,label:"Bed Management",description:"Manage bed allocation",color:"bg-success/10 text-success hover:bg-success/20",onClick:()=>e("/beds")},{icon:Sj,label:"Prescriptions",description:"Write prescription",color:"bg-warning/10 text-warning hover:bg-warning/20",onClick:()=>{}},{icon:Ua,label:"Lab Reports",description:"View lab results",color:"bg-secondary text-secondary-foreground hover:bg-secondary/80",onClick:()=>e("/reports")},{icon:SC,label:"Discharge",description:"Process discharge",color:"bg-accent text-accent-foreground hover:bg-accent/80",onClick:()=>{}}];return f?o.jsx(Mn,{title:"Dashboard",subtitle:"Loading...",children:o.jsx("div",{className:"flex items-center justify-center py-24",children:o.jsx(kc,{className:"w-8 h-8 animate-spin text-primary"})})}):o.jsxs(Mn,{title:"Dashboard",subtitle:"Welcome back! Here's an overview of your hospital.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx(Si,{title:"Total Patients",value:(i==null?void 0:i.length)||0,change:`${(i==null?void 0:i.filter(T=>T.status==="admitted").length)||0} currently admitted`,changeType:"neutral",icon:za,iconColor:"primary"}),o.jsx(Si,{title:"Today's Appointments",value:(u==null?void 0:u.length)||0,change:`${w} pending confirmation`,changeType:"neutral",icon:PD,iconColor:"info"}),o.jsx(Si,{title:"Available Beds",value:x,change:`Out of ${v} total`,changeType:"neutral",icon:jc,iconColor:"success"}),o.jsx(Si,{title:"Active Doctors",value:g,change:`${((l==null?void 0:l.length)||0)-g} on leave`,changeType:"neutral",icon:qi,iconColor:"warning"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:[o.jsxs("div",{className:"p-6 border-b border-border",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Today's Appointments"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[(u==null?void 0:u.length)||0," appointments scheduled"]})]}),o.jsx("div",{className:"divide-y divide-border max-h-[400px] overflow-y-auto",children:(u==null?void 0:u.length)===0?o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No appointments scheduled for today."}):u==null?void 0:u.slice(0,5).map(T=>{var R,L,D,M;return o.jsxs("div",{className:"p-4 hover:bg-muted/50 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Io,{className:"w-10 h-10",children:o.jsx(Do,{className:"bg-secondary text-secondary-foreground text-sm font-medium",children:((L=(R=T.patients)==null?void 0:R.name)==null?void 0:L.split(" ").map(G=>G[0]).join(""))||"?"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:((D=T.patients)==null?void 0:D.name)||"Unknown"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(qi,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:((M=T.doctors)==null?void 0:M.name)||"Unknown"})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm text-foreground",children:[o.jsx(va,{className:"w-3 h-3"}),S(T.appointment_time)]}),o.jsx(zt,{variant:"outline",className:Me("mt-1 capitalize",X3[T.status]||X3.pending),children:T.status})]})]}),o.jsx("div",{className:"mt-2",children:o.jsx(zt,{variant:"secondary",className:"text-xs",children:T.type})})]},T.id)})}),o.jsx("div",{className:"p-4 border-t border-border",children:o.jsx("button",{className:"w-full text-center text-sm font-medium text-primary hover:text-primary/80 transition-colors",onClick:()=>e("/appointments"),children:"View All Appointments "})})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 p-6 animate-fade-in",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground mb-4",children:"Quick Actions"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-2 gap-3",children:k.map(T=>o.jsxs(Ce,{variant:"ghost",className:`h-auto flex-col items-center gap-2 p-4 ${T.color} transition-all duration-200`,onClick:T.onClick,children:[o.jsx(T.icon,{className:"w-6 h-6"}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium",children:T.label}),o.jsx("p",{className:"text-xs opacity-70",children:T.description})]})]},T.label))})]}),o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:[o.jsxs("div",{className:"p-6 border-b border-border",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Department Status"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Current occupancy"})]}),o.jsx("div",{className:"p-4 space-y-4 max-h-[300px] overflow-y-auto",children:h==null?void 0:h.slice(0,5).map(T=>{const R=T.total_beds>0?Math.round(T.occupied_beds/T.total_beds*100):0;return o.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(mh,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:T.name}),o.jsx("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-0.5",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(No,{className:"w-3 h-3"}),T.doctors_count," doctors"]})})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[T.occupied_beds,o.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["/",T.total_beds]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"beds"})]})]}),o.jsx(i2,{value:R,className:Me("h-2",R>80&&"[&>div]:bg-warning",R>90&&"[&>div]:bg-destructive")})]},T.id)})})]})]})]}),o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:[o.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Recent Patients"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Recently registered patients"})]}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>e("/patients"),children:"View All"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Patient"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Condition"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Room"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Status"})]})}),o.jsxs("tbody",{className:"divide-y divide-border",children:[i==null?void 0:i.slice(0,4).map(T=>o.jsxs("tr",{className:"hover:bg-muted/30 transition-colors duration-200",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Io,{className:"w-10 h-10",children:o.jsx(Do,{className:"bg-secondary text-secondary-foreground text-sm font-medium",children:T.name.split(" ").map(R=>R[0]).join("")})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:T.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.age," yrs, ",T.gender]})]})]})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-foreground",children:T.condition||""})}),o.jsx("td",{className:"p-4",children:T.room?o.jsx(zt,{variant:"secondary",className:"font-mono",children:T.room}):""}),o.jsx("td",{className:"p-4",children:o.jsx(zt,{variant:"outline",className:Me(T.status==="stable"&&"bg-success/10 text-success border-success/20",T.status==="admitted"&&"bg-info/10 text-info border-info/20",T.status==="critical"&&"bg-destructive/10 text-destructive border-destructive/20",T.status==="outpatient"&&"bg-success/10 text-success border-success/20"),children:T.status})})]},T.id)),(!i||i.length===0)&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"p-8 text-center text-muted-foreground",children:"No patients yet. Add your first patient to get started."})})]})]})})]}),o.jsx(XE,{open:t,onOpenChange:r}),o.jsx(cA,{open:n,onOpenChange:s})]})};var aU="AlertDialog",[hpe,Lbe]=fs(aU,[J7]),Mc=J7(),oU=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mc(t);return o.jsx(xE,{...n,...r,modal:!0})};oU.displayName=aU;var fpe="AlertDialogTrigger",lU=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mc(r);return o.jsx(wE,{...s,...n,ref:t})});lU.displayName=fpe;var ppe="AlertDialogPortal",cU=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mc(t);return o.jsx(bE,{...n,...r})};cU.displayName=ppe;var mpe="AlertDialogOverlay",uU=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mc(r);return o.jsx(q0,{...s,...n,ref:t})});uU.displayName=mpe;var xp="AlertDialogContent",[gpe,vpe]=hpe(xp),ype=eD("AlertDialogContent"),dU=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Mc(r),a=_.useRef(null),l=Tt(t,a),c=_.useRef(null);return o.jsx(Lae,{contentName:xp,titleName:hU,docsSlug:"alert-dialog",children:o.jsx(gpe,{scope:r,cancelRef:c,children:o.jsxs(z0,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:dt(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(ype,{children:n}),o.jsx(wpe,{contentRef:a})]})})})});dU.displayName=xp;var hU="AlertDialogTitle",fU=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mc(r);return o.jsx(V0,{...s,...n,ref:t})});fU.displayName=hU;var pU="AlertDialogDescription",mU=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mc(r);return o.jsx(W0,{...s,...n,ref:t})});mU.displayName=pU;var xpe="AlertDialogAction",gU=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mc(r);return o.jsx(Gb,{...s,...n,ref:t})});gU.displayName=xpe;var vU="AlertDialogCancel",yU=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=vpe(vU,r),i=Mc(r),a=Tt(t,s);return o.jsx(Gb,{...i,...n,ref:a})});yU.displayName=vU;var wpe=({contentRef:e})=>{const t=`\`${xp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${xp}\` by passing a \`${pU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${xp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},bpe=oU,_pe=lU,Spe=cU,xU=uU,wU=dU,bU=gU,_U=yU,SU=fU,jU=mU;const zm=bpe,NU=_pe,jpe=Spe,kU=_.forwardRef(({className:e,...t},r)=>o.jsx(xU,{className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));kU.displayName=xU.displayName;const Jh=_.forwardRef(({className:e,...t},r)=>o.jsxs(jpe,{children:[o.jsx(kU,{}),o.jsx(wU,{ref:r,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Jh.displayName=wU.displayName;const Qh=({className:e,...t})=>o.jsx("div",{className:Me("flex flex-col space-y-2 text-center sm:text-left",e),...t});Qh.displayName="AlertDialogHeader";const Zh=({className:e,...t})=>o.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zh.displayName="AlertDialogFooter";const Xh=_.forwardRef(({className:e,...t},r)=>o.jsx(SU,{ref:r,className:Me("text-lg font-semibold",e),...t}));Xh.displayName=SU.displayName;const ef=_.forwardRef(({className:e,...t},r)=>o.jsx(jU,{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));ef.displayName=jU.displayName;const tf=_.forwardRef(({className:e,...t},r)=>o.jsx(bU,{ref:r,className:Me(r0(),e),...t}));tf.displayName=bU.displayName;const rf=_.forwardRef(({className:e,...t},r)=>o.jsx(_U,{ref:r,className:Me(r0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));rf.displayName=_U.displayName;var j5="rovingFocusGroup.onEntryFocus",Npe={bubbles:!1,cancelable:!0},ny="RovingFocusGroup",[kN,CU,kpe]=_m(ny),[Cpe,EU]=fs(ny,[kpe]),[Epe,Ape]=Cpe(ny),AU=_.forwardRef((e,t)=>o.jsx(kN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(kN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ppe,{...e,ref:t})})}));AU.displayName=ny;var Ppe=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=_.useRef(null),f=Tt(t,p),v=dd(i),[m,x]=Ya({prop:a,defaultProp:l??null,onChange:c,caller:ny}),[g,w]=_.useState(!1),S=an(u),k=CU(r),T=_.useRef(!1),[R,L]=_.useState(0);return _.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(j5,S),()=>D.removeEventListener(j5,S)},[S]),o.jsx(Epe,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:_.useCallback(D=>x(D),[x]),onItemShiftTab:_.useCallback(()=>w(!0),[]),onFocusableItemAdd:_.useCallback(()=>L(D=>D+1),[]),onFocusableItemRemove:_.useCallback(()=>L(D=>D-1),[]),children:o.jsx(it.div,{tabIndex:g||R===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{T.current=!0}),onFocus:dt(e.onFocus,D=>{const M=!T.current;if(D.target===D.currentTarget&&M&&!g){const G=new CustomEvent(j5,Npe);if(D.currentTarget.dispatchEvent(G),!G.defaultPrevented){const A=k().filter(ne=>ne.focusable),I=A.find(ne=>ne.active),$=A.find(ne=>ne.id===m),te=[I,$,...A].filter(Boolean).map(ne=>ne.ref.current);RU(te,d)}}T.current=!1}),onBlur:dt(e.onBlur,()=>w(!1))})})}),PU="RovingFocusGroupItem",TU=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=pa(),u=i||c,d=Ape(PU,r),h=d.currentTabStopId===u,p=CU(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return _.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),o.jsx(kN.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(it.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:dt(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:dt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:dt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=Ope(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(k=>k.focusable).map(k=>k.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const k=S.indexOf(x.currentTarget);S=d.loop?Lpe(S,k+1):S.slice(k+1)}setTimeout(()=>RU(S))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:m!=null}):a})})});TU.displayName=PU;var Tpe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Rpe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ope(e,t,r){const n=Rpe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Tpe[n]}function RU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Lpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Mpe=AU,Ipe=TU,h2="Tabs",[Dpe,Mbe]=fs(h2,[EU]),OU=EU(),[Fpe,uA]=Dpe(h2),LU=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=dd(l),[h,p]=Ya({prop:n,onChange:s,defaultProp:i??"",caller:h2});return o.jsx(Fpe,{scope:r,baseId:pa(),value:h,onValueChange:p,orientation:a,dir:d,activationMode:c,children:o.jsx(it.div,{dir:d,"data-orientation":a,...u,ref:t})})});LU.displayName=h2;var MU="TabsList",IU=_.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=uA(MU,r),a=OU(r);return o.jsx(Mpe,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(it.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});IU.displayName=MU;var DU="TabsTrigger",FU=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=uA(DU,r),l=OU(r),c=UU(a.baseId,n),u=qU(a.baseId,n),d=n===a.value;return o.jsx(Ipe,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(it.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:dt(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:dt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:dt(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(n)})})})});FU.displayName=DU;var $U="TabsContent",BU=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,l=uA($U,r),c=UU(l.baseId,n),u=qU(l.baseId,n),d=n===l.value,h=_.useRef(d);return _.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(ba,{present:s||d,children:({present:p})=>o.jsx(it.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});BU.displayName=$U;function UU(e,t){return`${e}-trigger-${t}`}function qU(e,t){return`${e}-content-${t}`}var $pe=LU,zU=IU,VU=FU,WU=BU;const gd=$pe,Ic=_.forwardRef(({className:e,...t},r)=>o.jsx(zU,{ref:r,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ic.displayName=zU.displayName;const mn=_.forwardRef(({className:e,...t},r)=>o.jsx(VU,{ref:r,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));mn.displayName=VU.displayName;const gn=_.forwardRef(({className:e,...t},r)=>o.jsx(WU,{ref:r,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));gn.displayName=WU.displayName;const Bpe=({patient:e,open:t,onOpenChange:r})=>{if(!e)return null;const n=()=>{qe.success("Downloading patient records...",{description:"The PDF file will be downloaded shortly."}),setTimeout(()=>{qe.info("Download Complete",{description:`${e.name}_records.pdf saved.`})},1500)};return o.jsx(Ns,{open:t,onOpenChange:r,children:o.jsxs(ds,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ks,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx(hs,{className:"text-2xl font-bold",children:e.name}),o.jsxs(Gs,{className:"mt-1 flex items-center gap-2",children:[o.jsxs("span",{children:["ID: ",e.patient_id]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[e.age," yrs, ",e.gender]}),o.jsx("span",{children:""}),o.jsx(zt,{variant:"outline",children:e.status})]})]}),o.jsxs(Ce,{onClick:n,children:[o.jsx(OD,{className:"w-4 h-4 mr-2"}),"Download Records"]})]})}),o.jsxs(gd,{defaultValue:"overview",className:"mt-6",children:[o.jsxs(Ic,{children:[o.jsx(mn,{value:"overview",children:"Overview"}),o.jsx(mn,{value:"reports",children:"Medical Reports"}),o.jsx(mn,{value:"prescriptions",children:"Prescriptions"}),o.jsx(mn,{value:"billing",children:"Billing & Payments"})]}),o.jsx(gn,{value:"overview",className:"space-y-4 mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(vt,{children:[o.jsx(Bt,{className:"pb-2",children:o.jsxs(Lt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(Ro,{className:"w-4 h-4"})," Current Condition"]})}),o.jsxs(Et,{children:[o.jsx("p",{className:"text-lg font-semibold",children:e.condition||"Not recorded"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Admitted: ",e.admission_date?on(new Date(e.admission_date),"PPP"):"N/A"]})]})]}),o.jsxs(vt,{children:[o.jsx(Bt,{className:"pb-2",children:o.jsxs(Lt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(va,{className:"w-4 h-4"})," Vitals"]})}),o.jsx(Et,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsx("div",{children:"BP: 120/80"}),o.jsx("div",{children:"Pulse: 72 bpm"}),o.jsx("div",{children:"Temp: 98.6F"}),o.jsx("div",{children:"SpO2: 98%"})]})})]})]})}),o.jsx(gn,{value:"reports",className:"mt-4",children:o.jsx(yp,{className:"h-[300px] border rounded-md p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(Ua,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Blood Test Report (CBC)"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Jan 15, 2026"})]})]}),o.jsx(Ce,{variant:"ghost",size:"sm",children:"View"})]}),o.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No more reports found."})]})})}),o.jsx(gn,{value:"prescriptions",className:"mt-4",children:o.jsx(yp,{className:"h-[300px] border rounded-md p-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("h4",{className:"font-semibold",children:"General Medication"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Jan 16, 2026"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Sj,{className:"w-4 h-4 text-primary"}),o.jsx("span",{children:"Paracetamol 500mg - 1-0-1 (3 days)"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Sj,{className:"w-4 h-4 text-primary"}),o.jsx("span",{children:"Amoxicillin 250mg - 1-0-1 (5 days)"})]})]})]})})})}),o.jsx(gn,{value:"billing",className:"mt-4",children:o.jsx(yp,{className:"h-[300px] border rounded-md p-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-green-50/50 border-green-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx(dw,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Advance Payment"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Jan 14, 2026  Receipt #10234"})]})]}),o.jsx("p",{className:"font-bold text-green-700",children:" 10,000"})]})})})})]})]})})},Upe=Q0({patient_id:Gr().min(1,"Patient is required"),report_type:Gr().min(1,"Report type is required"),title:Gr().min(3,"Title is required"),description:Gr().optional(),file:vhe().optional()}),dA=({open:e,onOpenChange:t,patientId:r,patientName:n,defaultType:s="lab"})=>{const{toast:i}=E0(),[a,l]=_.useState(!1),c=K0({resolver:J0(Upe),defaultValues:{patient_id:r||"",report_type:s,title:"",description:"",file:null}}),u=Qr({mutationFn:async h=>{var f;const{error:p}=await Be.from("medical_reports").insert({patient_id:h.patient_id,report_type:h.report_type,title:h.title,description:h.description,file_url:"https://example.com/mock-report.pdf",uploaded_by:(f=(await Be.auth.getUser()).data.user)==null?void 0:f.id});if(p){if(p.code==="42P01"){console.warn("Table medical_reports does not exist, mocking success"),await new Promise(v=>setTimeout(v,1e3));return}throw p}},onSuccess:()=>{i({title:"Upload Successful",description:"The medical report has been added to patient records.",className:"bg-green-50 border-green-200"}),t(!1),c.reset()},onError:h=>{console.error(h),i({title:"Upload Successful (Simulation)",description:"Report metadata saved locally."}),t(!1)}}),d=h=>{l(!0),setTimeout(()=>{u.mutate(h),l(!1)},1e3)};return o.jsx(Ns,{open:e,onOpenChange:t,children:o.jsxs(ds,{className:"sm:max-w-[500px]",children:[o.jsxs(ks,{children:[o.jsx(hs,{children:"Upload Medical Record"}),o.jsxs(Gs,{children:["Upload reports, prescriptions, or payment receipts for ",n||"patient","."]})]}),o.jsx(Z0,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[!r&&o.jsx(kr,{control:c.control,name:"patient_id",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Patient ID"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Enter Patient ID",...h})}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:c.control,name:"report_type",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Record Type"}),o.jsxs(Mr,{onValueChange:h.onChange,defaultValue:h.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select Type"})})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"lab",children:"Lab Report"}),o.jsx(He,{value:"prescription",children:"Prescription"}),o.jsx(He,{value:"imaging",children:"X-Ray / MRI"}),o.jsx(He,{value:"bill",children:"Payment Receipt"}),o.jsx(He,{value:"insurance",children:"Insurance Document"}),o.jsx(He,{value:"other",children:"Other"})]})]}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:c.control,name:"title",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Title"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g. Blood Test CBC",...h})}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:c.control,name:"description",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Description (Optional)"}),o.jsx(xr,{children:o.jsx(Eo,{placeholder:"Additional details...",...h})}),o.jsx(Cr,{})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Attachment"}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center bg-muted/20 hover:bg-muted/40 transition-colors cursor-pointer text-muted-foreground",children:[o.jsx(fw,{className:"w-8 h-8 mb-2"}),o.jsx("span",{className:"text-sm",children:"Click to select file"})]})]}),o.jsx(Ce,{type:"submit",className:"w-full",disabled:a||u.isPending,children:a?"Uploading...":"Upload Document"})]})})]})})},eR={admitted:"bg-info/10 text-info border-info/20",outpatient:"bg-success/10 text-success border-success/20",critical:"bg-destructive/10 text-destructive border-destructive/20",discharged:"bg-muted text-muted-foreground border-muted"},qpe=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(""),[s,i]=_.useState("all"),[a,l]=_.useState(null),[c,u]=_.useState(null),[d,h]=_.useState(!1),[p,f]=_.useState(!1),{data:v,isLoading:m}=Um(),x=ide(),g=v==null?void 0:v.filter(S=>{var R;const k=S.name.toLowerCase().includes(r.toLowerCase())||S.patient_id.toLowerCase().includes(r.toLowerCase())||((R=S.condition)==null?void 0:R.toLowerCase().includes(r.toLowerCase())),T=s==="all"||S.status===s;return k&&T}),w=async()=>{a&&(await x.mutateAsync(a),l(null))};return o.jsxs(Mn,{title:"Patients",subtitle:"Manage patient records and information",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(jl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search patients by name, ID, or condition...",className:"pl-10",value:r,onChange:S=>n(S.target.value)})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Mr,{value:s,onValueChange:i,children:[o.jsx(Tr,{className:"w-40",children:o.jsx(Ir,{placeholder:"Status"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Status"}),o.jsx(He,{value:"admitted",children:"Admitted"}),o.jsx(He,{value:"outpatient",children:"Outpatient"}),o.jsx(He,{value:"critical",children:"Critical"}),o.jsx(He,{value:"discharged",children:"Discharged"})]})]}),o.jsxs(Ce,{onClick:()=>t(!0),children:[o.jsx(T0,{className:"w-4 h-4 mr-2"}),"Add Patient"]})]})]}),o.jsx("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:m?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(kc,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Patient"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"ID"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Contact"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Condition"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Room"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Status"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:(g==null?void 0:g.length)===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"p-8 text-center text-muted-foreground",children:"No patients found. Add your first patient to get started."})}):g==null?void 0:g.map(S=>o.jsxs("tr",{className:"hover:bg-muted/30 transition-colors duration-200",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Io,{className:"w-10 h-10",children:o.jsx(Do,{className:"bg-secondary text-secondary-foreground text-sm font-medium",children:S.name.split(" ").map(k=>k[0]).join("")})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:S.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.age," yrs, ",S.gender]})]})]})}),o.jsx("td",{className:"p-4",children:o.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:S.patient_id})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-sm text-foreground",children:S.phone||""})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-foreground",children:S.condition||""})}),o.jsx("td",{className:"p-4",children:S.room?o.jsx(zt,{variant:"secondary",className:"font-mono",children:S.room}):""}),o.jsx("td",{className:"p-4",children:o.jsx(zt,{variant:"outline",className:eR[S.status]||eR.outpatient,children:S.status})}),o.jsx("td",{className:"p-4",children:o.jsxs(td,{children:[o.jsx(rd,{asChild:!0,children:o.jsx(Ce,{variant:"ghost",size:"icon",children:o.jsx(_j,{className:"w-4 h-4"})})}),o.jsxs(Pc,{align:"end",children:[o.jsxs(fn,{onClick:()=>{u(S),f(!0)},children:[o.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Upload Record"]}),o.jsxs(fn,{onClick:()=>{u(S),h(!0)},children:[o.jsx(Ua,{className:"w-4 h-4 mr-2"}),"View Records"]}),o.jsx(fn,{children:"Edit Details"}),S.phone&&o.jsxs(fn,{onClick:()=>window.open(`tel:${S.phone}`),children:[o.jsx(qa,{className:"w-4 h-4 mr-2"}),"Call"]}),S.email&&o.jsxs(fn,{onClick:()=>window.open(`mailto:${S.email}`),children:[o.jsx(Ab,{className:"w-4 h-4 mr-2"}),"Email"]}),o.jsxs(fn,{className:"text-destructive",onClick:()=>l(S.id),children:[o.jsx(Cm,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},S.id))})]})}),o.jsx("div",{className:"p-4 border-t border-border flex items-center justify-between",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(g==null?void 0:g.length)||0," of ",(v==null?void 0:v.length)||0," patients"]})})]})}),o.jsx(XE,{open:e,onOpenChange:t}),o.jsx(Bpe,{open:d,onOpenChange:h,patient:c}),o.jsx(dA,{open:p,onOpenChange:f,patientId:c==null?void 0:c.id,patientName:c==null?void 0:c.name}),o.jsx(zm,{open:!!a,onOpenChange:()=>l(null),children:o.jsxs(Jh,{children:[o.jsxs(Qh,{children:[o.jsx(Xh,{children:"Delete Patient"}),o.jsx(ef,{children:"Are you sure you want to delete this patient? This action cannot be undone."})]}),o.jsxs(Zh,{children:[o.jsx(rf,{children:"Cancel"}),o.jsx(tf,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};var f2="Switch",[zpe,Ibe]=fs(f2),[Vpe,Wpe]=zpe(f2),HU=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[p,f]=_.useState(null),v=Tt(t,S=>f(S)),m=_.useRef(!1),x=p?d||!!p.closest("form"):!0,[g,w]=Ya({prop:s,defaultProp:i??!1,onChange:u,caller:f2});return o.jsxs(Vpe,{scope:r,checked:g,disabled:l,children:[o.jsx(it.button,{type:"button",role:"switch","aria-checked":g,"aria-required":a,"data-state":JU(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:dt(e.onClick,S=>{w(k=>!k),x&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),x&&o.jsx(KU,{control:p,bubbles:!m.current,name:n,value:c,checked:g,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});HU.displayName=f2;var GU="SwitchThumb",YU=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Wpe(GU,r);return o.jsx(it.span,{"data-state":JU(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});YU.displayName=GU;var Hpe="SwitchBubbleInput",KU=_.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=_.useRef(null),l=Tt(a,i),c=_E(r),u=Ob(t);return _.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const v=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(v)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});KU.displayName=Hpe;function JU(e){return e?"checked":"unchecked"}var QU=HU,Gpe=YU;const wp=_.forwardRef(({className:e,...t},r)=>o.jsx(QU,{className:Me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(Gpe,{className:Me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wp.displayName=QU.displayName;const Ype=Q0({name:Gr().min(2,"Name must be at least 2 characters"),specialty:Gr().min(1,"Please enter specialty"),experience:Gr().optional(),phone:Gr().optional(),email:Gr().email().optional().or(OB("")),available:mhe().default(!0),department_id:Gr().optional()}),Kpe=({open:e,onOpenChange:t})=>{const r=ade(),{data:n}=pd(),s=K0({resolver:J0(Ype),defaultValues:{name:"",specialty:"",experience:"",phone:"",email:"",available:!0}}),i=async a=>{await r.mutateAsync({name:a.name,specialty:a.specialty,experience:a.experience||void 0,phone:a.phone||void 0,email:a.email||void 0,available:a.available,department_id:a.department_id||void 0}),s.reset(),t(!1)};return o.jsx(Ns,{open:e,onOpenChange:t,children:o.jsxs(ds,{className:"max-w-lg",children:[o.jsx(ks,{children:o.jsx(hs,{className:"font-heading",children:"Add New Doctor"})}),o.jsx(Z0,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[o.jsx(kr,{control:s.control,name:"name",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Full Name *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Dr. John Smith",...a})}),o.jsx(Cr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(kr,{control:s.control,name:"specialty",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Specialty *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Cardiology",...a})}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:s.control,name:"experience",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Experience"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"10 years",...a})}),o.jsx(Cr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(kr,{control:s.control,name:"phone",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Phone"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"+1 234-567-8900",...a})}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:s.control,name:"email",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Email"}),o.jsx(xr,{children:o.jsx(ht,{type:"email",placeholder:"doctor@hospital.com",...a})}),o.jsx(Cr,{})]})})]}),o.jsx(kr,{control:s.control,name:"department_id",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Department"}),o.jsxs(Mr,{onValueChange:a.onChange,defaultValue:a.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select department"})})}),o.jsx(Rr,{children:n==null?void 0:n.map(l=>o.jsx(He,{value:l.id,children:l.name},l.id))})]}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:s.control,name:"available",render:({field:a})=>o.jsxs(vr,{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(yr,{className:"text-base",children:"Available"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Doctor is available for appointments"})]}),o.jsx(xr,{children:o.jsx(wp,{checked:a.value,onCheckedChange:a.onChange})})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(Ce,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(Ce,{type:"submit",disabled:r.isPending,children:r.isPending?"Adding...":"Add Doctor"})]})]})})]})})},ZU=({open:e,onOpenChange:t,action:r})=>{const{user:n}=li(),[s,i]=_.useState(""),[a,l]=_.useState(!1),c=async()=>{if(!s.trim()){qe.error("Please provide a reason for this request");return}l(!0);try{const{data:u,error:d}=await Be.from("user_roles").select("user_id").eq("role","admin");if(d)throw d;if(!u||u.length===0)throw new Error("No administrators found to receive this request.");const h=u.map(f=>({user_id:f.user_id,title:"Permission Request",message:`${(n==null?void 0:n.email)||"A user"} requests to ${r}. Reason: ${s}`,type:"permission_request",entity_type:"request",entity_id:n==null?void 0:n.id,is_read:!1})),{error:p}=await Be.from("notifications").insert(h);if(p)throw p;qe.success("Permission request sent to Admin",{description:`Request to ${r} has been forwarded for approval.`}),t(!1),i("")}catch(u){console.error("Request failed:",u),qe.error("Failed to send request",{description:u.message})}finally{l(!1)}};return o.jsx(Ns,{open:e,onOpenChange:t,children:o.jsxs(ds,{className:"sm:max-w-[425px]",children:[o.jsxs(ks,{children:[o.jsxs(hs,{className:"flex items-center gap-2 text-amber-600",children:[o.jsx(LD,{className:"w-5 h-5"}),"Restricted Action"]}),o.jsxs(Gs,{children:["You do not have permission to ",o.jsx("strong",{children:r}),". You can request approval from an administrator."]})]}),o.jsx("div",{className:"grid gap-4 py-4",children:o.jsx(Eo,{placeholder:"Why is this change necessary?",value:s,onChange:u=>i(u.target.value),className:"min-h-[100px]"})}),o.jsxs(Fm,{children:[o.jsx(Ce,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(Ce,{onClick:c,disabled:a,className:"bg-amber-600 hover:bg-amber-700",children:a?"Sending Request...":"Request Approval"})]})]})})},Jpe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],tR=Array.from({length:24},(e,t)=>{const r=t%12||12,n=t<12?"AM":"PM";return`${r}:00 ${n}`}),Qpe=({open:e,onOpenChange:t,doctor:r})=>{const[n,s]=_.useState(!1),i=ode(),{user:a}=li(),[l,c]=_.useState(null),[u,d]=_.useState(!1),[h,p]=_.useState(["Monday","Tuesday","Wednesday","Thursday","Friday"]),[f,v]=_.useState("9:00 AM"),[m,x]=_.useState("5:00 PM"),[g,w]=_.useState(!0);_.useEffect(()=>{if(r)if(w(r.available),r.schedule)try{const L=typeof r.schedule=="string"?JSON.parse(r.schedule):r.schedule;L.start&&v(L.start),L.end&&x(L.end),L.days&&p(L.days)}catch{S()}else S();k()},[r,a]);const S=()=>{v("9:00 AM"),x("5:00 PM"),p(["Monday","Tuesday","Wednesday","Thursday","Friday"])},k=async()=>{if(!a)return;const{data:L}=await Be.from("user_roles").select("role").eq("user_id",a.id).maybeSingle();L&&c(L.role)},T=L=>{h.includes(L)?p(h.filter(D=>D!==L)):p([...h,L])},R=async()=>{if(r){if(l==="receptionist"){d(!0);return}s(!0);try{const L={days:h,start:f,end:m};console.log("Saving schedule:",L),await i.mutateAsync({id:r.id,available:g,schedule:L}),qe.success("Schedule updated successfully",{description:`Updated availability for ${r.name}`}),t(!1)}catch(L){console.error("Update failed:",L);const D=L.message||"Failed to update schedule";if(l!=="receptionist")try{await i.mutateAsync({id:r.id,available:g}),qe.warning("Availability updated, but detailed schedule could not be saved.",{description:"The database may not yet support detailed schedules."}),t(!1);return}catch(M){console.error("Retry failed:",M)}D.includes("permission")||D.includes("policy")?qe.error("You do not have permission to perform this action."):qe.error(D)}finally{s(!1)}}};return o.jsxs(o.Fragment,{children:[o.jsx(Ns,{open:e,onOpenChange:t,children:o.jsxs(ds,{className:"sm:max-w-[500px]",children:[o.jsxs(ks,{children:[o.jsxs(hs,{className:"flex items-center gap-2",children:[o.jsx(va,{className:"w-5 h-5 text-primary"}),"Set Availability Schedule"]}),o.jsxs(Gs,{children:["Configure the weekly availability for ",o.jsx("strong",{children:r==null?void 0:r.name}),"."]})]}),o.jsxs("div",{className:"grid gap-6 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between space-x-2 border p-3 rounded-lg",children:[o.jsxs(lt,{htmlFor:"available-mode",className:"flex flex-col space-y-1",children:[o.jsx("span",{className:"font-medium",children:"Currently Available"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Toggle global availability status."})]}),o.jsx(wp,{id:"available-mode",checked:g,onCheckedChange:w})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(lt,{children:"Working Days"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Jpe.map(L=>o.jsx("div",{onClick:()=>T(L),className:`
                                            cursor-pointer px-3 py-1.5 rounded-full text-xs font-medium transition-colors border
                                            ${h.includes(L)?"bg-primary text-primary-foreground border-primary":"bg-muted text-muted-foreground border-transparent hover:bg-muted/80"}
                                        `,children:L.slice(0,3)},L))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Start Time"}),o.jsxs(Mr,{value:f,onValueChange:v,children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsx(Rr,{children:tR.map(L=>o.jsx(He,{value:L,children:L},`start-${L}`))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"End Time"}),o.jsxs(Mr,{value:m,onValueChange:x,children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsx(Rr,{children:tR.map(L=>o.jsx(He,{value:L,children:L},`end-${L}`))})]})]})]})]}),o.jsxs(Fm,{children:[o.jsx(Ce,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(Ce,{onClick:R,disabled:n,children:n?"Saving...":"Save Schedule"})]})]})}),o.jsx(ZU,{open:u,onOpenChange:L=>{d(L),L||t(!1)},action:`update schedule for Dr. ${r==null?void 0:r.name}`})]})},Zpe=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[s,i]=_.useState(null),[a,l]=_.useState(""),[c,u]=_.useState("all"),[d,h]=_.useState(null),{data:p,isLoading:f}=qm(),v=lde(),m=p==null?void 0:p.filter(w=>{const S=w.name.toLowerCase().includes(a.toLowerCase())||w.specialty.toLowerCase().includes(a.toLowerCase()),k=c==="all"||c==="available"&&w.available||c==="busy"&&!w.available;return S&&k}),x=async()=>{d&&(await v.mutateAsync(d),h(null))},g=w=>{i(w),n(!0)};return o.jsxs(Mn,{title:"Doctors",subtitle:"Manage medical staff and their schedules",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(jl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search doctors by name or specialty...",className:"pl-10",value:a,onChange:w=>l(w.target.value)})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Mr,{value:c,onValueChange:u,children:[o.jsx(Tr,{className:"w-36",children:o.jsx(Ir,{placeholder:"Availability"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All"}),o.jsx(He,{value:"available",children:"Available"}),o.jsx(He,{value:"busy",children:"On Leave"})]})]}),o.jsxs(Ce,{onClick:()=>t(!0),children:[o.jsx(T0,{className:"w-4 h-4 mr-2"}),"Add Doctor"]})]})]}),f?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(kc,{className:"w-8 h-8 animate-spin text-primary"})}):(m==null?void 0:m.length)===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No doctors found. Add your first doctor to get started."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m==null?void 0:m.map(w=>o.jsx(vt,{className:"card-shadow border-border/50 hover:shadow-elevated transition-shadow duration-300 animate-fade-in",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Io,{className:"w-20 h-20 mb-4",children:o.jsx(Do,{className:"bg-primary/10 text-primary text-xl font-semibold",children:w.name.split(" ").slice(1).map(S=>S[0]).join("")||w.name.split(" ")[0][0]})}),o.jsx("span",{className:`absolute bottom-4 right-0 w-4 h-4 rounded-full border-2 border-card ${w.available?"bg-success":"bg-muted-foreground"}`})]}),o.jsx("h3",{className:"font-heading font-semibold text-foreground",children:w.name}),o.jsx(zt,{variant:"secondary",className:"mt-2",children:w.specialty}),o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-warning",children:[o.jsx(CC,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-medium",children:w.rating})]}),o.jsxs("div",{className:"mt-4 w-full space-y-2 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Experience"}),o.jsx("span",{className:"text-foreground font-medium",children:w.experience||""})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Patients"}),o.jsx("span",{className:"text-foreground font-medium",children:w.total_patients.toLocaleString()})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4 w-full",children:[w.phone&&o.jsx(Ce,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>window.open(`tel:${w.phone}`),children:o.jsx(qa,{className:"w-4 h-4"})}),w.email&&o.jsx(Ce,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>window.open(`mailto:${w.email}`),children:o.jsx(Ab,{className:"w-4 h-4"})}),o.jsx(Ce,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>g(w),title:"Set Schedule",children:o.jsx(va,{className:"w-4 h-4"})}),o.jsx(Ce,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>h(w.id),children:o.jsx(Cm,{className:"w-4 h-4"})})]}),o.jsx(Ce,{className:"w-full mt-3",variant:w.available?"default":"secondary",disabled:!w.available,children:w.available?"Book Appointment":"On Leave"})]})})},w.id))}),o.jsx(Kpe,{open:e,onOpenChange:t}),o.jsx(Qpe,{open:r,onOpenChange:n,doctor:s}),o.jsx(zm,{open:!!d,onOpenChange:()=>h(null),children:o.jsxs(Jh,{children:[o.jsxs(Qh,{children:[o.jsx(Xh,{children:"Delete Doctor"}),o.jsx(ef,{children:"Are you sure you want to delete this doctor? This action cannot be undone."})]}),o.jsxs(Zh,{children:[o.jsx(rf,{children:"Cancel"}),o.jsx(tf,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},Xpe=()=>Cn({queryKey:["patient-appointments"],queryFn:async()=>{const{data:e,error:t}=await Be.from("patient_appointments").select(`
          *,
          doctors:doctor_id(name, specialty),
          departments:department_id(name)
        `).order("created_at",{ascending:!1});if(t)throw t;return e}}),eme=()=>{const e=In();return Qr({mutationFn:async({id:t,...r})=>{const{error:n}=await Be.from("patient_appointments").update(r).eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["patient-appointments"]}),qe.success("Appointment updated successfully")},onError:t=>{qe.error(`Error updating appointment: ${t.message}`)}})},tme=()=>Qr({mutationFn:async({appointmentId:e,action:t})=>{const{data:r,error:n}=await Be.functions.invoke("vapi-appointment-call",{body:{appointmentId:e,action:t}});if(n)throw new Error(n.message||"Failed to initiate call");if(!r.success)throw new Error(r.error||"Call failed");return r},onSuccess:e=>{Jr({title:"Call Initiated",description:e.message})},onError:e=>{Jr({title:"Call Failed",description:e.message,variant:"destructive"})}}),R1={confirmed:"bg-success/10 text-success border-success/20",pending:"bg-warning/10 text-warning border-warning/20","in-progress":"bg-info/10 text-info border-info/20",cancelled:"bg-destructive/10 text-destructive border-destructive/20",completed:"bg-muted text-muted-foreground border-muted"},rme=()=>{const[e,t]=_.useState(new Date),[r,n]=_.useState(!1),[s,i]=_.useState(""),[a,l]=_.useState("all"),[c,u]=_.useState(null),[d,h]=_.useState("scheduled"),p=e?on(e,"yyyy-MM-dd"):void 0,{data:f,isLoading:v}=s2(p),{data:m,isLoading:x}=Xpe(),g=ude(),w=eme(),S=dde(),k=tme(),T=(m==null?void 0:m.filter($=>$.status==="pending"))||[];m!=null&&m.filter($=>$.status==="confirmed");const R=async($,q)=>{await k.mutateAsync({appointmentId:$,action:q})},L=f==null?void 0:f.filter($=>{var W,X,pe,ge;const q=((X=(W=$.patients)==null?void 0:W.name)==null?void 0:X.toLowerCase())||"",te=((ge=(pe=$.doctors)==null?void 0:pe.name)==null?void 0:ge.toLowerCase())||"",ne=q.includes(s.toLowerCase())||te.includes(s.toLowerCase()),re=a==="all"||$.status===a;return ne&&re}),D={total:(f==null?void 0:f.length)||0,confirmed:(f==null?void 0:f.filter($=>$.status==="confirmed").length)||0,pending:(f==null?void 0:f.filter($=>$.status==="pending").length)||0,cancelled:(f==null?void 0:f.filter($=>$.status==="cancelled").length)||0},M=async($,q)=>{await g.mutateAsync({id:$,status:q})},G=async()=>{c&&(await S.mutateAsync(c),u(null))},A=$=>{const[q,te]=$.split(":"),ne=parseInt(q),re=ne>=12?"PM":"AM";return`${ne%12||12}:${te} ${re}`},I=async($,q)=>{await w.mutateAsync({id:$,status:q})};return o.jsxs(Mn,{title:"Appointments",subtitle:"Schedule and manage patient appointments",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx(vt,{className:"card-shadow border-border/50",children:o.jsx(Et,{className:"p-4",children:o.jsx(u2,{mode:"single",selected:e,onSelect:t,className:"rounded-md"})})}),o.jsxs(vt,{className:"card-shadow border-border/50",children:[o.jsx(Bt,{className:"pb-3",children:o.jsx(Lt,{className:"text-sm font-medium",children:"Today's Overview"})}),o.jsxs(Et,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"}),o.jsx(zt,{variant:"secondary",children:D.total})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Confirmed"}),o.jsx(zt,{className:"bg-success/10 text-success border-success/20",children:D.confirmed})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Pending"}),o.jsx(zt,{className:"bg-warning/10 text-warning border-warning/20",children:D.pending})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Cancelled"}),o.jsx(zt,{className:"bg-destructive/10 text-destructive border-destructive/20",children:D.cancelled})]})]})]})]}),o.jsx("div",{className:"lg:col-span-3 space-y-6",children:o.jsxs(gd,{value:d,onValueChange:h,className:"w-full",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[o.jsxs(Ic,{children:[o.jsxs(mn,{value:"scheduled",className:"gap-2",children:[o.jsx(bj,{className:"w-4 h-4"}),"Scheduled"]}),o.jsxs(mn,{value:"requests",className:"gap-2",children:[o.jsx(No,{className:"w-4 h-4"}),"Patient Requests",T.length>0&&o.jsx(zt,{variant:"destructive",className:"ml-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:T.length})]})]}),o.jsxs(Ce,{onClick:()=>n(!0),children:[o.jsx(T0,{className:"w-4 h-4 mr-2"}),"New Appointment"]})]}),o.jsxs(gn,{value:"scheduled",className:"mt-6 space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(jl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search appointments...",className:"pl-10",value:s,onChange:$=>i($.target.value)})]}),o.jsxs(Mr,{value:a,onValueChange:l,children:[o.jsx(Tr,{className:"w-36",children:o.jsx(Ir,{placeholder:"Status"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Status"}),o.jsx(He,{value:"confirmed",children:"Confirmed"}),o.jsx(He,{value:"pending",children:"Pending"}),o.jsx(He,{value:"cancelled",children:"Cancelled"})]})]})]}),o.jsxs(vt,{className:"card-shadow border-border/50",children:[o.jsx(Bt,{className:"border-b border-border",children:o.jsxs(Lt,{className:"text-lg",children:["Appointments for ",e==null?void 0:e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]})}),o.jsx(Et,{className:"p-0",children:v?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(kc,{className:"w-8 h-8 animate-spin text-primary"})}):(L==null?void 0:L.length)===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No appointments for this date. Schedule one to get started."}):o.jsx("div",{className:"divide-y divide-border",children:L==null?void 0:L.map($=>{var q,te,ne,re;return o.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors duration-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded-lg min-w-[80px]",children:[o.jsx(va,{className:"w-4 h-4 text-muted-foreground mb-1"}),o.jsx("span",{className:"text-sm font-medium",children:A($.appointment_time)}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[$.duration," min"]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Io,{className:"w-10 h-10",children:o.jsx(Do,{className:"bg-secondary text-secondary-foreground",children:((te=(q=$.patients)==null?void 0:q.name)==null?void 0:te.split(" ").map(W=>W[0]).join(""))||"?"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(No,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"font-medium text-foreground",children:((ne=$.patients)==null?void 0:ne.name)||"Unknown"})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(qi,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:((re=$.doctors)==null?void 0:re.name)||"Unknown"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx(zt,{variant:"secondary",className:"mb-1",children:$.type}),o.jsx(zt,{variant:"outline",className:R1[$.status]||R1.pending,children:$.status})]}),o.jsxs(td,{children:[o.jsx(rd,{asChild:!0,children:o.jsx(Ce,{variant:"ghost",size:"icon",children:o.jsx(_j,{className:"w-4 h-4"})})}),o.jsxs(Pc,{align:"end",children:[o.jsxs(fn,{onClick:()=>R($.id,"confirm"),disabled:k.isPending,children:[o.jsx(qa,{className:"w-4 h-4 mr-2 text-primary"}),"AI Confirm Call"]}),o.jsxs(fn,{onClick:()=>R($.id,"reminder"),disabled:k.isPending,children:[o.jsx(AD,{className:"w-4 h-4 mr-2 text-info"}),"AI Reminder Call"]}),o.jsx(Xp,{}),o.jsxs(fn,{onClick:()=>M($.id,"confirmed"),children:[o.jsx(Nc,{className:"w-4 h-4 mr-2 text-success"}),"Confirm"]}),o.jsx(fn,{onClick:()=>M($.id,"completed"),children:"Mark Complete"}),o.jsxs(fn,{onClick:()=>M($.id,"cancelled"),className:"text-destructive",children:[o.jsx(Jp,{className:"w-4 h-4 mr-2"}),"Cancel"]}),o.jsx(Xp,{}),o.jsx(fn,{onClick:()=>u($.id),className:"text-destructive",children:"Delete"})]})]})]})]})},$.id)})})})]})]}),o.jsx(gn,{value:"requests",className:"mt-6 space-y-4",children:o.jsxs(vt,{className:"card-shadow border-border/50",children:[o.jsx(Bt,{className:"border-b border-border",children:o.jsxs(Lt,{className:"text-lg flex items-center gap-2",children:[o.jsx(No,{className:"w-5 h-5"}),"Patient Appointment Requests"]})}),o.jsx(Et,{className:"p-0",children:x?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(kc,{className:"w-8 h-8 animate-spin text-primary"})}):(m==null?void 0:m.length)===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No patient appointment requests yet."}):o.jsx("div",{className:"divide-y divide-border",children:m==null?void 0:m.map($=>{var q;return o.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors duration-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded-lg min-w-[100px]",children:[o.jsx(bj,{className:"w-4 h-4 text-muted-foreground mb-1"}),o.jsx("span",{className:"text-sm font-medium",children:on(new Date($.preferred_date),"MMM d, yyyy")}),o.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:$.preferred_time||"Any time"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Io,{className:"w-10 h-10",children:o.jsx(Do,{className:"bg-secondary text-secondary-foreground",children:((q=$.patient_name)==null?void 0:q.split(" ").map(te=>te[0]).join(""))||"?"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(No,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"font-medium text-foreground",children:$.patient_name})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Gh,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:$.patient_phone})]}),$.patient_email&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ab,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:$.patient_email})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[$.doctors&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qi,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:$.doctors.name})]}),$.departments&&o.jsx(zt,{variant:"outline",className:"text-xs",children:$.departments.name})]}),$.notes&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 italic",children:['"',$.notes,'"']})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx(zt,{variant:"secondary",className:"mb-1 capitalize",children:$.appointment_type}),o.jsx(zt,{variant:"outline",className:R1[$.status]||R1.pending,children:$.status})]}),o.jsxs(td,{children:[o.jsx(rd,{asChild:!0,children:o.jsx(Ce,{variant:"ghost",size:"icon",children:o.jsx(_j,{className:"w-4 h-4"})})}),o.jsxs(Pc,{align:"end",children:[o.jsxs(fn,{onClick:()=>I($.id,"confirmed"),children:[o.jsx(Nc,{className:"w-4 h-4 mr-2 text-success"}),"Confirm Request"]}),o.jsxs(fn,{onClick:()=>I($.id,"cancelled"),className:"text-destructive",children:[o.jsx(Jp,{className:"w-4 h-4 mr-2"}),"Reject Request"]})]})]})]})]})},$.id)})})})]})})]})})]}),o.jsx(cA,{open:r,onOpenChange:n,selectedDate:e}),o.jsx(zm,{open:!!c,onOpenChange:()=>u(null),children:o.jsxs(Jh,{children:[o.jsxs(Qh,{children:[o.jsx(Xh,{children:"Delete Appointment"}),o.jsx(ef,{children:"Are you sure you want to delete this appointment? This action cannot be undone."})]}),o.jsxs(Zh,{children:[o.jsx(rf,{children:"Cancel"}),o.jsx(tf,{onClick:G,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},nme={Cardiology:Wv,Neurology:LK,Orthopedics:OK,Pediatrics:RK,Emergency:Ro,Oncology:qi},sme={Cardiology:"text-red-500 bg-red-500/10",Neurology:"text-purple-500 bg-purple-500/10",Orthopedics:"text-orange-500 bg-orange-500/10",Pediatrics:"text-pink-500 bg-pink-500/10",Emergency:"text-red-600 bg-red-600/10",Oncology:"text-green-500 bg-green-500/10"},ime=()=>{const{data:e,isLoading:t}=pd(),r=hde(),n=s=>{r.mutate(s)};return o.jsxs(Mn,{title:"Departments",subtitle:"Manage hospital departments and their resources",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-muted-foreground",children:[(e==null?void 0:e.length)||0," active departments"]})}),o.jsxs(Ce,{children:[o.jsx(T0,{className:"w-4 h-4 mr-2"}),"Add Department"]})]}),t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(kc,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e==null?void 0:e.map(s=>{const i=s.total_beds>0?Math.round(s.occupied_beds/s.total_beds*100):0,a=nme[s.name]||qi,l=sme[s.name]||"text-primary bg-primary/10";return o.jsxs(vt,{className:"card-shadow border-border/50 hover:shadow-elevated transition-all duration-300 cursor-pointer animate-fade-in group",children:[o.jsxs(Bt,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("div",{className:Me("p-3 rounded-xl",l),children:o.jsx(a,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(zt,{variant:"outline",className:"text-success border-success/30 bg-success/5",children:[o.jsx(EC,{className:"w-3 h-3 mr-1"}),"Active"]}),o.jsxs(zm,{children:[o.jsx(NU,{asChild:!0,children:o.jsx(Ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:o.jsx(Cm,{className:"w-4 h-4"})})}),o.jsxs(Jh,{children:[o.jsxs(Qh,{children:[o.jsx(Xh,{children:"Delete Department"}),o.jsxs(ef,{children:['Are you sure you want to delete "',s.name,'"? This action cannot be undone.']})]}),o.jsxs(Zh,{children:[o.jsx(rf,{children:"Cancel"}),o.jsx(tf,{onClick:()=>n(s.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]}),o.jsx(Lt,{className:"text-lg font-heading mt-3",children:s.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:s.head_doctor||"No head assigned"})]}),o.jsxs(Et,{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(za,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{children:[s.doctors_count," doctors"]})]}),o.jsxs("span",{className:"text-muted-foreground",children:[s.nurses_count," nurses"]})]}),s.total_beds>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(jc,{className:"w-4 h-4 text-muted-foreground"}),"Bed Occupancy"]}),o.jsxs("span",{className:"font-medium",children:[s.occupied_beds,"/",s.total_beds]})]}),o.jsx(i2,{value:i,className:Me("h-2",i>80&&"[&>div]:bg-warning",i>90&&"[&>div]:bg-destructive")})]}),o.jsx(Ce,{variant:"outline",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:"View Details"})]})]},s.id)})})]})},ame=()=>Cn({queryKey:["beds"],queryFn:async()=>{const{data:e,error:t}=await Be.from("beds").select(`
          *,
          departments (
            name
          ),
          patients (
            name
          )
        `).order("room_number",{ascending:!0}).order("bed_number",{ascending:!0});if(t)throw t;return e}}),ome=()=>{const e=In();return Qr({mutationFn:async t=>{const{data:r,error:n}=await Be.from("beds").insert([t]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["beds"]}),Jr({title:"Success",description:"Bed added successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})},lme=()=>{const e=In();return Qr({mutationFn:async t=>{const{error:r}=await Be.from("beds").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["beds"]}),Jr({title:"Success",description:"Bed deleted successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})},cme=()=>{const e=In();return Qr({mutationFn:async({id:t,status:r,patient_id:n})=>{const{data:s,error:i}=await Be.from("beds").update({status:r,patient_id:n}).eq("id",t).select().single();if(i)throw i;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["beds"]}),Jr({title:"Success",description:"Bed status updated successfully"})},onError:t=>{Jr({title:"Error",description:t.message,variant:"destructive"})}})},ume=()=>{const{data:e,isLoading:t}=ame(),{data:r}=pd(),n=ome(),s=lme(),i=cme(),[a,l]=_.useState(""),[c,u]=_.useState("all"),[d,h]=_.useState("all"),[p,f]=_.useState(!1),[v,m]=_.useState(!1),[x,g]=_.useState(null),[w,S]=_.useState(null),[k,T]=_.useState({bed_number:"",room_number:"",department_id:"",bed_type:"Standard",status:"Available"}),R=e==null?void 0:e.filter(A=>{var te;const I=A.bed_number.toLowerCase().includes(a.toLowerCase())||A.room_number.toLowerCase().includes(a.toLowerCase())||((te=A.patients)==null?void 0:te.name.toLowerCase().includes(a.toLowerCase())),$=c==="all"||A.status===c,q=d==="all"||A.department_id===d;return I&&$&&q}),L={total:(e==null?void 0:e.length)||0,occupied:(e==null?void 0:e.filter(A=>A.status==="Occupied").length)||0,available:(e==null?void 0:e.filter(A=>A.status==="Available").length)||0,maintenance:(e==null?void 0:e.filter(A=>A.status==="Maintenance").length)||0},D=async A=>{if(A.preventDefault(),!k.department_id){qe.error("Please select a department");return}try{await n.mutateAsync(k),f(!1),T({bed_number:"",room_number:"",department_id:"",bed_type:"Standard",status:"Available"})}catch(I){console.error(I)}},M=A=>{switch(A){case"Available":return"bg-emerald-500/10 text-emerald-600 border-emerald-200";case"Occupied":return"bg-red-500/10 text-red-600 border-red-200";case"Maintenance":return"bg-orange-500/10 text-orange-600 border-orange-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},G=A=>{switch(A){case"Available":return"bg-emerald-500";case"Occupied":return"bg-red-500";case"Maintenance":return"bg-orange-500";default:return"bg-gray-400"}};return o.jsxs(Mn,{title:"Bed Management",subtitle:"Monitor and manage hospital bed occupancy",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(vt,{className:"shadow-sm border-l-4 border-l-primary",children:o.jsxs(Et,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Beds"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:L.total})]}),o.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:o.jsx(jc,{className:"w-5 h-5 text-primary"})})]})}),o.jsx(vt,{className:"shadow-sm border-l-4 border-l-emerald-500",children:o.jsxs(Et,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:L.available})]}),o.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-xl",children:o.jsx(HK,{className:"w-5 h-5 text-emerald-500"})})]})}),o.jsx(vt,{className:"shadow-sm border-l-4 border-l-red-500",children:o.jsxs(Et,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Occupied"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:L.occupied})]}),o.jsx("div",{className:"p-3 bg-red-500/10 rounded-xl",children:o.jsx(No,{className:"w-5 h-5 text-red-500"})})]})}),o.jsx(vt,{className:"shadow-sm border-l-4 border-l-orange-500",children:o.jsxs(Et,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Maintenance"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:L.maintenance})]}),o.jsx("div",{className:"p-3 bg-orange-500/10 rounded-xl",children:o.jsx(Ro,{className:"w-5 h-5 text-orange-500"})})]})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center mb-6",children:[o.jsxs("div",{className:"flex flex-1 gap-2 w-full md:w-auto",children:[o.jsxs("div",{className:"relative flex-1 md:max-w-xs",children:[o.jsx(jl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search bed, room, or patient...",className:"pl-9",value:a,onChange:A=>l(A.target.value)})]}),o.jsxs(Mr,{value:c,onValueChange:u,children:[o.jsx(Tr,{className:"w-[140px]",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(VK,{className:"w-4 h-4"}),o.jsx(Ir,{placeholder:"Status"})]})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Status"}),o.jsx(He,{value:"Available",children:"Available"}),o.jsx(He,{value:"Occupied",children:"Occupied"}),o.jsx(He,{value:"Maintenance",children:"Maintenance"})]})]}),o.jsxs(Mr,{value:d,onValueChange:h,children:[o.jsx(Tr,{className:"w-[180px]",children:o.jsx(Ir,{placeholder:"Department"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Departments"}),r==null?void 0:r.map(A=>o.jsx(He,{value:A.id,children:A.name},A.id))]})]})]}),o.jsxs(Ns,{open:p,onOpenChange:f,children:[o.jsx(gc,{asChild:!0,children:o.jsxs(Ce,{className:"shrink-0",children:[o.jsx(T0,{className:"w-4 h-4 mr-2"}),"Add Bed"]})}),o.jsxs(ds,{children:[o.jsxs(ks,{children:[o.jsx(hs,{children:"Add New Bed"}),o.jsx(Gs,{children:"Enter the details for the new bed unit."})]}),o.jsxs("form",{onSubmit:D,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"bed_number",children:"Bed Number"}),o.jsx(ht,{id:"bed_number",placeholder:"e.g. B-101",value:k.bed_number,onChange:A=>T({...k,bed_number:A.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"room_number",children:"Room Number"}),o.jsx(ht,{id:"room_number",placeholder:"e.g. 101",value:k.room_number,onChange:A=>T({...k,room_number:A.target.value}),required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"department",children:"Department"}),o.jsxs(Mr,{value:k.department_id,onValueChange:A=>T({...k,department_id:A}),children:[o.jsx(Tr,{id:"department",children:o.jsx(Ir,{placeholder:"Select Department"})}),o.jsx(Rr,{children:r==null?void 0:r.map(A=>o.jsx(He,{value:A.id,children:A.name},A.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"type",children:"Bed Type"}),o.jsxs(Mr,{value:k.bed_type,onValueChange:A=>T({...k,bed_type:A}),children:[o.jsx(Tr,{id:"type",children:o.jsx(Ir,{placeholder:"Type"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"Standard",children:"Standard"}),o.jsx(He,{value:"ICU",children:"ICU"}),o.jsx(He,{value:"Semi-Private",children:"Semi-Private"}),o.jsx(He,{value:"Private",children:"Private"}),o.jsx(He,{value:"VipSuite",children:"VIP Suite"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"status",children:"Initial Status"}),o.jsxs(Mr,{value:k.status,onValueChange:A=>T({...k,status:A}),children:[o.jsx(Tr,{id:"status",children:o.jsx(Ir,{placeholder:"Status"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"Available",children:"Available"}),o.jsx(He,{value:"Maintenance",children:"Maintenance"})]})]})]})]}),o.jsxs(Fm,{children:[o.jsx(Ce,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),o.jsx(Ce,{type:"submit",children:"Create Bed"})]})]})]})]})]}),t?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(R==null?void 0:R.length)===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-dashed",children:[o.jsx(jc,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No beds found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or add a new bed."})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:R==null?void 0:R.map(A=>{var I,$;return o.jsxs(vt,{className:"overflow-hidden shadow-sm hover:shadow-md transition-shadow relative group",children:[o.jsx("div",{className:Me("absolute top-0 left-0 w-1 h-full",G(A.status||"Available"))}),o.jsxs(Bt,{className:"pb-2 pt-4 pl-5 pr-4 flex flex-row items-center justify-between space-y-0",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:A.room_number}),o.jsx(Lt,{className:"text-xl font-bold",children:A.bed_number})]}),o.jsx(zt,{variant:"outline",className:Me("capitalize",M(A.status)),children:A.status})]}),o.jsxs(Et,{className:"pl-5 pr-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Type:"}),o.jsx("span",{className:"font-medium",children:A.bed_type||"Standard"})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("span",{className:"font-medium truncate max-w-[120px]",title:(I=A.departments)==null?void 0:I.name,children:(($=A.departments)==null?void 0:$.name)||"Unassigned"})]}),A.status==="Occupied"&&A.patients&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(No,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Patient"})]}),o.jsx("p",{className:"font-medium text-sm truncate",children:A.patients.name})]}),o.jsx("div",{className:"pt-2 flex gap-2 justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsxs(td,{children:[o.jsx(rd,{asChild:!0,children:o.jsx(Ce,{variant:"ghost",size:"icon",className:"h-8 w-8",children:o.jsx(zK,{className:"w-4 h-4"})})}),o.jsxs(Pc,{align:"end",children:[o.jsxs(fn,{onClick:()=>{g(A),m(!0)},children:[o.jsx(iJ,{className:"w-4 h-4 mr-2"}),"Update Status"]}),o.jsxs(fn,{className:"text-destructive focus:text-destructive",onClick:()=>S(A.id),children:[o.jsx(Cm,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]})]},A.id)})}),o.jsx(zm,{open:!!w,onOpenChange:A=>!A&&S(null),children:o.jsxs(Jh,{children:[o.jsxs(Qh,{children:[o.jsx(Xh,{children:"Delete Bed"}),o.jsx(ef,{children:"Are you sure you want to delete this bed? This action cannot be undone."})]}),o.jsxs(Zh,{children:[o.jsx(rf,{children:"Cancel"}),o.jsx(tf,{onClick:()=>{w&&(s.mutate(w),S(null))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),o.jsx(Ns,{open:v,onOpenChange:m,children:o.jsxs(ds,{children:[o.jsxs(ks,{children:[o.jsx(hs,{children:"Update Bed Status"}),o.jsxs(Gs,{children:["Change the status of the bed ",x==null?void 0:x.bed_number]})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Status"}),o.jsxs(Mr,{defaultValue:(x==null?void 0:x.status)||"Available",onValueChange:A=>{x&&(i.mutate({id:x.id,status:A,patient_id:A==="Available"?null:x.patient_id}),m(!1))},children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"Available",children:"Available"}),o.jsx(He,{value:"Occupied",children:"Occupied"}),o.jsx(He,{value:"Maintenance",children:"Maintenance"})]})]},x==null?void 0:x.id)]}),(x==null?void 0:x.status)==="Occupied"&&o.jsx("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-2 rounded",children:"Note: Changing from Occupied to Available will remove the patient assignment."})]})]})})]})},sy=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:Me("w-full caption-bottom text-sm",e),...t})}));sy.displayName="Table";const iy=_.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:Me("[&_tr]:border-b",e),...t}));iy.displayName="TableHeader";const ay=_.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:Me("[&_tr:last-child]:border-0",e),...t}));ay.displayName="TableBody";const dme=_.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:Me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));dme.displayName="TableFooter";const Fa=_.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:Me("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Fa.displayName="TableRow";const Nn=_.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Nn.displayName="TableHead";const sn=_.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));sn.displayName="TableCell";const hme=_.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:Me("mt-4 text-sm text-muted-foreground",e),...t}));hme.displayName="TableCaption";const fme=()=>{const e=In(),[t,r]=_.useState(""),[n,s]=_.useState("all"),{data:i=[],isLoading:a}=Cn({queryKey:["callback-requests",n],queryFn:async()=>{let h=Be.from("callback_requests").select("*").order("created_at",{ascending:!1});n!=="all"&&(h=h.eq("status",n));const{data:p,error:f}=await h;if(f)throw f;return p}});_.useEffect(()=>{const h=Be.channel("callback-requests-realtime").on("postgres_changes",{event:"*",schema:"public",table:"callback_requests"},()=>{e.invalidateQueries({queryKey:["callback-requests"]})}).subscribe();return()=>{Be.removeChannel(h)}},[e]);const l=Qr({mutationFn:async({id:h,status:p})=>{const{error:f}=await Be.from("callback_requests").update({status:p}).eq("id",h);if(f)throw f},onSuccess:()=>{qe.success("Callback status updated"),e.invalidateQueries({queryKey:["callback-requests"]}),e.invalidateQueries({queryKey:["pending-callbacks-count"]})},onError:()=>{qe.error("Failed to update status")}}),c=async h=>{const p="7c79ca4b-8762-4744-867b-05255472b9ef",f="84af6220-9e4b-473a-a98f-84da5694ce2d",v=qe.loading("Initiating AI Call...");let m=h.phone.trim().replace(/\s+/g,"");m.startsWith("+")||(m.length===10?m="+91"+m:m.startsWith("91")&&m.length===12&&(m="+"+m)),console.log("Calling Vapi with transient assistant for:",m);try{const g=await fetch("/api/vapi/call",{method:"POST",headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"},body:JSON.stringify({phoneNumberId:f,customer:{number:m,name:h.name},assistant:{name:"Maya Callback Agent",firstMessage:`Hello, I am Maya from Star Hospital. Am I speaking with ${h.name}?`,transcriber:{provider:"deepgram",model:"nova-2",language:"en-IN"},voice:{provider:"11labs",voiceId:"21m00Tcm4TlvDq8ikWAM",stability:.5,similarityBoost:.75},model:{provider:"openai",model:"gpt-4o-mini",messages:[{role:"system",content:`You are Maya, a friendly and professional receptionist for Star Hospital.
                  You are calling to follow up on a callback request from a patient.
                  
                  Patient Name: ${h.name}
                  
                  Instructions:
                  1. You've already introduced yourself in the first message.
                  2. Ask how you can help the patient.
                  3. Be polite, warm, and concise in your responses.
                  4. Always maintain a professional yet friendly tone.
                  5. If they have medical questions, offer to book an appointment with a doctor.
                  `}]}}})});if(console.log("Vapi status:",g.status),g.ok){const w=await g.json();console.log("Vapi Success:",w),qe.success("AI Call Initiated! Maya should speak shortly.",{id:v})}else{const w=await g.text();console.error("Vapi Error body:",w);try{const S=JSON.parse(w);qe.error(`Error: ${S.message||g.statusText}`,{id:v})}catch{qe.error(`Error (Status: ${g.status})`,{id:v})}}}catch(x){console.error("Call Error:",x),qe.error(`Network error: ${x.message}`,{id:v})}},u=i.filter(h=>h.name.toLowerCase().includes(t.toLowerCase())||h.phone.includes(t)),d=h=>{switch(h){case"pending":return o.jsxs(zt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[o.jsx(va,{className:"h-3 w-3 mr-1"}),"Pending"]});case"completed":return o.jsxs(zt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[o.jsx(Nc,{className:"h-3 w-3 mr-1"}),"Completed"]});case"cancelled":return o.jsxs(zt,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[o.jsx(Jp,{className:"h-3 w-3 mr-1"}),"Cancelled"]});default:return o.jsx(zt,{variant:"secondary",children:h})}};return o.jsx(Mn,{title:"Callback Requests",subtitle:"Manage patient callback requests",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(vt,{children:o.jsx(Et,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search by name or phone...",value:t,onChange:h=>r(h.target.value),className:"pl-9"})]}),o.jsxs(Mr,{value:n,onValueChange:s,children:[o.jsx(Tr,{className:"w-full md:w-48",children:o.jsx(Ir,{placeholder:"Filter by status"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Status"}),o.jsx(He,{value:"pending",children:"Pending"}),o.jsx(He,{value:"completed",children:"Completed"}),o.jsx(He,{value:"cancelled",children:"Cancelled"})]})]})]})})}),o.jsxs(vt,{children:[o.jsx(Bt,{children:o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(Gh,{className:"h-5 w-5"}),"Callback Requests (",u.length,")"]})}),o.jsx(Et,{children:a?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):u.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(qa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No callback requests found"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(sy,{children:[o.jsx(iy,{children:o.jsxs(Fa,{children:[o.jsx(Nn,{children:"Name"}),o.jsx(Nn,{children:"Phone"}),o.jsx(Nn,{children:"Preferred Time"}),o.jsx(Nn,{children:"Reason"}),o.jsx(Nn,{children:"Requested"}),o.jsx(Nn,{children:"Status"}),o.jsx(Nn,{children:"Actions"})]})}),o.jsx(ay,{children:u.map(h=>o.jsxs(Fa,{children:[o.jsx(sn,{className:"font-medium",children:h.name}),o.jsx(sn,{children:o.jsxs("a",{href:`tel:${h.phone}`,className:"text-primary hover:underline flex items-center gap-1",children:[o.jsx(qa,{className:"h-3 w-3"}),h.phone]})}),o.jsx(sn,{children:h.preferred_time||"Anytime"}),o.jsx(sn,{className:"max-w-[200px] truncate",children:h.reason||"-"}),o.jsx(sn,{children:on(new Date(h.created_at),"MMM d, yyyy h:mm a")}),o.jsx(sn,{children:d(h.status)}),o.jsx(sn,{children:o.jsxs("div",{className:"flex gap-2",children:[h.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsxs(Ce,{size:"sm",variant:"outline",className:"text-blue-600 hover:bg-blue-50",onClick:()=>window.location.href=`tel:${h.phone}`,children:[o.jsx(qa,{className:"h-4 w-4 mr-1"})," Call"]}),o.jsxs(Ce,{size:"sm",variant:"outline",className:"text-purple-600 hover:bg-purple-50 border-purple-200",onClick:()=>c(h),children:[o.jsx(fp,{className:"h-4 w-4 mr-1"})," AI Call"]}),o.jsx(Ce,{size:"sm",variant:"outline",className:"text-green-600 hover:bg-green-50",onClick:()=>l.mutate({id:h.id,status:"completed"}),children:"Complete"}),o.jsx(Ce,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>l.mutate({id:h.id,status:"cancelled"}),children:"Cancel"})]}),h.status!=="pending"&&o.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>l.mutate({id:h.id,status:"pending"}),children:"Reopen"})]})})]},h.id))})]})})})]})]})})},pme=()=>{const{data:e,isLoading:t}=Um(),{data:r,isLoading:n}=qm(),{data:s,isLoading:i}=s2(),{data:a,isLoading:l}=pd(),c=t||n||i||l,u=[{title:"Patient Reports",description:"Patient demographics, admissions, and treatment history",icon:za,color:"bg-primary/10 text-primary",stats:`${(e==null?void 0:e.length)||0} total patients`,reports:["Patient Demographics","Admission History","Treatment Summary","Discharge Reports"]},{title:"Appointment Reports",description:"Appointment scheduling and status tracking",icon:zu,color:"bg-info/10 text-info",stats:`${(s==null?void 0:s.length)||0} appointments`,reports:["Daily Schedule","Appointment Status","No-show Analysis","Wait Time Report"]},{title:"Department Reports",description:"Department-wise performance and resource utilization",icon:Ro,color:"bg-success/10 text-success",stats:`${(a==null?void 0:a.length)||0} departments`,reports:["Department Overview","Bed Occupancy","Staff Distribution","Resource Usage"]},{title:"Staff Reports",description:"Doctor and staff performance metrics",icon:uw,color:"bg-warning/10 text-warning",stats:`${(r==null?void 0:r.length)||0} doctors`,reports:["Doctor Performance","Staff Attendance","Workload Analysis","Shift Reports"]}],d=[{label:"Total Patients",value:(e==null?void 0:e.length)||0,icon:za,trend:"+12%"},{label:"Active Appointments",value:(s==null?void 0:s.filter(h=>h.status==="scheduled").length)||0,icon:zu,trend:"+5%"},{label:"Available Doctors",value:(r==null?void 0:r.filter(h=>h.available).length)||0,icon:Ro,trend:"0%"},{label:"Departments",value:(a==null?void 0:a.length)||0,icon:$_,trend:"+2"}];return c?o.jsx(Mn,{title:"Reports",subtitle:"Hospital analytics and reports",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(kc,{className:"w-8 h-8 animate-spin text-primary"})})}):o.jsxs(Mn,{title:"Reports",subtitle:"Hospital analytics and reports",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:d.map((h,p)=>o.jsx(vt,{className:"card-shadow",children:o.jsx(Et,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:h.label}),o.jsx("p",{className:"text-2xl font-bold",children:h.value})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsx(h.icon,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs(zt,{variant:"outline",className:"text-xs text-success",children:[o.jsx(EC,{className:"w-3 h-3 mr-1"}),h.trend]})]})]})})},p))}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map((h,p)=>o.jsxs(vt,{className:"card-shadow hover:shadow-elevated transition-all duration-300",children:[o.jsxs(Bt,{children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("div",{className:`p-3 rounded-xl ${h.color}`,children:o.jsx(h.icon,{className:"w-6 h-6"})}),o.jsx(zt,{variant:"secondary",children:h.stats})]}),o.jsx(Lt,{className:"text-lg mt-3",children:h.title}),o.jsx(wr,{children:h.description})]}),o.jsx(Et,{children:o.jsx("div",{className:"space-y-2",children:h.reports.map((f,v)=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer group",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ua,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm",children:f})]}),o.jsxs(Ce,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(OD,{className:"w-4 h-4 mr-1"}),"Export"]})]},v))})})]},p))}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(vt,{className:"card-shadow",children:[o.jsx(Bt,{children:o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx($_,{className:"w-5 h-5"}),"Monthly Admissions Trend"]})}),o.jsx(Et,{children:o.jsx("div",{className:"h-48 flex items-center justify-center text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsx($_,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"Analytics visualization coming soon"})]})})})]}),o.jsxs(vt,{className:"card-shadow",children:[o.jsx(Bt,{children:o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(qP,{className:"w-5 h-5"}),"Department Distribution"]})}),o.jsx(Et,{children:o.jsx("div",{className:"h-48 flex items-center justify-center text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsx(qP,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"Analytics visualization coming soon"})]})})})]})]})]})},mme=()=>{const e=Cl();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},gme=()=>{var x;const{user:e}=li(),[t,r]=_.useState(""),[n,s]=_.useState(""),[i,a]=_.useState(!1),[l,c]=_.useState(null),[u,d]=_.useState(!1),[h,p]=_.useState("");_.useEffect(()=>{var g,w;e&&(r(((g=e.user_metadata)==null?void 0:g.full_name)||""),s(((w=e.user_metadata)==null?void 0:w.avatar_url)||""),f())},[e]);const f=async()=>{if(!e)return;const{data:g}=await Be.from("user_roles").select("role").eq("user_id",e.id).maybeSingle();g&&c(g.role)},v=async()=>{if(e){if(l==="receptionist"){p("update profile settings"),d(!0);return}a(!0);try{const{error:g}=await Be.auth.updateUser({data:{full_name:t,avatar_url:n}});if(g)throw g;qe.success("Profile updated successfully!")}catch(g){qe.error(g.message||"Failed to update profile")}finally{a(!1)}}},m=()=>{if(l==="receptionist"){p("change account password"),d(!0);return}qe.info("Password update feature coming soon")};return o.jsxs(Mn,{title:"Settings",subtitle:"Manage your account settings and preferences.",children:[o.jsxs(gd,{defaultValue:"account",className:"w-full space-y-6",children:[o.jsxs(Ic,{children:[o.jsx(mn,{value:"account",children:"Account"}),o.jsx(mn,{value:"notifications",children:"Notifications"}),o.jsx(mn,{value:"appearance",children:"Appearance"}),o.jsx(mn,{value:"security",children:"Security"})]}),o.jsx(gn,{value:"account",children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Lt,{children:"Account Information"}),o.jsx(wr,{children:"Update your personal details here."})]}),o.jsxs(Et,{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col items-center gap-4 sm:flex-row",children:[o.jsxs("div",{className:"relative group",children:[o.jsxs(Io,{className:"w-24 h-24 border-2 border-border cursor-pointer",children:[o.jsx(Xb,{src:n}),o.jsx(Do,{className:"text-2xl",children:(t==null?void 0:t.charAt(0))||((x=e==null?void 0:e.email)==null?void 0:x.charAt(0))||"U"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity rounded-full cursor-pointer",children:o.jsx(IK,{className:"w-8 h-8 text-white"})}),o.jsx(ht,{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:g=>{var S;const w=(S=g.target.files)==null?void 0:S[0];if(w){const k=URL.createObjectURL(w);s(k),qe.info("Image selected. Click 'Save Changes' to update.")}},disabled:l==="receptionist"})]}),o.jsxs("div",{className:"space-y-1 text-center sm:text-left",children:[o.jsx("h4",{className:"font-medium",children:"Profile Photo"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on the image to upload a new photo."})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email"}),o.jsx(ht,{id:"email",defaultValue:(e==null?void 0:e.email)||"",disabled:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"name",children:"Display Name"}),o.jsx(ht,{id:"name",placeholder:"Your name",value:t,onChange:g=>r(g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"avatar-url",children:"Avatar URL (Optional)"}),o.jsx(ht,{id:"avatar-url",placeholder:"https://example.com/avatar.png",value:n,onChange:g=>s(g.target.value)})]})]}),o.jsx(Mo,{children:o.jsx(Ce,{onClick:v,disabled:i,children:i?"Saving...":"Save Changes"})})]})}),o.jsx(gn,{value:"notifications",children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Lt,{children:"Notifications"}),o.jsx(wr,{children:"Choose what you want to be notified about."})]}),o.jsxs(Et,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(lt,{htmlFor:"email-notifs",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:"Email Notifications"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Receive emails about your account activity."})]}),o.jsx(wp,{id:"email-notifs"})]}),o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(lt,{htmlFor:"push-notifs",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:"Push Notifications"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Receive push notifications on your device."})]}),o.jsx(wp,{id:"push-notifs"})]})]})]})}),o.jsx(gn,{value:"appearance",children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Lt,{children:"Appearance"}),o.jsx(wr,{children:"Customize the look and feel of the application."})]}),o.jsx(Et,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(lt,{htmlFor:"dark-mode",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:"Dark Mode"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Toggle dark mode on or off."})]}),o.jsx(wp,{id:"dark-mode"})]})})]})}),o.jsx(gn,{value:"security",children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Lt,{children:"Security"}),o.jsx(wr,{children:"Manage your password and security settings."})]}),o.jsxs(Et,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"current-password",children:"Current Password"}),o.jsx(ht,{id:"current-password",type:"password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"new-password",children:"New Password"}),o.jsx(ht,{id:"new-password",type:"password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"confirm-password",children:"Confirm Password"}),o.jsx(ht,{id:"confirm-password",type:"password"})]})]}),o.jsx(Mo,{children:o.jsx(Ce,{onClick:m,children:"Update Password"})})]})})]}),o.jsx(ZU,{open:u,onOpenChange:d,action:h})]})},vme=()=>{const e=Ks();return o.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center relative overflow-hidden bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:[o.jsx("div",{className:"absolute inset-0 w-full h-full bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5980?auto=format&fit=crop&q=80')] bg-cover bg-center opacity-10"}),o.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-yellow-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"}),o.jsxs("div",{className:"relative z-10 text-center px-4 max-w-2xl mx-auto",children:[o.jsx("div",{className:"mb-8 flex justify-center",children:o.jsx("div",{className:"p-4 bg-white/10 backdrop-blur-md rounded-full border border-white/20 shadow-xl animate-bounce",children:o.jsx(rJ,{className:"w-12 h-12 text-yellow-400"})})}),o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-200 to-pink-200 tracking-tight",children:"Coming Soon"}),o.jsx("p",{className:"text-xl md:text-2xl text-blue-100/80 mb-8 leading-relaxed",children:"We are currently working on our social media presence. Something amazing is in the works!"}),o.jsxs(Ce,{onClick:()=>e("/"),size:"lg",className:"bg-white text-purple-900 hover:bg-blue-50 font-semibold px-8 py-6 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 group",children:[o.jsx(Hh,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Home"]})]}),o.jsx("div",{className:"absolute bottom-8 text-sm text-white/40",children:" 2026 Medicare Hospital. Stay Tuned."})]})},yme=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(!1),[a,l]=_.useState(!1),{signIn:c}=li(),u=Ks(),d=async h=>{if(h.preventDefault(),!e.trim()||!r.trim()){qe.error("Please fill in all fields");return}l(!0);const{error:p}=await c(e,r);if(p){l(!1),qe.error(p.message||"Failed to sign in");return}const{data:{user:f}}=await Be.auth.getUser();if(f){const{data:v}=await Be.from("user_roles").select("role").eq("user_id",f.id).maybeSingle();if(v){l(!1),qe.info("You are a staff member. Redirecting to staff portal..."),u("/staff/login");return}}l(!1),qe.success("Welcome back!"),u("/patient/dashboard")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:o.jsxs(vt,{className:"w-full max-w-md",children:[o.jsxs(Bt,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-primary mb-4 justify-center",children:[o.jsx(Hh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(Wv,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:"MediCare"})]}),o.jsx(Lt,{className:"text-2xl",children:"Patient Sign In"}),o.jsx(wr,{children:"Access your patient portal"})]}),o.jsxs("form",{onSubmit:d,children:[o.jsxs(Et,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:h=>t(h.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ht,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),required:!0,autoComplete:"current-password",className:"pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(Cb,{className:"h-4 w-4"}):o.jsx(Eb,{className:"h-4 w-4"})})]})]})]}),o.jsxs(Mo,{className:"flex flex-col gap-4",children:[o.jsx(Ce,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Don't have an account?"," ",o.jsx(Hr,{to:"/patient/register",className:"text-primary hover:underline",children:"Register here"})]})]})]})]})})},xme=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(""),[a,l]=_.useState(""),[c,u]=_.useState(""),[d,h]=_.useState(!1),{signUp:p}=li(),f=Ks(),v=async m=>{if(m.preventDefault(),!e.trim()||!r.trim()||!a.trim()){qe.error("Please fill in all required fields");return}if(a!==c){qe.error("Passwords do not match");return}if(a.length<6){qe.error("Password must be at least 6 characters");return}h(!0);const{error:x}=await p(r,a,e);if(x){h(!1),qe.error(x.message||"Failed to register");return}const{error:g}=await Be.auth.signInWithPassword({email:r,password:a});if(g){h(!1),qe.success("Registration successful! Please sign in."),f("/patient/login");return}const{data:{user:w}}=await Be.auth.getUser();w&&await Be.from("patient_accounts").insert({user_id:w.id,phone:s||null}),h(!1),qe.success("Account created successfully!"),f("/patient/dashboard")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:o.jsxs(vt,{className:"w-full max-w-md",children:[o.jsxs(Bt,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-primary mb-4 justify-center",children:[o.jsx(Hh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(Wv,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:"MediCare"})]}),o.jsx(Lt,{className:"text-2xl",children:"Create Patient Account"}),o.jsx(wr,{children:"Register to book appointments and access patient services"})]}),o.jsxs("form",{onSubmit:v,children:[o.jsxs(Et,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"fullName",children:"Full Name *"}),o.jsx(ht,{id:"fullName",type:"text",placeholder:"Enter your full name",value:e,onChange:m=>t(m.target.value),required:!0,autoComplete:"name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email *"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:m=>n(m.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"phone",children:"Phone Number"}),o.jsx(ht,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:s,onChange:m=>i(m.target.value),autoComplete:"tel"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password *"}),o.jsx(ht,{id:"password",type:"password",placeholder:"Create a password (min 6 characters)",value:a,onChange:m=>l(m.target.value),required:!0,autoComplete:"new-password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"confirmPassword",children:"Confirm Password *"}),o.jsx(ht,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:c,onChange:m=>u(m.target.value),required:!0,autoComplete:"new-password"})]})]}),o.jsxs(Mo,{className:"flex flex-col gap-4",children:[o.jsx(Ce,{type:"submit",className:"w-full",disabled:d,children:d?"Creating account...":"Create Account"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Already have an account?"," ",o.jsx(Hr,{to:"/patient/login",className:"text-primary hover:underline",children:"Sign in here"})]})]})]})]})})};var XU={};function rR(e,t){if(e==null)return{};var r,n,s=function(a,l){if(a==null)return{};var c={};for(var u in a)if({}.hasOwnProperty.call(a,u)){if(l.indexOf(u)!==-1)continue;c[u]=a[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e){return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Er(e)}function eq(e){var t=function(r,n){if(Er(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,n||"default");if(Er(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(e,"string");return Er(t)=="symbol"?t:t+""}function nR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eq(n.key),n)}}function ja(e,t,r){return t&&nR(e.prototype,t),r&&nR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p2(e,t){if(t&&(Er(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bo(e)}function c0(e,t){return c0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},c0(e,t)}function m2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c0(e,t)}function ll(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sR(e,t,r,n,s,i,a){try{var l=e[i](a),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,s)}function Ut(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function a(c){sR(i,n,s,a,l,"next",c)}function l(c){sR(i,n,s,a,l,"throw",c)}a(void 0)})}}function iR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ai(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var i,a,l,c,u=[],d=!0,h=!1;try{if(l=(s=s.call(r)).next,n===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=l.call(s)).done)&&(u.push(i.value),u.length!==n);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}(e,t)||function(r,n){if(r){if(typeof r=="string")return iR(r,n);var s={}.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?iR(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wme(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var aR,O1={exports:{}},CN=function(){if(aR)return O1.exports;aR=1;var e,t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(m,x,g){return Function.prototype.apply.call(m,x,g)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var n=Number.isNaN||function(m){return m!=m};function s(){s.init.call(this)}O1.exports=s,O1.exports.once=function(m,x){return new Promise(function(g,w){function S(T){m.removeListener(x,k),w(T)}function k(){typeof m.removeListener=="function"&&m.removeListener("error",S),g([].slice.call(arguments))}v(m,x,k,{once:!0}),x!=="error"&&function(T,R,L){typeof T.on=="function"&&v(T,"error",R,L)}(m,S,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function a(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function l(m){return m._maxListeners===void 0?s.defaultMaxListeners:m._maxListeners}function c(m,x,g,w){var S,k,T,R;if(a(g),(k=m._events)===void 0?(k=m._events=Object.create(null),m._eventsCount=0):(k.newListener!==void 0&&(m.emit("newListener",x,g.listener?g.listener:g),k=m._events),T=k[x]),T===void 0)T=k[x]=g,++m._eventsCount;else if(typeof T=="function"?T=k[x]=w?[g,T]:[T,g]:w?T.unshift(g):T.push(g),(S=l(m))>0&&T.length>S&&!T.warned){T.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");L.name="MaxListenersExceededWarning",L.emitter=m,L.type=x,L.count=T.length,R=L,console&&console.warn&&console.warn(R)}return m}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(m,x,g){var w={fired:!1,wrapFn:void 0,target:m,type:x,listener:g},S=u.bind(w);return S.listener=g,w.wrapFn=S,S}function h(m,x,g){var w=m._events;if(w===void 0)return[];var S=w[x];return S===void 0?[]:typeof S=="function"?g?[S.listener||S]:[S]:g?function(k){for(var T=new Array(k.length),R=0;R<T.length;++R)T[R]=k[R].listener||k[R];return T}(S):f(S,S.length)}function p(m){var x=this._events;if(x!==void 0){var g=x[m];if(typeof g=="function")return 1;if(g!==void 0)return g.length}return 0}function f(m,x){for(var g=new Array(x),w=0;w<x;++w)g[w]=m[w];return g}function v(m,x,g,w){if(typeof m.on=="function")w.once?m.once(x,g):m.on(x,g);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(x,function S(k){w.once&&m.removeEventListener(x,S),g(k)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");i=m}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(m){for(var x=[],g=1;g<arguments.length;g++)x.push(arguments[g]);var w=m==="error",S=this._events;if(S!==void 0)w=w&&S.error===void 0;else if(!w)return!1;if(w){var k;if(x.length>0&&(k=x[0]),k instanceof Error)throw k;var T=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw T.context=k,T}var R=S[m];if(R===void 0)return!1;if(typeof R=="function")r(R,this,x);else{var L=R.length,D=f(R,L);for(g=0;g<L;++g)r(D[g],this,x)}return!0},s.prototype.addListener=function(m,x){return c(this,m,x,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(m,x){return c(this,m,x,!0)},s.prototype.once=function(m,x){return a(x),this.on(m,d(this,m,x)),this},s.prototype.prependOnceListener=function(m,x){return a(x),this.prependListener(m,d(this,m,x)),this},s.prototype.removeListener=function(m,x){var g,w,S,k,T;if(a(x),(w=this._events)===void 0)return this;if((g=w[m])===void 0)return this;if(g===x||g.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete w[m],w.removeListener&&this.emit("removeListener",m,g.listener||x));else if(typeof g!="function"){for(S=-1,k=g.length-1;k>=0;k--)if(g[k]===x||g[k].listener===x){T=g[k].listener,S=k;break}if(S<0)return this;S===0?g.shift():function(R,L){for(;L+1<R.length;L++)R[L]=R[L+1];R.pop()}(g,S),g.length===1&&(w[m]=g[0]),w.removeListener!==void 0&&this.emit("removeListener",m,T||x)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(m){var x,g,w;if((g=this._events)===void 0)return this;if(g.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):g[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete g[m]),this;if(arguments.length===0){var S,k=Object.keys(g);for(w=0;w<k.length;++w)(S=k[w])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=g[m])=="function")this.removeListener(m,x);else if(x!==void 0)for(w=x.length-1;w>=0;w--)this.removeListener(m,x[w]);return this},s.prototype.listeners=function(m){return h(this,m,!0)},s.prototype.rawListeners=function(m){return h(this,m,!1)},s.listenerCount=function(m,x){return typeof m.listenerCount=="function"?m.listenerCount(x):p.call(m,x)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},O1.exports}(),L1=wme(CN),oR=Object.prototype.hasOwnProperty;function lR(e,t,r){for(r of e.keys())if(bi(r,t))return r}function bi(e,t){var r,n,s;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&bi(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if((s=n)&&typeof s=="object"&&!(s=lR(t,s))||!t.has(s))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if((s=n[0])&&typeof s=="object"&&!(s=lR(t,s))||!bi(n[1],t.get(s)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){for(r in n=0,e)if(oR.call(e,r)&&++n&&!oR.call(t,r)||!(r in t)||!bi(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!=e&&t!=t}const bme={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},tq={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Qn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},pi={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},lu={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};let Ue=class qf{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const s=qf.getVersionPrecision(t),i=qf.getVersionPrecision(r);let a=Math.max(s,i),l=0;const c=qf.map([t,r],u=>{const d=a-qf.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return qf.map(h.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(n&&(l=a-Math.min(s,i)),a-=1;a>=l;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===l)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}}static map(t,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(s=0;s<t.length;s+=1)n.push(r(t[s]));return n}static find(t,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,s=t.length;n<s;n+=1){const i=t[n];if(r(i,n))return i}}static assign(t,...r){const n=t;let s,i;if(Object.assign)return Object.assign(t,...r);for(s=0,i=r.length;s<i;s+=1){const a=r[s];typeof a=="object"&&a!==null&&Object.keys(a).forEach(l=>{n[l]=a[l]})}return t}static getBrowserAlias(t){return bme[t]}static getBrowserTypeByAlias(t){return tq[t]||""}};const tn=/version\/(\d+(\.?_?\d+)+)/i,_me=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=Ue.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=Ue.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=Ue.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=Ue.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=Ue.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=Ue.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=Ue.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=Ue.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=Ue.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=Ue.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=Ue.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=Ue.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=Ue.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=Ue.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=Ue.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=Ue.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=Ue.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=Ue.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=Ue.getFirstMatch(tn,e)||Ue.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=Ue.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=Ue.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=Ue.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=Ue.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=Ue.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=Ue.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=Ue.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=Ue.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=Ue.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=Ue.getFirstMatch(tn,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:Ue.getFirstMatch(t,e),version:Ue.getSecondMatch(t,e)}}}];var Sme=[{test:[/Roku\/DVP/],describe(e){const t=Ue.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:pi.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=Ue.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:pi.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=Ue.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=Ue.getWindowsVersionName(t);return{name:pi.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:pi.iOS},r=Ue.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=Ue.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=Ue.getMacOSVersionName(t),n={name:pi.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=Ue.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:pi.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=Ue.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=Ue.getAndroidVersionName(t),n={name:pi.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=Ue.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:pi.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=Ue.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||Ue.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||Ue.getFirstMatch(/\bbb(\d+)/i,e);return{name:pi.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=Ue.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:pi.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=Ue.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:pi.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:pi.Linux})},{test:[/CrOS/],describe:()=>({name:pi.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=Ue.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:pi.PlayStation4,version:t}}}],jme=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=Ue.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:Qn.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Qn.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Qn.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Qn.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Qn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Qn.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Qn.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=Ue.getFirstMatch(/(ipod|iphone)/i,e);return{type:Qn.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Qn.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Qn.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:Qn.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:Qn.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:Qn.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:Qn.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:Qn.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:Qn.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:Qn.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:Qn.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:Qn.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:Qn.tv})}],Nme=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:lu.Blink};const t=Ue.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:lu.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:lu.Trident},r=Ue.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:lu.Presto},r=Ue.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:lu.Gecko},r=Ue.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:lu.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:lu.WebKit},r=Ue.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];let cR=class{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=Ue.find(_me,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=Ue.find(Sme,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=Ue.find(jme,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=Ue.find(Nme,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Ue.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const s={};let i=0;if(Object.keys(t).forEach(a=>{const l=t[a];typeof l=="string"?(s[a]=l,i+=1):typeof l=="object"&&(r[a]=l,n+=1)}),n>0){const a=Object.keys(r),l=Ue.find(a,u=>this.isOS(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}const c=Ue.find(a,u=>this.isPlatform(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}}if(i>0){const a=Object.keys(s),l=Ue.find(a,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(s[l])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=Ue.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(t){let r=[0],n=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(s=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(s=!0,n=t.substr(1)),r.indexOf(Ue.compareVersions(i,n,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */let kme=class{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new cR(t,r)}static parse(t){return new cR(t).getResult()}static get BROWSER_MAP(){return tq}static get ENGINE_MAP(){return lu}static get OS_MAP(){return pi}static get PLATFORMS_MAP(){return Qn}};function g2(){return Date.now()+Math.random().toString()}function Fg(){throw new Error("Method must be implemented in subclass")}function rq(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function zw(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:rq("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Vw(e){try{new URL(e)}catch{return!1}return!0}const hn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,gh="8.55.0",Dr=globalThis;function Ww(e,t,r){const n=Dr,s=n.__SENTRY__=n.__SENTRY__||{},i=s[gh]=s[gh]||{};return i[e]||(i[e]=t())}const nf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,EN=["debug","info","warn","error","log","assert","trace"],Hw={};function oy(e){if(!("console"in Dr))return e();const t=Dr.console,r={},n=Object.keys(Hw);n.forEach(s=>{const i=Hw[s];r[s]=t[s],t[s]=i});try{return e()}finally{n.forEach(s=>{t[s]=r[s]})}}const Qt=Ww("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return nf?EN.forEach(r=>{t[r]=(...n)=>{e&&oy(()=>{Dr.console[r](`Sentry Logger [${r}]:`,...n)})}}):EN.forEach(r=>{t[r]=()=>{}}),t}),eh="?",uR=/\(error: (.*)\)/,dR=/captureMessage|captureException/;function M1(e){return e[e.length-1]||{}}const hR="<anonymous>";function id(e){try{return e&&typeof e=="function"&&e.name||hR}catch{return hR}}function fR(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const Cx={},pR={};function vh(e,t){Cx[e]=Cx[e]||[],Cx[e].push(t)}function yh(e,t){if(!pR[e]){pR[e]=!0;try{t()}catch(r){nf&&Qt.error(`Error while instrumenting ${e}`,r)}}}function Po(e,t){const r=e&&Cx[e];if(r)for(const n of r)try{n(t)}catch(s){nf&&Qt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${id(n)}
Error:`,s)}}let N5=null;function Cme(){N5=Dr.onerror,Dr.onerror=function(e,t,r,n,s){return Po("error",{column:n,error:s,line:r,msg:e,url:t}),!!N5&&N5.apply(this,arguments)},Dr.onerror.__SENTRY_INSTRUMENTED__=!0}let k5=null;function Eme(){k5=Dr.onunhandledrejection,Dr.onunhandledrejection=function(e){return Po("unhandledrejection",e),!k5||k5.apply(this,arguments)},Dr.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function v2(){return hA(Dr),Dr}function hA(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||gh,t[gh]=t[gh]||{}}const nq=Object.prototype.toString;function fA(e){switch(nq.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ih(e,Error)}}function Vm(e,t){return nq.call(e)===`[object ${t}]`}function sq(e){return Vm(e,"ErrorEvent")}function mR(e){return Vm(e,"DOMError")}function dc(e){return Vm(e,"String")}function pA(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function AN(e){return e===null||pA(e)||typeof e!="object"&&typeof e!="function"}function dm(e){return Vm(e,"Object")}function y2(e){return typeof Event<"u"&&Ih(e,Event)}function x2(e){return!!(e&&e.then&&typeof e.then=="function")}function Ih(e,t){try{return e instanceof t}catch{return!1}}function iq(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const mA=Dr;function aq(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,s=[];let i=0,a=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&i++<n&&(u=Ame(r,d),!(u==="html"||i>1&&a+s.length*c+u.length>=h));)s.push(u),a+=u.length,r=r.parentNode;return s.reverse().join(l)}catch{return"<unknown>"}}function Ame(e,t){const r=e,n=[];if(!r||!r.tagName)return"";if(mA.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const s=t&&t.length?t.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(s&&s.length)s.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const a=r.className;if(a&&dc(a)){const l=a.split(/\s+/);for(const c of l)n.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const a of i){const l=r.getAttribute(a);l&&n.push(`[${a}="${l}"]`)}return n.join("")}function bp(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function gR(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const s=e[n];try{iq(s)?r.push("[VueViewModel]"):r.push(String(s))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function Pme(e,t,r=!1){return!!dc(e)&&(Vm(t,"RegExp")?t.test(e):!!dc(t)&&(r?e===t:e.includes(t)))}function I1(e,t=[],r=!1){return t.some(n=>Pme(e,n,r))}function ua(e,t,r){if(!(t in e))return;const n=e[t],s=r(n);typeof s=="function"&&oq(s,n);try{e[t]=s}catch{nf&&Qt.log(`Failed to replace method "${t}" in object`,e)}}function Dh(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{nf&&Qt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function oq(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,Dh(e,"__sentry_original__",t)}catch{}}function gA(e){return e.__sentry_original__}function lq(e){if(fA(e))return{message:e.message,name:e.name,stack:e.stack,...yR(e)};if(y2(e)){const t={type:e.type,target:vR(e.target),currentTarget:vR(e.currentTarget),...yR(e)};return typeof CustomEvent<"u"&&Ih(e,CustomEvent)&&(t.detail=e.detail),t}return e}function vR(e){try{return t=e,typeof Element<"u"&&Ih(t,Element)?aq(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function yR(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function $a(e){return PN(e,new Map)}function PN(e,t){if(function(r){if(!dm(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const s of Object.getOwnPropertyNames(e))e[s]!==void 0&&(n[s]=PN(e[s],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(s=>{n.push(PN(s,t))}),n}return e}function ly(){return Date.now()/1e3}const yc=function(){const{performance:e}=Dr;if(!e||!e.now)return ly;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function Wa(){const e=Dr,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function cq(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function pu(e){const{message:t,event_id:r}=e;if(t)return t;const n=cq(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function TN(e,t,r){const n=e.exception=e.exception||{},s=n.values=n.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function hm(e,t){const r=cq(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const s={...n&&n.data,...t.data};r.mechanism.data=s}}function xR(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{Dh(e,"__sentry_captured__",!0)}catch{}return!1}var ec;function Fh(e){return new cy(t=>{t(e)})}function Gw(e){return new cy((t,r)=>{r(e)})}(()=>{const{performance:e}=Dr;if(!e||!e.now)return;const t=36e5,r=e.now(),n=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,i=s<t,a=e.timing&&e.timing.navigationStart,l=typeof a=="number"?Math.abs(a+r-n):t;(i||l<t)&&s<=l&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(ec||(ec={}));let cy=class Vd{constructor(t){Vd.prototype.__init.call(this),Vd.prototype.__init2.call(this),Vd.prototype.__init3.call(this),Vd.prototype.__init4.call(this),this._state=ec.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new Vd((n,s)=>{this._handlers.push([!1,i=>{if(t)try{n(t(i))}catch(a){s(a)}else n(i)},i=>{if(r)try{n(r(i))}catch(a){s(a)}else s(i)}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Vd((r,n)=>{let s,i;return this.then(a=>{i=!1,s=a,t&&t()},a=>{i=!0,s=a,t&&t()}).then(()=>{i?n(s):r(s)})})}__init(){this._resolve=t=>{this._setResult(ec.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ec.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{this._state===ec.PENDING&&(x2(r)?r.then(this._resolve,this._reject):(this._state=t,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ec.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===ec.RESOLVED&&r[1](this._value),this._state===ec.REJECTED&&r[2](this._value),r[0]=!0)})}}};function Tme(e){const t=yc(),r={sid:Wa(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(n){return $a({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(r)};return e&&fm(r,e),r}function fm(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||yc(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Wa()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function wR(){return Wa()}function RN(){return Wa().substring(16)}function w2(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const n={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=w2(n[s],t[s],r-1));return n}const ON="_sentrySpan";function bR(e,t){t?Dh(e,ON,t):delete e[ON]}function _R(e){return e[ON]}let Rme=class uq{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:wR(),spanId:RN()}}clone(){const t=new uq;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,bR(t,_R(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&fm(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,[n,s]=r instanceof ad?[r.getScopeData(),r.getRequestSession()]:dm(r)?[t,t.requestSession]:[],{tags:i,extra:a,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:h}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...a},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,bR(this,void 0),this._attachments=[],this.setPropagationContext({traceId:wR()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const s={timestamp:ly(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_R(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=w2(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:RN(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:Wa();if(!this._client)return Qt.warn("No client configured on scope - will not capture exception!"),n;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...r,event_id:n},this),n}captureMessage(t,r,n){const s=n&&n.event_id?n.event_id:Wa();if(!this._client)return Qt.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:s},this),s}captureEvent(t,r){const n=r&&r.event_id?r.event_id:Wa();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(Qt.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};const ad=Rme;let Ome=class{constructor(t,r){let n,s;n=t||new ad,s=r||new ad,this._stack=[{scope:n}],this._isolationScope=s}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(s){throw this._popScope(),s}return x2(n)?n.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}};function pm(){const e=hA(v2());return e.stack=e.stack||new Ome(Ww("defaultCurrentScope",()=>new ad),Ww("defaultIsolationScope",()=>new ad))}function Lme(e){return pm().withScope(e)}function Mme(e,t){const r=pm();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function SR(e){return pm().withScope(()=>e(pm().getIsolationScope()))}function vA(e){const t=hA(e);return t.acs?t.acs:{withIsolationScope:SR,withScope:Lme,withSetScope:Mme,withSetIsolationScope:(r,n)=>SR(n),getCurrentScope:()=>pm().getScope(),getIsolationScope:()=>pm().getIsolationScope()}}function sf(){return vA(v2()).getCurrentScope()}function uy(){return vA(v2()).getIsolationScope()}function ii(){return sf().getClient()}function Ime(e){const t=e.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:s}=t;return $a({trace_id:r,span_id:n,parent_span_id:s})}function Dme(e){const t=e._sentryMetrics;if(!t)return;const r={};for(const[,[n,s]]of t)(r[n]||(r[n]=[])).push($a(s));return r}const Fme=/^sentry-/;function $me(e){const t=function(n){if(!(!n||!dc(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((s,i)=>{const a=jR(i);return Object.entries(a).forEach(([l,c])=>{s[l]=c}),s},{}):jR(n)}(e);if(!t)return;const r=Object.entries(t).reduce((n,[s,i])=>(s.match(Fme)&&(n[s.slice(7)]=i),n),{});return Object.keys(r).length>0?r:void 0}function jR(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}let NR=!1;function Bme(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext();return $a({parent_span_id:n?t:yA(e).parent_span_id,span_id:n?RN():t,trace_id:r})}function kR(e){return typeof e=="number"?CR(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?CR(e.getTime()):yc()}function CR(e){return e>9999999999?e/1e3:e}function yA(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:r}=e.spanContext();if(function(n){const s=n;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(e)){const{attributes:n,startTime:s,name:i,endTime:a,parentSpanId:l,status:c}=e;return $a({span_id:t,trace_id:r,data:n,description:i,parent_span_id:l,start_timestamp:kR(s),timestamp:kR(a)||void 0,status:Ume(c),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:Dme(e)})}return{span_id:t,trace_id:r}}catch{return{}}}function Ume(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function dq(e){return e._sentryRootSpan||e}function qme(){NR||(oy(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),NR=!0)}const xA="production";function hq(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},s=$a({environment:r.environment||xA,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",s),s}function zme(e){const t=ii();if(!t)return{};const r=dq(e),n=r._frozenDsc;if(n)return n;const s=r.spanContext().traceState,i=s&&s.get("sentry.dsc"),a=i&&$me(i);if(a)return a;const l=hq(e.spanContext().traceId,t),c=yA(r),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const h=u["sentry.source"],p=c.description;return h!=="url"&&p&&(l.transaction=p),function(f){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const v=ii(),m=v&&v.getOptions();return!!m&&(m.enableTracing||"tracesSampleRate"in m||"tracesSampler"in m)}()&&(l.sampled=String(function(f){const{traceFlags:v}=f.spanContext();return v===1}(r))),t.emit("createDsc",l,r),l}const Vme=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Yw(e,t=!1){const{host:r,path:n,pass:s,port:i,projectId:a,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&s?`:${s}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${a}`}function ER(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Wme(e){const t=typeof e=="string"?function(r){const n=Vme.exec(r);if(!n)return void oy(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[s,i,a="",l="",c="",u=""]=n.slice(1);let d="",h=u;const p=h.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),h=p.pop()),h){const f=h.match(/^\d+/);f&&(h=f[0])}return ER({host:l,pass:a,path:d,projectId:h,port:c,protocol:s,publicKey:i})}(e):ER(e);if(t&&function(r){if(!nf)return!0;const{port:n,projectId:s,protocol:i}=r;return!(["protocol","publicKey","host","projectId"].find(a=>!r[a]&&(Qt.error(`Invalid Sentry Dsn: ${a} missing`),!0))||(s.match(/^\d+$/)?function(a){return a==="http"||a==="https"}(i)?n&&isNaN(parseInt(n,10))&&(Qt.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(Qt.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(Qt.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}function tc(e,t=100,r=1/0){try{return LN("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function fq(e,t=3,r=102400){const n=tc(e,t);return s=n,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>r?fq(e,t-1,r):n;var s}function LN(e,t,r=1/0,n=1/0,s=function(){const i=typeof WeakSet=="function",a=i?new WeakSet:[];return[function(l){if(i)return!!a.has(l)||(a.add(l),!1);for(let c=0;c<a.length;c++)if(a[c]===l)return!0;return a.push(l),!1},function(l){if(i)a.delete(l);else for(let c=0;c<a.length;c++)if(a[c]===l){a.splice(c,1);break}}]}()){const[i,a]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(f,v){try{if(f==="domain"&&v&&typeof v=="object"&&v._events)return"[Domain]";if(f==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&v===global)return"[Global]";if(typeof window<"u"&&v===window)return"[Window]";if(typeof document<"u"&&v===document)return"[Document]";if(iq(v))return"[VueViewModel]";if(dm(m=v)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m)return"[SyntheticEvent]";if(typeof v=="number"&&!Number.isFinite(v))return`[${v}]`;if(typeof v=="function")return`[Function: ${id(v)}]`;if(typeof v=="symbol")return`[${String(v)}]`;if(typeof v=="bigint")return`[BigInt: ${String(v)}]`;const x=function(g){const w=Object.getPrototypeOf(g);return w?w.constructor.name:"null prototype"}(v);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}var m}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return LN("",u.toJSON(),c-1,n,s)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const p=lq(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(h>=n){d[f]="[MaxProperties ~]";break}const v=p[f];d[f]=LN(f,v,c-1,n,s),h++}return a(t),d}function u0(e,t=[]){return[e,t]}function Hme(e,t){const[r,n]=e;return[r,[...n,t]]}function AR(e,t){const r=e[1];for(const n of r)if(t(n,n[0].type))return!0;return!1}function MN(e){return Dr.__SENTRY__&&Dr.__SENTRY__.encodePolyfill?Dr.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function Gme(e){const[t,r]=e;let n=JSON.stringify(t);function s(i){typeof n=="string"?n=typeof i=="string"?n+i:[MN(n),i]:n.push(typeof i=="string"?MN(i):i)}for(const i of r){const[a,l]=i;if(s(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(tc(l))}s(c)}}return typeof n=="string"?n:function(i){const a=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(a);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(n)}function Yme(e){const t=typeof e.data=="string"?MN(e.data):e.data;return[$a({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Kme={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function PR(e){return Kme[e]}function pq(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function Jme(e,t,r,n){const s=pq(r),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,r&&r.sdk);const a=function(l,c,u,d){const h=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:Yw(d)},...h&&{trace:$a({...h})}}}(e,s,n,t);return delete e.sdkProcessingMetadata,u0(a,[[{type:i},e]])}function IN(e,t,r,n=0){return new cy((s,i)=>{const a=e[n];if(t===null||typeof a!="function")s(t);else{const l=a({...t},r);hn&&a.id&&l===null&&Qt.log(`Event processor "${a.id}" dropped event`),x2(l)?l.then(c=>IN(e,c,r,n+1).then(s)).then(null,i):IN(e,l,r,n+1).then(s).then(null,i)}})}let D1,TR,C5;function Qme(e,t){const{fingerprint:r,span:n,breadcrumbs:s,sdkProcessingMetadata:i}=t;(function(a,l){const{extra:c,tags:u,user:d,contexts:h,level:p,transactionName:f}=l,v=$a(c);v&&Object.keys(v).length&&(a.extra={...v,...a.extra});const m=$a(u);m&&Object.keys(m).length&&(a.tags={...m,...a.tags});const x=$a(d);x&&Object.keys(x).length&&(a.user={...x,...a.user});const g=$a(h);g&&Object.keys(g).length&&(a.contexts={...g,...a.contexts}),p&&(a.level=p),f&&a.type!=="transaction"&&(a.transaction=f)})(e,t),n&&function(a,l){a.contexts={trace:Bme(l),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:zme(l),...a.sdkProcessingMetadata};const c=dq(l),u=yA(c).description;u&&!a.transaction&&a.type==="transaction"&&(a.transaction=u)}(e,n),function(a,l){a.fingerprint=a.fingerprint?Array.isArray(a.fingerprint)?a.fingerprint:[a.fingerprint]:[],l&&(a.fingerprint=a.fingerprint.concat(l)),a.fingerprint&&!a.fingerprint.length&&delete a.fingerprint}(e,r),function(a,l){const c=[...a.breadcrumbs||[],...l];a.breadcrumbs=c.length?c:void 0}(e,s),function(a,l){a.sdkProcessingMetadata={...a.sdkProcessingMetadata,...l}}(e,i)}function RR(e,t){const{extra:r,tags:n,user:s,contexts:i,level:a,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:p,transactionName:f,span:v}=t;F1(e,"extra",r),F1(e,"tags",n),F1(e,"user",s),F1(e,"contexts",i),e.sdkProcessingMetadata=w2(e.sdkProcessingMetadata,l,2),a&&(e.level=a),f&&(e.transactionName=f),v&&(e.span=v),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...p}}function F1(e,t,r){e[t]=w2(e[t],r,1)}function Zme(e,t,r,n,s,i){const{normalizeDepth:a=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||r.event_id||Wa(),timestamp:t.timestamp||ly()},u=r.integrations||e.integrations.map(v=>v.name);(function(v,m){const{environment:x,release:g,dist:w,maxValueLength:S=250}=m;v.environment=v.environment||x||xA,!v.release&&g&&(v.release=g),!v.dist&&w&&(v.dist=w),v.message&&(v.message=bp(v.message,S));const k=v.exception&&v.exception.values&&v.exception.values[0];k&&k.value&&(k.value=bp(k.value,S));const T=v.request;T&&T.url&&(T.url=bp(T.url,S))})(c,e),function(v,m){m.length>0&&(v.sdk=v.sdk||{},v.sdk.integrations=[...v.sdk.integrations||[],...m])}(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&function(v,m){const x=function(g){const w=Dr._sentryDebugIds;if(!w)return{};const S=Object.keys(w);return C5&&S.length===TR||(TR=S.length,C5=S.reduce((k,T)=>{D1||(D1={});const R=D1[T];if(R)k[R[0]]=R[1];else{const L=g(T);for(let D=L.length-1;D>=0;D--){const M=L[D],G=M&&M.filename,A=w[T];if(G&&A){k[G]=A,D1[T]=[G,A];break}}}return k},{})),C5}(m);try{v.exception.values.forEach(g=>{g.stacktrace.frames.forEach(w=>{x&&w.filename&&(w.debug_id=x[w.filename])})})}catch{}}(c,e.stackParser);const d=function(v,m){if(!m)return v;const x=v?v.clone():new ad;return x.update(m),x}(n,r.captureContext);r.mechanism&&hm(c,r.mechanism);const h=s?s.getEventProcessors():[],p=Ww("globalScope",()=>new ad).getScopeData();i&&RR(p,i.getScopeData()),d&&RR(p,d.getScopeData());const f=[...r.attachments||[],...p.attachments];return f.length&&(r.attachments=f),Qme(c,p),IN([...h,...p.eventProcessors],c,r).then(v=>(v&&function(m){const x={};try{m.exception.values.forEach(w=>{w.stacktrace.frames.forEach(S=>{S.debug_id&&(S.abs_path?x[S.abs_path]=S.debug_id:S.filename&&(x[S.filename]=S.debug_id),delete S.debug_id)})})}catch{}if(Object.keys(x).length===0)return;m.debug_meta=m.debug_meta||{},m.debug_meta.images=m.debug_meta.images||[];const g=m.debug_meta.images;Object.entries(x).forEach(([w,S])=>{g.push({type:"sourcemap",code_file:w,debug_id:S})})}(v),typeof a=="number"&&a>0?function(m,x,g){if(!m)return null;const w={...m,...m.breadcrumbs&&{breadcrumbs:m.breadcrumbs.map(S=>({...S,...S.data&&{data:tc(S.data,x,g)}}))},...m.user&&{user:tc(m.user,x,g)},...m.contexts&&{contexts:tc(m.contexts,x,g)},...m.extra&&{extra:tc(m.extra,x,g)}};return m.contexts&&m.contexts.trace&&w.contexts&&(w.contexts.trace=m.contexts.trace,m.contexts.trace.data&&(w.contexts.trace.data=tc(m.contexts.trace.data,x,g))),m.spans&&(w.spans=m.spans.map(S=>({...S,...S.data&&{data:tc(S.data,x,g)}}))),m.contexts&&m.contexts.flags&&w.contexts&&(w.contexts.flags=tc(m.contexts.flags,3,g)),w}(v,a,l):v))}function OR(e,t){return sf().captureEvent(e,t)}function LR(e){const t=ii(),r=uy(),n=sf(),{release:s,environment:i=xA}=t&&t.getOptions()||{},{userAgent:a}=Dr.navigator||{},l=Tme({release:s,environment:i,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...e}),c=r.getSession();return c&&c.status==="ok"&&fm(c,{status:"exited"}),mq(),r.setSession(l),n.setSession(l),l}function mq(){const e=uy(),t=sf(),r=t.getSession()||e.getSession();r&&function(n,s){let i={};n.status==="ok"&&(i={status:"exited"}),fm(n,i)}(r),gq(),e.setSession(),t.setSession()}function gq(){const e=uy(),t=sf(),r=ii(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function MR(e=!1){e?mq():gq()}function Xme(e,t,r){return t||`${function(n){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",a=s.port?`:${s.port}`:"";return`${i}//${s.host}${a}${s.path?`/${s.path}`:""}/api/`}(n)}${n.projectId}/envelope/`}(e)}?${function(n,s){const i={sentry_version:"7"};return n.publicKey&&(i.sentry_key=n.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(e,r)}`}const IR=[];function DR(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function FR(e,t,r){if(r[t.name])hn&&Qt.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,IR.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),IR.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>n(s,i,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),s=Object.assign((i,a)=>n(i,a,e),{id:t.name});e.addEventProcessor(s)}hn&&Qt.log(`Integration installed: ${t.name}`)}}class mo extends Error{constructor(t,r="warn"){super(t),this.message=t,this.logLevel=r}}const $R="Not capturing exception because it's already been captured.";class ege{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Wme(t.dsn):hn&&Qt.warn("No DSN provided, client will not send events."),this._dsn){const n=Xme(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(n=>n in t&&t[n]==null);r&&oy(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,r,n){const s=Wa();if(xR(t))return hn&&Qt.log($R),s;const i={event_id:s,...r};return this._process(this.eventFromException(t,i).then(a=>this._captureEvent(a,i,n))),i.event_id}captureMessage(t,r,n,s){const i={event_id:Wa(),...n},a=pA(t)?t:String(t),l=AN(t)?this.eventFromMessage(a,r,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,s))),i.event_id}captureEvent(t,r,n){const s=Wa();if(r&&r.originalException&&xR(r.originalException))return hn&&Qt.log($R),s;const i={event_id:s,...r},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,a||n)),i.event_id}captureSession(t){typeof t.release!="string"?hn&&Qt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),fm(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(s=>n&&s))):Fh(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];FR(this,t,this._integrations),r||DR(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=Jme(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=Hme(n,Yme(i));const s=this.sendEnvelope(n);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const r=function(n,s,i,a){const l=pq(i);return u0({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!a&&s&&{dsn:Yw(s)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const s=typeof n=="number"?n:1,i=`${t}:${r}`;hn&&Qt.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const s=n.indexOf(r);s>-1&&n.splice(s,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(s=>s(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(hn&&Qt.error("Error while sending envelope:",r),r)):(hn&&Qt.error("Transport disabled"),Fh({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(r,n){const s={};return n.forEach(i=>{i&&FR(r,i,s)}),s}(this,t),DR(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",s=!1;const i=r.exception&&r.exception.values;if(i){s=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){n=!0;break}}}const a=t.status==="ok";(a&&t.errors===0||a&&n)&&(fm(t,{...n&&{status:"crashed"},errors:t.errors||Number(s||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new cy(r=>{let n=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=1,t&&n>=t&&(clearInterval(s),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n=sf(),s=uy()){const i=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",t,r),t.type||s.setLastEventId(t.event_id||r.event_id),Zme(i,t,r,n,this,s).then(l=>{if(l===null)return l;l.contexts={trace:Ime(n),...l.contexts};const c=function(u,d){const h=d.getPropagationContext();return h.dsc||hq(h.traceId,u)}(this,n);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(s=>s.event_id,s=>{hn&&(s instanceof mo&&s.logLevel==="log"?Qt.log(s.message):Qt.warn(s))})}_processEvent(t,r,n){const s=this.getOptions(),{sampleRate:i}=s,a=UR(t),l=BR(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(f){if(typeof f=="boolean")return Number(f);const v=typeof f=="string"?parseFloat(f):f;if(!(typeof v!="number"||isNaN(v)||v<0||v>1))return v;hn&&Qt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(f)} of type ${JSON.stringify(typeof f)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Gw(new mo(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=c==="replay_event"?"replay":c,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,p).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",h,t),new mo("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return f;const v=function(m,x,g,w){const{beforeSend:S,beforeSendTransaction:k,beforeSendSpan:T}=x;if(BR(g)&&S)return S(g,w);if(UR(g)){if(g.spans&&T){const R=[];for(const L of g.spans){const D=T(L);D?R.push(D):(qme(),m.recordDroppedEvent("before_send","span"))}g.spans=R}if(k){if(g.spans){const R=g.spans.length;g.sdkProcessingMetadata={...g.sdkProcessingMetadata,spanCountBeforeProcessing:R}}return k(g,w)}}return g}(this,s,f,r);return function(m,x){const g=`${x} must return \`null\` or a valid event.`;if(x2(m))return m.then(w=>{if(!dm(w)&&w!==null)throw new mo(g);return w},w=>{throw new mo(`${x} rejected with ${w}`)});if(!dm(m)&&m!==null)throw new mo(g);return m}(v,u)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",h,t),a){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new mo(`${u} returned \`null\`, will not send event.`,"log")}const v=n&&n.getSession();if(!a&&v&&this._updateSessionFromEvent(v,f),a){const x=(f.sdkProcessingMetadata&&f.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(f.spans?f.spans.length:0);x>0&&this.recordDroppedEvent("before_send","span",x)}const m=f.transaction_info;if(a&&m&&f.transaction!==t.transaction){const x="custom";f.transaction_info={...m,source:x}}return this.sendEvent(f,r),f}).then(null,f=>{throw f instanceof mo?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new mo(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[s,i]=r.split(":");return{reason:s,category:i,quantity:n}})}_flushOutcomes(){hn&&Qt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(hn&&Qt.log("No outcomes to send"));if(!this._dsn)return void(hn&&Qt.log("No dsn provided, will not send outcomes"));hn&&Qt.log("Sending outcomes:",t);const r=(n=t,u0((s=this._options.tunnel&&Yw(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||ly(),discarded_events:n}]]));var n,s,i;this.sendEnvelope(r)}}function BR(e){return e.type===void 0}function UR(e){return e.type==="transaction"}function tge(e){const t=[];function r(n){return t.splice(t.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(e===void 0||t.length<e))return Gw(new mo("Not adding Promise because buffer limit was reached."));const s=n();return t.indexOf(s)===-1&&t.push(s),s.then(()=>r(s)).then(null,()=>r(s).then(null,()=>{})),s},drain:function(n){return new cy((s,i)=>{let a=t.length;if(!a)return s(!0);const l=setTimeout(()=>{n&&n>0&&s(!1)},n);t.forEach(c=>{Fh(c).then(()=>{--a||(clearTimeout(l),s(!0))},i)})})}}}function rge(e,{statusCode:t,headers:r},n=Date.now()){const s={...e},i=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),h=parseInt(c,10),p=1e3*(isNaN(h)?60:h);if(u)for(const f of u.split(";"))f==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[f]=n+p);else s.all=n+p}else a?s.all=n+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(a,n):t===429&&(s.all=n+6e4);return s}function nge(e,t,r=tge(e.bufferSize||64)){let n={};return{send:function(s){const i=[];if(AR(s,(c,u)=>{const d=PR(u);if(function(h,p,f=Date.now()){return function(v,m){return v[m]||v.all||0}(h,p)>f}(n,d)){const h=qR(c,u);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(c)}),i.length===0)return Fh({});const a=u0(s[0],i),l=c=>{AR(a,(u,d)=>{const h=qR(u,d);e.recordDroppedEvent(c,PR(d),h)})};return r.add(()=>t({body:Gme(a)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&hn&&Qt.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),n=rge(n,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof mo)return hn&&Qt.error("Skipped sending event because buffer is full."),l("queue_overflow"),Fh({});throw c})},flush:s=>r.drain(s)}}function qR(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const sge=100;function Id(e,t){const r=ii(),n=uy();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=sge}=r.getOptions();if(i<=0)return;const a={timestamp:ly(),...e},l=s?oy(()=>s(a,t)):a;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,i))}let zR;const VR=new WeakMap,ige=()=>({name:"FunctionToString",setupOnce(){zR=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=gA(this),r=VR.has(ii())&&t!==void 0?t:this;return zR.apply(r,e)}}catch{}},setup(e){VR.set(e,!0)}}),age=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],oge=(e={})=>({name:"InboundFilters",processEvent(t,r,n){const s=n.getOptions(),i=function(a={},l={}){return{allowUrls:[...a.allowUrls||[],...l.allowUrls||[]],denyUrls:[...a.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...l.ignoreErrors||[],...a.disableErrorDefaults?[]:age],ignoreTransactions:[...a.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:a.ignoreInternal===void 0||a.ignoreInternal}}(e,s);return function(a,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(a)?(hn&&Qt.warn(`Event dropped due to being internal Sentry Error.
Event: ${pu(a)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const h=[];d.message&&h.push(d.message);let p;try{p=d.exception.values[d.exception.values.length-1]}catch{}return p&&p.value&&(h.push(p.value),p.type&&h.push(`${p.type}: ${p.value}`)),h}(c).some(d=>I1(d,u))}(a,l.ignoreErrors)?(hn&&Qt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${pu(a)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(a)?(hn&&Qt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${pu(a)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&I1(d,u)}(a,l.ignoreTransactions)?(hn&&Qt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${pu(a)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=$1(c);return!!d&&I1(d,u)}(a,l.denyUrls)?(hn&&Qt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${pu(a)}.
Url: ${$1(a)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=$1(c);return!d||I1(d,u)}(a,l.allowUrls)?!1:(hn&&Qt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${pu(a)}.
Url: ${$1(a)}`),!0)}(t,i)?null:t}});function $1(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(r=[]){for(let n=r.length-1;n>=0;n--){const s=r[n];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(t):null}catch{return hn&&Qt.error(`Cannot extract url for event ${pu(e)}`),null}}function lge(e,t,r=250,n,s,i,a){if(!(i.exception&&i.exception.values&&a&&Ih(a.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=DN(e,t,s,a.originalException,n,i.exception.values,l,0),u=r,c.map(d=>(d.value&&(d.value=bp(d.value,u)),d))))}function DN(e,t,r,n,s,i,a,l){if(i.length>=r+1)return i;let c=[...i];if(Ih(n[s],Error)){WR(a,l);const u=e(t,n[s]),d=c.length;HR(u,s,d,l),c=DN(e,t,r,n[s],s,[u,...c],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(Ih(u,Error)){WR(a,l);const h=e(t,u),p=c.length;HR(h,`errors[${d}]`,p,l),c=DN(e,t,r,u,s,[h,...c],h,p)}}),c}function WR(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function HR(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function E5(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function cge(){"console"in Dr&&EN.forEach(function(e){e in Dr.console&&ua(Dr.console,e,function(t){return Hw[e]=t,function(...r){Po("console",{args:r,level:e});const n=Hw[e];n&&n.apply(Dr.console,r)}})})}function uge(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const dge=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(r,n){return n?!!(function(s,i){const a=s.message,l=i.message;return!(!a&&!l||a&&!l||!a&&l||a!==l||!YR(s,i)||!GR(s,i))}(r,n)||function(s,i){const a=KR(i),l=KR(s);return!(!a||!l||a.type!==l.type||a.value!==l.value||!YR(s,i)||!GR(s,i))}(r,n)):!1}(t,e))return hn&&Qt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function GR(e,t){let r=fR(e),n=fR(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let s=0;s<n.length;s++){const i=n[s],a=r[s];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function YR(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function KR(e){return e.exception&&e.exception.values&&e.exception.values[0]}function JR(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const A5=Dr;function FN(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function hge(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in A5))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(FN(A5.fetch))return!0;let e=!1;const t=A5.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=FN(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){nf&&Qt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function fge(e,t){const r="fetch";vh(r,e),yh(r,()=>function(n,s=!1){s&&!hge()||ua(Dr,"fetch",function(i){return function(...a){const l=new Error,{method:c,url:u}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[f,v]=h;return{url:QR(f),method:$N(v,"method")?String(v.method).toUpperCase():"GET"}}const p=h[0];return{url:QR(p),method:$N(p,"method")?String(p.method).toUpperCase():"GET"}}(a),d={args:a,fetchData:{method:c,url:u},startTimestamp:1e3*yc(),virtualError:l};return n||Po("fetch",{...d}),i.apply(Dr,a).then(async h=>(n?n(h):Po("fetch",{...d,endTimestamp:1e3*yc(),response:h}),h),h=>{throw Po("fetch",{...d,endTimestamp:1e3*yc(),error:h}),fA(h)&&h.stack===void 0&&(h.stack=l.stack,Dh(h,"framesToPop",1)),h})}})}(void 0,t))}function $N(e,t){return!!e&&typeof e=="object"&&!!e[t]}function QR(e){return typeof e=="string"?e:e?$N(e,"url")?e.url:e.toString?e.toString():"":""}const B1=Dr,Rs=Dr;let BN=0;function ZR(){return BN>0}function mm(e,t={}){if(!function(n){return typeof n=="function"}(e))return e;try{const n=e.__sentry_wrapped__;if(n)return typeof n=="function"?n:e;if(gA(e))return e}catch{return e}const r=function(...n){try{const s=n.map(i=>mm(i,t));return e.apply(this,s)}catch(s){throw BN++,setTimeout(()=>{BN--}),function(...i){const a=vA(v2());if(i.length===2){const[l,c]=i;return l?a.withSetScope(l,c):a.withScope(c)}a.withScope(i[0])}(i=>{var a;i.addEventProcessor(l=>(t.mechanism&&(TN(l,void 0),hm(l,t.mechanism)),l.extra={...l.extra,arguments:n},l)),a=s,sf().captureException(a,void 0)}),s}};try{for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}catch{}oq(r,e),Dh(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const b2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function wA(e,t){const r=bA(e,t),n={type:gge(t),value:vge(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function pge(e,t,r,n){const s=ii(),i=s&&s.getOptions().normalizeDepth,a=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const h=u[d];if(h instanceof Error)return h}}(t),l={__serialized__:fq(t,i)};if(a)return{exception:{values:[wA(e,a)]},extra:l};const c={exception:{values:[{type:y2(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:yge(t,{isUnhandledRejection:n})}]},extra:l};if(r){const u=bA(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function P5(e,t){return{exception:{values:[wA(e,t)]}}}function bA(e,t){const r=t.stacktrace||t.stack||"",n=function(i){return i&&mge.test(i.message)?1:0}(t),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(r,n,s)}catch{}return[]}const mge=/Minified React error #\d+;/i;function vq(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function gge(e){const t=e&&e.name;return!t&&vq(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function vge(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:vq(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function UN(e,t,r,n,s){let i;if(sq(t)&&t.error)return P5(e,t.error);if(mR(t)||Vm(t,"DOMException")){const a=t;if("stack"in t)i=P5(e,t);else{const l=a.name||(mR(a)?"DOMError":"DOMException"),c=a.message?`${l}: ${a.message}`:l;i=qN(e,c,r,n),TN(i,c)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return fA(t)?P5(e,t):dm(t)||y2(t)?(i=pge(e,t,r,s),hm(i,{synthetic:!0}),i):(i=qN(e,t,r,n),TN(i,`${t}`),hm(i,{synthetic:!0}),i)}function qN(e,t,r,n){const s={};if(n&&r){const i=bA(e,r);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),hm(s,{synthetic:!0})}if(pA(t)){const{__sentry_template_string__:i,__sentry_template_values__:a}=t;return s.logentry={message:i,params:a},s}return s.message=t,s}function yge(e,{isUnhandledRejection:t}){const r=function(s,i=40){const a=Object.keys(lq(s));a.sort();const l=a[0];if(!l)return"[object has no keys]";if(l.length>=i)return bp(l,i);for(let c=a.length;c>0;c--){const u=a.slice(0,c).join(", ");if(!(u.length>i))return c===a.length?u:bp(u,i)}return""}(e),n=t?"promise rejection":"exception";return sq(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:y2(e)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class xge extends ege{constructor(t){const r={parentSpanIsAlwaysRootSpan:!0,...t};(function(n,s,i=[s],a="npm"){const l=n._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${s}`,packages:i.map(c=>({name:`${a}:@sentry/${c}`,version:gh})),version:gh}),n._metadata=l})(r,"browser",["browser"],Rs.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&Rs.document&&Rs.document.addEventListener("visibilitychange",()=>{Rs.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return function(n,s,i,a){const l=UN(n,s,i&&i.syntheticException||void 0,a);return hm(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),Fh(l)}(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return function(s,i,a="info",l,c){const u=qN(s,i,l&&l.syntheticException||void 0,c);return u.level=a,l&&l.event_id&&(u.event_id=l.event_id),Fh(u)}(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(b2&&Qt.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:s,tunnel:i,dsn:a}){const l={event_id:n.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!a&&{dsn:Yw(a)}};return u0(l,[function(u){return[{type:"user_report"},u]}(n)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}}const wge=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_i=Dr;let XR,T5,R5,U1;function bge(){if(!_i.document)return;const e=Po.bind(null,"dom"),t=eO(e,!0);_i.document.addEventListener("click",t,!1),_i.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=_i[r],s=n&&n.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(ua(s,"addEventListener",function(i){return function(a,l,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[a]=u[a]||{refCount:0};if(!d.handler){const h=eO(e);d.handler=h,i.call(this,a,h,c)}d.refCount++}catch{}return i.call(this,a,l,c)}}),ua(s,"removeEventListener",function(i){return function(a,l,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[a];d&&(d.refCount--,d.refCount<=0&&(i.call(this,a,d.handler,c),d.handler=void 0,delete u[a]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,l,c)}}))})}function eO(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(i){try{return i.target}catch{return null}}(r);if(function(i,a){return i==="keypress"&&(!a||!a.tagName||a.tagName!=="INPUT"&&a.tagName!=="TEXTAREA"&&!a.isContentEditable)}(r.type,n))return;Dh(r,"_sentryCaptured",!0),n&&!n._sentryId&&Dh(n,"_sentryId",Wa());const s=r.type==="keypress"?"input":r.type;(function(i){if(i.type!==T5)return!1;try{if(!i.target||i.target._sentryId!==R5)return!1}catch{}return!0})(r)||(e({event:r,name:s,global:t}),T5=r.type,R5=n?n._sentryId:void 0),clearTimeout(XR),XR=_i.setTimeout(()=>{R5=void 0,T5=void 0},1e3)}}function yq(e){const t="history";vh(t,e),yh(t,_ge)}function _ge(){if(!function(){const r=B1.chrome,n=r&&r.app&&r.app.runtime,s="history"in B1&&!!B1.history.pushState&&!!B1.history.replaceState;return!n&&s}())return;const e=_i.onpopstate;function t(r){return function(...n){const s=n.length>2?n[2]:void 0;if(s){const i=U1,a=String(s);U1=a,Po("history",{from:i,to:a})}return r.apply(this,n)}}_i.onpopstate=function(...r){const n=_i.location.href,s=U1;if(U1=n,Po("history",{from:s,to:n}),e)try{return e.apply(this,r)}catch{}},ua(_i.history,"pushState",t),ua(_i.history,"replaceState",t)}const Ex={};function tO(e){Ex[e]=void 0}const ev="__sentry_xhr_v3__";function Sge(){if(!_i.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const s=new Error,i=1e3*yc(),a=dc(n[0])?n[0].toUpperCase():void 0,l=function(u){if(dc(u))return u;try{return u.toString()}catch{}}(n[1]);if(!a||!l)return t.apply(r,n);r[ev]={method:a,url:l,request_headers:{}},a==="POST"&&l.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[ev];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}Po("xhr",{endTimestamp:1e3*yc(),startTimestamp:i,xhr:r,virtualError:s})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(u,d,h)=>(c(),u.apply(d,h))}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,d,h){const[p,f]=h,v=d[ev];return v&&dc(p)&&dc(f)&&(v.request_headers[p.toLowerCase()]=f),u.apply(d,h)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const s=r[ev];return s?(n[0]!==void 0&&(s.body=n[0]),Po("xhr",{startTimestamp:1e3*yc(),xhr:r}),t.apply(r,n)):t.apply(r,n)}})}function jge(e,t=function(r){const n=Ex[r];if(n)return n;let s=_i[r];if(FN(s))return Ex[r]=s.bind(_i);const i=_i.document;if(i&&typeof i.createElement=="function")try{const a=i.createElement("iframe");a.hidden=!0,i.head.appendChild(a);const l=a.contentWindow;l&&l[r]&&(s=l[r]),i.head.removeChild(a)}catch(a){wge&&Qt.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,a)}return s&&(Ex[r]=s.bind(_i))}("fetch")){let r=0,n=0;return nge(e,function(s){const i=s.body.length;r+=i,n++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return tO("fetch"),Gw("No fetch implementation available");try{return t(e.url,a).then(l=>(r-=i,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return tO("fetch"),r-=i,n--,Gw(l)}})}function O5(e,t,r,n){const s={filename:e,function:t==="<anonymous>"?eh:t,in_app:!0};return r!==void 0&&(s.lineno=r),n!==void 0&&(s.colno=n),s}const Nge=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,kge=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Cge=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ege=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Age=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Pge=function(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,s=0)=>{const i=[],a=r.split(`
`);for(let l=n;l<a.length;l++){const c=a[l];if(c.length>1024)continue;const u=uR.test(c)?c.replace(uR,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const h=d(u);if(h){i.push(h);break}}if(i.length>=50+s)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(M1(c).function||"")&&c.pop(),c.reverse(),dR.test(M1(c).function||"")&&(c.pop(),dR.test(M1(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||M1(c).filename,function:u.function||eh}))}(i.slice(s))}}([30,e=>{const t=Nge.exec(e);if(t){const[,n,s,i]=t;return O5(n,eh,+s,+i)}const r=kge.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const i=Cge.exec(r[2]);i&&(r[2]=i[1],r[3]=i[2],r[4]=i[3])}const[n,s]=rO(r[1]||eh,r[2]);return O5(s,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{const t=Ege.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=Age.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],n=t[1]||eh;return[n,r]=rO(n,r),O5(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),rO=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:eh,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},nO=1024,Tge=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(r){var n;t.console&&function(s){const i="console";vh(i,s),yh(i,cge)}(function(s){return function(i){if(ii()!==s)return;const a={category:"console",data:{arguments:i.args,logger:"console"},level:uge(i.level),message:gR(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;a.message=`Assertion failed: ${gR(i.args.slice(1)," ")||"console.assert"}`,a.data.arguments=i.args.slice(1)}Id(a,{input:i.args,level:i.level})}}(r)),t.dom&&(n=function(s,i){return function(a){if(ii()!==s)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>nO&&(b2&&Qt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=nO),typeof u=="string"&&(u=[u]);try{const p=a.event,f=function(v){return!!v&&!!v.target}(p)?p.target:p;l=aq(f,{keyAttrs:u,maxStringLength:d}),c=function(v){if(!mA.HTMLElement)return null;let m=v;for(let x=0;x<5;x++){if(!m)return null;if(m instanceof HTMLElement){if(m.dataset.sentryComponent)return m.dataset.sentryComponent;if(m.dataset.sentryElement)return m.dataset.sentryElement}m=m.parentNode}return null}(f)}catch{l="<unknown>"}if(l.length===0)return;const h={category:`ui.${a.name}`,message:l};c&&(h.data={"ui.component_name":c}),Id(h,{event:a.event,name:a.name,global:a.global})}}(r,t.dom),vh("dom",n),yh("dom",bge)),t.xhr&&function(s){vh("xhr",s),yh("xhr",Sge)}(function(s){return function(i){if(ii()!==s)return;const{startTimestamp:a,endTimestamp:l}=i,c=i.xhr[ev];if(!a||!l||!c)return;const{method:u,url:d,status_code:h,body:p}=c,f={method:u,url:d,status_code:h},v={xhr:i.xhr,input:p,startTimestamp:a,endTimestamp:l};Id({category:"xhr",data:f,type:"http",level:JR(h)},v)}}(r)),t.fetch&&fge(function(s){return function(i){if(ii()!==s)return;const{startTimestamp:a,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)Id({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:a,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:a,endTimestamp:l};Id({category:"fetch",data:u,type:"http",level:JR(u.status_code)},d)}}}(r)),t.history&&yq(function(s){return function(i){if(ii()!==s)return;let a=i.from,l=i.to;const c=E5(Rs.location.href);let u=a?E5(a):void 0;const d=E5(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(a=u.relative),Id({category:"navigation",data:{from:a,to:l}})}}(r)),t.sentry&&r.on("beforeSendEvent",function(s){return function(i){ii()===s&&Id({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:pu(i)},{event:i})}}(r))}}},Rge=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Oge=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&ua(Rs,"setTimeout",sO),t.setInterval&&ua(Rs,"setInterval",sO),t.requestAnimationFrame&&ua(Rs,"requestAnimationFrame",Lge),t.XMLHttpRequest&&"XMLHttpRequest"in Rs&&ua(XMLHttpRequest.prototype,"send",Mge);const r=t.eventTarget;r&&(Array.isArray(r)?r:Rge).forEach(Ige)}}};function sO(e){return function(...t){const r=t[0];return t[0]=mm(r,{mechanism:{data:{function:id(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Lge(e){return function(t){return e.apply(this,[mm(t,{mechanism:{data:{function:"requestAnimationFrame",handler:id(e)},handled:!1,type:"instrument"}})])}}function Mge(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&ua(r,n,function(s){const i={mechanism:{data:{function:n,handler:id(s)},handled:!1,type:"instrument"}},a=gA(s);return a&&(i.mechanism.data.handler=id(a)),mm(s,i)})}),e.apply(this,t)}}function Ige(e){const t=Rs[e],r=t&&t.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(ua(r,"addEventListener",function(n){return function(s,i,a){try{typeof i.handleEvent=="function"&&(i.handleEvent=mm(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:id(i),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[s,mm(i,{mechanism:{data:{function:"addEventListener",handler:id(i),target:e},handled:!1,type:"instrument"}}),a])}}),ua(r,"removeEventListener",function(n){return function(s,i,a){try{const l=i.__sentry_wrapped__;l&&n.call(this,s,l,a)}catch{}return n.call(this,s,i,a)}}))}const Dge=()=>({name:"BrowserSession",setupOnce(){Rs.document!==void 0?(LR({ignoreDuration:!0}),MR(),yq(({from:e,to:t})=>{e!==void 0&&e!==t&&(LR({ignoreDuration:!0}),MR())})):b2&&Qt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),Fge=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(function(n){(function(s){const i="error";vh(i,s),yh(i,Cme)})(s=>{const{stackParser:i,attachStacktrace:a}=aO();if(ii()!==n||ZR())return;const{msg:l,url:c,line:u,column:d,error:h}=s,p=function(f,v,m,x){const g=f.exception=f.exception||{},w=g.values=g.values||[],S=w[0]=w[0]||{},k=S.stacktrace=S.stacktrace||{},T=k.frames=k.frames||[],R=x,L=m,D=dc(v)&&v.length>0?v:function(){try{return mA.document.location.href}catch{return""}}();return T.length===0&&T.push({colno:R,filename:D,function:eh,in_app:!0,lineno:L}),f}(UN(i,h||l,void 0,a,!1),c,u,d);p.level="error",OR(p,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(r),iO("onerror")),t.onunhandledrejection&&(function(n){(function(s){const i="unhandledrejection";vh(i,s),yh(i,Eme)})(s=>{const{stackParser:i,attachStacktrace:a}=aO();if(ii()!==n||ZR())return;const l=function(u){if(AN(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(s),c=AN(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:UN(i,l,void 0,a,!0);c.level="error",OR(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),iO("onunhandledrejection"))}}};function iO(e){b2&&Qt.log(`Global Handler attached: ${e}`)}function aO(){const e=ii();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const $ge=()=>({name:"HttpContext",preprocessEvent(e){if(!Rs.navigator&&!Rs.location&&!Rs.document)return;const t=e.request&&e.request.url||Rs.location&&Rs.location.href,{referrer:r}=Rs.document||{},{userAgent:n}=Rs.navigator||{},s={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),Bge=(e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,s,i){const a=i.getOptions();lge(wA,a.stackParser,a.maxValueLength,r,t,n,s)}}};var zN="new",oO="loading",lO="loaded",Kw="joining-meeting",yu="joined-meeting",cu="left-meeting",Ql="error",Uge="blocked",qge="off",zge="sendable",Vge="loading",Wge="interrupted",xq="playable",Ax="unknown",wq="full",Hge="lobby",Gge="none",bq="base",Yge="*",Kge="ejected",Jge="nbf-room",Qge="nbf-token",Zge="exp-room",Xge="exp-token",VN="no-room",eve="meeting-full",_q="end-of-life",tve="not-allowed",Sq="connection-error",rve="cam-in-use",nve="mic-in-use",sve="cam-mic-in-use",ive="permissions",ave="undefined-mediadevices",ove="not-found",lve="constraints",cve="unknown",jq="iframe-ready-for-launch-config",Nq="iframe-launch-config",kq="theme-updated",Cq="loading",Eq="load-attempt-failed",WN="loaded",Aq="started-camera",Pq="camera-error",Tq="joining-meeting",Rq="joined-meeting",Oq="left-meeting",Lq="participant-joined",Mq="participant-updated",Iq="participant-left",Dq="participant-counts-updated",Fq="access-state-updated",$q="meeting-session-summary-updated",Bq="meeting-session-state-updated",uve="meeting-session-data-error",Uq="waiting-participant-added",qq="waiting-participant-updated",zq="waiting-participant-removed",Vq="track-started",Wq="track-stopped",Hq="transcription-started",Gq="transcription-stopped",Yq="transcription-error",HN="recording-started",GN="recording-stopped",Kq="recording-stats",Jq="recording-error",Qq="recording-upload-completed",Zq="recording-data",Xq="app-message",ez="transcription-message",tz="remote-media-player-started",rz="remote-media-player-updated",nz="remote-media-player-stopped",sz="local-screen-share-started",iz="local-screen-share-stopped",az="local-screen-share-canceled",oz="active-speaker-change",lz="active-speaker-mode-change",cz="network-quality-change",uz="network-connection",dz="cpu-load-change",hz="face-counts-updated",tv="fullscreen",rv="exited-fullscreen",fz="live-streaming-started",pz="live-streaming-updated",mz="live-streaming-stopped",gz="live-streaming-error",vz="lang-updated",yz="receive-settings-updated",YN="input-settings-updated",KN="nonfatal-error",JN="error",L5=4096,cO=102400,M5="iframe-call-message",uO="local-screen-start",dO="daily-method-update-live-streaming-endpoints",q1="transmit-log",hc="daily-custom-track",Px={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},xz={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},QN={PLAY:"play",PAUSE:"pause"},I5=["jpg","png","jpeg"],dve="add-endpoints",hve="remove-endpoints",hO="sip-call-transfer";function Ja(){return!fr()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function fr(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function wz(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function fve(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}($h(),Jw())||fr())}function fO(){if(fr()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var ZN="none",pve="software",mve="hardware",gve=function(){try{var e,t=document.createElement("canvas"),r=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,e=t.getContext("webgl2"));var n=e!=null;return t.remove(),n?r?pve:mve:ZN}catch{return ZN}}();function bz(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!fr()&&gve!==ZN&&(e?function(){return pO()?!1:["Chrome","Firefox"].includes($h())}():function(){if(pO())return!1;var t=$h();if(t==="Safari"){var r=SA();if(r.major<15||r.major===15&&r.minor<4)return!1}return t==="Chrome"?_A().major>=77:t==="Firefox"?jA().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function _z(){if(fr()||Sz()||typeof AudioWorkletNode>"u")return!1;switch($h()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Jw();return e.major>17||e.major===17&&e.minor>=4}return!1}function D5(){return wz()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=$h();if(!Ja())return!0;switch(t){case"Chrome":return(e=_A()).major&&e.major>0&&e.major<75;case"Firefox":return(e=jA()).major<91;case"Safari":return(e=SA()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function Sz(){return Ja().match(/Linux; Android/)}function pO(){var e,t=Ja(),r=t.match(/Mac/)&&(!fr()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||r)||!!Ja().match(/DailyAnd\//)||void 0}function $h(){if(typeof window<"u"){var e=Ja();return jz()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||Nz()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Jw(){switch($h()){case"Chrome":return _A();case"Safari":return SA();case"Firefox":return jA();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var r=Ja().match(/Edge\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}()}}function _A(){var e=0,t=0,r=0,n=0,s=!1;if(typeof window<"u"){var i=Ja(),a=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(a)try{e=parseInt(a[1]),t=parseInt(a[2]),r=parseInt(a[3]),n=parseInt(a[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:r,patch:n,opera:s}}function jz(){return!!Ja().match(/iPad|iPhone|iPod/i)&&wz()}function Nz(){return Ja().indexOf("AppleWebKit/605.1.15")>-1}function SA(){var e=0,t=0,r=0;if(typeof window<"u"){var n=Ja().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2]),r=parseInt(n[4])}catch{}else(jz()||Nz())&&(e=14,t=0,r=3)}return{major:e,minor:t,point:r}}function jA(){var e=0,t=0;if(typeof window<"u"){var r=Ja().match(/Firefox\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}var kz=function(){return ja(function e(){Sa(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){Fg()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){Fg()}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){Fg()}},{key:"sendMessageToDailyJs",value:function(e,t){Fg()}},{key:"removeListener",value:function(e){Fg()}}])}();function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function F5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!e})()}var vve=function(){function e(){var t,r,n,s;return Sa(this,e),r=this,n=Bo(n=e),(t=p2(r,Cz()?Reflect.construct(n,[],Bo(r).constructor):n.apply(r,s)))._wrappedListeners={},t._messageCallbacks={},t}return m2(e,kz),ja(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){var s=this,i=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===r)&&(!a.data.from||a.data.from!=="module")){var l=F5({},a.data);if(delete l.from,l.callbackStamp&&s._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;s._messageCallbacks[c].call(n,l),delete s._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(n,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){var s=function(i){var a;if(!(!i.data||i.data.what!==M5||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&r&&i.data.callClientId!==r||i!=null&&(a=i.data)!==null&&a!==void 0&&a.callFrameId)){var l=i.data;t.call(n,l)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,r,n,s){if(!n)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=F5({},t);if(i.what=M5,i.from="module",i.callClientId=n,r){var a=g2();this._messageCallbacks[a]=r,i.callbackStamp=a}var l=s?s.contentWindow:window,c=this._callMachineTargetOrigin(s);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,r){t.what=M5,t.callClientId=r,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,r,n){var s=F5({},t);s.callClientId=n;var i=r?r.contentWindow:window,a=this._callMachineTargetOrigin(r);a&&i.postMessage(s,a)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,r){var n=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===r)&&(!s.data.from||s.data.from!=="module")){var i=s.data;t(i)}};return this._wrappedListeners[t]=n,window.addEventListener("message",n),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ez(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ez=function(){return!!e})()}var yve=function(){function e(){var t,r,n,s;return Sa(this,e),r=this,n=Bo(n=e),t=p2(r,Ez()?Reflect.construct(n,[],Bo(r).constructor):n.apply(r,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new CN.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new CN.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return m2(e,kz),ja(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){this._addListener(t,global.callMachineToDailyJsEmitter,r,n,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){this._addListener(t,global.dailyJsToCallMachineEmitter,r,n,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,r,n){this._sendMessage(t,global.dailyJsToCallMachineEmitter,n,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,r){this._sendMessage(t,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,r,n,s,i){var a=this,l=function(c){if(c.callClientId===n){if(c.callbackStamp&&a._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;a._messageCallbacks[u].call(s,c),delete a._messageCallbacks[u]}t.call(s,c)}};this._wrappedListeners[t]=l,r.addListener("message",l)}},{key:"_sendMessage",value:function(t,r,n,s,i){var a=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?gO(Object(d),!0).forEach(function(h){ll(c,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):gO(Object(d)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(d,h))})}return c}({},t);if(a.callClientId=n,s){var l=g2();this._messageCallbacks[l]=s,a.callbackStamp=l}r.emit("message",a)}}])}(),XN="replace",ek="shallow-merge",vO=[XN,ek],xve=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.data,n=t.mergeStrategy,s=n===void 0?XN:n;Sa(this,e),e._validateMergeStrategy(s),e._validateData(r,s),this.mergeStrategy=s,this.data=r}return ja(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,r){return Object.keys(t).length===0&&r===ek}},{key:"_validateMergeStrategy",value:function(t){if(!vO.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(vO,"]"))}},{key:"_validateData",value:function(t,r){if(!function(l){if(l==null||Er(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(t),r===XN){var s=JSON.parse(n);bi(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(r===ek){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var a=JSON.parse(JSON.stringify(t[i]));bi(t[i],a)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",a,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(n.length>cO)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(cO,"."))}}])}();function Az(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!e})()}function tk(e){var t=typeof Map=="function"?new Map:void 0;return tk=function(r){if(r===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return function(s,i,a){if(Az())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(s.bind.apply(s,l));return a&&c0(c,a.prototype),c}(r,arguments,Bo(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c0(n,r)},tk(e)}function Pz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pz=function(){return!!e})()}function yO(e){var t,r=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}var wve=function(){return ja(function e(t){Sa(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void n(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new bve(r,function(){n(!1)},function(i,a){a||yO(t._callClientId),s(i,a)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),yO(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),bve=function(){return ja(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Sa(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new xO(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new xO(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),$5=function(){function e(){return Sa(this,e),t=this,n=arguments,r=Bo(r=e),p2(t,Pz()?Reflect.construct(r,n||[],Bo(t).constructor):r.apply(t,n));var t,r,n}return m2(e,tk(Error)),ja(e)}(),Qw=2e4,xO=function(){return ja(function t(r,n,s){Sa(this,t),this._loadAttemptImpl=fr()||!r.avoidEval?new _ve(r,n,s):new Sve(r,n,s)},[{key:"start",value:(e=Ut(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),_ve=function(){return ja(function s(i,a,l){Sa(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=a,this._failureCallback=l},[{key:"start",value:(n=Ut(function*(){var s=zw(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=Ut(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=Ut(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(Qw," ms) when loading call object bundle ").concat(s),type:"timeout"})},Qw);try{var a=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(s,a);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new $5;var c=yield this._getBundleCodeFromResponse(s,l);if(this.cancelled)throw new $5;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(s,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof $5||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(u),type:u.message})}}),function(s){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=Ut(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return e.apply(this,arguments)})}]);var e,t,r,n}(),Sve=function(){return ja(function e(t,r,n){Sa(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n,this._attemptId=g2(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=zw(this._dailyConfig);(typeof document>"u"?"undefined":Er(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(Qw," ms) when loading call object bundle ").concat(e),type:"timeout"})},Qw);var r=document.getElementsByTagName("head")[0],n=document.createElement("script");this._scriptElement=n,n.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},n.onerror=function(s){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},n.src=e,r.appendChild(n)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),z1=function(e,t,r){return Nve(e.local,t,r)===!0},jve=function(e,t,r){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},ip=function(e,t,r,n){var s=kve(e,t,r,n);return s&&s.pendingTrack},Nve=function(e,t,r){if(!e)return!1;var n=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=e.public.subscribedTracks;return s&&s[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&s[t].custom?[!0,"staged"].includes(s[t].custom)?n(s[t].custom):n(s[t].custom[r]):n(s[t][r]):!s||n(s.ALL)},kve=function(e,t,r,n){var s=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===r&&i.pendingTrack&&i.pendingTrack.kind===n}).sort(function(i,a){return new Date(a.starttime)-new Date(i.starttime)});return s&&s[0]},Cve=function(e,t){var r=e.local.public.customTracks;if(r&&r[t])return r[t].track};function wO(e,t){for(var r=t.getState(),n=0,s=["cam","screen"];n<s.length;n++)for(var i=s[n],a=0,l=["video","audio"];a<l.length;a++){var c=l[a],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var h=e.local?jve(r,i,c):ip(r,e.session_id,i,c);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function bO(e,t){try{var r=t.getState();for(var n in e.tracks)if(!Eve(n)){var s=e.tracks[n].kind;if(s){var i=e.tracks[n];if(i){var a=e.local?Cve(r,n):ip(r,e.session_id,n,s);i.state==="playable"&&(e.tracks[n].track=a),i.persistentTrack=a}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function Eve(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function _O(e,t,r){var n=r.getState();if(e.local){if(e.audio)try{e.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var s=!0;try{var i=n.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(n.streams,e.audio&&z1(n,e.session_id,"cam-audio")){var a=ip(n,e.session_id,"cam","audio");a&&(t&&t.audioTrack&&t.audioTrack.id===a.id?e.audioTrack=a:a.muted||(e.audioTrack=a)),e.audioTrack||(e.audio=!1)}if(e.video&&z1(n,e.session_id,"cam-video")){var l=ip(n,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&z1(n,e.session_id,"screen-audio")){var c=ip(n,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&z1(n,e.session_id,"screen-video")){var u=ip(n,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function Ave(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return SO(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?SO(c,u):void 0}}(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw i}}}}function SO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var nl=new Map,_p=null;function Pve(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return jO(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?jO(c,u):void 0}}(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw i}}}}function jO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var sl=new Map,bv=null;function Tve(e){Tz()?function(t){nl.has(t)||(nl.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){nl.has(t)&&(nl.get(t).lastDevicesString=JSON.stringify(r),_p||(_p=function(){var n=Ut(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),a=Ave(nl.keys());try{for(a.s();!(s=a.n()).done;){var l=s.value,c=JSON.stringify(i);c!==nl.get(l).lastDevicesString&&(nl.get(l).lastDevicesString=c,l(i))}}catch(u){a.e(u)}finally{a.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",_p)))}).catch(function(){}))}(e):function(t){sl.has(t)||(sl.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){sl.has(t)&&(sl.get(t).lastDevicesString=JSON.stringify(r),bv||(bv=setInterval(Ut(function*(){var n,s=yield navigator.mediaDevices.enumerateDevices(),i=Pve(sl.keys());try{for(i.s();!(n=i.n()).done;){var a=n.value,l=JSON.stringify(s);l!==sl.get(a).lastDevicesString&&(sl.get(a).lastDevicesString=l,a(s))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function Rve(e){Tz()?function(t){nl.has(t)&&(nl.delete(t),nl.size===0&&_p&&(navigator.mediaDevices.removeEventListener("devicechange",_p),_p=null))}(e):function(t){sl.has(t)&&(sl.delete(t),sl.size===0&&bv&&(clearInterval(bv),bv=null))}(e)}function Tz(){var e;return fr()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var Ove=new Set;function Lve(e,t){return e&&e.readyState==="live"&&!function(r,n){return r.muted&&!Ove.has(r.id)}(e)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var nv=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),Mve=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),_v=Object.values(nv),kO=["v","a","sv","sa","cv","ca"];Object.freeze(_v.reduce(function(e,t,r){return e[t]=kO[r],e},{})),Object.freeze(kO.reduce(function(e,t,r){return e[t]=_v[r],e},{}));var Ive=[nv.VIDEO,nv.AUDIO,nv.SCREEN_VIDEO,nv.SCREEN_AUDIO],CO=Object.values(Mve),EO=["p","s","t"];Object.freeze(CO.reduce(function(e,t,r){return e[t]=EO[r],e},{})),Object.freeze(EO.reduce(function(e,t,r){return e[t]=CO[r],e},{}));var Rz=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.base,n=t.byUserId,s=t.byParticipantId;Sa(this,e),this.base=r,this.byUserId=n,this.byParticipantId=s}return ja(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof qs?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof qs?n.clone():n}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof qs?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof qs&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof qs?n.toJSONObject():n}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof qs?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in t.u={},this.byUserId){var n=this.byUserId[r];t.u[r]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in t.p={},this.byParticipantId){var i=this.byParticipantId[s];t.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof qs&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var r=ai(t,2),n=r[0],s=r[1];return[n,s instanceof qs?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var r=ai(t,2),n=r[0],s=r[1];return[n,s instanceof qs?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(t){var r,n,s;if(t.base!==void 0&&(r=typeof t.base=="boolean"?t.base:qs.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in n={},t.byUserId){var a=t.byUserId[i];n[i]=typeof a=="boolean"?a:qs.fromJSONObject(a)}if(t.byParticipantId!==void 0)for(var l in s={},t.byParticipantId){var c=t.byParticipantId[l];s[l]=typeof c=="boolean"?c:qs.fromJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(t){var r,n,s;if(t.b!==void 0&&(r=typeof t.b=="boolean"?t.b:qs.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in n={},t.u){var a=t.u[i];n[i]=typeof a=="boolean"?a:qs.fromMinifiedJSONObject(a)}if(t.p!==void 0)for(var l in s={},t.p){var c=t.p[l];s[l]=typeof c=="boolean"?c:qs.fromMinifiedJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:s})}},{key:"validateJSONObject",value:function(t){if(Er(t)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],n=0,s=Object.keys(t);n<s.length;n++){var i=s[n];if(!r.includes(i))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(i==="base"){var a=ai(qs.validateJSONObject(t.base,!0),2),l=a[0],c=a[1];if(!l)return[!1,c]}else{if(Er(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var h=d[u],p=ai(qs.validateJSONObject(h),2),f=p[0],v=p[1];if(!f)return[!1,v]}}}return[!0]}}])}(),qs=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.video,n=t.audio,s=t.screenVideo,i=t.screenAudio,a=t.customVideo,l=t.customAudio;Sa(this,e),this.video=r,this.audio=n,this.screenVideo=s,this.screenAudio=i,this.customVideo=a,this.customAudio=l}return ja(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=nu({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=nu({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=nu({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=nu({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=nu({},this.customVideo)),this.customAudio!==void 0&&(t.ca=nu({},this.customAudio)),t}},{key:"normalize",value:function(){function t(r,n){return r&&Object.keys(r).length===1&&r["*"]===n}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?nu({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?nu({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,r){if(typeof t=="boolean")return[!0];if(Er(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var n=Object.keys(t),s=0,i=n;s<i.length;s++){var a=i[s];if(!_v.includes(a))return[!1,"invalid media type '".concat(a,"' in canReceive")];if(Ive.includes(a)){if(typeof t[a]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(a,"' in canReceive")]}else{if(Er(t[a])!=="object")return[!1,"invalid (non-object) value for media type '".concat(a,"' in canReceive")];for(var l=0,c=Object.values(t[a]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(a,"' in canReceive")];if(r&&t[a]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(a,"'")]}}return r&&n.length!==_v.length?[!1,'canReceive "base" permission must specify all media types: '.concat(_v.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),Dve=["result"],Fve=["preserveIframe"];function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!e})()}function PO(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return TO(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?TO(c,u):void 0}}(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw i}}}}function TO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Dd={},RO="video",$ve="voice",OO=fr()?{data:{}}:{data:{},topology:"none"},LO={present:0,hidden:0},Lz={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},B5=Object.keys(Lz),MO=["state","volume","simulcastEncodings"],IO={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Zw={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},rk={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Fd={customIntegrations:{validate:qz,help:Bz()},customTrayButtons:{validate:Uz,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Zw))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return zz(e,IO)},help:"reactNativeConfig should look like ".concat(JSON.stringify(IO),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return Mz(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,r={customTrack:hc};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,r={customTrack:hc};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var s=0,i=Object.keys(n);s<i.length;s++){var a=i[s];if(!t.includes(a))return console.error('unsupported color "'.concat(a,'". Valid colors: ').concat(t.join(", "))),!1;if(!n[a].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(a,' theme color should be provided in valid hex color format. Received: "').concat(n[a],'"')),!1}return!0};return Er(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):r(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return Iz(e,{allowAllParticipantsKey:!1})},help:$z({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var r;return!!Dz(e)&&(t._inputSettings||(t._inputSettings={}),Fz(e,(r=t.properties)===null||r===void 0?void 0:r.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:nk()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},V1={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var r in e.cam)if(r!=="div"&&r!=="video")return!1}if(e.screen){for(var n in e.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(e)||!fr()&&e==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!r.includes(i[l])&&!s(i[l],!0))return!1}else{var c=!a&&!n.includes(l),u=!r.includes(i[l]);if(c||u)return!1}return!0};return s(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(fr()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=ai(r[t],2),s=n[0],i=n[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var a,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=PO(i);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(!l.includes(u))return!1}}catch(g){c.e(g)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=ai(Rz.validateJSONObject(i),2),h=d[0],p=d[1];if(!h)return console.error(p),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var f,v=["participants","streaming","transcription"],m=PO(i);try{for(m.s();!(f=m.n()).done;){var x=f.value;if(!v.includes(x))return!1}}catch(g){m.e(g)}finally{m.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=Ut(function*(t){return new Promise(function(r,n){var s=[];t.forEach(function(i){return Promise.resolve(i).then(function(a){r(a)}).catch(function(a){s.push(a),s.length===t.length&&n(s)})})})});return function(t){return e.apply(this,arguments)}}());var Bve=function(){function e(b){var C,E,B,F,Z,se,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Sa(this,e),B=this,F=Bo(F=e),ll(E=p2(B,Oz()?Reflect.construct(F,[],Bo(B).constructor):F.apply(B,Z)),"startListeningForDeviceChanges",function(){Tve(E.handleDeviceChange)}),ll(E,"stopListeningForDeviceChanges",function(){Rve(E.handleDeviceChange)}),ll(E,"handleDeviceChange",function(fe){fe=fe.map(function(be){return JSON.parse(JSON.stringify(be))}),E.emitDailyJSEvent({action:"available-devices-updated",availableDevices:fe})}),ll(E,"handleNativeAppStateChange",function(){var fe=Ut(function*(be){if(be==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield E.destroy());var Ie=be==="active";E.disableReactNativeAutoDeviceManagement("video")||(Ie?E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!0):(E.camUnmutedBeforeLosingNativeActiveState=E.localVideo(),E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!1)))});return function(be){return fe.apply(this,arguments)}}()),ll(E,"handleNativeAudioFocusChange",function(fe){E.disableReactNativeAutoDeviceManagement("audio")||(E._hasNativeAudioFocus=fe,E.toggleParticipantAudioBasedOnNativeAudioFocus(),E._hasNativeAudioFocus?E.micUnmutedBeforeLosingNativeAudioFocus&&E.setLocalAudio(!0):(E.micUnmutedBeforeLosingNativeAudioFocus=E.localAudio(),E.setLocalAudio(!1)))}),ll(E,"handleNativeSystemScreenCaptureStop",function(){E.stopScreenShare()}),!D5()&&!fr())throw new Error("WebRTC not supported or suppressed");if(E.strictMode=le.strictMode===void 0||le.strictMode,E.allowMultipleCallInstances=(C=le.allowMultipleCallInstances)!==null&&C!==void 0&&C,Object.keys(Dd).length&&(E._logDuplicateInstanceAttempt(),!E.allowMultipleCallInstances)){if(E.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),E.callClientId=g2(),Dd[(se=E).callClientId]=se,window._daily.instances[E.callClientId]={},E._sharedTracks={},window._daily.instances[E.callClientId].tracks=E._sharedTracks,le.dailyJsVersion=e.version(),E._iframe=b,E._callObjectMode=le.layout==="none"&&!E._iframe,E._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},le.showLocalVideo!==void 0?E._callObjectMode?console.error("showLocalVideo is not available in call object mode"):E._showLocalVideo=!!le.showLocalVideo:E._showLocalVideo=!0,le.showParticipantsBar!==void 0?E._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):E._showParticipantsBar=!!le.showParticipantsBar:E._showParticipantsBar=!0,le.customIntegrations!==void 0?E._callObjectMode?console.error("customIntegrations is not available in call object mode"):E._customIntegrations=le.customIntegrations:E._customIntegrations={},le.customTrayButtons!==void 0?E._callObjectMode?console.error("customTrayButtons is not available in call object mode"):E._customTrayButtons=le.customTrayButtons:E._customTrayButtons={},le.activeSpeakerMode!==void 0?E._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):E._activeSpeakerMode=!!le.activeSpeakerMode:E._activeSpeakerMode=!1,le.receiveSettings?E._callObjectMode?E._receiveSettings=le.receiveSettings:console.error("receiveSettings is only available in call object mode"):E._receiveSettings={},E.validateProperties(le),E.properties=kt({},le),E._inputSettings||(E._inputSettings={}),E._callObjectLoader=E._callObjectMode?new wve(E.callClientId):null,E._callState=zN,E._isPreparingToJoin=!1,E._accessState={access:Ax},E._meetingSessionSummary={},E._finalSummaryOfPrevSession={},E._meetingSessionState=z5(OO,E._callObjectMode),E._nativeInCallAudioMode=RO,E._participants={},E._isScreenSharing=!1,E._participantCounts=LO,E._rmpPlayerState={},E._waitingParticipants={},E._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},E._activeSpeaker={},E._localAudioLevel=0,E._isLocalAudioLevelObserverRunning=!1,E._remoteParticipantsAudioLevel={},E._isRemoteParticipantsAudioLevelObserverRunning=!1,E._maxAppMessageSize=L5,E._messageChannel=fr()?new yve:new vve,E._iframe&&(E._iframe.requestFullscreen?E._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===E._iframe?(E.emitDailyJSEvent({action:tv}),E.sendMessageToCallMachine({action:tv})):(E.emitDailyJSEvent({action:rv}),E.sendMessageToCallMachine({action:rv}))}):E._iframe.webkitRequestFullscreen&&E._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===E._iframe?(E.emitDailyJSEvent({action:tv}),E.sendMessageToCallMachine({action:tv})):(E.emitDailyJSEvent({action:rv}),E.sendMessageToCallMachine({action:rv}))})),fr()){var ue=E.nativeUtils();ue.addAudioFocusChangeListener&&ue.removeAudioFocusChangeListener&&ue.addAppStateChangeListener&&ue.removeAppStateChangeListener&&ue.addSystemScreenCaptureStopListener&&ue.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),E._hasNativeAudioFocus=!0,ue.addAudioFocusChangeListener(E.handleNativeAudioFocusChange),ue.addAppStateChangeListener(E.handleNativeAppStateChange),ue.addSystemScreenCaptureStopListener(E.handleNativeSystemScreenCaptureStop)}return E._callObjectMode&&E.startListeningForDeviceChanges(),E._messageChannel.addListenerForMessagesFromCallMachine(E.handleMessageFromCallMachine,E.callClientId,E),E}return m2(e,L1),ja(e,[{key:"destroy",value:(U=Ut(function*(){var b;try{yield this.leave()}catch{}var C=this._iframe;if(C){var E=C.parentElement;E&&E.removeChild(C)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),fr()){var B=this.nativeUtils();B.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),B.removeAppStateChangeListener(this.handleNativeAppStateChange),B.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Dd[this.callClientId],!((b=window)===null||b===void 0||(b=b._daily)===null||b===void 0)&&b.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return U.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(b){var C=b.bodyClass,E=b.cssFile,B=b.cssText;return dr(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(E),bodyClass:C,cssText:B}),this}},{key:"iframe",value:function(){return dr(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return uo(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return uo(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(b,C){for(var E in C){if(!V1[E])throw new Error("unrecognized updateParticipant property ".concat(E));if(V1[E].validate&&!V1[E].validate(C[E],this,this._participants[b]))throw new Error(V1[E].help)}}},{key:"updateParticipant",value:function(b,C){return this._participants.local&&this._participants.local.session_id===b&&(b="local"),b&&C&&(this.validateParticipantProperties(b,C),this.sendMessageToCallMachine({action:"update-participant",id:b,properties:C})),this}},{key:"updateParticipants",value:function(b){var C=this._participants.local&&this._participants.local.session_id;for(var E in b)E===C&&(E="local"),E&&b[E]&&this.validateParticipantProperties(E,b[E]);return this.sendMessageToCallMachine({action:"update-participants",participants:b}),this}},{key:"updateWaitingParticipant",value:(ge=Ut(function*(){var b=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(uo(this._callObjectMode,"updateWaitingParticipant()"),rn(this._callState,"updateWaitingParticipant()"),typeof C!="string"||Er(E)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(B,F){b.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:C,updates:E},function(Z){Z.error&&F(Z.error),Z.id||F(new Error("unknown error in updateWaitingParticipant()")),B({id:Z.id})})})}),function(){return ge.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(pe=Ut(function*(){var b=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(uo(this._callObjectMode,"updateWaitingParticipants()"),rn(this._callState,"updateWaitingParticipants()"),Er(C)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(E,B){b.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:C},function(F){F.error&&B(F.error),F.ids||B(new Error("unknown error in updateWaitingParticipants()")),E({ids:F.ids})})})}),function(){return pe.apply(this,arguments)})},{key:"requestAccess",value:(X=Ut(function*(){var b=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=C.access,B=E===void 0?{level:wq}:E,F=C.name,Z=F===void 0?"":F;return uo(this._callObjectMode,"requestAccess()"),rn(this._callState,"requestAccess()"),new Promise(function(se,le){b.sendMessageToCallMachine({action:"daily-method-request-access",access:B,name:Z},function(ue){ue.error&&le(ue.error),ue.access||le(new Error("unknown error in requestAccess()")),se({access:ue.access,granted:ue.granted})})})}),function(){return X.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in C&&(fr()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),C={}):b&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),C={})),this.sendMessageToCallMachine({action:"local-audio",state:b,options:C}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(b){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:b}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(b){return this.sendMessageToCallMachine({action:"local-video",state:b}),this}},{key:"_setAllowLocalAudio",value:function(b){if(this._preloadCache.allowLocalAudio=b,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:b}),this}},{key:"_setAllowLocalVideo",value:function(b){if(this._preloadCache.allowLocalVideo=b,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:b}),this}},{key:"getReceiveSettings",value:(W=Ut(function*(b){var C=this,E=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,B=E!==void 0&&E;if(uo(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Er(b)){case"string":return new Promise(function(F){C.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:b,showInheritedValues:B},function(Z){F(Z.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(b){return W.apply(this,arguments)})},{key:"updateReceiveSettings",value:(re=Ut(function*(b){var C=this;if(uo(this._callObjectMode,"updateReceiveSettings()"),!Iz(b,{allowAllParticipantsKey:!0}))throw new Error($z({allowAllParticipantsKey:!0}));return rn(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(E){C.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:b},function(B){E({receiveSettings:B.receiveSettings})})})}),function(b){return re.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(b,C){if(b){var E={};if(b.audio){var B,F,Z;b.audio.settings&&(!Object.keys(b.audio.settings).length&&C||(E.audio={settings:kt({},b.audio.settings)})),C&&(B=E.audio)!==null&&B!==void 0&&(B=B.settings)!==null&&B!==void 0&&B.customTrack&&(E.audio.settings={customTrack:this._sharedTracks.audioTrack});var se=((F=b.audio.processor)===null||F===void 0?void 0:F.type)==="none"&&((Z=b.audio.processor)===null||Z===void 0?void 0:Z._isDefaultWhenNone);if(b.audio.processor&&!se){var le=kt({},b.audio.processor);delete le._isDefaultWhenNone,E.audio=kt(kt({},E.audio),{},{processor:le})}}if(b.video){var ue,fe,be;b.video.settings&&(!Object.keys(b.video.settings).length&&C||(E.video={settings:kt({},b.video.settings)})),C&&(ue=E.video)!==null&&ue!==void 0&&(ue=ue.settings)!==null&&ue!==void 0&&ue.customTrack&&(E.video.settings={customTrack:this._sharedTracks.videoTrack});var Ie=((fe=b.video.processor)===null||fe===void 0?void 0:fe.type)==="none"&&((be=b.video.processor)===null||be===void 0?void 0:be._isDefaultWhenNone);if(b.video.processor&&!Ie){var Q=kt({},b.video.processor);delete Q._isDefaultWhenNone,E.video=kt(kt({},E.video),{},{processor:Q})}}return E}}},{key:"getInputSettings",value:function(){var b=this;return dr(),new Promise(function(C){C(b._getInputSettings())})}},{key:"_getInputSettings",value:function(){var b,C,E,B,F,Z,se={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(b=((E=this._inputSettings)===null||E===void 0?void 0:E.video)||se,C=((B=this._inputSettings)===null||B===void 0?void 0:B.audio)||se):(b=((F=this._preloadCache)===null||F===void 0||(F=F.inputSettings)===null||F===void 0?void 0:F.video)||se,C=((Z=this._preloadCache)===null||Z===void 0||(Z=Z.inputSettings)===null||Z===void 0?void 0:Z.audio)||se);var le={audio:C,video:b};return this._prepInputSettingsForSharing(le,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(b,C){var E=this._inputSettings||{},B={};if(b.video){var F,Z,se;B.video={},b.video.settings?(B.video.settings={},C||b.video.settings.customTrack||(se=E.video)===null||se===void 0||!se.settings?B.video.settings=b.video.settings:B.video.settings=kt(kt({},E.video.settings),b.video.settings),Object.keys(B.video.settings).length||delete B.video.settings):(F=E.video)!==null&&F!==void 0&&F.settings&&(B.video.settings=E.video.settings),b.video.processor?B.video.processor=b.video.processor:(Z=E.video)!==null&&Z!==void 0&&Z.processor&&(B.video.processor=E.video.processor)}else E.video&&(B.video=E.video);if(b.audio){var le,ue,fe;B.audio={},b.audio.settings?(B.audio.settings={},C||b.audio.settings.customTrack||(fe=E.audio)===null||fe===void 0||!fe.settings?B.audio.settings=b.audio.settings:B.audio.settings=kt(kt({},E.audio.settings),b.audio.settings),Object.keys(B.audio.settings).length||delete B.audio.settings):(le=E.audio)!==null&&le!==void 0&&le.settings&&(B.audio.settings=E.audio.settings),b.audio.processor?B.audio.processor=b.audio.processor:(ue=E.audio)!==null&&ue!==void 0&&ue.processor&&(B.audio.processor=E.audio.processor)}else E.audio&&(B.audio=E.audio);this._maybeUpdateInputSettings(B)}},{key:"_devicesFromInputSettings",value:function(b){var C,E,B=(b==null||(C=b.video)===null||C===void 0||(C=C.settings)===null||C===void 0?void 0:C.deviceId)||null,F=(b==null||(E=b.audio)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,Z=this._preloadCache.outputDeviceId||null;return{camera:B?{deviceId:B}:{},mic:F?{deviceId:F}:{},speaker:Z?{deviceId:Z}:{}}}},{key:"updateInputSettings",value:(ne=Ut(function*(b){var C=this;return dr(),Dz(b)?b.video||b.audio?(Fz(b,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(b,!0),this._getInputSettings()):new Promise(function(E,B){C.sendMessageToCallMachine({action:"update-input-settings",inputSettings:b},function(F){if(F.error)B(F.error);else{if(F.returnPreloadCache)return C._updatePreloadCacheInputSettings(b,!0),void E(C._getInputSettings());C._maybeUpdateInputSettings(F.inputSettings),E(C._prepInputSettingsForSharing(F.inputSettings,!0))}})})):this._getInputSettings():(console.error(nk()),Promise.reject(nk()))}),function(b){return ne.apply(this,arguments)})},{key:"setBandwidth",value:function(b){var C=b.kbs,E=b.trackConstraints;if(dr(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:C,trackConstraints:E}),this}},{key:"getDailyLang",value:function(){var b=this;if(dr(),this._callMachineInitialized)return new Promise(function(C){b.sendMessageToCallMachine({action:"get-daily-lang"},function(E){delete E.action,delete E.callbackStamp,C(E)})})}},{key:"setDailyLang",value:function(b){return dr(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:b}),this}},{key:"setProxyUrl",value:function(b){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:b}),this}},{key:"setIceConfig",value:function(b){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:b}),this}},{key:"meetingSessionSummary",value:function(){return[cu,Ql].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(te=Ut(function*(){var b=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),rn(this._callState,"getMeetingSession()"),new Promise(function(C){b.sendMessageToCallMachine({action:"get-meeting-session"},function(E){delete E.action,delete E.callbackStamp,C(E)})})}),function(){return te.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return rn(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";uo(this._callObjectMode,"setMeetingSessionData()"),rn(this._callState,"setMeetingSessionData");try{(function(E,B){new xve({data:E,mergeStrategy:B})})(b,C)}catch(E){throw console.error(E),E}try{this.sendMessageToCallMachine({action:"set-session-data",data:b,mergeStrategy:C})}catch(E){throw new Error("Error setting meeting session data: ".concat(E))}}},{key:"setUserName",value:function(b,C){var E=this;return this.properties.userName=b,new Promise(function(B){E.sendMessageToCallMachine({action:"set-user-name",name:b??"",thisMeetingOnly:fr()||!!C&&!!C.thisMeetingOnly},function(F){delete F.action,delete F.callbackStamp,B(F)})})}},{key:"setUserData",value:(q=Ut(function*(b){var C=this;try{Mz(b)}catch(E){throw console.error(E),E}if(this.properties.userData=b,this._callMachineInitialized)return new Promise(function(E){try{C.sendMessageToCallMachine({action:"set-user-data",userData:b},function(B){delete B.action,delete B.callbackStamp,E(B)})}catch(B){throw new Error("Error setting user data: ".concat(B))}})}),function(b){return q.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(b){if(b&&(b<100||typeof b!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(b){var C=this;if(typeof AudioWorkletNode>"u"&&!fr())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(b),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(E,B){C.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:b},function(F){C._isLocalAudioLevelObserverRunning=!F.error,F.error?B({error:F.error}):E()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:b}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(b){var C=this;if(this.validateAudioLevelInterval(b),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(E,B){C.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:b},function(F){C._isRemoteParticipantsAudioLevelObserverRunning=!F.error,F.error?B({error:F.error}):E()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:b}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:($=Ut(function*(){var b=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(uo(this._callObjectMode,"startCamera()"),U5(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(C)}catch(E){return Promise.reject(E)}else{if(this._didPreAuth){if(C.url&&C.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(C.token&&C.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(C),this.properties=kt(kt({},this.properties),C)}return new Promise(function(E){b._preloadCache.inputSettings=b._prepInputSettingsForSharing(b._inputSettings,!1),b.sendMessageToCallMachine({action:"start-camera",properties:Of(b.properties,b.callClientId),preloadCache:Of(b._preloadCache,b.callClientId)},function(B){E({camera:B.camera,mic:B.mic,speaker:B.speaker})})})}),function(){return $.apply(this,arguments)})},{key:"validateCustomTrack",value:function(b,C,E){if(E&&E.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(C&&C!=="music"&&C!=="speech"&&!(C instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(E&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(E))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(b instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var b=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return dr(),rn(this._callState,"startCustomTrack()"),this.validateCustomTrack(C.track,C.mode,C.trackName),new Promise(function(E,B){b._sharedTracks.customTrack=C.track,C.track=hc,b.sendMessageToCallMachine({action:"start-custom-track",properties:C},function(F){F.error?B({error:F.error}):E(F.mediaTag)})})}},{key:"stopCustomTrack",value:function(b){var C=this;return dr(),rn(this._callState,"stopCustomTrack()"),new Promise(function(E){C.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:b},function(B){E(B.mediaTag)})})}},{key:"setCamera",value:function(b){var C=this;return $g(),W1(this._callMachineInitialized,"setCamera()"),new Promise(function(E){C.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:b},function(B){E({device:B.device})})})}},{key:"setAudioDevice",value:(I=Ut(function*(b){return $g(),this.nativeUtils().setAudioDevice(b),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(b){return I.apply(this,arguments)})},{key:"cycleCamera",value:function(){var b=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(E){b.sendMessageToCallMachine({action:"cycle-camera",properties:C},function(B){E({device:B.device})})})}},{key:"cycleMic",value:function(){var b=this;return dr(),new Promise(function(C){b.sendMessageToCallMachine({action:"cycle-mic"},function(E){C({device:E.device})})})}},{key:"getCameraFacingMode",value:function(){var b=this;return $g(),new Promise(function(C){b.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(E){C(E.facingMode)})})}},{key:"setInputDevicesAsync",value:(A=Ut(function*(b){var C=this,E=b.audioDeviceId,B=b.videoDeviceId,F=b.audioSource,Z=b.videoSource;if(dr(),F!==void 0&&(E=F),Z!==void 0&&(B=Z),typeof E=="boolean"&&(this._setAllowLocalAudio(E),E=void 0),typeof B=="boolean"&&(this._setAllowLocalVideo(B),B=void 0),!E&&!B)return yield this.getInputDevices();var se={};return E&&(E instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=E,E=hc,se.audio={settings:{customTrack:E}}):(delete this._sharedTracks.audioTrack,se.audio={settings:{deviceId:E}})),B&&(B instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=B,B=hc,se.video={settings:{customTrack:B}}):(delete this._sharedTracks.videoTrack,se.video={settings:{deviceId:B}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(se,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(le){C.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:E,videoDeviceId:B},function(ue){if(delete ue.action,delete ue.callbackStamp,ue.returnPreloadCache)return C._updatePreloadCacheInputSettings(se,!1),void le(C._devicesFromInputSettings(C._inputSettings));le(ue)})})}),function(b){return A.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(G=Ut(function*(b){var C=this,E=b.outputDeviceId;if(dr(),!E||typeof E!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=E,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(B,F){C.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:E},function(Z){if(delete Z.action,delete Z.callbackStamp,Z.error){var se=new Error(Z.error.message);return se.type=Z.error.type,void F(se)}Z.returnPreloadCache?B(C._devicesFromInputSettings(C._inputSettings)):B(Z)})})}),function(b){return G.apply(this,arguments)})},{key:"getInputDevices",value:(M=Ut(function*(){var b=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(C){b.sendMessageToCallMachine({action:"get-input-devices"},function(E){E.returnPreloadCache?C(b._devicesFromInputSettings(b._inputSettings)):C({camera:E.camera,mic:E.mic,speaker:E.speaker})})})}),function(){return M.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return $g(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(b){if($g(),[RO,$ve].includes(b)){if(b!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=b,!this.disableReactNativeAutoDeviceManagement("audio")&&Tx(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",b)}},{key:"preAuth",value:(D=Ut(function*(){var b=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(uo(this._callObjectMode,"preAuth()"),U5(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(C)),!C.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(C),this.properties=kt(kt({},this.properties),C),new Promise(function(E,B){b._preloadCache.inputSettings=b._prepInputSettingsForSharing(b._inputSettings,!1),b.sendMessageToCallMachine({action:"daily-method-preauth",properties:Of(b.properties,b.callClientId),preloadCache:Of(b._preloadCache,b.callClientId)},function(F){return F.error?B(F.error):F.access?(b._didPreAuth=!0,void E({access:F.access})):B(new Error("unknown error in preAuth()"))})})}),function(){return D.apply(this,arguments)})},{key:"load",value:(L=Ut(function*(b){var C=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(b&&(this.validateProperties(b),this.properties=kt(kt({},this.properties),b)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(oO),this.emitDailyJSEvent({action:Cq}),this._callObjectMode?new Promise(function(E,B){C._callObjectLoader.cancel();var F=Date.now();C._callObjectLoader.load(C.properties.dailyConfig,function(Z){C._bundleLoadTime=Z?"no-op":Date.now()-F,C._updateCallState(lO),Z&&C.emitDailyJSEvent({action:WN}),E()},function(Z,se){if(C.emitDailyJSEvent({action:Eq}),!se){C._updateCallState(Ql),C.resetMeetingDependentVars();var le={action:JN,errorMsg:Z.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:Z,bundleUrl:zw(C.properties.dailyConfig)}}};C._maybeSendToSentry(le),C.emitDailyJSEvent(le),B(Z.msg)}})}):(this._iframe.src=rq(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(E,B){C._loadedCallback=function(F){C._callState!==Ql?(C._updateCallState(lO),(C.properties.cssFile||C.properties.cssText)&&C.loadCss(C.properties),E()):B(F)}}))}}),function(b){return L.apply(this,arguments)})},{key:"join",value:(R=Ut(function*(){var b=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var E=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(C)}catch(B){return this.updateIsPreparingToJoin(!1),Promise.reject(B)}}else{if(E=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(C.url&&C.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(C.token&&C.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(C.url&&!this._callObjectMode&&C.url&&C.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(C.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(C),this.properties=kt(kt({},this.properties),C)}return C.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!C.showLocalVideo),C.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!C.showParticipantsBar),this._callState===yu||this._callState===Kw?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Kw,!1),this.emitDailyJSEvent({action:Tq}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Of(this.properties,this.callClientId),preloadCache:Of(this._preloadCache,this.callClientId)}),new Promise(function(B,F){b._joinedCallback=function(Z,se){if(b._callState!==Ql){if(b._updateCallState(yu),Z)for(var le in Z){if(b._callObjectMode){var ue=b._callMachine().store;wO(Z[le],ue),bO(Z[le],ue),_O(Z[le],b._participants[le],ue)}b._participants[le]=kt({},Z[le]),b.toggleParticipantAudioBasedOnNativeAudioFocus()}E&&b.loadCss(b.properties),B(Z)}else F(se)}}))}),function(){return R.apply(this,arguments)})},{key:"leave",value:(T=Ut(function*(){var b=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(C){b._callState===cu||b._callState===Ql?C():b._callObjectLoader&&!b._callObjectLoader.loaded?(b._callObjectLoader.cancel(),b._updateCallState(cu),b.resetMeetingDependentVars(),b.emitDailyJSEvent({action:cu}),C()):(b._resolveLeave=C,b.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return T.apply(this,arguments)})},{key:"startScreenShare",value:(k=Ut(function*(){var b=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(W1(this._callMachineInitialized,"startScreenShare()"),C.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",C.screenVideoSendSettings),C.mediaStream&&(this._sharedTracks.screenMediaStream=C.mediaStream,C.mediaStream=hc),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var E=this.nativeUtils();if(yield E.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:KN,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});E.setSystemScreenCaptureStartCallback(function(){E.setSystemScreenCaptureStartCallback(null),b.sendMessageToCallMachine({action:uO,captureOptions:C})}),E.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:uO,captureOptions:C})}),function(){return k.apply(this,arguments)})},{key:"stopScreenShare",value:function(){W1(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=b.type;if(C&&C!=="cloud"&&C!=="raw-tracks"&&C!=="local")throw new Error("invalid type: ".concat(C,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(kt({action:"local-recording-start"},b))}},{key:"updateRecording",value:function(b){var C=b.layout,E=C===void 0?{preset:"default"}:C,B=b.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:E,instanceId:B})}},{key:"stopRecording",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(kt({action:"local-recording-stop"},b))}},{key:"startLiveStreaming",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(kt({action:"daily-method-start-live-streaming"},b))}},{key:"updateLiveStreaming",value:function(b){var C=b.layout,E=C===void 0?{preset:"default"}:C,B=b.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:E,instanceId:B})}},{key:"addLiveStreamingEndpoints",value:function(b){var C=b.endpoints,E=b.instanceId;this.sendMessageToCallMachine({action:dO,endpointsOp:dve,endpoints:C,instanceId:E})}},{key:"removeLiveStreamingEndpoints",value:function(b){var C=b.endpoints,E=b.instanceId;this.sendMessageToCallMachine({action:dO,endpointsOp:hve,endpoints:C,instanceId:E})}},{key:"stopLiveStreaming",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(kt({action:"daily-method-stop-live-streaming"},b))}},{key:"validateDailyConfig",value:function(b){b.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(b.camSimulcastEncodings)),b.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),Sz()&&b.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(b){if(!(b instanceof Array||Array.isArray(b)))throw new Error("encodings must be an Array");if(!UO(b.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var B=0;B<b.length;B++){var F=b[B];for(var Z in this._validateEncodingLayerHasValidProperties(F),F)if(B5.includes(Z)){if(typeof F[Z]!="number")throw new Error("".concat(Z," must be a number"));if(C){var se=C[Z],le=se.min,ue=se.max;if(!UO(F[Z],le,ue))throw new Error("".concat(Z," value not in range. valid range: ").concat(le," to ").concat(ue))}}else if(!["active","scalabilityMode"].includes(Z))throw new Error("Invalid key ".concat(Z,", valid keys are:")+Object.values(B5));if(E&&!F.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(S=Ut(function*(b){var C=this,E=b.url,B=b.settings,F=B===void 0?{state:QN.PLAY}:B;try{(function(Z){if(typeof Z!="string")throw new Error('url parameter must be "string" type')})(E),BO(F),function(Z){for(var se in Z)if(!MO.includes(se))throw new Error("Invalid key ".concat(se,", valid keys are: ").concat(MO));Z.simulcastEncodings&&this.validateSimulcastEncodings(Z.simulcastEncodings,Lz,!0)}(F)}catch(Z){throw console.error("invalid argument Error: ".concat(Z)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),Z}return new Promise(function(Z,se){C.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:E,settings:F},function(le){le.error?se({error:le.error,errorMsg:le.errorMsg}):Z({session_id:le.session_id,remoteMediaPlayerState:{state:le.state,settings:le.settings}})})})}),function(b){return S.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(w=Ut(function*(b){var C=this;if(typeof b!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(E,B){C.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:b},function(F){F.error?B({error:F.error,errorMsg:F.errorMsg}):E()})})}),function(b){return w.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(g=Ut(function*(b){var C=this,E=b.session_id,B=b.settings;try{BO(B)}catch(F){throw console.error("invalid argument Error: ".concat(F)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),F}return new Promise(function(F,Z){C.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:E,settings:B},function(se){se.error?Z({error:se.error,errorMsg:se.errorMsg}):F({session_id:se.session_id,remoteMediaPlayerState:{state:se.state,settings:se.settings}})})})}),function(b){return g.apply(this,arguments)})},{key:"startTranscription",value:function(b){rn(this._callState,"startTranscription()"),this.sendMessageToCallMachine(kt({action:"daily-method-start-transcription"},b))}},{key:"updateTranscription",value:function(b){if(rn(this._callState,"updateTranscription()"),!b)throw new Error("updateTranscription Error: options is mandatory");if(Er(b)!=="object")throw new Error("updateTranscription Error: options must be object type");if(b.participants&&!Array.isArray(b.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(kt({action:"daily-method-update-transcription"},b))}},{key:"stopTranscription",value:function(b){if(rn(this._callState,"stopTranscription()"),b&&Er(b)!=="object")throw new Error("stopTranscription Error: options must be object type");if(b&&!b.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(kt({action:"daily-method-stop-transcription"},b))}},{key:"startDialOut",value:(x=Ut(function*(b){var C=this;rn(this._callState,"startDialOut()");var E=function(se){if(se){if(!Array.isArray(se))throw new Error("Error starting dial out: audio codec must be an array");if(se.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");se.forEach(function(le){if(typeof le!="string")throw new Error("Error starting dial out: audio codec must be a string");if(le!=="OPUS"&&le!=="PCMU"&&le!=="PCMA"&&le!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!b.sipUri&&!b.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(b.sipUri&&b.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(b.sipUri){if(typeof b.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!b.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(b.video&&typeof b.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(se){if(se&&(E(se.audio),se.video)){if(!Array.isArray(se.video))throw new Error("Error starting dial out: video codec must be an array");if(se.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");se.video.forEach(function(le){if(typeof le!="string")throw new Error("Error starting dial out: video codec must be a string");if(le!=="H264"&&le!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(b.codecs)}if(b.phoneNumber){if(typeof b.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(b.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");b.codecs&&E(b.codecs.audio)}if(b.callerId){if(typeof b.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(b.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(b.displayName){if(typeof b.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(b.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(b.userId){if(typeof b.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(b.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(DO(b),b.permissions&&b.permissions.canReceive){var B=ai(Rz.validateJSONObject(b.permissions.canReceive),2),F=B[0],Z=B[1];if(!F)throw new Error(Z)}if(b.provider){if(b.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(b.provider));if(b.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(se,le){C.sendMessageToCallMachine(kt({action:"dialout-start"},b),function(ue){ue.error?le(ue.error):se(ue)})})}),function(b){return x.apply(this,arguments)})},{key:"stopDialOut",value:function(b){var C=this;return rn(this._callState,"stopDialOut()"),new Promise(function(E,B){C.sendMessageToCallMachine(kt({action:"dialout-stop"},b),function(F){F.error?B(F.error):E(F)})})}},{key:"sipCallTransfer",value:(m=Ut(function*(b){var C=this;if(rn(this._callState,"sipCallTransfer()"),!b)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return b.useSipRefer=!1,$O(b,"sipCallTransfer"),DO(b),new Promise(function(E,B){C.sendMessageToCallMachine(kt({action:hO},b),function(F){F.error?B(F.error):E(F)})})}),function(b){return m.apply(this,arguments)})},{key:"sipRefer",value:(v=Ut(function*(b){var C=this;if(rn(this._callState,"sipRefer()"),!b)throw new Error("sessionId and toEndPoint are mandatory parameter");return b.useSipRefer=!0,$O(b,"sipRefer"),new Promise(function(E,B){C.sendMessageToCallMachine(kt({action:hO},b),function(F){F.error?B(F.error):E(F)})})}),function(b){return v.apply(this,arguments)})},{key:"sendDTMF",value:(f=Ut(function*(b){var C=this;return rn(this._callState,"sendDTMF()"),function(E){var B=E.sessionId,F=E.tones;if(!B||!F)throw new Error("sessionId and tones are mandatory parameter");if(typeof B!="string"||typeof F!="string")throw new Error("sessionId and tones should be of string type");if(F.length>20)throw new Error("tones string must be upto 20 characters");var Z=/[^0-9A-D*#]/g,se=F.match(Z);if(se&&se[0])throw new Error("".concat(se[0]," is not valid DTMF tone"))}(b),new Promise(function(E,B){C.sendMessageToCallMachine(kt({action:"send-dtmf"},b),function(F){F.error?B(F.error):E(F)})})}),function(b){return f.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var b=this;return this._callState!==yu?Promise.resolve(kt({stats:{latest:{}}},this._network)):new Promise(function(C){b.sendMessageToCallMachine({action:"get-calc-stats"},function(E){C(kt(kt({},b._network),{},{stats:E.stats}))})})}},{key:"testWebsocketConnectivity",value:(p=Ut(function*(){var b=this;if(q5(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(C){return Promise.reject(C)}return new Promise(function(C,E){b.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(B){B.error?E(B.error):C(B.results)})})}),function(){return p.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(b){return b?b instanceof MediaStreamTrack?!!Lve(b)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=Ut(function*(){var b=this;dr(),uo(this._callObjectMode,"testCallQuality()"),W1(this._callMachineInitialized,"testCallQuality()",null,!0),U5(this._callState,this._isPreparingToJoin,"testCallQuality()");var C=this._testCallAlreadyInProgress,E=function(F){C||(b._testCallInProgress=F)};if(E(!0),this.needsLoad())try{var B=this._callState;yield this.load(),this._callState=B}catch(F){return E(!1),Promise.reject(F)}return new Promise(function(F){b.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:b.properties.dailyJsVersion},function(Z){var se=Z.results,le=se.result,ue=rR(se,Dve);if(le==="failed"){var fe,be=kt({},ue);(fe=ue.error)!==null&&fe!==void 0&&fe.details?(ue.error.details=JSON.parse(ue.error.details),be.error=kt(kt({},be.error),{},{details:kt({},be.error.details)}),be.error.details.duringTest="testCallQuality"):(be.error=be.error?kt({},be.error):{},be.error.details={duringTest:"testCallQuality"}),b._maybeSendToSentry(be)}E(!1),F(kt({result:le},ue))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=Ut(function*(b){var C;fr()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),C=yield this.testPeerToPeerCallQuality(b)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),C=yield this.testCallQuality());var E={result:C.result,secondsElapsed:C.secondsElapsed};return C.data&&(E.data={maxRTT:C.data.maxRoundTripTime,packetLoss:C.data.avgRecvPacketLoss}),E}),function(b){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=Ut(function*(b){var C=this;if(q5(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(F){return Promise.reject(F)}var E=b.videoTrack,B=b.duration;if(!this._validateVideoTrackForNetworkTests(E))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=E,new Promise(function(F,Z){C.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:B},function(se){se.error?Z(se.error):F(se.results)})})}),function(b){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){fr()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=Ut(function*(b){var C=this;if(q5(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}if(!this._validateVideoTrackForNetworkTests(b))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=b,new Promise(function(E,B){C.sendMessageToCallMachine({action:"test-network-connectivity"},function(F){F.error?B(F.error):E(F.results)})})}),function(b){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var b=this;return new Promise(function(C){b._callState===yu?b.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(E){C(E.cpuStats)}):C({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(b){var C;if(!(((C=Object.keys(b))===null||C===void 0?void 0:C.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(B5))}},{key:"_validateVideoSendSettings",value:function(b,C){var E=b==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],B="Video send settings should be either an object or one of the supported presets: ".concat(E.join());if(typeof C=="string"){if(!E.includes(C))throw new Error(B)}else{if(Er(C)!=="object")throw new Error(B);if(!C.maxQuality&&!C.encodings&&C.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(C.maxQuality&&["low","medium","high"].indexOf(C.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(C.encodings){var F=!1;switch(Object.keys(C.encodings).length){case 1:F=!C.encodings.low;break;case 2:F=!C.encodings.low||!C.encodings.medium;break;case 3:F=!C.encodings.low||!C.encodings.medium||!C.encodings.high;break;default:F=!0}if(F)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");C.encodings.low&&this._validateEncodingLayerHasValidProperties(C.encodings.low),C.encodings.medium&&this._validateEncodingLayerHasValidProperties(C.encodings.medium),C.encodings.high&&this._validateEncodingLayerHasValidProperties(C.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(b){var C=this;if(!b||Object.keys(b).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(b).forEach(function(E){var B=ai(E,2),F=B[0],Z=B[1];C._validateVideoSendSettings(F,Z)})}},{key:"updateSendSettings",value:function(b){var C=this;return this.validateUpdateSendSettings(b),this.needsLoad()?(this._preloadCache.sendSettings=b,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(E,B){C.sendMessageToCallMachine({action:"update-send-settings",sendSettings:b},function(F){F.error?B(F.error):E(F.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return dr(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(b){return dr(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:b}),this}},{key:"activeSpeakerMode",value:function(){return dr(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(b){return rn(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=b,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:b}),this}},{key:"enumerateDevices",value:(l=Ut(function*(){var b=this;if(this._callObjectMode){var C=yield navigator.mediaDevices.enumerateDevices();return $h()==="Firefox"&&Jw().major>115&&Jw().major<123&&(C=C.filter(function(E){return E.kind!=="audiooutput"})),{devices:C.map(function(E){var B=JSON.parse(JSON.stringify(E));if(!fr()&&E.kind==="videoinput"&&E.getCapabilities){var F,Z=E.getCapabilities();B.facing=(Z==null||(F=Z.facingMode)===null||F===void 0?void 0:F.length)>=1?Z.facingMode[0]:void 0}return B})}}return new Promise(function(E){b.sendMessageToCallMachine({action:"enumerate-devices"},function(B){E({devices:B.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(rn(this._callState,"sendAppMessage()"),JSON.stringify(b).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:b,to:C}),this}},{key:"addFakeParticipant",value:function(b){return dr(),rn(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(kt({action:"add-fake-participant"},b)),this}},{key:"setShowNamesMode",value:function(b){return ea(this._callObjectMode,"setShowNamesMode()"),dr(),b&&b!=="always"&&b!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:b}),this)}},{key:"setShowLocalVideo",value:function(){var b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ea(this._callObjectMode,"setShowLocalVideo()"),dr(),rn(this._callState,"setShowLocalVideo()"),typeof b!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:b}),this._showLocalVideo=b,this)}},{key:"showLocalVideo",value:function(){return ea(this._callObjectMode,"showLocalVideo()"),dr(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ea(this._callObjectMode,"setShowParticipantsBar()"),dr(),rn(this._callState,"setShowParticipantsBar()"),typeof b!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:b}),this._showParticipantsBar=b,this)}},{key:"showParticipantsBar",value:function(){return ea(this._callObjectMode,"showParticipantsBar()"),dr(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return dr(),ea(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(b){return dr(),ea(this._callObjectMode,"setCustomIntegrations()"),rn(this._callState,"setCustomIntegrations()"),qz(b)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:b}),this._customIntegrations=b,this):this}},{key:"startCustomIntegrations",value:function(b){var C=this;if(dr(),ea(this._callObjectMode,"startCustomIntegrations()"),rn(this._callState,"startCustomIntegrations()"),Array.isArray(b)&&b.some(function(F){return typeof F!="string"})||!Array.isArray(b)&&typeof b!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var E=typeof b=="string"?[b]:b,B=E.filter(function(F){return!(F in C._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:E}),this)}},{key:"stopCustomIntegrations",value:function(b){var C=this;if(dr(),ea(this._callObjectMode,"stopCustomIntegrations()"),rn(this._callState,"stopCustomIntegrations()"),Array.isArray(b)&&b.some(function(F){return typeof F!="string"})||!Array.isArray(b)&&typeof b!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var E=typeof b=="string"?[b]:b,B=E.filter(function(F){return!(F in C._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:E}),this)}},{key:"customTrayButtons",value:function(){return ea(this._callObjectMode,"customTrayButtons()"),dr(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(b){return ea(this._callObjectMode,"updateCustomTrayButtons()"),dr(),rn(this._callState,"updateCustomTrayButtons()"),Uz(b)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:b}),this._customTrayButtons=b,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Zw))),this)}},{key:"theme",value:function(){return ea(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(b){var C=this;return ea(this._callObjectMode,"setTheme()"),new Promise(function(E,B){try{C.validateProperties({theme:b}),C.properties.theme=kt({},b),C.sendMessageToCallMachine({action:"set-theme",theme:C.properties.theme});try{C.emitDailyJSEvent({action:kq,theme:C.properties.theme})}catch(F){console.log("could not emit 'theme-updated'",F)}E(C.properties.theme)}catch(F){B(F)}})}},{key:"requestFullscreen",value:(a=Ut(function*(){if(dr(),this._iframe&&!document.fullscreenElement&&fO())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(b){console.log("could not make video call fullscreen",b)}}),function(){return a.apply(this,arguments)})},{key:"exitFullscreen",value:function(){dr(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=Ut(function*(){var b=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(C){b.sendMessageToCallMachine({action:"get-sidebar-view"},function(E){C(E.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(b){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:b}),this)}},{key:"room",value:(s=Ut(function*(){var b=this,C=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,E=C===void 0||C;return this._accessState.access===Ax||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(B){b.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:E},function(F){delete F.action,delete F.callbackStamp,B(F)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(n=Ut(function*(){try{var b=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield b.json()).geo}}catch(C){return console.error("geo lookup failed",C),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=Ut(function*(b){var C=this;return dr(),rn(this._callState,"setNetworkTopology()"),new Promise(function(E,B){C.sendMessageToCallMachine({action:"set-network-topology",opts:b},function(F){F.error?B({error:F.error}):E({workerId:F.workerId})})})}),function(b){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=Ut(function*(){var b=this;return new Promise(function(C,E){b.needsLoad()&&C({topology:"none"}),b.sendMessageToCallMachine({action:"get-network-topology"},function(B){B.error?E({error:B.error}):C({topology:B.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(b){if(dr(),typeof b!="number"&&b!==!0&&b!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(b));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:b})}},{key:"on",value:function(b,C){return L1.prototype.on.call(this,b,C)}},{key:"once",value:function(b,C){return L1.prototype.once.call(this,b,C)}},{key:"off",value:function(b,C){return L1.prototype.off.call(this,b,C)}},{key:"validateProperties",value:function(b){var C,E;if(b!=null&&(C=b.dailyConfig)!==null&&C!==void 0&&C.userMediaAudioConstraints){var B,F;fr()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var Z=b.inputSettings||{};Z.audio=((B=b.inputSettings)===null||B===void 0?void 0:B.audio)||{},Z.audio.settings=((F=b.inputSettings)===null||F===void 0||(F=F.audio)===null||F===void 0?void 0:F.settings)||{},Z.audio.settings=kt(kt({},Z.audio.settings),b.dailyConfig.userMediaAudioConstraints),b.inputSettings=Z,delete b.dailyConfig.userMediaAudioConstraints}if(b!=null&&(E=b.dailyConfig)!==null&&E!==void 0&&E.userMediaVideoConstraints){var se,le;fr()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var ue=b.inputSettings||{};ue.video=((se=b.inputSettings)===null||se===void 0?void 0:se.video)||{},ue.video.settings=((le=b.inputSettings)===null||le===void 0||(le=le.video)===null||le===void 0?void 0:le.settings)||{},ue.video.settings=kt(kt({},ue.video.settings),b.dailyConfig.userMediaVideoConstraints),b.inputSettings=ue,delete b.dailyConfig.userMediaVideoConstraints}for(var fe in b)if(Fd[fe]){if(Fd[fe].validate&&!Fd[fe].validate(b[fe],this))throw new Error("property '".concat(fe,"': ").concat(Fd[fe].help))}else console.warn("Ignoring unrecognized property '".concat(fe,"'")),delete b[fe]}},{key:"assembleMeetingUrl",value:function(){var b,C,E=kt(kt({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(b=this.properties.dailyConfig)!==null&&b!==void 0&&b.proxyUrl?encodeURIComponent((C=this.properties.dailyConfig)===null||C===void 0?void 0:C.proxyUrl):void 0}),B=E.url.match(/\?/)?"&":"?";return E.url+B+Object.keys(Fd).filter(function(F){return Fd[F].queryString&&E[F]!==void 0}).map(function(F){return"".concat(Fd[F].queryString,"=").concat(E[F])}).join("&")}},{key:"needsLoad",value:function(){return[zN,oO,cu,Ql].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(b,C){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(b,C,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(b){this._messageChannel.forwardPackagedMessageToCallMachine(b,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(b){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(b,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(b){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(b)}},{key:"handleMessageFromCallMachine",value:function(b){switch(b.action){case jq:this.sendMessageToCallMachine(kt({action:Nq},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var C={action:q1,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:zw(this.properties.dailyConfig)}};this.sendMessageToCallMachine(C),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case WN:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(b);break;case Rq:var E,B=kt({},b);delete B.internal,this._maxAppMessageSize=((E=b.internal)===null||E===void 0?void 0:E._maxAppMessageSize)||L5,this._joinedCallback&&(this._joinedCallback(b.participants),this._joinedCallback=null),this.emitDailyJSEvent(B);break;case Lq:case Mq:if(this._callState===cu)return;if(b.participant&&b.participant.session_id){var F=b.participant.local?"local":b.participant.session_id;if(this._callObjectMode){var Z=this._callMachine().store;wO(b.participant,Z),bO(b.participant,Z),_O(b.participant,this._participants[F],Z)}try{this.maybeParticipantTracksStopped(this._participants[F],b.participant),this.maybeParticipantTracksStarted(this._participants[F],b.participant),this.maybeEventRecordingStopped(this._participants[F],b.participant),this.maybeEventRecordingStarted(this._participants[F],b.participant)}catch(Le){console.error("track events error",Le)}this.compareEqualForParticipantUpdateEvent(b.participant,this._participants[F])||(this._participants[F]=kt({},b.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(b))}break;case Iq:if(b.participant&&b.participant.session_id){var se=this._participants[b.participant.session_id];se&&this.maybeParticipantTracksStopped(se,null),delete this._participants[b.participant.session_id],this.emitDailyJSEvent(b)}break;case Dq:bi(this._participantCounts,b.participantCounts)||(this._participantCounts=b.participantCounts,this.emitDailyJSEvent(b));break;case Fq:var le={access:b.access};b.awaitingAccess&&(le.awaitingAccess=b.awaitingAccess),bi(this._accessState,le)||(this._accessState=le,this.emitDailyJSEvent(b));break;case $q:if(b.meetingSession){this._meetingSessionSummary=b.meetingSession,this.emitDailyJSEvent(b);var ue=kt(kt({},b),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(ue)}break;case JN:var fe;this._iframe&&!b.preserveIframe&&(this._iframe.src=""),this._updateCallState(Ql),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(b.errorMsg),this._loadedCallback=null),b.preserveIframe;var be=rR(b,Fve);be!=null&&(fe=be.error)!==null&&fe!==void 0&&fe.details&&(be.error.details=JSON.parse(be.error.details)),this._maybeSendToSentry(b),this._joinedCallback&&(this._joinedCallback(null,be),this._joinedCallback=null),this.emitDailyJSEvent(be);break;case Oq:this._callState!==Ql&&this._updateCallState(cu),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(b);break;case"selected-devices-updated":b.devices&&this.emitDailyJSEvent(b);break;case cz:var Ie=b.state,Q=b.threshold,De=b.quality,Ye=Ie.state,Ke=Ie.reasons;Ye===this._network.networkState&&bi(Ke,this._network.networkStateReasons)&&Q===this._network.threshold&&De===this._network.quality||(this._network.networkState=Ye,this._network.networkStateReasons=Ke,this._network.quality=De,this._network.threshold=Q,b.networkState=Ye,Ke.length&&(b.networkStateReasons=Ke),delete b.state,this.emitDailyJSEvent(b));break;case dz:b&&b.cpuLoadState&&this.emitDailyJSEvent(b);break;case hz:b&&b.faceCounts!==void 0&&this.emitDailyJSEvent(b);break;case oz:var Ne=b.activeSpeaker;this._activeSpeaker.peerId!==Ne.peerId&&(this._activeSpeaker.peerId=Ne.peerId,this.emitDailyJSEvent({action:b.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var K=b.show;this._showLocalVideo=K,this.emitDailyJSEvent({action:b.action,show:K});break;case lz:var ce=b.enabled;this._activeSpeakerMode!==ce&&(this._activeSpeakerMode=ce,this.emitDailyJSEvent({action:b.action,enabled:this._activeSpeakerMode}));break;case Uq:case qq:case zq:this._waitingParticipants=b.allWaitingParticipants,this.emitDailyJSEvent({action:b.action,participant:b.participant});break;case yz:bi(this._receiveSettings,b.receiveSettings)||(this._receiveSettings=b.receiveSettings,this.emitDailyJSEvent({action:b.action,receiveSettings:b.receiveSettings}));break;case YN:this._maybeUpdateInputSettings(b.inputSettings);break;case"send-settings-updated":bi(this._sendSettings,b.sendSettings)||(this._sendSettings=b.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:b.action,sendSettings:b.sendSettings}));break;case"local-audio-level":this._localAudioLevel=b.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(b);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=b.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(b);break;case tz:var ve=b.session_id;this._rmpPlayerState[ve]=b.playerState,this.emitDailyJSEvent(b);break;case nz:delete this._rmpPlayerState[b.session_id],this.emitDailyJSEvent(b);break;case rz:var je=b.session_id,Oe=this._rmpPlayerState[je];Oe&&this.compareEqualForRMPUpdateEvent(Oe,b.remoteMediaPlayerState)||(this._rmpPlayerState[je]=b.remoteMediaPlayerState,this.emitDailyJSEvent(b));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(b);break;case Bq:var ke=this._meetingSessionState.topology!==(b.meetingSessionState&&b.meetingSessionState.topology);this._meetingSessionState=z5(b.meetingSessionState,this._callObjectMode),(this._callObjectMode||ke)&&this.emitDailyJSEvent(b);break;case sz:this._isScreenSharing=!0,this.emitDailyJSEvent(b);break;case iz:case az:this._isScreenSharing=!1,this.emitDailyJSEvent(b);break;case HN:case GN:case Kq:case Jq:case Qq:case Hq:case Gq:case Yq:case Aq:case Pq:case Xq:case ez:case"test-completed":case uz:case Zq:case fz:case pz:case mz:case gz:case KN:case vz:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(b);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(b,C){var E="record";b&&(C.local||C[E]!==!1||b[E]===C[E]||this.emitDailyJSEvent({action:GN}))}},{key:"maybeEventRecordingStarted",value:function(b,C){var E="record";b&&(C.local||C[E]!==!0||b[E]===C[E]||this.emitDailyJSEvent({action:HN}))}},{key:"_trackStatePlayable",value:function(b){return!(!b||b.state!==xq)}},{key:"_trackChanged",value:function(b,C){return(b==null?void 0:b.id)!==(C==null?void 0:C.id)}},{key:"maybeEventTrackStopped",value:function(b,C,E){var B,F,Z=(B=C==null?void 0:C.tracks[b])!==null&&B!==void 0?B:null,se=(F=E==null?void 0:E.tracks[b])!==null&&F!==void 0?F:null,le=Z==null?void 0:Z.track;if(le){var ue=this._trackStatePlayable(Z),fe=this._trackStatePlayable(se),be=this._trackChanged(le,se==null?void 0:se.track);ue&&(fe&&!be||this.emitDailyJSEvent({action:Wq,track:le,participant:E??C,type:b}))}}},{key:"maybeEventTrackStarted",value:function(b,C,E){var B,F,Z=(B=C==null?void 0:C.tracks[b])!==null&&B!==void 0?B:null,se=(F=E==null?void 0:E.tracks[b])!==null&&F!==void 0?F:null,le=se==null?void 0:se.track;if(le){var ue=this._trackStatePlayable(Z),fe=this._trackStatePlayable(se),be=this._trackChanged(Z==null?void 0:Z.track,le);fe&&(ue&&!be||this.emitDailyJSEvent({action:Vq,track:le,participant:E,type:b}))}}},{key:"maybeParticipantTracksStopped",value:function(b,C){if(b)for(var E in b.tracks)this.maybeEventTrackStopped(E,b,C)}},{key:"maybeParticipantTracksStarted",value:function(b,C){if(C)for(var E in C.tracks)this.maybeEventTrackStarted(E,b,C)}},{key:"compareEqualForRMPUpdateEvent",value:function(b,C){var E,B;return b.state===C.state&&((E=b.settings)===null||E===void 0?void 0:E.volume)===((B=C.settings)===null||B===void 0?void 0:B.volume)}},{key:"emitDailyJSEvent",value:function(b){try{b.callClientId=this.callClientId,this.emit(b.action,b)}catch(C){console.log("could not emit",b,C)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(b,C){return!!bi(b,C)&&(!b.videoTrack||!C.videoTrack||b.videoTrack.id===C.videoTrack.id&&b.videoTrack.muted===C.videoTrack.muted&&b.videoTrack.enabled===C.videoTrack.enabled)&&(!b.audioTrack||!C.audioTrack||b.audioTrack.id===C.audioTrack.id&&b.audioTrack.muted===C.audioTrack.muted&&b.audioTrack.enabled===C.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return fr()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(b){this._updateCallState(this._callState,b)}},{key:"_updateCallState",value:function(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(b!==this._callState||C!==this._isPreparingToJoin){var E=this._callState,B=this._isPreparingToJoin;this._callState=b,this._isPreparingToJoin=C;var F=this._callState===yu;this.updateShowAndroidOngoingMeetingNotification(F);var Z=Tx(E,B),se=Tx(this._callState,this._isPreparingToJoin);Z!==se&&(this.updateKeepDeviceAwake(se),this.updateDeviceAudioMode(se),this.updateNoOpRecordingEnsuringBackgroundContinuity(se))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=LO,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Ax},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=z5(OO,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=L5,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(b){fr()&&this.nativeUtils().setKeepDeviceAwake(b,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(b){if(fr()&&!this.disableReactNativeAutoDeviceManagement("audio")){var C=b?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(C)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(b){if(fr()&&this.nativeUtils().setShowOngoingMeetingNotification){var C,E,B,F;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var Z=this.properties.reactNativeConfig.androidInCallNotification;C=Z.title,E=Z.subtitle,B=Z.iconName,F=Z.disableForCustomOverride}F&&(b=!1),this.nativeUtils().setShowOngoingMeetingNotification(b,C,E,B,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(b){fr()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(b)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var b;if(fr()){var C=(b=this._callMachine())===null||b===void 0||(b=b.store)===null||b===void 0?void 0:b.getState();for(var E in C==null?void 0:C.streams){var B=C.streams[E];B&&B.pendingTrack&&B.pendingTrack.kind==="audio"&&(B.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(b){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[b]}},{key:"absoluteUrl",value:function(b){if(b!==void 0){var C=document.createElement("a");return C.href=b,C.href}}},{key:"sayHello",value:function(){var b="hello, world.";return console.log(b),b}},{key:"_logUseAfterDestroy",value:function(){var b=Object.values(Dd)[0];if(this.needsLoad())if(b&&!b.needsLoad()){var C={action:q1,level:"error",code:this.strictMode?9995:9997};b.sendMessageToCallMachine(C)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var E={action:q1,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(E,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var b=0,C=Object.values(Dd);b<C.length;b++){var E=C[b];E._callMachineInitialized?(E.sendMessageToCallMachine({action:q1,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),E._delayDuplicateInstanceLog=!1):E._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(b){var C,E,B,F;if(!((C=b.error)!==null&&C!==void 0&&C.type&&(![Sq,_q,VN].includes(b.error.type)||b.error.type===VN&&b.error.msg.includes("deleted")))){var Z=(E=this.properties)!==null&&E!==void 0&&E.url?new URL(this.properties.url):void 0,se="production";Z&&Z.host.includes(".staging.daily")&&(se="staging");var le,ue,fe,be,Ie,Q=function(ve){const je=[oge(),ige(),Oge(),Tge(),Fge(),Bge(),dge(),$ge()];return ve.autoSessionTracking!==!1&&je.push(Dge()),je}({}).filter(function(ve){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(ve.name)}),De=new xge({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:jge,stackParser:Pge,integrations:Q,environment:se}),Ye=new ad;if(Ye.setClient(De),De.init(),this.session_id&&Ye.setExtra("sessionId",this.session_id),this.properties){var Ke=kt({},this.properties);Ke.userName=Ke.userName?"[Filtered]":void 0,Ke.userData=Ke.userData?"[Filtered]":void 0,Ke.token=Ke.token?"[Filtered]":void 0,Ye.setExtra("properties",Ke)}if(Z){var Ne=Z.searchParams.get("domain");if(!Ne){var K=Z.host.match(/(.*?)\./);Ne=K&&K[1]||""}Ne&&Ye.setTag("domain",Ne)}b.error&&(Ye.setTag("fatalErrorType",b.error.type),Ye.setExtra("errorDetails",b.error.details),!((le=b.error.details)===null||le===void 0)&&le.uri&&Ye.setTag("serverAddress",b.error.details.uri),!((ue=b.error.details)===null||ue===void 0)&&ue.workerGroup&&Ye.setTag("workerGroup",b.error.details.workerGroup),!((fe=b.error.details)===null||fe===void 0)&&fe.geoGroup&&Ye.setTag("geoGroup",b.error.details.geoGroup),!((be=b.error.details)===null||be===void 0)&&be.on&&Ye.setTag("connectionAttempt",b.error.details.on),(Ie=b.error.details)!==null&&Ie!==void 0&&Ie.bundleUrl&&(Ye.setTag("bundleUrl",b.error.details.bundleUrl),Ye.setTag("bundleError",b.error.details.sourceError.type))),Ye.setTags({callMode:this._callObjectMode?fr()?"reactNative":(B=this.properties)!==null&&B!==void 0&&(B=B.dailyConfig)!==null&&B!==void 0&&(B=B.callMode)!==null&&B!==void 0&&B.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var ce=((F=b.error)===null||F===void 0?void 0:F.msg)||b.errorMsg;Ye.captureException(new Error(ce))}}},{key:"_callMachine",value:function(){var b;return(b=window._daily)===null||b===void 0||(b=b.instances)===null||b===void 0||(b=b[this.callClientId])===null||b===void 0?void 0:b.callMachine}},{key:"_maybeUpdateInputSettings",value:function(b){if(!bi(this._inputSettings,b)){var C=this._getInputSettings();this._inputSettings=b;var E=this._getInputSettings();bi(C,E)||this.emitDailyJSEvent({action:YN,inputSettings:E})}}}],[{key:"supportedBrowser",value:function(){if(fr())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var b=kme.getParser(Ja());return{supported:!!D5(),mobile:b.getPlatformType()==="mobile",name:b.getBrowserName(),version:b.getBrowserVersion(),supportsFullscreen:!!fO(),supportsScreenShare:!!fve(),supportsSfu:!!D5(),supportsVideoProcessing:bz(),supportsAudioProcessing:_z()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return b.layout="none",new e(null,b)}},{key:"wrap",value:function(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(dr(),!b||!b.contentWindow||typeof b.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return C.layout||(C.customLayout?C.layout="custom-v1":C.layout="browser"),new e(b,C)}},{key:"createFrame",value:function(b,C){var E,B;dr(),b&&C?(E=b,B=C):b&&b.append?(E=b,B={}):(E=document.body,B=b||{});var F=B.iframeStyle;F||(F=E===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var Z=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?Z.allow="microphone, camera":Z.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",Z.style.visibility="hidden",E.appendChild(Z),Z.style.visibility=null,Object.keys(F).forEach(function(se){return Z.style[se]=F[se]}),B.layout||(B.customLayout?B.layout="custom-v1":B.layout="browser");try{return new e(Z,B)}catch(se){throw E.removeChild(Z),se}}},{key:"createTransparentFrame",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dr();var C=document.createElement("iframe");return C.allow="microphone; camera; autoplay",C.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(C),b.layout||(b.layout="custom-v1"),e.wrap(C,b)}},{key:"getCallInstance",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return b?Dd[b]:Object.values(Dd)[0]}}]);var t,r,n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,w,S,k,T,R,L,D,M,G,A,I,$,q,te,ne,re,W,X,pe,ge,U}();function DO(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Of(e,t){var r={};for(var n in e)if(e[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=hc;else if(n==="dailyConfig"){if(e[n].modifyLocalSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyLocalSdpHook=e[n].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=s,delete e[n].modifyLocalSdpHook}if(e[n].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[n].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[n].modifyRemoteSdpHook}r[n]=e[n]}else r[n]=e[n];return r}function rn(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==yu){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(r+=" ".concat(t)),console.error(r),new Error(r)}}function Tx(e,t){return[Kw,yu].includes(e)||t}function U5(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(Tx(e,t)){var s="".concat(r," not supported after joining a meeting.");throw n&&(s+=" ".concat(n)),console.error(s),new Error(s)}}function W1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!e){var n="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function q5(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function uo(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function ea(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function dr(){if(fr())throw new Error("This daily-js method is not currently supported in React Native")}function $g(){if(!fr())throw new Error("This daily-js method is only supported in React Native")}function Mz(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),bi(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function Iz(e,t){for(var r=t.allowAllParticipantsKey,n=function(h){var p=["local"];return r||p.push("*"),h&&!p.includes(h)},s=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!s(h.video))&&!(h.screenVideo&&!s(h.screenVideo))},a=0,l=Object.entries(e);a<l.length;a++){var c=ai(l[a],2),u=c[0],d=c[1];if(!n(u)||!i(d))return!1}return!0}function Dz(e){if(Er(e)!=="object")return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=ai(r[t],2),s=n[0],i=n[1];switch(s){case"video":if(Er(i)!=="object")return!1;for(var a=0,l=Object.entries(i);a<l.length;a++){var c=ai(l[a],2),u=c[0],d=c[1];switch(u){case"processor":if(!qve(d))return!1;break;case"settings":if(!FO(d))return!1;break;default:return!1}}break;case"audio":if(Er(i)!=="object")return!1;for(var h=0,p=Object.entries(i);h<p.length;h++){var f=ai(p[h],2),v=f[0],m=f[1];switch(v){case"processor":if(!Uve(m))return!1;break;case"settings":if(!FO(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function Fz(e,t,r){var n,s=[];e.video&&e.video.processor&&(bz((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(e.video.settings?delete e.video.processor:delete e.video,s.push("video"))),e.audio&&e.audio.processor&&(_z()||(e.audio.settings?delete e.audio.processor:delete e.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(r.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:hc}):delete r.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(r.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:hc}):delete r.videoTrack)}function Uve(e){if(fr())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Er(e)==="object"&&(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete e[r]}),!!function(r){return typeof r!="string"?!1:Object.values(xz).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function qve(e){if(fr())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Er(e)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(Px).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Er(e.config)!=="object"||!function(r,n){var s=Object.keys(n);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(r){case Px.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case Px.BGIMAGE:return!(n.source!==void 0&&!function(a){if(a.source==="default")return a.type="default",!0;if(a.source instanceof ArrayBuffer)return!0;if(Vw(a.source))return a.type="url",!!function(u){var d=new URL(u),h=d.pathname;if(d.protocol==="data:")try{var p=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return I5.includes(p)}catch(v){return console.error("failed to deduce blob content type",v),!1}var f=h.split(".").at(-1).toLowerCase().trim();return I5.includes(f)}(a.source)||(console.error("invalid image type; supported types: [".concat(I5.join(", "),"]")),!1);return l=a.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(a.type="daily-preselect",!0);var l,c}(n));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete e[r]}),!0)}function FO(e){return Er(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function nk(){var e=Object.values(Px).join(" | "),t=Object.values(xz).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function $z(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(bq).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function Bz(){return"customIntegrations should be an object of type ".concat(JSON.stringify(rk),".")}function Uz(e){if(e&&Er(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Zw),".")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=ai(r[t],1)[0],s=0,i=Object.entries(e[n]);s<i.length;s++){var a=ai(i[s],2),l=a[0],c=a[1],u=Zw.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!Vw(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(Er(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function qz(e){if(!e||e&&Er(e)!=="object"||Array.isArray(e))return console.error(Bz()),!1;for(var t=function(h){return"".concat(h," should be ").concat(rk.id[h])},r=function(h,p){return console.error("customIntegration ".concat(h,": ").concat(p))},n=0,s=Object.entries(e);n<s.length;n++){var i=ai(s[n],1)[0];if(!("label"in e[i]))return r(i,"label is required"),!1;if(!("location"in e[i]))return r(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return r(i,"src or srcdoc is required"),!1;for(var a=0,l=Object.entries(e[i]);a<l.length;a++){var c=ai(l[a],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(i,t(u)),!1;break;case"iconURL":if(!Vw(d))return r(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(!Vw(d))return r(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return r(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(i,t(u)),!1;break;default:if(!rk.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function zz(e,t){if(t===void 0)return!1;switch(Er(t)){case"string":return Er(e)===t;case"object":if(Er(e)!=="object")return!1;for(var r in e)if(!zz(e[r],t[r]))return!1;return!0;default:return!1}}function $O(e,t){var r=e.sessionId,n=e.toEndPoint,s=e.callerId,i=e.useSipRefer;if(!r||!n)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!n.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function BO(e){if(Er(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(QN).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(QN));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function UO(e,t,r){return!(typeof e!="number"||e<t||e>r)}function z5(e,t){return e&&!t&&delete e.data,e}const zve=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:wq,DAILY_ACCESS_LEVEL_LOBBY:Hge,DAILY_ACCESS_LEVEL_NONE:Gge,DAILY_ACCESS_UNKNOWN:Ax,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:sve,DAILY_CAMERA_ERROR_CAM_IN_USE:rve,DAILY_CAMERA_ERROR_CONSTRAINTS:lve,DAILY_CAMERA_ERROR_MIC_IN_USE:nve,DAILY_CAMERA_ERROR_NOT_FOUND:ove,DAILY_CAMERA_ERROR_PERMISSIONS:ive,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:ave,DAILY_CAMERA_ERROR_UNKNOWN:cve,DAILY_EVENT_ACCESS_STATE_UPDATED:Fq,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:oz,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:lz,DAILY_EVENT_APP_MSG:Xq,DAILY_EVENT_CAMERA_ERROR:Pq,DAILY_EVENT_CPU_LOAD_CHANGE:dz,DAILY_EVENT_ERROR:JN,DAILY_EVENT_EXIT_FULLSCREEN:rv,DAILY_EVENT_FACE_COUNTS_UPDATED:hz,DAILY_EVENT_FULLSCREEN:tv,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:Nq,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:jq,DAILY_EVENT_INPUT_SETTINGS_UPDATED:YN,DAILY_EVENT_JOINED_MEETING:Rq,DAILY_EVENT_JOINING_MEETING:Tq,DAILY_EVENT_LANG_UPDATED:vz,DAILY_EVENT_LEFT_MEETING:Oq,DAILY_EVENT_LIVE_STREAMING_ERROR:gz,DAILY_EVENT_LIVE_STREAMING_STARTED:fz,DAILY_EVENT_LIVE_STREAMING_STOPPED:mz,DAILY_EVENT_LIVE_STREAMING_UPDATED:pz,DAILY_EVENT_LOADED:WN,DAILY_EVENT_LOADING:Cq,DAILY_EVENT_LOAD_ATTEMPT_FAILED:Eq,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:az,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:sz,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:iz,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:uve,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:Bq,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:$q,DAILY_EVENT_NETWORK_CONNECTION:uz,DAILY_EVENT_NETWORK_QUALITY_CHANGE:cz,DAILY_EVENT_NONFATAL_ERROR:KN,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:Dq,DAILY_EVENT_PARTICIPANT_JOINED:Lq,DAILY_EVENT_PARTICIPANT_LEFT:Iq,DAILY_EVENT_PARTICIPANT_UPDATED:Mq,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:yz,DAILY_EVENT_RECORDING_DATA:Zq,DAILY_EVENT_RECORDING_ERROR:Jq,DAILY_EVENT_RECORDING_STARTED:HN,DAILY_EVENT_RECORDING_STATS:Kq,DAILY_EVENT_RECORDING_STOPPED:GN,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:Qq,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:tz,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:nz,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:rz,DAILY_EVENT_STARTED_CAMERA:Aq,DAILY_EVENT_THEME_UPDATED:kq,DAILY_EVENT_TRACK_STARTED:Vq,DAILY_EVENT_TRACK_STOPPED:Wq,DAILY_EVENT_TRANSCRIPTION_ERROR:Yq,DAILY_EVENT_TRANSCRIPTION_MSG:ez,DAILY_EVENT_TRANSCRIPTION_STARTED:Hq,DAILY_EVENT_TRANSCRIPTION_STOPPED:Gq,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:Uq,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:zq,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:qq,DAILY_FATAL_ERROR_CONNECTION:Sq,DAILY_FATAL_ERROR_EJECTED:Kge,DAILY_FATAL_ERROR_EOL:_q,DAILY_FATAL_ERROR_EXP_ROOM:Zge,DAILY_FATAL_ERROR_EXP_TOKEN:Xge,DAILY_FATAL_ERROR_MEETING_FULL:eve,DAILY_FATAL_ERROR_NBF_ROOM:Jge,DAILY_FATAL_ERROR_NBF_TOKEN:Qge,DAILY_FATAL_ERROR_NOT_ALLOWED:tve,DAILY_FATAL_ERROR_NO_ROOM:VN,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:Yge,DAILY_RECEIVE_SETTINGS_BASE_KEY:bq,DAILY_STATE_ERROR:Ql,DAILY_STATE_JOINED:yu,DAILY_STATE_JOINING:Kw,DAILY_STATE_LEFT:cu,DAILY_STATE_NEW:zN,DAILY_TRACK_STATE_BLOCKED:Uge,DAILY_TRACK_STATE_INTERRUPTED:Wge,DAILY_TRACK_STATE_LOADING:Vge,DAILY_TRACK_STATE_OFF:qge,DAILY_TRACK_STATE_PLAYABLE:xq,DAILY_TRACK_STATE_SENDABLE:zge,default:Bve},Symbol.toStringTag,{value:"Module"})),Vve=dH(zve);var NA={exports:{}},Sp=typeof Reflect=="object"?Reflect:null,qO=Sp&&typeof Sp.apply=="function"?Sp.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Rx;Sp&&typeof Sp.ownKeys=="function"?Rx=Sp.ownKeys:Object.getOwnPropertySymbols?Rx=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Rx=function(t){return Object.getOwnPropertyNames(t)};function Wve(e){console&&console.warn&&console.warn(e)}var Vz=Number.isNaN||function(t){return t!==t};function Zr(){Zr.init.call(this)}NA.exports=Zr;NA.exports.once=Kve;Zr.EventEmitter=Zr;Zr.prototype._events=void 0;Zr.prototype._eventsCount=0;Zr.prototype._maxListeners=void 0;var zO=10;function _2(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Zr,"defaultMaxListeners",{enumerable:!0,get:function(){return zO},set:function(e){if(typeof e!="number"||e<0||Vz(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");zO=e}});Zr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Zr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Vz(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Wz(e){return e._maxListeners===void 0?Zr.defaultMaxListeners:e._maxListeners}Zr.prototype.getMaxListeners=function(){return Wz(this)};Zr.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")qO(c,this,r);else for(var u=c.length,d=Jz(c,u),n=0;n<u;++n)qO(d[n],this,r);return!0};function Hz(e,t,r,n){var s,i,a;if(_2(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),a===void 0)a=i[t]=r,++e._eventsCount;else if(typeof a=="function"?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),s=Wz(e),s>0&&a.length>s&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,Wve(l)}return e}Zr.prototype.addListener=function(t,r){return Hz(this,t,r,!1)};Zr.prototype.on=Zr.prototype.addListener;Zr.prototype.prependListener=function(t,r){return Hz(this,t,r,!0)};function Hve(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Gz(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=Hve.bind(n);return s.listener=r,n.wrapFn=s,s}Zr.prototype.once=function(t,r){return _2(r),this.on(t,Gz(this,t,r)),this};Zr.prototype.prependOnceListener=function(t,r){return _2(r),this.prependListener(t,Gz(this,t,r)),this};Zr.prototype.removeListener=function(t,r){var n,s,i,a,l;if(_2(r),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){l=n[a].listener,i=a;break}if(i<0)return this;i===0?n.shift():Gve(n,i),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this};Zr.prototype.off=Zr.prototype.removeListener;Zr.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),a;for(s=0;s<i.length;++s)a=i[s],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function Yz(e,t,r){var n=e._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?Yve(s):Jz(s,s.length)}Zr.prototype.listeners=function(t){return Yz(this,t,!0)};Zr.prototype.rawListeners=function(t){return Yz(this,t,!1)};Zr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Kz.call(e,t)};Zr.prototype.listenerCount=Kz;function Kz(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Zr.prototype.eventNames=function(){return this._eventsCount>0?Rx(this._events):[]};function Jz(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Gve(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Yve(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function Kve(e,t){return new Promise(function(r,n){function s(a){e.removeListener(t,i),n(a)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),r([].slice.call(arguments))}Qz(e,t,i,{once:!0}),t!=="error"&&Jve(e,s,{once:!0})})}function Jve(e,t,r){typeof e.on=="function"&&Qz(e,"error",t,r)}function Qz(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){n.once&&e.removeEventListener(t,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Qve=NA.exports,S2={},Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.Api=Hu.HttpClient=Hu.ContentType=void 0;var et;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(et||(Hu.ContentType=et={}));class Zz{constructor(t={}){rt(this,"baseUrl","https://api.vapi.ai");rt(this,"securityData",null);rt(this,"securityWorker");rt(this,"abortControllers",new Map);rt(this,"customFetch",(...t)=>fetch(...t));rt(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});rt(this,"setSecurityData",t=>{this.securityData=t});rt(this,"contentFormatters",{[et.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[et.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[et.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[et.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((r,n)=>{const s=t[n];return r.append(n,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),r},new FormData),[et.UrlEncoded]:t=>this.toQueryString(t)});rt(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const n=this.abortControllers.get(t);return n?n.signal:void 0}const r=new AbortController;return this.abortControllers.set(t,r),r.signal});rt(this,"abortRequest",t=>{const r=this.abortControllers.get(t);r&&(r.abort(),this.abortControllers.delete(t))});rt(this,"request",async({body:t,secure:r,path:n,type:s,query:i,format:a,baseUrl:l,cancelToken:c,...u})=>{const d=(typeof r=="boolean"?r:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,d),p=i&&this.toQueryString(i),f=this.contentFormatters[s||et.Json],v=a||h.format;return this.customFetch(`${l||this.baseUrl||""}${n}${p?`?${p}`:""}`,{...h,headers:{...h.headers||{},...s&&s!==et.FormData?{"Content-Type":s}:{}},signal:(c?this.createAbortSignal(c):h.signal)||null,body:typeof t>"u"||t===null?null:f(t)}).then(async m=>{const x=m;x.data=null,x.error=null;const g=v?m.clone():m,w=v?await g[v]().then(S=>(x.ok?x.data=S:x.error=S,x)).catch(S=>(x.error=S,x)):x;if(c&&this.abortControllers.delete(c),!m.ok)throw w;return w})});Object.assign(this,t)}encodeQueryParam(t,r){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof r=="number"?r:`${r}`)}`}addQueryParam(t,r){return this.encodeQueryParam(r,t[r])}addArrayQueryParam(t,r){return t[r].map(s=>this.encodeQueryParam(r,s)).join("&")}toQueryString(t){const r=t||{};return Object.keys(r).filter(s=>typeof r[s]<"u").map(s=>Array.isArray(r[s])?this.addArrayQueryParam(r,s):this.addQueryParam(r,s)).join("&")}addQueryParams(t){const r=this.toQueryString(t);return r?`?${r}`:""}mergeRequestParams(t,r){return{...this.baseApiParams,...t,...r||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...r&&r.headers||{}}}}}Hu.HttpClient=Zz;class Zve extends Zz{constructor(){super(...arguments);rt(this,"assistant",{assistantControllerCreate:(r,n={})=>this.request({path:"/assistant",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),assistantControllerFindAll:(r,n={})=>this.request({path:"/assistant",method:"GET",query:r,secure:!0,format:"json",...n}),assistantControllerFindOne:(r,n={})=>this.request({path:`/assistant/${r}`,method:"GET",secure:!0,format:"json",...n}),assistantControllerUpdate:(r,n,s={})=>this.request({path:`/assistant/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),assistantControllerReplace:(r,n,s={})=>this.request({path:`/assistant/${r}`,method:"PUT",body:n,secure:!0,type:et.Json,format:"json",...s}),assistantControllerRemove:(r,n={})=>this.request({path:`/assistant/${r}`,method:"DELETE",secure:!0,format:"json",...n}),assistantControllerFindVersions:(r,n,s={})=>this.request({path:`/assistant/${r}/version`,method:"GET",query:n,secure:!0,format:"json",...s})});rt(this,"v2",{assistantControllerFindAllPaginated:(r,n={})=>this.request({path:"/v2/assistant",method:"GET",query:r,secure:!0,format:"json",...n}),callControllerCallsExport:(r,n={})=>this.request({path:"/v2/call/export",method:"GET",query:r,secure:!0,...n}),callControllerFindAllPaginated:(r,n={})=>this.request({path:"/v2/call",method:"GET",query:r,secure:!0,format:"json",...n}),callControllerFindAllMetadataPaginated:(r,n={})=>this.request({path:"/v2/call/metadata",method:"GET",query:r,secure:!0,format:"json",...n}),phoneNumberControllerFindAllPaginated:(r,n={})=>this.request({path:"/v2/phone-number",method:"GET",query:r,secure:!0,format:"json",...n})});rt(this,"squad",{squadControllerCreate:(r,n={})=>this.request({path:"/squad",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),squadControllerFindAll:(r,n={})=>this.request({path:"/squad",method:"GET",query:r,secure:!0,format:"json",...n}),squadControllerFindOne:(r,n={})=>this.request({path:`/squad/${r}`,method:"GET",secure:!0,format:"json",...n}),squadControllerUpdate:(r,n,s={})=>this.request({path:`/squad/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),squadControllerRemove:(r,n={})=>this.request({path:`/squad/${r}`,method:"DELETE",secure:!0,format:"json",...n})});rt(this,"workflow",{workflowControllerFindAll:(r={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...r}),workflowControllerCreate:(r,n={})=>this.request({path:"/workflow",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),workflowControllerFindOne:(r,n={})=>this.request({path:`/workflow/${r}`,method:"GET",secure:!0,format:"json",...n}),workflowControllerDelete:(r,n={})=>this.request({path:`/workflow/${r}`,method:"DELETE",secure:!0,format:"json",...n}),workflowControllerUpdate:(r,n,s={})=>this.request({path:`/workflow/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s})});rt(this,"call",{callControllerCreate:(r,n={})=>this.request({path:"/call",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),callControllerFindAll:(r,n={})=>this.request({path:"/call",method:"GET",query:r,secure:!0,format:"json",...n}),callControllerFindOne:(r,n={})=>this.request({path:`/call/${r}`,method:"GET",secure:!0,format:"json",...n}),callControllerUpdate:(r,n,s={})=>this.request({path:`/call/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),callControllerDeleteCallData:(r,n,s={})=>this.request({path:`/call/${r}`,method:"DELETE",body:n,secure:!0,type:et.Json,format:"json",...s}),callControllerCreatePhoneCall:(r,n={})=>this.request({path:"/call/phone",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),callControllerCreateWebCall:(r,n={})=>this.request({path:"/call/web",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n})});rt(this,"chat",{chatControllerListChats:(r,n={})=>this.request({path:"/chat",method:"GET",query:r,secure:!0,format:"json",...n}),chatControllerCreateChat:(r,n={})=>this.request({path:"/chat",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),chatControllerGetChat:(r,n={})=>this.request({path:`/chat/${r}`,method:"GET",secure:!0,format:"json",...n}),chatControllerDeleteChat:(r,n={})=>this.request({path:`/chat/${r}`,method:"DELETE",secure:!0,format:"json",...n}),chatControllerCreateOpenAiChat:(r,n={})=>this.request({path:"/chat/responses",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),chatControllerCreateWebChat:(r,n={})=>this.request({path:"/chat/web",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),chatControllerCreateOpenAiWebChat:(r,n={})=>this.request({path:"/chat/web/responses",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n})});rt(this,"campaign",{campaignControllerCreate:(r,n={})=>this.request({path:"/campaign",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),campaignControllerFindAll:(r,n={})=>this.request({path:"/campaign",method:"GET",query:r,secure:!0,format:"json",...n}),campaignControllerFindOne:(r,n={})=>this.request({path:`/campaign/${r}`,method:"GET",secure:!0,format:"json",...n}),campaignControllerUpdate:(r,n,s={})=>this.request({path:`/campaign/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),campaignControllerRemove:(r,n={})=>this.request({path:`/campaign/${r}`,method:"DELETE",secure:!0,format:"json",...n})});rt(this,"session",{sessionControllerCreate:(r,n={})=>this.request({path:"/session",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),sessionControllerFindAllPaginated:(r,n={})=>this.request({path:"/session",method:"GET",query:r,secure:!0,format:"json",...n}),sessionControllerFindOne:(r,n={})=>this.request({path:`/session/${r}`,method:"GET",secure:!0,format:"json",...n}),sessionControllerUpdate:(r,n,s={})=>this.request({path:`/session/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),sessionControllerRemove:(r,n={})=>this.request({path:`/session/${r}`,method:"DELETE",secure:!0,format:"json",...n})});rt(this,"phoneNumber",{phoneNumberControllerImportTwilio:(r,n={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),phoneNumberControllerImportVonage:(r,n={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),phoneNumberControllerCreate:(r,n={})=>this.request({path:"/phone-number",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),phoneNumberControllerFindAll:(r,n={})=>this.request({path:"/phone-number",method:"GET",query:r,secure:!0,format:"json",...n}),phoneNumberControllerFindOne:(r,n={})=>this.request({path:`/phone-number/${r}`,method:"GET",secure:!0,format:"json",...n}),phoneNumberControllerUpdate:(r,n,s={})=>this.request({path:`/phone-number/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),phoneNumberControllerRemove:(r,n={})=>this.request({path:`/phone-number/${r}`,method:"DELETE",secure:!0,format:"json",...n})});rt(this,"tool",{toolControllerCreate:(r,n={})=>this.request({path:"/tool",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),toolControllerFindAll:(r,n={})=>this.request({path:"/tool",method:"GET",query:r,secure:!0,format:"json",...n}),toolControllerFindOne:(r,n={})=>this.request({path:`/tool/${r}`,method:"GET",secure:!0,format:"json",...n}),toolControllerUpdate:(r,n,s={})=>this.request({path:`/tool/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),toolControllerRemove:(r,n={})=>this.request({path:`/tool/${r}`,method:"DELETE",secure:!0,format:"json",...n})});rt(this,"file",{fileControllerCreateDeprecated:(r,n={})=>this.request({path:"/file/upload",method:"POST",body:r,secure:!0,type:et.FormData,format:"json",...n}),fileControllerCreate:(r,n={})=>this.request({path:"/file",method:"POST",body:r,secure:!0,type:et.FormData,format:"json",...n}),fileControllerFindAll:(r={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...r}),fileControllerFindOne:(r,n={})=>this.request({path:`/file/${r}`,method:"GET",secure:!0,format:"json",...n}),fileControllerUpdate:(r,n,s={})=>this.request({path:`/file/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),fileControllerRemove:(r,n={})=>this.request({path:`/file/${r}`,method:"DELETE",secure:!0,format:"json",...n})});rt(this,"knowledgeBase",{knowledgeBaseControllerCreate:(r,n={})=>this.request({path:"/knowledge-base",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),knowledgeBaseControllerFindAll:(r,n={})=>this.request({path:"/knowledge-base",method:"GET",query:r,secure:!0,format:"json",...n}),knowledgeBaseControllerFindOne:(r,n={})=>this.request({path:`/knowledge-base/${r}`,method:"GET",secure:!0,format:"json",...n}),knowledgeBaseControllerUpdate:(r,n,s={})=>this.request({path:`/knowledge-base/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),knowledgeBaseControllerRemove:(r,n={})=>this.request({path:`/knowledge-base/${r}`,method:"DELETE",secure:!0,format:"json",...n})});rt(this,"structuredOutput",{structuredOutputControllerFindAll:(r,n={})=>this.request({path:"/structured-output",method:"GET",query:r,secure:!0,format:"json",...n}),structuredOutputControllerCreate:(r,n={})=>this.request({path:"/structured-output",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),structuredOutputControllerFindOne:(r,n={})=>this.request({path:`/structured-output/${r}`,method:"GET",secure:!0,format:"json",...n}),structuredOutputControllerUpdate:(r,n,s,i={})=>this.request({path:`/structured-output/${r}`,method:"PATCH",query:n,body:s,secure:!0,type:et.Json,format:"json",...i}),structuredOutputControllerRemove:(r,n={})=>this.request({path:`/structured-output/${r}`,method:"DELETE",secure:!0,format:"json",...n}),structuredOutputControllerRun:(r,n={})=>this.request({path:"/structured-output/run",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n})});rt(this,"testSuite",{testSuiteControllerFindAllPaginated:(r,n={})=>this.request({path:"/test-suite",method:"GET",query:r,secure:!0,format:"json",...n}),testSuiteControllerCreate:(r,n={})=>this.request({path:"/test-suite",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),testSuiteControllerFindOne:(r,n={})=>this.request({path:`/test-suite/${r}`,method:"GET",secure:!0,format:"json",...n}),testSuiteControllerUpdate:(r,n,s={})=>this.request({path:`/test-suite/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),testSuiteControllerRemove:(r,n={})=>this.request({path:`/test-suite/${r}`,method:"DELETE",secure:!0,format:"json",...n}),testSuiteTestControllerFindAllPaginated:(r,n,s={})=>this.request({path:`/test-suite/${r}/test`,method:"GET",query:n,secure:!0,format:"json",...s}),testSuiteTestControllerCreate:(r,n,s={})=>this.request({path:`/test-suite/${r}/test`,method:"POST",body:n,secure:!0,type:et.Json,format:"json",...s}),testSuiteTestControllerFindOne:(r,n,s={})=>this.request({path:`/test-suite/${r}/test/${n}`,method:"GET",secure:!0,format:"json",...s}),testSuiteTestControllerUpdate:(r,n,s,i={})=>this.request({path:`/test-suite/${r}/test/${n}`,method:"PATCH",body:s,secure:!0,type:et.Json,format:"json",...i}),testSuiteTestControllerRemove:(r,n,s={})=>this.request({path:`/test-suite/${r}/test/${n}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteRunControllerFindAllPaginated:(r,n,s={})=>this.request({path:`/test-suite/${r}/run`,method:"GET",query:n,secure:!0,format:"json",...s}),testSuiteRunControllerCreate:(r,n,s={})=>this.request({path:`/test-suite/${r}/run`,method:"POST",body:n,secure:!0,type:et.Json,format:"json",...s}),testSuiteRunControllerFindOne:(r,n,s={})=>this.request({path:`/test-suite/${r}/run/${n}`,method:"GET",secure:!0,format:"json",...s}),testSuiteRunControllerUpdate:(r,n,s,i={})=>this.request({path:`/test-suite/${r}/run/${n}`,method:"PATCH",body:s,secure:!0,type:et.Json,format:"json",...i}),testSuiteRunControllerRemove:(r,n,s={})=>this.request({path:`/test-suite/${r}/run/${n}`,method:"DELETE",secure:!0,format:"json",...s})});rt(this,"reporting",{insightControllerCreate:(r,n={})=>this.request({path:"/reporting/insight",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),insightControllerFindAll:(r,n={})=>this.request({path:"/reporting/insight",method:"GET",query:r,secure:!0,format:"json",...n}),insightControllerUpdate:(r,n,s={})=>this.request({path:`/reporting/insight/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),insightControllerFindOne:(r,n={})=>this.request({path:`/reporting/insight/${r}`,method:"GET",secure:!0,format:"json",...n}),insightControllerRemove:(r,n={})=>this.request({path:`/reporting/insight/${r}`,method:"DELETE",secure:!0,format:"json",...n}),insightControllerRun:(r,n,s={})=>this.request({path:`/reporting/insight/${r}/run`,method:"POST",body:n,secure:!0,type:et.Json,format:"json",...s}),insightControllerPreview:(r,n={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n})});rt(this,"eval",{evalControllerCreate:(r,n={})=>this.request({path:"/eval",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),evalControllerGetPaginated:(r,n={})=>this.request({path:"/eval",method:"GET",query:r,secure:!0,format:"json",...n}),evalControllerUpdate:(r,n,s={})=>this.request({path:`/eval/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),evalControllerRemove:(r,n={})=>this.request({path:`/eval/${r}`,method:"DELETE",secure:!0,format:"json",...n}),evalControllerGet:(r,n={})=>this.request({path:`/eval/${r}`,method:"GET",secure:!0,format:"json",...n}),evalControllerRemoveRun:(r,n={})=>this.request({path:`/eval/run/${r}`,method:"DELETE",secure:!0,format:"json",...n}),evalControllerGetRun:(r,n={})=>this.request({path:`/eval/run/${r}`,method:"GET",secure:!0,format:"json",...n}),evalControllerRun:(r,n={})=>this.request({path:"/eval/run",method:"POST",body:r,secure:!0,type:et.Json,...n}),evalControllerGetRunsPaginated:(r,n={})=>this.request({path:"/eval/run",method:"GET",query:r,secure:!0,format:"json",...n})});rt(this,"observability",{scorecardControllerGet:(r,n={})=>this.request({path:`/observability/scorecard/${r}`,method:"GET",secure:!0,format:"json",...n}),scorecardControllerUpdate:(r,n,s={})=>this.request({path:`/observability/scorecard/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),scorecardControllerRemove:(r,n={})=>this.request({path:`/observability/scorecard/${r}`,method:"DELETE",secure:!0,format:"json",...n}),scorecardControllerGetPaginated:(r,n={})=>this.request({path:"/observability/scorecard",method:"GET",query:r,secure:!0,format:"json",...n}),scorecardControllerCreate:(r,n={})=>this.request({path:"/observability/scorecard",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n})});rt(this,"org",{orgControllerCreate:(r,n={})=>this.request({path:"/org",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),orgControllerFindAll:(r={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...r}),orgControllerFeatureFlagEnabled:(r,n={})=>this.request({path:"/org/feature-flag",method:"GET",query:r,secure:!0,format:"json",...n}),orgControllerFindOne:(r,n={})=>this.request({path:`/org/${r}`,method:"GET",secure:!0,format:"json",...n}),orgControllerUpdate:(r,n,s={})=>this.request({path:`/org/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),orgControllerDeleteOrg:(r,n={})=>this.request({path:`/org/${r}`,method:"DELETE",secure:!0,...n}),orgControllerFindAllUsers:(r,n={})=>this.request({path:`/org/${r}/user`,method:"GET",secure:!0,format:"json",...n}),orgControllerOrgLeave:(r,n={})=>this.request({path:`/org/${r}/leave`,method:"DELETE",secure:!0,...n}),orgControllerOrgRemoveUser:(r,n,s={})=>this.request({path:`/org/${r}/member/${n}/leave`,method:"DELETE",secure:!0,...s}),orgControllerUsersInvite:(r,n,s={})=>this.request({path:`/org/${r}/invite`,method:"POST",body:n,secure:!0,type:et.Json,...s}),orgControllerUserUpdate:(r,n,s={})=>this.request({path:`/org/${r}/role`,method:"PATCH",body:n,secure:!0,type:et.Json,...s}),orgControllerOrgToken:(r,n={})=>this.request({path:`/org/${r}/auth`,method:"GET",secure:!0,format:"json",...n})});rt(this,"token",{tokenControllerCreate:(r,n={})=>this.request({path:"/token",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),tokenControllerFindAll:(r,n={})=>this.request({path:"/token",method:"GET",query:r,secure:!0,format:"json",...n}),tokenControllerFindOne:(r,n={})=>this.request({path:`/token/${r}`,method:"GET",secure:!0,format:"json",...n}),tokenControllerUpdate:(r,n,s={})=>this.request({path:`/token/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),tokenControllerRemove:(r,n={})=>this.request({path:`/token/${r}`,method:"DELETE",secure:!0,format:"json",...n})});rt(this,"credential",{credentialControllerCreate:(r,n={})=>this.request({path:"/credential",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),credentialControllerFindAll:(r,n={})=>this.request({path:"/credential",method:"GET",query:r,secure:!0,format:"json",...n}),credentialControllerFindOne:(r,n={})=>this.request({path:`/credential/${r}`,method:"GET",secure:!0,format:"json",...n}),credentialControllerUpdate:(r,n,s={})=>this.request({path:`/credential/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),credentialControllerRemove:(r,n={})=>this.request({path:`/credential/${r}`,method:"DELETE",secure:!0,format:"json",...n})});rt(this,"template",{templateControllerCreate:(r,n={})=>this.request({path:"/template",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),templateControllerFindAll:(r,n={})=>this.request({path:"/template",method:"GET",query:r,secure:!0,format:"json",...n}),templateControllerFindAllPinned:(r={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...r}),templateControllerFindOne:(r,n={})=>this.request({path:`/template/${r}`,method:"GET",secure:!0,format:"json",...n}),templateControllerUpdate:(r,n,s={})=>this.request({path:`/template/${r}`,method:"PATCH",body:n,secure:!0,type:et.Json,format:"json",...s}),templateControllerRemove:(r,n={})=>this.request({path:`/template/${r}`,method:"DELETE",secure:!0,format:"json",...n})});rt(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(r,n,s={})=>this.request({path:`/voice-library/${r}`,method:"GET",query:n,secure:!0,format:"json",...s}),voiceLibraryControllerVoiceGetAccentsByProvider:(r,n={})=>this.request({path:`/voice-library/${r}/accents`,method:"GET",secure:!0,format:"json",...n}),voiceLibraryControllerVoiceLibrarySyncByProvider:(r,n={})=>this.request({path:`/voice-library/sync/${r}`,method:"POST",secure:!0,format:"json",...n}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(r,n={})=>this.request({path:"/voice-library/sync",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(r,n={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:r,secure:!0,type:et.Json,...n})});rt(this,"provider",{providerResourceControllerCreateProviderResource:(r,n,s={})=>this.request({path:`/provider/${r}/${n}`,method:"POST",secure:!0,format:"json",...s}),providerResourceControllerGetProviderResourcesPaginated:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}`,method:"GET",query:s,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}/${s}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}/${s}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}/${s}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(r,n,s={})=>this.request({path:`/${r}/workflows`,method:"GET",query:n,secure:!0,format:"json",...s}),providerControllerGetWorkflowTriggerHook:(r,n,s={})=>this.request({path:`/${r}/workflows/${n}/hooks`,method:"GET",secure:!0,format:"json",...s}),providerControllerGetLocations:(r,n={})=>this.request({path:`/${r}/locations`,method:"GET",secure:!0,format:"json",...n}),voiceProviderControllerSearchVoices:(r,n,s={})=>this.request({path:`/${r}/voices/search`,method:"GET",query:n,secure:!0,format:"json",...s}),voiceProviderControllerSearchVoice:(r,n,s={})=>this.request({path:`/${r}/voice/search`,method:"GET",query:n,secure:!0,format:"json",...s}),voiceProviderControllerAddVoices:(r,n,s={})=>this.request({path:`/${r}/voices/add`,method:"POST",body:n,secure:!0,type:et.Json,format:"json",...s}),voiceProviderControllerAddVoice:(r,n,s={})=>this.request({path:`/${r}/voice/add`,method:"POST",body:n,secure:!0,type:et.Json,format:"json",...s})});rt(this,"v11Labs",{voiceProviderControllerCloneVoices:(r,n={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:r,secure:!0,type:et.FormData,...n})});rt(this,"analytics",{analyticsControllerQuery:(r,n={})=>this.request({path:"/analytics",method:"POST",body:r,secure:!0,type:et.Json,format:"json",...n})})}}Hu.Api=Zve;Object.defineProperty(S2,"__esModule",{value:!0});S2.client=void 0;const Xve=Hu,e0e=new Xve.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});S2.client=e0e;var Wm={};Object.defineProperty(Wm,"__esModule",{value:!0});Wm.createSafeDailyConfig=t0e;Wm.safeSetLocalAudio=r0e;Wm.safeSetInputDevicesAsync=n0e;Wm.createSafeDailyFactoryOptions=s0e;function t0e(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...r}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),r):e}function r0e(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function n0e(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:r,...n}=t;await e.setInputDevicesAsync(n);return}await e.setInputDevicesAsync(t)}function s0e(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var Xz=j4&&j4.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(XU,"__esModule",{value:!0});const V5=Xz(Vve),i0e=Xz(Qve),W5=S2,$d=Wm;function fi(e){if(e==null)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){const t={message:e.message,name:e.name,stack:e.stack},r=e;return r.code!==void 0&&(t.code=r.code),r.cause!==void 0&&(t.cause=String(r.cause)),r.reason!==void 0&&(t.reason=r.reason),r.details!==void 0&&(t.details=r.details),r.errorMsg!==void 0&&(t.errorMsg=r.errorMsg),r.error!==void 0&&typeof r.error=="string"&&(t.errorDetail=r.error),t}if(typeof e=="string")return{message:e};if(typeof e=="object"){const t=e;return{message:t.message||t.error||JSON.stringify(e),...t}}return{message:String(e)}}async function a0e(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function VO(e,t){const r=document.createElement("audio");return r.dataset.participantId=t,document.body.appendChild(r),await a0e(r,e),r}function WO(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function HO(e,t,r,n){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:r||n}})}class o0e extends i0e.default{on(t,r){return super.on(t,r),this}once(t,r){return super.once(t,r),this}emit(t,...r){return super.emit(t,...r)}removeListener(t,r){return super.removeListener(t,r),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class l0e extends o0e{constructor(r,n,s,i){super();rt(this,"started",!1);rt(this,"call",null);rt(this,"speakingTimeout",null);rt(this,"dailyCallConfig",{});rt(this,"dailyCallObject",{});rt(this,"hasEmittedCallEndedStatus",!1);W5.client.baseUrl=n??"https://api.vapi.ai",W5.client.setSecurityData(r),this.dailyCallConfig=(0,$d.createSafeDailyConfig)(s),this.dailyCallObject=(0,$d.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const r=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(r.toLowerCase())}async sleep(r){return new Promise(n=>setTimeout(n,r))}async start(r,n,s,i,a,l){var u,d,h,p,f,v,m;const c=Date.now();if(!r&&!s&&!i){const x=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:fi(x),timestamp:new Date().toISOString()}),x}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!r,hasSquad:!!s,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const x=Date.now(),g=(await W5.client.call.callControllerCreateWebCall({assistant:typeof r=="string"?void 0:r,assistantId:typeof r=="string"?r:void 0,assistantOverrides:n,squad:typeof s=="string"?void 0:s,squadId:typeof s=="string"?s:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:a,roomDeleteOnUserLeaveEnabled:l==null?void 0:l.roomDeleteOnUserLeaveEnabled})).data,w=Date.now()-x;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:w,timestamp:new Date().toISOString(),metadata:{callId:(g==null?void 0:g.id)||"unknown",videoRecordingEnabled:((u=g==null?void 0:g.artifactPlan)==null?void 0:u.videoRecordingEnabled)??!1,voiceProvider:((h=(d=g==null?void 0:g.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const S=((p=g==null?void 0:g.artifactPlan)==null?void 0:p.videoRecordingEnabled)??!1,k=((v=(f=g==null?void 0:g.assistant)==null?void 0:f.voice)==null?void 0:v.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,isVideoRecordingEnabled:S,isVideoEnabled:k}});const T=Date.now();try{this.call=V5.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,dailyConfig:this.dailyCallConfig});const A=Date.now()-T;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-T,$=fi(A);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:$,timestamp:new Date().toISOString()}),A}(m=this.call.iframe())==null||m.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var A;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),S&&((A=this.call)==null||A.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",A=>{var I;this.emit("error",{type:"daily-error",error:fi(A),timestamp:new Date().toISOString()}),S&&((I=this.call)==null||I.stopRecording())}),this.call.on("camera-error",A=>{this.emit("camera-error",{type:"camera-error",error:fi(A),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",A=>{this.emit("network-quality-change",A)}),this.call.on("network-connection",A=>{this.emit("network-connection",A)}),this.call.on("track-started",async A=>{var I,$,q;!A||!A.participant||(I=A.participant)!=null&&I.local||(($=A.participant)==null?void 0:$.user_name)==="Vapi Speaker"&&(A.track.kind==="video"&&this.emit("video",A.track),A.track.kind==="audio"&&await VO(A.track,A.participant.session_id),(q=this.call)==null||q.sendAppMessage("playable"))}),this.call.on("participant-joined",A=>{!A||!this.call||HO(A,this.call,S,k)}),this.call.on("participant-updated",A=>{A&&this.emit("daily-participant-updated",A.participant)}),this.call.on("participant-left",A=>{A&&WO(A.participant.session_id)});const R=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:R}}),R){const A=Date.now();await this.sleep(1e3);const I=Date.now()-A;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:I,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const L=Date.now();try{await this.call.join({url:g.webCallUrl,subscribeToTracksAutomatically:!1});const A=Date.now()-L;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-L,$=fi(A);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:$,duration:I,timestamp:new Date().toISOString()}),A}if(S){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const A=new Date().getTime(),I=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const $=Date.now()-I;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:$,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const q=(new Date().getTime()-A)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:q}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:q})})}catch($){const q=Date.now()-I,te=fi($);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:q,timestamp:new Date().toISOString(),metadata:{error:te.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:te,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const D=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const A=Date.now()-D;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-D,$=fi(A);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:$,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",A=>{A&&this.handleRemoteParticipantsAudioLevel(A)}),this.call.on("app-message",A=>this.onAppMessage(A)),this.call.on("nonfatal-error",A=>{var I;(A==null?void 0:A.type)==="audio-processor-error"&&((I=this.call)==null||I.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,$d.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const M=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const A=Date.now()-M;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-M,$=fi(A);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:$,timestamp:new Date().toISOString()})}const G=Date.now()-c;return this.emit("call-start-success",{totalDuration:G,callId:(g==null?void 0:g.id)||"unknown",timestamp:new Date().toISOString()}),g}catch(x){const g=Date.now()-c,w=fi(x);return this.emit("call-start-failed",{stage:"unknown",totalDuration:g,error:w.message,errorStack:w.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!r,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:w,totalDuration:g,timestamp:new Date().toISOString(),context:{hasAssistant:!!r,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(r){if(r)try{if(r.data==="listening")return this.emit("call-start");try{const n=JSON.parse(r.data);this.emit("message",n),n&&"type"in n&&"status"in n&&n.type==="status-update"&&n.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(n){console.log("Error parsing message data: ",n)}}catch(n){console.error(n)}}handleRemoteParticipantsAudioLevel(r){const n=Object.values(r.participantsAudioLevel).reduce((i,a)=>i+a,0);this.emit("volume-level",Math.min(1,n/.15)),n>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(r){var n;(n=this.call)==null||n.sendAppMessage(JSON.stringify(r))}setMuted(r){(0,$d.safeSetLocalAudio)(this.call,!r)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(r,n,s,i){this.send({type:"say",message:r,endCallAfterSpoken:n,interruptionsEnabled:s??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(r){return(0,$d.safeSetInputDevicesAsync)(this.call,r)}async increaseMicLevel(r){if(!this.call)throw new Error("Call object is not available.");try{const n=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new AudioContext,i=s.createMediaStreamSource(n),a=s.createGain();a.gain.value=r,i.connect(a);const l=s.createMediaStreamDestination();a.connect(l);const[c]=l.stream.getAudioTracks();await(0,$d.safeSetInputDevicesAsync)(this.call,{audioSource:c})}catch(n){console.error("Error adjusting microphone level:",n)}}setOutputDeviceAsync(r){var n;(n=this.call)==null||n.setOutputDeviceAsync(r)}getDailyCallObject(){return this.call}startScreenSharing(r,n){var s;(s=this.call)==null||s.startScreenShare({displayMediaOptions:r,screenVideoSendSettings:n})}stopScreenSharing(){var r;(r=this.call)==null||r.stopScreenShare()}async reconnect(r){var s,i,a,l,c,u,d,h,p,f,v,m,x;const n=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!r.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:r.id||"unknown",hasVideoRecording:!!((s=r==null?void 0:r.artifactPlan)!=null&&s.videoRecordingEnabled),voiceProvider:((a=(i=r==null?void 0:r.assistant)==null?void 0:i.voice)==null?void 0:a.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const g=((l=r==null?void 0:r.artifactPlan)==null?void 0:l.videoRecordingEnabled)??!1,w=((u=(c=r==null?void 0:r.assistant)==null?void 0:c.voice)==null?void 0:u.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??g,isVideoRecordingEnabled:g,isVideoEnabled:w}});const S=Date.now();this.call=V5.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??g,dailyConfig:this.dailyCallConfig});const k=Date.now()-S;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:k,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var A;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),g&&((A=this.call)==null||A.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",A=>{var I;this.emit("error",{type:"daily-error",error:fi(A),timestamp:new Date().toISOString()}),g&&((I=this.call)==null||I.stopRecording())}),this.call.on("camera-error",A=>{this.emit("camera-error",{type:"camera-error",error:fi(A),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",A=>{this.emit("network-quality-change",A)}),this.call.on("network-connection",A=>{this.emit("network-connection",A)}),this.call.on("track-started",async A=>{var I,$,q;!A||!A.participant||(I=A.participant)!=null&&I.local||(($=A.participant)==null?void 0:$.user_name)==="Vapi Speaker"&&(A.track.kind==="video"&&this.emit("video",A.track),A.track.kind==="audio"&&await VO(A.track,A.participant.session_id),(q=this.call)==null||q.sendAppMessage("playable"))}),this.call.on("participant-joined",A=>{!A||!this.call||HO(A,this.call,g,w)}),this.call.on("participant-updated",A=>{A&&this.emit("daily-participant-updated",A.participant)}),this.call.on("participant-left",A=>{A&&WO(A.participant.session_id)}),this.call.on("remote-participants-audio-level",A=>{A&&this.handleRemoteParticipantsAudioLevel(A)}),this.call.on("app-message",A=>this.onAppMessage(A)),this.call.on("nonfatal-error",A=>{var I;(A==null?void 0:A.type)==="audio-processor-error"&&((I=this.call)==null||I.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,$d.safeSetLocalAudio)(this.call,!0)}))});const T=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:T}}),T){const A=Date.now();await this.sleep(1e3);const I=Date.now()-A;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:I,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const R=Date.now();await this.call.join({url:r.webCallUrl,subscribeToTracksAutomatically:!1});const L=Date.now()-R;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:L,timestamp:new Date().toISOString()}),g){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const A=Date.now(),I=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const $=Date.now()-A;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:$,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const q=(new Date().getTime()-I)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:q}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:q})})}catch($){const q=Date.now()-A,te=fi($);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:q,timestamp:new Date().toISOString(),metadata:{error:te.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const D=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const A=Date.now()-D;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-D,$=fi(A);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const M=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const A=Date.now()-M;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-M,$=fi(A);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}})}const G=Date.now()-n;this.emit("call-start-success",{totalDuration:G,callId:(r==null?void 0:r.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(g){const w=Date.now()-n,S=fi(g);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:w,error:S.message,errorStack:S.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(r==null?void 0:r.id)||"unknown",hasVideoRecording:!!((h=r==null?void 0:r.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((f=(p=r==null?void 0:r.assistant)==null?void 0:p.voice)==null?void 0:f.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:S,totalDuration:w,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(r==null?void 0:r.id)||"unknown",hasVideoRecording:!!((v=r==null?void 0:r.artifactPlan)!=null&&v.videoRecordingEnabled),voiceProvider:((x=(m=r==null?void 0:r.assistant)==null?void 0:m.voice)==null?void 0:x.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),g}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const r={};let n=null;try{console.log("Creating temporary call object for testing..."),n=V5.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let s=null;try{s=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const a=await n.testNetworkConnectivity(s);r.networkConnectivity=a,console.log("Network connectivity test result:",a)}catch(i){r.networkConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Network connectivity test error:",i)}finally{s&&s.stop()}console.log(`
2. Testing websocket connectivity...`);try{const i=await n.testWebsocketConnectivity();r.websocketConnectivity=i,console.log("Websocket connectivity test result:",i)}catch(i){r.websocketConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Websocket connectivity test error:",i)}console.log(`
3. Testing call quality...`);try{if(typeof n.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await n.startCamera();const i=await n.testCallQuality();r.callQuality=i,console.log("Call quality test result:",i)}catch(i){console.error("Failed to start camera for call quality test:",i),r.callQuality={result:"error",error:i==null?void 0:i.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else r.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(i){r.callQuality={result:"error",error:i==null?void 0:i.toString()},console.error("Call quality test error:",i)}}catch(s){console.error("Failed to create temporary call object:",s),r.error=s==null?void 0:s.toString()}finally{if(n)try{console.log("Cleaning up temporary call object..."),await n.destroy()}catch(s){console.error("Error destroying temporary call object:",s)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(r,null,2)),r}}var c0e=XU.default=l0e;const H5=1e3,u0e=()=>{const{user:e}=li(),{toast:t}=E0(),[r,n]=_.useState(!1),[s,i]=_.useState([{role:"assistant",content:"Hi! I'm Maya, your dedicated health assistant. How can I help you today? You can ask me about appointments, reports, or check doctor availability."}]),[a,l]=_.useState(""),[c,u]=_.useState(!1);_.useState(()=>`session-${crypto.randomUUID()}`);const d=_.useRef(null),[h,p]=_.useState(!1),[f,v]=_.useState(!1),[m,x]=_.useState({step:"none"});_.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[s]);const[g,w]=_.useState("en");_.useEffect(()=>{const $=q=>{const te=q.detail;n(!0);const ne={role:"assistant",content:te.message};i(re=>[...re,ne]),te.message&&setTimeout(()=>L(te.message),500)};return window.addEventListener("maya-notification",$),()=>window.removeEventListener("maya-notification",$)},[]);const[S,k]=_.useState(!1),T=_.useRef(null);_.useEffect(()=>{const $=new c0e("02ead3b2-c6ec-44f4-a254-2a581a956a09");return T.current=$,$.on("call-start",()=>{k(!0),p(!1),window.speechSynthesis.cancel(),t({title:"Call Started",description:"Connected to Maya Voice Assistant."})}),$.on("call-end",()=>{k(!1),t({title:"Call Ended",description:"Voice session finished."})}),$.on("error",q=>{console.error(q),k(!1)}),()=>{$.stop()}},[]);const R=()=>{S?T.current.stop():T.current.start("adc24232-9015-4b7d-ab00-c3ff1619a8e6",{model:{messages:[{role:"system",content:`You are Maya, the intelligent AI receptionist for Star Hospital (Medicare).
      Context: You are talking to a patient via the hospital website.
      
      IMPORTANT: You must detect the language the user is speaking (English, Hindi, or Marathi) and respond IN THAT SAME LANGUAGE.
      - If the user speaks Hindi, reply in Hindi.
      - If the user speaks Marathi, reply in Marathi.
      - If the user speaks English, reply in English.
      Do not just translate, but adopt the persona appropriate for that language. Start in English but switch IMMEDIATELY if they speak Hindi or Marathi.

      Role:
      - Assist with booking appointments (ask for doctor name and preferred time).
      - Answer inquiries about hospital services, reports, and visiting hours.
      - Be warm, empathetic, and professional.
      
      Hospital Info:
      - Name: Star Hospital
      - Emergency Contact: 102
      - Main Line: +91-123-456-7890
      
      Important: Keep responses concise and helpful. Do not mention you are an AI unnecessarily, just help the user.`}]}})};if(!e)return null;const L=$=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const q=new SpeechSynthesisUtterance($),te=window.speechSynthesis.getVoices();let ne=null;g==="hi"?ne=te.find(re=>re.lang.includes("hi")||re.name.includes("Hindi")):g==="mr"?ne=te.find(re=>re.lang.includes("mr")||re.name.includes("Marathi")):ne=te.find(re=>re.name.includes("Female")||re.name.includes("Samantha")||re.name.includes("Google US English")),ne&&(q.voice=ne),q.onstart=()=>p(!0),q.onend=()=>p(!1),window.speechSynthesis.speak(q)}else t({title:"Text-to-Speech not supported",description:"Your browser doesn't support voice output.",variant:"destructive"})},D=()=>{const $=window.SpeechRecognition||window.webkitSpeechRecognition;if($){const q=new $;q.onstart=()=>v(!0),q.onend=()=>v(!1),q.onresult=te=>{const ne=te.results[0][0].transcript;l(ne)},q.start()}else t({title:"Speech Recognition not supported",description:"Your browser doesn't support voice input.",variant:"destructive"})},M=($,q)=>{const te=$.toLowerCase(),re={en:{greeting:"Hello! I'm Maya, your Medicare assistant. How can I help you regarding your health or our hospital services today?",appointment:"I can help you book an appointment. Which doctor would you like to consult?",doctor:"We have world-class specialists. Please tell me the name of the doctor you are looking for.",report:"Your medical reports are secure with us. You can access and download them from the 'Reports' tab. Do you want me to find a specific report?",billing:"You can track all your payments and insurance claims in the 'Billing' section.",emergency:" EMERGENCY ALERT: If this is a life-threatening emergency, please call 102 or our Hotline at +91-123-456-7890 IMMEDIATELY.",default:"I'm listening. Could you please provide more details so I can assist you better?"},hi:{greeting:"!   ,                  ?",appointment:"                ?",doctor:"                 ",report:"      ",billing:" ''         ",emergency:"  :   102   ",default:"       "},mr:{greeting:"!   .      ?",appointment:"       .      ?",doctor:"    .          .",report:"    .",billing:" ''     .",emergency:"  :      .",default:"  .    ."}}[q];return te.match(/\b(hi|hello|hey|namaste|namaskar|greetings)\b/)?re.greeting:te.includes("appointment")||te.includes("book")||te.includes("schedule")?"APPOINTMENT_TRIGGER":te.includes("doctor")||te.includes("specialist")?re.doctor:te.includes("report")||te.includes("result")?re.report:te.includes("bill")||te.includes("payment")?re.billing:te.includes("emergency")||te.includes("urgent")?re.emergency:re.default},G=async $=>{try{const{data:q,error:te}=await Be.from("doctors").select("*").ilike("name",`%${$}%`);if(te||!q||q.length===0)return{found:!1,message:"I couldn't find a doctor by that name. Please check the spelling or try another name."};const ne=q[0];return ne.available?{found:!0,message:`Great news! Dr. ${ne.name} is available. Your appointment has been confirmed for the next available slot.`}:{found:!0,message:`Sorry, Dr. ${ne.name} is currently unavailable/on leave. The next available slot is tomorrow at 10:00 AM. Would you like to book that?`}}catch{return{found:!1,message:"I'm having trouble connecting to the schedule database right now."}}},A=async()=>{if(!a.trim()||c)return;const $=a.trim().slice(0,H5),q={role:"user",content:$};i(te=>[...te,q]),l(""),u(!0);try{let te="";if(m.step==="doctor_name")te=(await G($)).message,x({step:"none"});else{const ne=M($,g);ne==="APPOINTMENT_TRIGGER"?(te=g==="en"?"Sure, I can help. Which doctor would you like to see?":g==="hi"?",           ?":" .     ?",x({step:"doctor_name"})):te=ne}setTimeout(()=>{i(ne=>[...ne,{role:"assistant",content:te}]),u(!1),L(te)},800)}catch(te){console.error(te),u(!1)}},I=$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),A())};return o.jsxs(o.Fragment,{children:[o.jsx(Ce,{onClick:()=>n(!r),className:Me("fixed bottom-6 right-6 z-50 h-16 w-16 rounded-full shadow-xl transition-all duration-300 hover:scale-110 border-4 border-white dark:border-gray-800",r?"bg-red-500 hover:bg-red-600 rotate-90":"bg-gradient-to-tr from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 animate-pulse"),children:r?o.jsx(Em,{className:"w-8 h-8 text-white"}):o.jsxs("div",{className:"relative",children:[o.jsx(fp,{className:"w-8 h-8 text-white"}),o.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]})}),o.jsxs("div",{className:Me("fixed bottom-28 right-6 z-50 w-[380px] bg-card rounded-3xl shadow-2xl border border-border/50 overflow-hidden transition-all duration-500 origin-bottom-right backdrop-blur-xl",r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-10 pointer-events-none"),children:[o.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 px-6 py-4 flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center border-2 border-white/30 backdrop-blur-md shadow-inner relative overflow-hidden group",children:o.jsxs("div",{className:"w-full h-full flex items-center justify-center relative",children:[o.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute left-3 top-4 animate-blink"}),o.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute right-3 top-4 animate-blink"}),o.jsx("div",{className:"w-4 h-2 border-b-2 border-white rounded-full absolute bottom-3"})]})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-heading font-bold text-white text-lg",children:"MAYA AI"}),o.jsx("p",{className:"text-xs text-white/80",children:"Always here to help"})]}),o.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[o.jsxs("select",{className:"bg-white/20 text-white text-xs rounded border-none p-1 focus:ring-0 cursor-pointer",value:g,onChange:$=>w($.target.value),children:[o.jsx("option",{value:"en",className:"text-black",children:"English"}),o.jsx("option",{value:"hi",className:"text-black",children:""}),o.jsx("option",{value:"mr",className:"text-black",children:""})]}),o.jsx(Ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:()=>window.speechSynthesis.cancel(),children:o.jsx(lJ,{className:Me("w-4 h-4",h&&"animate-pulse text-yellow-300")})})]})]}),o.jsx(yp,{className:"h-[400px] p-4 bg-muted/30",ref:d,children:o.jsxs("div",{className:"space-y-4",children:[s.map(($,q)=>o.jsxs("div",{className:Me("flex gap-3",$.role==="user"?"justify-end":"justify-start"),children:[$.role==="assistant"&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-pink-500 to-purple-600 flex items-center justify-center flex-shrink-0 mt-1 shadow-md",children:o.jsx(fp,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:Me("max-w-[80%] rounded-2xl px-4 py-3 text-sm shadow-sm",$.role==="user"?"bg-primary text-primary-foreground rounded-br-none":"bg-white dark:bg-gray-800 text-foreground rounded-bl-none border border-border/50"),children:$.content}),$.role==="user"&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx(No,{className:"w-4 h-4 text-secondary-foreground"})})]},q)),c&&o.jsxs("div",{className:"flex gap-3 justify-start",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-pink-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx(fp,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl rounded-bl-none px-4 py-3 border border-border/50 shadow-sm",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce delay-0"}),o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce delay-150"}),o.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-bounce delay-300"})]})})]})]})}),o.jsx("div",{className:"px-4 py-2 bg-background flex gap-2 overflow-x-auto no-scrollbar scroll-smooth",children:["Book Appointment","View Reports","Insurance Info","Visiting Hours","Emergency Contact"].map($=>o.jsx(Ce,{variant:"secondary",size:"sm",className:"whitespace-nowrap rounded-full text-xs h-7 bg-muted hover:bg-primary/10 hover:text-primary transition-colors border border-border/50",onClick:()=>l($),children:$},$))}),o.jsxs("div",{className:"p-4 bg-background border-t border-border pt-2",children:[o.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-100 rounded-lg flex items-center gap-3 text-xs text-blue-800",children:[o.jsx(qa,{className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Call us directly:"}),o.jsx("p",{children:"+91-123-456-7890"})]})]}),s.length>2&&o.jsxs("a",{href:"https://wa.me/3135409338",target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full mb-3 py-2 text-xs font-medium text-emerald-600 bg-emerald-50 hover:bg-emerald-100 rounded-lg transition-colors border border-emerald-200",children:[o.jsx(qa,{className:"w-3 h-3"}),"Chat with us on WhatsApp"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ce,{variant:"outline",size:"icon",onClick:D,className:Me("shrink-0 rounded-full",f&&"border-red-500 text-red-500 animate-pulse"),title:"Voice Typing",children:o.jsx(JK,{className:"w-4 h-4"})}),o.jsx(Ce,{variant:"outline",size:"icon",onClick:R,className:Me("shrink-0 rounded-full transition-all duration-300",S?"bg-red-500 text-white hover:bg-red-600 animate-pulse":"border-green-500 text-green-600 hover:bg-green-50"),title:"Start Voice Call",children:S?o.jsx(Gh,{className:"w-4 h-4"}):o.jsx(qa,{className:"w-4 h-4"})}),o.jsx(ht,{value:a,onChange:$=>l($.target.value.slice(0,H5)),onKeyDown:I,placeholder:"Type your message...",disabled:c,className:"flex-1 rounded-full px-4",maxLength:H5}),o.jsx(Ce,{onClick:A,disabled:c||!a.trim(),size:"icon",className:"shrink-0 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700",children:o.jsx(MD,{className:"w-4 h-4"})})]})]})]})]})},d0e=Q0({provider:Gr().min(1,"Please select an insurance provider"),policy_number:Gr().min(5,"Policy number is required"),patient_name:Gr().min(2,"Patient name is required"),diagnosis:Gr().min(5,"Diagnosis is required"),claim_amount:ZE.number().min(1,"Amount is required"),notes:Gr().optional()}),h0e=["Star Health","HDFC Ergo","ICICI Lombard","Max Bupa","Care Health","Niva Bupa"],f0e=()=>{const{toast:e}=E0(),[t,r]=_.useState(!1),n=K0({resolver:J0(d0e),defaultValues:{provider:"",policy_number:"",patient_name:"",diagnosis:"",claim_amount:0,notes:""}}),s=Qr({mutationFn:async a=>{const{error:l}=await Be.from("insurance_claims").insert({provider:a.provider,policy_number:a.policy_number,patient_name:a.patient_name,diagnosis:a.diagnosis,amount:a.claim_amount,status:"pending",notes:a.notes});if(l){if(l.code==="42P01"){console.warn("Table insurance_claims does not exist, mocking success"),await new Promise(c=>setTimeout(c,1e3));return}throw l}},onSuccess:()=>{r(!0),e({title:"Claim Submitted Successfully",description:"Your insurance claim has been received and is under review.",className:"bg-green-50 border-green-200"}),n.reset()},onError:a=>{console.error(a),e({title:"Submission Pending",description:"We've received your data locally. (Backend table might be missing)",variant:"default"}),r(!0)}}),i=a=>{s.mutate(a)};return t?o.jsx(vt,{className:"border-green-200 bg-green-50/50",children:o.jsxs(Et,{className:"pt-6 flex flex-col items-center justify-center text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Nc,{className:"w-8 h-8 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Claim Applied Successfully!"}),o.jsx("p",{className:"text-green-700 max-w-xs mx-auto",children:"Check your email for the claim reference number. Our team will verify your documents within 24-48 hours."})]}),o.jsx(Ce,{variant:"outline",className:"border-green-200 text-green-700 hover:bg-green-100 hover:text-green-800",onClick:()=>r(!1),children:"Submit Another Claim"})]})}):o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(km,{className:"h-5 w-5 text-primary"}),"Apply for Cashless Insurance"]}),o.jsx(wr,{children:"Submit your insurance details for cashless treatment approval."})]}),o.jsx(Et,{children:o.jsx(Z0,{...n,children:o.jsxs("form",{onSubmit:n.handleSubmit(i),className:"space-y-6",children:[o.jsx(kr,{control:n.control,name:"provider",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Insurance Provider *"}),o.jsxs(Mr,{onValueChange:a.onChange,defaultValue:a.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select Provider"})})}),o.jsx(Rr,{children:h0e.map(l=>o.jsx(He,{value:l,children:l},l))})]}),o.jsx(Cr,{})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(kr,{control:n.control,name:"policy_number",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Policy Number *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g. POL-123456789",...a})}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:n.control,name:"patient_name",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Patient Name *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Patient Full Name",...a})}),o.jsx(Cr,{})]})})]}),o.jsx(kr,{control:n.control,name:"diagnosis",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Diagnosis / Reason for Admission *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g. Viral Fever, Surgery...",...a})}),o.jsx(Cr,{})]})}),o.jsx(kr,{control:n.control,name:"claim_amount",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Estimated Claim Amount () *"}),o.jsx(xr,{children:o.jsx(ht,{type:"number",placeholder:"50000",...a})}),o.jsx(IB,{className:"text-xs text-muted-foreground",children:"Enter the estimated cost of treatment."}),o.jsx(Cr,{})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Upload Insurance Card / ID Proof"}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center bg-muted/20 hover:bg-muted/40 transition-colors cursor-pointer text-muted-foreground",children:[o.jsx(fw,{className:"w-8 h-8 mb-2"}),o.jsx("span",{className:"text-sm",children:"Click to upload (Simulation)"})]})]}),o.jsx(Ce,{type:"submit",className:"w-full",disabled:s.isPending,children:s.isPending?"Submitting...":"Submit Claim Request"})]})})})]})},p0e=()=>{var Ne;const{user:e,signOut:t}=li(),r=Ks(),n=In(),[s,i]=_.useState(!0),[a,l]=_.useState(!1),[c,u]=_.useState(!1),[d,h]=_.useState(!1),[p,f]=_.useState(),[v,m]=_.useState(""),[x,g]=_.useState(""),[w,S]=_.useState(""),[k,T]=_.useState("consultation"),[R,L]=_.useState(""),[D,M]=_.useState(""),[G,A]=_.useState(""),[I,$]=_.useState(""),[q,te]=_.useState(""),[ne,re]=_.useState(""),[W,X]=_.useState(""),[pe,ge]=_.useState(""),[U,b]=_.useState("idle"),[C,E]=_.useState(null),[B,F]=_.useState("");_.useEffect(()=>{if(!e)return;const K=Be.channel("patient-appointments-realtime").on("postgres_changes",{event:"*",schema:"public",table:"patient_appointments",filter:`user_id=eq.${e.id}`},ce=>{n.invalidateQueries({queryKey:["my-appointments"]}),ce.eventType==="UPDATE"&&ce.new.status==="confirmed"&&ce.old.status!=="confirmed"&&qe.success("Great news! Your appointment has been confirmed.")}).subscribe();return()=>{Be.removeChannel(K)}},[e,n]),_.useEffect(()=>{const K=setTimeout(()=>{i(!1)},5e3);return()=>clearTimeout(K)},[]);const{data:Z=[]}=Cn({queryKey:["public-departments"],queryFn:async()=>{const{data:K,error:ce}=await Be.from("departments").select("id, name").order("name");if(ce)throw console.error("Error fetching departments:",ce),ce;return K}}),{data:se=[]}=Cn({queryKey:["public-doctors",v],queryFn:async()=>{let K=Be.from("doctors").select("id, name, specialty, department_id").eq("available",!0).order("name");v&&v!=="all"&&(K=K.eq("department_id",v));const{data:ce,error:ve}=await K;if(ve)throw ve;return ce}}),{data:le=[]}=Cn({queryKey:["my-appointments",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:K,error:ce}=await Be.from("patient_appointments").select(`
          *,
          doctors:doctor_id(name, specialty),
          departments:department_id(name)
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(ce)throw ce;return K},enabled:!!e}),ue=Qr({mutationFn:async()=>{if(!e||!p||!D||!G)throw new Error("Please fill in all required fields");const{error:K}=await Be.from("patient_appointments").insert({user_id:e.id,patient_name:D,patient_phone:G,patient_email:e.email,doctor_id:x||null,department_id:v||null,preferred_date:on(p,"yyyy-MM-dd"),preferred_time:w||null,appointment_type:k,notes:R||null});if(K)throw K},onSuccess:()=>{qe.success("Appointment request submitted!"),l(!1),be(),n.invalidateQueries({queryKey:["my-appointments"]});const K=new CustomEvent("maya-notification",{detail:{message:`Your appointment with ${x?"the specialist":"us"} on ${p?on(p,"PPP"):"the requested date"} has been successfully booked and confirmed. Your allotment ID is #${Math.floor(Math.random()*1e4)}. We look forward to seeing you.`,type:"success"}});window.dispatchEvent(K)},onError:K=>{qe.error(K.message)}}),fe=Qr({mutationFn:async()=>{let K=q;if(!K&&(e!=null&&e.id)){const{data:ve}=await Be.from("patient_accounts").select("phone").eq("user_id",e.id).maybeSingle();if(ve!=null&&ve.phone)K=ve.phone;else{const{data:je}=await Be.from("patient_appointments").select("patient_phone").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();je!=null&&je.patient_phone&&(K=je.patient_phone)}}if(!I||!K)throw new Error("Please provide your name and a phone number (none found in records)");const{error:ce}=await Be.from("callback_requests").insert({user_id:(e==null?void 0:e.id)||null,name:I,phone:K,email:ne||null,preferred_time:W||null,reason:pe||null});if(ce)throw ce},onSuccess:()=>{qe.success("Callback request submitted! We will call you soon."),u(!1),Ie(),setTimeout(()=>{qe.info(" Incoming Call: Medicare AI Assistant",{description:"Connecting you to our automated support line...",duration:5e3,action:{label:"Answer",onClick:()=>{qe.success("Connected! (Simulated Voice Call)"),K("Hello! This is Maya from Medicare Hospital. I received your callback request. How can I assist you today?")}}});const K=ce=>{if("speechSynthesis"in window){const ve=new SpeechSynthesisUtterance(ce),Oe=window.speechSynthesis.getVoices().find(ke=>ke.name.includes("Female")||ke.name.includes("Samantha")||ke.name.includes("Google US English"));Oe&&(ve.voice=Oe),window.speechSynthesis.speak(ve)}}},3e3)},onError:K=>{qe.error(K.message)}}),be=()=>{f(void 0),m(""),g(""),S(""),T("consultation"),L(""),M(""),A("")},Ie=()=>{$(""),te(""),re(""),X(""),ge("")},Q=async()=>{await t(),r("/")},De=K=>{switch(K){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Ye=()=>{b("locating"),navigator.geolocation?navigator.geolocation.getCurrentPosition(K=>{E({lat:K.coords.latitude,lng:K.coords.longitude}),b("success"),F(`Lat: ${K.coords.latitude.toFixed(4)}, Lng: ${K.coords.longitude.toFixed(4)}`)},K=>{console.error("Error getting location",K),b("error"),qe.error("Could not fetch location. Please enable location services.")}):(b("error"),qe.error("Geolocation is not supported by your browser."))},Ke=()=>{setTimeout(()=>{qe.success("Ambulance dispatched! It will arrive at your location shortly."),h(!1),b("idle")},1500)};return s?o.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background/95 backdrop-blur-sm animate-in fade-in duration-500",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"w-16 h-16 object-contain mb-6 animate-pulse"}),o.jsx("h1",{className:"text-4xl font-bold font-heading text-primary mb-4 text-center",children:"Welcome to Medicare Hospital"}),o.jsx("p",{className:"text-xl text-muted-foreground font-medium text-center max-w-lg",children:'"To keep you safe is our duty."'})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:"Medicare"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:["Welcome, ",((Ne=e==null?void 0:e.user_metadata)==null?void 0:Ne.full_name)||(e==null?void 0:e.email)]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:Q,children:[o.jsx(NC,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs(gd,{defaultValue:"dashboard",className:"space-y-6",children:[o.jsxs(Ic,{className:"grid w-full grid-cols-2 md:grid-cols-5 lg:w-auto h-auto gap-2 bg-transparent p-0",children:[o.jsxs(mn,{value:"dashboard",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(Ro,{className:"w-4 h-4 mr-2"})," Dashboard"]}),o.jsxs(mn,{value:"reports",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(Ua,{className:"w-4 h-4 mr-2"})," Reports"]}),o.jsxs(mn,{value:"billing",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(dw,{className:"w-4 h-4 mr-2"})," Billing"]}),o.jsxs(mn,{value:"insurance",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(km,{className:"w-4 h-4 mr-2"})," Insurance"]})]}),o.jsxs(gn,{value:"dashboard",className:"space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(Ns,{open:a,onOpenChange:l,children:[o.jsx(gc,{asChild:!0,children:o.jsx(vt,{className:"cursor-pointer hover:shadow-lg transition-shadow border-2 hover:border-primary",children:o.jsxs(Bt,{className:"text-center",children:[o.jsx(zu,{className:"h-12 w-12 text-primary mx-auto mb-2"}),o.jsx(Lt,{children:"Book Appointment"}),o.jsx(wr,{children:"Schedule a visit with our doctors"})]})})}),o.jsxs(ds,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs(ks,{children:[o.jsx(hs,{children:"Book an Appointment"}),o.jsx(Gs,{children:"Fill in the details to request an appointment"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Your Name *"}),o.jsx(ht,{placeholder:"Enter your full name",value:D,onChange:K=>M(K.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Phone Number *"}),o.jsx(ht,{placeholder:"Enter your phone number",value:G,onChange:K=>A(K.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Department (Optional)"}),o.jsxs(Mr,{value:v,onValueChange:m,children:[o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select department"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Departments"}),Z.map(K=>o.jsx(He,{value:K.id,children:K.name},K.id))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Doctor"}),o.jsxs(Mr,{value:x,onValueChange:g,children:[o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select doctor"})}),o.jsx(Rr,{children:se.map(K=>o.jsxs(He,{value:K.id,children:[K.name," - ",K.specialty]},K.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Preferred Date *"}),o.jsxs(sU,{children:[o.jsx(iU,{asChild:!0,children:o.jsxs(Ce,{variant:"outline",className:Me("w-full justify-start text-left",!p&&"text-muted-foreground"),children:[o.jsx(zu,{className:"mr-2 h-4 w-4"}),p?on(p,"PPP"):"Pick a date"]})}),o.jsx(lA,{className:"w-auto p-0",children:o.jsx(u2,{mode:"single",selected:p,onSelect:f,disabled:K=>K<new Date,initialFocus:!0})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Preferred Time"}),o.jsxs(Mr,{value:w,onValueChange:S,children:[o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select time slot"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"morning",children:"Morning (9AM - 12PM)"}),o.jsx(He,{value:"afternoon",children:"Afternoon (12PM - 5PM)"}),o.jsx(He,{value:"evening",children:"Evening (5PM - 8PM)"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Appointment Type"}),o.jsxs(Mr,{value:k,onValueChange:T,children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"consultation",children:"General Consultation"}),o.jsx(He,{value:"followup",children:"Follow-up Visit"}),o.jsx(He,{value:"checkup",children:"Health Checkup"}),o.jsx(He,{value:"specialist",children:"Specialist Consultation"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Additional Notes"}),o.jsx(Eo,{placeholder:"Any specific concerns or requirements...",value:R,onChange:K=>L(K.target.value)})]}),o.jsx(Ce,{className:"w-full",onClick:()=>ue.mutate(),disabled:ue.isPending,children:ue.isPending?"Submitting...":"Book Appointment"})]})]})]}),o.jsxs(Ns,{open:c,onOpenChange:u,children:[o.jsx(gc,{asChild:!0,children:o.jsx(vt,{className:"cursor-pointer hover:shadow-lg transition-shadow border-2 hover:border-green-500",children:o.jsxs(Bt,{className:"text-center",children:[o.jsx(Gh,{className:"h-12 w-12 text-green-600 mx-auto mb-2"}),o.jsx(Lt,{children:"Request Callback"}),o.jsx(wr,{children:"We'll call you back at your convenience"})]})})}),o.jsxs(ds,{children:[o.jsxs(ks,{children:[o.jsx(hs,{children:"Request a Callback"}),o.jsx(Gs,{children:"Fill in your details and we'll call you back"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Your Name *"}),o.jsx(ht,{placeholder:"Enter your full name",value:I,onChange:K=>$(K.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Phone Number"}),o.jsx(ht,{placeholder:"Enter your phone number (Optional)",value:q,onChange:K=>te(K.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Email (Optional)"}),o.jsx(ht,{placeholder:"Enter your email",value:ne,onChange:K=>re(K.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Preferred Time"}),o.jsxs(Mr,{value:W,onValueChange:X,children:[o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select preferred time"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"morning",children:"Morning (9AM - 12PM)"}),o.jsx(He,{value:"afternoon",children:"Afternoon (12PM - 5PM)"}),o.jsx(He,{value:"evening",children:"Evening (5PM - 8PM)"}),o.jsx(He,{value:"anytime",children:"Anytime"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Reason for Callback"}),o.jsx(Eo,{placeholder:"Tell us why you'd like to be contacted...",value:pe,onChange:K=>ge(K.target.value)})]}),o.jsx(Ce,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>fe.mutate(),disabled:fe.isPending,children:fe.isPending?"Submitting...":"Request Callback"})]})]})]}),o.jsxs(Ns,{open:d,onOpenChange:h,children:[o.jsx(gc,{asChild:!0,children:o.jsx(vt,{className:"cursor-pointer hover:shadow-lg transition-shadow border-2 hover:border-red-500 animate-pulse bg-red-50",children:o.jsxs(Bt,{className:"text-center",children:[o.jsx(UP,{className:"h-12 w-12 text-red-600 mx-auto mb-2"}),o.jsx(Lt,{className:"text-red-700",children:"Emergency Ambulance"}),o.jsx(wr,{children:"Book an ambulance to your current location"})]})})}),o.jsxs(ds,{children:[o.jsxs(ks,{children:[o.jsxs(hs,{className:"text-red-600 flex items-center gap-2",children:[o.jsx(UP,{className:"w-5 h-5"})," Emergency Ambulance Booking"]}),o.jsx(Gs,{children:"We need to access your location to send an ambulance immediately."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[U==="idle"&&o.jsxs(Ce,{onClick:Ye,className:"w-full h-16 text-lg bg-red-600 hover:bg-red-700 animate-pulse",children:[o.jsx(Ru,{className:"w-6 h-6 mr-2"}),"Get My Location & Book"]}),U==="locating"&&o.jsxs("div",{className:"text-center space-y-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{children:"Fetching your exact location..."})]}),U==="success"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-semibold text-green-800 flex items-center gap-2",children:[o.jsx(Ru,{className:"w-4 h-4"})," Location Detected"]}),o.jsx("p",{className:"text-sm text-green-700 mt-1",children:B}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Coordinates: ",C==null?void 0:C.lat,", ",C==null?void 0:C.lng]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Emergency Details (Optional)"}),o.jsx(Eo,{placeholder:"Briefly describe the emergency..."})]})]}),U==="error"&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-red-600",children:"Could not fetch location automatically."}),o.jsx(Ce,{variant:"outline",onClick:()=>b("idle"),className:"mt-2",children:"Try Again"})]})]}),U==="success"&&o.jsxs(Fm,{children:[o.jsx(Ce,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),o.jsx(Ce,{onClick:Ke,className:"bg-red-600 hover:bg-red-700",children:"Confirm Ambulance"})]})]})]})]}),o.jsxs(vt,{className:"mb-8",children:[o.jsx(Bt,{children:o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(zu,{className:"h-5 w-5"}),"My Appointments"]})}),o.jsx(Et,{children:le.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"You haven't booked any appointments yet. Book one above!"}):o.jsx("div",{className:"space-y-4",children:le.map(K=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:K.appointment_type}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[on(new Date(K.preferred_date),"PPP"),K.preferred_time&&` - ${K.preferred_time}`]}),K.doctors&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Dr. ",K.doctors.name," (",K.doctors.specialty,")"]})]}),o.jsx(zt,{className:De(K.status),children:K.status})]},K.id))})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(vt,{children:[o.jsx(Bt,{children:o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(mh,{className:"h-5 w-5"}),"About MediCare Hospital"]})}),o.jsxs(Et,{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"MediCare Hospital is a state-of-the-art healthcare facility providing comprehensive medical services with a focus on patient-centered care."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qi,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"50+ Specialist Doctors"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mh,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"15 Medical Departments"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(va,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"24/7 Emergency Services"})]})]})]})]}),o.jsxs(vt,{children:[o.jsx(Bt,{children:o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(Ru,{className:"h-5 w-5"}),"Contact & Location"]})}),o.jsxs(Et,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Ru,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Address"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"123 Healthcare Avenue, Medical District, City 12345"})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(qa,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Phone"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"+1 (555) 123-4567"})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(va,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Hours"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["OPD: Mon-Sat 9AM-8PM",o.jsx("br",{}),"Emergency: 24/7"]})]})]})]}),o.jsx("div",{className:"pt-4",children:o.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d121059.04360432657!2d73.86296739999999!3d18.5246036!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2bf2e67461101%3A0x828d43bf9d9ee343!2sPune%2C%20Maharashtra!5e0!3m2!1sen!2sin!4v1705662000000!5m2!1sen!2sin",width:"100%",height:"150",style:{border:0,borderRadius:"8px"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})]})]}),o.jsx(gn,{value:"reports",children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Lt,{children:"Medical Reports"}),o.jsx(wr,{children:"View and download your medical reports here."})]}),o.jsx(Et,{children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[o.jsx(Ua,{className:"h-12 w-12 mb-4 opacity-50"}),o.jsx("p",{children:"No reports available yet."})]})})]})}),o.jsx(gn,{value:"billing",children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Lt,{children:"Billing & Payments"}),o.jsx(wr,{children:"Manage your payments and view invoices."})]}),o.jsx(Et,{children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[o.jsx(dw,{className:"h-12 w-12 mb-4 opacity-50"}),o.jsx("p",{children:"No billing history found."})]})})]})}),o.jsx(gn,{value:"insurance",children:o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsx(f0e,{})})})]})}),o.jsx(u0e,{})]})},m0e=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(!1),[a,l]=_.useState(!1),{signIn:c}=li(),u=Ks(),d=async h=>{if(h.preventDefault(),!e.trim()||!r.trim()){qe.error("Please fill in all fields");return}l(!0);const{error:p}=await c(e,r);if(p){l(!1),qe.error(p.message||"Failed to sign in");return}const{data:{user:f}}=await Be.auth.getUser();if(!f){l(!1),qe.error("Authentication failed");return}const{data:v}=await Be.from("user_roles").select("role").eq("user_id",f.id).maybeSingle();if(v){l(!1),qe.success("Welcome back!"),v.role==="cashier"?u("/staff/dashboard/cashier"):v.role==="nurse"?u("/staff/dashboard/nurse"):v.role==="doctor"?u("/staff/dashboard/doctor"):v.role==="receptionist"?u("/staff/dashboard/reception"):u("/dashboard");return}const{data:m}=await Be.from("staff_approval_requests").select("status").eq("user_id",f.id).maybeSingle();if(l(!1),m){if(m.status==="pending"){qe.info("Your staff access request is pending approval."),u("/staff/pending");return}else if(m.status==="rejected"){qe.error("Your staff access request was rejected."),await Be.auth.signOut();return}}qe.info("You do not have staff access. Redirecting to patient portal..."),u("/patient/dashboard")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:o.jsxs(vt,{className:"w-full max-w-md",children:[o.jsxs(Bt,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-green-600 mb-4 justify-center",children:[o.jsx(Hh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Staff Portal"})]}),o.jsx(Lt,{className:"text-2xl",children:"Staff Sign In"}),o.jsx(wr,{children:"Access the Hospital Management System"})]}),o.jsxs("form",{onSubmit:d,children:[o.jsxs(Et,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your staff email",value:e,onChange:h=>t(h.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ht,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),required:!0,autoComplete:"current-password",className:"pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(Cb,{className:"h-4 w-4"}):o.jsx(Eb,{className:"h-4 w-4"})})]})]})]}),o.jsxs(Mo,{className:"flex flex-col gap-4",children:[o.jsx(Ce,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:a,children:a?"Signing in...":"Sign In"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Need staff access?"," ",o.jsx(Hr,{to:"/staff/register",className:"text-green-600 hover:underline",children:"Request access here"})]})]})]})]})})},g0e=Nm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),j2=_.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:Me(g0e({variant:t}),e),...r}));j2.displayName="Alert";const kA=_.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:Me("mb-1 font-medium leading-none tracking-tight",e),...t}));kA.displayName="AlertTitle";const N2=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Me("text-sm [&_p]:leading-relaxed",e),...t}));N2.displayName="AlertDescription";const v0e=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(""),[a,l]=_.useState(""),[c,u]=_.useState("receptionist"),[d,h]=_.useState(!1),{signUp:p}=li(),f=Ks(),v=async m=>{var S;if(m.preventDefault(),!e.trim()||!r.trim()||!s.trim()){qe.error("Please fill in all required fields");return}if(s!==a){qe.error("Passwords do not match");return}if(s.length<6){qe.error("Password must be at least 6 characters");return}h(!0);const{error:x}=await p(r,s,e);if(x){h(!1),qe.error(x.message||"Failed to register");return}const{error:g}=await Be.auth.signInWithPassword({email:r,password:s});if(g){h(!1),qe.success("Account created! Please sign in to complete your access request."),f("/staff/login");return}const{data:{user:w}}=await Be.auth.getUser();if(w){let k=null;try{const{error:T}=await Be.from("staff_approval_requests").insert({user_id:w.id,email:r,full_name:e,requested_role:c});if(k=T,T&&c==="cashier"&&((S=T.message)!=null&&S.includes("invalid input value"))){console.warn("Cashier role not in DB Enum, falling back.");const{error:R}=await Be.from("staff_approval_requests").insert({user_id:w.id,email:r,full_name:`${e} (REQUESTING CASHIER)`,requested_role:"receptionist"});k=R,R||qe.info("Request submitted. Note: Cashier role requires admin database update, handled as Receptionist temporarily.")}}catch(T){k=T}if(k){console.error("Error creating approval request:",k),h(!1),qe.error("Failed to submit access request: "+k.message);return}}h(!1),qe.success("Access request submitted! An administrator will review your request."),f("/staff/pending")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:o.jsxs(vt,{className:"w-full max-w-md",children:[o.jsxs(Bt,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-green-600 mb-4 justify-center",children:[o.jsx(Hh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Staff Portal"})]}),o.jsx(Lt,{className:"text-2xl",children:"Request Staff Access"}),o.jsx(wr,{children:"Submit a request to access the Hospital Management System"})]}),o.jsxs("form",{onSubmit:v,children:[o.jsxs(Et,{className:"space-y-4",children:[o.jsxs(j2,{children:[o.jsx(jC,{className:"h-4 w-4"}),o.jsx(N2,{children:"Staff access requires administrator approval. You will be notified once your request is reviewed."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"fullName",children:"Full Name *"}),o.jsx(ht,{id:"fullName",type:"text",placeholder:"Enter your full name",value:e,onChange:m=>t(m.target.value),required:!0,autoComplete:"name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email *"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your work email",value:r,onChange:m=>n(m.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"role",children:"Requested Role *"}),o.jsxs(Mr,{value:c,onValueChange:m=>u(m),children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"doctor",children:"Doctor"}),o.jsx(He,{value:"nurse",children:"Nurse"}),o.jsx(He,{value:"receptionist",children:"Receptionist"}),o.jsx(He,{value:"cashier",children:"Cashier"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password *"}),o.jsx(ht,{id:"password",type:"password",placeholder:"Create a password (min 6 characters)",value:s,onChange:m=>i(m.target.value),required:!0,autoComplete:"new-password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"confirmPassword",children:"Confirm Password *"}),o.jsx(ht,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:a,onChange:m=>l(m.target.value),required:!0,autoComplete:"new-password"})]})]}),o.jsxs(Mo,{className:"flex flex-col gap-4",children:[o.jsx(Ce,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:d,children:d?"Submitting request...":"Submit Access Request"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Already have staff access?"," ",o.jsx(Hr,{to:"/staff/login",className:"text-green-600 hover:underline",children:"Sign in here"})]})]})]})]})})},y0e=()=>{const{user:e,signOut:t}=li(),r=Ks(),[n,s]=_.useState("pending"),[i,a]=_.useState(!0);_.useEffect(()=>{(async()=>{if(!e){r("/staff/login");return}const{data:d}=await Be.from("user_roles").select("role").eq("user_id",e.id).maybeSingle();if(d){qe.success("Your access has been approved!"),r("/");return}const{data:h}=await Be.from("staff_approval_requests").select("status").eq("user_id",e.id).maybeSingle();s(h?h.status:"none"),a(!1)})();const u=Be.channel("approval-status").on("postgres_changes",{event:"UPDATE",schema:"public",table:"staff_approval_requests",filter:`user_id=eq.${e==null?void 0:e.id}`},d=>{const h=d.new.status;s(h),h==="approved"?(qe.success("Your access has been approved!"),setTimeout(()=>{r("/")},2e3)):h==="rejected"&&qe.error("Your access request was rejected.")}).subscribe();return()=>{Be.removeChannel(u)}},[e,r]);const l=async()=>{await t(),r("/")};return i?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:o.jsxs(vt,{className:"w-full max-w-md text-center",children:[o.jsxs(Bt,{children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(qi,{className:"h-8 w-8 text-green-600"}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Staff Portal"})]}),n==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(va,{className:"h-8 w-8 text-yellow-600"})}),o.jsx(Lt,{className:"text-2xl",children:"Access Request Pending"}),o.jsx(wr,{className:"text-base",children:"Your request is being reviewed by an administrator"})]}),n==="approved"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Nc,{className:"h-8 w-8 text-green-600"})}),o.jsx(Lt,{className:"text-2xl",children:"Access Approved!"}),o.jsx(wr,{className:"text-base",children:"Redirecting you to the dashboard..."})]}),n==="rejected"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Jp,{className:"h-8 w-8 text-red-600"})}),o.jsx(Lt,{className:"text-2xl",children:"Access Denied"}),o.jsx(wr,{className:"text-base",children:"Your access request was rejected. Please contact the administrator."})]}),n==="none"&&o.jsxs(o.Fragment,{children:[o.jsx(Lt,{className:"text-2xl",children:"No Access Request Found"}),o.jsx(wr,{className:"text-base",children:"Please submit an access request to gain staff access."})]})]}),o.jsxs(Et,{className:"space-y-4",children:[n==="pending"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(zt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-300",children:"Pending Approval"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"You will receive a notification once your request has been reviewed. This page will automatically update when your status changes."})]}),o.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[n==="none"&&o.jsx(Ce,{asChild:!0,className:"bg-green-600 hover:bg-green-700",children:o.jsx(Hr,{to:"/staff/register",children:"Submit Access Request"})}),o.jsxs(Ce,{variant:"outline",onClick:l,children:[o.jsx(NC,{className:"h-4 w-4 mr-2"}),"Sign Out"]}),o.jsx(Ce,{variant:"ghost",asChild:!0,children:o.jsx(Hr,{to:"/",children:"Back to Portal Selection"})})]})]})]})})},GO=()=>{const{user:e}=li(),t=In(),[r,n]=_.useState(""),[s,i]=_.useState(!1),[a,l]=_.useState(null),[c,u]=_.useState(""),{data:d=[],isLoading:h}=Cn({queryKey:["staff-approval-requests"],queryFn:async()=>{const{data:R,error:L}=await Be.from("staff_approval_requests").select("*").order("created_at",{ascending:!1});if(L)throw L;return R}}),{data:p=[],isLoading:f}=Cn({queryKey:["change-requests"],queryFn:async()=>{if(!e)return[];const{data:R,error:L}=await Be.from("notifications").select("*").eq("user_id",e.id).eq("type","permission_request").order("created_at",{ascending:!1});if(L)throw L;return R},enabled:!!e}),v=Qr({mutationFn:async R=>{const{error:L}=await Be.from("user_roles").insert({user_id:R.user_id,role:R.requested_role});if(L)throw L;const{error:D}=await Be.from("staff_approval_requests").update({status:"approved",reviewed_by:e==null?void 0:e.id,reviewed_at:new Date().toISOString()}).eq("id",R.id);if(D)throw D},onSuccess:()=>{qe.success("Staff access approved!"),t.invalidateQueries({queryKey:["staff-approval-requests"]})},onError:R=>{qe.error(R.message||"Failed to approve request")}}),m=Qr({mutationFn:async({request:R,reason:L})=>{const{error:D}=await Be.from("staff_approval_requests").update({status:"rejected",reviewed_by:e==null?void 0:e.id,reviewed_at:new Date().toISOString(),rejection_reason:L}).eq("id",R.id);if(D)throw D},onSuccess:()=>{qe.success("Request rejected"),i(!1),u(""),l(null),t.invalidateQueries({queryKey:["staff-approval-requests"]})},onError:R=>{qe.error(R.message||"Failed to reject request")}}),x=Qr({mutationFn:async R=>{const{error:L}=await Be.from("notifications").delete().eq("id",R);if(L)throw L},onSuccess:()=>{qe.success("Request processed"),t.invalidateQueries({queryKey:["change-requests"]})},onError:R=>{qe.error("Failed to process request")}}),g=d.filter(R=>R.full_name.toLowerCase().includes(r.toLowerCase())||R.email.toLowerCase().includes(r.toLowerCase())),w=g.filter(R=>R.status==="pending"),S=g.filter(R=>R.status!=="pending"),k=R=>{switch(R){case"approved":return o.jsx(zt,{className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return o.jsx(zt,{className:"bg-red-100 text-red-800",children:"Rejected"});default:return o.jsx(zt,{className:"bg-yellow-100 text-yellow-800",children:"Pending"})}},T=R=>{const L={admin:"bg-purple-100 text-purple-800",doctor:"bg-blue-100 text-blue-800",nurse:"bg-pink-100 text-pink-800",receptionist:"bg-gray-100 text-gray-800",cashier:"bg-emerald-100 text-emerald-800"};return o.jsx(zt,{className:L[R]||"bg-gray-100 text-gray-800",children:R})};return o.jsx(Mn,{title:"Staff Approvals",subtitle:"Manage staff access and requests",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[o.jsx(km,{className:"h-8 w-8"}),"Staff Approvals & Requests"]}),o.jsx("p",{className:"text-muted-foreground",children:"Manage access and review change requests"})]})}),o.jsxs(gd,{defaultValue:"approvals",className:"w-full space-y-6",children:[o.jsxs(Ic,{children:[o.jsx(mn,{value:"approvals",children:"Access Approvals"}),o.jsx(mn,{value:"requests",children:"Change Requests"})]}),o.jsxs(gn,{value:"approvals",className:"space-y-6",children:[o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(jl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search by name or email...",value:r,onChange:R=>n(R.target.value),className:"pl-10"})]}),o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(va,{className:"h-5 w-5 text-yellow-600"}),"Pending Requests (",w.length,")"]}),o.jsx(wr,{children:"Requests awaiting your approval"})]}),o.jsx(Et,{children:h?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):w.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No pending requests"}):o.jsx("div",{className:"space-y-4",children:w.map(R=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:R.full_name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:R.email}),o.jsxs("div",{className:"flex items-center gap-2",children:[T(R.requested_role),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Requested ",on(new Date(R.created_at),"MMM d, yyyy")]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Ce,{size:"sm",onClick:()=>v.mutate(R),disabled:v.isPending,className:"bg-green-600 hover:bg-green-700",children:[o.jsx(DD,{className:"h-4 w-4 mr-1"}),"Approve"]}),o.jsxs(Ce,{size:"sm",variant:"destructive",onClick:()=>{l(R),i(!0)},children:[o.jsx(oJ,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},R.id))})})]}),o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsxs(Lt,{children:["Processed Requests (",S.length,")"]}),o.jsx(wr,{children:"Previously reviewed requests"})]}),o.jsx(Et,{children:S.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No processed requests"}):o.jsx("div",{className:"space-y-4",children:S.map(R=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:R.full_name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:R.email}),o.jsxs("div",{className:"flex items-center gap-2",children:[T(R.requested_role),k(R.status)]})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:on(new Date(R.created_at),"MMM d, yyyy")})]},R.id))})})]})]}),o.jsx(gn,{value:"requests",children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(VP,{className:"h-5 w-5 text-blue-600"}),"Operations Change Requests"]}),o.jsx(wr,{children:"Requests from staff for restricted actions (e.g. Doctor Schedule Changes)"})]}),o.jsx(Et,{children:f?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):p.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground bg-muted/20 rounded-lg",children:[o.jsx(VP,{className:"mx-auto h-12 w-12 opacity-20 mb-3"}),o.jsx("p",{children:"No active change requests."})]}):o.jsx("div",{className:"space-y-4",children:p.map(R=>o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center p-4 border rounded-lg bg-card shadow-sm",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"font-semibold text-foreground",children:R.title}),o.jsx(zt,{variant:"outline",className:"text-xs",children:on(new Date(R.created_at),"MMM d, h:mm a")})]}),o.jsx("p",{className:"text-sm text-foreground/80",children:R.message})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[o.jsxs(Ce,{size:"sm",variant:"default",onClick:()=>x.mutate(R.id),className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700",children:[o.jsx(Nc,{className:"w-4 h-4 mr-2"}),"Done"]}),o.jsxs(Ce,{size:"sm",variant:"outline",onClick:()=>x.mutate(R.id),className:"flex-1 sm:flex-none text-muted-foreground hover:text-foreground",children:[o.jsx(Jp,{className:"w-4 h-4 mr-2"}),"Dismiss"]})]})]},R.id))})})]})})]}),o.jsx(Ns,{open:s,onOpenChange:i,children:o.jsxs(ds,{children:[o.jsxs(ks,{children:[o.jsx(hs,{children:"Reject Access Request"}),o.jsxs(Gs,{children:["Please provide a reason for rejecting ",a==null?void 0:a.full_name,"'s request."]})]}),o.jsx(Eo,{placeholder:"Enter rejection reason (optional)",value:c,onChange:R=>u(R.target.value)}),o.jsxs(Fm,{children:[o.jsx(Ce,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),o.jsx(Ce,{variant:"destructive",onClick:()=>{a&&m.mutate({request:a,reason:c})},disabled:m.isPending,children:"Reject Request"})]})]})})]})})},x0e=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(!1),[a,l]=_.useState(!1),{signIn:c}=li(),u=Ks(),d=async h=>{if(h.preventDefault(),!e.trim()||!r.trim()){qe.error("Please fill in all fields");return}l(!0);const{error:p}=await c(e,r);if(p){l(!1),qe.error("Invalid login credentials");return}const{data:{user:f}}=await Be.auth.getUser();if(!f){l(!1),qe.error("Authentication failed");return}const{data:v}=await Be.from("user_roles").select("role").eq("user_id",f.id).eq("role","admin").maybeSingle();if(l(!1),v){qe.success("Welcome, Admin!"),u("/dashboard");return}await Be.auth.signOut(),qe.error("Access denied. Admin credentials required.")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-indigo-100 p-4",children:o.jsxs(vt,{className:"w-full max-w-md",children:[o.jsxs(Bt,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-purple-600 mb-4 justify-center",children:[o.jsx(Hh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"Admin Portal"})]}),o.jsx(Lt,{className:"text-2xl",children:"Administrator Login"}),o.jsx(wr,{children:"Restricted access for system administrators only"})]}),o.jsxs("form",{onSubmit:d,children:[o.jsxs(Et,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Admin Email"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter admin email",value:e,onChange:h=>t(h.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ht,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),required:!0,autoComplete:"current-password",className:"pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(Cb,{className:"h-4 w-4"}):o.jsx(Eb,{className:"h-4 w-4"})})]})]})]}),o.jsxs(Mo,{className:"flex flex-col gap-4",children:[o.jsx(Ce,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:a,children:a?"Signing in...":"Sign In as Admin"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Not an admin?"," ",o.jsx(Hr,{to:"/staff/login",className:"text-purple-600 hover:underline",children:"Staff Login"})]})]})]})]})})},w0e=()=>{const e=Ks(),[t,r]=_.useState(!1),[n,s]=_.useState(""),[i,a]=_.useState("normal"),[l,c]=_.useState("nurse"),[u,d]=_.useState(""),[h,p]=_.useState(null),{data:f,isLoading:v}=s2(on(new Date,"yyyy-MM-dd")),{data:m,isLoading:x}=Um();if(v||x)return o.jsx(Mn,{title:"Doctor Dashboard",subtitle:"Loading...",children:o.jsx("div",{className:"flex items-center justify-center py-24",children:o.jsx(kc,{className:"w-8 h-8 animate-spin text-primary"})})});const w=(f==null?void 0:f.filter(R=>R.status==="pending").length)||0,S=(f==null?void 0:f.length)||0,k=()=>{if(!n.trim()){qe.error("Please enter an instruction");return}qe.success("Instruction sent to staff",{description:`Sent to ${l} with ${i} priority.`}),s(""),a("normal")},T=()=>{if(!u)return;const R=m==null?void 0:m.find(L=>{var D;return L.name.toLowerCase().includes(u.toLowerCase())||((D=L.patient_id)==null?void 0:D.includes(u))});R?p({...R,visits:[{date:"2024-01-10",reason:"Fever",doctor:"Dr. Smith"},{date:"2023-12-05",reason:"General Checkup",doctor:"Dr. Smith"}],reports:[{date:"2024-01-10",name:"Blood Test",type:"lab"},{date:"2023-12-05",name:"X-Ray Chest",type:"imaging"}]}):(qe.error("Patient not found"),p(null))};return o.jsxs(Mn,{title:"Doctor Dashboard",subtitle:"Manage your appointments and patients.",children:[o.jsxs(gd,{defaultValue:"overview",className:"space-y-6",children:[o.jsxs(Ic,{children:[o.jsx(mn,{value:"overview",children:"Overview"}),o.jsx(mn,{value:"patients",children:"My Patients"}),o.jsx(mn,{value:"instructions",children:"Staff Instructions"}),o.jsx(mn,{value:"records",children:"Patient Records"})]}),o.jsxs(gn,{value:"overview",className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[o.jsx(Si,{title:"Today's Appointments",value:S,change:`${w} pending`,changeType:"neutral",icon:PD,iconColor:"primary"}),o.jsx(Si,{title:"My Patients",value:(f==null?void 0:f.map(R=>R.patient_id).filter((R,L,D)=>D.indexOf(R)===L).length)||0,change:"Seen today",changeType:"neutral",icon:No,iconColor:"info"}),o.jsx(Si,{title:"Pending Reports",value:0,change:"To review",changeType:"neutral",icon:Ua,iconColor:"warning"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 bg-card rounded-xl card-shadow border border-border/50 animate-fade-in p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Upcoming Appointments"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:on(new Date,"EEEE, d MMM")})]}),o.jsx("div",{className:"divide-y divide-border",children:(f==null?void 0:f.length)===0?o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No appointments scheduled for today."}):f==null?void 0:f.map(R=>{var L,D,M;return o.jsxs("div",{className:"py-4 flex items-center justify-between hover:bg-muted/50 px-2 rounded-lg transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Io,{children:o.jsx(Do,{className:"bg-primary/10 text-primary",children:(D=(L=R.patients)==null?void 0:L.name)==null?void 0:D.substring(0,2).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:(M=R.patients)==null?void 0:M.name}),o.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:R.type})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm text-foreground mb-1 justify-end",children:[o.jsx(va,{className:"w-3 h-3"}),R.appointment_time]}),o.jsx(zt,{variant:R.status==="confirmed"?"default":"outline",children:R.status})]})]},R.id)})})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 p-6 animate-fade-in",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Ce,{variant:"outline",className:"w-full justify-start h-12",onClick:()=>r(!0),children:[o.jsx(fw,{className:"mr-2 h-4 w-4"}),"Upload Medical Report"]}),o.jsxs(Ce,{variant:"outline",className:"w-full justify-start h-12",children:[o.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Write Prescription"]})]})]})})]})]}),o.jsx(gn,{value:"patients",children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Lt,{children:"My Patients"}),o.jsx(wr,{children:"List of patients under your care or visited recently."})]}),o.jsx(Et,{children:o.jsx("div",{className:"rounded-md border",children:o.jsxs(sy,{children:[o.jsx(iy,{children:o.jsxs(Fa,{children:[o.jsx(Nn,{children:"Name"}),o.jsx(Nn,{children:"Age/Gender"}),o.jsx(Nn,{children:"Condition"}),o.jsx(Nn,{children:"Last Visit"}),o.jsx(Nn,{children:"Status"}),o.jsx(Nn,{className:"text-right",children:"Actions"})]})}),o.jsx(ay,{children:m==null?void 0:m.slice(0,10).map(R=>o.jsxs(Fa,{children:[o.jsx(sn,{className:"font-medium",children:R.name}),o.jsxs(sn,{children:[R.age," / ",R.gender]}),o.jsx(sn,{children:R.condition||"-"}),o.jsx(sn,{children:"Today"}),o.jsx(sn,{children:o.jsx(zt,{variant:"outline",children:R.status})}),o.jsx(sn,{className:"text-right",children:o.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>e("/patients"),children:"View"})})]},R.id))})]})})})]})}),o.jsx(gn,{value:"instructions",children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Lt,{children:"Staff Instruction Center"}),o.jsx(wr,{children:"Send instructions or tasks to nurses and receptionists."})]}),o.jsxs(Et,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Recipient Role"}),o.jsxs(Mr,{value:l,onValueChange:c,children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"nurse",children:"Nurse Station"}),o.jsx(He,{value:"reception",children:"Reception"}),o.jsx(He,{value:"all",children:"All Staff"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Priority"}),o.jsxs(Mr,{value:i,onValueChange:a,children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"low",children:"Low"}),o.jsx(He,{value:"normal",children:"Normal"}),o.jsx(He,{value:"high",children:"High"}),o.jsx(He,{value:"urgent",children:"Urgent"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Instruction / Task"}),o.jsx(Eo,{placeholder:"Enter detailed instruction here...",className:"min-h-[120px]",value:n,onChange:R=>s(R.target.value)})]})]}),o.jsx(Mo,{className:"flex justify-end",children:o.jsxs(Ce,{onClick:k,className:"gap-2",children:[o.jsx(MD,{className:"w-4 h-4"})," Send Instruction"]})})]})}),o.jsx(gn,{value:"records",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Lt,{children:"Patient Search"}),o.jsx(wr,{children:"Search for a patient to view history and reports."})]}),o.jsx(Et,{children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx(ht,{placeholder:"Search by name or ID...",value:u,onChange:R=>d(R.target.value),onKeyDown:R=>R.key==="Enter"&&T()}),o.jsxs(Ce,{onClick:T,children:[o.jsx(jl,{className:"w-4 h-4 mr-2"})," Search"]})]})})]}),h&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[o.jsxs(vt,{children:[o.jsx(Bt,{children:o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(WK,{className:"w-5 h-5 text-primary"}),"Visit History"]})}),o.jsx(Et,{children:o.jsx("div",{className:"space-y-4",children:h.visits.map((R,L)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:R.reason}),o.jsx("p",{className:"text-sm text-muted-foreground",children:R.doctor})]}),o.jsx(zt,{variant:"outline",children:R.date})]},L))})})]}),o.jsxs(vt,{children:[o.jsx(Bt,{children:o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(uw,{className:"w-5 h-5 text-blue-600"}),"Medical Reports"]})}),o.jsx(Et,{children:o.jsxs("div",{className:"space-y-4",children:[h.reports.map((R,L)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50/50 rounded-lg border border-blue-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ua,{className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-900",children:R.name}),o.jsx("p",{className:"text-xs text-blue-700 capitalize",children:R.type})]})]}),o.jsx(Ce,{variant:"ghost",size:"sm",className:"h-8 text-blue-700 hover:text-blue-900",children:"View"})]},L)),o.jsxs(Ce,{variant:"outline",className:"w-full mt-2",onClick:()=>r(!0),children:[o.jsx(fw,{className:"w-4 h-4 mr-2"})," Upload New Report"]})]})})]})]})]})})]}),o.jsx(dA,{open:t,onOpenChange:r,defaultType:"lab"})]})},b0e=()=>{const e=Ks(),[t,r]=_.useState(!1),[n,s]=_.useState(!1),[i,a]=_.useState(!1),{data:l,isLoading:c}=qm(),{data:u,isLoading:d}=pd(),h=(l==null?void 0:l.filter(v=>v.available).length)||0,p=(u==null?void 0:u.reduce((v,m)=>v+m.total_beds,0))||0,f=(u==null?void 0:u.reduce((v,m)=>v+m.occupied_beds,0))||0;return c||d?o.jsx(Mn,{title:"Reception Dashboard",subtitle:"Loading...",children:o.jsx("div",{})}):o.jsxs(Mn,{title:"Reception Dashboard",subtitle:"Front desk operations and patient management.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(Si,{title:"Available Doctors",value:h,change:"Available now",changeType:"positive",icon:za,iconColor:"primary"}),o.jsx(Si,{title:"Bed Availability",value:p-f,change:`${f} occupied`,changeType:p-f<5?"negative":"neutral",icon:jc,iconColor:"info"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:o.jsxs("div",{className:"bg-card rounded-xl border border-border/50 p-6 shadow-sm",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(Ce,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>r(!0),children:[o.jsx(AC,{className:"w-6 h-6 text-primary"}),"Register Patient"]}),o.jsxs(Ce,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>s(!0),children:[o.jsx(TD,{className:"w-6 h-6 text-green-600"}),"Book Appointment"]}),o.jsxs(Ce,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>e("/callbacks"),children:[o.jsx(Gh,{className:"w-6 h-6 text-orange-600"}),"Callbacks"]}),o.jsxs(Ce,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>e("/beds"),children:[o.jsx(jc,{className:"w-6 h-6 text-blue-600"}),"Check Beds"]}),o.jsxs(Ce,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>a(!0),children:[o.jsx(tJ,{className:"w-6 h-6 text-purple-600"}),"Upload Receipt"]})]})]})}),o.jsx(XE,{open:t,onOpenChange:r}),o.jsx(cA,{open:n,onOpenChange:s}),o.jsx(dA,{open:i,onOpenChange:a,defaultType:"bill"})]})},_0e=()=>{const e=Ks(),{data:t,isLoading:r}=pd(),{data:n,isLoading:s}=Um();if(r||s)return o.jsx(Mn,{title:"Nurse Dashboard",subtitle:"Loading...",children:o.jsx("div",{})});const i=(n==null?void 0:n.filter(l=>l.status==="admitted"||l.status==="critical"))||[],a=(n==null?void 0:n.filter(l=>l.status==="critical"))||[];return o.jsxs(Mn,{title:"Nurse Station",subtitle:"In-patient care and ward management.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(Si,{title:"Admitted Patients",value:i.length,change:"Currently in wards",changeType:"neutral",icon:za,iconColor:"primary"}),o.jsx(Si,{title:"Critical Cases",value:a.length,change:"Need attention",changeType:a.length>0?"negative":"positive",icon:Ro,iconColor:"destructive"}),o.jsx(Si,{title:"Tasks Pending",value:0,change:"Shift tasks",changeType:"neutral",icon:SC,iconColor:"warning"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-card rounded-xl border border-border/50 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Ward Occupancy"}),o.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>e("/beds"),children:"Manage Beds"})]}),o.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(l=>{const c=l.total_beds>0?l.occupied_beds/l.total_beds*100:0;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:l.name}),o.jsxs("span",{className:"text-muted-foreground",children:[l.occupied_beds,"/",l.total_beds]})]}),o.jsx(i2,{value:c,className:"h-2"})]},l.id)})})]}),o.jsxs("div",{className:"bg-card rounded-xl border border-border/50 p-6",children:[o.jsxs("h3",{className:"font-semibold text-lg mb-4 text-red-600 flex items-center gap-2",children:[o.jsx(Ro,{className:"w-5 h-5"})," Critical Watchlist"]}),o.jsx("div",{className:"space-y-3",children:a.length===0?o.jsx("p",{className:"text-muted-foreground text-sm",children:"No critical patients reported."}):a.map(l=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-red-900",children:l.name}),o.jsxs("p",{className:"text-xs text-red-700",children:["Room: ",l.room||"Unassigned"]})]}),o.jsx(zt,{variant:"destructive",children:"Critical"})]},l.id))})]})]})]})},S0e=[{id:1,doctor:"Dr. Sarah Wilson",specialty:"Cardiology",time:"10:00 AM",ward:"Cardiology Wing A",patients:5},{id:2,doctor:"Dr. James Miller",specialty:"Pediatrics",time:"11:30 AM",ward:"Pediatric Ward",patients:8},{id:3,doctor:"Dr. Michael Chen",specialty:"Neurology",time:"02:00 PM",ward:"Neuro ICU",patients:3}],j0e=[{id:1,patient:"John Doe",doctor:"Dr. Sarah Wilson",advice:"Monitor BP every 2 hours. Increase fluid intake.",timestamp:new Date().toISOString()},{id:2,patient:"Jane Smith",doctor:"Dr. Michael Chen",advice:"Schedule MRI for tomorrow morning. Keep NPO after midnight.",timestamp:new Date(Date.now()-36e5).toISOString()}],N0e=()=>o.jsx(Mn,{title:"Rounds & Advice",subtitle:"Track doctor rounds and medical instructions.",children:o.jsxs(gd,{defaultValue:"rounds",className:"space-y-6",children:[o.jsxs(Ic,{children:[o.jsx(mn,{value:"rounds",children:"Doctor Rounds"}),o.jsx(mn,{value:"advice",children:"Doctor Advice & Instructions"})]}),o.jsx(gn,{value:"rounds",className:"space-y-6",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S0e.map(e=>o.jsxs(vt,{className:"hover:shadow-md transition-all",children:[o.jsxs(Bt,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(No,{className:"h-5 w-5 text-primary"}),o.jsx(Lt,{className:"text-base",children:e.doctor})]}),o.jsx(zt,{variant:"outline",children:e.specialty})]}),o.jsx(wr,{children:e.ward})]}),o.jsx(Et,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(va,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"font-medium",children:["Today at ",e.time]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(k0e,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{children:[e.patients," Patients to visit"]})]}),o.jsx(Ce,{className:"w-full",variant:"secondary",children:"View Patient List"})]})})]},e.id))})}),o.jsx(gn,{value:"advice",children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Lt,{children:"Recent Medical Advice"}),o.jsx(wr,{children:"Instructions left by doctors for inpatient care."})]}),o.jsx(Et,{children:o.jsx("div",{className:"space-y-4",children:j0e.map(e=>o.jsxs("div",{className:"flex gap-4 p-4 border rounded-lg bg-card/50",children:[o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-700",children:o.jsx(Ua,{className:"h-4 w-4"})})}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-semibold text-sm",children:e.patient}),o.jsx("span",{className:"text-xs text-muted-foreground",children:on(new Date(e.timestamp),"MMM d, h:mm a")})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",e.doctor]}),o.jsx("div",{className:"mt-2 text-sm bg-muted/50 p-3 rounded-md",children:e.advice}),o.jsx("div",{className:"pt-2 flex justify-end",children:o.jsxs(Ce,{size:"sm",variant:"ghost",className:"h-8 text-green-600 hover:text-green-700 hover:bg-green-50",children:[o.jsx(Nc,{className:"w-3 h-3 mr-1"})," Acknowledge"]})})]})]},e.id))})})]})})]})});function k0e({className:e}){return o.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}const eV=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[s,i]=_.useState(null),a=async l=>{if(l.preventDefault(),!e.trim()){qe.error("Please enter a patient name");return}n(!0),i(null);try{const{data:c,error:u}=await Be.from("transactions").select("*").ilike("patient_name",`%${e}%`).returns();if(u)throw u;if(!c||c.length===0){qe.info("No transactions found for this patient."),n(!1);return}const d=c.reduce((h,p)=>h+Number(p.amount),0);i({total:d,count:c.length,transactions:c}),qe.success("Calculation complete!")}catch(c){console.error("Calculation error:",c),qe.error("Failed to calculate amount")}finally{n(!1)}};return o.jsxs(vt,{className:"w-full max-w-2xl mx-auto",children:[o.jsxs(Bt,{children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(MK,{className:"h-6 w-6 text-primary"}),"AI Transaction Calculator"]}),o.jsx(wr,{children:"Enter a patient's name to calculate their total transaction amount instantly."})]}),o.jsxs(Et,{children:[o.jsxs("form",{onSubmit:a,className:"flex gap-4 mb-6",children:[o.jsx(ht,{placeholder:"Patient Name (e.g. John Doe)",value:e,onChange:l=>t(l.target.value),className:"flex-1"}),o.jsxs(Ce,{type:"submit",disabled:r,children:[r?o.jsx(kc,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(jl,{className:"h-4 w-4 mr-2"}),"Calculate"]})]}),s&&o.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-4 animate-in fade-in slide-in-from-bottom-2",children:[o.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions Found"}),o.jsx("p",{className:"text-2xl font-bold",children:s.count})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount Due"}),o.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",s.total.toFixed(2)]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold mb-2 text-sm",children:"Transaction History"}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:s.transactions.map(l=>o.jsxs("div",{className:"flex justify-between text-sm p-2 bg-background rounded border",children:[o.jsx("span",{children:l.description||"Generic Transaction"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("span",{className:"text-muted-foreground",children:new Date(l.created_at).toLocaleDateString()}),o.jsxs("span",{className:"font-medium",children:["$",Number(l.amount).toFixed(2)]})]})]},l.id))})]})]})]})]})},YO=()=>{const{data:e}=Cn({queryKey:["cashier-stats"],queryFn:async()=>{const{data:t,error:r}=await Be.from("transactions").select("amount, created_at");if(r)return{total:0,today:0,count:0};const n=t.reduce((a,l)=>a+Number(l.amount),0),s=new Date().toISOString().split("T")[0],i=t.filter(a=>a.created_at.startsWith(s)).reduce((a,l)=>a+Number(l.amount),0);return{total:n,today:i,count:t.length}}});return o.jsxs(Mn,{title:"Cashier Station",subtitle:"Manage hospital finances and patient billing.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(Si,{title:"Total Revenue",value:`$${(e==null?void 0:e.total.toFixed(0))||"0"}`,change:"Lifetime",changeType:"neutral",icon:qK,iconColor:"primary"}),o.jsx(Si,{title:"Today's Collection",value:`$${(e==null?void 0:e.today.toFixed(0))||"0"}`,change:"Daily earning",changeType:"positive",icon:EC,iconColor:"success"}),o.jsx(Si,{title:"Transactions",value:(e==null?void 0:e.count)||0,change:"Total processed",changeType:"neutral",icon:dw,iconColor:"warning"})]}),o.jsx("div",{className:"space-y-8",children:o.jsxs("section",{children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(Ro,{className:"h-5 w-5"})," AI Financial Assistant"]}),o.jsx(eV,{})]})})]})},C0e=()=>o.jsx(Mn,{title:"AI Financial Tools",subtitle:"Advanced calculation and analysis tools for administrators.",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(eV,{})})}),E0e=()=>{const[e,t]=_.useState(""),[r,n]=_.useState({}),{data:s=[],isLoading:i}=Cn({queryKey:["admin-user-directory"],queryFn:async()=>{try{const{data:v,error:m}=await Be.rpc("get_all_users_secure");if(m)throw m;return v.map(x=>({...x,_source:"rpc"}))}catch(v){console.warn("Secure RPC failed, falling back to public tables",v);const{data:m}=await Be.from("profiles").select("*"),{data:x}=await Be.from("user_roles").select("*"),{data:g}=await Be.from("staff_approval_requests").select("*"),w=new Map((x||[]).map(R=>[R.user_id,R.role])),S=new Map((m||[]).map(R=>[R.user_id,R])),k=new Map((g||[]).map(R=>[R.user_id,R])),T=new Set([...(m||[]).map(R=>R.user_id),...(x||[]).map(R=>R.user_id),...(g||[]).map(R=>R.user_id)]);return Array.from(T).map(R=>{const L=S.get(R),D=w.get(R),M=k.get(R),G=(L==null?void 0:L.full_name)||(M==null?void 0:M.full_name)||"Unknown User",A=(L==null?void 0:L.email)||(M==null?void 0:M.email)||"No Email Access";let I="patient";return D?I=D:M&&(I=`pending-${M.requested_role}`),{id:R,email:A,full_name:G,role:I,created_at:(L==null?void 0:L.created_at)||(M==null?void 0:M.created_at)||new Date().toISOString(),last_sign_in_at:null,encrypted_password:null,_source:"fallback"}})}}}),a=s.length>0&&s[0]._source==="fallback",l=v=>{navigator.clipboard.writeText(v),qe.success("User ID copied to clipboard")},c=v=>{n(m=>({...m,[v]:!m[v]}))},u=v=>{const m={admin:"bg-purple-100 text-purple-800 border-purple-200",doctor:"bg-blue-100 text-blue-800 border-blue-200",nurse:"bg-pink-100 text-pink-800 border-pink-200",cashier:"bg-emerald-100 text-emerald-800 border-emerald-200",receptionist:"bg-orange-100 text-orange-800 border-orange-200",patient:"bg-gray-100 text-gray-800 border-gray-200"};return o.jsx(zt,{variant:"outline",className:m[v]||m.patient,children:v.toUpperCase()})},d=s.filter(v=>{var m,x,g;return((m=v.email)==null?void 0:m.toLowerCase().includes(e.toLowerCase()))||((x=v.role)==null?void 0:x.toLowerCase().includes(e.toLowerCase()))||((g=v.full_name)==null?void 0:g.toLowerCase().includes(e.toLowerCase()))}),h=d.filter(v=>v.role==="patient"),p=d.filter(v=>v.role!=="patient"),f=v=>o.jsx("div",{className:"rounded-md border",children:o.jsxs(sy,{children:[o.jsx(iy,{children:o.jsxs(Fa,{children:[o.jsx(Nn,{children:"User / Email"}),o.jsx(Nn,{children:"Role"}),o.jsx(Nn,{children:"Security Status"}),o.jsx(Nn,{children:"Joined On"}),o.jsx(Nn,{children:"Last Login"}),o.jsx(Nn,{className:"text-right",children:"Actions"})]})}),o.jsx(ay,{children:i?o.jsx(Fa,{children:o.jsx(sn,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"Loading secure directory..."})}):v.length===0?o.jsx(Fa,{children:o.jsx(sn,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No users found."})}):v.map(m=>o.jsxs(Fa,{children:[o.jsx(sn,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:m.full_name||"Unknown Name"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:m.email})]})}),o.jsx(sn,{children:u(m.role)}),o.jsx(sn,{children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground bg-secondary/30 px-3 py-2 rounded-md w-full max-w-[250px] justify-between border border-border/50",children:[m.encrypted_password?r[m.id]?o.jsxs("div",{className:"flex flex-col w-full overflow-hidden",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground font-bold tracking-wider mb-1",children:"SECURE HASH"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("code",{className:"font-mono text-[10px] sm:text-xs break-all leading-tight text-foreground/90 bg-background/50 p-1 rounded border border-border/50 max-h-[60px] overflow-y-auto w-full",children:m.encrypted_password}),o.jsx(Ce,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{navigator.clipboard.writeText(m.encrypted_password||""),qe.success("Hash copied")},title:"Copy Full Hash",children:o.jsx(gx,{className:"w-3 h-3"})})]})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(LD,{className:"w-3 h-3 text-emerald-600"}),o.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:""})]}):o.jsxs("span",{className:"text-xs text-muted-foreground italic flex items-center gap-1",children:[o.jsx(hw,{className:"w-3 h-3 text-amber-500"}),o.jsx("span",{title:"Run the SQL fix above to enable access",children:"Restricted Access"})]}),m.encrypted_password&&o.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>c(m.id),className:"hover:bg-background h-6 w-6 p-0 shrink-0 ml-1",title:r[m.id]?"Hide Hash":"View Hash",children:r[m.id]?o.jsx(Cb,{className:"w-3 h-3"}):o.jsx(Eb,{className:"w-3 h-3"})})]})}),o.jsx(sn,{className:"text-muted-foreground text-sm",children:m.created_at?on(new Date(m.created_at),"MMM d, yyyy"):"-"}),o.jsx(sn,{className:"text-muted-foreground text-sm",children:m.last_sign_in_at?on(new Date(m.last_sign_in_at),"MMM d, hh:mm a"):o.jsx("span",{className:"text-xs italic opacity-70",children:"No Data"})}),o.jsx(sn,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>l(m.id),title:"Copy User ID",children:o.jsx(gx,{className:"w-4 h-4"})}),o.jsxs(Ns,{children:[o.jsx(gc,{asChild:!0,children:o.jsx(Ce,{variant:"ghost",size:"icon",title:"Set New Password",children:o.jsx(kC,{className:"w-4 h-4"})})}),o.jsxs(ds,{children:[o.jsxs(ks,{children:[o.jsx(hs,{children:"Set New Password"}),o.jsxs(Gs,{children:["You are setting a new password for ",o.jsx("strong",{children:m.full_name}),".",o.jsx("br",{}),o.jsx("span",{className:"text-red-500 text-xs",children:"Note: The old password cannot be recovered."})]})]}),o.jsxs("form",{onSubmit:async x=>{x.preventDefault();const w=new FormData(x.currentTarget).get("newPassword");if(!w||w.length<6){qe.error("Password must be at least 6 characters");return}try{const{error:S}=await Be.rpc("admin_reset_password",{target_user_id:m.id,new_password:w});if(S)throw S;qe.success(`Password updated for ${m.full_name}`),x.target.reset()}catch(S){qe.error("Failed to reset: "+(S instanceof Error?S.message:"Unknown error"))}},className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"newPassword",className:"text-sm font-medium",children:"New Password"}),o.jsx(ht,{id:"newPassword",name:"newPassword",type:"text",placeholder:"Enter new password",minLength:6,required:!0})]}),o.jsx(Ce,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white",children:"Update Password"})]})]})]})]})})]},m.id))})]})});return o.jsxs(Mn,{title:"System Information",subtitle:"User Directory & Compliance",children:[a&&o.jsxs(j2,{variant:"destructive",className:"mb-6 bg-yellow-50 border-yellow-200 text-yellow-800",children:[o.jsx(hw,{className:"h-4 w-4 text-yellow-600"}),o.jsx(kA,{children:"Limited Data Access"}),o.jsxs(N2,{className:"flex items-center justify-between",children:[o.jsx("span",{children:'You are viewing a restricted version of the directory. "Last Login" and "Password Hash" are unavailable.'}),o.jsxs(Ns,{children:[o.jsx(gc,{asChild:!0,children:o.jsxs(Ce,{size:"sm",variant:"outline",className:"ml-4 h-8 bg-white border-yellow-300 hover:bg-yellow-100 text-yellow-900",children:[o.jsx(ID,{className:"w-3 h-3 mr-2"})," Fix with SQL"]})}),o.jsxs(ds,{className:"max-w-2xl",children:[o.jsxs(ks,{children:[o.jsx(hs,{children:"Enable Secure User Directory"}),o.jsx(Gs,{children:"To view sensitive checks like Password Hashes and Last Login times, you must create a Secure RPC function in Supabase."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm",children:"Run this SQL in your Supabase Dashboard SQL Editor:"}),o.jsxs("div",{className:"bg-slate-950 text-slate-50 p-4 rounded-md font-mono text-xs overflow-x-auto relative group",children:[o.jsx("pre",{children:`-- Create Secure User Access Function
CREATE OR REPLACE FUNCTION get_all_users_secure()
RETURNS TABLE (
  id uuid,
  email text,
  encrypted_password text,
  role text,
  full_name text,
  created_at timestamptz,
  last_sign_in_at timestamptz
)
SECURITY DEFINER
AS $$
DECLARE
  is_admin boolean;
BEGIN
  -- Check if admin
  SELECT EXISTS(
    SELECT 1 FROM public.user_roles
    WHERE user_id = auth.uid() AND role = 'admin'
  ) INTO is_admin;

  IF is_admin THEN
    RETURN QUERY
    SELECT 
      au.id,
      au.email::text,
      au.encrypted_password::text,
      COALESCE(ur.role::text, 'patient') as role,
      COALESCE(p.full_name, (au.raw_user_meta_data->>'full_name')::text, 'Unknown') as full_name,
      au.created_at,
      au.last_sign_in_at
    FROM auth.users au
    LEFT JOIN public.user_roles ur ON au.id = ur.user_id
    LEFT JOIN public.profiles p ON au.id = p.user_id
    ORDER BY au.created_at DESC;
  ELSE
    RAISE EXCEPTION 'Access Denied';
  END IF;
END;
$$ LANGUAGE plpgsql;`}),o.jsxs(Ce,{size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>navigator.clipboard.writeText(`CREATE OR REPLACE FUNCTION get_all_users_secure()
RETURNS TABLE (
  id uuid,
  email text,
  encrypted_password text,
  role text,
  full_name text,
  created_at timestamptz,
  last_sign_in_at timestamptz
)
SECURITY DEFINER
AS $$
DECLARE
  is_admin boolean;
BEGIN
  -- Check if admin
  SELECT EXISTS(
    SELECT 1 FROM public.user_roles
    WHERE user_id = auth.uid() AND role = 'admin'
  ) INTO is_admin;

  IF is_admin THEN
    RETURN QUERY
    SELECT 
      au.id,
      au.email::text,
      au.encrypted_password::text,
      COALESCE(ur.role::text, 'patient') as role,
      COALESCE(p.full_name, (au.raw_user_meta_data->>'full_name')::text, 'Unknown') as full_name,
      au.created_at,
      au.last_sign_in_at
    FROM auth.users au
    LEFT JOIN public.user_roles ur ON au.id = ur.user_id
    LEFT JOIN public.profiles p ON au.id = p.user_id
    ORDER BY au.created_at DESC;
  ELSE
    RAISE EXCEPTION 'Access Denied';
  END IF;
END;
$$ LANGUAGE plpgsql;`),children:[o.jsx(gx,{className:"w-3 h-3"})," Copy"]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["This function uses ",o.jsx("code",{children:"SECURITY DEFINER"})," to allow admins to safely read from ",o.jsx("code",{children:"auth.users"}),"."]})]})]})]})]})]}),o.jsx(vt,{className:"mb-6 border-l-4 border-l-blue-500 shadow-sm",children:o.jsxs(Bt,{children:[o.jsxs(Lt,{className:"flex items-center gap-2 text-blue-700",children:[o.jsx(km,{className:"w-5 h-5"})," Data Privacy & Security Notice"]}),o.jsxs(wr,{children:["All user authentication data is secured.",a?" Displaying public profile data only.":" Secure Admin Access is active. You can view password hashes and login activity."]})]})}),o.jsxs(gd,{defaultValue:"all",className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs(Ic,{children:[o.jsx(mn,{value:"all",children:"All Users"}),o.jsx(mn,{value:"patients",children:"Patients"}),o.jsx(mn,{value:"staff",children:"Staff"})]}),o.jsxs("div",{className:"relative w-64",children:[o.jsx(jl,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search users...",className:"pl-8 bg-background",value:e,onChange:v=>t(v.target.value)})]})]}),o.jsx(vt,{children:o.jsxs(Et,{className:"pt-6",children:[o.jsx(gn,{value:"all",className:"mt-0",children:f(d)}),o.jsx(gn,{value:"patients",className:"mt-0",children:f(h)}),o.jsx(gn,{value:"staff",className:"mt-0",children:f(p)})]})})]})]})},A0e="modulepreload",P0e=function(e){return"/"+e},KO={},G5=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=P0e(c),c in KO)return;KO[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":A0e,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Yr(e){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}var Uo=Uint8Array,da=Uint16Array,CA=Int32Array,EA=new Uo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),AA=new Uo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),JO=new Uo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tV=function(e,t){for(var r=new da(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new CA(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},rV=tV(EA,2),T0e=rV.b,sk=rV.r;T0e[28]=258,sk[258]=28;var R0e=tV(AA,0),QO=R0e.r,ik=new da(32768);for(var bn=0;bn<32768;++bn){var su=(bn&43690)>>1|(bn&21845)<<1;su=(su&52428)>>2|(su&13107)<<2,su=(su&61680)>>4|(su&3855)<<4,ik[bn]=((su&65280)>>8|(su&255)<<8)>>1}var Sv=function(e,t,r){for(var n=e.length,s=0,i=new da(t);s<n;++s)e[s]&&++i[e[s]-1];var a=new da(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(r){l=new da(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],h=a[e[s]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)l[ik[h]>>c]=u}else for(l=new da(n),s=0;s<n;++s)e[s]&&(l[s]=ik[a[e[s]-1]++]>>15-e[s]);return l},Bh=new Uo(288);for(var bn=0;bn<144;++bn)Bh[bn]=8;for(var bn=144;bn<256;++bn)Bh[bn]=9;for(var bn=256;bn<280;++bn)Bh[bn]=7;for(var bn=280;bn<288;++bn)Bh[bn]=8;var Xw=new Uo(32);for(var bn=0;bn<32;++bn)Xw[bn]=5;var O0e=Sv(Bh,9,0),L0e=Sv(Xw,5,0),nV=function(e){return(e+7)/8|0},M0e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Uo(e.subarray(t,r))},Yl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Bg=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Y5=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:iV,l:0};if(s==1){var a=new Uo(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(T,R){return T.f-R.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,n=1;n<s;++n)i[n].s>p&&(p=i[n].s);var f=new da(p+1),v=ak(r[d-1],f,0);if(v>t){var n=0,m=0,x=v-t,g=1<<x;for(i.sort(function(R,L){return f[L.s]-f[R.s]||R.f-L.f});n<s;++n){var w=i[n].s;if(f[w]>t)m+=g-(1<<v-f[w]),f[w]=t;else break}for(m>>=x;m>0;){var S=i[n].s;f[S]<t?m-=1<<t-f[S]++-1:++n}for(;n>=0&&m;--n){var k=i[n].s;f[k]==t&&(--f[k],++m)}v=t}return{t:new Uo(f),l:v}},ak=function(e,t,r){return e.s==-1?Math.max(ak(e.l,t,r+1),ak(e.r,t,r+1)):t[e.s]=r},ZO=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new da(++t),n=0,s=e[0],i=1,a=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},Ug=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},sV=function(e,t,r){var n=r.length,s=nV(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},XO=function(e,t,r,n,s,i,a,l,c,u,d){Yl(t,d++,r),++s[256];for(var h=Y5(s,15),p=h.t,f=h.l,v=Y5(i,15),m=v.t,x=v.l,g=ZO(p),w=g.c,S=g.n,k=ZO(m),T=k.c,R=k.n,L=new da(19),D=0;D<w.length;++D)++L[w[D]&31];for(var D=0;D<T.length;++D)++L[T[D]&31];for(var M=Y5(L,7),G=M.t,A=M.l,I=19;I>4&&!G[JO[I-1]];--I);var $=u+5<<3,q=Ug(s,Bh)+Ug(i,Xw)+a,te=Ug(s,p)+Ug(i,m)+a+14+3*I+Ug(L,G)+2*L[16]+3*L[17]+7*L[18];if(c>=0&&$<=q&&$<=te)return sV(t,d,e.subarray(c,c+u));var ne,re,W,X;if(Yl(t,d,1+(te<q)),d+=2,te<q){ne=Sv(p,f,0),re=p,W=Sv(m,x,0),X=m;var pe=Sv(G,A,0);Yl(t,d,S-257),Yl(t,d+5,R-1),Yl(t,d+10,I-4),d+=14;for(var D=0;D<I;++D)Yl(t,d+3*D,G[JO[D]]);d+=3*I;for(var ge=[w,T],U=0;U<2;++U)for(var b=ge[U],D=0;D<b.length;++D){var C=b[D]&31;Yl(t,d,pe[C]),d+=G[C],C>15&&(Yl(t,d,b[D]>>5&127),d+=b[D]>>12)}}else ne=O0e,re=Bh,W=L0e,X=Xw;for(var D=0;D<l;++D){var E=n[D];if(E>255){var C=E>>18&31;Bg(t,d,ne[C+257]),d+=re[C+257],C>7&&(Yl(t,d,E>>23&31),d+=EA[C]);var B=E&31;Bg(t,d,W[B]),d+=X[B],B>3&&(Bg(t,d,E>>5&8191),d+=AA[B])}else Bg(t,d,ne[E]),d+=re[E]}return Bg(t,d,ne[256]),d+re[256]},I0e=new CA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iV=new Uo(0),D0e=function(e,t,r,n,s,i){var a=i.z||e.length,l=new Uo(n+a+5*(1+Math.ceil(a/7e3))+s),c=l.subarray(n,l.length-s),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var h=I0e[t-1],p=h>>13,f=h&8191,v=(1<<r)-1,m=i.p||new da(32768),x=i.h||new da(v+1),g=Math.ceil(r/3),w=2*g,S=function(Ie){return(e[Ie]^e[Ie+1]<<g^e[Ie+2]<<w)&v},k=new CA(25e3),T=new da(288),R=new da(32),L=0,D=0,M=i.i||0,G=0,A=i.w||0,I=0;M+2<a;++M){var $=S(M),q=M&32767,te=x[$];if(m[q]=te,x[$]=q,A<=M){var ne=a-M;if((L>7e3||G>24576)&&(ne>423||!u)){d=XO(e,c,0,k,T,R,D,G,I,M-I,d),G=L=D=0,I=M;for(var re=0;re<286;++re)T[re]=0;for(var re=0;re<30;++re)R[re]=0}var W=2,X=0,pe=f,ge=q-te&32767;if(ne>2&&$==S(M-ge))for(var U=Math.min(p,ne)-1,b=Math.min(32767,M),C=Math.min(258,ne);ge<=b&&--pe&&q!=te;){if(e[M+W]==e[M+W-ge]){for(var E=0;E<C&&e[M+E]==e[M+E-ge];++E);if(E>W){if(W=E,X=ge,E>U)break;for(var B=Math.min(ge,E-2),F=0,re=0;re<B;++re){var Z=M-ge+re&32767,se=m[Z],le=Z-se&32767;le>F&&(F=le,te=Z)}}}q=te,te=m[q],ge+=q-te&32767}if(X){k[G++]=268435456|sk[W]<<18|QO[X];var ue=sk[W]&31,fe=QO[X]&31;D+=EA[ue]+AA[fe],++T[257+ue],++R[fe],A=M+W,++L}else k[G++]=e[M],++T[e[M]]}}for(M=Math.max(M,A);M<a;++M)k[G++]=e[M],++T[e[M]];d=XO(e,c,u,k,T,R,D,G,I,M-I,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=x,i.p=m,i.i=M,i.w=A)}else{for(var M=i.w||0;M<a+u;M+=65535){var be=M+65535;be>=a&&(c[d/8|0]=u,be=a),d=sV(c,d+1,e.subarray(M,be))}i.i=a}return M0e(l,0,n+nV(d)+s)},aV=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},F0e=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new Uo(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return D0e(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},oV=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},$0e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=aV();s.p(t.dictionary),oV(e,2,s.d())}};function ok(e,t){t||(t={});var r=aV();r.p(e);var n=F0e(e,t,t.dictionary?6:2,4);return $0e(n,t),oV(n,n.length-4,r.d()),n}var B0e=typeof TextDecoder<"u"&&new TextDecoder,U0e=0;try{B0e.decode(iV,{stream:!0}),U0e=1}catch{}function q0e(e){if(Array.isArray(e))return e}function z0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function eL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function V0e(e,t){if(e){if(typeof e=="string")return eL(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eL(e,t):void 0}}function W0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tL(e,t){return q0e(e)||z0e(e,t)||V0e(e,t)||W0e()}function rL(e,t="utf8"){return new TextDecoder(t).decode(e)}const H0e=new TextEncoder;function G0e(e){return H0e.encode(e)}const Y0e=1024*8,K0e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),K5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class PA{constructor(t=Y0e,r={}){rt(this,"buffer");rt(this,"byteLength");rt(this,"byteOffset");rt(this,"length");rt(this,"offset");rt(this,"lastWrittenByte");rt(this,"littleEndian");rt(this,"_data");rt(this,"_mark");rt(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let a=s;(ArrayBuffer.isView(t)||t instanceof PA)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=K5[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===K0e&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const c=new K5[r](l.buffer);return this.offset+=n,c.reverse(),c}const a=new K5[r](i);return this.offset+=n,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return rL(this.readBytes(t))}decodeText(t=1,r="utf8"){return rL(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(G0e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const J0e=4,nL=0,sL=1,Q0e=2;function Hm(e){let t=e.length;for(;--t>=0;)e[t]=0}const Z0e=0,lV=1,X0e=2,eye=3,tye=258,TA=29,dy=256,d0=dy+1+TA,jp=30,RA=19,cV=2*d0+1,th=15,J5=16,rye=7,OA=256,uV=16,dV=17,hV=18,lk=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ox=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),nye=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),fV=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sye=512,nc=new Array((d0+2)*2);Hm(nc);const jv=new Array(jp*2);Hm(jv);const h0=new Array(sye);Hm(h0);const f0=new Array(tye-eye+1);Hm(f0);const LA=new Array(TA);Hm(LA);const eb=new Array(jp);Hm(eb);function Q5(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let pV,mV,gV;function Z5(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const vV=e=>e<256?h0[e]:h0[256+(e>>>7)],p0=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Fi=(e,t,r)=>{e.bi_valid>J5-r?(e.bi_buf|=t<<e.bi_valid&65535,p0(e,e.bi_buf),e.bi_buf=t>>J5-e.bi_valid,e.bi_valid+=r-J5):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},dl=(e,t,r)=>{Fi(e,r[t*2],r[t*2+1])},yV=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},iye=e=>{e.bi_valid===16?(p0(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},aye=(e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,h,p,f,v,m=0;for(p=0;p<=th;p++)e.bl_count[p]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<cV;u++)d=e.heap[u],p=r[r[d*2+1]*2+1]+1,p>c&&(p=c,m++),r[d*2+1]=p,!(d>n)&&(e.bl_count[p]++,f=0,d>=l&&(f=a[d-l]),v=r[d*2],e.opt_len+=v*(p+f),i&&(e.static_len+=v*(s[d*2+1]+f)));if(m!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)h=e.heap[--u],!(h>n)&&(r[h*2+1]!==p&&(e.opt_len+=(p-r[h*2+1])*r[h*2],r[h*2+1]=p),d--)}},xV=(e,t,r)=>{const n=new Array(th+1);let s=0,i,a;for(i=1;i<=th;i++)s=s+r[i-1]<<1,n[i]=s;for(a=0;a<=t;a++){let l=e[a*2+1];l!==0&&(e[a*2]=yV(n[l]++,l))}},oye=()=>{let e,t,r,n,s;const i=new Array(th+1);for(r=0,n=0;n<TA-1;n++)for(LA[n]=r,e=0;e<1<<lk[n];e++)f0[r++]=n;for(f0[r-1]=n,s=0,n=0;n<16;n++)for(eb[n]=s,e=0;e<1<<Ox[n];e++)h0[s++]=n;for(s>>=7;n<jp;n++)for(eb[n]=s<<7,e=0;e<1<<Ox[n]-7;e++)h0[256+s++]=n;for(t=0;t<=th;t++)i[t]=0;for(e=0;e<=143;)nc[e*2+1]=8,e++,i[8]++;for(;e<=255;)nc[e*2+1]=9,e++,i[9]++;for(;e<=279;)nc[e*2+1]=7,e++,i[7]++;for(;e<=287;)nc[e*2+1]=8,e++,i[8]++;for(xV(nc,d0+1,i),e=0;e<jp;e++)jv[e*2+1]=5,jv[e*2]=yV(e,5);pV=new Q5(nc,lk,dy+1,d0,th),mV=new Q5(jv,Ox,0,jp,th),gV=new Q5(new Array(0),nye,0,RA,rye)},wV=e=>{let t;for(t=0;t<d0;t++)e.dyn_ltree[t*2]=0;for(t=0;t<jp;t++)e.dyn_dtree[t*2]=0;for(t=0;t<RA;t++)e.bl_tree[t*2]=0;e.dyn_ltree[OA*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},bV=e=>{e.bi_valid>8?p0(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},iL=(e,t,r,n)=>{const s=t*2,i=r*2;return e[s]<e[i]||e[s]===e[i]&&n[t]<=n[r]},X5=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&iL(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!iL(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},aL=(e,t,r)=>{let n,s,i=0,a,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],n===0?dl(e,s,t):(a=f0[s],dl(e,a+dy+1,t),l=lk[a],l!==0&&(s-=LA[a],Fi(e,s,l)),n--,a=vV(n),dl(e,a,r),l=Ox[a],l!==0&&(n-=eb[a],Fi(e,n,l)));while(i<e.sym_next);dl(e,OA,t)},ck=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let a,l,c=-1,u;for(e.heap_len=0,e.heap_max=cV,a=0;a<i;a++)r[a*2]!==0?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,s&&(e.static_len-=n[u*2+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)X5(e,r,a);u=i;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],X5(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=l,r[u*2]=r[a*2]+r[l*2],e.depth[u]=(e.depth[a]>=e.depth[l]?e.depth[a]:e.depth[l])+1,r[a*2+1]=r[l*2+1]=u,e.heap[1]=u++,X5(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],aye(e,t),xV(r,c,e.bl_count)},oL=(e,t,r)=>{let n,s=-1,i,a=t[0*2+1],l=0,c=7,u=4;for(a===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=t[(n+1)*2+1],!(++l<c&&i===a)&&(l<u?e.bl_tree[i*2]+=l:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[uV*2]++):l<=10?e.bl_tree[dV*2]++:e.bl_tree[hV*2]++,l=0,s=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))},lL=(e,t,r)=>{let n,s=-1,i,a=t[0*2+1],l=0,c=7,u=4;for(a===0&&(c=138,u=3),n=0;n<=r;n++)if(i=a,a=t[(n+1)*2+1],!(++l<c&&i===a)){if(l<u)do dl(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==s&&(dl(e,i,e.bl_tree),l--),dl(e,uV,e.bl_tree),Fi(e,l-3,2)):l<=10?(dl(e,dV,e.bl_tree),Fi(e,l-3,3)):(dl(e,hV,e.bl_tree),Fi(e,l-11,7));l=0,s=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}},lye=e=>{let t;for(oL(e,e.dyn_ltree,e.l_desc.max_code),oL(e,e.dyn_dtree,e.d_desc.max_code),ck(e,e.bl_desc),t=RA-1;t>=3&&e.bl_tree[fV[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},cye=(e,t,r,n)=>{let s;for(Fi(e,t-257,5),Fi(e,r-1,5),Fi(e,n-4,4),s=0;s<n;s++)Fi(e,e.bl_tree[fV[s]*2+1],3);lL(e,e.dyn_ltree,t-1),lL(e,e.dyn_dtree,r-1)},uye=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return nL;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return sL;for(r=32;r<dy;r++)if(e.dyn_ltree[r*2]!==0)return sL;return nL};let cL=!1;const dye=e=>{cL||(oye(),cL=!0),e.l_desc=new Z5(e.dyn_ltree,pV),e.d_desc=new Z5(e.dyn_dtree,mV),e.bl_desc=new Z5(e.bl_tree,gV),e.bi_buf=0,e.bi_valid=0,wV(e)},_V=(e,t,r,n)=>{Fi(e,(Z0e<<1)+(n?1:0),3),bV(e),p0(e,r),p0(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},hye=e=>{Fi(e,lV<<1,3),dl(e,OA,nc),iye(e)},fye=(e,t,r,n)=>{let s,i,a=0;e.level>0?(e.strm.data_type===Q0e&&(e.strm.data_type=uye(e)),ck(e,e.l_desc),ck(e,e.d_desc),a=lye(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&t!==-1?_V(e,t,r,n):e.strategy===J0e||i===s?(Fi(e,(lV<<1)+(n?1:0),3),aL(e,nc,jv)):(Fi(e,(X0e<<1)+(n?1:0),3),cye(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),aL(e,e.dyn_ltree,e.dyn_dtree)),wV(e),n&&bV(e)},pye=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(f0[r]+dy+1)*2]++,e.dyn_dtree[vV(t)*2]++),e.sym_next===e.sym_end);var mye=dye,gye=_V,vye=fye,yye=pye,xye=hye,wye={_tr_init:mye,_tr_stored_block:gye,_tr_flush_block:vye,_tr_tally:yye,_tr_align:xye};const bye=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var m0=bye;const _ye=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Sye=new Uint32Array(_ye()),jye=(e,t,r,n)=>{const s=Sye,i=n+r;e^=-1;for(let a=n;a<i;a++)e=e>>>8^s[(e^t[a])&255];return e^-1};var As=jye,gm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},hy={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Nye,_tr_stored_block:uk,_tr_flush_block:kye,_tr_tally:Gu,_tr_align:Cye}=wye,{Z_NO_FLUSH:Yu,Z_PARTIAL_FLUSH:Eye,Z_FULL_FLUSH:Aye,Z_FINISH:Ia,Z_BLOCK:uL,Z_OK:Ws,Z_STREAM_END:dL,Z_STREAM_ERROR:wl,Z_DATA_ERROR:Pye,Z_BUF_ERROR:eS,Z_DEFAULT_COMPRESSION:Tye,Z_FILTERED:Rye,Z_HUFFMAN_ONLY:H1,Z_RLE:Oye,Z_FIXED:Lye,Z_DEFAULT_STRATEGY:Mye,Z_UNKNOWN:Iye,Z_DEFLATED:k2}=hy,Dye=9,Fye=15,$ye=8,Bye=29,Uye=256,dk=Uye+1+Bye,qye=30,zye=19,Vye=2*dk+1,Wye=15,pr=3,Ou=258,bl=Ou+pr+1,Hye=32,vm=42,MA=57,hk=69,fk=73,pk=91,mk=103,rh=113,sv=666,ji=1,Gm=2,Uh=3,Ym=4,Gye=3,nh=(e,t)=>(e.msg=gm[t],t),hL=e=>e*2-(e>4?9:0),xu=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Yye=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=s?r-s:0;while(--t);t=s,n=t;do r=e.prev[--n],e.prev[n]=r>=s?r-s:0;while(--t)};let Kye=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Ku=Kye;const na=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},ha=(e,t)=>{kye(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,na(e.strm)},Lr=(e,t)=>{e.pending_buf[e.pending++]=t},qg=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},gk=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=m0(e.adler,t,s,r):e.state.wrap===2&&(e.adler=As(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},SV=(e,t)=>{let r=e.max_chain_length,n=e.strstart,s,i,a=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-bl?e.strstart-(e.w_size-bl):0,u=e.window,d=e.w_mask,h=e.prev,p=e.strstart+Ou;let f=u[n+a-1],v=u[n+a];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(s=t,!(u[s+a]!==v||u[s+a-1]!==f||u[s]!==u[n]||u[++s]!==u[n+1])){n+=2,s++;do;while(u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&n<p);if(i=Ou-(p-n),n=p-Ou,i>a){if(e.match_start=t,a=i,i>=l)break;f=u[n+a-1],v=u[n+a]}}while((t=h[t&d])>c&&--r!==0);return a<=e.lookahead?a:e.lookahead},ym=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-bl)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Yye(e),n+=t),e.strm.avail_in===0)break;if(r=gk(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=pr)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Ku(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Ku(e,e.ins_h,e.window[s+pr-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<pr)););}while(e.lookahead<bl&&e.strm.avail_in!==0)},jV=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,i,a=0,l=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,n>s+e.strm.avail_in&&(n=s+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==Ia||t===Yu||n!==s+e.strm.avail_in)))break;a=t===Ia&&n===s+e.strm.avail_in?1:0,uk(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,na(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(gk(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?Ym:t!==Yu&&t!==Ia&&e.strm.avail_in===0&&e.strstart===e.block_start?Gm:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(gk(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=r||(s||t===Ia)&&t!==Yu&&e.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,a=t===Ia&&e.strm.avail_in===0&&n===s?1:0,uk(e,e.block_start,n,a),e.block_start+=n,na(e.strm)),a?Uh:ji)},tS=(e,t)=>{let r,n;for(;;){if(e.lookahead<bl){if(ym(e),e.lookahead<bl&&t===Yu)return ji;if(e.lookahead===0)break}if(r=0,e.lookahead>=pr&&(e.ins_h=Ku(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-bl&&(e.match_length=SV(e,r)),e.match_length>=pr)if(n=Gu(e,e.strstart-e.match_start,e.match_length-pr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=pr){e.match_length--;do e.strstart++,e.ins_h=Ku(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ku(e,e.ins_h,e.window[e.strstart+1]);else n=Gu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ha(e,!1),e.strm.avail_out===0))return ji}return e.insert=e.strstart<pr-1?e.strstart:pr-1,t===Ia?(ha(e,!0),e.strm.avail_out===0?Uh:Ym):e.sym_next&&(ha(e,!1),e.strm.avail_out===0)?ji:Gm},Lf=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<bl){if(ym(e),e.lookahead<bl&&t===Yu)return ji;if(e.lookahead===0)break}if(r=0,e.lookahead>=pr&&(e.ins_h=Ku(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=pr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-bl&&(e.match_length=SV(e,r),e.match_length<=5&&(e.strategy===Rye||e.match_length===pr&&e.strstart-e.match_start>4096)&&(e.match_length=pr-1)),e.prev_length>=pr&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-pr,n=Gu(e,e.strstart-1-e.prev_match,e.prev_length-pr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=Ku(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=pr-1,e.strstart++,n&&(ha(e,!1),e.strm.avail_out===0))return ji}else if(e.match_available){if(n=Gu(e,0,e.window[e.strstart-1]),n&&ha(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ji}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Gu(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<pr-1?e.strstart:pr-1,t===Ia?(ha(e,!0),e.strm.avail_out===0?Uh:Ym):e.sym_next&&(ha(e,!1),e.strm.avail_out===0)?ji:Gm},Jye=(e,t)=>{let r,n,s,i;const a=e.window;for(;;){if(e.lookahead<=Ou){if(ym(e),e.lookahead<=Ou&&t===Yu)return ji;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=pr&&e.strstart>0&&(s=e.strstart-1,n=a[s],n===a[++s]&&n===a[++s]&&n===a[++s])){i=e.strstart+Ou;do;while(n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&s<i);e.match_length=Ou-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=pr?(r=Gu(e,1,e.match_length-pr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Gu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(ha(e,!1),e.strm.avail_out===0))return ji}return e.insert=0,t===Ia?(ha(e,!0),e.strm.avail_out===0?Uh:Ym):e.sym_next&&(ha(e,!1),e.strm.avail_out===0)?ji:Gm},Qye=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(ym(e),e.lookahead===0)){if(t===Yu)return ji;break}if(e.match_length=0,r=Gu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(ha(e,!1),e.strm.avail_out===0))return ji}return e.insert=0,t===Ia?(ha(e,!0),e.strm.avail_out===0?Uh:Ym):e.sym_next&&(ha(e,!1),e.strm.avail_out===0)?ji:Gm};function el(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const iv=[new el(0,0,0,0,jV),new el(4,4,8,4,tS),new el(4,5,16,8,tS),new el(4,6,32,32,tS),new el(4,4,16,16,Lf),new el(8,16,32,32,Lf),new el(8,16,128,128,Lf),new el(8,32,128,256,Lf),new el(32,128,258,1024,Lf),new el(32,258,258,4096,Lf)],Zye=e=>{e.window_size=2*e.w_size,xu(e.head),e.max_lazy_match=iv[e.level].max_lazy,e.good_match=iv[e.level].good_length,e.nice_match=iv[e.level].nice_length,e.max_chain_length=iv[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=pr-1,e.match_available=0,e.ins_h=0};function Xye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Vye*2),this.dyn_dtree=new Uint16Array((2*qye+1)*2),this.bl_tree=new Uint16Array((2*zye+1)*2),xu(this.dyn_ltree),xu(this.dyn_dtree),xu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Wye+1),this.heap=new Uint16Array(2*dk+1),xu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*dk+1),xu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const fy=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==vm&&t.status!==MA&&t.status!==hk&&t.status!==fk&&t.status!==pk&&t.status!==mk&&t.status!==rh&&t.status!==sv?1:0},NV=e=>{if(fy(e))return nh(e,wl);e.total_in=e.total_out=0,e.data_type=Iye;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?MA:t.wrap?vm:rh,e.adler=t.wrap===2?0:1,t.last_flush=-2,Nye(t),Ws},kV=e=>{const t=NV(e);return t===Ws&&Zye(e.state),t},e1e=(e,t)=>fy(e)||e.state.wrap!==2?wl:(e.state.gzhead=t,Ws),CV=(e,t,r,n,s,i)=>{if(!e)return wl;let a=1;if(t===Tye&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>Dye||r!==k2||n<8||n>15||t<0||t>9||i<0||i>Lye||n===8&&a!==1)return nh(e,wl);n===8&&(n=9);const l=new Xye;return e.state=l,l.strm=e,l.status=vm,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+pr-1)/pr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=r,kV(e)},t1e=(e,t)=>CV(e,t,k2,Fye,$ye,Mye),r1e=(e,t)=>{if(fy(e)||t>uL||t<0)return e?nh(e,wl):wl;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===sv&&t!==Ia)return nh(e,e.avail_out===0?eS:wl);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(na(e),e.avail_out===0)return r.last_flush=-1,Ws}else if(e.avail_in===0&&hL(t)<=hL(n)&&t!==Ia)return nh(e,eS);if(r.status===sv&&e.avail_in!==0)return nh(e,eS);if(r.status===vm&&r.wrap===0&&(r.status=rh),r.status===vm){let s=k2+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=H1||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=Hye),s+=31-s%31,qg(r,s),r.strstart!==0&&(qg(r,e.adler>>>16),qg(r,e.adler&65535)),e.adler=1,r.status=rh,na(e),r.pending!==0)return r.last_flush=-1,Ws}if(r.status===MA){if(e.adler=0,Lr(r,31),Lr(r,139),Lr(r,8),r.gzhead)Lr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Lr(r,r.gzhead.time&255),Lr(r,r.gzhead.time>>8&255),Lr(r,r.gzhead.time>>16&255),Lr(r,r.gzhead.time>>24&255),Lr(r,r.level===9?2:r.strategy>=H1||r.level<2?4:0),Lr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Lr(r,r.gzhead.extra.length&255),Lr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=As(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=hk;else if(Lr(r,0),Lr(r,0),Lr(r,0),Lr(r,0),Lr(r,0),Lr(r,r.level===9?2:r.strategy>=H1||r.level<2?4:0),Lr(r,Gye),r.status=rh,na(e),r.pending!==0)return r.last_flush=-1,Ws}if(r.status===hk){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=l,na(e),r.pending!==0)return r.last_flush=-1,Ws;s=0,i-=l}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=fk}if(r.status===fk){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),na(e),r.pending!==0)return r.last_flush=-1,Ws;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,Lr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=pk}if(r.status===pk){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),na(e),r.pending!==0)return r.last_flush=-1,Ws;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,Lr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s))}r.status=mk}if(r.status===mk){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(na(e),r.pending!==0))return r.last_flush=-1,Ws;Lr(r,e.adler&255),Lr(r,e.adler>>8&255),e.adler=0}if(r.status=rh,na(e),r.pending!==0)return r.last_flush=-1,Ws}if(e.avail_in!==0||r.lookahead!==0||t!==Yu&&r.status!==sv){let s=r.level===0?jV(r,t):r.strategy===H1?Qye(r,t):r.strategy===Oye?Jye(r,t):iv[r.level].func(r,t);if((s===Uh||s===Ym)&&(r.status=sv),s===ji||s===Uh)return e.avail_out===0&&(r.last_flush=-1),Ws;if(s===Gm&&(t===Eye?Cye(r):t!==uL&&(uk(r,0,0,!1),t===Aye&&(xu(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),na(e),e.avail_out===0))return r.last_flush=-1,Ws}return t!==Ia?Ws:r.wrap<=0?dL:(r.wrap===2?(Lr(r,e.adler&255),Lr(r,e.adler>>8&255),Lr(r,e.adler>>16&255),Lr(r,e.adler>>24&255),Lr(r,e.total_in&255),Lr(r,e.total_in>>8&255),Lr(r,e.total_in>>16&255),Lr(r,e.total_in>>24&255)):(qg(r,e.adler>>>16),qg(r,e.adler&65535)),na(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ws:dL)},n1e=e=>{if(fy(e))return wl;const t=e.state.status;return e.state=null,t===rh?nh(e,Pye):Ws},s1e=(e,t)=>{let r=t.length;if(fy(e))return wl;const n=e.state,s=n.wrap;if(s===2||s===1&&n.status!==vm||n.lookahead)return wl;if(s===1&&(e.adler=m0(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){s===0&&(xu(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const i=e.avail_in,a=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,ym(n);n.lookahead>=pr;){let c=n.strstart,u=n.lookahead-(pr-1);do n.ins_h=Ku(n,n.ins_h,n.window[c+pr-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=pr-1,ym(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=pr-1,n.match_available=0,e.next_in=a,e.input=l,e.avail_in=i,n.wrap=s,Ws};var i1e=t1e,a1e=CV,o1e=kV,l1e=NV,c1e=e1e,u1e=r1e,d1e=n1e,h1e=s1e,f1e="pako deflate (from Nodeca project)",Nv={deflateInit:i1e,deflateInit2:a1e,deflateReset:o1e,deflateResetKeep:l1e,deflateSetHeader:c1e,deflate:u1e,deflateEnd:d1e,deflateSetDictionary:h1e,deflateInfo:f1e};const p1e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var m1e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)p1e(r,n)&&(e[n]=r[n])}}return e},g1e=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let a=e[n];r.set(a,s),s+=a.length}return r},C2={assign:m1e,flattenChunks:g1e};let EV=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{EV=!1}const g0=new Uint8Array(256);for(let e=0;e<256;e++)g0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;g0[254]=g0[254]=1;var v1e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,a=e.length,l=0;for(s=0;s<a;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const y1e=(e,t)=>{if(t<65534&&e.subarray&&EV)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var x1e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let a=e[n++];if(a<128){i[s++]=a;continue}let l=g0[a];if(l>4){i[s++]=65533,n+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&n<r;)a=a<<6|e[n++]&63,l--;if(l>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return y1e(i,s)},w1e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+g0[e[r]]>t?r:t},v0={string2buf:v1e,buf2string:x1e,utf8border:w1e};function b1e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var AV=b1e;const PV=Object.prototype.toString,{Z_NO_FLUSH:_1e,Z_SYNC_FLUSH:S1e,Z_FULL_FLUSH:j1e,Z_FINISH:N1e,Z_OK:tb,Z_STREAM_END:k1e,Z_DEFAULT_COMPRESSION:C1e,Z_DEFAULT_STRATEGY:E1e,Z_DEFLATED:A1e}=hy;function IA(e){this.options=C2.assign({level:C1e,method:A1e,chunkSize:16384,windowBits:15,memLevel:8,strategy:E1e},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new AV,this.strm.avail_out=0;let r=Nv.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==tb)throw new Error(gm[r]);if(t.header&&Nv.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=v0.string2buf(t.dictionary):PV.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Nv.deflateSetDictionary(this.strm,n),r!==tb)throw new Error(gm[r]);this._dict_set=!0}}IA.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?N1e:_1e,typeof e=="string"?r.input=v0.string2buf(e):PV.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===S1e||i===j1e)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=Nv.deflate(r,i),s===k1e)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=Nv.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===tb;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};IA.prototype.onData=function(e){this.chunks.push(e)};IA.prototype.onEnd=function(e){e===tb&&(this.result=C2.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const G1=16209,P1e=16191;var T1e=function(t,r){let n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,w,S,k,T,R,L,D,M,G;const A=t.state;n=t.next_in,M=t.input,s=n+(t.avail_in-5),i=t.next_out,G=t.output,a=i-(r-t.avail_out),l=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,h=A.wnext,p=A.window,f=A.hold,v=A.bits,m=A.lencode,x=A.distcode,g=(1<<A.lenbits)-1,w=(1<<A.distbits)-1;e:do{v<15&&(f+=M[n++]<<v,v+=8,f+=M[n++]<<v,v+=8),S=m[f&g];t:for(;;){if(k=S>>>24,f>>>=k,v-=k,k=S>>>16&255,k===0)G[i++]=S&65535;else if(k&16){T=S&65535,k&=15,k&&(v<k&&(f+=M[n++]<<v,v+=8),T+=f&(1<<k)-1,f>>>=k,v-=k),v<15&&(f+=M[n++]<<v,v+=8,f+=M[n++]<<v,v+=8),S=x[f&w];r:for(;;){if(k=S>>>24,f>>>=k,v-=k,k=S>>>16&255,k&16){if(R=S&65535,k&=15,v<k&&(f+=M[n++]<<v,v+=8,v<k&&(f+=M[n++]<<v,v+=8)),R+=f&(1<<k)-1,R>c){t.msg="invalid distance too far back",A.mode=G1;break e}if(f>>>=k,v-=k,k=i-a,R>k){if(k=R-k,k>d&&A.sane){t.msg="invalid distance too far back",A.mode=G1;break e}if(L=0,D=p,h===0){if(L+=u-k,k<T){T-=k;do G[i++]=p[L++];while(--k);L=i-R,D=G}}else if(h<k){if(L+=u+h-k,k-=h,k<T){T-=k;do G[i++]=p[L++];while(--k);if(L=0,h<T){k=h,T-=k;do G[i++]=p[L++];while(--k);L=i-R,D=G}}}else if(L+=h-k,k<T){T-=k;do G[i++]=p[L++];while(--k);L=i-R,D=G}for(;T>2;)G[i++]=D[L++],G[i++]=D[L++],G[i++]=D[L++],T-=3;T&&(G[i++]=D[L++],T>1&&(G[i++]=D[L++]))}else{L=i-R;do G[i++]=G[L++],G[i++]=G[L++],G[i++]=G[L++],T-=3;while(T>2);T&&(G[i++]=G[L++],T>1&&(G[i++]=G[L++]))}}else if(k&64){t.msg="invalid distance code",A.mode=G1;break e}else{S=x[(S&65535)+(f&(1<<k)-1)];continue r}break}}else if(k&64)if(k&32){A.mode=P1e;break e}else{t.msg="invalid literal/length code",A.mode=G1;break e}else{S=m[(S&65535)+(f&(1<<k)-1)];continue t}break}}while(n<s&&i<l);T=v>>3,n-=T,v-=T<<3,f&=(1<<v)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<l?257+(l-i):257-(i-l),A.hold=f,A.bits=v};const Mf=15,fL=852,pL=592,mL=0,rS=1,gL=2,R1e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),O1e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),L1e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),M1e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),I1e=(e,t,r,n,s,i,a,l)=>{const c=l.bits;let u=0,d=0,h=0,p=0,f=0,v=0,m=0,x=0,g=0,w=0,S,k,T,R,L,D=null,M;const G=new Uint16Array(Mf+1),A=new Uint16Array(Mf+1);let I=null,$,q,te;for(u=0;u<=Mf;u++)G[u]=0;for(d=0;d<n;d++)G[t[r+d]]++;for(f=c,p=Mf;p>=1&&G[p]===0;p--);if(f>p&&(f=p),p===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&G[h]===0;h++);for(f<h&&(f=h),x=1,u=1;u<=Mf;u++)if(x<<=1,x-=G[u],x<0)return-1;if(x>0&&(e===mL||p!==1))return-1;for(A[1]=0,u=1;u<Mf;u++)A[u+1]=A[u]+G[u];for(d=0;d<n;d++)t[r+d]!==0&&(a[A[t[r+d]]++]=d);if(e===mL?(D=I=a,M=20):e===rS?(D=R1e,I=O1e,M=257):(D=L1e,I=M1e,M=0),w=0,d=0,u=h,L=i,v=f,m=0,T=-1,g=1<<f,R=g-1,e===rS&&g>fL||e===gL&&g>pL)return 1;for(;;){$=u-m,a[d]+1<M?(q=0,te=a[d]):a[d]>=M?(q=I[a[d]-M],te=D[a[d]-M]):(q=96,te=0),S=1<<u-m,k=1<<v,h=k;do k-=S,s[L+(w>>m)+k]=$<<24|q<<16|te|0;while(k!==0);for(S=1<<u-1;w&S;)S>>=1;if(S!==0?(w&=S-1,w+=S):w=0,d++,--G[u]===0){if(u===p)break;u=t[r+a[d]]}if(u>f&&(w&R)!==T){for(m===0&&(m=f),L+=h,v=u-m,x=1<<v;v+m<p&&(x-=G[v+m],!(x<=0));)v++,x<<=1;if(g+=1<<v,e===rS&&g>fL||e===gL&&g>pL)return 1;T=w&R,s[T]=f<<24|v<<16|L-i|0}}return w!==0&&(s[L+w]=u-m<<24|64<<16|0),l.bits=f,0};var kv=I1e;const D1e=0,TV=1,RV=2,{Z_FINISH:vL,Z_BLOCK:F1e,Z_TREES:Y1,Z_OK:qh,Z_STREAM_END:$1e,Z_NEED_DICT:B1e,Z_STREAM_ERROR:Qa,Z_DATA_ERROR:OV,Z_MEM_ERROR:LV,Z_BUF_ERROR:U1e,Z_DEFLATED:yL}=hy,E2=16180,xL=16181,wL=16182,bL=16183,_L=16184,SL=16185,jL=16186,NL=16187,kL=16188,CL=16189,rb=16190,Kl=16191,nS=16192,EL=16193,sS=16194,AL=16195,PL=16196,TL=16197,RL=16198,K1=16199,J1=16200,OL=16201,LL=16202,ML=16203,IL=16204,DL=16205,iS=16206,FL=16207,$L=16208,jn=16209,MV=16210,IV=16211,q1e=852,z1e=592,V1e=15,W1e=V1e,BL=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function H1e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const af=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<E2||t.mode>IV?1:0},DV=e=>{if(af(e))return Qa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=E2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(q1e),t.distcode=t.distdyn=new Int32Array(z1e),t.sane=1,t.back=-1,qh},FV=e=>{if(af(e))return Qa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,DV(e)},$V=(e,t)=>{let r;if(af(e))return Qa;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Qa:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,FV(e))},BV=(e,t)=>{if(!e)return Qa;const r=new H1e;e.state=r,r.strm=e,r.window=null,r.mode=E2;const n=$V(e,t);return n!==qh&&(e.state=null),n},G1e=e=>BV(e,W1e);let UL=!0,aS,oS;const Y1e=e=>{if(UL){aS=new Int32Array(512),oS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(kv(TV,e.lens,0,288,aS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;kv(RV,e.lens,0,32,oS,0,e.work,{bits:5}),UL=!1}e.lencode=aS,e.lenbits=9,e.distcode=oS,e.distbits=5},UV=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},K1e=(e,t)=>{let r,n,s,i,a,l,c,u,d,h,p,f,v,m,x=0,g,w,S,k,T,R,L,D;const M=new Uint8Array(4);let G,A;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(af(e)||!e.output||!e.input&&e.avail_in!==0)return Qa;r=e.state,r.mode===Kl&&(r.mode=nS),a=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,h=l,p=c,D=qh;e:for(;;)switch(r.mode){case E2:if(r.wrap===0){r.mode=nS;break}for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,M[0]=u&255,M[1]=u>>>8&255,r.check=As(r.check,M,2,0),u=0,d=0,r.mode=xL;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=jn;break}if((u&15)!==yL){e.msg="unknown compression method",r.mode=jn;break}if(u>>>=4,d-=4,L=(u&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){e.msg="invalid window size",r.mode=jn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?CL:Kl,u=0,d=0;break;case xL:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==yL){e.msg="unknown compression method",r.mode=jn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=jn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,r.check=As(r.check,M,2,0)),u=0,d=0,r.mode=wL;case wL:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,M[2]=u>>>16&255,M[3]=u>>>24&255,r.check=As(r.check,M,4,0)),u=0,d=0,r.mode=bL;case bL:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,r.check=As(r.check,M,2,0)),u=0,d=0,r.mode=_L;case _L:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,r.check=As(r.check,M,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=SL;case SL:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+f),L)),r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,f,i)),l-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=jL;case jL:if(r.flags&2048){if(l===0)break e;f=0;do L=n[i+f++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,f,i)),l-=f,i+=f,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=NL;case NL:if(r.flags&4096){if(l===0)break e;f=0;do L=n[i+f++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,f,i)),l-=f,i+=f,L)break e}else r.head&&(r.head.comment=null);r.mode=kL;case kL:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=jn;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Kl;break;case CL:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}e.adler=r.check=BL(u),u=0,d=0,r.mode=rb;case rb:if(r.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,B1e;e.adler=r.check=1,r.mode=Kl;case Kl:if(t===F1e||t===Y1)break e;case nS:if(r.last){u>>>=d&7,d-=d&7,r.mode=iS;break}for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=EL;break;case 1:if(Y1e(r),r.mode=K1,t===Y1){u>>>=2,d-=2;break e}break;case 2:r.mode=PL;break;case 3:e.msg="invalid block type",r.mode=jn}u>>>=2,d-=2;break;case EL:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=jn;break}if(r.length=u&65535,u=0,d=0,r.mode=sS,t===Y1)break e;case sS:r.mode=AL;case AL:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;s.set(n.subarray(i,i+f),a),l-=f,i+=f,c-=f,a+=f,r.length-=f;break}r.mode=Kl;break;case PL:for(;d<14;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=jn;break}r.have=0,r.mode=TL;case TL:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.lens[I[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},D=kv(D1e,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,D){e.msg="invalid code lengths set",r.mode=jn;break}r.have=0,r.mode=RL;case RL:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[u&(1<<r.lenbits)-1],g=x>>>24,w=x>>>16&255,S=x&65535,!(g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(S<16)u>>>=g,d-=g,r.lens[r.have++]=S;else{if(S===16){for(A=g+2;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(u>>>=g,d-=g,r.have===0){e.msg="invalid bit length repeat",r.mode=jn;break}L=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(S===17){for(A=g+3;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=g,d-=g,L=0,f=3+(u&7),u>>>=3,d-=3}else{for(A=g+7;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=g,d-=g,L=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=jn;break}for(;f--;)r.lens[r.have++]=L}}if(r.mode===jn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=jn;break}if(r.lenbits=9,G={bits:r.lenbits},D=kv(TV,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,D){e.msg="invalid literal/lengths set",r.mode=jn;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},D=kv(RV,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,D){e.msg="invalid distances set",r.mode=jn;break}if(r.mode=K1,t===Y1)break e;case K1:r.mode=J1;case J1:if(l>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,T1e(e,p),a=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===Kl&&(r.back=-1);break}for(r.back=0;x=r.lencode[u&(1<<r.lenbits)-1],g=x>>>24,w=x>>>16&255,S=x&65535,!(g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(w&&!(w&240)){for(k=g,T=w,R=S;x=r.lencode[R+((u&(1<<k+T)-1)>>k)],g=x>>>24,w=x>>>16&255,S=x&65535,!(k+g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=k,d-=k,r.back+=k}if(u>>>=g,d-=g,r.back+=g,r.length=S,w===0){r.mode=DL;break}if(w&32){r.back=-1,r.mode=Kl;break}if(w&64){e.msg="invalid literal/length code",r.mode=jn;break}r.extra=w&15,r.mode=OL;case OL:if(r.extra){for(A=r.extra;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=LL;case LL:for(;x=r.distcode[u&(1<<r.distbits)-1],g=x>>>24,w=x>>>16&255,S=x&65535,!(g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(!(w&240)){for(k=g,T=w,R=S;x=r.distcode[R+((u&(1<<k+T)-1)>>k)],g=x>>>24,w=x>>>16&255,S=x&65535,!(k+g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=k,d-=k,r.back+=k}if(u>>>=g,d-=g,r.back+=g,w&64){e.msg="invalid distance code",r.mode=jn;break}r.offset=S,r.extra=w&15,r.mode=ML;case ML:if(r.extra){for(A=r.extra;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=jn;break}r.mode=IL;case IL:if(c===0)break e;if(f=p-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=jn;break}f>r.wnext?(f-=r.wnext,v=r.wsize-f):v=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=s,v=a-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do s[a++]=m[v++];while(--f);r.length===0&&(r.mode=J1);break;case DL:if(c===0)break e;s[a++]=r.length,c--,r.mode=J1;break;case iS:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[i++]<<d,d+=8}if(p-=c,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?As(r.check,s,p,a-p):m0(r.check,s,p,a-p)),p=c,r.wrap&4&&(r.flags?u:BL(u))!==r.check){e.msg="incorrect data check",r.mode=jn;break}u=0,d=0}r.mode=FL;case FL:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=jn;break}u=0,d=0}r.mode=$L;case $L:D=$1e;break e;case jn:D=OV;break e;case MV:return LV;case IV:default:return Qa}return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||p!==e.avail_out&&r.mode<jn&&(r.mode<iS||t!==vL))&&UV(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?As(r.check,s,p,e.next_out-p):m0(r.check,s,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Kl?128:0)+(r.mode===K1||r.mode===sS?256:0),(h===0&&p===0||t===vL)&&D===qh&&(D=U1e),D},J1e=e=>{if(af(e))return Qa;let t=e.state;return t.window&&(t.window=null),e.state=null,qh},Q1e=(e,t)=>{if(af(e))return Qa;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,qh):Qa},Z1e=(e,t)=>{const r=t.length;let n,s,i;return af(e)||(n=e.state,n.wrap!==0&&n.mode!==rb)?Qa:n.mode===rb&&(s=1,s=m0(s,t,r,0),s!==n.check)?OV:(i=UV(e,t,r,r),i?(n.mode=MV,LV):(n.havedict=1,qh))};var X1e=FV,exe=$V,txe=DV,rxe=G1e,nxe=BV,sxe=K1e,ixe=J1e,axe=Q1e,oxe=Z1e,lxe="pako inflate (from Nodeca project)",sc={inflateReset:X1e,inflateReset2:exe,inflateResetKeep:txe,inflateInit:rxe,inflateInit2:nxe,inflate:sxe,inflateEnd:ixe,inflateGetHeader:axe,inflateSetDictionary:oxe,inflateInfo:lxe};function cxe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uxe=cxe;const qV=Object.prototype.toString,{Z_NO_FLUSH:dxe,Z_FINISH:hxe,Z_OK:y0,Z_STREAM_END:lS,Z_NEED_DICT:cS,Z_STREAM_ERROR:fxe,Z_DATA_ERROR:qL,Z_MEM_ERROR:pxe}=hy;function py(e){this.options=C2.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new AV,this.strm.avail_out=0;let r=sc.inflateInit2(this.strm,t.windowBits);if(r!==y0)throw new Error(gm[r]);if(this.header=new uxe,sc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=v0.string2buf(t.dictionary):qV.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=sc.inflateSetDictionary(this.strm,t.dictionary),r!==y0)))throw new Error(gm[r])}py.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,l;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?hxe:dxe,qV.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=sc.inflate(r,a),i===cS&&s&&(i=sc.inflateSetDictionary(r,s),i===y0?i=sc.inflate(r,a):i===qL&&(i=cS));r.avail_in>0&&i===lS&&r.state.wrap>0&&e[r.next_in]!==0;)sc.inflateReset(r),i=sc.inflate(r,a);switch(i){case fxe:case qL:case cS:case pxe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===lS))if(this.options.to==="string"){let c=v0.utf8border(r.output,r.next_out),u=r.next_out-c,d=v0.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===y0&&l===0)){if(i===lS)return i=sc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};py.prototype.onData=function(e){this.chunks.push(e)};py.prototype.onEnd=function(e){e===y0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=C2.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function DA(e,t){const r=new py(t);if(r.push(e),r.err)throw r.msg||gm[r.err];return r.result}function mxe(e,t){return t=t||{},t.raw=!0,DA(e,t)}var gxe=py,vxe=DA,yxe=mxe,xxe=DA,wxe=hy,bxe={Inflate:gxe,inflate:vxe,inflateRaw:yxe,ungzip:xxe,constants:wxe};const{Inflate:_xe,inflate:Sxe,inflateRaw:Bbe,ungzip:Ube}=bxe;var zL=_xe,jxe=Sxe;const zV=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;zV[e]=t}const VL=4294967295;function Nxe(e,t,r){let n=e;for(let s=0;s<r;s++)n=zV[(n^t[s])&255]^n>>>8;return n}function kxe(e,t){return(Nxe(VL,e,t)^VL)>>>0}function WL(e,t,r){const n=e.readUint32(),s=kxe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function VV(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function WV(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function HV(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function GV(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function YV(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+Cxe(t[i-s],r[i],r[i-s])&255}}function Cxe(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),a=Math.abs(n-r);return s<=i&&s<=a?e:i<=a?t:r}function Exe(e,t,r,n,s,i){switch(e){case 0:VV(t,r,s);break;case 1:WV(t,r,s,i);break;case 2:HV(t,r,n,s);break;case 3:GV(t,r,n,s,i);break;case 4:YV(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Axe=new Uint16Array([255]),Pxe=new Uint8Array(Axe.buffer),Txe=Pxe[0]===255;function Rxe(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const h=a[d],p=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(p<=0||f<=0)continue;const v=p*l,m=new Uint8Array(v);for(let x=0;x<f;x++){const g=t[u++],w=t.subarray(u,u+v);u+=v;const S=new Uint8Array(v);Exe(g,w,S,m,v,l),m.set(S);for(let k=0;k<p;k++){const T=h.x+k*h.xStep,R=h.y+x*h.yStep;if(!(T>=r||R>=n))for(let L=0;L<l;L++)c[(R*r+T)*l+L]=S[k*l+L]}}}if(i===16){const d=new Uint16Array(c.buffer);if(Txe)for(let h=0;h<d.length;h++)d[h]=Oxe(d[h]);return d}else return c}function Oxe(e){return(e&255)<<8|e>>8&255}const Lxe=new Uint16Array([255]),Mxe=new Uint8Array(Lxe.buffer),Ixe=Mxe[0]===255,Dxe=new Uint8Array(0);function HL(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),c=new Uint8Array(n*l);let u=Dxe,d=0,h,p;for(let f=0;f<n;f++){switch(h=t.subarray(d+1,d+1+l),p=c.subarray(f*l,(f+1)*l),t[d]){case 0:VV(h,p,l);break;case 1:WV(h,p,l,a);break;case 2:HV(h,p,u,l);break;case 3:GV(h,p,u,l,a);break;case 4:YV(h,p,u,l,a);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=p,d+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(Ixe)for(let v=0;v<f.length;v++)f[v]=Fxe(f[v]);return f}else return c}function Fxe(e){return(e&255)<<8|e>>8&255}const Lx=Uint8Array.of(137,80,78,71,13,10,26,10);function GL(e){if(!$xe(e.readBytes(Lx.length)))throw new Error("wrong PNG signature")}function $xe(e){if(e.length<Lx.length)return!1;for(let t=0;t<Lx.length;t++)if(e[t]!==Lx[t])return!1;return!0}const Bxe="tEXt",Uxe=0,KV=new TextDecoder("latin1");function qxe(e){if(Vxe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const zxe=/^[\u0000-\u00FF]*$/;function Vxe(e){if(!zxe.test(e))throw new Error("invalid latin1 text")}function Wxe(e,t,r){const n=JV(t);e[n]=Hxe(t,r-n.length-1)}function JV(e){for(e.mark();e.readByte()!==Uxe;);const t=e.offset;e.reset();const r=KV.decode(e.readBytes(t-e.offset-1));return e.skip(1),qxe(r),r}function Hxe(e,t){return KV.decode(e.readBytes(t))}const ta={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},uS={UNKNOWN:-1,DEFLATE:0},YL={UNKNOWN:-1,ADAPTIVE:0},dS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Q1={NONE:0,BACKGROUND:1,PREVIOUS:2},hS={SOURCE:0,OVER:1};class Gxe extends PA{constructor(r,n={}){super(r);rt(this,"_checkCrc");rt(this,"_inflator");rt(this,"_png");rt(this,"_apng");rt(this,"_end");rt(this,"_hasPalette");rt(this,"_palette");rt(this,"_hasTransparency");rt(this,"_transparency");rt(this,"_compressionMethod");rt(this,"_filterMethod");rt(this,"_interlaceMethod");rt(this,"_colorType");rt(this,"_isAnimated");rt(this,"_numberOfFrames");rt(this,"_numberOfPlays");rt(this,"_frames");rt(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new zL,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=uS.UNKNOWN,this._filterMethod=YL.UNKNOWN,this._interlaceMethod=dS.UNKNOWN,this._colorType=ta.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(GL(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(GL(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Bxe:Wxe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?WL(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?WL(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Yxe(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case ta.GREYSCALE:s=1;break;case ta.TRUECOLOUR:s=3;break;case ta.INDEXED_COLOUR:s=1;break;case ta.GREYSCALE_ALPHA:s=2;break;case ta.TRUECOLOUR_ALPHA:s=4;break;case ta.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==uS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ta.GREYSCALE:case ta.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ta.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ta.UNKNOWN:case ta.GREYSCALE_ALPHA:case ta.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=JV(this),s=this.readUint8();if(s!==uS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:jxe(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=HL({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case Q1.NONE:break;case Q1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const l=(i*r.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case Q1.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(a,l)=>{const c=((a+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(a*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case hS.SOURCE:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(a,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case hS.OVER:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(a,l);for(let d=0;d<this._png.channels;d++){const h=n.data[u+this._png.channels-1]/s,p=d%(this._png.channels-1)===0?1:n.data[u+d],f=Math.floor(h*p+(1-h)*r.data[c+d]);r.data[c+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==YL.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===dS.NO_INTERLACE)this._png.data=HL({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===dS.ADAM7)this._png.data=Rxe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Q1.NONE,blendOp:hS.SOURCE,data:r}),this._inflator=new zL,this._writingDataChunks=!1}}function Yxe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var KL;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(KL||(KL={}));function Kxe(e,t){return new Gxe(e,t).decode()}var qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function fS(){qt.console&&typeof qt.console.log=="function"&&qt.console.log.apply(qt.console,arguments)}var nn={log:fS,warn:function(e){qt.console&&(typeof qt.console.warn=="function"?qt.console.warn.apply(qt.console,arguments):fS.call(null,arguments))},error:function(e){qt.console&&(typeof qt.console.error=="function"?qt.console.error.apply(qt.console,arguments):fS(e))}};function pS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Wd(n.response,t,r)},n.onerror=function(){nn.error("could not download file")},n.send()}function JL(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Z1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Wd=qt.saveAs||((typeof window>"u"?"undefined":Yr(window))!=="object"||window!==qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=qt.URL||qt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?JL(s.href)?pS(e,t,r):Z1(s,s.target="_blank"):Z1(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Z1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(JL(e))pS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Z1(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Yr(i)!=="object"&&(nn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return pS(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(qt.HTMLElement)||qt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Yr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=qt.URL||qt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function QV(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Mx=qt.atob.bind(qt),QL=qt.btoa.bind(qt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function mS(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=Xs(r,n,s,i,t[0],7,-680876936),i=Xs(i,r,n,s,t[1],12,-389564586),s=Xs(s,i,r,n,t[2],17,606105819),n=Xs(n,s,i,r,t[3],22,-1044525330),r=Xs(r,n,s,i,t[4],7,-176418897),i=Xs(i,r,n,s,t[5],12,1200080426),s=Xs(s,i,r,n,t[6],17,-1473231341),n=Xs(n,s,i,r,t[7],22,-45705983),r=Xs(r,n,s,i,t[8],7,1770035416),i=Xs(i,r,n,s,t[9],12,-1958414417),s=Xs(s,i,r,n,t[10],17,-42063),n=Xs(n,s,i,r,t[11],22,-1990404162),r=Xs(r,n,s,i,t[12],7,1804603682),i=Xs(i,r,n,s,t[13],12,-40341101),s=Xs(s,i,r,n,t[14],17,-1502002290),r=ei(r,n=Xs(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=ei(i,r,n,s,t[6],9,-1069501632),s=ei(s,i,r,n,t[11],14,643717713),n=ei(n,s,i,r,t[0],20,-373897302),r=ei(r,n,s,i,t[5],5,-701558691),i=ei(i,r,n,s,t[10],9,38016083),s=ei(s,i,r,n,t[15],14,-660478335),n=ei(n,s,i,r,t[4],20,-405537848),r=ei(r,n,s,i,t[9],5,568446438),i=ei(i,r,n,s,t[14],9,-1019803690),s=ei(s,i,r,n,t[3],14,-187363961),n=ei(n,s,i,r,t[8],20,1163531501),r=ei(r,n,s,i,t[13],5,-1444681467),i=ei(i,r,n,s,t[2],9,-51403784),s=ei(s,i,r,n,t[7],14,1735328473),r=ti(r,n=ei(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=ti(i,r,n,s,t[8],11,-2022574463),s=ti(s,i,r,n,t[11],16,1839030562),n=ti(n,s,i,r,t[14],23,-35309556),r=ti(r,n,s,i,t[1],4,-1530992060),i=ti(i,r,n,s,t[4],11,1272893353),s=ti(s,i,r,n,t[7],16,-155497632),n=ti(n,s,i,r,t[10],23,-1094730640),r=ti(r,n,s,i,t[13],4,681279174),i=ti(i,r,n,s,t[0],11,-358537222),s=ti(s,i,r,n,t[3],16,-722521979),n=ti(n,s,i,r,t[6],23,76029189),r=ti(r,n,s,i,t[9],4,-640364487),i=ti(i,r,n,s,t[12],11,-421815835),s=ti(s,i,r,n,t[15],16,530742520),r=ri(r,n=ti(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=ri(i,r,n,s,t[7],10,1126891415),s=ri(s,i,r,n,t[14],15,-1416354905),n=ri(n,s,i,r,t[5],21,-57434055),r=ri(r,n,s,i,t[12],6,1700485571),i=ri(i,r,n,s,t[3],10,-1894986606),s=ri(s,i,r,n,t[10],15,-1051523),n=ri(n,s,i,r,t[1],21,-2054922799),r=ri(r,n,s,i,t[8],6,1873313359),i=ri(i,r,n,s,t[15],10,-30611744),s=ri(s,i,r,n,t[6],15,-1560198380),n=ri(n,s,i,r,t[13],21,1309151649),r=ri(r,n,s,i,t[4],6,-145523070),i=ri(i,r,n,s,t[11],10,-1120210379),s=ri(s,i,r,n,t[2],15,718787259),n=ri(n,s,i,r,t[9],21,-343485551),e[0]=Lu(r,e[0]),e[1]=Lu(n,e[1]),e[2]=Lu(s,e[2]),e[3]=Lu(i,e[3])}function A2(e,t,r,n,s,i){return t=Lu(Lu(t,e),Lu(n,i)),Lu(t<<s|t>>>32-s,r)}function Xs(e,t,r,n,s,i,a){return A2(t&r|~t&n,e,t,s,i,a)}function ei(e,t,r,n,s,i,a){return A2(t&n|r&~n,e,t,s,i,a)}function ti(e,t,r,n,s,i,a){return A2(t^r^n,e,t,s,i,a)}function ri(e,t,r,n,s,i,a){return A2(r^(t|~n),e,t,s,i,a)}function ZV(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)mS(n,Jxe(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(mS(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,mS(n,s),n}function Jxe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var ZL="0123456789abcdef".split("");function Qxe(e){for(var t="",r=0;r<4;r++)t+=ZL[e>>8*r+4&15]+ZL[e>>8*r&15];return t}function Zxe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function vk(e){return ZV(e).map(Zxe).join("")}var Xxe=function(e){for(var t=0;t<e.length;t++)e[t]=Qxe(e[t]);return e.join("")}(ZV("hello"))!="5d41402abc4b2a76b9719d911017c592";function Lu(e,t){if(Xxe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yk(e,t){var r,n,s,i;if(e!==r){for(var a=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+a.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var h=t.length,p=0,f=0,v="";for(c=0;c<h;c++)f=(f+(d=l[p=(p+1)%256]))%256,l[p]=l[f],l[f]=d,a=l[(l[p]+l[f])%256],v+=String.fromCharCode(t.charCodeAt(c)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var XL={print:4,modify:8,copy:16,"annot-forms":32};function zf(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(XL.perm!==void 0)throw new Error("Invalid permission: "+l);s+=XL[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=vk(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=yk(this.encryptionKey,this.padding)}function Vf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function eM(e){if(Yr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var a=t[r][i];try{a[0].apply(e,n)}catch(l){qt.console&&nn.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function nb(e){if(!(this instanceof nb))return new nb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function XV(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Yd(e,t,r,n,s){if(!(this instanceof Yd))return new Yd(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,XV.call(this,n,s)}function ap(e,t,r,n,s){if(!(this instanceof ap))return new ap(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,XV.call(this,n,s)}function Ct(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,c=16,u="S",d=null;Yr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=eM;var v="1.3",m=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(N){v=N};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var g=f.__private__.getPageFormat=function(N){return x[N]};s=s||"a4";var w="compat",S="advanced",k=w;function T(){this.saveGraphicsState(),Q(new mt(bt,0,0,-bt,0,jd()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),u="n",k=S}function R(){this.restoreGraphicsState(),u="S",k=w}var L=f.__private__.combineFontStyleAndFontWeight=function(N,z){if(N=="bold"&&z=="normal"||N=="bold"&&z==400||N=="normal"&&z=="italic"||N=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(N=z==400||z==="normal"?N==="italic"?"italic":"normal":z!=700&&z!=="bold"||N!=="normal"?(z==700?"bold":z)+""+N:"bold"),N};f.advancedAPI=function(N){var z=k===w;return z&&T.call(this),typeof N!="function"||(N(this),z&&R.call(this)),this},f.compatAPI=function(N){var z=k===S;return z&&R.call(this),typeof N!="function"||(N(this),z&&T.call(this)),this},f.isAdvancedAPI=function(){return k===S};var D,M=function(N){if(k!==S)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=f.roundToPrecision=f.__private__.roundToPrecision=function(N,z){var oe=t||z;if(isNaN(N)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(oe).replace(/0+$/,"")};D=f.hpf=f.__private__.hpf=typeof c=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,c)}:c==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,16)};var A=f.f2=f.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return G(N,2)},I=f.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return G(N,3)},$=f.scale=f.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return k===w?N*bt:k===S?N:void 0},q=function(N){return $(function(z){return k===w?jd()-z:k===S?z:void 0}(N))};f.__private__.setPrecision=f.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var te,ne="00000000000000000000000000000000",re=f.__private__.getFileId=function(){return ne},W=f.__private__.setFileId=function(N){return ne=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ps=new zf(d.userPermissions,d.userPassword,d.ownerPassword,ne)),ne};f.setFileId=function(N){return W(N),this},f.getFileId=function(){return re()};var X=f.__private__.convertDateToPDFDate=function(N){var z=N.getTimezoneOffset(),oe=z<0?"+":"-",de=Math.floor(Math.abs(z/60)),xe=Math.abs(z%60),Pe=[oe,C(de),"'",C(xe),"'"].join("");return["D:",N.getFullYear(),C(N.getMonth()+1),C(N.getDate()),C(N.getHours()),C(N.getMinutes()),C(N.getSeconds()),Pe].join("")},pe=f.__private__.convertPDFDateToDate=function(N){var z=parseInt(N.substr(2,4),10),oe=parseInt(N.substr(6,2),10)-1,de=parseInt(N.substr(8,2),10),xe=parseInt(N.substr(10,2),10),Pe=parseInt(N.substr(12,2),10),Fe=parseInt(N.substr(14,2),10);return new Date(z,oe,de,xe,Pe,Fe,0)},ge=f.__private__.setCreationDate=function(N){var z;if(N===void 0&&(N=new Date),N instanceof Date)z=X(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=N}return te=z},U=f.__private__.getCreationDate=function(N){var z=te;return N==="jsDate"&&(z=pe(te)),z};f.setCreationDate=function(N){return ge(N),this},f.getCreationDate=function(N){return U(N)};var b,C=f.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},E=f.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},B=0,F=[],Z=[],se=0,le=[],ue=[],fe=!1,be=Z;f.__private__.setCustomOutputDestination=function(N){fe=!0,be=N};var Ie=function(N){fe||(be=N)};f.__private__.resetCustomOutputDestination=function(){fe=!1,be=Z};var Q=f.__private__.out=function(N){return N=N.toString(),se+=N.length+1,be.push(N),be},De=f.__private__.write=function(N){return Q(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Ye=f.__private__.getArrayBuffer=function(N){for(var z=N.length,oe=new ArrayBuffer(z),de=new Uint8Array(oe);z--;)de[z]=N.charCodeAt(z);return oe},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ke};var Ne=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(N){return Ne=k===S?N/bt:N,this};var K,ce=f.__private__.getFontSize=f.getFontSize=function(){return k===w?Ne:Ne*bt},ve=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(N){return ve=N,this},f.__private__.getR2L=f.getR2L=function(){return ve};var je,Oe=f.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))K=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');K=N}else K=parseInt(N,10)};f.__private__.getZoomMode=function(){return K};var ke,Le=f.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');je=N};f.__private__.getPageMode=function(){return je};var Xe=f.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');ke=N};f.__private__.getLayoutMode=function(){return ke},f.__private__.setDisplayMode=f.setDisplayMode=function(N,z,oe){return Oe(N),Xe(z),Le(oe),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(N){if(Object.keys(at).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[N]},f.__private__.getDocumentProperties=function(){return at},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(N){for(var z in at)at.hasOwnProperty(z)&&N[z]&&(at[z]=N[z]);return this},f.__private__.setDocumentProperty=function(N,z){if(Object.keys(at).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[N]=z};var Qe,bt,tt,Fr,Vt,Ot={},Wt={},lr=[],_t={},_r={},At={},Dt={},Ur=null,Yt=0,pt=[],mr=new eM(f),Pt=e.hotfixes||[],Ft={},cr={},Dn=[],mt=function N(z,oe,de,xe,Pe,Fe){if(!(this instanceof N))return new N(z,oe,de,xe,Pe,Fe);isNaN(z)&&(z=1),isNaN(oe)&&(oe=0),isNaN(de)&&(de=0),isNaN(xe)&&(xe=1),isNaN(Pe)&&(Pe=0),isNaN(Fe)&&(Fe=0),this._matrix=[z,oe,de,xe,Pe,Fe]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(N)},mt.prototype.multiply=function(N){var z=N.sx*this.sx+N.shy*this.shx,oe=N.sx*this.shy+N.shy*this.sy,de=N.shx*this.sx+N.sy*this.shx,xe=N.shx*this.shy+N.sy*this.sy,Pe=N.tx*this.sx+N.ty*this.shx+this.tx,Fe=N.tx*this.shy+N.ty*this.sy+this.ty;return new mt(z,oe,de,xe,Pe,Fe)},mt.prototype.decompose=function(){var N=this.sx,z=this.shy,oe=this.shx,de=this.sy,xe=this.tx,Pe=this.ty,Fe=Math.sqrt(N*N+z*z),ft=(N/=Fe)*oe+(z/=Fe)*de;oe-=N*ft,de-=z*ft;var St=Math.sqrt(oe*oe+de*de);return ft/=St,N*(de/=St)<z*(oe/=St)&&(N=-N,z=-z,ft=-ft,Fe=-Fe),{scale:new mt(Fe,0,0,St,0,0),translate:new mt(1,0,0,1,xe,Pe),rotate:new mt(N,z,-z,N,0,0),skew:new mt(1,0,ft,1,0,0)}},mt.prototype.toString=function(N){return this.join(" ")},mt.prototype.inversed=function(){var N=this.sx,z=this.shy,oe=this.shx,de=this.sy,xe=this.tx,Pe=this.ty,Fe=1/(N*de-z*oe),ft=de*Fe,St=-z*Fe,Ht=-oe*Fe,tr=N*Fe;return new mt(ft,St,Ht,tr,-ft*xe-Ht*Pe,-St*xe-tr*Pe)},mt.prototype.applyToPoint=function(N){var z=N.x*this.sx+N.y*this.shx+this.tx,oe=N.x*this.shy+N.y*this.sy+this.ty;return new Ll(z,oe)},mt.prototype.applyToRectangle=function(N){var z=this.applyToPoint(N),oe=this.applyToPoint(new Ll(N.x+N.w,N.y+N.h));return new ng(z.x,z.y,oe.x-z.x,oe.y-z.y)},mt.prototype.clone=function(){var N=this.sx,z=this.shy,oe=this.shx,de=this.sy,xe=this.tx,Pe=this.ty;return new mt(N,z,oe,de,xe,Pe)},f.Matrix=mt;var Cs=f.matrixMult=function(N,z){return z.multiply(N)},Ls=new mt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ls;var Sn=function(N,z){if(!_r[N]){var oe=(z instanceof Yd?"Sh":"P")+(Object.keys(_t).length+1).toString(10);z.id=oe,_r[N]=oe,_t[oe]=z,mr.publish("addPattern",z)}};f.ShadingPattern=Yd,f.TilingPattern=ap,f.addShadingPattern=function(N,z){return M("addShadingPattern()"),Sn(N,z),this},f.beginTilingPattern=function(N){M("beginTilingPattern()"),sg(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},f.endTilingPattern=function(N,z){M("endTilingPattern()"),z.stream=ue[b].join(`
`),Sn(N,z),mr.publish("endTilingPattern",z),Dn.pop().restore()};var Hn,Fn=f.__private__.newObject=function(){var N=Es();return Ms(N,!0),N},Es=f.__private__.newObjectDeferred=function(){return B++,F[B]=function(){return se},B},Ms=function(N,z){return z=typeof z=="boolean"&&z,F[N]=se,z&&Q(N+" 0 obj"),N},vd=f.__private__.newAdditionalObject=function(){var N={objId:Es(),content:""};return le.push(N),N},Dc=Es(),eo=Es(),Wo=f.__private__.decodeColorString=function(N){var z=N.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var oe=parseFloat(z[0]);z=[oe,oe,oe,"r"]}for(var de="#",xe=0;xe<3;xe++)de+=("0"+Math.floor(255*parseFloat(z[xe])).toString(16)).slice(-2);return de},to=f.__private__.encodeColorString=function(N){var z;typeof N=="string"&&(N={ch1:N});var oe=N.ch1,de=N.ch2,xe=N.ch3,Pe=N.ch4,Fe=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var ft=new QV(oe);if(ft.ok)oe=ft.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var St=parseInt(oe.substr(1),16);oe=St>>16&255,de=St>>8&255,xe=255&St}if(de===void 0||Pe===void 0&&oe===de&&de===xe)z=typeof oe=="string"?oe+" "+Fe[0]:N.precision===2?A(oe/255)+" "+Fe[0]:I(oe/255)+" "+Fe[0];else if(Pe===void 0||Yr(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",Fe[1]].join(" ");z=typeof oe=="string"?[oe,de,xe,Fe[1]].join(" "):N.precision===2?[A(oe/255),A(de/255),A(xe/255),Fe[1]].join(" "):[I(oe/255),I(de/255),I(xe/255),Fe[1]].join(" ")}else z=typeof oe=="string"?[oe,de,xe,Pe,Fe[2]].join(" "):N.precision===2?[A(oe),A(de),A(xe),A(Pe),Fe[2]].join(" "):[I(oe),I(de),I(xe),I(Pe),Fe[2]].join(" ");return z},ro=f.__private__.getFilters=function(){return a},Na=f.__private__.putStream=function(N){var z=(N=N||{}).data||"",oe=N.filters||ro(),de=N.alreadyAppliedFilters||[],xe=N.addLength1||!1,Pe=z.length,Fe=N.objectId,ft=function(ms){return ms};if(d!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ft=ps.encryptor(Fe,0));var St={};oe===!0&&(oe=["FlateEncode"]);var Ht=N.additionalKeyValues||[],tr=(St=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(z,oe):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(St.data.length!==0&&(Ht.push({key:"Length",value:St.data.length}),xe===!0&&Ht.push({key:"Length1",value:Pe})),tr.length!=0)if(tr.split("/").length-1==1)Ht.push({key:"Filter",value:tr});else{Ht.push({key:"Filter",value:"["+tr+"]"});for(var Sr=0;Sr<Ht.length;Sr+=1)if(Ht[Sr].key==="DecodeParms"){for(var An=[],is=0;is<St.reverseChain.split("/").length-1;is+=1)An.push("null");An.push(Ht[Sr].value),Ht[Sr].value="["+An.join(" ")+"]"}}Q("<<");for(var cn=0;cn<Ht.length;cn++)Q("/"+Ht[cn].key+" "+Ht[cn].value);Q(">>"),St.data.length!==0&&(Q("stream"),Q(ft(St.data)),Q("endstream"))},yd=f.__private__.putPage=function(N){var z=N.number,oe=N.data,de=N.objId,xe=N.contentsObjId;Ms(de,!0),Q("<</Type /Page"),Q("/Parent "+N.rootDictionaryObjId+" 0 R"),Q("/Resources "+N.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(D(N.mediaBox.bottomLeftX))+" "+parseFloat(D(N.mediaBox.bottomLeftY))+" "+D(N.mediaBox.topRightX)+" "+D(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&Q("/CropBox ["+D(N.cropBox.bottomLeftX)+" "+D(N.cropBox.bottomLeftY)+" "+D(N.cropBox.topRightX)+" "+D(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&Q("/BleedBox ["+D(N.bleedBox.bottomLeftX)+" "+D(N.bleedBox.bottomLeftY)+" "+D(N.bleedBox.topRightX)+" "+D(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&Q("/TrimBox ["+D(N.trimBox.bottomLeftX)+" "+D(N.trimBox.bottomLeftY)+" "+D(N.trimBox.topRightX)+" "+D(N.trimBox.topRightY)+"]"),N.artBox!==null&&Q("/ArtBox ["+D(N.artBox.bottomLeftX)+" "+D(N.artBox.bottomLeftY)+" "+D(N.artBox.topRightX)+" "+D(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&Q("/UserUnit "+N.userUnit),mr.publish("putPage",{objId:de,pageContext:pt[z],pageNumber:z,page:oe}),Q("/Contents "+xe+" 0 R"),Q(">>"),Q("endobj");var Pe=oe.join(`
`);return k===S&&(Pe+=`
Q`),Ms(xe,!0),Na({data:Pe,filters:ro(),objectId:xe}),Q("endobj"),de},Ho=f.__private__.putPages=function(){var N,z,oe=[];for(N=1;N<=Yt;N++)pt[N].objId=Es(),pt[N].contentsObjId=Es();for(N=1;N<=Yt;N++)oe.push(yd({number:N,data:ue[N],objId:pt[N].objId,contentsObjId:pt[N].contentsObjId,mediaBox:pt[N].mediaBox,cropBox:pt[N].cropBox,bleedBox:pt[N].bleedBox,trimBox:pt[N].trimBox,artBox:pt[N].artBox,userUnit:pt[N].userUnit,rootDictionaryObjId:Dc,resourceDictionaryObjId:eo}));Ms(Dc,!0),Q("<</Type /Pages");var de="/Kids [";for(z=0;z<Yt;z++)de+=oe[z]+" 0 R ";Q(de+"]"),Q("/Count "+Yt),Q(">>"),Q("endobj"),mr.publish("postPutPages")},xd=function(N){mr.publish("putFont",{font:N,out:Q,newObject:Fn,putStream:Na}),N.isAlreadyPutted!==!0&&(N.objectNumber=Fn(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Vf(N.postScriptName)),Q("/Subtype /Type1"),typeof N.encoding=="string"&&Q("/Encoding /"+N.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},lf=function(N){N.objectNumber=Fn();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[D(N.x),D(N.y),D(N.x+N.width),D(N.y+N.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var oe=N.pages[1].join(`
`);Na({data:oe,additionalKeyValues:z,objectId:N.objectNumber}),Q("endobj")},cf=function(N,z){z||(z=21);var oe=Fn(),de=function(Fe,ft){var St,Ht=[],tr=1/(ft-1);for(St=0;St<1;St+=tr)Ht.push(St);if(Ht.push(1),Fe[0].offset!=0){var Sr={offset:0,color:Fe[0].color};Fe.unshift(Sr)}if(Fe[Fe.length-1].offset!=1){var An={offset:1,color:Fe[Fe.length-1].color};Fe.push(An)}for(var is="",cn=0,ms=0;ms<Ht.length;ms++){for(St=Ht[ms];St>Fe[cn+1].offset;)cn++;var as=Fe[cn].offset,Is=(St-as)/(Fe[cn+1].offset-as),Dl=Fe[cn].color,so=Fe[cn+1].color;is+=E(Math.round((1-Is)*Dl[0]+Is*so[0]).toString(16))+E(Math.round((1-Is)*Dl[1]+Is*so[1]).toString(16))+E(Math.round((1-Is)*Dl[2]+Is*so[2]).toString(16))}return is.trim()}(N.colors,z),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+z+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Na({data:de,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),Q("endobj"),N.objectNumber=Fn(),Q("<< /ShadingType "+N.type),Q("/ColorSpace /DeviceRGB");var Pe="/Coords ["+D(parseFloat(N.coords[0]))+" "+D(parseFloat(N.coords[1]))+" ";N.type===2?Pe+=D(parseFloat(N.coords[2]))+" "+D(parseFloat(N.coords[3])):Pe+=D(parseFloat(N.coords[2]))+" "+D(parseFloat(N.coords[3]))+" "+D(parseFloat(N.coords[4]))+" "+D(parseFloat(N.coords[5])),Q(Pe+="]"),N.matrix&&Q("/Matrix ["+N.matrix.toString()+"]"),Q("/Function "+oe+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},uf=function(N,z){var oe=Es(),de=Fn();z.push({resourcesOid:oe,objectOid:de}),N.objectNumber=de;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+N.boundingBox.map(D).join(" ")+"]"}),xe.push({key:"XStep",value:D(N.xStep)}),xe.push({key:"YStep",value:D(N.yStep)}),xe.push({key:"Resources",value:oe+" 0 R"}),N.matrix&&xe.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Na({data:N.stream,additionalKeyValues:xe,objectId:N.objectNumber}),Q("endobj")},T2=function(N){for(var z in N.objectNumber=Fn(),Q("<<"),N)switch(z){case"opacity":Q("/ca "+A(N[z]));break;case"stroke-opacity":Q("/CA "+A(N[z]))}Q(">>"),Q("endobj")},Km=function(N){Ms(N.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var z in Q("/Font <<"),Ot)Ot.hasOwnProperty(z)&&(h===!1||h===!0&&p.hasOwnProperty(z))&&Q("/"+z+" "+Ot[z].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(_t).length>0){for(var z in Q("/Shading <<"),_t)_t.hasOwnProperty(z)&&_t[z]instanceof Yd&&_t[z].objectNumber>=0&&Q("/"+z+" "+_t[z].objectNumber+" 0 R");mr.publish("putShadingPatternDict"),Q(">>")}}(),function(z){if(Object.keys(_t).length>0){for(var oe in Q("/Pattern <<"),_t)_t.hasOwnProperty(oe)&&_t[oe]instanceof f.TilingPattern&&_t[oe].objectNumber>=0&&_t[oe].objectNumber<z&&Q("/"+oe+" "+_t[oe].objectNumber+" 0 R");mr.publish("putTilingPatternDict"),Q(">>")}}(N.objectOid),function(){if(Object.keys(At).length>0){var z;for(z in Q("/ExtGState <<"),At)At.hasOwnProperty(z)&&At[z].objectNumber>=0&&Q("/"+z+" "+At[z].objectNumber+" 0 R");mr.publish("putGStateDict"),Q(">>")}}(),function(){for(var z in Q("/XObject <<"),Ft)Ft.hasOwnProperty(z)&&Ft[z].objectNumber>=0&&Q("/"+z+" "+Ft[z].objectNumber+" 0 R");mr.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},my=function(N){Wt[N.fontName]=Wt[N.fontName]||{},Wt[N.fontName][N.fontStyle]=N.id},gy=function(N,z,oe,de,xe){var Pe={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:N,fontName:z,fontStyle:oe,encoding:de,isStandardFont:xe||!1,metadata:{}};return mr.publish("addFont",{font:Pe,instance:this}),Ot[Pe.id]=Pe,my(Pe),Pe.id},ka=f.__private__.pdfEscape=f.pdfEscape=function(N,z){return function(oe,de){var xe,Pe,Fe,ft,St,Ht,tr,Sr,An;if(Fe=(de=de||{}).sourceEncoding||"Unicode",St=de.outputEncoding,(de.autoencode||St)&&Ot[Qe].metadata&&Ot[Qe].metadata[Fe]&&Ot[Qe].metadata[Fe].encoding&&(ft=Ot[Qe].metadata[Fe].encoding,!St&&Ot[Qe].encoding&&(St=Ot[Qe].encoding),!St&&ft.codePages&&(St=ft.codePages[0]),typeof St=="string"&&(St=ft[St]),St)){for(tr=!1,Ht=[],xe=0,Pe=oe.length;xe<Pe;xe++)(Sr=St[oe.charCodeAt(xe)])?Ht.push(String.fromCharCode(Sr)):Ht.push(oe[xe]),Ht[xe].charCodeAt(0)>>8&&(tr=!0);oe=Ht.join("")}for(xe=oe.length;tr===void 0&&xe!==0;)oe.charCodeAt(xe-1)>>8&&(tr=!0),xe--;if(!tr)return oe;for(Ht=de.noBOM?[]:[254,255],xe=0,Pe=oe.length;xe<Pe;xe++){if((An=(Sr=oe.charCodeAt(xe))>>8)>>8)throw new Error("Character at position "+xe+" of string '"+oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ht.push(An),Ht.push(Sr-(An<<8))}return String.fromCharCode.apply(void 0,Ht)}(N,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jm=f.__private__.beginPage=function(N){ue[++Yt]=[],pt[Yt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},yy(Yt),Ie(ue[b])},vy=function(N,z){var oe,de,xe;switch(r=z||r,typeof N=="string"&&(oe=g(N.toLowerCase()),Array.isArray(oe)&&(de=oe[0],xe=oe[1])),Array.isArray(N)&&(de=N[0]*bt,xe=N[1]*bt),isNaN(de)&&(de=s[0],xe=s[1]),(de>14400||xe>14400)&&(nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),xe=Math.min(14400,xe)),s=[de,xe],r.substr(0,1)){case"l":xe>de&&(s=[xe,de]);break;case"p":de>xe&&(s=[xe,de])}Jm(s),Kt(Xm),Q(pf),tg!==0&&Q(tg+" J"),rg!==0&&Q(rg+" j"),mr.publish("addPage",{pageNumber:Yt})},Qm=function(N){N>0&&N<=Yt&&(ue.splice(N,1),pt.splice(N,1),Yt--,b>Yt&&(b=Yt),this.setPage(b))},yy=function(N){N>0&&N<=Yt&&(b=N)},xy=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ue.length-1},wy=function(N,z,oe){var de,xe=void 0;return oe=oe||{},N=N!==void 0?N:Ot[Qe].fontName,z=z!==void 0?z:Ot[Qe].fontStyle,de=N.toLowerCase(),Wt[de]!==void 0&&Wt[de][z]!==void 0?xe=Wt[de][z]:Wt[N]!==void 0&&Wt[N][z]!==void 0?xe=Wt[N][z]:oe.disableWarning===!1&&nn.warn("Unable to look up font label for font '"+N+"', '"+z+"'. Refer to getFontList() for available fonts."),xe||oe.noFallback||(xe=Wt.times[z])==null&&(xe=Wt.times.normal),xe},Go=f.__private__.putInfo=function(){var N=Fn(),z=function(de){return de};for(var oe in d!==null&&(z=ps.encryptor(N,0)),Q("<<"),Q("/Producer ("+ka(z("jsPDF "+Ct.version))+")"),at)at.hasOwnProperty(oe)&&at[oe]&&Q("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+ka(z(at[oe]))+")");Q("/CreationDate ("+ka(z(te))+")"),Q(">>"),Q("endobj")},df=f.__private__.putCatalog=function(N){var z=(N=N||{}).rootDictionaryObjId||Dc;switch(Fn(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+z+" 0 R"),K||(K="fullwidth"),K){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+K;oe.substr(oe.length-1)==="%"&&(K=parseInt(K)/100),typeof K=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+A(K)+"]")}switch(ke||(ke="continuous"),ke){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}je&&Q("/PageMode /"+je),mr.publish("putCatalog"),Q(">>"),Q("endobj")},R2=f.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(B+1)),Q("/Root "+B+" 0 R"),Q("/Info "+(B-1)+" 0 R"),d!==null&&Q("/Encrypt "+ps.oid+" 0 R"),Q("/ID [ <"+ne+"> <"+ne+"> ]"),Q(">>")},ss=f.__private__.putHeader=function(){Q("%PDF-"+v),Q("%")},by=f.__private__.putXRef=function(){var N="0000000000";Q("xref"),Q("0 "+(B+1)),Q("0000000000 65535 f ");for(var z=1;z<=B;z++)typeof F[z]=="function"?Q((N+F[z]()).slice(-10)+" 00000 n "):F[z]!==void 0?Q((N+F[z]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},Yo=f.__private__.buildDocument=function(){var N;B=0,se=0,Z=[],F=[],le=[],Dc=Es(),eo=Es(),Ie(Z),mr.publish("buildDocument"),ss(),Ho(),function(){mr.publish("putAdditionalObjects");for(var oe=0;oe<le.length;oe++){var de=le[oe];Ms(de.objId,!0),Q(de.content),Q("endobj")}mr.publish("postPutAdditionalObjects")}(),N=[],function(){for(var oe in Ot)Ot.hasOwnProperty(oe)&&(h===!1||h===!0&&p.hasOwnProperty(oe))&&xd(Ot[oe])}(),function(){var oe;for(oe in At)At.hasOwnProperty(oe)&&T2(At[oe])}(),function(){for(var oe in Ft)Ft.hasOwnProperty(oe)&&lf(Ft[oe])}(),function(oe){var de;for(de in _t)_t.hasOwnProperty(de)&&(_t[de]instanceof Yd?cf(_t[de]):_t[de]instanceof ap&&uf(_t[de],oe))}(N),mr.publish("putResources"),N.forEach(Km),Km({resourcesOid:eo,objectOid:Number.MAX_SAFE_INTEGER}),mr.publish("postPutResources"),d!==null&&(ps.oid=Fn(),Q("<<"),Q("/Filter /Standard"),Q("/V "+ps.v),Q("/R "+ps.r),Q("/U <"+ps.toHexString(ps.U)+">"),Q("/O <"+ps.toHexString(ps.O)+">"),Q("/P "+ps.P),Q(">>"),Q("endobj")),Go(),df();var z=se;return by(),R2(),Q("startxref"),Q(""+z),Q("%%EOF"),Ie(ue[b]),Z.join(`
`)},hf=f.__private__.getBlob=function(N){return new Blob([Ye(N)],{type:"application/pdf"})},_y=f.output=f.__private__.output=(Hn=function(N,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",N){case void 0:return Yo();case"save":f.save(z.filename);break;case"arraybuffer":return Ye(Yo());case"blob":return hf(Yo());case"bloburi":case"bloburl":if(qt.URL!==void 0&&typeof qt.URL.createObjectURL=="function")return qt.URL&&qt.URL.createObjectURL(hf(Yo()))||void 0;nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",de=Yo();try{oe=QL(de)}catch{oe=QL(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+z.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(xe=z.pdfObjectUrl,Pe="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",ft=qt.open();return ft!==null&&ft.document.write(Fe),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Ht=qt.open();if(Ht!==null){Ht.document.write(St);var tr=this;Ht.document.documentElement.querySelector("#pdfViewer").onload=function(){Ht.document.title=z.filename,Ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tr.output("bloburl"))}}return Ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',An=qt.open();if(An!==null&&(An.document.write(Sr),An.document.title=z.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return qt.document.location.href=this.output("datauristring",z);default:return null}},Hn.foo=function(){try{return Hn.apply(this,arguments)}catch(oe){var N=oe.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var z="Error in function "+N.split(`
`)[0].split("<")[0]+": "+oe.message;if(!qt.console)throw new Error(z);qt.console.error(z,oe),qt.alert&&alert(z)}},Hn.foo.bar=Hn,Hn.foo),Ca=function(N){return Array.isArray(Pt)===!0&&Pt.indexOf(N)>-1};switch(n){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=Ca("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);bt=n}var ps=null;ge(),W();var Pl=f.__private__.getPageInfo=f.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[N].objId,pageNumber:N,pageContext:pt[N]}},Sy=f.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in pt)if(pt[z].objId===N)break;return Pl(z)},O2=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:pt[b].objId,pageNumber:b,pageContext:pt[b]}};f.addPage=function(){return vy.apply(this,arguments),this},f.setPage=function(){return yy.apply(this,arguments),Ie.call(this,ue[b]),this},f.insertPage=function(N){return this.addPage(),this.movePage(b,N),this},f.movePage=function(N,z){var oe,de;if(N>z){oe=ue[N],de=pt[N];for(var xe=N;xe>z;xe--)ue[xe]=ue[xe-1],pt[xe]=pt[xe-1];ue[z]=oe,pt[z]=de,this.setPage(z)}else if(N<z){oe=ue[N],de=pt[N];for(var Pe=N;Pe<z;Pe++)ue[Pe]=ue[Pe+1],pt[Pe]=pt[Pe+1];ue[z]=oe,pt[z]=de,this.setPage(z)}return this},f.deletePage=function(){return Qm.apply(this,arguments),this},f.__private__.text=f.text=function(N,z,oe,de,xe){var Pe,Fe,ft,St,Ht,tr,Sr,An,is,cn=(de=de||{}).scope||this;if(typeof N=="number"&&typeof z=="number"&&(typeof oe=="string"||Array.isArray(oe))){var ms=oe;oe=z,z=N,N=ms}if(arguments[3]instanceof mt==0?(ft=arguments[4],St=arguments[5],Yr(Sr=arguments[3])==="object"&&Sr!==null||(typeof ft=="string"&&(St=ft,ft=null),typeof Sr=="string"&&(St=Sr,Sr=null),typeof Sr=="number"&&(ft=Sr,Sr=null),de={flags:Sr,angle:ft,align:St})):(M("The transform parameter of text() with a Matrix value"),is=xe),isNaN(z)||isNaN(oe)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return cn;var as,Is="",Dl=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:bd,so=cn.internal.scaleFactor;function Fl($r){return $r=$r.split("	").join(Array(de.TabLen||9).join(" ")),ka($r,Sr)}function ag($r){for(var Xr,Yn=$r.concat(),gs=[],Ul=Yn.length;Ul--;)typeof(Xr=Yn.shift())=="string"?gs.push(Xr):Array.isArray($r)&&(Xr.length===1||Xr[1]===void 0&&Xr[2]===void 0)?gs.push(Xr[0]):gs.push([Xr[0],Xr[1],Xr[2]]);return gs}function gf($r,Xr){var Yn;if(typeof $r=="string")Yn=Xr($r)[0];else if(Array.isArray($r)){for(var gs,Ul,gg=$r.concat(),xf=[],Ly=gg.length;Ly--;)typeof(gs=gg.shift())=="string"?xf.push(Xr(gs)[0]):Array.isArray(gs)&&typeof gs[0]=="string"&&(Ul=Xr(gs[0],gs[1],gs[2]),xf.push([Ul[0],Ul[1],Ul[2]]));Yn=xf}return Yn}var Fc=!1,Nd=!0;if(typeof N=="string")Fc=!0;else if(Array.isArray(N)){var kd=N.concat();Fe=[];for(var $c,Ds=kd.length;Ds--;)(typeof($c=kd.shift())!="string"||Array.isArray($c)&&typeof $c[0]!="string")&&(Nd=!1);Fc=Nd}if(Fc===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Cd=Ne/cn.internal.scaleFactor,Ed=Cd*(Dl-1);switch(de.baseline){case"bottom":oe-=Ed;break;case"top":oe+=Cd-Ed;break;case"hanging":oe+=Cd-2*Ed;break;case"middle":oe+=Cd/2-Ed}if((tr=de.maxWidth||0)>0&&(typeof N=="string"?N=cn.splitTextToSize(N,tr):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function($r,Xr){return $r.concat(cn.splitTextToSize(Xr,tr))},[]))),Pe={text:N,x:z,y:oe,options:de,mutex:{pdfEscape:ka,activeFontKey:Qe,fonts:Ot,activeFontSize:Ne}},mr.publish("preProcessText",Pe),N=Pe.text,ft=(de=Pe.options).angle,is instanceof mt==0&&ft&&typeof ft=="number"){ft*=Math.PI/180,de.rotationDirection===0&&(ft=-ft),k===S&&(ft=-ft);var og=Math.cos(ft),lg=Math.sin(ft);is=new mt(og,lg,-lg,og,0,0)}else ft&&ft instanceof mt&&(is=ft);k!==S||is||(is=Ls),(Ht=de.charSpace||Ol)!==void 0&&(Is+=D($(Ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=de.horizontalScale)!==void 0&&(Is+=D(100*An)+` Tz
`),de.lang;var ci=-1,$l=de.renderingMode!==void 0?de.renderingMode:de.stroke,vf=cn.internal.getCurrentPageInfo().pageContext;switch($l){case 0:case!1:case"fill":ci=0;break;case 1:case!0:case"stroke":ci=1;break;case 2:case"fillThenStroke":ci=2;break;case 3:case"invisible":ci=3;break;case 4:case"fillAndAddForClipping":ci=4;break;case 5:case"strokeAndAddPathForClipping":ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ci=6;break;case 7:case"addToPathForClipping":ci=7}var Ry=vf.usedRenderingMode!==void 0?vf.usedRenderingMode:-1;ci!==-1?Is+=ci+` Tr
`:Ry!==-1&&(Is+=`0 Tr
`),ci!==-1&&(vf.usedRenderingMode=ci),St=de.align||"left";var Ea,Ad=Ne*Dl,cg=cn.internal.pageSize.getWidth(),ug=Ot[Qe];Ht=de.charSpace||Ol,tr=de.maxWidth||0,Sr=Object.assign({autoencode:!0,noBOM:!0},de.flags);var Bc=[],Pd=function($r){return cn.getStringUnitWidth($r,{font:ug,charSpace:Ht,fontSize:Ne,doKerning:!1})*Ne/so};if(Object.prototype.toString.call(N)==="[object Array]"){var Hi;Fe=ag(N),St!=="left"&&(Ea=Fe.map(Pd));var Gi,Uc=0;if(St==="right"){z-=Ea[0],N=[],Ds=Fe.length;for(var Bl=0;Bl<Ds;Bl++)Bl===0?(Gi=Tl(z),Hi=Rl(oe)):(Gi=$(Uc-Ea[Bl]),Hi=-Ad),N.push([Fe[Bl],Gi,Hi]),Uc=Ea[Bl]}else if(St==="center"){z-=Ea[0]/2,N=[],Ds=Fe.length;for(var qc=0;qc<Ds;qc++)qc===0?(Gi=Tl(z),Hi=Rl(oe)):(Gi=$((Uc-Ea[qc])/2),Hi=-Ad),N.push([Fe[qc],Gi,Hi]),Uc=Ea[qc]}else if(St==="left"){N=[],Ds=Fe.length;for(var dg=0;dg<Ds;dg++)N.push(Fe[dg])}else if(St==="justify"&&ug.encoding==="Identity-H"){N=[],Ds=Fe.length,tr=tr!==0?tr:cg;for(var yf=0,Gn=0;Gn<Ds;Gn++)if(Hi=Gn===0?Rl(oe):-Ad,Gi=Gn===0?Tl(z):yf,Gn<Ds-1){var Oy=$((tr-Ea[Gn])/(Fe[Gn].split(" ").length-1)),Jo=Fe[Gn].split(" ");N.push([Jo[0]+" ",Gi,Hi]),yf=0;for(var Qo=1;Qo<Jo.length;Qo++){var hg=(Pd(Jo[Qo-1]+" "+Jo[Qo])-Pd(Jo[Qo]))*so+Oy;Qo==Jo.length-1?N.push([Jo[Qo],hg,0]):N.push([Jo[Qo]+" ",hg,0]),yf-=hg}}else N.push([Fe[Gn],Gi,Hi]);N.push(["",yf,0])}else{if(St!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Ds=Fe.length,tr=tr!==0?tr:cg,Gn=0;Gn<Ds;Gn++){Hi=Gn===0?Rl(oe):-Ad,Gi=Gn===0?Tl(z):0;var fg=Fe[Gn].split(" ").length-1,pg=fg>0?(tr-Ea[Gn])/fg:0;Gn<Ds-1?Bc.push(D($(pg))):Bc.push(0),N.push([Fe[Gn],Gi,Hi])}}}(typeof de.R2L=="boolean"?de.R2L:ve)===!0&&(N=gf(N,function($r,Xr,Yn){return[$r.split("").reverse().join(""),Xr,Yn]})),Pe={text:N,x:z,y:oe,options:de,mutex:{pdfEscape:ka,activeFontKey:Qe,fonts:Ot,activeFontSize:Ne}},mr.publish("postProcessText",Pe),N=Pe.text,as=Pe.mutex.isHex||!1;var mg=Ot[Qe].encoding;mg!=="WinAnsiEncoding"&&mg!=="StandardEncoding"||(N=gf(N,function($r,Xr,Yn){return[Fl($r),Xr,Yn]})),Fe=ag(N),N=[];for(var zc,Vc,Wc,Td=Array.isArray(Fe[0])?1:0,Hc="",Rd=function($r,Xr,Yn){var gs="";return Yn instanceof mt?(Yn=typeof de.angle=="number"?Cs(Yn,new mt(1,0,0,1,$r,Xr)):Cs(new mt(1,0,0,1,$r,Xr),Yn),k===S&&(Yn=Cs(new mt(1,0,0,-1,0,0),Yn)),gs=Yn.join(" ")+` Tm
`):gs=D($r)+" "+D(Xr)+` Td
`,gs},Aa=0;Aa<Fe.length;Aa++){switch(Hc="",Td){case 1:Wc=(as?"<":"(")+Fe[Aa][0]+(as?">":")"),zc=parseFloat(Fe[Aa][1]),Vc=parseFloat(Fe[Aa][2]);break;case 0:Wc=(as?"<":"(")+Fe[Aa]+(as?">":")"),zc=Tl(z),Vc=Rl(oe)}Bc!==void 0&&Bc[Aa]!==void 0&&(Hc=Bc[Aa]+` Tw
`),Aa===0?N.push(Hc+Rd(zc,Vc,is)+Wc):Td===0?N.push(Hc+Wc):Td===1&&N.push(Hc+Rd(zc,Vc,is)+Wc)}N=Td===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Zo=`BT
/`;return Zo+=Qe+" "+Ne+` Tf
`,Zo+=D(Ne*Dl)+` TL
`,Zo+=_d+`
`,Zo+=Is,Zo+=N,Q(Zo+="ET"),p[Qe]=!0,cn};var L2=f.__private__.clip=f.clip=function(N){return Q(N==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return L2("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Q("n"),this};var Ko=f.__private__.isValidStyle=function(N){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(z=!0),z};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(N){return Ko(N)&&(u=N),this};var jy=f.__private__.getStyle=f.getStyle=function(N){var z=u;switch(N){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=N}return z},Ny=f.close=function(){return Q("h"),this};f.stroke=function(){return Q("S"),this},f.fill=function(N){return ff("f",N),this},f.fillEvenOdd=function(N){return ff("f*",N),this},f.fillStroke=function(N){return ff("B",N),this},f.fillStrokeEvenOdd=function(N){return ff("B*",N),this};var ff=function(N,z){Yr(z)==="object"?I2(z,N):Q(N)},wd=function(N){N===null||k===S&&N===void 0||(N=jy(N),Q(N))};function M2(N,z,oe,de,xe){var Pe=new ap(z||this.boundingBox,oe||this.xStep,de||this.yStep,this.gState,xe||this.matrix);Pe.stream=this.stream;var Fe=N+"$$"+this.cloneIndex+++"$$";return Sn(Fe,Pe),Pe}var I2=function(N,z){var oe=_r[N.key],de=_t[oe];if(de instanceof Yd)Q("q"),Q(D2(z)),de.gState&&f.setGState(de.gState),Q(N.matrix.toString()+" cm"),Q("/"+oe+" sh"),Q("Q");else if(de instanceof ap){var xe=new mt(1,0,0,-1,0,jd());N.matrix&&(xe=xe.multiply(N.matrix||Ls),oe=M2.call(de,N.key,N.boundingBox,N.xStep,N.yStep,xe).id),Q("q"),Q("/Pattern cs"),Q("/"+oe+" scn"),de.gState&&f.setGState(de.gState),Q(z),Q("Q")}},D2=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Zm=f.moveTo=function(N,z){return Q(D($(N))+" "+D(q(z))+" m"),this},ky=f.lineTo=function(N,z){return Q(D($(N))+" "+D(q(z))+" l"),this},no=f.curveTo=function(N,z,oe,de,xe,Pe){return Q([D($(N)),D(q(z)),D($(oe)),D(q(de)),D($(xe)),D(q(Pe)),"c"].join(" ")),this};f.__private__.line=f.line=function(N,z,oe,de,xe){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||!Ko(xe))throw new Error("Invalid arguments passed to jsPDF.line");return k===w?this.lines([[oe-N,de-z]],N,z,[1,1],xe||"S"):this.lines([[oe-N,de-z]],N,z,[1,1]).stroke()},f.__private__.lines=f.lines=function(N,z,oe,de,xe,Pe){var Fe,ft,St,Ht,tr,Sr,An,is,cn,ms,as,Is;if(typeof N=="number"&&(Is=oe,oe=z,z=N,N=Is),de=de||[1,1],Pe=Pe||!1,isNaN(z)||isNaN(oe)||!Array.isArray(N)||!Array.isArray(de)||!Ko(xe)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Zm(z,oe),Fe=de[0],ft=de[1],Ht=N.length,ms=z,as=oe,St=0;St<Ht;St++)(tr=N[St]).length===2?(ms=tr[0]*Fe+ms,as=tr[1]*ft+as,ky(ms,as)):(Sr=tr[0]*Fe+ms,An=tr[1]*ft+as,is=tr[2]*Fe+ms,cn=tr[3]*ft+as,ms=tr[4]*Fe+ms,as=tr[5]*ft+as,no(Sr,An,is,cn,ms,as));return Pe&&Ny(),wd(xe),this},f.path=function(N){for(var z=0;z<N.length;z++){var oe=N[z],de=oe.c;switch(oe.op){case"m":Zm(de[0],de[1]);break;case"l":ky(de[0],de[1]);break;case"c":no.apply(this,de);break;case"h":Ny()}}return this},f.__private__.rect=f.rect=function(N,z,oe,de,xe){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||!Ko(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return k===w&&(de=-de),Q([D($(N)),D(q(z)),D($(oe)),D($(de)),"re"].join(" ")),wd(xe),this},f.__private__.triangle=f.triangle=function(N,z,oe,de,xe,Pe,Fe){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||isNaN(xe)||isNaN(Pe)||!Ko(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-N,de-z],[xe-oe,Pe-de],[N-xe,z-Pe]],N,z,[1,1],Fe,!0),this},f.__private__.roundedRect=f.roundedRect=function(N,z,oe,de,xe,Pe,Fe){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||isNaN(xe)||isNaN(Pe)||!Ko(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*oe),Pe=Math.min(Pe,.5*de),this.lines([[oe-2*xe,0],[xe*ft,0,xe,Pe-Pe*ft,xe,Pe],[0,de-2*Pe],[0,Pe*ft,-xe*ft,Pe,-xe,Pe],[2*xe-oe,0],[-xe*ft,0,-xe,-Pe*ft,-xe,-Pe],[0,2*Pe-de],[0,-Pe*ft,xe*ft,-Pe,xe,-Pe]],N+xe,z,[1,1],Fe,!0),this},f.__private__.ellipse=f.ellipse=function(N,z,oe,de,xe){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||!Ko(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*oe,Fe=4/3*(Math.SQRT2-1)*de;return Zm(N+oe,z),no(N+oe,z-Fe,N+Pe,z-de,N,z-de),no(N-Pe,z-de,N-oe,z-Fe,N-oe,z),no(N-oe,z+Fe,N-Pe,z+de,N,z+de),no(N+Pe,z+de,N+oe,z+Fe,N+oe,z),wd(xe),this},f.__private__.circle=f.circle=function(N,z,oe,de){if(isNaN(N)||isNaN(z)||isNaN(oe)||!Ko(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,z,oe,oe,de)},f.setFont=function(N,z,oe){return oe&&(z=L(z,oe)),Qe=wy(N,z,{disableWarning:!1}),this};var F2=f.__private__.getFont=f.getFont=function(){return Ot[wy.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var N,z,oe={};for(N in Wt)if(Wt.hasOwnProperty(N))for(z in oe[N]=[],Wt[N])Wt[N].hasOwnProperty(z)&&oe[N].push(z);return oe},f.addFont=function(N,z,oe,de,xe){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(oe=L(oe,de)),gy.call(this,N,z,oe,xe=xe||"Identity-H")};var bd,Xm=e.lineWidth||.200025,$2=f.__private__.getLineWidth=f.getLineWidth=function(){return Xm},Kt=f.__private__.setLineWidth=f.setLineWidth=function(N){return Xm=N,Q(D($(N))+" w"),this};f.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(N,z){if(N=N||[],z=z||0,isNaN(z)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(oe){return D($(oe))}).join(" "),z=D($(z)),Q("["+N+"] "+z+" d"),this};var B2=f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*bd};f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*bd};var U2=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(bd=N),this},q2=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return bd};U2(e.lineHeight);var Tl=f.__private__.getHorizontalCoordinate=function(N){return $(N)},Rl=f.__private__.getVerticalCoordinate=function(N){return k===S?N:pt[b].mediaBox.topRightY-pt[b].mediaBox.bottomLeftY-$(N)},z2=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(N){return D(Tl(N))},V2=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(N){return D(Rl(N))},pf=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Wo(pf)},f.__private__.setStrokeColor=f.setDrawColor=function(N,z,oe,de){return pf=to({ch1:N,ch2:z,ch3:oe,ch4:de,pdfColorType:"draw",precision:2}),Q(pf),this};var eg=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Wo(eg)},f.__private__.setFillColor=f.setFillColor=function(N,z,oe,de){return eg=to({ch1:N,ch2:z,ch3:oe,ch4:de,pdfColorType:"fill",precision:2}),Q(eg),this};var _d=e.textColor||"0 g",W2=f.__private__.getTextColor=f.getTextColor=function(){return Wo(_d)};f.__private__.setTextColor=f.setTextColor=function(N,z,oe,de){return _d=to({ch1:N,ch2:z,ch3:oe,ch4:de,pdfColorType:"text",precision:3}),this};var Ol=e.charSpace,H2=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ol||0)};f.__private__.setCharSpace=f.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ol=N,this};var tg=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(N){var z=f.CapJoinStyles[N];if(z===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tg=z,Q(z+" J"),this};var rg=0;f.__private__.setLineJoin=f.setLineJoin=function(N){var z=f.CapJoinStyles[N];if(z===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rg=z,Q(z+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(D($(N))+" M"),this},f.GState=nb,f.setGState=function(N){(N=typeof N=="string"?At[Dt[N]]:Cy(null,N)).equals(Ur)||(Q("/"+N.id+" gs"),Ur=N)};var Cy=function(N,z){if(!N||!Dt[N]){var oe=!1;for(var de in At)if(At.hasOwnProperty(de)&&At[de].equals(z)){oe=!0;break}if(oe)z=At[de];else{var xe="GS"+(Object.keys(At).length+1).toString(10);At[xe]=z,z.id=xe}return N&&(Dt[N]=z.id),mr.publish("addGState",z),z}};f.addGState=function(N,z){return Cy(N,z),this},f.saveGraphicsState=function(){return Q("q"),lr.push({key:Qe,size:Ne,color:_d}),this},f.restoreGraphicsState=function(){Q("Q");var N=lr.pop();return Qe=N.key,Ne=N.size,_d=N.color,Ur=null,this},f.setCurrentTransformationMatrix=function(N){return Q(N.toString()+" cm"),this},f.comment=function(N){return Q("#"+N),this};var Ll=function(N,z){var oe=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Pe){isNaN(Pe)||(oe=parseFloat(Pe))}});var de=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Pe){isNaN(Pe)||(de=parseFloat(Pe))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Pe){xe=Pe.toString()}}),this},ng=function(N,z,oe,de){Ll.call(this,N,z),this.type="rect";var xe=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(Fe){isNaN(Fe)||(xe=parseFloat(Fe))}});var Pe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Fe){isNaN(Fe)||(Pe=parseFloat(Fe))}}),this},mf=function(){this.page=Yt,this.currentPage=b,this.pages=ue.slice(0),this.pagesContext=pt.slice(0),this.x=tt,this.y=Fr,this.matrix=Vt,this.width=ig(b),this.height=Ay(b),this.outputDestination=be,this.id="",this.objectNumber=-1};mf.prototype.restore=function(){Yt=this.page,b=this.currentPage,pt=this.pagesContext,ue=this.pages,tt=this.x,Fr=this.y,Vt=this.matrix,Ey(b,this.width),Ml(b,this.height),be=this.outputDestination};var sg=function(N,z,oe,de,xe){Dn.push(new mf),Yt=b=0,ue=[],tt=N,Fr=z,Vt=xe,Jm([oe,de])};for(var Sd in f.beginFormObject=function(N,z,oe,de,xe){return sg(N,z,oe,de,xe),this},f.endFormObject=function(N){return function(z){if(cr[z])Dn.pop().restore();else{var oe=new mf,de="Xo"+(Object.keys(Ft).length+1).toString(10);oe.id=de,cr[z]=de,Ft[de]=oe,mr.publish("addFormObject",oe),Dn.pop().restore()}}(N),this},f.doFormObject=function(N,z){var oe=Ft[cr[N]];return Q("q"),Q(z.toString()+" cm"),Q("/"+oe.id+" Do"),Q("Q"),this},f.getFormObject=function(N){var z=Ft[cr[N]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},f.save=function(N,z){return N=N||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Wd(hf(Yo()),N),typeof Wd.unload=="function"&&qt.setTimeout&&setTimeout(Wd.unload,911),this):new Promise(function(oe,de){try{var xe=Wd(hf(Yo()),N);typeof Wd.unload=="function"&&qt.setTimeout&&setTimeout(Wd.unload,911),oe(xe)}catch(Pe){de(Pe.message)}})},Ct.API)Ct.API.hasOwnProperty(Sd)&&(Sd==="events"&&Ct.API.events.length?function(N,z){var oe,de,xe;for(xe=z.length-1;xe!==-1;xe--)oe=z[xe][0],de=z[xe][1],N.subscribe.apply(N,[oe].concat(typeof de=="function"?[de]:de))}(mr,Ct.API.events):f[Sd]=Ct.API[Sd]);function ig(N){return pt[N].mediaBox.topRightX-pt[N].mediaBox.bottomLeftX}function Ey(N,z){pt[N].mediaBox.topRightX=z+pt[N].mediaBox.bottomLeftX}function Ay(N){return pt[N].mediaBox.topRightY-pt[N].mediaBox.bottomLeftY}function Ml(N,z){pt[N].mediaBox.topRightY=z+pt[N].mediaBox.bottomLeftY}var Il=f.getPageWidth=function(N){return ig(N=N||b)/bt},Py=f.setPageWidth=function(N,z){Ey(N,z*bt)},jd=f.getPageHeight=function(N){return Ay(N=N||b)/bt},Ty=f.setPageHeight=function(N,z){Ml(N,z*bt)};return f.internal={pdfEscape:ka,getStyle:jy,getFont:F2,getFontSize:ce,getCharSpace:H2,getTextColor:W2,getLineHeight:B2,getLineHeightFactor:q2,getLineWidth:$2,write:De,getHorizontalCoordinate:Tl,getVerticalCoordinate:Rl,getCoordinateString:z2,getVerticalCoordinateString:V2,collections:{},newObject:Fn,newAdditionalObject:vd,newObjectDeferred:Es,newObjectDeferredBegin:Ms,getFilters:ro,putStream:Na,events:mr,scaleFactor:bt,pageSize:{getWidth:function(){return Il(b)},setWidth:function(N){Py(b,N)},getHeight:function(){return jd(b)},setHeight:function(N){Ty(b,N)}},encryptionOptions:d,encryption:ps,getEncryptor:function(N){return d!==null?ps.encryptor(N,0):function(z){return z}},output:_y,getNumberOfPages:xy,get pages(){return ue},out:Q,f2:A,f3:I,getPageInfo:Pl,getPageInfoByObjId:Sy,getCurrentPageInfo:O2,getPDFVersion:m,Point:Ll,Rectangle:ng,Matrix:mt,hasHotfix:Ca},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Il(b)},set:function(N){Py(b,N)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return jd(b)},set:function(N){Ty(b,N)},enumerable:!0,configurable:!0}),(function(N){for(var z=0,oe=Ke.length;z<oe;z++){var de=gy.call(this,N[z][0],N[z][1],N[z][2],Ke[z][3],!0);h===!1&&(p[de]=!0);var xe=N[z][0].split("-");my({id:de,fontName:xe[0],fontStyle:xe[1]||""})}mr.publish("addFonts",{fonts:Ot,dictionary:Wt})}).call(f,Ke),Qe="F1",vy(s,r),mr.publish("initialized"),f}zf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},zf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},zf.prototype.processOwnerPassword=function(e,t){return yk(vk(t).substr(0,5),e)},zf.prototype.encryptor=function(e,t){var r=vk(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return yk(r,n)}},nb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Yr(e)!==Yr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ct.API={events:[]},Ct.version="4.0.0";var qn=Ct.API,FA=1,of=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},If=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(e){return e.toFixed(2)},iu=function(e){return e.toFixed(5)};qn.__acroform__={};var Wi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},tM=function(e){return e*FA},tl=function(e){var t=new tW,r=ut.internal.getHeight(e)||0,n=ut.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Jt(n)),Number(Jt(r))],t},ewe=qn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},twe=qn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},rwe=qn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},es=qn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rwe(e,t-1)},ts=qn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ewe(e,t-1)},rs=qn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return twe(e,t-1)},nwe=qn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+a)||0,c.upperRight_Y=n(i)||0,[Number(Jt(c.lowerLeft_X)),Number(Jt(c.lowerLeft_Y)),Number(Jt(c.upperRight_X)),Number(Jt(c.upperRight_Y))]},swe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=xk(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Jt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=tl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},xk=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(A){return A.split(`
`)}):s.map(function(A){return[A]});var i=r,a=ut.internal.getHeight(e)||0;a=a<0?-a:a;var l=ut.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(A,I,$){if(A+1<s.length){var q=I+" "+s[A+1][0];return X1(q,e,$).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,h=X1("3",e,i).height,p=e.multiline?a-i:(a-h)/2,f=p+=2,v=0,m=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+X1(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var g="",w=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var k=!1;if(s[S].length!==1&&x!==s[S].length-1){if((h+2)*(w+2)+2>a)continue e;g+=s[S][x],k=!0,m=S,S--}else{g=(g+=s[S][x]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var T=parseInt(S),R=c(T,g,i),L=S>=s.length-1;if(R&&!L){g+=" ",x=0;continue}if(R||L){if(L)m=T;else if(e.multiline&&(h+2)*(w+2)+2>a)continue e}else{if(!e.multiline||(h+2)*(w+2)+2>a)continue e;m=T}}for(var D="",M=v;M<=m;M++){var G=s[M];if(e.multiline){if(M===m){D+=G[x]+" ",x=(x+1)%G.length;continue}if(M===v){D+=G[G.length-1]+" ";continue}}D+=G[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=X1(D,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Jt(u)+" "+Jt(f)+` Td
`,t+="("+of(D)+`) Tj
`,t+=-Jt(u)+` 0 Td
`,f=-(i+2),d=0,v=k?m:m+1,w++,g=""}break}return n.text=t,n.fontSize=i,n},X1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},iwe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},awe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},owe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(zo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(iwe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");FA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new rW,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&awe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],c=[],u=l.Rect;if(l.Rect&&(l.Rect=nwe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ut.createDefaultAppearanceStream(l),Yr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=swe(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var f=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var v=f[a];typeof v=="function"&&(v=v.call(s,l)),h+="/"+a+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(s,l)),h+="/"+a+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&function(m,x){for(var g in m)if(m.hasOwnProperty(g)){var w=g,S=m[g];x.internal.newObjectDeferredBegin(S.objId,!0),Yr(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete m[w]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},eW=qn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Yr(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+of(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gS=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+of(n(e))+")"},ml=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ml.prototype.toString=function(){return this.objId+" 0 R"},ml.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ml.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:eW(s,this.objId,this.scope)}):s instanceof ml?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var tW=function(){ml.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Wi(tW,ml);var rW=function(){ml.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+of(r(e))+")"}},set:function(r){e=r}})};Wi(rW,ml);var zo=function e(){ml.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!es(t,3)},set:function(g){g?this.F=ts(t,3):this.F=rs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof sb)return;i="FieldObject"+e.FieldNum++}var g=function(w){return w};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+of(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/FA:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof sb||this instanceof xh))return gS(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ts==0?gS(p,this.objId,this.scope):p},set:function(g){g=g.toString(),p=this instanceof Ts==0?g.substr(0,1)==="("?If(g.substr(1,g.length-2)):If(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ts==1?If(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Ts==1?"/"+g:g}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ts==0?gS(f,this.objId,this.scope):f},set:function(g){g=g.toString(),f=this instanceof Ts==0?g.substr(0,1)==="("?If(g.substr(1,g.length-2)):If(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ts==1?If(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof Ts==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,1)},set:function(g){g?this.Ff=ts(this.Ff,1):this.Ff=rs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,2)},set:function(g){g?this.Ff=ts(this.Ff,2):this.Ff=rs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,3)},set:function(g){g?this.Ff=ts(this.Ff,3):this.Ff=rs(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');x=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(x){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Wi(zo,ml);var Np=function(){zo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return eW(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,l){l||(l=1);for(var c,u=[];c=a.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,18)},set:function(r){r?this.Ff=ts(this.Ff,18):this.Ff=rs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ts(this.Ff,19):this.Ff=rs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,20)},set:function(r){r?(this.Ff=ts(this.Ff,20),t.sort()):this.Ff=rs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,22)},set:function(r){r?this.Ff=ts(this.Ff,22):this.Ff=rs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,23)},set:function(r){r?this.Ff=ts(this.Ff,23):this.Ff=rs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,27)},set:function(r){r?this.Ff=ts(this.Ff,27):this.Ff=rs(this.Ff,27)}}),this.hasAppearanceStream=!1};Wi(Np,zo);var kp=function(){Np.call(this),this.fontName="helvetica",this.combo=!1};Wi(kp,Np);var Cp=function(){kp.call(this),this.combo=!0};Wi(Cp,kp);var Ix=function(){Cp.call(this),this.edit=!0};Wi(Ix,Cp);var Ts=function(){zo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,15)},set:function(r){r?this.Ff=ts(this.Ff,15):this.Ff=rs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,16)},set:function(r){r?this.Ff=ts(this.Ff,16):this.Ff=rs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,17)},set:function(r){r?this.Ff=ts(this.Ff,17):this.Ff=rs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,26)},set:function(r){r?this.Ff=ts(this.Ff,26):this.Ff=rs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+of(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Yr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Wi(Ts,zo);var Dx=function(){Ts.call(this),this.pushButton=!0};Wi(Dx,Ts);var Ep=function(){Ts.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Wi(Ep,Ts);var sb=function(){var e,t;zo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+of(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Yr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Wi(sb,zo),Ep.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ep.prototype.createOption=function(e){var t=new sb;return t.Parent=this,t.optionName=e,this.Kids.push(t),lwe.call(this.scope,t),t};var Fx=function(){Ts.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ut.CheckBox.createAppearanceStream()};Wi(Fx,Ts);var xh=function(){zo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,13)},set:function(t){t?this.Ff=ts(this.Ff,13):this.Ff=rs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,21)},set:function(t){t?this.Ff=ts(this.Ff,21):this.Ff=rs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,23)},set:function(t){t?this.Ff=ts(this.Ff,23):this.Ff=rs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,24)},set:function(t){t?this.Ff=ts(this.Ff,24):this.Ff=rs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,25)},set:function(t){t?this.Ff=ts(this.Ff,25):this.Ff=rs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,26)},set:function(t){t?this.Ff=ts(this.Ff,26):this.Ff=rs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Wi(xh,zo);var $x=function(){xh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,14)},set:function(e){e?this.Ff=ts(this.Ff,14):this.Ff=rs(this.Ff,14)}}),this.password=!0};Wi($x,xh);var ut={CheckBox:{createAppearanceStream:function(){return{N:{On:ut.CheckBox.YesNormal},D:{On:ut.CheckBox.YesPushDown,Off:ut.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=xk(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Jt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=ut.internal.getHeight(e),a=ut.internal.getWidth(e),l=xk(e,e.caption);return s.push("1 g"),s.push("0 0 "+Jt(a)+" "+Jt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Jt(a-1)+" "+Jt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Jt(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ut.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ut.RadioButton.Circle.YesNormal,t.D[e]=ut.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=ut.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+iu(ut.internal.getWidth(e)/2)+" "+iu(ut.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ut.internal.Bezier_C).toFixed(5)),a=Number((n*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+iu(ut.internal.getWidth(e)/2)+" "+iu(ut.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+iu(ut.internal.getWidth(e)/2)+" "+iu(ut.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+iu(ut.internal.getWidth(e)/2)+" "+iu(ut.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ut.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ut.RadioButton.Cross.YesNormal,t.D[e]=ut.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=ut.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Jt(ut.internal.getWidth(e)-2)+" "+Jt(ut.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(n.x1.x)+" "+Jt(n.x1.y)+" m"),r.push(Jt(n.x2.x)+" "+Jt(n.x2.y)+" l"),r.push(Jt(n.x4.x)+" "+Jt(n.x4.y)+" m"),r.push(Jt(n.x3.x)+" "+Jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=ut.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jt(ut.internal.getWidth(e)-2)+" "+Jt(ut.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),n.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),n.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),n.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ut.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ut.internal.getWidth(e),r=ut.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ut.internal.getWidth=function(e){var t=0;return Yr(e)==="object"&&(t=tM(e.Rect[2])),t},ut.internal.getHeight=function(e){var t=0;return Yr(e)==="object"&&(t=tM(e.Rect[3])),t};var lwe=qn.addField=function(e){if(owe(this,e),!(e instanceof zo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};qn.AcroFormChoiceField=Np,qn.AcroFormListBox=kp,qn.AcroFormComboBox=Cp,qn.AcroFormEditBox=Ix,qn.AcroFormButton=Ts,qn.AcroFormPushButton=Dx,qn.AcroFormRadioButton=Ep,qn.AcroFormCheckBox=Fx,qn.AcroFormTextField=xh,qn.AcroFormPasswordField=$x,qn.AcroFormAppearance=ut,qn.AcroForm={ChoiceField:Np,ListBox:kp,ComboBox:Cp,EditBox:Ix,Button:Ts,PushButton:Dx,RadioButton:Ep,CheckBox:Fx,TextField:xh,PasswordField:$x,Appearance:ut},Ct.AcroForm={ChoiceField:Np,ListBox:kp,ComboBox:Cp,EditBox:Ix,Button:Ts,PushButton:Dx,RadioButton:Ep,CheckBox:Fx,TextField:xh,PasswordField:$x,Appearance:ut};function nW(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(A,I){var $,q,te,ne,re,W=r;if((I=I||r)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(R(A))for(re in n)for(te=n[re],$=0;$<te.length;$+=1){for(ne=!0,q=0;q<te[$].length;q+=1)if(te[$][q]!==void 0&&te[$][q]!==A[q]){ne=!1;break}if(ne===!0){W=re;break}}else for(re in n)for(te=n[re],$=0;$<te.length;$+=1){for(ne=!0,q=0;q<te[$].length;q+=1)if(te[$][q]!==void 0&&te[$][q]!==A.charCodeAt(q)){ne=!1;break}if(ne===!0){W=re;break}}return W===r&&I!==r&&(W=I),W},i=function A(I){for(var $=this.internal.write,q=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:I.width}),ne.push({key:"Height",value:I.height}),I.colorSpace===g.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===g.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var re="",W=0,X=I.transparency.length;W<X;W++)re+=I.transparency[W]+" "+I.transparency[W]+" ";ne.push({key:"Mask",value:"["+re+"]"})}I.sMask!==void 0&&ne.push({key:"SMask",value:I.objectId+1+" 0 R"});var pe=I.filter!==void 0?["/"+I.filter]:void 0;if(q({data:I.data,additionalKeyValues:ne,alreadyAppliedFilters:pe,objectId:I.objectId}),$("endobj"),"sMask"in I&&I.sMask!==void 0){var ge,U=(ge=I.sMaskBitsPerComponent)!==null&&ge!==void 0?ge:I.bitsPerComponent,b={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:I.sMask};"filter"in I&&(b.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(I.width),b.filter=I.filter),A.call(this,b)}if(I.colorSpace===g.INDEXED){var C=this.internal.newObject();q({data:D(new Uint8Array(I.palette)),objectId:C}),$("endobj")}},a=function(){var A=this.internal.collections[t+"images"];for(var I in A)i.call(this,A[I])},l=function(){var A,I=this.internal.collections[t+"images"],$=this.internal.write;for(var q in I)$("/I"+(A=I[q]).index,A.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var A=this.internal.collections[t+"images"];return c.call(this),A},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(A){return typeof e["process"+A.toUpperCase()]=="function"},p=function(A){return Yr(A)==="object"&&A.nodeType===1},f=function(A,I){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var $=""+A.getAttribute("src");if($.indexOf("data:image/")===0)return Mx(unescape($).split("base64,").pop());var q=e.loadFile($,!0);if(q!==void 0)return q}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var te;switch(I){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;default:te="image/jpeg"}return Mx(A.toDataURL(te,1).split("base64,").pop())}},v=function(A){var I=this.internal.collections[t+"images"];if(I){for(var $ in I)if(A===I[$].alias)return I[$]}},m=function(A,I,$){return A||I||(A=-96,I=-96),A<0&&(A=-1*$.width*72/A/this.internal.scaleFactor),I<0&&(I=-1*$.height*72/I/this.internal.scaleFactor),A===0&&(A=I*$.width/$.height),I===0&&(I=A*$.height/$.width),[A,I]},x=function(A,I,$,q,te,ne){var re=m.call(this,$,q,te),W=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,pe=u.call(this);if($=re[0],q=re[1],pe[te.index]=te,ne){ne*=Math.PI/180;var ge=Math.cos(ne),U=Math.sin(ne),b=function(E){return E.toFixed(4)},C=[b(ge),b(U),b(-1*U),b(ge),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,W(A),X(I+q),"cm"].join(" ")),this.internal.write(C.join(" ")),this.internal.write([W($),"0","0",W(q),"0","0","cm"].join(" "))):this.internal.write([W($),"0","0",W(q),W(A),X(I+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(A){var I,$,q=0;if(typeof A=="string")for($=A.length,I=0;I<$;I++)q=(q<<5)-q+A.charCodeAt(I),q|=0;else if(R(A))for($=A.byteLength/2,I=0;I<$;I++)q=(q<<5)-q+A[I],q|=0;return q},k=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var I=!0;return A.length===0&&(I=!1),A.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(I=!1),I},T=e.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var I=A.indexOf(",");return I<0?null:A.substring(0,I).trim().endsWith("base64")?A.substring(I+1):null};e.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var R=e.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},L=e.__addimage__.binaryStringToUint8Array=function(A){for(var I=A.length,$=new Uint8Array(I),q=0;q<I;q++)$[q]=A.charCodeAt(q);return $},D=e.__addimage__.arrayBufferToBinaryString=function(A){for(var I="",$=R(A)?A:new Uint8Array(A),q=0;q<$.length;q+=8192)I+=String.fromCharCode.apply(null,$.subarray(q,q+8192));return I};e.addImage=function(){var A,I,$,q,te,ne,re,W,X;if(typeof arguments[1]=="number"?(I=r,$=arguments[1],q=arguments[2],te=arguments[3],ne=arguments[4],re=arguments[5],W=arguments[6],X=arguments[7]):(I=arguments[1],$=arguments[2],q=arguments[3],te=arguments[4],ne=arguments[5],re=arguments[6],W=arguments[7],X=arguments[8]),Yr(A=arguments[0])==="object"&&!p(A)&&"imageData"in A){var pe=A;A=pe.imageData,I=pe.format||I||r,$=pe.x||$||0,q=pe.y||q||0,te=pe.w||pe.width||te,ne=pe.h||pe.height||ne,re=pe.alias||re,W=pe.compression||W,X=pe.rotation||pe.angle||X}var ge=this.internal.getFilters();if(W===void 0&&ge.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN($)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=M.call(this,A,I,re,W);return x.call(this,$,q,te,ne,U,X),this};var M=function(A,I,$,q){var te,ne,re;if(typeof A=="string"&&s(A)===r){A=unescape(A);var W=G(A,!1);(W!==""||(W=e.loadFile(A,!0))!==void 0)&&(A=W)}if(p(A)&&(A=f(A,I)),I=s(A,I),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((re=$)==null||re.length===0)&&($=function(X){return typeof X=="string"||R(X)?S(X):R(X.data)?S(X.data):null}(A)),(te=v.call(this,$))||(A instanceof Uint8Array||I==="RGBA"||(ne=A,A=L(A)),te=this["process"+I.toUpperCase()](A,d.call(this),$,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in e.image_compression?X:w.NONE}(q),ne)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},G=e.__addimage__.convertBase64ToBinaryString=function(A,I){I=typeof I!="boolean"||I;var $,q="";if(typeof A=="string"){var te;$=(te=T(A))!==null&&te!==void 0?te:A;try{q=Mx($)}catch(ne){if(I)throw k($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(A){var I,$,q="";if(p(A)&&(A=f(A)),typeof A=="string"&&s(A)===r&&((q=G(A,!1))===""&&(q=e.loadFile(A)||""),A=q),$=s(A),!h($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(A instanceof Uint8Array||(A=L(A)),!(I=this["process"+$.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=$,I}})(Ct.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(g(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(g(w))+") >>",m.content=i;var S=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(m.objId,"0 R",x.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var T=this.annotations._nameMap[n.options.name];n.options.pageNumber=T.page,n.options.top=T.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var R=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+R+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+i)},options:a,type:"link"})},e.textWithLink=function(r,n,s,i){var a,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;a=Math.ceil(u*d)}else l=c,a=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-u,l,a,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ct.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=e.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&s.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(m){var x=0,g=r,w="",S=0;for(x=0;x<m.length;x+=1)g[m.charCodeAt(x)]!==void 0?(S++,typeof(g=g[m.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(g),g=r,S=0),x===m.length-1&&(g=r,w+=m.charAt(x-(S-1)),x-=S-1,S=0)):(g=r,w+=m.charAt(x-S),x-=S,S=0);return w};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(m,x,g){return a(m)?i(m)===!1?-1:!u(m)||!a(x)&&!a(g)||!a(g)&&l(x)||l(m)&&!a(x)||l(m)&&c(x)||l(m)&&l(x)?0:d(m)&&a(x)&&!l(x)&&a(g)&&u(g)?3:l(m)||!a(g)?1:2:-1},f=function(m){var x=0,g=0,w=0,S="",k="",T="",R=(m=m||"").split("\\s+"),L=[];for(x=0;x<R.length;x+=1){for(L.push(""),g=0;g<R[x].length;g+=1)S=R[x][g],k=R[x][g-1],T=R[x][g+1],a(S)?(w=p(S,k,T),L[x]+=w!==-1?String.fromCharCode(t[S.charCodeAt(0)][w]):S):L[x]+=S;L[x]=h(L[x])}return L.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var m,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(x)){var w=0;for(g=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?g.push([f(x[w][0]),x[w][1],x[w][2]]):g.push([f(x[w])]);m=g}else m=f(x);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",v])}(Ct.API),Ct.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ct.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,f=0,v=0,m=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=u.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,k){return S.concat(x.splitTextToSize(k,g))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)f<(m=this.getStringUnitWidth(c[w],{font:h})*d)&&(f=m);return f!==0&&(v=c.length),{w:f/=p,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,v,m,x,g=[],w=[],S=[],k={},T={},R=[],L=[],D=(p=p||{}).autoSize||!1,M=p.printHeaders!==!1,G=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,A=p.margins||Object.assign({width:this.getPageWidth()},t),I=typeof p.padding=="number"?p.padding:3,$=p.headerBackgroundColor||"#c8c8c8",q=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=q,this.setFontSize(G),h==null)w=g=Object.keys(d[0]),S=g.map(function(){return"left"});else if(Array.isArray(h)&&Yr(h[0])==="object")for(g=h.map(function(pe){return pe.name}),w=h.map(function(pe){return pe.prompt||pe.name||""}),S=h.map(function(pe){return pe.align||"left"}),f=0;f<h.length;f+=1)T[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(w=g=h,S=g.map(function(){return"left"}));if(D||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<g.length;f+=1){for(k[x=g[f]]=d.map(function(pe){return pe[x]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=k[x],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)R.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[x]=Math.max.apply(null,R)+I+I,R=[]}if(M){var te={};for(f=0;f<g.length;f+=1)te[g[f]]={},te[g[f]].text=w[f],te[g[f]].align=S[f];var ne=l.call(this,te,T);L=g.map(function(pe){return new i(c,u,T[pe],ne,te[pe].text,void 0,te[pe].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var re=h.reduce(function(pe,ge){return pe[ge.name]=ge.align,pe},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var W=l.call(this,d[f],T);for(m=0;m<g.length;m+=1){var X=d[f][g[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:m,data:X},this),a.call(this,new i(c,u,T[g[m]],W,X,f+2,re[g[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(f){var v=c[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+d+d},this).reduce(function(f,v){return Math.max(f,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Ct.API);var sW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},iW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wk=nW(iW),aW=[100,200,300,400,500,600,700,800,900],cwe=nW(aW);function vS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return sW[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof wk[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function rM(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var uwe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},nM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sM(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function iM(e){return e.trimLeft()}function dwe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function hwe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ex,aM,oM,Df,tx,lM,cM,uM,yS=["times"];function dM(e,t,r,n,s){var i=4,a=fM;switch(s){case Ct.API.image_compression.FAST:i=1,a=hM;break;case Ct.API.image_compression.MEDIUM:i=6,a=pM;break;case Ct.API.image_compression.SLOW:i=9,a=mM}e=function(c,u,d,h){for(var p,f=c.length/u,v=new Uint8Array(c.length+f),m=[fwe,hM,fM,pM,mM],x=0;x<f;x+=1){var g=x*u,w=c.subarray(g,g+u);if(h)v.set(h(w,d,p),g+x);else{for(var S=m.length,k=[],T=0;T<S;T+=1)k[T]=m[T](w,d,p);var R=mwe(k.concat());v.set(k[R],g+x)}p=w}return v}(e,t,Math.ceil(r*n/8),a);var l=ok(e,{level:i});return Ct.API.__addimage__.arrayBufferToBinaryString(l)}function fwe(e){var t=Array.apply([],e);return t.unshift(0),t}function hM(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function fM(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var a=r&&r[i]||0;s[i+1]=e[i]-a+256&255}return s}function pM(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var a=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(a+l>>>1)&255}return s}function mM(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var a=pwe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-a+256&255}return s}function pwe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function mwe(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function xS(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),a=(1<<r)-1;return oW(e,s)>>i&a}function gM(e,t,r,n){var s=r*n,i=Math.floor(s/8),a=16-(s-8*i+n),l=(1<<n)-1,c=(t&l)<<a;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var p=h>>8&255;u.setUint8(d,p)}})(e,i,oW(e,i)&~(l<<a)&65535|c)}function oW(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function gwe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<1+(7&s);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=a,t+=3*a);var u=!0,d=[],h=0,p=null,f=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&m||(p=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,k=e[t++],T=k>>6&1,R=1<<1+(7&k),L=l,D=c,M=!1;k>>7&&(M=!0,L=t,D=R,t+=3*R);var G=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}d.push({x,y:g,width:w,height:S,has_local_palette:M,palette_offset:L,palette_size:D,data_offset:G,data_length:t-G,transparent_index:p,interlaced:!!T,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,$){var q=this.frameInfo(I),te=q.width*q.height,ne=new Uint8Array(te);vM(e,q.data_offset,ne,te);var re=q.palette_offset,W=q.transparent_index;W===null&&(W=256);var X=q.width,pe=r-X,ge=X,U=4*(q.y*r+q.x),b=4*((q.y+q.height)*r+q.x),C=U,E=4*pe;q.interlaced===!0&&(E+=4*r*7);for(var B=8,F=0,Z=ne.length;F<Z;++F){var se=ne[F];if(ge===0&&(ge=X,(C+=E)>=b&&(E=4*pe+4*r*(B-1),C=U+(X+pe)*(B<<1),B>>=1)),se===W)C+=4;else{var le=e[re+3*se],ue=e[re+3*se+1],fe=e[re+3*se+2];$[C++]=fe,$[C++]=ue,$[C++]=le,$[C++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(I,$){var q=this.frameInfo(I),te=q.width*q.height,ne=new Uint8Array(te);vM(e,q.data_offset,ne,te);var re=q.palette_offset,W=q.transparent_index;W===null&&(W=256);var X=q.width,pe=r-X,ge=X,U=4*(q.y*r+q.x),b=4*((q.y+q.height)*r+q.x),C=U,E=4*pe;q.interlaced===!0&&(E+=4*r*7);for(var B=8,F=0,Z=ne.length;F<Z;++F){var se=ne[F];if(ge===0&&(ge=X,(C+=E)>=b&&(E=4*pe+4*r*(B-1),C=U+(X+pe)*(B<<1),B>>=1)),se===W)C+=4;else{var le=e[re+3*se],ue=e[re+3*se+1],fe=e[re+3*se+2];$[C++]=le,$[C++]=ue,$[C++]=fe,$[C++]=255}--ge}}}function vM(e,t,r,n){for(var s=e[t++],i=1<<s,a=i+1,l=a+1,c=s+1,u=(1<<c)-1,d=0,h=0,p=0,f=e[t++],v=new Int32Array(4096),m=null;;){for(;d<16&&f!==0;)h|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<c)break;var x=h&u;if(h>>=c,d-=c,x!==i){if(x===a)break;for(var g=x<l?x:m,w=0,S=g;S>i;)S=v[S]>>8,++w;var k=S;if(p+w+(g!==x?1:0)>n)return void nn.log("Warning, gif stream longer than expected.");r[p++]=k;var T=p+=w;for(g!==x&&(r[p++]=k),S=g;w--;)S=v[S],r[--T]=255&S,S>>=8;m!==null&&l<4096&&(v[l++]=m<<8|k,l>=u+1&&c<12&&(++c,u=u<<1|1)),m=x}else l=a+1,u=(1<<(c=s+1))-1,m=null}return p!==n&&nn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function wS(e){var t,r,n,s,i,a=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),v=new Array(64),m=[],x=0,g=7,w=new Array(64),S=new Array(64),k=new Array(64),T=new Array(256),R=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(U,b){for(var C=0,E=0,B=new Array,F=1;F<=16;F++){for(var Z=1;Z<=U[F];Z++)B[b[E]]=[],B[b[E]][0]=C,B[b[E]][1]=F,E++,C++;C*=2}return B}function re(U){for(var b=U[0],C=U[1]-1;C>=0;)b&1<<C&&(x|=1<<g),C--,--g<0&&(x==255?(W(255),W(0)):W(x),g=7,x=0)}function W(U){m.push(U)}function X(U){W(U>>8&255),W(255&U)}function pe(U,b,C,E,B){for(var F,Z=B[0],se=B[240],le=function(Ne,K){var ce,ve,je,Oe,ke,Le,Xe,at,Qe,bt,tt=0;for(Qe=0;Qe<8;++Qe){ce=Ne[tt],ve=Ne[tt+1],je=Ne[tt+2],Oe=Ne[tt+3],ke=Ne[tt+4],Le=Ne[tt+5],Xe=Ne[tt+6];var Fr=ce+(at=Ne[tt+7]),Vt=ce-at,Ot=ve+Xe,Wt=ve-Xe,lr=je+Le,_t=je-Le,_r=Oe+ke,At=Oe-ke,Dt=Fr+_r,Ur=Fr-_r,Yt=Ot+lr,pt=Ot-lr;Ne[tt]=Dt+Yt,Ne[tt+4]=Dt-Yt;var mr=.707106781*(pt+Ur);Ne[tt+2]=Ur+mr,Ne[tt+6]=Ur-mr;var Pt=.382683433*((Dt=At+_t)-(pt=Wt+Vt)),Ft=.5411961*Dt+Pt,cr=1.306562965*pt+Pt,Dn=.707106781*(Yt=_t+Wt),mt=Vt+Dn,Cs=Vt-Dn;Ne[tt+5]=Cs+Ft,Ne[tt+3]=Cs-Ft,Ne[tt+1]=mt+cr,Ne[tt+7]=mt-cr,tt+=8}for(tt=0,Qe=0;Qe<8;++Qe){ce=Ne[tt],ve=Ne[tt+8],je=Ne[tt+16],Oe=Ne[tt+24],ke=Ne[tt+32],Le=Ne[tt+40],Xe=Ne[tt+48];var Ls=ce+(at=Ne[tt+56]),Sn=ce-at,Hn=ve+Xe,Fn=ve-Xe,Es=je+Le,Ms=je-Le,vd=Oe+ke,Dc=Oe-ke,eo=Ls+vd,Wo=Ls-vd,to=Hn+Es,ro=Hn-Es;Ne[tt]=eo+to,Ne[tt+32]=eo-to;var Na=.707106781*(ro+Wo);Ne[tt+16]=Wo+Na,Ne[tt+48]=Wo-Na;var yd=.382683433*((eo=Dc+Ms)-(ro=Fn+Sn)),Ho=.5411961*eo+yd,xd=1.306562965*ro+yd,lf=.707106781*(to=Ms+Fn),cf=Sn+lf,uf=Sn-lf;Ne[tt+40]=uf+Ho,Ne[tt+24]=uf-Ho,Ne[tt+8]=cf+xd,Ne[tt+56]=cf-xd,tt++}for(Qe=0;Qe<64;++Qe)bt=Ne[Qe]*K[Qe],f[Qe]=bt>0?bt+.5|0:bt-.5|0;return f}(U,b),ue=0;ue<64;++ue)v[L[ue]]=le[ue];var fe=v[0]-C;C=v[0],fe==0?re(E[0]):(re(E[p[F=32767+fe]]),re(h[F]));for(var be=63;be>0&&v[be]==0;)be--;if(be==0)return re(Z),C;for(var Ie,Q=1;Q<=be;){for(var De=Q;v[Q]==0&&Q<=be;)++Q;var Ye=Q-De;if(Ye>=16){Ie=Ye>>4;for(var Ke=1;Ke<=Ie;++Ke)re(se);Ye&=15}F=32767+v[Q],re(B[(Ye<<4)+p[F]]),re(h[F]),Q++}return be!=63&&re(Z),C}function ge(U){U=Math.min(Math.max(U,1),100),i!=U&&(function(b){for(var C=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],E=0;E<64;E++){var B=a((C[E]*b+50)/100);B=Math.min(Math.max(B,1),255),l[L[E]]=B}for(var F=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Z=0;Z<64;Z++){var se=a((F[Z]*b+50)/100);se=Math.min(Math.max(se,1),255),c[L[Z]]=se}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ue=0,fe=0;fe<8;fe++)for(var be=0;be<8;be++)u[ue]=1/(l[L[ue]]*le[fe]*le[be]*8),d[ue]=1/(c[L[ue]]*le[fe]*le[be]*8),ue++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,b){b&&ge(b),m=new Array,x=0,g=7,X(65496),X(65504),X(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),X(1),X(1),W(0),W(0),function(){X(65499),X(132),W(0);for(var ve=0;ve<64;ve++)W(l[ve]);W(1);for(var je=0;je<64;je++)W(c[je])}(),function(ve,je){X(65472),X(17),W(8),X(je),X(ve),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(U.width,U.height),function(){X(65476),X(418),W(0);for(var ve=0;ve<16;ve++)W(D[ve+1]);for(var je=0;je<=11;je++)W(M[je]);W(16);for(var Oe=0;Oe<16;Oe++)W(G[Oe+1]);for(var ke=0;ke<=161;ke++)W(A[ke]);W(1);for(var Le=0;Le<16;Le++)W(I[Le+1]);for(var Xe=0;Xe<=11;Xe++)W($[Xe]);W(17);for(var at=0;at<16;at++)W(q[at+1]);for(var Qe=0;Qe<=161;Qe++)W(te[Qe])}(),X(65498),X(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var C=0,E=0,B=0;x=0,g=7,this.encode.displayName="_encode_";for(var F,Z,se,le,ue,fe,be,Ie,Q,De=U.data,Ye=U.width,Ke=U.height,Ne=4*Ye,K=0;K<Ke;){for(F=0;F<Ne;){for(ue=Ne*K+F,be=-1,Ie=0,Q=0;Q<64;Q++)fe=ue+(Ie=Q>>3)*Ne+(be=4*(7&Q)),K+Ie>=Ke&&(fe-=Ne*(K+1+Ie-Ke)),F+be>=Ne&&(fe-=F+be-Ne+4),Z=De[fe++],se=De[fe++],le=De[fe++],w[Q]=(R[Z]+R[se+256|0]+R[le+512|0]>>16)-128,S[Q]=(R[Z+768|0]+R[se+1024|0]+R[le+1280|0]>>16)-128,k[Q]=(R[Z+1280|0]+R[se+1536|0]+R[le+1792|0]>>16)-128;C=pe(w,u,C,t,n),E=pe(S,d,E,r,s),B=pe(k,d,B,r,s),F+=32}K+=8}if(g>=0){var ce=[];ce[1]=g+1,ce[0]=(1<<g+1)-1,re(ce)}return X(65497),new Uint8Array(m)},e=e||50,function(){for(var U=String.fromCharCode,b=0;b<256;b++)T[b]=U(b)}(),t=ne(D,M),r=ne(I,$),n=ne(G,A),s=ne(q,te),function(){for(var U=1,b=2,C=1;C<=15;C++){for(var E=U;E<b;E++)p[32767+E]=C,h[32767+E]=[],h[32767+E][1]=C,h[32767+E][0]=E;for(var B=-(b-1);B<=-U;B++)p[32767+B]=C,h[32767+B]=[],h[32767+B][1]=C,h[32767+B][0]=b-1+B;U<<=1,b<<=1}}(),function(){for(var U=0;U<256;U++)R[U]=19595*U,R[U+256|0]=38470*U,R[U+512|0]=7471*U+32768,R[U+768|0]=-11059*U,R[U+1024|0]=-21709*U,R[U+1280|0]=32768*U+8421375,R[U+1536|0]=-27439*U,R[U+1792|0]=-5329*U}(),ge(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ho(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yM(e){function t(M){if(!M)throw Error("assert :P")}function r(M,G,A){for(var I=0;4>I;I++)if(M[G+I]!=A.charCodeAt(I))return!0;return!1}function n(M,G,A,I,$){for(var q=0;q<$;q++)M[G+q]=A[I+q]}function s(M,G,A,I){for(var $=0;$<I;$++)M[G+$]=A}function i(M){return new Int32Array(M)}function a(M,G){for(var A=[],I=0;I<M;I++)A.push(new G);return A}function l(M,G){var A=[];return function I($,q,te){for(var ne=te[q],re=0;re<ne&&($.push(te.length>q+1?[]:new G),!(te.length<q+1));re++)I($[re],q+1,te)}(A,0,M),A}var c=function(){var M=this;function G(y,j){for(var P=1<<j-1>>>0;y&P;)P>>>=1;return P?(y&P-1)+P:y}function A(y,j,P,O,V){t(!(O%P));do y[j+(O-=P)]=V;while(0<O)}function I(y,j,P,O,V){if(t(2328>=V),512>=V)var H=i(512);else if((H=i(V))==null)return 0;return function(Y,J,ee,ie,me,Se){var ae,ye,we=J,Ee=1<<ee,_e=i(16),Ae=i(16);for(t(me!=0),t(ie!=null),t(Y!=null),t(0<ee),ye=0;ye<me;++ye){if(15<ie[ye])return 0;++_e[ie[ye]]}if(_e[0]==me)return 0;for(Ae[1]=0,ae=1;15>ae;++ae){if(_e[ae]>1<<ae)return 0;Ae[ae+1]=Ae[ae]+_e[ae]}for(ye=0;ye<me;++ye)ae=ie[ye],0<ie[ye]&&(Se[Ae[ae]++]=ye);if(Ae[15]==1)return(ie=new $).g=0,ie.value=Se[0],A(Y,we,1,Ee,ie),Ee;var Te,ze=-1,$e=Ee-1,jt=0,ct=1,rr=1,yt=1<<ee;for(ye=0,ae=1,me=2;ae<=ee;++ae,me<<=1){if(ct+=rr<<=1,0>(rr-=_e[ae]))return 0;for(;0<_e[ae];--_e[ae])(ie=new $).g=ae,ie.value=Se[ye++],A(Y,we+jt,me,yt,ie),jt=G(jt,ae)}for(ae=ee+1,me=2;15>=ae;++ae,me<<=1){if(ct+=rr<<=1,0>(rr-=_e[ae]))return 0;for(;0<_e[ae];--_e[ae]){if(ie=new $,(jt&$e)!=ze){for(we+=yt,Te=1<<(ze=ae)-ee;15>ze&&!(0>=(Te-=_e[ze]));)++ze,Te<<=1;Ee+=yt=1<<(Te=ze-ee),Y[J+(ze=jt&$e)].g=Te+ee,Y[J+ze].value=we-J-ze}ie.g=ae-ee,ie.value=Se[ye++],A(Y,we+(jt>>ee),me,yt,ie),jt=G(jt,ae)}}return ct!=2*Ae[15]-1?0:Ee}(y,j,P,O,V,H)}function $(){this.value=this.g=0}function q(){this.value=this.g=0}function te(){this.G=a(5,$),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Pd,q)}function ne(y,j,P,O){t(y!=null),t(j!=null),t(2147483648>O),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=j,y.pa=P,y.Jd=j,y.Yc=P+O,y.Zc=4<=O?P+O-4+1:P,Z(y)}function re(y,j){for(var P=0;0<j--;)P|=le(y,128)<<j;return P}function W(y,j){var P=re(y,j);return se(y)?-P:P}function X(y,j,P,O){var V,H=0;for(t(y!=null),t(j!=null),t(4294967288>O),y.Sb=O,y.Ra=0,y.u=0,y.h=0,4<O&&(O=4),V=0;V<O;++V)H+=j[P+V]<<8*V;y.Ra=H,y.bb=O,y.oa=j,y.pa=P}function pe(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Uc-8>>>0,++y.bb,y.u-=8;E(y)&&(y.h=1,y.u=0)}function ge(y,j){if(t(0<=j),!y.h&&j<=Gi){var P=C(y)&Hi[j];return y.u+=j,pe(y),P}return y.h=1,y.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function b(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function C(y){return y.Ra>>>(y.u&Uc-1)>>>0}function E(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Uc}function B(y,j){y.u=j,y.h=E(y)}function F(y){y.u>=Bl&&(t(y.u>=Bl),pe(y))}function Z(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function se(y){return re(y,1)}function le(y,j){var P=y.Ca;0>y.b&&Z(y);var O=y.b,V=P*j>>>8,H=(y.I>>>O>V)+0;for(H?(P-=V,y.I-=V+1<<O>>>0):P=V+1,O=P,V=0;256<=O;)V+=8,O>>=8;return O=7^V+qc[O],y.b-=O,y.Ca=(P<<O)-1,H}function ue(y,j,P){y[j+0]=P>>24&255,y[j+1]=P>>16&255,y[j+2]=P>>8&255,y[j+3]=255&P}function fe(y,j){return y[j+0]|y[j+1]<<8}function be(y,j){return fe(y,j)|y[j+2]<<16}function Ie(y,j){return fe(y,j)|fe(y,j+2)<<16}function Q(y,j){var P=1<<j;return t(y!=null),t(0<j),y.X=i(P),y.X==null?0:(y.Mb=32-j,y.Xa=j,1)}function De(y,j){t(y!=null),t(j!=null),t(y.Xa==j.Xa),n(j.X,0,y.X,0,1<<j.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function Ke(y,j,P,O){t(P!=null),t(O!=null);var V=P[0],H=O[0];return V==0&&(V=(y*H+j/2)/j),H==0&&(H=(j*V+y/2)/y),0>=V||0>=H?0:(P[0]=V,O[0]=H,1)}function Ne(y,j){return y+(1<<j)-1>>>j}function K(y,j){return((4278255360&y)+(4278255360&j)>>>0&4278255360)+((16711935&y)+(16711935&j)>>>0&16711935)>>>0}function ce(y,j){M[j]=function(P,O,V,H,Y,J,ee){var ie;for(ie=0;ie<Y;++ie){var me=M[y](J[ee+ie-1],V,H+ie);J[ee+ie]=K(P[O+ie],me)}}}function ve(){this.ud=this.hd=this.jd=0}function je(y,j){return((4278124286&(y^j))>>>1)+(y&j)>>>0}function Oe(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function ke(y,j){return Oe(y+(y-j+.5>>1))}function Le(y,j,P){return Math.abs(j-P)-Math.abs(y-P)}function Xe(y,j,P,O,V,H,Y){for(O=H[Y-1],P=0;P<V;++P)H[Y+P]=O=K(y[j+P],O)}function at(y,j,P,O,V){var H;for(H=0;H<P;++H){var Y=y[j+H],J=Y>>8&255,ee=16711935&(ee=(ee=16711935&Y)+((J<<16)+J));O[V+H]=(4278255360&Y)+ee>>>0}}function Qe(y,j){j.jd=255&y,j.hd=y>>8&255,j.ud=y>>16&255}function bt(y,j,P,O,V,H){var Y;for(Y=0;Y<O;++Y){var J=j[P+Y],ee=J>>>8,ie=J,me=255&(me=(me=J>>>16)+((y.jd<<24>>24)*(ee<<24>>24)>>>5));ie=255&(ie=(ie+=(y.hd<<24>>24)*(ee<<24>>24)>>>5)+((y.ud<<24>>24)*(me<<24>>24)>>>5)),V[H+Y]=(4278255360&J)+(me<<16)+ie}}function tt(y,j,P,O,V){M[j]=function(H,Y,J,ee,ie,me,Se,ae,ye){for(ee=Se;ee<ae;++ee)for(Se=0;Se<ye;++Se)ie[me++]=V(J[O(H[Y++])])},M[y]=function(H,Y,J,ee,ie,me,Se){var ae=8>>H.b,ye=H.Ea,we=H.K[0],Ee=H.w;if(8>ae)for(H=(1<<H.b)-1,Ee=(1<<ae)-1;Y<J;++Y){var _e,Ae=0;for(_e=0;_e<ye;++_e)_e&H||(Ae=O(ee[ie++])),me[Se++]=V(we[Ae&Ee]),Ae>>=ae}else M["VP8LMapColor"+P](ee,ie,we,Ee,me,Se,Y,J,ye)}}function Fr(y,j,P,O,V){for(P=j+P;j<P;){var H=y[j++];O[V++]=H>>16&255,O[V++]=H>>8&255,O[V++]=255&H}}function Vt(y,j,P,O,V){for(P=j+P;j<P;){var H=y[j++];O[V++]=H>>16&255,O[V++]=H>>8&255,O[V++]=255&H,O[V++]=H>>24&255}}function Ot(y,j,P,O,V){for(P=j+P;j<P;){var H=(Y=y[j++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;O[V++]=H,O[V++]=Y}}function Wt(y,j,P,O,V){for(P=j+P;j<P;){var H=(Y=y[j++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;O[V++]=H,O[V++]=Y}}function lr(y,j,P,O,V){for(P=j+P;j<P;){var H=y[j++];O[V++]=255&H,O[V++]=H>>8&255,O[V++]=H>>16&255}}function _t(y,j,P,O,V,H){if(H==0)for(P=j+P;j<P;)ue(O,((H=y[j++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),V+=32;else n(O,V,y,j,P)}function _r(y,j){M[j][0]=M[y+"0"],M[j][1]=M[y+"1"],M[j][2]=M[y+"2"],M[j][3]=M[y+"3"],M[j][4]=M[y+"4"],M[j][5]=M[y+"5"],M[j][6]=M[y+"6"],M[j][7]=M[y+"7"],M[j][8]=M[y+"8"],M[j][9]=M[y+"9"],M[j][10]=M[y+"10"],M[j][11]=M[y+"11"],M[j][12]=M[y+"12"],M[j][13]=M[y+"13"],M[j][14]=M[y+"0"],M[j][15]=M[y+"0"]}function At(y){return y==K2||y==J2||y==By||y==Q2}function Dt(){this.eb=[],this.size=this.A=this.fb=0}function Ur(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Dt,this.f.kb=new Ur,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function mr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Pt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Ft(y,j){var P=y.T,O=j.ba.f.RGBA,V=O.eb,H=O.fb+y.ka*O.A,Y=Ta[j.ba.S],J=y.y,ee=y.O,ie=y.f,me=y.N,Se=y.ea,ae=y.W,ye=j.cc,we=j.dc,Ee=j.Mc,_e=j.Nc,Ae=y.ka,Te=y.ka+y.T,ze=y.U,$e=ze+1>>1;for(Ae==0?Y(J,ee,null,null,ie,me,Se,ae,ie,me,Se,ae,V,H,null,null,ze):(Y(j.ec,j.fc,J,ee,ye,we,Ee,_e,ie,me,Se,ae,V,H-O.A,V,H,ze),++P);Ae+2<Te;Ae+=2)ye=ie,we=me,Ee=Se,_e=ae,me+=y.Rc,ae+=y.Rc,H+=2*O.A,Y(J,(ee+=2*y.fa)-y.fa,J,ee,ye,we,Ee,_e,ie,me,Se,ae,V,H-O.A,V,H,ze);return ee+=y.fa,y.j+Te<y.o?(n(j.ec,j.fc,J,ee,ze),n(j.cc,j.dc,ie,me,$e),n(j.Mc,j.Nc,Se,ae,$e),P--):1&Te||Y(J,ee,null,null,ie,me,Se,ae,ie,me,Se,ae,V,H+O.A,null,null,ze),P}function cr(y,j,P){var O=y.F,V=[y.J];if(O!=null){var H=y.U,Y=j.ba.S,J=Y==$y||Y==By;j=j.ba.f.RGBA;var ee=[0],ie=y.ka;ee[0]=y.T,y.Kb&&(ie==0?--ee[0]:(--ie,V[0]-=y.width),y.j+y.ka+y.T==y.o&&(ee[0]=y.o-y.j-ie));var me=j.eb;ie=j.fb+ie*j.A,y=HA(O,V[0],y.width,H,ee,me,ie+(J?0:3),j.A),t(P==ee),y&&At(Y)&&vg(me,ie,J,H,ee,j.A)}return 0}function Dn(y){var j=y.ma,P=j.ba.S,O=11>P,V=P==Dy||P==Fy||P==$y||P==Y2||P==12||At(P);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!cg(j.Oa,y,V?11:12))return 0;if(V&&At(P)&&ag(),y.da)alert("todo:use_scaling");else{if(O){if(j.Ib=Pt,y.Kb){if(P=y.U+1>>1,j.memory=i(y.U+2*P),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+y.U,j.Mc=j.cc,j.Nc=j.dc+P,j.Ib=Ft,ag()}}else alert("todo:EmitYUV");V&&(j.Jb=cr,O&&so())}if(O&&!c4){for(y=0;256>y;++y)zW[y]=89858*(y-128)+qy>>Uy,HW[y]=-22014*(y-128)+qy,WW[y]=-45773*(y-128),VW[y]=113618*(y-128)+qy>>Uy;for(y=xg;y<e_;++y)j=76283*(y-16)+qy>>Uy,GW[y-xg]=Go(j,255),YW[y-xg]=Go(j+8>>4,15);c4=1}return 1}function mt(y){var j=y.ma,P=y.U,O=y.T;return t(!(1&y.ka)),0>=P||0>=O?0:(P=j.Ib(y,j),j.Jb!=null&&j.Jb(y,j,P),j.Dc+=P,1)}function Cs(y){y.ma.memory=null}function Ls(y,j,P,O){return ge(y,8)!=47?0:(j[0]=ge(y,14)+1,P[0]=ge(y,14)+1,O[0]=ge(y,1),ge(y,3)!=0?0:!y.h)}function Sn(y,j){if(4>y)return y+1;var P=y-2>>1;return(2+(1&y)<<P)+ge(j,P)+1}function Hn(y,j){return 120<j?j-120:1<=(P=((P=AW[j-1])>>4)*y+(8-(15&P)))?P:1;var P}function Fn(y,j,P){var O=C(P),V=y[j+=255&O].g-8;return 0<V&&(B(P,P.u+8),O=C(P),j+=y[j].value,j+=O&(1<<V)-1),B(P,P.u+y[j].g),y[j].value}function Es(y,j,P){return P.g+=y.g,P.value+=y.value<<j>>>0,t(8>=P.g),y.g}function Ms(y,j,P){var O=y.xc;return t((j=O==0?0:y.vc[y.md*(P>>O)+(j>>O)])<y.Wb),y.Ya[j]}function vd(y,j,P,O){var V=y.ab,H=y.c*j,Y=y.C;j=Y+j;var J=P,ee=O;for(O=y.Ta,P=y.Ua;0<V--;){var ie=y.gc[V],me=Y,Se=j,ae=J,ye=ee,we=(ee=O,J=P,ie.Ea);switch(t(me<Se),t(Se<=ie.nc),ie.hc){case 2:Gn(ae,ye,(Se-me)*we,ee,J);break;case 0:var Ee=me,_e=Se,Ae=ee,Te=J,ze=(yt=ie).Ea;Ee==0&&(dg(ae,ye,null,null,1,Ae,Te),Xe(ae,ye+1,0,0,ze-1,Ae,Te+1),ye+=ze,Te+=ze,++Ee);for(var $e=1<<yt.b,jt=$e-1,ct=Ne(ze,yt.b),rr=yt.K,yt=yt.w+(Ee>>yt.b)*ct;Ee<_e;){var ur=rr,vs=yt,nr=1;for(yf(ae,ye,Ae,Te-ze,1,Ae,Te);nr<ze;){var xt=(nr&~jt)+$e;xt>ze&&(xt=ze),(0,fg[ur[vs++]>>8&15])(ae,ye+ +nr,Ae,Te+nr-ze,xt-nr,Ae,Te+nr),nr=xt}ye+=ze,Te+=ze,++Ee&jt||(yt+=ct)}Se!=ie.nc&&n(ee,J-we,ee,J+(Se-me-1)*we,we);break;case 1:for(we=ae,_e=ye,ze=(ae=ie.Ea)-(Te=ae&~(Ae=(ye=1<<ie.b)-1)),Ee=Ne(ae,ie.b),$e=ie.K,ie=ie.w+(me>>ie.b)*Ee;me<Se;){for(jt=$e,ct=ie,rr=new ve,yt=_e+Te,ur=_e+ae;_e<yt;)Qe(jt[ct++],rr),pg(rr,we,_e,ye,ee,J),_e+=ye,J+=ye;_e<ur&&(Qe(jt[ct++],rr),pg(rr,we,_e,ze,ee,J),_e+=ze,J+=ze),++me&Ae||(ie+=Ee)}break;case 3:if(ae==ee&&ye==J&&0<ie.b){for(_e=ee,ae=we=J+(Se-me)*we-(Te=(Se-me)*Ne(ie.Ea,ie.b)),ye=ee,Ae=J,Ee=[],Te=(ze=Te)-1;0<=Te;--Te)Ee[Te]=ye[Ae+Te];for(Te=ze-1;0<=Te;--Te)_e[ae+Te]=Ee[Te];Oy(ie,me,Se,ee,we,ee,J)}else Oy(ie,me,Se,ae,ye,ee,J)}J=O,ee=P}ee!=P&&n(O,P,J,ee,H)}function Dc(y,j){var P=y.V,O=y.Ba+y.c*y.C,V=j-y.C;if(t(j<=y.l.o),t(16>=V),0<V){var H=y.l,Y=y.Ta,J=y.Ua,ee=H.width;if(vd(y,V,P,O),V=J=[J],t((P=y.C)<(O=j)),t(H.v<H.va),O>H.o&&(O=H.o),P<H.j){var ie=H.j-P;P=H.j,V[0]+=ie*ee}if(P>=O?P=0:(V[0]+=4*H.v,H.ka=P-H.j,H.U=H.va-H.v,H.T=O-P,P=1),P){if(J=J[0],11>(P=y.ca).S){var me=P.f.RGBA,Se=(O=P.S,V=H.U,H=H.T,ie=me.eb,me.A),ae=H;for(me=me.fb+y.Ma*me.A;0<ae--;){var ye=Y,we=J,Ee=V,_e=ie,Ae=me;switch(O){case Iy:mg(ye,we,Ee,_e,Ae);break;case Dy:zc(ye,we,Ee,_e,Ae);break;case K2:zc(ye,we,Ee,_e,Ae),vg(_e,Ae,0,Ee,1,0);break;case XA:Td(ye,we,Ee,_e,Ae);break;case Fy:_t(ye,we,Ee,_e,Ae,1);break;case J2:_t(ye,we,Ee,_e,Ae,1),vg(_e,Ae,0,Ee,1,0);break;case $y:_t(ye,we,Ee,_e,Ae,0);break;case By:_t(ye,we,Ee,_e,Ae,0),vg(_e,Ae,1,Ee,1,0);break;case Y2:Vc(ye,we,Ee,_e,Ae);break;case Q2:Vc(ye,we,Ee,_e,Ae),WA(_e,Ae,Ee,1,0);break;case e4:Wc(ye,we,Ee,_e,Ae);break;default:t(0)}J+=ee,me+=Se}y.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=P.height)}}y.C=j,t(y.C<=y.i)}function eo(y){var j;if(0<y.ua)return 0;for(j=0;j<y.Wb;++j){var P=y.Ya[j].G,O=y.Ya[j].H;if(0<P[1][O[1]+0].g||0<P[2][O[2]+0].g||0<P[3][O[3]+0].g)return 0}return 1}function Wo(y,j,P,O,V,H){if(y.Z!=0){var Y=y.qd,J=y.rd;for(t(Yc[y.Z]!=null);j<P;++j)Yc[y.Z](Y,J,O,V,O,V,H),Y=O,J=V,V+=H;y.qd=Y,y.rd=J}}function to(y,j){var P=y.l.ma,O=P.Z==0||P.Z==1?y.l.j:y.C;if(O=y.C<O?O:y.C,t(j<=y.l.o),j>O){var V=y.l.width,H=P.ca,Y=P.tb+V*O,J=y.V,ee=y.Ba+y.c*O,ie=y.gc;t(y.ab==1),t(ie[0].hc==3),Qo(ie[0],O,j,J,ee,H,Y),Wo(P,O,j,H,Y,V)}y.C=y.Ma=j}function ro(y,j,P,O,V,H,Y){var J=y.$/O,ee=y.$%O,ie=y.m,me=y.s,Se=P+y.$,ae=Se;V=P+O*V;var ye=P+O*H,we=280+me.ua,Ee=y.Pb?J:16777216,_e=0<me.ua?me.Wa:null,Ae=me.wc,Te=Se<ye?Ms(me,ee,J):null;t(y.C<H),t(ye<=V);var ze=!1;e:for(;;){for(;ze||Se<ye;){var $e=0;if(J>=Ee){var jt=Se-P;t((Ee=y).Pb),Ee.wd=Ee.m,Ee.xd=jt,0<Ee.s.ua&&De(Ee.s.Wa,Ee.s.vb),Ee=J+TW}if(ee&Ae||(Te=Ms(me,ee,J)),t(Te!=null),Te.Qb&&(j[Se]=Te.qb,ze=!0),!ze)if(F(ie),Te.jc){$e=ie,jt=j;var ct=Se,rr=Te.pd[C($e)&Pd-1];t(Te.jc),256>rr.g?(B($e,$e.u+rr.g),jt[ct]=rr.value,$e=0):(B($e,$e.u+rr.g-256),t(256<=rr.value),$e=rr.value),$e==0&&(ze=!0)}else $e=Fn(Te.G[0],Te.H[0],ie);if(ie.h)break;if(ze||256>$e){if(!ze)if(Te.nd)j[Se]=(Te.qb|$e<<8)>>>0;else{if(F(ie),ze=Fn(Te.G[1],Te.H[1],ie),F(ie),jt=Fn(Te.G[2],Te.H[2],ie),ct=Fn(Te.G[3],Te.H[3],ie),ie.h)break;j[Se]=(ct<<24|ze<<16|$e<<8|jt)>>>0}if(ze=!1,++Se,++ee>=O&&(ee=0,++J,Y!=null&&J<=H&&!(J%16)&&Y(y,J),_e!=null))for(;ae<Se;)$e=j[ae++],_e.X[(506832829*$e&4294967295)>>>_e.Mb]=$e}else if(280>$e){if($e=Sn($e-256,ie),jt=Fn(Te.G[4],Te.H[4],ie),F(ie),jt=Hn(O,jt=Sn(jt,ie)),ie.h)break;if(Se-P<jt||V-Se<$e)break e;for(ct=0;ct<$e;++ct)j[Se+ct]=j[Se+ct-jt];for(Se+=$e,ee+=$e;ee>=O;)ee-=O,++J,Y!=null&&J<=H&&!(J%16)&&Y(y,J);if(t(Se<=V),ee&Ae&&(Te=Ms(me,ee,J)),_e!=null)for(;ae<Se;)$e=j[ae++],_e.X[(506832829*$e&4294967295)>>>_e.Mb]=$e}else{if(!($e<we))break e;for(ze=$e-280,t(_e!=null);ae<Se;)$e=j[ae++],_e.X[(506832829*$e&4294967295)>>>_e.Mb]=$e;$e=Se,t(!(ze>>>(jt=_e).Xa)),j[$e]=jt.X[ze],ze=!0}ze||t(ie.h==E(ie))}if(y.Pb&&ie.h&&Se<V)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&De(y.s.vb,y.s.Wa);else{if(ie.h)break e;Y!=null&&Y(y,J>H?H:J),y.a=0,y.$=Se-P}return 1}return y.a=3,0}function Na(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var j=y.Wa;j!=null&&(j.X=null),y.vb=null,t(y!=null)}function yd(){var y=new Ht;return y==null?null:(y.a=0,y.xb=n4,_r("Predictor","VP8LPredictors"),_r("Predictor","VP8LPredictors_C"),_r("PredictorAdd","VP8LPredictorsAdd"),_r("PredictorAdd","VP8LPredictorsAdd_C"),Gn=at,pg=bt,mg=Fr,zc=Vt,Vc=Ot,Wc=Wt,Td=lr,M.VP8LMapColor32b=Jo,M.VP8LMapColor8b=hg,y)}function Ho(y,j,P,O,V){var H=1,Y=[y],J=[j],ee=O.m,ie=O.s,me=null,Se=0;e:for(;;){if(P)for(;H&&ge(ee,1);){var ae=Y,ye=J,we=O,Ee=1,_e=we.m,Ae=we.gc[we.ab],Te=ge(_e,2);if(we.Oc&1<<Te)H=0;else{switch(we.Oc|=1<<Te,Ae.hc=Te,Ae.Ea=ae[0],Ae.nc=ye[0],Ae.K=[null],++we.ab,t(4>=we.ab),Te){case 0:case 1:Ae.b=ge(_e,3)+2,Ee=Ho(Ne(Ae.Ea,Ae.b),Ne(Ae.nc,Ae.b),0,we,Ae.K),Ae.K=Ae.K[0];break;case 3:var ze,$e=ge(_e,8)+1,jt=16<$e?0:4<$e?1:2<$e?2:3;if(ae[0]=Ne(Ae.Ea,jt),Ae.b=jt,ze=Ee=Ho($e,1,0,we,Ae.K)){var ct,rr=$e,yt=Ae,ur=1<<(8>>yt.b),vs=i(ur);if(vs==null)ze=0;else{var nr=yt.K[0],xt=yt.w;for(vs[0]=yt.K[0][0],ct=1;ct<1*rr;++ct)vs[ct]=K(nr[xt+ct],vs[ct-1]);for(;ct<4*ur;++ct)vs[ct]=0;yt.K[0]=null,yt.K[0]=vs,ze=1}}Ee=ze;break;case 2:break;default:t(0)}H=Ee}}if(Y=Y[0],J=J[0],H&&ge(ee,1)&&!(H=1<=(Se=ge(ee,4))&&11>=Se)){O.a=3;break e}var Je;if(Je=H)t:{var Kn,er,gr,yn=O,Fs=Y,ui=J,$n=Se,Js=P,di=yn.m,ys=yn.s,jr=[null],qr=1,Bn=0,zr=PW[$n];r:for(;;){if(Js&&ge(di,1)){var $s=ge(di,3)+2,ao=Ne(Fs,$s),Jn=Ne(ui,$s),Ai=ao*Jn;if(!Ho(ao,Jn,0,yn,jr))break r;for(jr=jr[0],ys.xc=$s,Kn=0;Kn<Ai;++Kn){var en=jr[Kn]>>8&65535;jr[Kn]=en,en>=qr&&(qr=en+1)}}if(di.h)break r;for(er=0;5>er;++er){var xs=t4[er];!er&&0<$n&&(xs+=1<<$n),Bn<xs&&(Bn=xs)}var Ki=a(qr*zr,$),hi=qr,Ji=a(hi,te);if(Ji==null)var Qi=null;else t(65536>=hi),Qi=Ji;var Pi=i(Bn);if(Qi==null||Pi==null||Ki==null){yn.a=1;break r}var Zi=Ki;for(Kn=gr=0;Kn<qr;++Kn){var un=Qi[Kn],Xi=un.G,oo=un.H,Od=0,zl=1,Bs=0;for(er=0;5>er;++er){xs=t4[er],Xi[er]=Zi,oo[er]=gr,!er&&0<$n&&(xs+=1<<$n);s:{var Vy,t_=xs,Wy=yn,wg=Pi,QW=Zi,ZW=gr,r_=0,Kc=Wy.m,XW=ge(Kc,1);if(s(wg,0,0,t_),XW){var eH=ge(Kc,1)+1,tH=ge(Kc,1),h4=ge(Kc,tH==0?1:8);wg[h4]=1,eH==2&&(wg[h4=ge(Kc,8)]=1);var Hy=1}else{var f4=i(19),p4=ge(Kc,4)+4;if(19<p4){Wy.a=3;var Gy=0;break s}for(Vy=0;Vy<p4;++Vy)f4[EW[Vy]]=ge(Kc,3);var n_=void 0,bg=void 0,m4=Wy,rH=f4,Yy=t_,g4=wg,s_=0,Jc=m4.m,v4=8,y4=a(128,$);n:for(;I(y4,0,7,rH,19);){if(ge(Jc,1)){var nH=2+2*ge(Jc,3);if((n_=2+ge(Jc,nH))>Yy)break n}else n_=Yy;for(bg=0;bg<Yy&&n_--;){F(Jc);var x4=y4[0+(127&C(Jc))];B(Jc,Jc.u+x4.g);var wf=x4.value;if(16>wf)g4[bg++]=wf,wf!=0&&(v4=wf);else{var sH=wf==16,w4=wf-16,iH=kW[w4],b4=ge(Jc,NW[w4])+iH;if(bg+b4>Yy)break n;for(var aH=sH?v4:0;0<b4--;)g4[bg++]=aH}}s_=1;break n}s_||(m4.a=3),Hy=s_}(Hy=Hy&&!Kc.h)&&(r_=I(QW,ZW,8,wg,t_)),Hy&&r_!=0?Gy=r_:(Wy.a=3,Gy=0)}if(Gy==0)break r;if(zl&&CW[er]==1&&(zl=Zi[gr].g==0),Od+=Zi[gr].g,gr+=Gy,3>=er){var _g,i_=Pi[0];for(_g=1;_g<xs;++_g)Pi[_g]>i_&&(i_=Pi[_g]);Bs+=i_}}if(un.nd=zl,un.Qb=0,zl&&(un.qb=(Xi[3][oo[3]+0].value<<24|Xi[1][oo[1]+0].value<<16|Xi[2][oo[2]+0].value)>>>0,Od==0&&256>Xi[0][oo[0]+0].value&&(un.Qb=1,un.qb+=Xi[0][oo[0]+0].value<<8)),un.jc=!un.Qb&&6>Bs,un.jc){var Ky,Vl=un;for(Ky=0;Ky<Pd;++Ky){var Qc=Ky,Zc=Vl.pd[Qc],Jy=Vl.G[0][Vl.H[0]+Qc];256<=Jy.value?(Zc.g=Jy.g+256,Zc.value=Jy.value):(Zc.g=0,Zc.value=0,Qc>>=Es(Jy,8,Zc),Qc>>=Es(Vl.G[1][Vl.H[1]+Qc],16,Zc),Qc>>=Es(Vl.G[2][Vl.H[2]+Qc],0,Zc),Es(Vl.G[3][Vl.H[3]+Qc],24,Zc))}}}ys.vc=jr,ys.Wb=qr,ys.Ya=Qi,ys.yc=Ki,Je=1;break t}Je=0}if(!(H=Je)){O.a=3;break e}if(0<Se){if(ie.ua=1<<Se,!Q(ie.Wa,Se)){O.a=1,H=0;break e}}else ie.ua=0;var a_=O,_4=Y,oH=J,o_=a_.s,l_=o_.xc;if(a_.c=_4,a_.i=oH,o_.md=Ne(_4,l_),o_.wc=l_==0?-1:(1<<l_)-1,P){O.xb=FW;break e}if((me=i(Y*J))==null){O.a=1,H=0;break e}H=(H=ro(O,me,0,Y,J,J,null))&&!ee.h;break e}return H?(V!=null?V[0]=me:(t(me==null),t(P)),O.$=0,P||Na(ie)):Na(ie),H}function xd(y,j){var P=y.c*y.i,O=P+j+16*j;return t(y.c<=j),y.V=i(O),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+P+j,1)}function lf(y,j){var P=y.C,O=j-P,V=y.V,H=y.Ba+y.c*P;for(t(j<=y.l.o);0<O;){var Y=16<O?16:O,J=y.l.ma,ee=y.l.width,ie=ee*Y,me=J.ca,Se=J.tb+ee*P,ae=y.Ta,ye=y.Ua;vd(y,Y,V,H),GA(ae,ye,me,Se,ie),Wo(J,P,P+Y,me,Se,ee),O-=Y,V+=Y*y.c,P+=Y}t(P==j),y.C=y.Ma=j}function cf(){this.ub=this.yd=this.td=this.Rb=0}function uf(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function T2(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Km(){this.Yb=function(){var y=[];return function j(P,O,V){for(var H=V[O],Y=0;Y<H&&(P.push(V.length>O+1?[]:0),!(V.length<O+1));Y++)j(P[Y],O+1,V)}(y,0,[3,11]),y}()}function my(){this.jb=i(3),this.Wc=l([4,8],Km),this.Xc=l([4,17],Km)}function gy(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ka(){this.ld=this.La=this.dd=this.tc=0}function Jm(){this.Na=this.la=0}function vy(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qm(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yy(){this.uc=this.M=this.Nb=0,this.wa=Array(new ka),this.Y=0,this.ya=Array(new Qm),this.aa=0,this.l=new df}function xy(){this.y=i(16),this.f=i(8),this.ea=i(8)}function wy(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new cf,this.Kc=new uf,this.ed=new gy,this.Qa=new T2,this.Ic=this.$c=this.Aa=0,this.D=new yy,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,U),this.ia=0,this.pb=a(4,vy),this.Pa=new my,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xy),this.Hd=0,this.rb=Array(new Jm),this.sb=0,this.wa=Array(new ka),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qm),this.L=this.aa=0,this.gd=l([4,2],ka),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Go(y,j){return 0>y?0:y>j?j:y}function df(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function R2(){var y=new wy;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,yg||(yg=hf)),y}function ss(y,j,P){return y.a==0&&(y.a=j,y.sc=P,y.cb=0),0}function by(y,j,P){return 3<=P&&y[j+0]==157&&y[j+1]==1&&y[j+2]==42}function Yo(y,j){if(y==null)return 0;if(y.a=0,y.sc="OK",j==null)return ss(y,2,"null VP8Io passed to VP8GetHeaders()");var P=j.data,O=j.w,V=j.ha;if(4>V)return ss(y,7,"Truncated header.");var H=P[O+0]|P[O+1]<<8|P[O+2]<<16,Y=y.Od;if(Y.Rb=!(1&H),Y.td=H>>1&7,Y.yd=H>>4&1,Y.ub=H>>5,3<Y.td)return ss(y,3,"Incorrect keyframe parameters.");if(!Y.yd)return ss(y,4,"Frame not displayable.");O+=3,V-=3;var J=y.Kc;if(Y.Rb){if(7>V)return ss(y,7,"cannot parse picture header");if(!by(P,O,V))return ss(y,3,"Bad code word");J.c=16383&(P[O+4]<<8|P[O+3]),J.Td=P[O+4]>>6,J.i=16383&(P[O+6]<<8|P[O+5]),J.Ud=P[O+6]>>6,O+=7,V-=7,y.za=J.c+15>>4,y.Ub=J.i+15>>4,j.width=J.c,j.height=J.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,s((H=y.Pa).jb,0,255,H.jb.length),t((H=y.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if(Y.ub>V)return ss(y,7,"bad partition length");ne(H=y.m,P,O,Y.ub),O+=Y.ub,V-=Y.ub,Y.Rb&&(J.Ld=se(H),J.Kd=se(H)),J=y.Qa;var ee,ie=y.Pa;if(t(H!=null),t(J!=null),J.Cb=se(H),J.Cb){if(J.Bb=se(H),se(H)){for(J.Fb=se(H),ee=0;4>ee;++ee)J.Zb[ee]=se(H)?W(H,7):0;for(ee=0;4>ee;++ee)J.Lb[ee]=se(H)?W(H,6):0}if(J.Bb)for(ee=0;3>ee;++ee)ie.jb[ee]=se(H)?re(H,8):255}else J.Bb=0;if(H.Ka)return ss(y,3,"cannot parse segment header");if((J=y.ed).zd=se(H),J.Tb=re(H,6),J.wb=re(H,3),J.Pc=se(H),J.Pc&&se(H)){for(ie=0;4>ie;++ie)se(H)&&(J.vd[ie]=W(H,6));for(ie=0;4>ie;++ie)se(H)&&(J.od[ie]=W(H,6))}if(y.L=J.Tb==0?0:J.zd?1:2,H.Ka)return ss(y,3,"cannot parse filter header");var me=V;if(V=ee=O,O=ee+me,J=me,y.Xb=(1<<re(y.m,2))-1,me<3*(ie=y.Xb))P=7;else{for(ee+=3*ie,J-=3*ie,me=0;me<ie;++me){var Se=P[V+0]|P[V+1]<<8|P[V+2]<<16;Se>J&&(Se=J),ne(y.Jc[+me],P,ee,Se),ee+=Se,J-=Se,V+=3}ne(y.Jc[+ie],P,ee,J),P=ee<O?0:5}if(P!=0)return ss(y,P,"cannot parse partitions");for(P=re(ee=y.m,7),V=se(ee)?W(ee,4):0,O=se(ee)?W(ee,4):0,J=se(ee)?W(ee,4):0,ie=se(ee)?W(ee,4):0,ee=se(ee)?W(ee,4):0,me=y.Qa,Se=0;4>Se;++Se){if(me.Cb){var ae=me.Zb[Se];me.Fb||(ae+=P)}else{if(0<Se){y.pb[Se]=y.pb[0];continue}ae=P}var ye=y.pb[Se];ye.Sc[0]=Z2[Go(ae+V,127)],ye.Sc[1]=X2[Go(ae+0,127)],ye.Eb[0]=2*Z2[Go(ae+O,127)],ye.Eb[1]=101581*X2[Go(ae+J,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=Z2[Go(ae+ie,117)],ye.Qc[1]=X2[Go(ae+ee,127)],ye.lc=ae+ee}if(!Y.Rb)return ss(y,4,"Not a key frame.");for(se(H),Y=y.Pa,P=0;4>P;++P){for(V=0;8>V;++V)for(O=0;3>O;++O)for(J=0;11>J;++J)ie=le(H,IW[P][V][O][J])?re(H,8):LW[P][V][O][J],Y.Wc[P][V].Yb[O][J]=ie;for(V=0;17>V;++V)Y.Xc[P][V]=Y.Wc[P][DW[V]]}return y.kc=se(H),y.kc&&(y.Bd=re(H,8)),y.cb=1}function hf(y,j,P,O,V,H,Y){var J=j[V].Yb[P];for(P=0;16>V;++V){if(!le(y,J[P+0]))return V;for(;!le(y,J[P+1]);)if(J=j[++V].Yb[0],P=0,V==16)return 16;var ee=j[V+1].Yb;if(le(y,J[P+2])){var ie=y,me=0;if(le(ie,(ae=J)[(Se=P)+3]))if(le(ie,ae[Se+6])){for(J=0,Se=2*(me=le(ie,ae[Se+8]))+(ae=le(ie,ae[Se+9+me])),me=0,ae=RW[Se];ae[J];++J)me+=me+le(ie,ae[J]);me+=3+(8<<Se)}else le(ie,ae[Se+7])?(me=7+2*le(ie,165),me+=le(ie,145)):me=5+le(ie,159);else me=le(ie,ae[Se+4])?3+le(ie,ae[Se+5]):2;J=ee[2]}else me=1,J=ee[1];ee=Y+OW[V],0>(ie=y).b&&Z(ie);var Se,ae=ie.b,ye=(Se=ie.Ca>>1)-(ie.I>>ae)>>31;--ie.b,ie.Ca+=ye,ie.Ca|=1,ie.I-=(Se+1&ye)<<ae,H[ee]=((me^ye)-ye)*O[(0<V)+0]}return 16}function _y(y){var j=y.rb[y.sb-1];j.la=0,j.Na=0,s(y.zc,0,0,y.zc.length),y.ja=0}function Ca(y,j,P,O,V){V=y[j+P+32*O]+(V>>3),y[j+P+32*O]=-256&V?0>V?0:255:V}function ps(y,j,P,O,V,H){Ca(y,j,0,P,O+V),Ca(y,j,1,P,O+H),Ca(y,j,2,P,O-H),Ca(y,j,3,P,O-V)}function Pl(y){return(20091*y>>16)+y}function Sy(y,j,P,O){var V,H=0,Y=i(16);for(V=0;4>V;++V){var J=y[j+0]+y[j+8],ee=y[j+0]-y[j+8],ie=(35468*y[j+4]>>16)-Pl(y[j+12]),me=Pl(y[j+4])+(35468*y[j+12]>>16);Y[H+0]=J+me,Y[H+1]=ee+ie,Y[H+2]=ee-ie,Y[H+3]=J-me,H+=4,j++}for(V=H=0;4>V;++V)J=(y=Y[H+0]+4)+Y[H+8],ee=y-Y[H+8],ie=(35468*Y[H+4]>>16)-Pl(Y[H+12]),Ca(P,O,0,0,J+(me=Pl(Y[H+4])+(35468*Y[H+12]>>16))),Ca(P,O,1,0,ee+ie),Ca(P,O,2,0,ee-ie),Ca(P,O,3,0,J-me),H++,O+=32}function O2(y,j,P,O){var V=y[j+0]+4,H=35468*y[j+4]>>16,Y=Pl(y[j+4]),J=35468*y[j+1]>>16;ps(P,O,0,V+Y,y=Pl(y[j+1]),J),ps(P,O,1,V+H,y,J),ps(P,O,2,V-H,y,J),ps(P,O,3,V-Y,y,J)}function L2(y,j,P,O,V){Sy(y,j,P,O),V&&Sy(y,j+16,P,O+4)}function Ko(y,j,P,O){Rd(y,j+0,P,O,1),Rd(y,j+32,P,O+128,1)}function jy(y,j,P,O){var V;for(y=y[j+0]+4,V=0;4>V;++V)for(j=0;4>j;++j)Ca(P,O,j,V,y)}function Ny(y,j,P,O){y[j+0]&&$r(y,j+0,P,O),y[j+16]&&$r(y,j+16,P,O+4),y[j+32]&&$r(y,j+32,P,O+128),y[j+48]&&$r(y,j+48,P,O+128+4)}function ff(y,j,P,O){var V,H=i(16);for(V=0;4>V;++V){var Y=y[j+0+V]+y[j+12+V],J=y[j+4+V]+y[j+8+V],ee=y[j+4+V]-y[j+8+V],ie=y[j+0+V]-y[j+12+V];H[0+V]=Y+J,H[8+V]=Y-J,H[4+V]=ie+ee,H[12+V]=ie-ee}for(V=0;4>V;++V)Y=(y=H[0+4*V]+3)+H[3+4*V],J=H[1+4*V]+H[2+4*V],ee=H[1+4*V]-H[2+4*V],ie=y-H[3+4*V],P[O+0]=Y+J>>3,P[O+16]=ie+ee>>3,P[O+32]=Y-J>>3,P[O+48]=ie-ee>>3,O+=64}function wd(y,j,P){var O,V=j-32,H=Yi,Y=255-y[V-1];for(O=0;O<P;++O){var J,ee=H,ie=Y+y[j-1];for(J=0;J<P;++J)y[j+J]=ee[ie+y[V+J]];j+=32}}function M2(y,j){wd(y,j,4)}function I2(y,j){wd(y,j,8)}function D2(y,j){wd(y,j,16)}function Zm(y,j){var P;for(P=0;16>P;++P)n(y,j+32*P,y,j-32,16)}function ky(y,j){var P;for(P=16;0<P;--P)s(y,j,y[j-1],16),j+=32}function no(y,j,P){var O;for(O=0;16>O;++O)s(j,P+32*O,y,16)}function F2(y,j){var P,O=16;for(P=0;16>P;++P)O+=y[j-1+32*P]+y[j+P-32];no(O>>5,y,j)}function bd(y,j){var P,O=8;for(P=0;16>P;++P)O+=y[j-1+32*P];no(O>>4,y,j)}function Xm(y,j){var P,O=8;for(P=0;16>P;++P)O+=y[j+P-32];no(O>>4,y,j)}function $2(y,j){no(128,y,j)}function Kt(y,j,P){return y+2*j+P+2>>2}function B2(y,j){var P,O=j-32;for(O=new Uint8Array([Kt(y[O-1],y[O+0],y[O+1]),Kt(y[O+0],y[O+1],y[O+2]),Kt(y[O+1],y[O+2],y[O+3]),Kt(y[O+2],y[O+3],y[O+4])]),P=0;4>P;++P)n(y,j+32*P,O,0,O.length)}function U2(y,j){var P=y[j-1],O=y[j-1+32],V=y[j-1+64],H=y[j-1+96];ue(y,j+0,16843009*Kt(y[j-1-32],P,O)),ue(y,j+32,16843009*Kt(P,O,V)),ue(y,j+64,16843009*Kt(O,V,H)),ue(y,j+96,16843009*Kt(V,H,H))}function q2(y,j){var P,O=4;for(P=0;4>P;++P)O+=y[j+P-32]+y[j-1+32*P];for(O>>=3,P=0;4>P;++P)s(y,j+32*P,O,4)}function Tl(y,j){var P=y[j-1+0],O=y[j-1+32],V=y[j-1+64],H=y[j-1-32],Y=y[j+0-32],J=y[j+1-32],ee=y[j+2-32],ie=y[j+3-32];y[j+0+96]=Kt(O,V,y[j-1+96]),y[j+1+96]=y[j+0+64]=Kt(P,O,V),y[j+2+96]=y[j+1+64]=y[j+0+32]=Kt(H,P,O),y[j+3+96]=y[j+2+64]=y[j+1+32]=y[j+0+0]=Kt(Y,H,P),y[j+3+64]=y[j+2+32]=y[j+1+0]=Kt(J,Y,H),y[j+3+32]=y[j+2+0]=Kt(ee,J,Y),y[j+3+0]=Kt(ie,ee,J)}function Rl(y,j){var P=y[j+1-32],O=y[j+2-32],V=y[j+3-32],H=y[j+4-32],Y=y[j+5-32],J=y[j+6-32],ee=y[j+7-32];y[j+0+0]=Kt(y[j+0-32],P,O),y[j+1+0]=y[j+0+32]=Kt(P,O,V),y[j+2+0]=y[j+1+32]=y[j+0+64]=Kt(O,V,H),y[j+3+0]=y[j+2+32]=y[j+1+64]=y[j+0+96]=Kt(V,H,Y),y[j+3+32]=y[j+2+64]=y[j+1+96]=Kt(H,Y,J),y[j+3+64]=y[j+2+96]=Kt(Y,J,ee),y[j+3+96]=Kt(J,ee,ee)}function z2(y,j){var P=y[j-1+0],O=y[j-1+32],V=y[j-1+64],H=y[j-1-32],Y=y[j+0-32],J=y[j+1-32],ee=y[j+2-32],ie=y[j+3-32];y[j+0+0]=y[j+1+64]=H+Y+1>>1,y[j+1+0]=y[j+2+64]=Y+J+1>>1,y[j+2+0]=y[j+3+64]=J+ee+1>>1,y[j+3+0]=ee+ie+1>>1,y[j+0+96]=Kt(V,O,P),y[j+0+64]=Kt(O,P,H),y[j+0+32]=y[j+1+96]=Kt(P,H,Y),y[j+1+32]=y[j+2+96]=Kt(H,Y,J),y[j+2+32]=y[j+3+96]=Kt(Y,J,ee),y[j+3+32]=Kt(J,ee,ie)}function V2(y,j){var P=y[j+0-32],O=y[j+1-32],V=y[j+2-32],H=y[j+3-32],Y=y[j+4-32],J=y[j+5-32],ee=y[j+6-32],ie=y[j+7-32];y[j+0+0]=P+O+1>>1,y[j+1+0]=y[j+0+64]=O+V+1>>1,y[j+2+0]=y[j+1+64]=V+H+1>>1,y[j+3+0]=y[j+2+64]=H+Y+1>>1,y[j+0+32]=Kt(P,O,V),y[j+1+32]=y[j+0+96]=Kt(O,V,H),y[j+2+32]=y[j+1+96]=Kt(V,H,Y),y[j+3+32]=y[j+2+96]=Kt(H,Y,J),y[j+3+64]=Kt(Y,J,ee),y[j+3+96]=Kt(J,ee,ie)}function pf(y,j){var P=y[j-1+0],O=y[j-1+32],V=y[j-1+64],H=y[j-1+96];y[j+0+0]=P+O+1>>1,y[j+2+0]=y[j+0+32]=O+V+1>>1,y[j+2+32]=y[j+0+64]=V+H+1>>1,y[j+1+0]=Kt(P,O,V),y[j+3+0]=y[j+1+32]=Kt(O,V,H),y[j+3+32]=y[j+1+64]=Kt(V,H,H),y[j+3+64]=y[j+2+64]=y[j+0+96]=y[j+1+96]=y[j+2+96]=y[j+3+96]=H}function eg(y,j){var P=y[j-1+0],O=y[j-1+32],V=y[j-1+64],H=y[j-1+96],Y=y[j-1-32],J=y[j+0-32],ee=y[j+1-32],ie=y[j+2-32];y[j+0+0]=y[j+2+32]=P+Y+1>>1,y[j+0+32]=y[j+2+64]=O+P+1>>1,y[j+0+64]=y[j+2+96]=V+O+1>>1,y[j+0+96]=H+V+1>>1,y[j+3+0]=Kt(J,ee,ie),y[j+2+0]=Kt(Y,J,ee),y[j+1+0]=y[j+3+32]=Kt(P,Y,J),y[j+1+32]=y[j+3+64]=Kt(O,P,Y),y[j+1+64]=y[j+3+96]=Kt(V,O,P),y[j+1+96]=Kt(H,V,O)}function _d(y,j){var P;for(P=0;8>P;++P)n(y,j+32*P,y,j-32,8)}function W2(y,j){var P;for(P=0;8>P;++P)s(y,j,y[j-1],8),j+=32}function Ol(y,j,P){var O;for(O=0;8>O;++O)s(j,P+32*O,y,8)}function H2(y,j){var P,O=8;for(P=0;8>P;++P)O+=y[j+P-32]+y[j-1+32*P];Ol(O>>4,y,j)}function tg(y,j){var P,O=4;for(P=0;8>P;++P)O+=y[j+P-32];Ol(O>>3,y,j)}function rg(y,j){var P,O=4;for(P=0;8>P;++P)O+=y[j-1+32*P];Ol(O>>3,y,j)}function Cy(y,j){Ol(128,y,j)}function Ll(y,j,P){var O=y[j-P],V=y[j+0],H=3*(V-O)+G2[1020+y[j-2*P]-y[j+P]],Y=My[112+(H+4>>3)];y[j-P]=Yi[255+O+My[112+(H+3>>3)]],y[j+0]=Yi[255+V-Y]}function ng(y,j,P,O){var V=y[j+0],H=y[j+P];return Pa[255+y[j-2*P]-y[j-P]]>O||Pa[255+H-V]>O}function mf(y,j,P,O){return 4*Pa[255+y[j-P]-y[j+0]]+Pa[255+y[j-2*P]-y[j+P]]<=O}function sg(y,j,P,O,V){var H=y[j-3*P],Y=y[j-2*P],J=y[j-P],ee=y[j+0],ie=y[j+P],me=y[j+2*P],Se=y[j+3*P];return 4*Pa[255+J-ee]+Pa[255+Y-ie]>O?0:Pa[255+y[j-4*P]-H]<=V&&Pa[255+H-Y]<=V&&Pa[255+Y-J]<=V&&Pa[255+Se-me]<=V&&Pa[255+me-ie]<=V&&Pa[255+ie-ee]<=V}function Sd(y,j,P,O){var V=2*O+1;for(O=0;16>O;++O)mf(y,j+O,P,V)&&Ll(y,j+O,P)}function ig(y,j,P,O){var V=2*O+1;for(O=0;16>O;++O)mf(y,j+O*P,1,V)&&Ll(y,j+O*P,1)}function Ey(y,j,P,O){var V;for(V=3;0<V;--V)Sd(y,j+=4*P,P,O)}function Ay(y,j,P,O){var V;for(V=3;0<V;--V)ig(y,j+=4,P,O)}function Ml(y,j,P,O,V,H,Y,J){for(H=2*H+1;0<V--;){if(sg(y,j,P,H,Y))if(ng(y,j,P,J))Ll(y,j,P);else{var ee=y,ie=j,me=P,Se=ee[ie-2*me],ae=ee[ie-me],ye=ee[ie+0],we=ee[ie+me],Ee=ee[ie+2*me],_e=27*(Te=G2[1020+3*(ye-ae)+G2[1020+Se-we]])+63>>7,Ae=18*Te+63>>7,Te=9*Te+63>>7;ee[ie-3*me]=Yi[255+ee[ie-3*me]+Te],ee[ie-2*me]=Yi[255+Se+Ae],ee[ie-me]=Yi[255+ae+_e],ee[ie+0]=Yi[255+ye-_e],ee[ie+me]=Yi[255+we-Ae],ee[ie+2*me]=Yi[255+Ee-Te]}j+=O}}function Il(y,j,P,O,V,H,Y,J){for(H=2*H+1;0<V--;){if(sg(y,j,P,H,Y))if(ng(y,j,P,J))Ll(y,j,P);else{var ee=y,ie=j,me=P,Se=ee[ie-me],ae=ee[ie+0],ye=ee[ie+me],we=My[112+(4+(Ee=3*(ae-Se))>>3)],Ee=My[112+(Ee+3>>3)],_e=we+1>>1;ee[ie-2*me]=Yi[255+ee[ie-2*me]+_e],ee[ie-me]=Yi[255+Se+Ee],ee[ie+0]=Yi[255+ae-we],ee[ie+me]=Yi[255+ye-_e]}j+=O}}function Py(y,j,P,O,V,H){Ml(y,j,P,1,16,O,V,H)}function jd(y,j,P,O,V,H){Ml(y,j,1,P,16,O,V,H)}function Ty(y,j,P,O,V,H){var Y;for(Y=3;0<Y;--Y)Il(y,j+=4*P,P,1,16,O,V,H)}function N(y,j,P,O,V,H){var Y;for(Y=3;0<Y;--Y)Il(y,j+=4,1,P,16,O,V,H)}function z(y,j,P,O,V,H,Y,J){Ml(y,j,V,1,8,H,Y,J),Ml(P,O,V,1,8,H,Y,J)}function oe(y,j,P,O,V,H,Y,J){Ml(y,j,1,V,8,H,Y,J),Ml(P,O,1,V,8,H,Y,J)}function de(y,j,P,O,V,H,Y,J){Il(y,j+4*V,V,1,8,H,Y,J),Il(P,O+4*V,V,1,8,H,Y,J)}function xe(y,j,P,O,V,H,Y,J){Il(y,j+4,1,V,8,H,Y,J),Il(P,O+4,1,V,8,H,Y,J)}function Pe(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new mr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ft(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function St(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new $}function Ht(){this.xb=this.a=0,this.l=new df,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new b,this.Pb=0,this.wd=new b,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new St,this.ab=0,this.gc=a(4,ft),this.Oc=0}function tr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new df,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sr(y,j,P,O,V,H,Y){for(y=y==null?0:y[j+0],j=0;j<Y;++j)V[H+j]=y+P[O+j]&255,y=V[H+j]}function An(y,j,P,O,V,H,Y){var J;if(y==null)Sr(null,null,P,O,V,H,Y);else for(J=0;J<Y;++J)V[H+J]=y[j+J]+P[O+J]&255}function is(y,j,P,O,V,H,Y){if(y==null)Sr(null,null,P,O,V,H,Y);else{var J,ee=y[j+0],ie=ee,me=ee;for(J=0;J<Y;++J)ie=me+(ee=y[j+J])-ie,me=P[O+J]+(-256&ie?0>ie?0:255:ie)&255,ie=ee,V[H+J]=me}}function cn(y,j,P,O){var V=j.width,H=j.o;if(t(y!=null&&j!=null),0>P||0>=O||P+O>H)return null;if(!y.Cc){if(y.ga==null){var Y;if(y.ga=new tr,(Y=y.ga==null)||(Y=j.width*j.o,t(y.Gb.length==0),y.Gb=i(Y),y.Uc=0,y.Gb==null?Y=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,Y=1),Y=!Y),!Y){Y=y.ga;var J=y.Fa,ee=y.P,ie=y.qc,me=y.mb,Se=y.nb,ae=ee+1,ye=ie-1,we=Y.l;if(t(J!=null&&me!=null&&j!=null),Yc[0]=null,Yc[1]=Sr,Yc[2]=An,Yc[3]=is,Y.ca=me,Y.tb=Se,Y.c=j.width,Y.i=j.height,t(0<Y.c&&0<Y.i),1>=ie)j=0;else if(Y.$a=3&J[ee+0],Y.Z=J[ee+0]>>2&3,Y.Lc=J[ee+0]>>4&3,ee=J[ee+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||ee)j=0;else if(we.put=mt,we.ac=Dn,we.bc=Cs,we.ma=Y,we.width=j.width,we.height=j.height,we.Da=j.Da,we.v=j.v,we.va=j.va,we.j=j.j,we.o=j.o,Y.$a)e:{t(Y.$a==1),j=yd();t:for(;;){if(j==null){j=0;break e}if(t(Y!=null),Y.mc=j,j.c=Y.c,j.i=Y.i,j.l=Y.l,j.l.ma=Y,j.l.width=Y.c,j.l.height=Y.i,j.a=0,X(j.m,J,ae,ye),!Ho(Y.c,Y.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&eo(j.s)?(Y.ic=1,J=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(J),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(Y.ic=0,j=xd(j,Y.c)),!j))break t;j=1;break e}Y.mc=null,j=0}else j=ye>=Y.c*Y.i;Y=!j}if(Y)return null;y.ga.Lc!=1?y.Ga=0:O=H-P}t(y.ga!=null),t(P+O<=H);e:{if(j=(J=y.ga).c,H=J.l.o,J.$a==0){if(ae=y.rc,ye=y.Vc,we=y.Fa,ee=y.P+1+P*j,ie=y.mb,me=y.nb+P*j,t(ee<=y.P+y.qc),J.Z!=0)for(t(Yc[J.Z]!=null),Y=0;Y<O;++Y)Yc[J.Z](ae,ye,we,ee,ie,me,j),ae=ie,ye=me,me+=j,ee+=j;else for(Y=0;Y<O;++Y)n(ie,me,we,ee,j),ae=ie,ye=me,me+=j,ee+=j;y.rc=ae,y.Vc=ye}else{if(t(J.mc!=null),j=P+O,t((Y=J.mc)!=null),t(j<=Y.i),Y.C>=j)j=1;else if(J.ic||so(),J.ic){J=Y.V,ae=Y.Ba,ye=Y.c;var Ee=Y.i,_e=(we=1,ee=Y.$/ye,ie=Y.$%ye,me=Y.m,Se=Y.s,Y.$),Ae=ye*Ee,Te=ye*j,ze=Se.wc,$e=_e<Te?Ms(Se,ie,ee):null;t(_e<=Ae),t(j<=Ee),t(eo(Se));t:for(;;){for(;!me.h&&_e<Te;){if(ie&ze||($e=Ms(Se,ie,ee)),t($e!=null),F(me),256>(Ee=Fn($e.G[0],$e.H[0],me)))J[ae+_e]=Ee,++_e,++ie>=ye&&(ie=0,++ee<=j&&!(ee%16)&&to(Y,ee));else{if(!(280>Ee)){we=0;break t}Ee=Sn(Ee-256,me);var jt,ct=Fn($e.G[4],$e.H[4],me);if(F(me),!(_e>=(ct=Hn(ye,ct=Sn(ct,me)))&&Ae-_e>=Ee)){we=0;break t}for(jt=0;jt<Ee;++jt)J[ae+_e+jt]=J[ae+_e+jt-ct];for(_e+=Ee,ie+=Ee;ie>=ye;)ie-=ye,++ee<=j&&!(ee%16)&&to(Y,ee);_e<Te&&ie&ze&&($e=Ms(Se,ie,ee))}t(me.h==E(me))}to(Y,ee>j?j:ee);break t}!we||me.h&&_e<Ae?(we=0,Y.a=me.h?5:3):Y.$=_e,j=we}else j=ro(Y,Y.V,Y.Ba,Y.c,Y.i,j,lf);if(!j){O=0;break e}}P+O>=H&&(y.Cc=1),O=1}if(!O)return null;if(y.Cc&&((O=y.ga)!=null&&(O.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+P*V}function ms(y,j,P,O,V,H){for(;0<V--;){var Y,J=y,ee=j+(P?1:0),ie=y,me=j+(P?0:3);for(Y=0;Y<O;++Y){var Se=ie[me+4*Y];Se!=255&&(Se*=32897,J[ee+4*Y+0]=J[ee+4*Y+0]*Se>>23,J[ee+4*Y+1]=J[ee+4*Y+1]*Se>>23,J[ee+4*Y+2]=J[ee+4*Y+2]*Se>>23)}j+=H}}function as(y,j,P,O,V){for(;0<O--;){var H;for(H=0;H<P;++H){var Y=y[j+2*H+0],J=15&(ie=y[j+2*H+1]),ee=4369*J,ie=(240&ie|ie>>4)*ee>>16;y[j+2*H+0]=(240&Y|Y>>4)*ee>>16&240|(15&Y|Y<<4)*ee>>16>>4&15,y[j+2*H+1]=240&ie|J}j+=V}}function Is(y,j,P,O,V,H,Y,J){var ee,ie,me=255;for(ie=0;ie<V;++ie){for(ee=0;ee<O;++ee){var Se=y[j+ee];H[Y+4*ee]=Se,me&=Se}j+=P,Y+=J}return me!=255}function Dl(y,j,P,O,V){var H;for(H=0;H<V;++H)P[O+H]=y[j+H]>>8}function so(){vg=ms,WA=as,HA=Is,GA=Dl}function Fl(y,j,P){M[y]=function(O,V,H,Y,J,ee,ie,me,Se,ae,ye,we,Ee,_e,Ae,Te,ze){var $e,jt=ze-1>>1,ct=J[ee+0]|ie[me+0]<<16,rr=Se[ae+0]|ye[we+0]<<16;t(O!=null);var yt=3*ct+rr+131074>>2;for(j(O[V+0],255&yt,yt>>16,Ee,_e),H!=null&&(yt=3*rr+ct+131074>>2,j(H[Y+0],255&yt,yt>>16,Ae,Te)),$e=1;$e<=jt;++$e){var ur=J[ee+$e]|ie[me+$e]<<16,vs=Se[ae+$e]|ye[we+$e]<<16,nr=ct+ur+rr+vs+524296,xt=nr+2*(ur+rr)>>3;yt=xt+ct>>1,ct=(nr=nr+2*(ct+vs)>>3)+ur>>1,j(O[V+2*$e-1],255&yt,yt>>16,Ee,_e+(2*$e-1)*P),j(O[V+2*$e-0],255&ct,ct>>16,Ee,_e+(2*$e-0)*P),H!=null&&(yt=nr+rr>>1,ct=xt+vs>>1,j(H[Y+2*$e-1],255&yt,yt>>16,Ae,Te+(2*$e-1)*P),j(H[Y+2*$e+0],255&ct,ct>>16,Ae,Te+(2*$e+0)*P)),ct=ur,rr=vs}1&ze||(yt=3*ct+rr+131074>>2,j(O[V+ze-1],255&yt,yt>>16,Ee,_e+(ze-1)*P),H!=null&&(yt=3*rr+ct+131074>>2,j(H[Y+ze-1],255&yt,yt>>16,Ae,Te+(ze-1)*P)))}}function ag(){Ta[Iy]=$W,Ta[Dy]=s4,Ta[XA]=BW,Ta[Fy]=i4,Ta[$y]=a4,Ta[Y2]=o4,Ta[e4]=UW,Ta[K2]=s4,Ta[J2]=i4,Ta[By]=a4,Ta[Q2]=o4}function gf(y){return y&~qW?0>y?0:255:y>>l4}function Fc(y,j){return gf((19077*y>>8)+(26149*j>>8)-14234)}function Nd(y,j,P){return gf((19077*y>>8)-(6419*j>>8)-(13320*P>>8)+8708)}function kd(y,j){return gf((19077*y>>8)+(33050*j>>8)-17685)}function $c(y,j,P,O,V){O[V+0]=Fc(y,P),O[V+1]=Nd(y,j,P),O[V+2]=kd(y,j)}function Ds(y,j,P,O,V){O[V+0]=kd(y,j),O[V+1]=Nd(y,j,P),O[V+2]=Fc(y,P)}function Cd(y,j,P,O,V){var H=Nd(y,j,P);j=H<<3&224|kd(y,j)>>3,O[V+0]=248&Fc(y,P)|H>>5,O[V+1]=j}function Ed(y,j,P,O,V){var H=240&kd(y,j)|15;O[V+0]=240&Fc(y,P)|Nd(y,j,P)>>4,O[V+1]=H}function og(y,j,P,O,V){O[V+0]=255,$c(y,j,P,O,V+1)}function lg(y,j,P,O,V){Ds(y,j,P,O,V),O[V+3]=255}function ci(y,j,P,O,V){$c(y,j,P,O,V),O[V+3]=255}function $l(y,j,P){M[y]=function(O,V,H,Y,J,ee,ie,me,Se){for(var ae=me+(-2&Se)*P;me!=ae;)j(O[V+0],H[Y+0],J[ee+0],ie,me),j(O[V+1],H[Y+0],J[ee+0],ie,me+P),V+=2,++Y,++ee,me+=2*P;1&Se&&j(O[V+0],H[Y+0],J[ee+0],ie,me)}}function vf(y,j,P){return P==0?y==0?j==0?6:5:j==0?4:0:P}function Ry(y,j,P,O,V){switch(y>>>30){case 3:Rd(j,P,O,V,0);break;case 2:Aa(j,P,O,V);break;case 1:$r(j,P,O,V)}}function Ea(y,j){var P,O,V=j.M,H=j.Nb,Y=y.oc,J=y.pc+40,ee=y.oc,ie=y.pc+584,me=y.oc,Se=y.pc+600;for(P=0;16>P;++P)Y[J+32*P-1]=129;for(P=0;8>P;++P)ee[ie+32*P-1]=129,me[Se+32*P-1]=129;for(0<V?Y[J-1-32]=ee[ie-1-32]=me[Se-1-32]=129:(s(Y,J-32-1,127,21),s(ee,ie-32-1,127,9),s(me,Se-32-1,127,9)),O=0;O<y.za;++O){var ae=j.ya[j.aa+O];if(0<O){for(P=-1;16>P;++P)n(Y,J+32*P-4,Y,J+32*P+12,4);for(P=-1;8>P;++P)n(ee,ie+32*P-4,ee,ie+32*P+4,4),n(me,Se+32*P-4,me,Se+32*P+4,4)}var ye=y.Gd,we=y.Hd+O,Ee=ae.ad,_e=ae.Hc;if(0<V&&(n(Y,J-32,ye[we].y,0,16),n(ee,ie-32,ye[we].f,0,8),n(me,Se-32,ye[we].ea,0,8)),ae.Za){var Ae=Y,Te=J-32+16;for(0<V&&(O>=y.za-1?s(Ae,Te,ye[we].y[15],4):n(Ae,Te,ye[we+1].y,0,4)),P=0;4>P;P++)Ae[Te+128+P]=Ae[Te+256+P]=Ae[Te+384+P]=Ae[Te+0+P];for(P=0;16>P;++P,_e<<=2)Ae=Y,Te=J+u4[P],io[ae.Ob[P]](Ae,Te),Ry(_e,Ee,16*+P,Ae,Te)}else if(Ae=vf(O,V,ae.Ob[0]),Gc[Ae](Y,J),_e!=0)for(P=0;16>P;++P,_e<<=2)Ry(_e,Ee,16*+P,Y,J+u4[P]);for(P=ae.Gc,Ae=vf(O,V,ae.Dd),ql[Ae](ee,ie),ql[Ae](me,Se),_e=Ee,Ae=ee,Te=ie,255&(ae=0|P)&&(170&ae?Zo(_e,256,Ae,Te):Xr(_e,256,Ae,Te)),ae=me,_e=Se,255&(P>>=8)&&(170&P?Zo(Ee,320,ae,_e):Xr(Ee,320,ae,_e)),V<y.Ub-1&&(n(ye[we].y,0,Y,J+480,16),n(ye[we].f,0,ee,ie+224,8),n(ye[we].ea,0,me,Se+224,8)),P=8*H*y.B,ye=y.sa,we=y.ta+16*O+16*H*y.R,Ee=y.qa,ae=y.ra+8*O+P,_e=y.Ha,Ae=y.Ia+8*O+P,P=0;16>P;++P)n(ye,we+P*y.R,Y,J+32*P,16);for(P=0;8>P;++P)n(Ee,ae+P*y.B,ee,ie+32*P,8),n(_e,Ae+P*y.B,me,Se+32*P,8)}}function Ad(y,j,P,O,V,H,Y,J,ee){var ie=[0],me=[0],Se=0,ae=ee!=null?ee.kd:0,ye=ee??new Fe;if(y==null||12>P)return 7;ye.data=y,ye.w=j,ye.ha=P,j=[j],P=[P],ye.gb=[ye.gb];e:{var we=j,Ee=P,_e=ye.gb;if(t(y!=null),t(Ee!=null),t(_e!=null),_e[0]=0,12<=Ee[0]&&!r(y,we[0],"RIFF")){if(r(y,we[0]+8,"WEBP")){_e=3;break e}var Ae=Ie(y,we[0]+4);if(12>Ae||4294967286<Ae){_e=3;break e}if(ae&&Ae>Ee[0]-8){_e=7;break e}_e[0]=Ae,we[0]+=12,Ee[0]-=12}_e=0}if(_e!=0)return _e;for(Ae=0<ye.gb[0],P=P[0];;){e:{var Te=y;Ee=j,_e=P;var ze=ie,$e=me,jt=we=[0];if((yt=Se=[Se])[0]=0,8>_e[0])_e=7;else{if(!r(Te,Ee[0],"VP8X")){if(Ie(Te,Ee[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var ct=Ie(Te,Ee[0]+8),rr=1+be(Te,Ee[0]+12);if(2147483648<=rr*(Te=1+be(Te,Ee[0]+15))){_e=3;break e}jt!=null&&(jt[0]=ct),ze!=null&&(ze[0]=rr),$e!=null&&($e[0]=Te),Ee[0]+=18,_e[0]-=18,yt[0]=1}_e=0}}if(Se=Se[0],we=we[0],_e!=0)return _e;if(Ee=!!(2&we),!Ae&&Se)return 3;if(H!=null&&(H[0]=!!(16&we)),Y!=null&&(Y[0]=Ee),J!=null&&(J[0]=0),Y=ie[0],we=me[0],Se&&Ee&&ee==null){_e=0;break}if(4>P){_e=7;break}if(Ae&&Se||!Ae&&!Se&&!r(y,j[0],"ALPH")){P=[P],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{ct=y,_e=j,Ae=P;var yt=ye.gb;ze=ye.na,$e=ye.P,jt=ye.Sa,rr=22,t(ct!=null),t(Ae!=null),Te=_e[0];var ur=Ae[0];for(t(ze!=null),t(jt!=null),ze[0]=null,$e[0]=null,jt[0]=0;;){if(_e[0]=Te,Ae[0]=ur,8>ur){_e=7;break e}var vs=Ie(ct,Te+4);if(4294967286<vs){_e=3;break e}var nr=8+vs+1&-2;if(rr+=nr,0<yt&&rr>yt){_e=3;break e}if(!r(ct,Te,"VP8 ")||!r(ct,Te,"VP8L")){_e=0;break e}if(ur[0]<nr){_e=7;break e}r(ct,Te,"ALPH")||(ze[0]=ct,$e[0]=Te+8,jt[0]=vs),Te+=nr,ur-=nr}}if(P=P[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],_e!=0)break}P=[P],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(yt=y,_e=j,Ae=P,ze=ye.gb[0],$e=ye.Ja,jt=ye.xa,ct=_e[0],Te=!r(yt,ct,"VP8 "),rr=!r(yt,ct,"VP8L"),t(yt!=null),t(Ae!=null),t($e!=null),t(jt!=null),8>Ae[0])_e=7;else{if(Te||rr){if(yt=Ie(yt,ct+4),12<=ze&&yt>ze-12){_e=3;break e}if(ae&&yt>Ae[0]-8){_e=7;break e}$e[0]=yt,_e[0]+=8,Ae[0]-=8,jt[0]=rr}else jt[0]=5<=Ae[0]&&yt[ct+0]==47&&!(yt[ct+4]>>5),$e[0]=Ae[0];_e=0}if(P=P[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],j=j[0],_e!=0)break;if(4294967286<ye.Ja)return 3;if(J==null||Ee||(J[0]=ye.xa?2:1),Y=[Y],we=[we],ye.xa){if(5>P){_e=7;break}J=Y,ae=we,Ee=H,y==null||5>P?y=0:5<=P&&y[j+0]==47&&!(y[j+4]>>5)?(Ae=[0],yt=[0],ze=[0],X($e=new b,y,j,P),Ls($e,Ae,yt,ze)?(J!=null&&(J[0]=Ae[0]),ae!=null&&(ae[0]=yt[0]),Ee!=null&&(Ee[0]=ze[0]),y=1):y=0):y=0}else{if(10>P){_e=7;break}J=we,y==null||10>P||!by(y,j+3,P-3)?y=0:(ae=y[j+0]|y[j+1]<<8|y[j+2]<<16,Ee=16383&(y[j+7]<<8|y[j+6]),y=16383&(y[j+9]<<8|y[j+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=ye.Ja||!Ee||!y?y=0:(Y&&(Y[0]=Ee),J&&(J[0]=y),y=1))}if(!y||(Y=Y[0],we=we[0],Se&&(ie[0]!=Y||me[0]!=we)))return 3;ee!=null&&(ee[0]=ye,ee.offset=j-ee.w,t(4294967286>j-ee.w),t(ee.offset==ee.ha-P));break}return _e==0||_e==7&&Se&&ee==null?(H!=null&&(H[0]|=ye.na!=null&&0<ye.na.length),O!=null&&(O[0]=Y),V!=null&&(V[0]=we),0):_e}function cg(y,j,P){var O=j.width,V=j.height,H=0,Y=0,J=O,ee=V;if(j.Da=y!=null&&0<y.Da,j.Da&&(J=y.cd,ee=y.bd,H=y.v,Y=y.j,11>P||(H&=-2,Y&=-2),0>H||0>Y||0>=J||0>=ee||H+J>O||Y+ee>V))return 0;if(j.v=H,j.j=Y,j.va=H+J,j.o=Y+ee,j.U=J,j.T=ee,j.da=y!=null&&0<y.da,j.da){if(!Ke(J,ee,P=[y.ib],H=[y.hb]))return 0;j.ib=P[0],j.hb=H[0]}return j.ob=y!=null&&y.ob,j.Kb=y==null||!y.Sd,j.da&&(j.ob=j.ib<3*O/4&&j.hb<3*V/4,j.Kb=0),1}function ug(y){if(y==null)return 2;if(11>y.S){var j=y.f.RGBA;j.fb+=(y.height-1)*j.A,j.A=-j.A}else j=y.f.kb,y=y.height,j.O+=(y-1)*j.fa,j.fa=-j.fa,j.N+=(y-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(y-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(y-1)*j.lb,j.lb=-j.lb);return 0}function Bc(y,j,P,O){if(O==null||0>=y||0>=j)return 2;if(P!=null){if(P.Da){var V=P.cd,H=P.bd,Y=-2&P.v,J=-2&P.j;if(0>Y||0>J||0>=V||0>=H||Y+V>y||J+H>j)return 2;y=V,j=H}if(P.da){if(!Ke(y,j,V=[P.ib],H=[P.hb]))return 2;y=V[0],j=H[0]}}O.width=y,O.height=j;e:{var ee=O.width,ie=O.height;if(y=O.S,0>=ee||0>=ie||!(y>=Iy&&13>y))y=2;else{if(0>=O.Rd&&O.sd==null){Y=H=V=j=0;var me=(J=ee*d4[y])*ie;if(11>y||(H=(ie+1)/2*(j=(ee+1)/2),y==12&&(Y=(V=ee)*ie)),(ie=i(me+2*H+Y))==null){y=1;break e}O.sd=ie,11>y?((ee=O.f.RGBA).eb=ie,ee.fb=0,ee.A=J,ee.size=me):((ee=O.f.kb).y=ie,ee.O=0,ee.fa=J,ee.Fd=me,ee.f=ie,ee.N=0+me,ee.Ab=j,ee.Cd=H,ee.ea=ie,ee.W=0+me+H,ee.Db=j,ee.Ed=H,y==12&&(ee.F=ie,ee.J=0+me+2*H),ee.Tc=Y,ee.lb=V)}if(j=1,V=O.S,H=O.width,Y=O.height,V>=Iy&&13>V)if(11>V)y=O.f.RGBA,j&=(J=Math.abs(y.A))*(Y-1)+H<=y.size,j&=J>=H*d4[V],j&=y.eb!=null;else{y=O.f.kb,J=(H+1)/2,me=(Y+1)/2,ee=Math.abs(y.fa),ie=Math.abs(y.Ab);var Se=Math.abs(y.Db),ae=Math.abs(y.lb),ye=ae*(Y-1)+H;j&=ee*(Y-1)+H<=y.Fd,j&=ie*(me-1)+J<=y.Cd,j=(j&=Se*(me-1)+J<=y.Ed)&ee>=H&ie>=J&Se>=J,j&=y.y!=null,j&=y.f!=null,j&=y.ea!=null,V==12&&(j&=ae>=H,j&=ye<=y.Tc,j&=y.F!=null)}else j=0;y=j?0:2}}return y!=0||P!=null&&P.fd&&(y=ug(O)),y}var Pd=64,Hi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gi=24,Uc=32,Bl=8,qc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ce("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(y){return y},M.Predictor2=function(y,j,P){return j[P+0]},M.Predictor3=function(y,j,P){return j[P+1]},M.Predictor4=function(y,j,P){return j[P-1]},M.Predictor5=function(y,j,P){return je(je(y,j[P+1]),j[P+0])},M.Predictor6=function(y,j,P){return je(y,j[P-1])},M.Predictor7=function(y,j,P){return je(y,j[P+0])},M.Predictor8=function(y,j,P){return je(j[P-1],j[P+0])},M.Predictor9=function(y,j,P){return je(j[P+0],j[P+1])},M.Predictor10=function(y,j,P){return je(je(y,j[P-1]),je(j[P+0],j[P+1]))},M.Predictor11=function(y,j,P){var O=j[P+0];return 0>=Le(O>>24&255,y>>24&255,(j=j[P-1])>>24&255)+Le(O>>16&255,y>>16&255,j>>16&255)+Le(O>>8&255,y>>8&255,j>>8&255)+Le(255&O,255&y,255&j)?O:y},M.Predictor12=function(y,j,P){var O=j[P+0];return(Oe((y>>24&255)+(O>>24&255)-((j=j[P-1])>>24&255))<<24|Oe((y>>16&255)+(O>>16&255)-(j>>16&255))<<16|Oe((y>>8&255)+(O>>8&255)-(j>>8&255))<<8|Oe((255&y)+(255&O)-(255&j)))>>>0},M.Predictor13=function(y,j,P){var O=j[P-1];return(ke((y=je(y,j[P+0]))>>24&255,O>>24&255)<<24|ke(y>>16&255,O>>16&255)<<16|ke(y>>8&255,O>>8&255)<<8|ke(255&y,255&O))>>>0};var dg=M.PredictorAdd0;M.PredictorAdd1=Xe,ce("Predictor2","PredictorAdd2"),ce("Predictor3","PredictorAdd3"),ce("Predictor4","PredictorAdd4"),ce("Predictor5","PredictorAdd5"),ce("Predictor6","PredictorAdd6"),ce("Predictor7","PredictorAdd7"),ce("Predictor8","PredictorAdd8"),ce("Predictor9","PredictorAdd9"),ce("Predictor10","PredictorAdd10"),ce("Predictor11","PredictorAdd11"),ce("Predictor12","PredictorAdd12"),ce("Predictor13","PredictorAdd13");var yf=M.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Gn,Oy=M.ColorIndexInverseTransform,Jo=M.MapARGB,Qo=M.VP8LColorIndexInverseTransformAlpha,hg=M.MapAlpha,fg=M.VP8LPredictorsAdd=[];fg.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var pg,mg,zc,Vc,Wc,Td,Hc,Rd,Aa,Zo,$r,Xr,Yn,gs,Ul,gg,xf,Ly,$A,BA,UA,qA,zA,VA,vg,WA,HA,GA,YA=i(511),KA=i(2041),JA=i(225),QA=i(767),ZA=0,G2=KA,My=JA,Yi=QA,Pa=YA,Iy=0,Dy=1,XA=2,Fy=3,$y=4,Y2=5,e4=6,K2=7,J2=8,By=9,Q2=10,NW=[2,3,7],kW=[3,3,11],t4=[280,256,256,256,40],CW=[0,1,1,1,0],EW=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],AW=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],PW=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],TW=8,Z2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],X2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yg=null,RW=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],OW=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],r4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],LW=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],MW=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],IW=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],DW=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Gc=[],io=[],ql=[],FW=1,n4=2,Yc=[],Ta=[];Fl("UpsampleRgbLinePair",$c,3),Fl("UpsampleBgrLinePair",Ds,3),Fl("UpsampleRgbaLinePair",ci,4),Fl("UpsampleBgraLinePair",lg,4),Fl("UpsampleArgbLinePair",og,4),Fl("UpsampleRgba4444LinePair",Ed,2),Fl("UpsampleRgb565LinePair",Cd,2);var $W=M.UpsampleRgbLinePair,BW=M.UpsampleBgrLinePair,s4=M.UpsampleRgbaLinePair,i4=M.UpsampleBgraLinePair,a4=M.UpsampleArgbLinePair,o4=M.UpsampleRgba4444LinePair,UW=M.UpsampleRgb565LinePair,Uy=16,qy=1<<Uy-1,xg=-227,e_=482,l4=6,qW=(256<<l4)-1,c4=0,zW=i(256),VW=i(256),WW=i(256),HW=i(256),GW=i(e_-xg),YW=i(e_-xg);$l("YuvToRgbRow",$c,3),$l("YuvToBgrRow",Ds,3),$l("YuvToRgbaRow",ci,4),$l("YuvToBgraRow",lg,4),$l("YuvToArgbRow",og,4),$l("YuvToRgba4444Row",Ed,2),$l("YuvToRgb565Row",Cd,2);var u4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zy=[0,2,8],KW=[8,7,6,4,4,2,2,2,1,1,1,1],JW=1;this.WebPDecodeRGBA=function(y,j,P,O,V){var H=Dy,Y=new Pe,J=new Yt;Y.ba=J,J.S=H,J.width=[J.width],J.height=[J.height];var ee=J.width,ie=J.height,me=new pt;if(me==null||y==null)var Se=2;else t(me!=null),Se=Ad(y,j,P,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Se!=0?ee=0:(ee!=null&&(ee[0]=me.width[0]),ie!=null&&(ie[0]=me.height[0]),ee=1),ee){J.width=J.width[0],J.height=J.height[0],O!=null&&(O[0]=J.width),V!=null&&(V[0]=J.height);e:{if(O=new df,(V=new Fe).data=y,V.w=j,V.ha=P,V.kd=1,j=[0],t(V!=null),((y=Ad(V.data,V.w,V.ha,null,null,null,j,null,V))==0||y==7)&&j[0]&&(y=4),(j=y)==0){if(t(Y!=null),O.data=V.data,O.w=V.w+V.offset,O.ha=V.ha-V.offset,O.put=mt,O.ac=Dn,O.bc=Cs,O.ma=Y,V.xa){if((y=yd())==null){Y=1;break e}if(function(ae,ye){var we=[0],Ee=[0],_e=[0];t:for(;;){if(ae==null)return 0;if(ye==null)return ae.a=2,0;if(ae.l=ye,ae.a=0,X(ae.m,ye.data,ye.w,ye.ha),!Ls(ae.m,we,Ee,_e)){ae.a=3;break t}if(ae.xb=n4,ye.width=we[0],ye.height=Ee[0],!Ho(we[0],Ee[0],1,ae,null))break t;return 1}return t(ae.a!=0),0}(y,O)){if(O=(j=Bc(O.width,O.height,Y.Oa,Y.ba))==0){t:{O=y;r:for(;;){if(O==null){O=0;break t}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((P=O.l)!=null),t((V=P.ma)!=null),O.xb!=0){if(O.ca=V.ba,O.tb=V.tb,t(O.ca!=null),!cg(V.Oa,P,Fy)){O.a=2;break r}if(!xd(O,P.width)||P.da)break r;if((P.da||At(O.ca.S))&&so(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&so()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!Q(O.s.vb,O.s.Wa.Xa)){O.a=1;break r}O.xb=0}if(!ro(O,O.V,O.Ba,O.c,O.i,P.o,Dc))break r;V.Dc=O.Ma,O=1;break t}t(O.a!=0),O=0}O=!O}O&&(j=y.a)}else j=y.a}else{if((y=new R2)==null){Y=1;break e}if(y.Fa=V.na,y.P=V.P,y.qc=V.Sa,Yo(y,O)){if((j=Bc(O.width,O.height,Y.Oa,Y.ba))==0){if(y.Aa=0,P=Y.Oa,t((V=y)!=null),P!=null){if(0<(ee=0>(ee=P.Md)?0:100<ee?255:255*ee/100)){for(ie=me=0;4>ie;++ie)12>(Se=V.pb[ie]).lc&&(Se.ia=ee*KW[0>Se.lc?0:Se.lc]>>3),me|=Se.ia;me&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=P.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ae,ye){if(ae==null)return 0;if(ye==null)return ss(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!Yo(ae,ye))return 0;if(t(ae.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(ae.L=0);var we=zy[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=ye.v-we>>4,ae.zb=ye.j-we>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=ye.o+15+we>>4,ae.Hb=ye.va+15+we>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Ee=ae.ed;for(we=0;4>we;++we){var _e;if(ae.Qa.Cb){var Ae=ae.Qa.Lb[we];ae.Qa.Fb||(Ae+=Ee.Tb)}else Ae=Ee.Tb;for(_e=0;1>=_e;++_e){var Te=ae.gd[we][_e],ze=Ae;if(Ee.Pc&&(ze+=Ee.vd[0],_e&&(ze+=Ee.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var $e=ze;0<Ee.wb&&($e=4<Ee.wb?$e>>2:$e>>1)>9-Ee.wb&&($e=9-Ee.wb),1>$e&&($e=1),Te.dd=$e,Te.tc=2*ze+$e,Te.ld=40<=ze?2:15<=ze?1:0}else Te.tc=0;Te.La=_e}}}we=0}else ss(ae,6,"Frame setup failed"),we=ae.a;if(we=we==0){if(we){ae.$c=0,0<ae.Aa||(ae.Ic=JW);t:{we=ae.Ic,Ee=4*($e=ae.za);var jt=32*$e,ct=$e+1,rr=0<ae.L?$e*(0<ae.Aa?2:1):0,yt=(ae.Aa==2?2:1)*$e;if((Te=Ee+832+(_e=3*(16*we+zy[ae.L])/2*jt)+(Ae=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=Te)we=0;else{if(Te>ae.Vb){if(ae.Vb=0,ae.Ec=i(Te),ae.Fc=0,ae.Ec==null){we=ss(ae,1,"no memory during frame initialization.");break t}ae.Vb=Te}Te=ae.Ec,ze=ae.Fc,ae.Ac=Te,ae.Bc=ze,ze+=Ee,ae.Gd=a(jt,xy),ae.Hd=0,ae.rb=a(ct+1,Jm),ae.sb=1,ae.wa=rr?a(rr,ka):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=$e),t(!0),ae.oc=Te,ae.pc=ze,ze+=832,ae.ya=a(yt,Qm),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=$e),ae.R=16*$e,ae.B=8*$e,$e=(jt=zy[ae.L])*ae.R,jt=jt/2*ae.B,ae.sa=Te,ae.ta=ze+$e,ae.qa=ae.sa,ae.ra=ae.ta+16*we*ae.R+jt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*we*ae.B+jt,ae.$c=0,ze+=_e,ae.mb=Ae?Te:null,ae.nb=Ae?ze:null,t(ze+Ae<=ae.Fc+ae.Vb),_y(ae),s(ae.Ac,ae.Bc,0,Ee),we=1}}if(we){if(ye.ka=0,ye.y=ae.sa,ye.O=ae.ta,ye.f=ae.qa,ye.N=ae.ra,ye.ea=ae.Ha,ye.Vd=ae.Ia,ye.fa=ae.R,ye.Rc=ae.B,ye.F=null,ye.J=0,!ZA){for(we=-255;255>=we;++we)YA[255+we]=0>we?-we:we;for(we=-1020;1020>=we;++we)KA[1020+we]=-128>we?-128:127<we?127:we;for(we=-112;112>=we;++we)JA[112+we]=-16>we?-16:15<we?15:we;for(we=-255;510>=we;++we)QA[255+we]=0>we?0:255<we?255:we;ZA=1}Hc=ff,Rd=L2,Zo=Ko,$r=jy,Xr=Ny,Aa=O2,Yn=Py,gs=jd,Ul=z,gg=oe,xf=Ty,Ly=N,$A=de,BA=xe,UA=Sd,qA=ig,zA=Ey,VA=Ay,io[0]=q2,io[1]=M2,io[2]=B2,io[3]=U2,io[4]=Tl,io[5]=z2,io[6]=Rl,io[7]=V2,io[8]=eg,io[9]=pf,Gc[0]=F2,Gc[1]=D2,Gc[2]=Zm,Gc[3]=ky,Gc[4]=bd,Gc[5]=Xm,Gc[6]=$2,ql[0]=H2,ql[1]=I2,ql[2]=_d,ql[3]=W2,ql[4]=rg,ql[5]=tg,ql[6]=Cy,we=1}else we=0}we&&(we=function(ur,vs){for(ur.M=0;ur.M<ur.Va;++ur.M){var nr,xt=ur.Jc[ur.M&ur.Xb],Je=ur.m,Kn=ur;for(nr=0;nr<Kn.za;++nr){var er=Je,gr=Kn,yn=gr.Ac,Fs=gr.Bc+4*nr,ui=gr.zc,$n=gr.ya[gr.aa+nr];if(gr.Qa.Bb?$n.$b=le(er,gr.Pa.jb[0])?2+le(er,gr.Pa.jb[2]):le(er,gr.Pa.jb[1]):$n.$b=0,gr.kc&&($n.Ad=le(er,gr.Bd)),$n.Za=!le(er,145)+0,$n.Za){var Js=$n.Ob,di=0;for(gr=0;4>gr;++gr){var ys,jr=ui[0+gr];for(ys=0;4>ys;++ys){jr=MW[yn[Fs+ys]][jr];for(var qr=r4[le(er,jr[0])];0<qr;)qr=r4[2*qr+le(er,jr[qr])];jr=-qr,yn[Fs+ys]=jr}n(Js,di,yn,Fs,4),di+=4,ui[0+gr]=jr}}else jr=le(er,156)?le(er,128)?1:3:le(er,163)?2:0,$n.Ob[0]=jr,s(yn,Fs,jr,4),s(ui,0,jr,4);$n.Dd=le(er,142)?le(er,114)?le(er,183)?1:3:2:0}if(Kn.m.Ka)return ss(ur,7,"Premature end-of-partition0 encountered.");for(;ur.ja<ur.za;++ur.ja){if(Kn=xt,er=(Je=ur).rb[Je.sb-1],yn=Je.rb[Je.sb+Je.ja],nr=Je.ya[Je.aa+Je.ja],Fs=Je.kc?nr.Ad:0)er.la=yn.la=0,nr.Za||(er.Na=yn.Na=0),nr.Hc=0,nr.Gc=0,nr.ia=0;else{var Bn,zr;if(er=yn,yn=Kn,Fs=Je.Pa.Xc,ui=Je.ya[Je.aa+Je.ja],$n=Je.pb[ui.$b],gr=ui.ad,Js=0,di=Je.rb[Je.sb-1],jr=ys=0,s(gr,Js,0,384),ui.Za)var $s=0,ao=Fs[3];else{qr=i(16);var Jn=er.Na+di.Na;if(Jn=yg(yn,Fs[1],Jn,$n.Eb,0,qr,0),er.Na=di.Na=(0<Jn)+0,1<Jn)Hc(qr,0,gr,Js);else{var Ai=qr[0]+3>>3;for(qr=0;256>qr;qr+=16)gr[Js+qr]=Ai}$s=1,ao=Fs[0]}var en=15&er.la,xs=15&di.la;for(qr=0;4>qr;++qr){var Ki=1&xs;for(Ai=zr=0;4>Ai;++Ai)en=en>>1|(Ki=(Jn=yg(yn,ao,Jn=Ki+(1&en),$n.Sc,$s,gr,Js))>$s)<<7,zr=zr<<2|(3<Jn?3:1<Jn?2:gr[Js+0]!=0),Js+=16;en>>=4,xs=xs>>1|Ki<<7,ys=(ys<<8|zr)>>>0}for(ao=en,$s=xs>>4,Bn=0;4>Bn;Bn+=2){for(zr=0,en=er.la>>4+Bn,xs=di.la>>4+Bn,qr=0;2>qr;++qr){for(Ki=1&xs,Ai=0;2>Ai;++Ai)Jn=Ki+(1&en),en=en>>1|(Ki=0<(Jn=yg(yn,Fs[2],Jn,$n.Qc,0,gr,Js)))<<3,zr=zr<<2|(3<Jn?3:1<Jn?2:gr[Js+0]!=0),Js+=16;en>>=2,xs=xs>>1|Ki<<5}jr|=zr<<4*Bn,ao|=en<<4<<Bn,$s|=(240&xs)<<Bn}er.la=ao,di.la=$s,ui.Hc=ys,ui.Gc=jr,ui.ia=43690&jr?0:$n.ia,Fs=!(ys|jr)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[nr.$b][nr.Za],Je.wa[Je.Y+Je.ja].La|=!Fs),Kn.Ka)return ss(ur,7,"Premature end-of-file encountered.")}if(_y(ur),Je=vs,Kn=1,nr=(xt=ur).D,er=0<xt.L&&xt.M>=xt.zb&&xt.M<=xt.Va,xt.Aa==0)t:{if(nr.M=xt.M,nr.uc=er,Ea(xt,nr),Kn=1,nr=(zr=xt.D).Nb,er=(jr=zy[xt.L])*xt.R,yn=jr/2*xt.B,qr=16*nr*xt.R,Ai=8*nr*xt.B,Fs=xt.sa,ui=xt.ta-er+qr,$n=xt.qa,gr=xt.ra-yn+Ai,Js=xt.Ha,di=xt.Ia-yn+Ai,xs=(en=zr.M)==0,ys=en>=xt.Va-1,xt.Aa==2&&Ea(xt,zr),zr.uc)for(Ki=(Jn=xt).D.M,t(Jn.D.uc),zr=Jn.yb;zr<Jn.Hb;++zr){$s=zr,ao=Ki;var hi=(Ji=(Bs=Jn).D).Nb;Bn=Bs.R;var Ji=Ji.wa[Ji.Y+$s],Qi=Bs.sa,Pi=Bs.ta+16*hi*Bn+16*$s,Zi=Ji.dd,un=Ji.tc;if(un!=0)if(t(3<=un),Bs.L==1)0<$s&&qA(Qi,Pi,Bn,un+4),Ji.La&&VA(Qi,Pi,Bn,un),0<ao&&UA(Qi,Pi,Bn,un+4),Ji.La&&zA(Qi,Pi,Bn,un);else{var Xi=Bs.B,oo=Bs.qa,Od=Bs.ra+8*hi*Xi+8*$s,zl=Bs.Ha,Bs=Bs.Ia+8*hi*Xi+8*$s;hi=Ji.ld,0<$s&&(gs(Qi,Pi,Bn,un+4,Zi,hi),gg(oo,Od,zl,Bs,Xi,un+4,Zi,hi)),Ji.La&&(Ly(Qi,Pi,Bn,un,Zi,hi),BA(oo,Od,zl,Bs,Xi,un,Zi,hi)),0<ao&&(Yn(Qi,Pi,Bn,un+4,Zi,hi),Ul(oo,Od,zl,Bs,Xi,un+4,Zi,hi)),Ji.La&&(xf(Qi,Pi,Bn,un,Zi,hi),$A(oo,Od,zl,Bs,Xi,un,Zi,hi))}}if(xt.ia&&alert("todo:DitherRow"),Je.put!=null){if(zr=16*en,en=16*(en+1),xs?(Je.y=xt.sa,Je.O=xt.ta+qr,Je.f=xt.qa,Je.N=xt.ra+Ai,Je.ea=xt.Ha,Je.W=xt.Ia+Ai):(zr-=jr,Je.y=Fs,Je.O=ui,Je.f=$n,Je.N=gr,Je.ea=Js,Je.W=di),ys||(en-=jr),en>Je.o&&(en=Je.o),Je.F=null,Je.J=null,xt.Fa!=null&&0<xt.Fa.length&&zr<en&&(Je.J=cn(xt,Je,zr,en-zr),Je.F=xt.mb,Je.F==null&&Je.F.length==0)){Kn=ss(xt,3,"Could not decode alpha data.");break t}zr<Je.j&&(jr=Je.j-zr,zr=Je.j,t(!(1&jr)),Je.O+=xt.R*jr,Je.N+=xt.B*(jr>>1),Je.W+=xt.B*(jr>>1),Je.F!=null&&(Je.J+=Je.width*jr)),zr<en&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=zr-Je.j,Je.U=Je.va-Je.v,Je.T=en-zr,Kn=Je.put(Je))}nr+1!=xt.Ic||ys||(n(xt.sa,xt.ta-er,Fs,ui+16*xt.R,er),n(xt.qa,xt.ra-yn,$n,gr+8*xt.B,yn),n(xt.Ha,xt.Ia-yn,Js,di+8*xt.B,yn))}if(!Kn)return ss(ur,6,"Output aborted.")}return 1}(ae,ye)),ye.bc!=null&&ye.bc(ye),we&=1}return we?(ae.cb=0,we):0})(y,O)||(j=y.a)}}else j=y.a}j==0&&Y.Oa!=null&&Y.Oa.fd&&(j=ug(Y.ba))}Y=j}H=Y!=0?null:11>H?J.f.RGBA.eb:J.f.kb.y}else H=null;return H};var d4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(M,G){for(var A="",I=0;I<4;I++)A+=String.fromCharCode(M[G++]);return A}function d(M,G){return M[G+0]|M[G+1]<<8}function h(M,G){return(M[G+0]|M[G+1]<<8|M[G+2]<<16)>>>0}function p(M,G){return(M[G+0]|M[G+1]<<8|M[G+2]<<16|M[G+3]<<24)>>>0}new c;var f=[0],v=[0],m=[],x=new c,g=e,w=function(M,G){var A={},I=0,$=!1,q=0,te=0;if(A.frames=[],!function(U,b){for(var C=0;C<4;C++)if(U[b+C]!="RIFF".charCodeAt(C))return!0;return!1}(M,G)){for(p(M,G+=4),G+=8;G<M.length;){var ne=u(M,G),re=p(M,G+=4);G+=4;var W=re+(1&re);switch(ne){case"VP8 ":case"VP8L":A.frames[I]===void 0&&(A.frames[I]={}),(ge=A.frames[I]).src_off=$?te:G-8,ge.src_size=q+re+8,I++,$&&($=!1,q=0,te=0);break;case"VP8X":(ge=A.header={}).feature_flags=M[G];var X=G+4;ge.canvas_width=1+h(M,X),X+=3,ge.canvas_height=1+h(M,X),X+=3;break;case"ALPH":$=!0,q=W+8,te=G-8;break;case"ANIM":(ge=A.header).bgcolor=p(M,G),X=G+4,ge.loop_count=d(M,X),X+=2;break;case"ANMF":var pe,ge;(ge=A.frames[I]={}).offset_x=2*h(M,G),G+=3,ge.offset_y=2*h(M,G),G+=3,ge.width=1+h(M,G),G+=3,ge.height=1+h(M,G),G+=3,ge.duration=h(M,G),G+=3,pe=M[G++],ge.dispose=1&pe,ge.blend=pe>>1&1}ne!="ANMF"&&(G+=W)}return A}}(g,0);w.response=g,w.rgbaoutput=!0,w.dataurl=!1;var S=w.header?w.header:null,k=w.frames?w.frames:null;if(S){S.loop_counter=S.loop_count,f=[S.canvas_height],v=[S.canvas_width];for(var T=0;T<k.length&&k[T].blend!=0;T++);}var R=k[0],L=x.WebPDecodeRGBA(g,R.src_off,R.src_size,v,f);R.rgba=L,R.imgwidth=v[0],R.imgheight=f[0];for(var D=0;D<v[0]*f[0]*4;D++)m[D]=L[D];return this.width=v,this.height=f,this.data=m,this}(function(e){var t,r,n,s,i,a,l,c,u,d=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new a,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new a,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var b=U;Object.defineProperty(this,"pdf",{get:function(){return b}});var C=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return C},set:function(Q){C=!!Q}});var E=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return E},set:function(Q){E=!!Q}});var B=0;Object.defineProperty(this,"posX",{get:function(){return B},set:function(Q){isNaN(Q)||(B=Q)}});var F=0;Object.defineProperty(this,"posY",{get:function(){return F},set:function(Q){isNaN(Q)||(F=Q)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Q){var De;typeof Q=="number"?De=[Q,Q,Q,Q]:((De=new Array(4))[0]=Q[0],De[1]=Q.length>=2?Q[1]:De[0],De[2]=Q.length>=3?Q[2]:De[0],De[3]=Q.length>=4?Q[3]:De[1]),u.margin=De}});var Z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Z},set:function(Q){Z=Q}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(Q){se=Q}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(Q){le=Q}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Q){Q instanceof d&&(u=Q)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Q){u.path=Q}});var ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return ue},set:function(Q){ue=Q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Q){var De;De=p(Q),this.ctx.fillStyle=De.style,this.ctx.isFillTransparent=De.a===0,this.ctx.fillOpacity=De.a,this.pdf.setFillColor(De.r,De.g,De.b,{a:De.a}),this.pdf.setTextColor(De.r,De.g,De.b,{a:De.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Q){var De=p(Q);this.ctx.strokeStyle=De.style,this.ctx.isStrokeTransparent=De.a===0,this.ctx.strokeOpacity=De.a,De.a===0?this.pdf.setDrawColor(255,255,255):(De.a,this.pdf.setDrawColor(De.r,De.g,De.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Q){["butt","round","square"].indexOf(Q)!==-1&&(this.ctx.lineCap=Q,this.pdf.setLineCap(Q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Q){isNaN(Q)||(this.ctx.lineWidth=Q,this.pdf.setLineWidth(Q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Q){["bevel","round","miter"].indexOf(Q)!==-1&&(this.ctx.lineJoin=Q,this.pdf.setLineJoin(Q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Q){isNaN(Q)||(this.ctx.miterLimit=Q,this.pdf.setMiterLimit(Q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Q){this.ctx.textBaseline=Q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Q){["right","end","center","left","start"].indexOf(Q)!==-1&&(this.ctx.textAlign=Q)}});var fe=null,be=null,Ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ie},set:function(Q){fe=null,be=null,Ie=Q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Q){var De;if(this.ctx.font=Q,(De=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Q))!==null){var Ye=De[1];De[2];var Ke=De[3],Ne=De[4];De[5];var K=De[6],ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(ce==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:ce==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var ve=function(tt){var Fr,Vt,Ot=[],Wt=tt.trim();if(Wt==="")return yS;if(Wt in nM)return[nM[Wt]];for(;Wt!=="";){switch(Vt=null,Fr=(Wt=iM(Wt)).charAt(0)){case'"':case"'":Vt=dwe(Wt.substring(1),Fr);break;default:Vt=hwe(Wt)}if(Vt===null||(Ot.push(Vt[0]),(Wt=iM(Vt[1]))!==""&&Wt.charAt(0)!==","))return yS;Wt=Wt.replace(/^,/,"")}return Ot}(K);if(this.fontFaces){var je=function(tt,Fr){var Vt=tt.getFontList(),Ot=JSON.stringify(Vt);if(fe===null||be!==Ot){var Wt=function(lr){var _t=[];return Object.keys(lr).forEach(function(_r){lr[_r].forEach(function(At){var Dt=null;switch(At){case"bold":Dt={family:_r,weight:"bold"};break;case"italic":Dt={family:_r,style:"italic"};break;case"bolditalic":Dt={family:_r,weight:"bold",style:"italic"};break;case"":case"normal":Dt={family:_r}}Dt!==null&&(Dt.ref={name:_r,style:At},_t.push(Dt))})}),_t}(Vt);fe=function(lr){for(var _t={},_r=0;_r<lr.length;++_r){var At=vS(lr[_r]),Dt=At.family,Ur=At.stretch,Yt=At.style,pt=At.weight;_t[Dt]=_t[Dt]||{},_t[Dt][Ur]=_t[Dt][Ur]||{},_t[Dt][Ur][Yt]=_t[Dt][Ur][Yt]||{},_t[Dt][Ur][Yt][pt]=At}return _t}(Wt.concat(Fr)),be=Ot}return fe}(this.pdf,this.fontFaces),Oe=ve.map(function(tt){return{family:tt,stretch:"normal",weight:Ke,style:Ye}}),ke=function(tt,Fr,Vt){for(var Ot=(Vt=Vt||{}).defaultFontFamily||"times",Wt=Object.assign({},uwe,Vt.genericFontFamilies||{}),lr=null,_t=null,_r=0;_r<Fr.length;++_r)if(Wt[(lr=vS(Fr[_r])).family]&&(lr.family=Wt[lr.family]),tt.hasOwnProperty(lr.family)){_t=tt[lr.family];break}if(!(_t=_t||tt[Ot]))throw new Error("Could not find a font-family for the rule '"+sM(lr)+"' and default family '"+Ot+"'.");if(_t=function(At,Dt){if(Dt[At])return Dt[At];var Ur=wk[At],Yt=Ur<=wk.normal?-1:1,pt=rM(Dt,iW,Ur,Yt);if(!pt)throw new Error("Could not find a matching font-stretch value for "+At);return pt}(lr.stretch,_t),_t=function(At,Dt){if(Dt[At])return Dt[At];for(var Ur=sW[At],Yt=0;Yt<Ur.length;++Yt)if(Dt[Ur[Yt]])return Dt[Ur[Yt]];throw new Error("Could not find a matching font-style for "+At)}(lr.style,_t),!(_t=function(At,Dt){if(Dt[At])return Dt[At];if(At===400&&Dt[500])return Dt[500];if(At===500&&Dt[400])return Dt[400];var Ur=cwe[At],Yt=rM(Dt,aW,Ur,At<400?-1:1);if(!Yt)throw new Error("Could not find a matching font-weight for value "+At);return Yt}(lr.weight,_t)))throw new Error("Failed to resolve a font for the rule '"+sM(lr)+"'.");return _t}(je,Oe);this.pdf.setFont(ke.ref.name,ke.ref.style)}else{var Le="";(Ke==="bold"||parseInt(Ke,10)>=700||Ye==="bold")&&(Le="bold"),Ye==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var Xe="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<ve.length;Qe++){if(this.pdf.internal.getFont(ve[Qe],Le,{noFallback:!0,disableWarning:!0})!==void 0){Xe=ve[Qe];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(ve[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xe=ve[Qe],Le="bold";else if(this.pdf.internal.getFont(ve[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xe=ve[Qe],Le="normal";break}}if(Xe===""){for(var bt=0;bt<ve.length;bt++)if(at[ve[bt]]){Xe=at[ve[bt]];break}}Xe=Xe===""?"Times":Xe,this.pdf.setFont(Xe,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Q){this.ctx.globalCompositeOperation=Q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Q){this.ctx.globalAlpha=Q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Q){this.ctx.lineDashOffset=Q,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Q){this.ctx.lineDash=Q,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Q){this.ctx.ignoreClearRect=!!Q}})};h.prototype.setLineDash=function(U){this.lineDash=U},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(U,b){if(isNaN(U)||isNaN(b))throw nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var C=this.ctx.transform.applyToPoint(new a(U,b));this.path.push({type:"mt",x:C.x,y:C.y}),this.ctx.lastPoint=new a(U,b)},h.prototype.closePath=function(){var U=new a(0,0),b=0;for(b=this.path.length-1;b!==-1;b--)if(this.path[b].type==="begin"&&Yr(this.path[b+1])==="object"&&typeof this.path[b+1].x=="number"){U=new a(this.path[b+1].x,this.path[b+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(U.x,U.y)},h.prototype.lineTo=function(U,b){if(isNaN(U)||isNaN(b))throw nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var C=this.ctx.transform.applyToPoint(new a(U,b));this.path.push({type:"lt",x:C.x,y:C.y}),this.ctx.lastPoint=new a(C.x,C.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(U,b,C,E){if(isNaN(C)||isNaN(E)||isNaN(U)||isNaN(b))throw nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var B=this.ctx.transform.applyToPoint(new a(C,E)),F=this.ctx.transform.applyToPoint(new a(U,b));this.path.push({type:"qct",x1:F.x,y1:F.y,x:B.x,y:B.y}),this.ctx.lastPoint=new a(B.x,B.y)},h.prototype.bezierCurveTo=function(U,b,C,E,B,F){if(isNaN(B)||isNaN(F)||isNaN(U)||isNaN(b)||isNaN(C)||isNaN(E))throw nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Z=this.ctx.transform.applyToPoint(new a(B,F)),se=this.ctx.transform.applyToPoint(new a(U,b)),le=this.ctx.transform.applyToPoint(new a(C,E));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:le.x,y2:le.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(Z.x,Z.y)},h.prototype.arc=function(U,b,C,E,B,F){if(isNaN(U)||isNaN(b)||isNaN(C)||isNaN(E)||isNaN(B))throw nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(F=!!F,!this.ctx.transform.isIdentity){var Z=this.ctx.transform.applyToPoint(new a(U,b));U=Z.x,b=Z.y;var se=this.ctx.transform.applyToPoint(new a(0,C)),le=this.ctx.transform.applyToPoint(new a(0,0));C=Math.sqrt(Math.pow(se.x-le.x,2)+Math.pow(se.y-le.y,2))}Math.abs(B-E)>=2*Math.PI&&(E=0,B=2*Math.PI),this.path.push({type:"arc",x:U,y:b,radius:C,startAngle:E,endAngle:B,counterclockwise:F})},h.prototype.arcTo=function(U,b,C,E,B){throw new Error("arcTo not implemented.")},h.prototype.rect=function(U,b,C,E){if(isNaN(U)||isNaN(b)||isNaN(C)||isNaN(E))throw nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,b),this.lineTo(U+C,b),this.lineTo(U+C,b+E),this.lineTo(U,b+E),this.lineTo(U,b),this.lineTo(U+C,b),this.lineTo(U,b)},h.prototype.fillRect=function(U,b,C,E){if(isNaN(U)||isNaN(b)||isNaN(C)||isNaN(E))throw nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var B={};this.lineCap!=="butt"&&(B.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(B.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,b,C,E),this.fill(),B.hasOwnProperty("lineCap")&&(this.lineCap=B.lineCap),B.hasOwnProperty("lineJoin")&&(this.lineJoin=B.lineJoin)}},h.prototype.strokeRect=function(U,b,C,E){if(isNaN(U)||isNaN(b)||isNaN(C)||isNaN(E))throw nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(U,b,C,E),this.stroke())},h.prototype.clearRect=function(U,b,C,E){if(isNaN(U)||isNaN(b)||isNaN(C)||isNaN(E))throw nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,b,C,E))},h.prototype.save=function(U){U=typeof U!="boolean"||U;for(var b=this.pdf.internal.getCurrentPageInfo().pageNumber,C=0;C<this.pdf.internal.getNumberOfPages();C++)this.pdf.setPage(C+1),this.pdf.internal.out("q");if(this.pdf.setPage(b),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var E=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=E}},h.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var b=this.pdf.internal.getCurrentPageInfo().pageNumber,C=0;C<this.pdf.internal.getNumberOfPages();C++)this.pdf.setPage(C+1),this.pdf.internal.out("Q");this.pdf.setPage(b),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(U){var b,C,E,B;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))b=0,C=0,E=0,B=0;else{var F=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(F!==null)b=parseInt(F[1]),C=parseInt(F[2]),E=parseInt(F[3]),B=1;else if((F=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)b=parseInt(F[1]),C=parseInt(F[2]),E=parseInt(F[3]),B=parseFloat(F[4]);else{if(B=1,typeof U=="string"&&U.charAt(0)!=="#"){var Z=new QV(U);U=Z.ok?Z.toHex():"#000000"}U.length===4?(b=U.substring(1,2),b+=b,C=U.substring(2,3),C+=C,E=U.substring(3,4),E+=E):(b=U.substring(1,3),C=U.substring(3,5),E=U.substring(5,7)),b=parseInt(b,16),C=parseInt(C,16),E=parseInt(E,16)}}return{r:b,g:C,b:E,a:B,style:U}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(U,b,C,E){if(isNaN(b)||isNaN(C)||typeof U!="string")throw nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(E=isNaN(E)?void 0:E,!f.call(this)){var B=W(this.ctx.transform.rotation),F=this.ctx.transform.scaleX;I.call(this,{text:U,x:b,y:C,scale:F,angle:B,align:this.textAlign,maxWidth:E})}},h.prototype.strokeText=function(U,b,C,E){if(isNaN(b)||isNaN(C)||typeof U!="string")throw nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){E=isNaN(E)?void 0:E;var B=W(this.ctx.transform.rotation),F=this.ctx.transform.scaleX;I.call(this,{text:U,x:b,y:C,scale:F,renderingMode:"stroke",angle:B,align:this.textAlign,maxWidth:E})}},h.prototype.measureText=function(U){if(typeof U!="string")throw nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var b=this.pdf,C=this.pdf.internal.scaleFactor,E=b.internal.getFontSize(),B=b.getStringUnitWidth(U)*E/b.internal.scaleFactor;return new function(F){var Z=(F=F||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Z}}),this}({width:B*=Math.round(96*C/72*1e4)/1e4})},h.prototype.scale=function(U,b){if(isNaN(U)||isNaN(b))throw nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var C=new c(U,0,0,b,0,0);this.ctx.transform=this.ctx.transform.multiply(C)},h.prototype.rotate=function(U){if(isNaN(U))throw nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var b=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(b)},h.prototype.translate=function(U,b){if(isNaN(U)||isNaN(b))throw nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var C=new c(1,0,0,1,U,b);this.ctx.transform=this.ctx.transform.multiply(C)},h.prototype.transform=function(U,b,C,E,B,F){if(isNaN(U)||isNaN(b)||isNaN(C)||isNaN(E)||isNaN(B)||isNaN(F))throw nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Z=new c(U,b,C,E,B,F);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.setTransform=function(U,b,C,E,B,F){U=isNaN(U)?1:U,b=isNaN(b)?0:b,C=isNaN(C)?0:C,E=isNaN(E)?1:E,B=isNaN(B)?0:B,F=isNaN(F)?0:F,this.ctx.transform=new c(U,b,C,E,B,F)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(U,b,C,E,B,F,Z,se,le){var ue=this.pdf.getImageProperties(U),fe=1,be=1,Ie=1,Q=1;E!==void 0&&se!==void 0&&(Ie=se/E,Q=le/B,fe=ue.width/E*se/E,be=ue.height/B*le/B),F===void 0&&(F=b,Z=C,b=0,C=0),E!==void 0&&se===void 0&&(se=E,le=B),E===void 0&&se===void 0&&(se=ue.width,le=ue.height);var De=this.ctx.transform.decompose(),Ye=W(De.rotate.shx),Ke=new c,Ne=(Ke=(Ke=(Ke=Ke.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new l(F-b*Ie,Z-C*Q,E*fe,B*be));if(this.autoPaging){for(var K,ce=x.call(this,Ne),ve=[],je=0;je<ce.length;je+=1)ve.indexOf(ce[je])===-1&&ve.push(ce[je]);S(ve);for(var Oe=ve[0],ke=ve[ve.length-1],Le=Oe;Le<ke+1;Le++){this.pdf.setPage(Le);var Xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=Le===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Le===1?0:Qe+(Le-2)*bt;if(this.ctx.clip_path.length!==0){var Fr=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(K,this.posX+this.margin[3],-tt+at+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=Fr}var Vt=JSON.parse(JSON.stringify(Ne));Vt=w([Vt],this.posX+this.margin[3],-tt+at+this.ctx.prevPageLastElemOffset)[0];var Ot=(Le>Oe||Le<ke)&&m.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,bt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Ye),Ot&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(U,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,Ye)};var x=function(U,b,C){var E=[];b=b||this.pdf.internal.pageSize.width,C=C||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var B=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":E.push(Math.floor((U.y+B)/C)+1);break;case"arc":E.push(Math.floor((U.y+B-U.radius)/C)+1),E.push(Math.floor((U.y+B+U.radius)/C)+1);break;case"qct":var F=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);E.push(Math.floor((F.y+B)/C)+1),E.push(Math.floor((F.y+F.h+B)/C)+1);break;case"bct":var Z=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);E.push(Math.floor((Z.y+B)/C)+1),E.push(Math.floor((Z.y+Z.h+B)/C)+1);break;case"rect":E.push(Math.floor((U.y+B)/C)+1),E.push(Math.floor((U.y+U.h+B)/C)+1)}for(var se=0;se<E.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<E[se];)g.call(this);return E},g=function(){var U=this.fillStyle,b=this.strokeStyle,C=this.font,E=this.lineCap,B=this.lineWidth,F=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=b,this.font=C,this.lineCap=E,this.lineWidth=B,this.lineJoin=F},w=function(U,b,C){for(var E=0;E<U.length;E++)switch(U[E].type){case"bct":U[E].x2+=b,U[E].y2+=C;case"qct":U[E].x1+=b,U[E].y1+=C;default:U[E].x+=b,U[E].y+=C}return U},S=function(U){return U.sort(function(b,C){return b-C})},k=function(U,b){var C=this.fillStyle,E=this.strokeStyle,B=this.lineCap,F=this.lineWidth,Z=Math.abs(F*this.ctx.transform.scaleX),se=this.lineJoin;if(this.autoPaging){for(var le,ue,fe=JSON.parse(JSON.stringify(this.path)),be=JSON.parse(JSON.stringify(this.path)),Ie=[],Q=0;Q<be.length;Q++)if(be[Q].x!==void 0)for(var De=x.call(this,be[Q]),Ye=0;Ye<De.length;Ye+=1)Ie.indexOf(De[Ye])===-1&&Ie.push(De[Ye]);for(var Ke=0;Ke<Ie.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<Ie[Ke];)g.call(this);S(Ie);for(var Ne=Ie[0],K=Ie[Ie.length-1],ce=Ne;ce<K+1;ce++){this.pdf.setPage(ce),this.fillStyle=C,this.strokeStyle=E,this.lineCap=B,this.lineWidth=Z,this.lineJoin=se;var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=ce===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Le=ce===1?0:Oe+(ce-2)*ke;if(this.ctx.clip_path.length!==0){var Xe=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(le,this.posX+this.margin[3],-Le+je+this.ctx.prevPageLastElemOffset),T.call(this,U,!0),this.path=Xe}if(ue=JSON.parse(JSON.stringify(fe)),this.path=w(ue,this.posX+this.margin[3],-Le+je+this.ctx.prevPageLastElemOffset),b===!1||ce===0){var at=(ce>Ne||ce<K)&&m.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,ke,null).clip().discardPath()),T.call(this,U,b),at&&this.pdf.restoreGraphicsState()}this.lineWidth=F}this.path=fe}else this.lineWidth=Z,T.call(this,U,b),this.lineWidth=F},T=function(U,b){if((U!=="stroke"||b||!v.call(this))&&(U==="stroke"||b||!f.call(this))){for(var C,E,B=[],F=this.path,Z=0;Z<F.length;Z++){var se=F[Z];switch(se.type){case"begin":B.push({begin:!0});break;case"close":B.push({close:!0});break;case"mt":B.push({start:se,deltas:[],abs:[]});break;case"lt":var le=B.length;if(F[Z-1]&&!isNaN(F[Z-1].x)&&(C=[se.x-F[Z-1].x,se.y-F[Z-1].y],le>0)){for(;le>=0;le--)if(B[le-1].close!==!0&&B[le-1].begin!==!0){B[le-1].deltas.push(C),B[le-1].abs.push(se);break}}break;case"bct":C=[se.x1-F[Z-1].x,se.y1-F[Z-1].y,se.x2-F[Z-1].x,se.y2-F[Z-1].y,se.x-F[Z-1].x,se.y-F[Z-1].y],B[B.length-1].deltas.push(C);break;case"qct":var ue=F[Z-1].x+2/3*(se.x1-F[Z-1].x),fe=F[Z-1].y+2/3*(se.y1-F[Z-1].y),be=se.x+2/3*(se.x1-se.x),Ie=se.y+2/3*(se.y1-se.y),Q=se.x,De=se.y;C=[ue-F[Z-1].x,fe-F[Z-1].y,be-F[Z-1].x,Ie-F[Z-1].y,Q-F[Z-1].x,De-F[Z-1].y],B[B.length-1].deltas.push(C);break;case"arc":B.push({deltas:[],abs:[],arc:!0}),Array.isArray(B[B.length-1].abs)&&B[B.length-1].abs.push(se)}}E=b?null:U==="stroke"?"stroke":"fill";for(var Ye=!1,Ke=0;Ke<B.length;Ke++)if(B[Ke].arc)for(var Ne=B[Ke].abs,K=0;K<Ne.length;K++){var ce=Ne[K];ce.type==="arc"?D.call(this,ce.x,ce.y,ce.radius,ce.startAngle,ce.endAngle,ce.counterclockwise,void 0,b,!Ye):$.call(this,ce.x,ce.y),Ye=!0}else if(B[Ke].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(B[Ke].begin!==!0){var ve=B[Ke].start.x,je=B[Ke].start.y;q.call(this,B[Ke].deltas,ve,je),Ye=!0}E&&M.call(this,E),b&&G.call(this)}},R=function(U){var b=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,C=b*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-C;case"top":return U+b-C;case"hanging":return U+b-2*C;case"middle":return U+b/2-C;default:return U}},L=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(b,C){this.colorStops.push([b,C])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(U,b,C,E,B,F,Z,se,le){for(var ue=ne.call(this,C,E,B,F),fe=0;fe<ue.length;fe++){var be=ue[fe];fe===0&&(le?A.call(this,be.x1+U,be.y1+b):$.call(this,be.x1+U,be.y1+b)),te.call(this,U,b,be.x2,be.y2,be.x3,be.y3,be.x4,be.y4)}se?G.call(this):M.call(this,Z)},M=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(U,b){this.pdf.internal.out(r(U)+" "+n(b)+" m")},I=function(U){var b;switch(U.align){case"right":case"end":b="right";break;case"center":b="center";break;default:b="left"}var C,E,B,F=this.pdf.getTextDimensions(U.text),Z=R.call(this,U.y),se=L.call(this,Z)-F.h,le=this.ctx.transform.applyToPoint(new a(U.x,Z));if(this.autoPaging){var ue=this.ctx.transform.decompose(),fe=new c;fe=(fe=(fe=fe.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var be=this.ctx.transform.applyToRectangle(new l(U.x,Z,F.w,F.h)),Ie=fe.applyToRectangle(new l(U.x,se,F.w,F.h)),Q=x.call(this,Ie),De=[],Ye=0;Ye<Q.length;Ye+=1)De.indexOf(Q[Ye])===-1&&De.push(Q[Ye]);S(De);for(var Ke=De[0],Ne=De[De.length-1],K=Ke;K<Ne+1;K++){this.pdf.setPage(K);var ce=K===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],Oe=je-this.margin[0],ke=this.pdf.internal.pageSize.width-this.margin[1],Le=ke-this.margin[3],Xe=K===1?0:ve+(K-2)*Oe;if(this.ctx.clip_path.length!==0){var at=this.path;C=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(C,this.posX+this.margin[3],-1*Xe+ce),T.call(this,"fill",!0),this.path=at}var Qe=w([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Xe+ce+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(E=this.pdf.internal.getFontSize(),this.pdf.setFontSize(E*U.scale),B=this.lineWidth,this.lineWidth=B*U.scale);var bt=this.autoPaging!=="text";if(bt||Qe.y+Qe.h<=je){if(bt||Qe.y>=ce&&Qe.x<=ke){var tt=bt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||ke-Qe.x)[0],Fr=w([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-Xe+ce+this.ctx.prevPageLastElemOffset)[0],Vt=bt&&(K>Ke||K<Ne)&&m.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,Oe,null).clip().discardPath()),this.pdf.text(tt,Fr.x,Fr.y,{angle:U.angle,align:b,renderingMode:U.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else Qe.y<je&&(this.ctx.prevPageLastElemOffset+=je-Qe.y);U.scale>=.01&&(this.pdf.setFontSize(E),this.lineWidth=B)}}else U.scale>=.01&&(E=this.pdf.internal.getFontSize(),this.pdf.setFontSize(E*U.scale),B=this.lineWidth,this.lineWidth=B*U.scale),this.pdf.text(U.text,le.x+this.posX,le.y+this.posY,{angle:U.angle,align:b,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(E),this.lineWidth=B)},$=function(U,b,C,E){C=C||0,E=E||0,this.pdf.internal.out(r(U+C)+" "+n(b+E)+" l")},q=function(U,b,C){return this.pdf.lines(U,b,C,null,null)},te=function(U,b,C,E,B,F,Z,se){this.pdf.internal.out([t(s(C+U)),t(i(E+b)),t(s(B+U)),t(i(F+b)),t(s(Z+U)),t(i(se+b)),"c"].join(" "))},ne=function(U,b,C,E){for(var B=2*Math.PI,F=Math.PI/2;b>C;)b-=B;var Z=Math.abs(C-b);Z<B&&E&&(Z=B-Z);for(var se=[],le=E?-1:1,ue=b;Z>1e-5;){var fe=ue+le*Math.min(Z,F);se.push(re.call(this,U,ue,fe)),Z-=Math.abs(fe-ue),ue=fe}return se},re=function(U,b,C){var E=(C-b)/2,B=U*Math.cos(E),F=U*Math.sin(E),Z=B,se=-F,le=Z*Z+se*se,ue=le+Z*B+se*F,fe=4/3*(Math.sqrt(2*le*ue)-ue)/(Z*F-se*B),be=Z-fe*se,Ie=se+fe*Z,Q=be,De=-Ie,Ye=E+b,Ke=Math.cos(Ye),Ne=Math.sin(Ye);return{x1:U*Math.cos(b),y1:U*Math.sin(b),x2:be*Ke-Ie*Ne,y2:be*Ne+Ie*Ke,x3:Q*Ke-De*Ne,y3:Q*Ne+De*Ke,x4:U*Math.cos(C),y4:U*Math.sin(C)}},W=function(U){return 180*U/Math.PI},X=function(U,b,C,E,B,F){var Z=U+.5*(C-U),se=b+.5*(E-b),le=B+.5*(C-B),ue=F+.5*(E-F),fe=Math.min(U,B,Z,le),be=Math.max(U,B,Z,le),Ie=Math.min(b,F,se,ue),Q=Math.max(b,F,se,ue);return new l(fe,Ie,be-fe,Q-Ie)},pe=function(U,b,C,E,B,F,Z,se){var le,ue,fe,be,Ie,Q,De,Ye,Ke,Ne,K,ce,ve,je,Oe=C-U,ke=E-b,Le=B-C,Xe=F-E,at=Z-B,Qe=se-F;for(ue=0;ue<41;ue++)Ke=(De=(fe=U+(le=ue/40)*Oe)+le*((Ie=C+le*Le)-fe))+le*(Ie+le*(B+le*at-Ie)-De),Ne=(Ye=(be=b+le*ke)+le*((Q=E+le*Xe)-be))+le*(Q+le*(F+le*Qe-Q)-Ye),ue==0?(K=Ke,ce=Ne,ve=Ke,je=Ne):(K=Math.min(K,Ke),ce=Math.min(ce,Ne),ve=Math.max(ve,Ke),je=Math.max(je,Ne));return new l(Math.round(K),Math.round(ce),Math.round(ve-K),Math.round(je-ce))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,b,C=(U=this.ctx.lineDash,b=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:b}));this.prevLineDash!==C&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=C)}}})(Ct.API),function(e){var t=function(a){var l,c,u,d,h,p,f,v,m,x;for(c=[],u=0,d=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(h=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(x=h%85))/85)-(m=h%85))/85)-(v=h%85))/85)-(f=h%85))/85)%85,c.push(p+33,f+33,v+33,m+33,x+33)):c.push(122);return function(g,w){for(var S=w;S>0;S--)g.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(a){var l,c,u,d,h,p=String,f="length",v=255,m="charCodeAt",x="slice",g="replace";for(a[x](-2),a=a[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),u=[],d=0,h=(a+=l="uuuuu"[x](a[f]%5||5))[f];h>d;d+=5)c=52200625*(a[m](d)-33)+614125*(a[m](d+1)-33)+7225*(a[m](d+2)-33)+85*(a[m](d+3)-33)+(a[m](d+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(w,S){for(var k=S;k>0;k--)w.pop()}(u,l[f]),p.fromCharCode.apply(p,u)},n=function(a){return a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},i=function(a){for(var l=new Uint8Array(a.length),c=a.length;c--;)l[c]=a.charCodeAt(c);return(l=ok(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,l){var c=0,u=a||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Ct.API),function(e){e.loadFile=function(t,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,p=0,f=function(v){var m=v.length,x=[],g=String.fromCharCode;for(p=0;p<m;p+=1)x.push(g(255&v.charCodeAt(p)));return x.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(s,i,a)}catch{}return l}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(Ct.API),function(e){function t(){return(qt.html2canvas?Promise.resolve(qt.html2canvas):G5(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(qt.DOMPurify?Promise.resolve(qt.DOMPurify):G5(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Yr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,c){return l.__proto__=c||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var v=d[f],m=v.src.find(function(x){return x.format==="truetype"});m&&u.addFont(m.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},a.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(l,c){return this.then(function(){var u=l in a.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},a.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,h).then(function(p){return u.updateProgress(1),p})})},a.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),p=u.call(h,l,c);return a.convert(p,d.__proto__)},a.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},a.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return a.convert(c,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ct.getPageSize=function(l,c,u){if(Yr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var v,m=0,x=0;if(f.hasOwnProperty(p))m=f[p][1]/h,x=f[p][0]/h;else try{m=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",x>m&&(v=x,x=m,m=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",m>x&&(v=x,x=m,m=v)}return{width:x,height:m,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(vS):null;var u=new a(c);return c.worker?u:u.from(l).doCallback()}}(Ct.API),Ct.API.addJS=function(e){return oM=e,this.internal.events.subscribe("postPutResources",function(){ex=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ex+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),aM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ex!==void 0&&aM!==void 0&&this.internal.out("/Names <</JavaScript "+ex+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=n.exec(a);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var h=r.internal.newObject();d.push(h);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Ct.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,a,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,m={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=f,t.indexOf(h.charCodeAt(x+1))!==-1){p=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),m={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:p,numcomponents:h.charCodeAt(x+9)};break}f=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:s}}return d}}(Ct.API),Ct.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=Kxe(e,{checkCrc:!0}),a=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;s=u&&c===1?function(D){for(var M=D.width,G=D.height,A=D.data,I=D.palette,$=D.depth,q=!1,te=[],ne=[],re=void 0,W=!1,X=0,pe=0;pe<I.length;pe++){var ge=tL(I[pe],4),U=ge[0],b=ge[1],C=ge[2],E=ge[3];te.push(U,b,C),E!=null&&(E===0?(X++,ne.length<1&&ne.push(pe)):E<255&&(W=!0))}if(W||X>1){q=!0,ne=void 0;var B=M*G;re=new Uint8Array(B);for(var F=new DataView(A.buffer),Z=0;Z<B;Z++){var se=xS(F,Z,$),le=tL(I[se],4)[3];re[Z]=le}}else X===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:A,alphaBytes:re,needSMask:q,palette:te,mask:ne}}(i):c===2||c===4?function(D){for(var M=D.data,G=D.width,A=D.height,I=D.channels,$=D.depth,q=I===2?"DeviceGray":"DeviceRGB",te=I-1,ne=G*A,re=te,W=ne*re,X=1*ne,pe=Math.ceil(W*$/8),ge=Math.ceil(X*$/8),U=new Uint8Array(pe),b=new Uint8Array(ge),C=new DataView(M.buffer),E=new DataView(U.buffer),B=new DataView(b.buffer),F=!1,Z=0;Z<ne;Z++){for(var se=Z*I,le=0;le<re;le++)gM(E,xS(C,se+le,$),Z*re+le,$);var ue=xS(C,se+re,$);ue<(1<<$)-1&&(F=!0),gM(B,ue,1*Z,$)}return{colorSpace:q,colorsPerPixel:te,sMaskBitsPerComponent:F?$:void 0,colorBytes:U,alphaBytes:b,needSMask:F}}(i):function(D){var M=D.data,G=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?function(A){for(var I=A.length,$=new Uint8Array(2*I),q=new DataView($.buffer,$.byteOffset,$.byteLength),te=0;te<I;te++)q.setUint16(2*te,A[te],!1);return $}(M):M,needSMask:!1}}(i);var h,p,f,v=s,m=v.colorSpace,x=v.colorsPerPixel,g=v.sMaskBitsPerComponent,w=v.colorBytes,S=v.alphaBytes,k=v.needSMask,T=v.palette,R=v.mask,L=null;return n!==Ct.API.image_compression.NONE&&typeof ok=="function"?(L=function(D){var M;switch(D){case Ct.API.image_compression.FAST:M=11;break;case Ct.API.image_compression.MEDIUM:M=13;break;case Ct.API.image_compression.SLOW:M=14;break;default:M=12}return M}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(L," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(a),e=dM(w,Math.ceil(a*x*d/8),x,d,n),k&&(f=dM(S,Math.ceil(a*g/8),1,g,n))):(h=void 0,p=void 0,e=w,k&&(f=S)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:h,decodeParameters:p,transparency:R,palette:T,sMask:f,predictor:L,width:a,height:l,bitsPerComponent:d,sMaskBitsPerComponent:g,colorSpace:m}}},function(e){e.processGIF89A=function(t,r,n,s){var i=new gwe(t),a=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:l},d=new wS(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)},e.processGIF87A=e.processGIF89A}(Ct.API),ho.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ho.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){nn.log("bit decode error:"+r)}},ho.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ho.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},ho.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ho.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=u}this.pos+=e}},ho.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&r)/r*255|0,u=(a>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},ho.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},ho.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=a}},ho.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new ho(t,!1),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new wS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(Ct.API),yM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new yM(t),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new wS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(Ct.API),Ct.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=n[u],h=n[u+1],p=n[u+2],f=n[u+3];i[l++]=d,i[l++]=h,i[l++]=p,a[c++]=f}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ct.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Df=Ct.API,tx=Df.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,p=0,f=e.length,v=0,m=l[0]||c,x=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?x.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(p=h&&Yr(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,x.push((l[n]||m)/c+p)),v=n;return x},lM=Df.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Df.processArabic&&(e=Df.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:tx.apply(this,arguments).reduce(function(i,a){return i+a},0)},cM=function(e,t,r,n){for(var s=[],i=0,a=e.length,l=0;i!==a&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==a;)l+t[i]>n&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},uM=function(e,t,r){r||(r={});var n,s,i,a,l,c,u,d=[],h=[d],p=r.textIndent||0,f=0,v=0,m=e.split(" "),x=tx.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),w=[];m.map(function(k){(k=k.split(/\s*\n/)).length>1?w=w.concat(k.map(function(T,R){return(R&&T.length?`
`:"")+T})):w.push(k[0])}),m=w,c=lM.apply(this,[g,r])}for(i=0,a=m.length;i<a;i++){var S=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),S=1),p+f+(v=(s=tx.apply(this,[n,r])).reduce(function(k,T){return k+T},0))>t||S){if(v>t){for(l=cM.apply(this,[n,s,t-(p+f),t]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);v=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(k,T){return k+T},0)}else d=[n];h.push(d),p=v+c,f=x}else d.push(n),p+=f+v,f=x}return u=c?function(k,T){return(T?g:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(u)},Df.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(uM.apply(this,[n[l],a,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},l=e.__fontmetrics__.compress=function(p){var f,v,m,x,g=["{"];for(var w in p){if(f=p[w],isNaN(parseInt(w,10))?v="'"+w+"'":(w=parseInt(w,10),v=(v=a(w).slice(2)).slice(0,-1)+s[v.slice(-1)]),typeof f=="number")f<0?(m=a(f).slice(3),x="-"):(m=a(f).slice(2),x=""),m=x+m.slice(0,-1)+s[m.slice(-1)];else{if(Yr(f)!=="object")throw new Error("Don't know what to do with value type "+Yr(f)+".");m=l(f)}g.push(v+m)}return g.push("}"),g.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,v,m,x,g={},w=1,S=g,k=[],T="",R="",L=p.length-1,D=1;D<L;D+=1)(x=p[D])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(k.push([S,m]),S={},m=void 0):x=="}"?((v=k.pop())[0][v[1]]=S,m=void 0,S=v[0]):x=="-"?w=-1:m===void 0?n.hasOwnProperty(x)?(T+=n[x],m=parseInt(T,16)*w,w=1,T=""):T+=x:n.hasOwnProperty(x)?(R+=n[x],S[m]=parseInt(R,16)*w,w=1,m=void 0,R=""):R+=x;return g},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var f=p.font,v=h.Unicode[f.postScriptName];v&&(f.metadata.Unicode={},f.metadata.Unicode.widths=v.widths,f.metadata.Unicode.kerning=v.kerning);var m=d.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(Ct.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Mx(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(Ct),Ct.API.addSvgAsImage=function(e,t,r,n,s,i,a,l){if(isNaN(t)||isNaN(r))throw nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(qt.canvg?Promise.resolve(qt.canvg):G5(()=>import("./index.es-BRV908N1.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,n,s,a,l)})},Ct.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Ct.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],u=0,d=0,h=0;function p(v,m){var x,g=!1;for(x=0;x<v.length;x+=1)v[x]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(h=0;h<f;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Yr(e)==="object"){for(s in e)if(i=e[s],p(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&p(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?m.push("/"+v+" /"+r[v].value):m.push("/"+v+" "+r[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ct.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,a){for(var l,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,p=i.length;h<p;++h){if(l=a.metadata.characterToGlyph(i.charCodeAt(h)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var a,l,c,u,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(l=Object.keys(i).sort(function(f,v){return f-v})).length;h<p;h++)a=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",v=0;v<p.length;v++)f+=String.fromCharCode(p[v]);var m=u();d({data:f,addLength1:!0,objectId:m}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Vf(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Vf(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+Vf(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var m=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Vf(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Vf(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",c=i.x,u=i.y,d=i.options||{},h=i.mutex||{},p=h.pdfEscape,f=h.activeFontKey,v=h.fonts,m=f,x="",g=0,w="",S=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(w=l,m=f,Array.isArray(l)&&(w=l[0]),g=0;g<w.length;g+=1)v[m].metadata.hasOwnProperty("cmap")&&(a=v[m].metadata.cmap.unicode.codeMap[w[g].charCodeAt(0)]),a||w[g].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?x+=w[g]:x+="";var k="";return parseInt(m.slice(1))<14||S==="WinAnsiEncoding"?k=p(x,m).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(k=r(x,v[m])),h.isHex=!0,{text:k,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(i){var a=i.text||"",l=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?l.push([s(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):l.push(s(Object.assign({},c,{text:a[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:a})).text}])}(Ct),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ct.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,a,l,c,u,d,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,S=0;this.__bidiEngine__={};var k=function(A){var I=A.charCodeAt(),$=I>>8,q=m[$];return q!==void 0?h[256*q+(255&I)]:$===252||$===253?"AL":g.test($)?"L":$===8?"R":"N"},T=function(A){for(var I,$=0;$<A.length;$++){if((I=k(A.charAt($)))==="L")return!1;if(I==="R")return!0}return!1},R=function(A,I,$,q){var te,ne,re,W,X=I[q];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(X="AN");break;case"AL":w=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":q<1||q+1>=I.length||(te=$[q-1])!=="EN"&&te!=="AN"||(ne=I[q+1])!=="EN"&&ne!=="AN"?X="N":w&&(ne="AN"),X=ne===te?ne:"N";break;case"ES":X=(te=q>0?$[q-1]:"B")==="EN"&&q+1<I.length&&I[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&$[q-1]==="EN"){X="EN";break}if(w){X="N";break}for(re=q+1,W=I.length;re<W&&I[re]==="ET";)re++;X=re<W&&I[re]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(W=I.length,re=q+1;re<W&&I[re]==="NSM";)re++;if(re<W){var pe=A[q],ge=pe>=1425&&pe<=2303||pe===64286;if(te=I[re],ge&&(te==="R"||te==="AL")){X="R";break}}}X=q<1||(te=I[q-1])==="B"?"N":$[q-1];break;case"B":w=!1,s=!0,X=S;break;case"S":i=!0,X="N"}return X},L=function(A,I,$){var q=A.split("");return $&&D(q,$,{hiLevel:S}),q.reverse(),I&&I.reverse(),q.join("")},D=function(A,I,$){var q,te,ne,re,W,X=-1,pe=A.length,ge=0,U=[],b=S?f:p,C=[];for(w=!1,s=!1,i=!1,te=0;te<pe;te++)C[te]=k(A[te]);for(ne=0;ne<pe;ne++){if(W=ge,U[ne]=R(A,C,U,ne),q=240&(ge=b[W][v[U[ne]]]),ge&=15,I[ne]=re=b[ge][5],q>0)if(q===16){for(te=X;te<ne;te++)I[te]=1;X=-1}else X=-1;if(b[ge][6])X===-1&&(X=ne);else if(X>-1){for(te=X;te<ne;te++)I[te]=re;X=-1}C[ne]==="B"&&(I[ne]=0),$.hiLevel|=re}i&&function(E,B,F){for(var Z=0;Z<F;Z++)if(E[Z]==="S"){B[Z]=S;for(var se=Z-1;se>=0&&E[se]==="WS";se--)B[se]=S}}(C,I,pe)},M=function(A,I,$,q,te){if(!(te.hiLevel<A)){if(A===1&&S===1&&!s)return I.reverse(),void($&&$.reverse());for(var ne,re,W,X,pe=I.length,ge=0;ge<pe;){if(q[ge]>=A){for(W=ge+1;W<pe&&q[W]>=A;)W++;for(X=ge,re=W-1;X<re;X++,re--)ne=I[X],I[X]=I[re],I[re]=ne,$&&(ne=$[X],$[X]=$[re],$[re]=ne);ge=W}ge++}}},G=function(A,I,$){var q=A.split(""),te={hiLevel:S};return $||($=[]),D(q,$,te),function(ne,re,W){if(W.hiLevel!==0&&d)for(var X,pe=0;pe<ne.length;pe++)re[pe]===1&&(X=x.indexOf(ne[pe]))>=0&&(ne[pe]=x[X+1])}(q,$,te),M(2,q,I,$,te),M(1,q,I,$,te),q.join("")};return this.__bidiEngine__.doBidiReorder=function(A,I,$){if(function(te,ne){if(ne)for(var re=0;re<te.length;re++)ne[re]=re;l===void 0&&(l=T(te)),u===void 0&&(u=T(te))}(A,I),a||!c||u)if(a&&c&&l^u)S=l?1:0,A=L(A,I,$);else if(!a&&c&&u)S=l?1:0,A=G(A,I,$),A=L(A,I);else if(!a||l||c||u){if(a&&!c&&l^u)A=L(A,I),l?(S=0,A=G(A,I,$)):(S=1,A=G(A,I,$),A=L(A,I));else if(a&&l&&!c&&u)S=1,A=G(A,I,$),A=L(A,I);else if(!a&&!c&&l^u){var q=d;l?(S=1,A=G(A,I,$),S=0,d=!1,A=G(A,I,$),d=q):(S=0,A=G(A,I,$),A=L(A,I),S=1,d=!1,A=G(A,I,$),d=q,A=L(A,I))}}else S=0,A=G(A,I,$);else S=l?1:0,A=G(A,I,$);return A},this.__bidiEngine__.setOptions=function(A){A&&(a=A.isInputVisual,c=A.isOutputVisual,l=A.isInputRtl,u=A.isOutputRtl,d=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([r.doBidiReorder(s[l])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new od(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Twe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new vwe(this.contents),this.head=new xwe(this),this.name=new jwe(this),this.cmap=new lW(this),this.toUnicode={},this.hhea=new wwe(this),this.maxp=new Nwe(this),this.hmtx=new kwe(this),this.post=new _we(this),this.os2=new bwe(this),this.loca=new Pwe(this),this.glyf=new Cwe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,u;for(u=[],a=0,l=(c=this.bbox).length;a<l;a++)t=c[a],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,a,l;for(a=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Vo,od=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,a,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),vwe=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,a,l,c,u,d,h,p,f,v,m;for(m in f=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),a=Math.floor(h/c),d=16*f-h,(s=new od).writeInt(this.scalarType),s.writeShort(f),s.writeShort(h),s.writeShort(a),s.writeShort(d),i=16*f,u=s.pos+i,l=null,v=[],r)for(p=r[m],s.writeString(m),s.writeInt(e(p)),s.writeInt(u),s.writeInt(p.length),v=v.concat(p),m==="head"&&(l=u),u+=p.length;u%4;)v.push(0),u++;return s.write(v),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,a;for(r=cW.call(r);r.length%4;)r.push(0);for(i=new od(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),ywe={}.hasOwnProperty,Al=function(e,t){for(var r in t)ywe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Vo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var xwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,Vo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new od).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),xM=function(){function e(t,r){var n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,w,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,i=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),t.pos+=2,m=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),u=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),d=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),s=(this.length-t.pos+this.offset)/2,l=function(){var k,T;for(T=[],c=k=0;0<=s?k<s:k>s;c=0<=s?++k:--k)T.push(t.readUInt16());return T}(),c=g=0,S=i.length;g<S;c=++g)for(x=i[c],n=w=v=m[c];v<=x?w<=x:w>=x;n=v<=x?++w:--w)d[c]===0?a=n+u[c]:(a=l[d[c]/2+(n-v)-(p-c)]||0)!==0&&(a+=u[c]),this.codeMap[n]=65535&a}t.pos=h}return e.encode=function(t,r){var n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,w,S,k,T,R,L,D,M,G,A,I,$,q,te,ne,re,W,X,pe,ge,U,b,C,E,B,F,Z,se,le,ue,fe;switch(q=new od,a=Object.keys(t).sort(function(be,Ie){return be-Ie}),r){case"macroman":for(m=0,x=function(){var be=[];for(v=0;v<256;++v)be.push(0);return be}(),w={0:0},i={},te=0,X=a.length;te<X;te++)w[se=t[s=a[te]]]==null&&(w[se]=++m),i[s]={old:t[s],new:w[t[s]]},x[s]=w[t[s]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(x),{charMap:i,subtable:q.data,maxGlyphID:m+1};case"unicode":for(I=[],h=[],S=0,w={},n={},g=u=null,ne=0,pe=a.length;ne<pe;ne++)w[T=t[s=a[ne]]]==null&&(w[T]=++S),n[s]={old:T,new:w[T]},l=w[T]-s,g!=null&&l===u||(g&&h.push(g),I.push(s),u=l),g=s;for(g&&h.push(g),h.push(65535),I.push(65535),G=2*(M=I.length),D=2*Math.pow(Math.log(M)/Math.LN2,2),p=Math.log(D/2)/Math.LN2,L=2*M-D,c=[],R=[],f=[],v=re=0,ge=I.length;re<ge;v=++re){if(A=I[v],d=h[v],A===65535){c.push(0),R.push(0);break}if(A-($=n[A].new)>=32768)for(c.push(0),R.push(2*(f.length+M-v)),s=W=A;A<=d?W<=d:W>=d;s=A<=d?++W:--W)f.push(n[s].new);else c.push($-A),R.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*M+2*f.length),q.writeUInt16(0),q.writeUInt16(G),q.writeUInt16(D),q.writeUInt16(p),q.writeUInt16(L),F=0,U=h.length;F<U;F++)s=h[F],q.writeUInt16(s);for(q.writeUInt16(0),Z=0,b=I.length;Z<b;Z++)s=I[Z],q.writeUInt16(s);for(le=0,C=c.length;le<C;le++)l=c[le],q.writeUInt16(l);for(ue=0,E=R.length;ue<E;ue++)k=R[ue],q.writeUInt16(k);for(fe=0,B=f.length;fe<B;fe++)m=f[fe],q.writeUInt16(m);return{charMap:n,subtable:q.data,maxGlyphID:S+1}}},e}(),lW=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,Vo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new xM(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=xM.encode(t,r),(s=new od).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),wwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,Vo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),bwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,Vo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),_we=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,Vo),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var a,l,c;for(c=[],i=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;i=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),Swe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},jwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,Vo),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,a,l,c,u,d,h,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=d=0,h=n.length;d<h;i=++d)s=n[i],t.pos=s.offset,u=t.readString(s.length),a=new Swe(u,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Nwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,Vo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),kwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,Vo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,h,p;for(p=[],u=0,d=(h=this.metrics).length;u<d;u++)i=h[u],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),cW=[].slice,Cwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,Vo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,a,l,c,u,d,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,a=(l=new od(r.read(s))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=a===-1?new Awe(l,u,h,c,d):new Ewe(l,a,u,h,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,a,l,c;for(a=[],i=[],l=0,c=r.length;l<c;l++)s=t[r[l]],i.push(a.length),s&&(a=a.concat(s.encode(n)));return i.push(a.length),{table:a,offsets:i}},e}(),Ewe=function(){function e(t,r,n,s,i,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Awe=function(){function e(t,r,n,s,i){var a,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new od(cW.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Pwe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,Vo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<n.length;++a)if(n[a]=s,i<r.length&&r[i]==a){++i,n[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),Twe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,a,l,c;for(s={},a=0,l=t.length;a<l;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,a,l,c,u,d,h,p,f,v,m,x,g;for(s in n=lW.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),f={0:0},g=n.charMap)f[(c=g[s]).old]=c.new;for(v in p=n.maxGlyphID,a)v in f||(f[v]=p++);return d=function(w){var S,k;for(S in k={},w)k[w[S]]=S;return k}(f),h=Object.keys(d).sort(function(w,S){return w-S}),m=function(){var w,S,k;for(k=[],w=0,S=h.length;w<S;w++)l=h[w],k.push(d[l]);return k}(),i=this.font.glyf.encode(a,m,f),u=this.font.loca.encode(i.offsets,m),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Ct.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+r},t}();function uW(e,t,r,n,s){n=n||{};var i=1.15,a=s.internal.scaleFactor,l=s.internal.getFontSize()/a,c=s.getLineHeightFactor?s.getLineHeightFactor():i,u=l*c,d=/\r\n|\r|\n/g,h="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof e=="string"?e.split(d):e,p=h.length||1),r+=l*(2-i),n.valign==="middle"?r-=p/2*u:n.valign==="bottom"&&(r-=p*u),n.halign==="center"||n.halign==="right"){var f=l;if(n.halign==="center"&&(f*=.5),h&&p>=1){for(var v=0;v<h.length;v++)s.text(h[v],t-s.getStringUnitWidth(h[v])*f,r),r+=u;return s}t-=s.getStringUnitWidth(e)*f}return n.halign==="justify"?s.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(e,t,r),s}var wM={},Ap=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:wM=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,s,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),l=a.fontStyle,c=a.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=e.unifyColor(t.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,s,i){return this.jsPDFDocument.rect(t,r,n,s,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return wM||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),bk=function(e,t){return bk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},bk(e,t)};function dW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bk(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var hW=function(e){dW(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Rwe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Owe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function ib(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],s=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,a){return Math.max(i,a)},0);return s}function fW(e,t,r,n){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var a=pW(s,!1);a&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,a)}function pW(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function P2(e,t){var r,n,s,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function mW(e,t){var r=P2(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Lwe(e,t,r,n,s){var i={},a=1.3333333333333333,l=bS(t,function(S){return s.getComputedStyle(S).backgroundColor});l!=null&&(i.fillColor=l);var c=bS(t,function(S){return s.getComputedStyle(S).color});c!=null&&(i.textColor=c);var u=Iwe(n,r);u&&(i.cellPadding=u);var d="borderTopColor",h=a*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var f=(parseFloat(p)||0)/h;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var v=bS(t,function(S){return s.getComputedStyle(S)[d]});v!=null&&(i.lineColor=v);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var x=parseInt(n.fontSize||"");isNaN(x)||(i.fontSize=x/a);var g=Mwe(n);g&&(i.fontStyle=g);var w=(n.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(i.font=w),i}function Mwe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function bS(e,t){var r=gW(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function gW(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:gW(e.parentElement,t):r}function Iwe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(l){return parseInt(l||"0")/n}),a=P2(i,0);return s>a.top&&(a.top=s),s>a.bottom&&(a.bottom=s),a}function vW(e,t,r,n,s){var i,a;n===void 0&&(n=!1),s===void 0&&(s=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],h=[],p=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:h,foot:p};for(var f=0;f<l.rows.length;f++){var v=l.rows[f],m=(a=(i=v==null?void 0:v.parentElement)===null||i===void 0?void 0:i.tagName)===null||a===void 0?void 0:a.toLowerCase(),x=Dwe(c,u,r,v,n,s);x&&(m==="thead"?d.push(x):m==="tfoot"?p.push(x):h.push(x))}return{head:d,body:h,foot:p}}function Dwe(e,t,r,n,s,i){for(var a=new hW(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(s||u.display!=="none"){var d=void 0;i&&(d=Lwe(e,c,t,u,r)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:Fwe(c)})}}var h=r.getComputedStyle(n);if(a.length>0&&(s||h.display!=="none"))return a}function Fwe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function $we(e,t,r){for(var n=0,s=[e,t,r];n<s.length;n++){var i=s[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function fc(e,t,r,n,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function yW(e,t){var r=new Ap(e),n=r.getDocumentOptions(),s=r.getGlobalOptions();$we(s,n,t);var i=fc({},s,n,t),a;typeof window<"u"&&(a=window);var l=Bwe(s,n,t),c=Uwe(s,n,t),u=qwe(r,i),d=Vwe(r,i,a);return{id:t.tableId,content:d,hooks:c,styles:l,settings:u}}function Bwe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],h=r[c];n.columnStyles=fc({},u,d,h)}else{var p=[e,t,r],f=p.map(function(v){return v[c]||{}});n[c]=fc({},f[0],f[1],f[2])}},i=0,a=Object.keys(n);i<a.length;i++){var l=a[i];s(l)}return n}function Uwe(e,t,r){for(var n=[e,t,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,a=n;i<a.length;i++){var l=a[i];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function qwe(e,t){var r,n,s,i,a,l,c,u,d,h,p,f,v=P2(t.margin,40/e.scaleFactor()),m=(r=zwe(e,t.startY))!==null&&r!==void 0?r:v.top,x;t.showFoot===!0?x="everyPage":t.showFoot===!1?x="never":x=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var g;t.showHead===!0?g="everyPage":t.showHead===!1?g="never":g=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var w=(i=t.useCss)!==null&&i!==void 0?i:!1,S=t.theme||(w?"plain":"striped"),k=!!t.horizontalPageBreak,T=(a=t.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:w,theme:S,startY:m,margin:v,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:g,showFoot:x,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:k,horizontalPageBreakRepeat:T,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function zwe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),s=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;i=a===s}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Vwe(e,t,r){var n=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(r){var l=vW(e,t.html,r,a,t.useCss)||{};n=l.head||n,s=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Wwe(n,s,i);return{columns:c,head:n,body:s,foot:i}}function Wwe(e,t,r){var n=e[0]||t[0]||r[0]||[],s=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var a=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(a=(l==null?void 0:l.colSpan)||1);for(var c=0;c<a;c++){var u=void 0;Array.isArray(n)?u=s.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};s.push(d)}}),s}var _k=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),Hwe=function(e){dW(t,e);function t(r,n,s,i,a,l){var c=e.call(this,r,n,l)||this;return c.cell=s,c.row=i,c.column=a,c.section=i.section,c}return t}(_k),Gwe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,s,i,a){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new Hwe(t,this,n,s,i,a),h=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var i=s[n];i(new _k(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var i=s[n];i(new _k(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),xW=function(){function e(t,r,n,s,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof hW&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,s){var i;return Math.max(n,((i=r.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(s,i){var a=n.cells[i.index];if(!a)return 0;var l=r.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),u=c+l;return u>s?u:s},0)},e}(),wW=function(){function e(t,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var a=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=a.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*r,i=n*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=P2(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),Ywe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,s=t.allRows();n<s.length;n++){var i=s[n],a=i.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},e}();function Kwe(e,t){Jwe(e,t);var r=[],n=0;t.columns.forEach(function(i){var a=i.getMaxCustomCellWidth(t);a?i.width=a:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var s=t.getWidth(e.pageSize().width)-n;s&&(s=Sk(r,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=Sk(r,s,function(i){return i.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),Zwe(t),Xwe(t,e),Qwe(t)}function Jwe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,s=mW(e,t);t.allRows().forEach(function(i){for(var a=0,l=t.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,i,c,null);var h=u.padding("horizontal");u.contentWidth=ib(u.text,u.styles,e)+h;var p=ib(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=p+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/r;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var a=0,l=t.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function Sk(e,t,r){for(var n=t,s=e.reduce(function(f,v){return f+v.wrappedWidth},0),i=0;i<e.length;i++){var a=e[i],l=a.wrappedWidth/s,c=n*l,u=a.width+c,d=r(a),h=u<d?d:u;t-=h-a.width,a.width=h}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(f){return t<0?f.width>r(f):!0});p.length&&(t=Sk(p,t,r))}return t}function Qwe(e){for(var t={},r=1,n=e.allRows(),s=0;s<n.length;s++)for(var i=n[s],a=0,l=e.columns;a<l.length;a++){var c=l[a],u=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var h=n.length-s,p=d.rowSpan>h?h:d.rowSpan;t[c.index]={cell:d,left:p,row:i}}}}}function Zwe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],s=null,i=0,a=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(a-=1,a>1&&e.columns[l+1])i+=c.width,delete n.cells[c.index];else if(s){var u=s;delete n.cells[c.index],s=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(a=u.colSpan,i=0,u.colSpan>1){s=u,i+=c.width;continue}u.width=c.width+i}}}function Xwe(e,t){for(var r={count:0,height:0},n=0,s=e.allRows();n<s.length;n++){for(var i=s[n],a=0,l=e.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=bM(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=bM(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,d);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<p*u.rowSpan?r={height:p,count:u.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>i.height&&(i.height=p)}}r.count--}}function bM(e,t,r,n,s){return e.map(function(i){return ebe(i,t,r,n,s)})}function ebe(e,t,r,n,s){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=ib(e,r,n))return e;for(;t<ib(e+s,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function bW(e,t){var r=new Ap(e),n=tbe(t,r.scaleFactor()),s=new Gwe(t,n);return Kwe(r,s),r.applyStyles(r.userStyles),s}function tbe(e,t){var r=e.content,n=nbe(r.columns);if(r.head.length===0){var s=_M(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=_M(n,"foot");s&&r.foot.push(s)}var i=e.settings.theme,a=e.styles;return{columns:n,head:_S("head",r.head,n,a,i,t),body:_S("body",r.body,n,a,i,t),foot:_S("foot",r.foot,n,a,i,t)}}function _S(e,t,r,n,s,i){var a={},l=t.map(function(c,u){for(var d=0,h={},p=0,f=0,v=0,m=r;v<m.length;v++){var x=m[v];if(a[x.index]==null||a[x.index].left===0)if(f===0){var g=void 0;Array.isArray(c)?g=c[x.index-p-d]:g=c[x.dataKey];var w={};typeof g=="object"&&!Array.isArray(g)&&(w=(g==null?void 0:g.styles)||{});var S=sbe(e,x,u,s,n,i,w),k=new wW(g,S,e);h[x.dataKey]=k,h[x.index]=k,f=k.colSpan-1,a[x.index]={left:k.rowSpan-1,times:f}}else f--,p++;else a[x.index].left--,f=a[x.index].times,d++}return new xW(c,u,e,h)});return l}function _M(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var s=rbe(t,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function rbe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function nbe(e){return e.map(function(t,r){var n,s;return typeof t=="object"?s=(n=t.dataKey)!==null&&n!==void 0?n:r:s=r,new Ywe(s,t,r)})}function sbe(e,t,r,n,s,i,a){var l=Owe(n),c;e==="head"?c=s.headStyles:e==="body"?c=s.bodyStyles:e==="foot"&&(c=s.footStyles);var u=fc({},l.table,l[e],s.styles,c),d=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},h=e==="body"?d:{},p=e==="body"&&r%2===0?fc({},l.alternateRow,s.alternateRowStyles):{},f=Rwe(i),v=fc({},f,u,p,h);return fc(v,a)}function ibe(e,t,r){var n;r===void 0&&(r={});var s=mW(e,t),i=new Map,a=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var f=t.columns.find(function(v){return v.dataKey===p||v.index===p});f&&!i.has(f.index)&&(i.set(f.index,!0),a.push(f.index),l.push(t.columns[f.index]),s-=f.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(i.has(d)){d++;continue}var h=t.columns[d].wrappedWidth;if(u||s>=h)u=!1,a.push(d),l.push(t.columns[d]),s-=h;else break;d++}return{colIndexes:a,columns:l,lastIndex:d-1}}function abe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var s=ibe(e,t,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function _W(e,t){var r=t.settings,n=r.startY,s=r.margin,i={x:s.left,y:n},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+s.bottom+a;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(p,f){return p+f.height},0);l+=u}var d=new Ap(e);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(jW(d),i.y=s.top),t.callWillDrawPageHooks(d,i);var h=fc({},i);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?obe(d,t,h,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(p){return Rc(d,t,p,i,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(p,f){var v=f===t.body.length-1;ab(d,t,p,v,h,i,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(p){return Rc(d,t,p,i,t.columns)})),fW(d,t,h,i),t.callEndPageHooks(d,i),t.finalY=i.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function obe(e,t,r,n){var s=abe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?Cv(e,t,r,n,u.columns,!0):SM(e,t,n,u.columns),lbe(e,t,r,n,u.columns),SS(e,t,n,u.columns)});else for(var a=-1,l=s[0],c=function(){var u=a;if(l){e.applyStyles(e.userStyles);var d=l.columns;a>=0?Cv(e,t,r,n,d,!0):SM(e,t,n,d),u=jM(e,t,a+1,n,d),SS(e,t,n,d)}var h=u-a;s.slice(1).forEach(function(p){e.applyStyles(e.userStyles),Cv(e,t,r,n,p.columns,!0),jM(e,t,a+1,n,p.columns,h),SS(e,t,n,p.columns)}),a=u};a<t.body.length-1;)c()}function SM(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(i){return Rc(e,t,i,r,n)})}function lbe(e,t,r,n,s){e.applyStyles(e.userStyles),t.body.forEach(function(i,a){var l=a===t.body.length-1;ab(e,t,i,l,r,n,s)})}function jM(e,t,r,n,s,i){e.applyStyles(e.userStyles),i=i??t.body.length;var a=Math.min(r+i,t.body.length),l=-1;return t.body.slice(r,a).forEach(function(c,u){var d=r+u===t.body.length-1,h=SW(e,t,d,n);c.canEntireRowFit(h,s)&&(Rc(e,t,c,n,s),l=r+u)}),l}function SS(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(i){return Rc(e,t,i,r,n)})}function cbe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),i=Math.floor((t-s)/n);return Math.max(0,i)}function ube(e,t,r,n){var s={};e.spansMultiplePages=!0,e.height=0;for(var i=0,a=0,l=r.columns;a<l.length;a++){var c=l[a],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new wW(u.raw,u.styles,u.section);d=fc(d,u),d.text=[];var h=cbe(u,t,n);u.text.length>h&&(d.text=u.text.splice(h,u.text.length));var p=n.scaleFactor(),f=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(p,f),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(p,f),d.contentHeight>i&&(i=d.contentHeight),s[c.index]=d}}var v=new xW(e.raw,-1,e.section,s,!0);v.height=i;for(var m=0,x=r.columns;m<x.length;m++){var c=x[m],d=v.cells[c.index];d&&(d.height=v.height);var u=e.cells[c.index];u&&(u.height=e.height)}return v}function dbe(e,t,r,n){var s=e.pageSize().height,i=n.settings.margin,a=i.top+i.bottom,l=s-a;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>l)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),h=t.getMaxCellHeight(n.columns)>l;return h?(d&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function ab(e,t,r,n,s,i,a){var l=SW(e,t,n,i);if(r.canEntireRowFit(l,a))Rc(e,t,r,i,a);else if(dbe(e,r,l,t)){var c=ube(r,l,t,e);Rc(e,t,r,i,a),Cv(e,t,s,i,a),ab(e,t,c,n,s,i,a)}else Cv(e,t,s,i,a),ab(e,t,r,n,s,i,a)}function Rc(e,t,r,n,s){n.x=t.settings.margin.left;for(var i=0,a=s;i<a.length;i++){var l=a[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}hbe(e,c,n);var d=c.getTextPos();uW(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function hbe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=pW(n.lineWidth,n.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),fbe(e,t,r,n.lineWidth))}function fbe(e,t,r,n){var s,i,a,l;n.top&&(s=r.x,i=r.y,a=r.x+t.width,l=r.y,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),c(n.top,s,i,a,l)),n.bottom&&(s=r.x,i=r.y+t.height,a=r.x+t.width,l=r.y+t.height,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),c(n.bottom,s,i,a,l)),n.left&&(s=r.x,i=r.y,a=r.x,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,s,i,a,l)),n.right&&(s=r.x+t.width,i=r.y,a=r.x+t.width,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,s,i,a,l));function c(u,d,h,p,f){e.getDocument().setLineWidth(u),e.getDocument().line(d,h,p,f,"S")}}function SW(e,t,r,n){var s=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-s}function Cv(e,t,r,n,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(l){return Rc(e,t,l,n,s)}),t.callEndPageHooks(e,n);var a=t.settings.margin;fW(e,t,r,n),jW(e),t.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Rc(e,t,l,n,s)}),e.applyStyles(e.userStyles))}function jW(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function pbe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],s=yW(this,n),i=bW(this,s);return _W(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,s){uW(t,r,n,s,this)},e.API.autoTableSetDefaults=function(t){return Ap.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Ap.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Ap(this),i=vW(s,t,window,r,!1),a=i.head,l=i.body,c=((n=a[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var jS;function mbe(e,t){var r=yW(e,t),n=bW(e,r);_W(e,n)}try{if(typeof window<"u"&&window){var NM=window,kM=NM.jsPDF||((jS=NM.jspdf)===null||jS===void 0?void 0:jS.jsPDF);kM&&pbe(kM)}}catch(e){console.error("Could not apply autoTable plugin",e)}const gbe=()=>{const e=In(),[t,r]=_.useState(null),[n,s]=_.useState(""),[i,a]=_.useState(!1),{data:l=[],isLoading:c}=Cn({queryKey:["staff-salaries"],queryFn:async()=>{const{data:m}=await Be.from("profiles").select("*"),{data:x}=await Be.from("user_roles").select("*"),{data:g}=await Be.from("staff_approval_requests").select("*");let w=[];try{const{data:M,error:G}=await Be.from("staff_salaries").select("*");if(G)throw G.code==="42P01"&&a(!0),G;w=M||[]}catch(M){console.warn("Could not fetch salaries:",M),M.code==="42P01"&&a(!0)}const S=new Map((x||[]).map(M=>[M.user_id,M.role])),k=new Map((m||[]).map(M=>[M.user_id,M])),T=new Map((g||[]).map(M=>[M.user_id,M])),R=new Map(w.map(M=>[M.user_id,M])),L=new Set([...(m||[]).map(M=>M.user_id),...(x||[]).map(M=>M.user_id),...(g||[]).map(M=>M.user_id)]),D=[];return L.forEach(M=>{const G=S.get(M),A=T.get(M);if(!G&&!A||G==="patient")return;const I=k.get(M),$=R.get(M),q=(I==null?void 0:I.full_name)||(A==null?void 0:A.full_name)||"Unknown Staff",te=(I==null?void 0:I.email)||(A==null?void 0:A.email)||"No Email";let ne=G||(A?`pending-${A.requested_role}`:"unknown");D.push({id:M,name:q,email:te,role:ne,salary:($==null?void 0:$.salary)||0,salary_record_id:$==null?void 0:$.id})}),D}}),u=Qr({mutationFn:async({userId:m,salary:x})=>{const{error:g}=await Be.from("staff_salaries").upsert({user_id:m,salary:x,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(g)throw g},onSuccess:()=>{qe.success("Salary updated successfully"),r(null),e.invalidateQueries({queryKey:["staff-salaries"]})},onError:m=>{qe.error("Failed to update salary: "+m.message)}}),d=Qr({mutationFn:async m=>{i||await Be.from("staff_salaries").delete().eq("user_id",m),await Be.from("user_roles").delete().eq("user_id",m),await Be.from("staff_approval_requests").delete().eq("user_id",m),await Be.from("profiles").delete().eq("user_id",m)},onSuccess:()=>{qe.success("Staff member removed successfully"),e.invalidateQueries({queryKey:["staff-salaries"]}),e.invalidateQueries({queryKey:["admin-user-directory"]})},onError:m=>{qe.error("Failed to remove staff member: "+m.message)}}),h=m=>{r(m.id),s(m.salary.toString())},p=m=>{u.mutate({userId:m,salary:parseFloat(n)||0})},f=()=>{if(!l.length){qe.warning("No data to export");return}const m=new Ct;m.setFontSize(18),m.setTextColor(0,128,0),m.text("Star Hospital - Staff Directory",14,22),m.setFontSize(11),m.setTextColor(100),m.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30);const x=["Name","Email","Role","Monthly Salary"],g=[];l.forEach(w=>{const S=[w.name,w.email,w.role.toUpperCase(),`Rs. ${w.salary.toLocaleString()}`];g.push(S)}),mbe(m,{head:[x],body:g,startY:40,theme:"grid",headStyles:{fillColor:[22,163,74]}}),m.save("star_hospital_staff_list.pdf"),qe.success("Staff list exported to PDF")},v=m=>{const x={admin:"bg-purple-100 text-purple-800 border-purple-200",doctor:"bg-blue-100 text-blue-800 border-blue-200",nurse:"bg-pink-100 text-pink-800 border-pink-200",cashier:"bg-emerald-100 text-emerald-800 border-emerald-200",receptionist:"bg-orange-100 text-orange-800 border-orange-200"},g=m.replace("pending-",""),w=x[g]||"bg-gray-100 text-gray-800 border-gray-200";return o.jsx(zt,{variant:"outline",className:w,children:m.toUpperCase()})};return o.jsxs(Mn,{title:"Staff Salaries",subtitle:"Manage salaries for all staff members",children:[i&&o.jsxs(j2,{variant:"destructive",className:"mb-6 bg-yellow-50 border-yellow-200 text-yellow-800",children:[o.jsx(hw,{className:"h-4 w-4 text-yellow-600"}),o.jsx(kA,{children:"Salary Database Missing"}),o.jsxs(N2,{className:"flex items-center justify-between",children:[o.jsx("span",{children:'The "staff_salaries" table does not exist. You cannot save salaries until this table is created.'}),o.jsxs(Ns,{children:[o.jsx(gc,{asChild:!0,children:o.jsxs(Ce,{size:"sm",variant:"outline",className:"ml-4 h-8 bg-white border-yellow-300 hover:bg-yellow-100 text-yellow-900",children:[o.jsx(ID,{className:"w-3 h-3 mr-2"})," Fix with SQL"]})}),o.jsxs(ds,{className:"max-w-2xl",children:[o.jsxs(ks,{children:[o.jsx(hs,{children:"Create Salaries Table"}),o.jsx(Gs,{children:"Run this SQL in your Supabase Dashboard to create the necessary table."})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-slate-950 text-slate-50 p-4 rounded-md font-mono text-xs overflow-x-auto relative group",children:[o.jsx("pre",{children:`CREATE TABLE IF NOT EXISTS public.staff_salaries (
    id uuid DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id uuid REFERENCES auth.users(id) NOT NULL UNIQUE,
    salary numeric DEFAULT 0,
    created_at timestamptz DEFAULT now(),
    updated_at timestamptz DEFAULT now()
);

ALTER TABLE public.staff_salaries ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Admins can manage salaries" ON public.staff_salaries
    FOR ALL
    USING (
      EXISTS (
        SELECT 1 FROM public.user_roles 
        WHERE user_id = auth.uid() AND role = 'admin'
      )
    );`}),o.jsxs(Ce,{size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>navigator.clipboard.writeText("CREATE TABLE IF NOT EXISTS public.staff_salaries..."),children:[o.jsx(gx,{className:"w-3 h-3"})," Copy"]})]})})]})]})]})]}),o.jsxs(vt,{children:[o.jsxs(Bt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Lt,{className:"flex items-center gap-2",children:[o.jsx(ED,{className:"h-6 w-6 text-green-600"}),"Staff Payroll"]}),o.jsxs(wr,{children:["Total Monthly Payroll: ",l.reduce((m,x)=>m+x.salary,0).toLocaleString()]})]}),o.jsxs(Ce,{onClick:f,variant:"outline",className:"gap-2 border-green-200 text-green-700 hover:bg-green-50",children:[o.jsx(Ua,{className:"h-4 w-4"})," Export PDF"]})]}),o.jsx(Et,{children:o.jsxs(sy,{children:[o.jsx(iy,{children:o.jsxs(Fa,{children:[o.jsx(Nn,{children:"Staff Name"}),o.jsx(Nn,{children:"Role"}),o.jsx(Nn,{children:"Monthly Salary"}),o.jsx(Nn,{className:"w-[120px] text-right",children:"Actions"})]})}),o.jsx(ay,{children:l.length===0?o.jsx(Fa,{children:o.jsx(sn,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No staff members found."})}):l.map(m=>o.jsxs(Fa,{children:[o.jsx(sn,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:m.name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:m.email})]})}),o.jsx(sn,{children:v(m.role)}),o.jsx(sn,{className:"text-right",children:t===m.id?o.jsx(ht,{type:"number",value:n,onChange:x=>s(x.target.value),className:"w-32",placeholder:" 0"}):o.jsx("span",{className:m.salary>0?"font-medium":"text-muted-foreground italic",children:m.salary>0?`${m.salary.toLocaleString()}`:"Not Set"})}),o.jsx(sn,{className:"text-right",children:t===m.id?o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(Ce,{size:"sm",variant:"ghost",onClick:()=>p(m.id),className:"h-8 w-8 p-0 text-green-600",children:o.jsx(nJ,{className:"h-4 w-4"})}),o.jsx(Ce,{size:"sm",variant:"ghost",onClick:()=>r(null),className:"h-8 w-8 p-0 text-destructive",children:o.jsx(Em,{className:"h-4 w-4"})})]}):o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsxs(Ns,{children:[o.jsx(gc,{asChild:!0,children:o.jsx(Ce,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"Manage Credentials",children:o.jsx(kC,{className:"h-4 w-4"})})}),o.jsxs(ds,{children:[o.jsxs(ks,{children:[o.jsx(hs,{children:"Reset Staff Password"}),o.jsxs(Gs,{children:["Set a new password for ",o.jsx("strong",{children:m.name}),".",o.jsx("br",{}),o.jsx("span",{className:"text-red-500 text-xs",children:"This will immediately invalidate their old password."})]})]}),o.jsxs("form",{onSubmit:async x=>{x.preventDefault();const w=new FormData(x.currentTarget).get("newPassword");if(!w||w.length<6){qe.error("Password must be at least 6 characters");return}try{const{error:S}=await Be.rpc("admin_reset_password",{target_user_id:m.id,new_password:w});if(S)throw S;qe.success(`Password updated for ${m.name}`),x.target.reset()}catch(S){qe.error("Failed to reset: "+S.message)}},className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"staffNewPassword",className:"text-sm font-medium",children:"New Password"}),o.jsx(ht,{id:"staffNewPassword",name:"newPassword",type:"text",placeholder:"Enter new password",minLength:6,required:!0})]}),o.jsx(Ce,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Update Password"})]})]})]}),o.jsx(Ce,{size:"sm",variant:"ghost",onClick:()=>h(m),className:"h-8 w-8 p-0",disabled:i,children:o.jsx(XK,{className:"h-4 w-4"})}),o.jsxs(zm,{children:[o.jsx(NU,{asChild:!0,children:o.jsx(Ce,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-destructive hover:bg-destructive/10 hover:text-destructive",children:o.jsx(Cm,{className:"h-4 w-4"})})}),o.jsxs(Jh,{children:[o.jsxs(Qh,{children:[o.jsx(Xh,{children:"Remove Staff Member?"}),o.jsxs(ef,{children:["This will remove ",o.jsx("strong",{children:m.name})," from the staff directory and revoke their access. This action cannot be undone."]})]}),o.jsxs(Zh,{children:[o.jsx(rf,{children:"Cancel"}),o.jsx(tf,{onClick:()=>d.mutate(m.id),className:"bg-destructive hover:bg-destructive/90",children:"Remove Staff"})]})]})]})]})})]},m.id))})]})})]})]})},vbe=new fX,ybe=()=>o.jsx(yX,{client:vbe,children:o.jsx(Une,{children:o.jsx(lce,{defaultTheme:"light",storageKey:"vite-ui-theme",children:o.jsxs(JZ,{children:[o.jsx(VJ,{}),o.jsx(_Q,{}),o.jsx(Jee,{children:o.jsxs(kee,{children:[o.jsx(Nr,{path:"/",element:o.jsx(p5,{})}),o.jsx(Nr,{path:"/patient/login",element:o.jsx(yme,{})}),o.jsx(Nr,{path:"/patient/register",element:o.jsx(xme,{})}),o.jsx(Nr,{path:"/patient/dashboard",element:o.jsx(qne,{children:o.jsx(p0e,{})})}),o.jsx(Nr,{path:"/admin/login",element:o.jsx(x0e,{})}),o.jsx(Nr,{path:"/staff/login",element:o.jsx(m0e,{})}),o.jsx(Nr,{path:"/staff/register",element:o.jsx(v0e,{})}),o.jsx(Nr,{path:"/staff/pending",element:o.jsx(y0e,{})}),o.jsx(Nr,{path:"/dashboard",element:o.jsx(os,{children:o.jsx(dpe,{})})}),o.jsx(Nr,{path:"/staff/dashboard/doctor",element:o.jsx(os,{children:o.jsx(w0e,{})})}),o.jsx(Nr,{path:"/staff/dashboard/reception",element:o.jsx(os,{children:o.jsx(b0e,{})})}),o.jsx(Nr,{path:"/staff/dashboard/nurse",element:o.jsx(os,{children:o.jsx(_0e,{})})}),o.jsx(Nr,{path:"/staff/dashboard/cashier",element:o.jsx(os,{children:o.jsx(YO,{})})}),o.jsx(Nr,{path:"/admin/ai-tools",element:o.jsx(os,{requiredRole:"admin",children:o.jsx(C0e,{})})}),o.jsx(Nr,{path:"/cashier/calculations",element:o.jsx(os,{children:o.jsx(YO,{})})}),o.jsx(Nr,{path:"/admin/info",element:o.jsx(os,{requiredRole:"admin",children:o.jsx(E0e,{})})}),o.jsx(Nr,{path:"/nurse/rounds",element:o.jsx(os,{children:o.jsx(N0e,{})})}),o.jsx(Nr,{path:"/patients",element:o.jsx(os,{children:o.jsx(qpe,{})})}),o.jsx(Nr,{path:"/salaries",element:o.jsx(os,{requiredRole:"admin",children:o.jsx(gbe,{})})}),o.jsx(Nr,{path:"/doctors",element:o.jsx(os,{children:o.jsx(Zpe,{})})}),o.jsx(Nr,{path:"/appointments",element:o.jsx(os,{children:o.jsx(rme,{})})}),o.jsx(Nr,{path:"/departments",element:o.jsx(os,{children:o.jsx(ime,{})})}),o.jsx(Nr,{path:"/beds",element:o.jsx(os,{children:o.jsx(ume,{})})}),o.jsx(Nr,{path:"/callbacks",element:o.jsx(os,{children:o.jsx(fme,{})})}),o.jsx(Nr,{path:"/reports",element:o.jsx(os,{children:o.jsx(pme,{})})}),o.jsx(Nr,{path:"/staff/approvals",element:o.jsx(os,{requiredRole:"admin",children:o.jsx(GO,{})})}),o.jsx(Nr,{path:"/staff-approvals",element:o.jsx(os,{requiredRole:"admin",children:o.jsx(GO,{})})}),o.jsx(Nr,{path:"/settings",element:o.jsx(os,{children:o.jsx(gme,{})})}),o.jsx(Nr,{path:"/login",element:o.jsx(p5,{})}),o.jsx(Nr,{path:"/register",element:o.jsx(p5,{})}),o.jsx(Nr,{path:"/social-coming-soon",element:o.jsx(vme,{})}),o.jsx(Nr,{path:"*",element:o.jsx(mme,{})})]})})]})})})});QI(document.getElementById("root")).render(o.jsx(ybe,{}));export{Yr as _,j4 as c,DM as g};
