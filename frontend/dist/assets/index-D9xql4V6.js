var HH=Object.defineProperty;var R4=e=>{throw TypeError(e)};var GH=(e,t,r)=>t in e?HH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nt=(e,t,r)=>GH(e,typeof t!="symbol"?t+"":t,r),f_=(e,t,r)=>t.has(e)||R4("Cannot "+r);var he=(e,t,r)=>(f_(e,t,"read from private field"),r?r.call(e):t.get(e)),Rt=(e,t,r)=>t.has(e)?R4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),st=(e,t,r,n)=>(f_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ir=(e,t,r)=>(f_(e,t,"access private method"),r);var Qy=(e,t,r,n)=>({set _(s){st(e,t,s,r)},get _(){return he(e,t,n)}});function YH(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var O4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function KH(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var JM={exports:{}},cb={},QM={exports:{}},or={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0=Symbol.for("react.element"),JH=Symbol.for("react.portal"),QH=Symbol.for("react.fragment"),ZH=Symbol.for("react.strict_mode"),XH=Symbol.for("react.profiler"),eG=Symbol.for("react.provider"),tG=Symbol.for("react.context"),rG=Symbol.for("react.forward_ref"),nG=Symbol.for("react.suspense"),sG=Symbol.for("react.memo"),iG=Symbol.for("react.lazy"),L4=Symbol.iterator;function aG(e){return e===null||typeof e!="object"?null:(e=L4&&e[L4]||e["@@iterator"],typeof e=="function"?e:null)}var ZM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XM=Object.assign,eI={};function Sm(e,t,r){this.props=e,this.context=t,this.refs=eI,this.updater=r||ZM}Sm.prototype.isReactComponent={};Sm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tI(){}tI.prototype=Sm.prototype;function Pk(e,t,r){this.props=e,this.context=t,this.refs=eI,this.updater=r||ZM}var Tk=Pk.prototype=new tI;Tk.constructor=Pk;XM(Tk,Sm.prototype);Tk.isPureReactComponent=!0;var M4=Array.isArray,rI=Object.prototype.hasOwnProperty,Rk={current:null},nI={key:!0,ref:!0,__self:!0,__source:!0};function sI(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)rI.call(t,n)&&!nI.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:k0,type:e,key:i,ref:a,props:s,_owner:Rk.current}}function oG(e,t){return{$$typeof:k0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ok(e){return typeof e=="object"&&e!==null&&e.$$typeof===k0}function lG(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var I4=/\/+/g;function p_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lG(""+e.key):t.toString(36)}function nx(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case k0:case JH:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+p_(a,0):n,M4(s)?(r="",e!=null&&(r=e.replace(I4,"$&/")+"/"),nx(s,t,r,"",function(u){return u})):s!=null&&(Ok(s)&&(s=oG(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(I4,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",M4(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+p_(i,l);a+=nx(i,t,r,c,s)}else if(c=aG(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+p_(i,l++),a+=nx(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zy(e,t,r){if(e==null)return e;var n=[],s=0;return nx(e,n,"","",function(i){return t.call(r,i,s++)}),n}function cG(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ci={current:null},sx={transition:null},uG={ReactCurrentDispatcher:Ci,ReactCurrentBatchConfig:sx,ReactCurrentOwner:Rk};function iI(){throw Error("act(...) is not supported in production builds of React.")}or.Children={map:Zy,forEach:function(e,t,r){Zy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zy(e,function(){t++}),t},toArray:function(e){return Zy(e,function(t){return t})||[]},only:function(e){if(!Ok(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};or.Component=Sm;or.Fragment=QH;or.Profiler=XH;or.PureComponent=Pk;or.StrictMode=ZH;or.Suspense=nG;or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uG;or.act=iI;or.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=XM({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Rk.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)rI.call(t,c)&&!nI.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:k0,type:e.type,key:s,ref:i,props:n,_owner:a}};or.createContext=function(e){return e={$$typeof:tG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eG,_context:e},e.Consumer=e};or.createElement=sI;or.createFactory=function(e){var t=sI.bind(null,e);return t.type=e,t};or.createRef=function(){return{current:null}};or.forwardRef=function(e){return{$$typeof:rG,render:e}};or.isValidElement=Ok;or.lazy=function(e){return{$$typeof:iG,_payload:{_status:-1,_result:e},_init:cG}};or.memo=function(e,t){return{$$typeof:sG,type:e,compare:t===void 0?null:t}};or.startTransition=function(e){var t=sx.transition;sx.transition={};try{e()}finally{sx.transition=t}};or.unstable_act=iI;or.useCallback=function(e,t){return Ci.current.useCallback(e,t)};or.useContext=function(e){return Ci.current.useContext(e)};or.useDebugValue=function(){};or.useDeferredValue=function(e){return Ci.current.useDeferredValue(e)};or.useEffect=function(e,t){return Ci.current.useEffect(e,t)};or.useId=function(){return Ci.current.useId()};or.useImperativeHandle=function(e,t,r){return Ci.current.useImperativeHandle(e,t,r)};or.useInsertionEffect=function(e,t){return Ci.current.useInsertionEffect(e,t)};or.useLayoutEffect=function(e,t){return Ci.current.useLayoutEffect(e,t)};or.useMemo=function(e,t){return Ci.current.useMemo(e,t)};or.useReducer=function(e,t,r){return Ci.current.useReducer(e,t,r)};or.useRef=function(e){return Ci.current.useRef(e)};or.useState=function(e){return Ci.current.useState(e)};or.useSyncExternalStore=function(e,t,r){return Ci.current.useSyncExternalStore(e,t,r)};or.useTransition=function(){return Ci.current.useTransition()};or.version="18.3.1";QM.exports=or;var w=QM.exports;const Re=KM(w),Lk=YH({__proto__:null,default:Re},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dG=w,hG=Symbol.for("react.element"),fG=Symbol.for("react.fragment"),pG=Object.prototype.hasOwnProperty,mG=dG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gG={key:!0,ref:!0,__self:!0,__source:!0};function aI(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)pG.call(t,n)&&!gG.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:hG,type:e,key:i,ref:a,props:s,_owner:mG.current}}cb.Fragment=fG;cb.jsx=aI;cb.jsxs=aI;JM.exports=cb;var o=JM.exports,oI={exports:{}},wa={},lI={exports:{}},cI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,Z){var pe=W.length;W.push(Z);e:for(;0<pe;){var ve=pe-1>>>1,U=W[ve];if(0<s(U,Z))W[ve]=Z,W[pe]=U,pe=ve;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var Z=W[0],pe=W.pop();if(pe!==Z){W[0]=pe;e:for(var ve=0,U=W.length,_=U>>>1;ve<_;){var C=2*(ve+1)-1,E=W[C],B=C+1,F=W[B];if(0>s(E,pe))B<U&&0>s(F,E)?(W[ve]=F,W[B]=pe,ve=B):(W[ve]=E,W[C]=pe,ve=C);else if(B<U&&0>s(F,pe))W[ve]=F,W[B]=pe,ve=B;else break e}}return Z}function s(W,Z){var pe=W.sortIndex-Z.sortIndex;return pe!==0?pe:W.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,v=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=W)n(u),Z.sortIndex=Z.expirationTime,t(c,Z);else break;Z=r(u)}}function k(W){if(m=!1,S(W),!v)if(r(c)!==null)v=!0,ne(T);else{var Z=r(u);Z!==null&&te(k,Z.startTime-W)}}function T(W,Z){v=!1,m&&(m=!1,g(D),D=-1),f=!0;var pe=p;try{for(S(Z),h=r(c);h!==null&&(!(h.expirationTime>Z)||W&&!A());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,p=h.priorityLevel;var U=ve(h.expirationTime<=Z);Z=e.unstable_now(),typeof U=="function"?h.callback=U:h===r(c)&&n(c),S(Z)}else n(c);h=r(c)}if(h!==null)var _=!0;else{var C=r(u);C!==null&&te(k,C.startTime-Z),_=!1}return _}finally{h=null,p=pe,f=!1}}var R=!1,O=null,D=-1,M=5,G=-1;function A(){return!(e.unstable_now()-G<M)}function I(){if(O!==null){var W=e.unstable_now();G=W;var Z=!0;try{Z=O(!0,W)}finally{Z?$():(R=!1,O=null)}}else R=!1}var $;if(typeof b=="function")$=function(){b(I)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ee=q.port2;q.port1.onmessage=I,$=function(){ee.postMessage(null)}}else $=function(){x(I,0)};function ne(W){O=W,R||(R=!0,$())}function te(W,Z){D=x(function(){W(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,ne(T))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(W){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var pe=p;p=Z;try{return W()}finally{p=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=p;p=W;try{return Z()}finally{p=pe}},e.unstable_scheduleCallback=function(W,Z,pe){var ve=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ve+pe:ve):pe=ve,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=pe+U,W={id:d++,callback:Z,priorityLevel:W,startTime:pe,expirationTime:U,sortIndex:-1},pe>ve?(W.sortIndex=pe,t(u,W),r(c)===null&&W===r(u)&&(m?(g(D),D=-1):m=!0,te(k,pe-ve))):(W.sortIndex=U,t(c,W),v||f||(v=!0,ne(T))),W},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(W){var Z=p;return function(){var pe=p;p=Z;try{return W.apply(this,arguments)}finally{p=pe}}}})(cI);lI.exports=cI;var vG=lI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yG=w,ga=vG;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uI=new Set,Rv={};function Gh(e,t){Hp(e,t),Hp(e+"Capture",t)}function Hp(e,t){for(Rv[e]=t,e=0;e<t.length;e++)uI.add(t[e])}var Sc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),PS=Object.prototype.hasOwnProperty,xG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D4={},F4={};function wG(e){return PS.call(F4,e)?!0:PS.call(D4,e)?!1:xG.test(e)?F4[e]=!0:(D4[e]=!0,!1)}function bG(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _G(e,t,r,n){if(t===null||typeof t>"u"||bG(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ei(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ys={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ys[e]=new Ei(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ys[t]=new Ei(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ys[e]=new Ei(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ys[e]=new Ei(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ys[e]=new Ei(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ys[e]=new Ei(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ys[e]=new Ei(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ys[e]=new Ei(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ys[e]=new Ei(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mk=/[\-:]([a-z])/g;function Ik(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mk,Ik);Ys[t]=new Ei(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mk,Ik);Ys[t]=new Ei(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mk,Ik);Ys[t]=new Ei(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ys[e]=new Ei(e,1,!1,e.toLowerCase(),null,!1,!1)});Ys.xlinkHref=new Ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ys[e]=new Ei(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dk(e,t,r,n){var s=Ys.hasOwnProperty(t)?Ys[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_G(t,r,s,n)&&(r=null),n||s===null?wG(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Mc=yG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xy=Symbol.for("react.element"),Jf=Symbol.for("react.portal"),Qf=Symbol.for("react.fragment"),Fk=Symbol.for("react.strict_mode"),TS=Symbol.for("react.profiler"),dI=Symbol.for("react.provider"),hI=Symbol.for("react.context"),$k=Symbol.for("react.forward_ref"),RS=Symbol.for("react.suspense"),OS=Symbol.for("react.suspense_list"),Bk=Symbol.for("react.memo"),hu=Symbol.for("react.lazy"),fI=Symbol.for("react.offscreen"),$4=Symbol.iterator;function Cg(e){return e===null||typeof e!="object"?null:(e=$4&&e[$4]||e["@@iterator"],typeof e=="function"?e:null)}var In=Object.assign,m_;function Gg(e){if(m_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);m_=t&&t[1]||""}return`
`+m_+e}var g_=!1;function v_(e,t){if(!e||g_)return"";g_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{g_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Gg(e):""}function SG(e){switch(e.tag){case 5:return Gg(e.type);case 16:return Gg("Lazy");case 13:return Gg("Suspense");case 19:return Gg("SuspenseList");case 0:case 2:case 15:return e=v_(e.type,!1),e;case 11:return e=v_(e.type.render,!1),e;case 1:return e=v_(e.type,!0),e;default:return""}}function LS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qf:return"Fragment";case Jf:return"Portal";case TS:return"Profiler";case Fk:return"StrictMode";case RS:return"Suspense";case OS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hI:return(e.displayName||"Context")+".Consumer";case dI:return(e._context.displayName||"Context")+".Provider";case $k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bk:return t=e.displayName||null,t!==null?t:LS(e.type)||"Memo";case hu:t=e._payload,e=e._init;try{return LS(e(t))}catch{}}return null}function jG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return LS(t);case 8:return t===Fk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NG(e){var t=pI(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function e1(e){e._valueTracker||(e._valueTracker=NG(e))}function mI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=pI(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ux(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function MS(e,t){var r=t.checked;return In({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function B4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gI(e,t){t=t.checked,t!=null&&Dk(e,"checked",t,!1)}function IS(e,t){gI(e,t);var r=Zu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?DS(e,t.type,r):t.hasOwnProperty("defaultValue")&&DS(e,t.type,Zu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function U4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function DS(e,t,r){(t!=="number"||Ux(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Yg=Array.isArray;function hp(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zu(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function FS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return In({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function q4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(Yg(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zu(r)}}function vI(e,t){var r=Zu(t.value),n=Zu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function z4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $S(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var t1,xI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(t1=t1||document.createElement("div"),t1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=t1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ov(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var uv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kG=["Webkit","ms","Moz","O"];Object.keys(uv).forEach(function(e){kG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),uv[t]=uv[e]})});function wI(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||uv.hasOwnProperty(e)&&uv[e]?(""+t).trim():t+"px"}function bI(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=wI(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var CG=In({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function BS(e,t){if(t){if(CG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function US(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qS=null;function Uk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zS=null,fp=null,pp=null;function V4(e){if(e=A0(e)){if(typeof zS!="function")throw Error(We(280));var t=e.stateNode;t&&(t=pb(t),zS(e.stateNode,e.type,t))}}function _I(e){fp?pp?pp.push(e):pp=[e]:fp=e}function SI(){if(fp){var e=fp,t=pp;if(pp=fp=null,V4(e),t)for(e=0;e<t.length;e++)V4(t[e])}}function jI(e,t){return e(t)}function NI(){}var y_=!1;function kI(e,t,r){if(y_)return e(t,r);y_=!0;try{return jI(e,t,r)}finally{y_=!1,(fp!==null||pp!==null)&&(NI(),SI())}}function Lv(e,t){var r=e.stateNode;if(r===null)return null;var n=pb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var VS=!1;if(Sc)try{var Eg={};Object.defineProperty(Eg,"passive",{get:function(){VS=!0}}),window.addEventListener("test",Eg,Eg),window.removeEventListener("test",Eg,Eg)}catch{VS=!1}function EG(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var dv=!1,qx=null,zx=!1,WS=null,AG={onError:function(e){dv=!0,qx=e}};function PG(e,t,r,n,s,i,a,l,c){dv=!1,qx=null,EG.apply(AG,arguments)}function TG(e,t,r,n,s,i,a,l,c){if(PG.apply(this,arguments),dv){if(dv){var u=qx;dv=!1,qx=null}else throw Error(We(198));zx||(zx=!0,WS=u)}}function Yh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function CI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function W4(e){if(Yh(e)!==e)throw Error(We(188))}function RG(e){var t=e.alternate;if(!t){if(t=Yh(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return W4(s),e;if(i===n)return W4(s),t;i=i.sibling}throw Error(We(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(We(189))}}if(r.alternate!==n)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function EI(e){return e=RG(e),e!==null?AI(e):null}function AI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=AI(e);if(t!==null)return t;e=e.sibling}return null}var PI=ga.unstable_scheduleCallback,H4=ga.unstable_cancelCallback,OG=ga.unstable_shouldYield,LG=ga.unstable_requestPaint,Xn=ga.unstable_now,MG=ga.unstable_getCurrentPriorityLevel,qk=ga.unstable_ImmediatePriority,TI=ga.unstable_UserBlockingPriority,Vx=ga.unstable_NormalPriority,IG=ga.unstable_LowPriority,RI=ga.unstable_IdlePriority,ub=null,ml=null;function DG(e){if(ml&&typeof ml.onCommitFiberRoot=="function")try{ml.onCommitFiberRoot(ub,e,void 0,(e.current.flags&128)===128)}catch{}}var ko=Math.clz32?Math.clz32:BG,FG=Math.log,$G=Math.LN2;function BG(e){return e>>>=0,e===0?32:31-(FG(e)/$G|0)|0}var r1=64,n1=4194304;function Kg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Kg(l):(i&=a,i!==0&&(n=Kg(i)))}else a=r&~s,a!==0?n=Kg(a):i!==0&&(n=Kg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ko(t),s=1<<r,n|=e[r],t&=~s;return n}function UG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ko(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=UG(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function HS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OI(){var e=r1;return r1<<=1,!(r1&4194240)&&(r1=64),e}function x_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function C0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ko(t),e[t]=r}function zG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ko(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function zk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ko(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Jr=0;function LI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var MI,Vk,II,DI,FI,GS=!1,s1=[],Du=null,Fu=null,$u=null,Mv=new Map,Iv=new Map,vu=[],VG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G4(e,t){switch(e){case"focusin":case"focusout":Du=null;break;case"dragenter":case"dragleave":Fu=null;break;case"mouseover":case"mouseout":$u=null;break;case"pointerover":case"pointerout":Mv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iv.delete(t.pointerId)}}function Ag(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=A0(t),t!==null&&Vk(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function WG(e,t,r,n,s){switch(t){case"focusin":return Du=Ag(Du,e,t,r,n,s),!0;case"dragenter":return Fu=Ag(Fu,e,t,r,n,s),!0;case"mouseover":return $u=Ag($u,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Mv.set(i,Ag(Mv.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Iv.set(i,Ag(Iv.get(i)||null,e,t,r,n,s)),!0}return!1}function $I(e){var t=Jd(e.target);if(t!==null){var r=Yh(t);if(r!==null){if(t=r.tag,t===13){if(t=CI(r),t!==null){e.blockedOn=t,FI(e.priority,function(){II(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ix(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=YS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);qS=n,r.target.dispatchEvent(n),qS=null}else return t=A0(r),t!==null&&Vk(t),e.blockedOn=r,!1;t.shift()}return!0}function Y4(e,t,r){ix(e)&&r.delete(t)}function HG(){GS=!1,Du!==null&&ix(Du)&&(Du=null),Fu!==null&&ix(Fu)&&(Fu=null),$u!==null&&ix($u)&&($u=null),Mv.forEach(Y4),Iv.forEach(Y4)}function Pg(e,t){e.blockedOn===t&&(e.blockedOn=null,GS||(GS=!0,ga.unstable_scheduleCallback(ga.unstable_NormalPriority,HG)))}function Dv(e){function t(s){return Pg(s,e)}if(0<s1.length){Pg(s1[0],e);for(var r=1;r<s1.length;r++){var n=s1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Du!==null&&Pg(Du,e),Fu!==null&&Pg(Fu,e),$u!==null&&Pg($u,e),Mv.forEach(t),Iv.forEach(t),r=0;r<vu.length;r++)n=vu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vu.length&&(r=vu[0],r.blockedOn===null);)$I(r),r.blockedOn===null&&vu.shift()}var mp=Mc.ReactCurrentBatchConfig,Hx=!0;function GG(e,t,r,n){var s=Jr,i=mp.transition;mp.transition=null;try{Jr=1,Wk(e,t,r,n)}finally{Jr=s,mp.transition=i}}function YG(e,t,r,n){var s=Jr,i=mp.transition;mp.transition=null;try{Jr=4,Wk(e,t,r,n)}finally{Jr=s,mp.transition=i}}function Wk(e,t,r,n){if(Hx){var s=YS(e,t,r,n);if(s===null)A_(e,t,n,Gx,r),G4(e,n);else if(WG(s,e,t,r,n))n.stopPropagation();else if(G4(e,n),t&4&&-1<VG.indexOf(e)){for(;s!==null;){var i=A0(s);if(i!==null&&MI(i),i=YS(e,t,r,n),i===null&&A_(e,t,n,Gx,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else A_(e,t,n,null,r)}}var Gx=null;function YS(e,t,r,n){if(Gx=null,e=Uk(n),e=Jd(e),e!==null)if(t=Yh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=CI(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gx=e,null}function BI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MG()){case qk:return 1;case TI:return 4;case Vx:case IG:return 16;case RI:return 536870912;default:return 16}default:return 16}}var Ru=null,Hk=null,ax=null;function UI(){if(ax)return ax;var e,t=Hk,r=t.length,n,s="value"in Ru?Ru.value:Ru.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ax=s.slice(e,1<n?1-n:void 0)}function ox(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function i1(){return!0}function K4(){return!1}function ba(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?i1:K4,this.isPropagationStopped=K4,this}return In(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=i1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=i1)},persist:function(){},isPersistent:i1}),t}var jm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gk=ba(jm),E0=In({},jm,{view:0,detail:0}),KG=ba(E0),w_,b_,Tg,db=In({},E0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tg&&(Tg&&e.type==="mousemove"?(w_=e.screenX-Tg.screenX,b_=e.screenY-Tg.screenY):b_=w_=0,Tg=e),w_)},movementY:function(e){return"movementY"in e?e.movementY:b_}}),J4=ba(db),JG=In({},db,{dataTransfer:0}),QG=ba(JG),ZG=In({},E0,{relatedTarget:0}),__=ba(ZG),XG=In({},jm,{animationName:0,elapsedTime:0,pseudoElement:0}),eY=ba(XG),tY=In({},jm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rY=ba(tY),nY=In({},jm,{data:0}),Q4=ba(nY),sY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aY[e])?!!t[e]:!1}function Yk(){return oY}var lY=In({},E0,{key:function(e){if(e.key){var t=sY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ox(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yk,charCode:function(e){return e.type==="keypress"?ox(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ox(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cY=ba(lY),uY=In({},db,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z4=ba(uY),dY=In({},E0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yk}),hY=ba(dY),fY=In({},jm,{propertyName:0,elapsedTime:0,pseudoElement:0}),pY=ba(fY),mY=In({},db,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gY=ba(mY),vY=[9,13,27,32],Kk=Sc&&"CompositionEvent"in window,hv=null;Sc&&"documentMode"in document&&(hv=document.documentMode);var yY=Sc&&"TextEvent"in window&&!hv,qI=Sc&&(!Kk||hv&&8<hv&&11>=hv),X4=" ",eP=!1;function zI(e,t){switch(e){case"keyup":return vY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zf=!1;function xY(e,t){switch(e){case"compositionend":return VI(t);case"keypress":return t.which!==32?null:(eP=!0,X4);case"textInput":return e=t.data,e===X4&&eP?null:e;default:return null}}function wY(e,t){if(Zf)return e==="compositionend"||!Kk&&zI(e,t)?(e=UI(),ax=Hk=Ru=null,Zf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qI&&t.locale!=="ko"?null:t.data;default:return null}}var bY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bY[e.type]:t==="textarea"}function WI(e,t,r,n){_I(n),t=Yx(t,"onChange"),0<t.length&&(r=new Gk("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fv=null,Fv=null;function _Y(e){r6(e,0)}function hb(e){var t=tp(e);if(mI(t))return e}function SY(e,t){if(e==="change")return t}var HI=!1;if(Sc){var S_;if(Sc){var j_="oninput"in document;if(!j_){var rP=document.createElement("div");rP.setAttribute("oninput","return;"),j_=typeof rP.oninput=="function"}S_=j_}else S_=!1;HI=S_&&(!document.documentMode||9<document.documentMode)}function nP(){fv&&(fv.detachEvent("onpropertychange",GI),Fv=fv=null)}function GI(e){if(e.propertyName==="value"&&hb(Fv)){var t=[];WI(t,Fv,e,Uk(e)),kI(_Y,t)}}function jY(e,t,r){e==="focusin"?(nP(),fv=t,Fv=r,fv.attachEvent("onpropertychange",GI)):e==="focusout"&&nP()}function NY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hb(Fv)}function kY(e,t){if(e==="click")return hb(t)}function CY(e,t){if(e==="input"||e==="change")return hb(t)}function EY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var To=typeof Object.is=="function"?Object.is:EY;function $v(e,t){if(To(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!PS.call(t,s)||!To(e[s],t[s]))return!1}return!0}function sP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iP(e,t){var r=sP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sP(r)}}function YI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?YI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function KI(){for(var e=window,t=Ux();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ux(e.document)}return t}function Jk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AY(e){var t=KI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&YI(r.ownerDocument.documentElement,r)){if(n!==null&&Jk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=iP(r,i);var a=iP(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PY=Sc&&"documentMode"in document&&11>=document.documentMode,Xf=null,KS=null,pv=null,JS=!1;function aP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;JS||Xf==null||Xf!==Ux(n)||(n=Xf,"selectionStart"in n&&Jk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pv&&$v(pv,n)||(pv=n,n=Yx(KS,"onSelect"),0<n.length&&(t=new Gk("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xf)))}function a1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ep={animationend:a1("Animation","AnimationEnd"),animationiteration:a1("Animation","AnimationIteration"),animationstart:a1("Animation","AnimationStart"),transitionend:a1("Transition","TransitionEnd")},N_={},JI={};Sc&&(JI=document.createElement("div").style,"AnimationEvent"in window||(delete ep.animationend.animation,delete ep.animationiteration.animation,delete ep.animationstart.animation),"TransitionEvent"in window||delete ep.transitionend.transition);function fb(e){if(N_[e])return N_[e];if(!ep[e])return e;var t=ep[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in JI)return N_[e]=t[r];return e}var QI=fb("animationend"),ZI=fb("animationiteration"),XI=fb("animationstart"),e6=fb("transitionend"),t6=new Map,oP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cd(e,t){t6.set(e,t),Gh(t,[e])}for(var k_=0;k_<oP.length;k_++){var C_=oP[k_],TY=C_.toLowerCase(),RY=C_[0].toUpperCase()+C_.slice(1);cd(TY,"on"+RY)}cd(QI,"onAnimationEnd");cd(ZI,"onAnimationIteration");cd(XI,"onAnimationStart");cd("dblclick","onDoubleClick");cd("focusin","onFocus");cd("focusout","onBlur");cd(e6,"onTransitionEnd");Hp("onMouseEnter",["mouseout","mouseover"]);Hp("onMouseLeave",["mouseout","mouseover"]);Hp("onPointerEnter",["pointerout","pointerover"]);Hp("onPointerLeave",["pointerout","pointerover"]);Gh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jg));function lP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TG(n,t,void 0,e),e.currentTarget=null}function r6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;lP(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;lP(s,l,u),i=c}}}if(zx)throw e=WS,zx=!1,WS=null,e}function bn(e,t){var r=t[tj];r===void 0&&(r=t[tj]=new Set);var n=e+"__bubble";r.has(n)||(n6(t,e,2,!1),r.add(n))}function E_(e,t,r){var n=0;t&&(n|=4),n6(r,e,n,t)}var o1="_reactListening"+Math.random().toString(36).slice(2);function Bv(e){if(!e[o1]){e[o1]=!0,uI.forEach(function(r){r!=="selectionchange"&&(OY.has(r)||E_(r,!1,e),E_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[o1]||(t[o1]=!0,E_("selectionchange",!1,t))}}function n6(e,t,r,n){switch(BI(t)){case 1:var s=GG;break;case 4:s=YG;break;default:s=Wk}r=s.bind(null,t,r,e),s=void 0,!VS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function A_(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Jd(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}kI(function(){var u=i,d=Uk(r),h=[];e:{var p=t6.get(e);if(p!==void 0){var f=Gk,v=e;switch(e){case"keypress":if(ox(r)===0)break e;case"keydown":case"keyup":f=cY;break;case"focusin":v="focus",f=__;break;case"focusout":v="blur",f=__;break;case"beforeblur":case"afterblur":f=__;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=J4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=QG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=hY;break;case QI:case ZI:case XI:f=eY;break;case e6:f=pY;break;case"scroll":f=KG;break;case"wheel":f=gY;break;case"copy":case"cut":case"paste":f=rY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Z4}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?p!==null?p+"Capture":null:p;m=[];for(var b=u,S;b!==null;){S=b;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,g!==null&&(k=Lv(b,g),k!=null&&m.push(Uv(b,k,S)))),x)break;b=b.return}0<m.length&&(p=new f(p,v,null,r,d),h.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==qS&&(v=r.relatedTarget||r.fromElement)&&(Jd(v)||v[jc]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=u,v=v?Jd(v):null,v!==null&&(x=Yh(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(m=J4,k="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=Z4,k="onPointerLeave",g="onPointerEnter",b="pointer"),x=f==null?p:tp(f),S=v==null?p:tp(v),p=new m(k,b+"leave",f,r,d),p.target=x,p.relatedTarget=S,k=null,Jd(d)===u&&(m=new m(g,b+"enter",v,r,d),m.target=S,m.relatedTarget=x,k=m),x=k,f&&v)t:{for(m=f,g=v,b=0,S=m;S;S=kf(S))b++;for(S=0,k=g;k;k=kf(k))S++;for(;0<b-S;)m=kf(m),b--;for(;0<S-b;)g=kf(g),S--;for(;b--;){if(m===g||g!==null&&m===g.alternate)break t;m=kf(m),g=kf(g)}m=null}else m=null;f!==null&&cP(h,p,f,m,!1),v!==null&&x!==null&&cP(h,x,v,m,!0)}}e:{if(p=u?tp(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var T=SY;else if(tP(p))if(HI)T=CY;else{T=NY;var R=jY}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=kY);if(T&&(T=T(e,u))){WI(h,T,r,d);break e}R&&R(e,p,u),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&DS(p,"number",p.value)}switch(R=u?tp(u):window,e){case"focusin":(tP(R)||R.contentEditable==="true")&&(Xf=R,KS=u,pv=null);break;case"focusout":pv=KS=Xf=null;break;case"mousedown":JS=!0;break;case"contextmenu":case"mouseup":case"dragend":JS=!1,aP(h,r,d);break;case"selectionchange":if(PY)break;case"keydown":case"keyup":aP(h,r,d)}var O;if(Kk)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Zf?zI(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(qI&&r.locale!=="ko"&&(Zf||D!=="onCompositionStart"?D==="onCompositionEnd"&&Zf&&(O=UI()):(Ru=d,Hk="value"in Ru?Ru.value:Ru.textContent,Zf=!0)),R=Yx(u,D),0<R.length&&(D=new Q4(D,e,null,r,d),h.push({event:D,listeners:R}),O?D.data=O:(O=VI(r),O!==null&&(D.data=O)))),(O=yY?xY(e,r):wY(e,r))&&(u=Yx(u,"onBeforeInput"),0<u.length&&(d=new Q4("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=O))}r6(h,t)})}function Uv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yx(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Lv(e,r),i!=null&&n.unshift(Uv(e,i,s)),i=Lv(e,t),i!=null&&n.push(Uv(e,i,s))),e=e.return}return n}function kf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cP(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Lv(r,i),c!=null&&a.unshift(Uv(r,c,l))):s||(c=Lv(r,i),c!=null&&a.push(Uv(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var LY=/\r\n?/g,MY=/\u0000|\uFFFD/g;function uP(e){return(typeof e=="string"?e:""+e).replace(LY,`
`).replace(MY,"")}function l1(e,t,r){if(t=uP(t),uP(e)!==t&&r)throw Error(We(425))}function Kx(){}var QS=null,ZS=null;function XS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ej=typeof setTimeout=="function"?setTimeout:void 0,IY=typeof clearTimeout=="function"?clearTimeout:void 0,dP=typeof Promise=="function"?Promise:void 0,DY=typeof queueMicrotask=="function"?queueMicrotask:typeof dP<"u"?function(e){return dP.resolve(null).then(e).catch(FY)}:ej;function FY(e){setTimeout(function(){throw e})}function P_(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Dv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Dv(t)}function Bu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Nm=Math.random().toString(36).slice(2),ll="__reactFiber$"+Nm,qv="__reactProps$"+Nm,jc="__reactContainer$"+Nm,tj="__reactEvents$"+Nm,$Y="__reactListeners$"+Nm,BY="__reactHandles$"+Nm;function Jd(e){var t=e[ll];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jc]||r[ll]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hP(e);e!==null;){if(r=e[ll])return r;e=hP(e)}return t}e=r,r=e.parentNode}return null}function A0(e){return e=e[ll]||e[jc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function pb(e){return e[qv]||null}var rj=[],rp=-1;function ud(e){return{current:e}}function Sn(e){0>rp||(e.current=rj[rp],rj[rp]=null,rp--)}function pn(e,t){rp++,rj[rp]=e.current,e.current=t}var Xu={},li=ud(Xu),Bi=ud(!1),Sh=Xu;function Gp(e,t){var r=e.type.contextTypes;if(!r)return Xu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ui(e){return e=e.childContextTypes,e!=null}function Jx(){Sn(Bi),Sn(li)}function fP(e,t,r){if(li.current!==Xu)throw Error(We(168));pn(li,t),pn(Bi,r)}function s6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(We(108,jG(e)||"Unknown",s));return In({},r,n)}function Qx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xu,Sh=li.current,pn(li,e),pn(Bi,Bi.current),!0}function pP(e,t,r){var n=e.stateNode;if(!n)throw Error(We(169));r?(e=s6(e,t,Sh),n.__reactInternalMemoizedMergedChildContext=e,Sn(Bi),Sn(li),pn(li,e)):Sn(Bi),pn(Bi,r)}var ac=null,mb=!1,T_=!1;function i6(e){ac===null?ac=[e]:ac.push(e)}function UY(e){mb=!0,i6(e)}function dd(){if(!T_&&ac!==null){T_=!0;var e=0,t=Jr;try{var r=ac;for(Jr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ac=null,mb=!1}catch(s){throw ac!==null&&(ac=ac.slice(e+1)),PI(qk,dd),s}finally{Jr=t,T_=!1}}return null}var np=[],sp=0,Zx=null,Xx=0,Ma=[],Ia=0,jh=null,hc=1,fc="";function Ud(e,t){np[sp++]=Xx,np[sp++]=Zx,Zx=e,Xx=t}function a6(e,t,r){Ma[Ia++]=hc,Ma[Ia++]=fc,Ma[Ia++]=jh,jh=e;var n=hc;e=fc;var s=32-ko(n)-1;n&=~(1<<s),r+=1;var i=32-ko(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,hc=1<<32-ko(t)+s|r<<s|n,fc=i+e}else hc=1<<i|r<<s|n,fc=e}function Qk(e){e.return!==null&&(Ud(e,1),a6(e,1,0))}function Zk(e){for(;e===Zx;)Zx=np[--sp],np[sp]=null,Xx=np[--sp],np[sp]=null;for(;e===jh;)jh=Ma[--Ia],Ma[Ia]=null,fc=Ma[--Ia],Ma[Ia]=null,hc=Ma[--Ia],Ma[Ia]=null}var pa=null,ua=null,Cn=!1,_o=null;function o6(e,t){var r=Fa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pa=e,ua=Bu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pa=e,ua=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=jh!==null?{id:hc,overflow:fc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pa=e,ua=null,!0):!1;default:return!1}}function nj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sj(e){if(Cn){var t=ua;if(t){var r=t;if(!mP(e,t)){if(nj(e))throw Error(We(418));t=Bu(r.nextSibling);var n=pa;t&&mP(e,t)?o6(n,r):(e.flags=e.flags&-4097|2,Cn=!1,pa=e)}}else{if(nj(e))throw Error(We(418));e.flags=e.flags&-4097|2,Cn=!1,pa=e}}}function gP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pa=e}function c1(e){if(e!==pa)return!1;if(!Cn)return gP(e),Cn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!XS(e.type,e.memoizedProps)),t&&(t=ua)){if(nj(e))throw l6(),Error(We(418));for(;t;)o6(e,t),t=Bu(t.nextSibling)}if(gP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ua=Bu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ua=null}}else ua=pa?Bu(e.stateNode.nextSibling):null;return!0}function l6(){for(var e=ua;e;)e=Bu(e.nextSibling)}function Yp(){ua=pa=null,Cn=!1}function Xk(e){_o===null?_o=[e]:_o.push(e)}var qY=Mc.ReactCurrentBatchConfig;function Rg(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var n=r.stateNode}if(!n)throw Error(We(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function u1(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vP(e){var t=e._init;return t(e._payload)}function c6(e){function t(g,b){if(e){var S=g.deletions;S===null?(g.deletions=[b],g.flags|=16):S.push(b)}}function r(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function n(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function s(g,b){return g=Vu(g,b),g.index=0,g.sibling=null,g}function i(g,b,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<b?(g.flags|=2,b):S):(g.flags|=2,b)):(g.flags|=1048576,b)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,b,S,k){return b===null||b.tag!==6?(b=F_(S,g.mode,k),b.return=g,b):(b=s(b,S),b.return=g,b)}function c(g,b,S,k){var T=S.type;return T===Qf?d(g,b,S.props.children,k,S.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===hu&&vP(T)===b.type)?(k=s(b,S.props),k.ref=Rg(g,b,S),k.return=g,k):(k=px(S.type,S.key,S.props,null,g.mode,k),k.ref=Rg(g,b,S),k.return=g,k)}function u(g,b,S,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=$_(S,g.mode,k),b.return=g,b):(b=s(b,S.children||[]),b.return=g,b)}function d(g,b,S,k,T){return b===null||b.tag!==7?(b=mh(S,g.mode,k,T),b.return=g,b):(b=s(b,S),b.return=g,b)}function h(g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=F_(""+b,g.mode,S),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xy:return S=px(b.type,b.key,b.props,null,g.mode,S),S.ref=Rg(g,null,b),S.return=g,S;case Jf:return b=$_(b,g.mode,S),b.return=g,b;case hu:var k=b._init;return h(g,k(b._payload),S)}if(Yg(b)||Cg(b))return b=mh(b,g.mode,S,null),b.return=g,b;u1(g,b)}return null}function p(g,b,S,k){var T=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:l(g,b,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xy:return S.key===T?c(g,b,S,k):null;case Jf:return S.key===T?u(g,b,S,k):null;case hu:return T=S._init,p(g,b,T(S._payload),k)}if(Yg(S)||Cg(S))return T!==null?null:d(g,b,S,k,null);u1(g,S)}return null}function f(g,b,S,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(S)||null,l(b,g,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xy:return g=g.get(k.key===null?S:k.key)||null,c(b,g,k,T);case Jf:return g=g.get(k.key===null?S:k.key)||null,u(b,g,k,T);case hu:var R=k._init;return f(g,b,S,R(k._payload),T)}if(Yg(k)||Cg(k))return g=g.get(S)||null,d(b,g,k,T,null);u1(b,k)}return null}function v(g,b,S,k){for(var T=null,R=null,O=b,D=b=0,M=null;O!==null&&D<S.length;D++){O.index>D?(M=O,O=null):M=O.sibling;var G=p(g,O,S[D],k);if(G===null){O===null&&(O=M);break}e&&O&&G.alternate===null&&t(g,O),b=i(G,b,D),R===null?T=G:R.sibling=G,R=G,O=M}if(D===S.length)return r(g,O),Cn&&Ud(g,D),T;if(O===null){for(;D<S.length;D++)O=h(g,S[D],k),O!==null&&(b=i(O,b,D),R===null?T=O:R.sibling=O,R=O);return Cn&&Ud(g,D),T}for(O=n(g,O);D<S.length;D++)M=f(O,g,D,S[D],k),M!==null&&(e&&M.alternate!==null&&O.delete(M.key===null?D:M.key),b=i(M,b,D),R===null?T=M:R.sibling=M,R=M);return e&&O.forEach(function(A){return t(g,A)}),Cn&&Ud(g,D),T}function m(g,b,S,k){var T=Cg(S);if(typeof T!="function")throw Error(We(150));if(S=T.call(S),S==null)throw Error(We(151));for(var R=T=null,O=b,D=b=0,M=null,G=S.next();O!==null&&!G.done;D++,G=S.next()){O.index>D?(M=O,O=null):M=O.sibling;var A=p(g,O,G.value,k);if(A===null){O===null&&(O=M);break}e&&O&&A.alternate===null&&t(g,O),b=i(A,b,D),R===null?T=A:R.sibling=A,R=A,O=M}if(G.done)return r(g,O),Cn&&Ud(g,D),T;if(O===null){for(;!G.done;D++,G=S.next())G=h(g,G.value,k),G!==null&&(b=i(G,b,D),R===null?T=G:R.sibling=G,R=G);return Cn&&Ud(g,D),T}for(O=n(g,O);!G.done;D++,G=S.next())G=f(O,g,D,G.value,k),G!==null&&(e&&G.alternate!==null&&O.delete(G.key===null?D:G.key),b=i(G,b,D),R===null?T=G:R.sibling=G,R=G);return e&&O.forEach(function(I){return t(g,I)}),Cn&&Ud(g,D),T}function x(g,b,S,k){if(typeof S=="object"&&S!==null&&S.type===Qf&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Xy:e:{for(var T=S.key,R=b;R!==null;){if(R.key===T){if(T=S.type,T===Qf){if(R.tag===7){r(g,R.sibling),b=s(R,S.props.children),b.return=g,g=b;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===hu&&vP(T)===R.type){r(g,R.sibling),b=s(R,S.props),b.ref=Rg(g,R,S),b.return=g,g=b;break e}r(g,R);break}else t(g,R);R=R.sibling}S.type===Qf?(b=mh(S.props.children,g.mode,k,S.key),b.return=g,g=b):(k=px(S.type,S.key,S.props,null,g.mode,k),k.ref=Rg(g,b,S),k.return=g,g=k)}return a(g);case Jf:e:{for(R=S.key;b!==null;){if(b.key===R)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(g,b.sibling),b=s(b,S.children||[]),b.return=g,g=b;break e}else{r(g,b);break}else t(g,b);b=b.sibling}b=$_(S,g.mode,k),b.return=g,g=b}return a(g);case hu:return R=S._init,x(g,b,R(S._payload),k)}if(Yg(S))return v(g,b,S,k);if(Cg(S))return m(g,b,S,k);u1(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(g,b.sibling),b=s(b,S),b.return=g,g=b):(r(g,b),b=F_(S,g.mode,k),b.return=g,g=b),a(g)):r(g,b)}return x}var Kp=c6(!0),u6=c6(!1),ew=ud(null),tw=null,ip=null,eC=null;function tC(){eC=ip=tw=null}function rC(e){var t=ew.current;Sn(ew),e._currentValue=t}function ij(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function gp(e,t){tw=e,eC=ip=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Di=!0),e.firstContext=null)}function Ga(e){var t=e._currentValue;if(eC!==e)if(e={context:e,memoizedValue:t,next:null},ip===null){if(tw===null)throw Error(We(308));ip=e,tw.dependencies={lanes:0,firstContext:e}}else ip=ip.next=e;return t}var Qd=null;function nC(e){Qd===null?Qd=[e]:Qd.push(e)}function d6(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,nC(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nc(e,n)}function Nc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fu=!1;function sC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Er&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nc(e,r)}return s=n.interleaved,s===null?(t.next=t,nC(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nc(e,r)}function lx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zk(e,r)}}function yP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rw(e,t,r,n){var s=e.updateQueue;fu=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(p=t,f=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){h=v.call(f,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,p=typeof v=="function"?v.call(f,h,p):v,p==null)break e;h=In({},h,p);break e;case 2:fu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);kh|=a,e.lanes=a,e.memoizedState=h}}function xP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(We(191,s));s.call(n)}}}var P0={},gl=ud(P0),zv=ud(P0),Vv=ud(P0);function Zd(e){if(e===P0)throw Error(We(174));return e}function iC(e,t){switch(pn(Vv,t),pn(zv,e),pn(gl,P0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$S(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$S(t,e)}Sn(gl),pn(gl,t)}function Jp(){Sn(gl),Sn(zv),Sn(Vv)}function f6(e){Zd(Vv.current);var t=Zd(gl.current),r=$S(t,e.type);t!==r&&(pn(zv,e),pn(gl,r))}function aC(e){zv.current===e&&(Sn(gl),Sn(zv))}var On=ud(0);function nw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var R_=[];function oC(){for(var e=0;e<R_.length;e++)R_[e]._workInProgressVersionPrimary=null;R_.length=0}var cx=Mc.ReactCurrentDispatcher,O_=Mc.ReactCurrentBatchConfig,Nh=0,Mn=null,Ss=null,Ps=null,sw=!1,mv=!1,Wv=0,zY=0;function Qs(){throw Error(We(321))}function lC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!To(e[r],t[r]))return!1;return!0}function cC(e,t,r,n,s,i){if(Nh=i,Mn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cx.current=e===null||e.memoizedState===null?GY:YY,e=r(n,s),mv){i=0;do{if(mv=!1,Wv=0,25<=i)throw Error(We(301));i+=1,Ps=Ss=null,t.updateQueue=null,cx.current=KY,e=r(n,s)}while(mv)}if(cx.current=iw,t=Ss!==null&&Ss.next!==null,Nh=0,Ps=Ss=Mn=null,sw=!1,t)throw Error(We(300));return e}function uC(){var e=Wv!==0;return Wv=0,e}function tl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ps===null?Mn.memoizedState=Ps=e:Ps=Ps.next=e,Ps}function Ya(){if(Ss===null){var e=Mn.alternate;e=e!==null?e.memoizedState:null}else e=Ss.next;var t=Ps===null?Mn.memoizedState:Ps.next;if(t!==null)Ps=t,Ss=e;else{if(e===null)throw Error(We(310));Ss=e,e={memoizedState:Ss.memoizedState,baseState:Ss.baseState,baseQueue:Ss.baseQueue,queue:Ss.queue,next:null},Ps===null?Mn.memoizedState=Ps=e:Ps=Ps.next=e}return Ps}function Hv(e,t){return typeof t=="function"?t(e):t}function L_(e){var t=Ya(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=Ss,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Nh&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,Mn.lanes|=d,kh|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,To(n,t.memoizedState)||(Di=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Mn.lanes|=i,kh|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function M_(e){var t=Ya(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);To(i,t.memoizedState)||(Di=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function p6(){}function m6(e,t){var r=Mn,n=Ya(),s=t(),i=!To(n.memoizedState,s);if(i&&(n.memoizedState=s,Di=!0),n=n.queue,dC(y6.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ps!==null&&Ps.memoizedState.tag&1){if(r.flags|=2048,Gv(9,v6.bind(null,r,n,s,t),void 0,null),Os===null)throw Error(We(349));Nh&30||g6(r,t,s)}return s}function g6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Mn.updateQueue,t===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function v6(e,t,r,n){t.value=r,t.getSnapshot=n,x6(t)&&w6(e)}function y6(e,t,r){return r(function(){x6(t)&&w6(e)})}function x6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!To(e,r)}catch{return!0}}function w6(e){var t=Nc(e,1);t!==null&&Co(t,e,1,-1)}function wP(e){var t=tl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hv,lastRenderedState:e},t.queue=e,e=e.dispatch=HY.bind(null,Mn,e),[t.memoizedState,e]}function Gv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Mn.updateQueue,t===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function b6(){return Ya().memoizedState}function ux(e,t,r,n){var s=tl();Mn.flags|=e,s.memoizedState=Gv(1|t,r,void 0,n===void 0?null:n)}function gb(e,t,r,n){var s=Ya();n=n===void 0?null:n;var i=void 0;if(Ss!==null){var a=Ss.memoizedState;if(i=a.destroy,n!==null&&lC(n,a.deps)){s.memoizedState=Gv(t,r,i,n);return}}Mn.flags|=e,s.memoizedState=Gv(1|t,r,i,n)}function bP(e,t){return ux(8390656,8,e,t)}function dC(e,t){return gb(2048,8,e,t)}function _6(e,t){return gb(4,2,e,t)}function S6(e,t){return gb(4,4,e,t)}function j6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function N6(e,t,r){return r=r!=null?r.concat([e]):null,gb(4,4,j6.bind(null,t,e),r)}function hC(){}function k6(e,t){var r=Ya();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function C6(e,t){var r=Ya();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function E6(e,t,r){return Nh&21?(To(r,t)||(r=OI(),Mn.lanes|=r,kh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Di=!0),e.memoizedState=r)}function VY(e,t){var r=Jr;Jr=r!==0&&4>r?r:4,e(!0);var n=O_.transition;O_.transition={};try{e(!1),t()}finally{Jr=r,O_.transition=n}}function A6(){return Ya().memoizedState}function WY(e,t,r){var n=zu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},P6(e))T6(t,r);else if(r=d6(e,t,r,n),r!==null){var s=ki();Co(r,e,n,s),R6(r,t,n)}}function HY(e,t,r){var n=zu(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(P6(e))T6(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,To(l,a)){var c=t.interleaved;c===null?(s.next=s,nC(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=d6(e,t,s,n),r!==null&&(s=ki(),Co(r,e,n,s),R6(r,t,n))}}function P6(e){var t=e.alternate;return e===Mn||t!==null&&t===Mn}function T6(e,t){mv=sw=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function R6(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zk(e,r)}}var iw={readContext:Ga,useCallback:Qs,useContext:Qs,useEffect:Qs,useImperativeHandle:Qs,useInsertionEffect:Qs,useLayoutEffect:Qs,useMemo:Qs,useReducer:Qs,useRef:Qs,useState:Qs,useDebugValue:Qs,useDeferredValue:Qs,useTransition:Qs,useMutableSource:Qs,useSyncExternalStore:Qs,useId:Qs,unstable_isNewReconciler:!1},GY={readContext:Ga,useCallback:function(e,t){return tl().memoizedState=[e,t===void 0?null:t],e},useContext:Ga,useEffect:bP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ux(4194308,4,j6.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ux(4194308,4,e,t)},useInsertionEffect:function(e,t){return ux(4,2,e,t)},useMemo:function(e,t){var r=tl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=WY.bind(null,Mn,e),[n.memoizedState,e]},useRef:function(e){var t=tl();return e={current:e},t.memoizedState=e},useState:wP,useDebugValue:hC,useDeferredValue:function(e){return tl().memoizedState=e},useTransition:function(){var e=wP(!1),t=e[0];return e=VY.bind(null,e[1]),tl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Mn,s=tl();if(Cn){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),Os===null)throw Error(We(349));Nh&30||g6(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,bP(y6.bind(null,n,i,e),[e]),n.flags|=2048,Gv(9,v6.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=tl(),t=Os.identifierPrefix;if(Cn){var r=fc,n=hc;r=(n&~(1<<32-ko(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YY={readContext:Ga,useCallback:k6,useContext:Ga,useEffect:dC,useImperativeHandle:N6,useInsertionEffect:_6,useLayoutEffect:S6,useMemo:C6,useReducer:L_,useRef:b6,useState:function(){return L_(Hv)},useDebugValue:hC,useDeferredValue:function(e){var t=Ya();return E6(t,Ss.memoizedState,e)},useTransition:function(){var e=L_(Hv)[0],t=Ya().memoizedState;return[e,t]},useMutableSource:p6,useSyncExternalStore:m6,useId:A6,unstable_isNewReconciler:!1},KY={readContext:Ga,useCallback:k6,useContext:Ga,useEffect:dC,useImperativeHandle:N6,useInsertionEffect:_6,useLayoutEffect:S6,useMemo:C6,useReducer:M_,useRef:b6,useState:function(){return M_(Hv)},useDebugValue:hC,useDeferredValue:function(e){var t=Ya();return Ss===null?t.memoizedState=e:E6(t,Ss.memoizedState,e)},useTransition:function(){var e=M_(Hv)[0],t=Ya().memoizedState;return[e,t]},useMutableSource:p6,useSyncExternalStore:m6,useId:A6,unstable_isNewReconciler:!1};function go(e,t){if(e&&e.defaultProps){t=In({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function aj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:In({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vb={isMounted:function(e){return(e=e._reactInternals)?Yh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ki(),s=zu(e),i=yc(n,s);i.payload=t,r!=null&&(i.callback=r),t=Uu(e,i,s),t!==null&&(Co(t,e,s,n),lx(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ki(),s=zu(e),i=yc(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Uu(e,i,s),t!==null&&(Co(t,e,s,n),lx(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ki(),n=zu(e),s=yc(r,n);s.tag=2,t!=null&&(s.callback=t),t=Uu(e,s,n),t!==null&&(Co(t,e,n,r),lx(t,e,n))}};function _P(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!$v(r,n)||!$v(s,i):!0}function O6(e,t,r){var n=!1,s=Xu,i=t.contextType;return typeof i=="object"&&i!==null?i=Ga(i):(s=Ui(t)?Sh:li.current,n=t.contextTypes,i=(n=n!=null)?Gp(e,s):Xu),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function SP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&vb.enqueueReplaceState(t,t.state,null)}function oj(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},sC(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ga(i):(i=Ui(t)?Sh:li.current,s.context=Gp(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(aj(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&vb.enqueueReplaceState(s,s.state,null),rw(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qp(e,t){try{var r="",n=t;do r+=SG(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function I_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var JY=typeof WeakMap=="function"?WeakMap:Map;function L6(e,t,r){r=yc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ow||(ow=!0,yj=n),lj(e,t)},r}function M6(e,t,r){r=yc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lj(e,t),typeof n!="function"&&(qu===null?qu=new Set([this]):qu.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function jP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new JY;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=uK.bind(null,e,t,r),t.then(e,e))}function NP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kP(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=yc(-1,1),t.tag=2,Uu(r,t,1))),r.lanes|=1),e)}var QY=Mc.ReactCurrentOwner,Di=!1;function yi(e,t,r,n){t.child=e===null?u6(t,null,r,n):Kp(t,e.child,r,n)}function CP(e,t,r,n,s){r=r.render;var i=t.ref;return gp(t,s),n=cC(e,t,r,n,i,s),r=uC(),e!==null&&!Di?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kc(e,t,s)):(Cn&&r&&Qk(t),t.flags|=1,yi(e,t,n,s),t.child)}function EP(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!wC(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,I6(e,t,i,n,s)):(e=px(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:$v,r(a,n)&&e.ref===t.ref)return kc(e,t,s)}return t.flags|=1,e=Vu(i,n),e.ref=t.ref,e.return=t,t.child=e}function I6(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if($v(i,n)&&e.ref===t.ref)if(Di=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Di=!0);else return t.lanes=e.lanes,kc(e,t,s)}return cj(e,t,r,n,s)}function D6(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(op,ia),ia|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pn(op,ia),ia|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pn(op,ia),ia|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,pn(op,ia),ia|=n;return yi(e,t,s,r),t.child}function F6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cj(e,t,r,n,s){var i=Ui(r)?Sh:li.current;return i=Gp(t,i),gp(t,s),r=cC(e,t,r,n,i,s),n=uC(),e!==null&&!Di?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kc(e,t,s)):(Cn&&n&&Qk(t),t.flags|=1,yi(e,t,r,s),t.child)}function AP(e,t,r,n,s){if(Ui(r)){var i=!0;Qx(t)}else i=!1;if(gp(t,s),t.stateNode===null)dx(e,t),O6(t,r,n),oj(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ga(u):(u=Ui(r)?Sh:li.current,u=Gp(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&SP(t,a,n,u),fu=!1;var p=t.memoizedState;a.state=p,rw(t,n,a,s),c=t.memoizedState,l!==n||p!==c||Bi.current||fu?(typeof d=="function"&&(aj(t,r,d,n),c=t.memoizedState),(l=fu||_P(t,r,l,n,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,h6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:go(t.type,l),a.props=u,h=t.pendingProps,p=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ga(c):(c=Ui(r)?Sh:li.current,c=Gp(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==c)&&SP(t,a,n,c),fu=!1,p=t.memoizedState,a.state=p,rw(t,n,a,s);var v=t.memoizedState;l!==h||p!==v||Bi.current||fu?(typeof f=="function"&&(aj(t,r,f,n),v=t.memoizedState),(u=fu||_P(t,r,u,n,p,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return uj(e,t,r,n,i,s)}function uj(e,t,r,n,s,i){F6(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&pP(t,r,!1),kc(e,t,i);n=t.stateNode,QY.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Kp(t,e.child,null,i),t.child=Kp(t,null,l,i)):yi(e,t,l,i),t.memoizedState=n.state,s&&pP(t,r,!0),t.child}function $6(e){var t=e.stateNode;t.pendingContext?fP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fP(e,t.context,!1),iC(e,t.containerInfo)}function PP(e,t,r,n,s){return Yp(),Xk(s),t.flags|=256,yi(e,t,r,n),t.child}var dj={dehydrated:null,treeContext:null,retryLane:0};function hj(e){return{baseLanes:e,cachePool:null,transitions:null}}function B6(e,t,r){var n=t.pendingProps,s=On.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pn(On,s&1),e===null)return sj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=wb(a,n,0,null),e=mh(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hj(r),t.memoizedState=dj,e):fC(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ZY(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Vu(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Vu(l,i):(i=mh(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?hj(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=dj,n}return i=e.child,e=i.sibling,n=Vu(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function fC(e,t){return t=wb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function d1(e,t,r,n){return n!==null&&Xk(n),Kp(t,e.child,null,r),e=fC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZY(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=I_(Error(We(422))),d1(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=wb({mode:"visible",children:n.children},s,0,null),i=mh(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Kp(t,e.child,null,a),t.child.memoizedState=hj(a),t.memoizedState=dj,i);if(!(t.mode&1))return d1(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(We(419)),n=I_(i,n,void 0),d1(e,t,a,n)}if(l=(a&e.childLanes)!==0,Di||l){if(n=Os,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nc(e,s),Co(n,e,s,-1))}return xC(),n=I_(Error(We(421))),d1(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=dK.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ua=Bu(s.nextSibling),pa=t,Cn=!0,_o=null,e!==null&&(Ma[Ia++]=hc,Ma[Ia++]=fc,Ma[Ia++]=jh,hc=e.id,fc=e.overflow,jh=t),t=fC(t,n.children),t.flags|=4096,t)}function TP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ij(e.return,t,r)}function D_(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function U6(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(yi(e,t,n.children,r),n=On.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&TP(e,r,t);else if(e.tag===19)TP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pn(On,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&nw(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),D_(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nw(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}D_(t,!0,r,null,i);break;case"together":D_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=Vu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function XY(e,t,r){switch(t.tag){case 3:$6(t),Yp();break;case 5:f6(t);break;case 1:Ui(t.type)&&Qx(t);break;case 4:iC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;pn(ew,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pn(On,On.current&1),t.flags|=128,null):r&t.child.childLanes?B6(e,t,r):(pn(On,On.current&1),e=kc(e,t,r),e!==null?e.sibling:null);pn(On,On.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return U6(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pn(On,On.current),n)break;return null;case 22:case 23:return t.lanes=0,D6(e,t,r)}return kc(e,t,r)}var q6,fj,z6,V6;q6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fj=function(){};z6=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Zd(gl.current);var i=null;switch(r){case"input":s=MS(e,s),n=MS(e,n),i=[];break;case"select":s=In({},s,{value:void 0}),n=In({},n,{value:void 0}),i=[];break;case"textarea":s=FS(e,s),n=FS(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Kx)}BS(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rv.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rv.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&bn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};V6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Og(e,t){if(!Cn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function eK(e,t,r){var n=t.pendingProps;switch(Zk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(t),null;case 1:return Ui(t.type)&&Jx(),Zs(t),null;case 3:return n=t.stateNode,Jp(),Sn(Bi),Sn(li),oC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(c1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_o!==null&&(bj(_o),_o=null))),fj(e,t),Zs(t),null;case 5:aC(t);var s=Zd(Vv.current);if(r=t.type,e!==null&&t.stateNode!=null)z6(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(We(166));return Zs(t),null}if(e=Zd(gl.current),c1(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ll]=t,n[qv]=i,e=(t.mode&1)!==0,r){case"dialog":bn("cancel",n),bn("close",n);break;case"iframe":case"object":case"embed":bn("load",n);break;case"video":case"audio":for(s=0;s<Jg.length;s++)bn(Jg[s],n);break;case"source":bn("error",n);break;case"img":case"image":case"link":bn("error",n),bn("load",n);break;case"details":bn("toggle",n);break;case"input":B4(n,i),bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},bn("invalid",n);break;case"textarea":q4(n,i),bn("invalid",n)}BS(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&l1(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&l1(n.textContent,l,e),s=["children",""+l]):Rv.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&bn("scroll",n)}switch(r){case"input":e1(n),U4(n,i,!0);break;case"textarea":e1(n),z4(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Kx)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yI(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ll]=t,e[qv]=n,q6(e,t,!1,!1),t.stateNode=e;e:{switch(a=US(r,n),r){case"dialog":bn("cancel",e),bn("close",e),s=n;break;case"iframe":case"object":case"embed":bn("load",e),s=n;break;case"video":case"audio":for(s=0;s<Jg.length;s++)bn(Jg[s],e);s=n;break;case"source":bn("error",e),s=n;break;case"img":case"image":case"link":bn("error",e),bn("load",e),s=n;break;case"details":bn("toggle",e),s=n;break;case"input":B4(e,n),s=MS(e,n),bn("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=In({},n,{value:void 0}),bn("invalid",e);break;case"textarea":q4(e,n),s=FS(e,n),bn("invalid",e);break;default:s=n}BS(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?bI(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xI(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ov(e,c):typeof c=="number"&&Ov(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rv.hasOwnProperty(i)?c!=null&&i==="onScroll"&&bn("scroll",e):c!=null&&Dk(e,i,c,a))}switch(r){case"input":e1(e),U4(e,n,!1);break;case"textarea":e1(e),z4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zu(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?hp(e,!!n.multiple,i,!1):n.defaultValue!=null&&hp(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Kx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zs(t),null;case 6:if(e&&t.stateNode!=null)V6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(We(166));if(r=Zd(Vv.current),Zd(gl.current),c1(t)){if(n=t.stateNode,r=t.memoizedProps,n[ll]=t,(i=n.nodeValue!==r)&&(e=pa,e!==null))switch(e.tag){case 3:l1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&l1(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ll]=t,t.stateNode=n}return Zs(t),null;case 13:if(Sn(On),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Cn&&ua!==null&&t.mode&1&&!(t.flags&128))l6(),Yp(),t.flags|=98560,i=!1;else if(i=c1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(We(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(We(317));i[ll]=t}else Yp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zs(t),i=!1}else _o!==null&&(bj(_o),_o=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||On.current&1?Ns===0&&(Ns=3):xC())),t.updateQueue!==null&&(t.flags|=4),Zs(t),null);case 4:return Jp(),fj(e,t),e===null&&Bv(t.stateNode.containerInfo),Zs(t),null;case 10:return rC(t.type._context),Zs(t),null;case 17:return Ui(t.type)&&Jx(),Zs(t),null;case 19:if(Sn(On),i=t.memoizedState,i===null)return Zs(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Og(i,!1);else{if(Ns!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=nw(e),a!==null){for(t.flags|=128,Og(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pn(On,On.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xn()>Zp&&(t.flags|=128,n=!0,Og(i,!1),t.lanes=4194304)}else{if(!n)if(e=nw(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Og(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Cn)return Zs(t),null}else 2*Xn()-i.renderingStartTime>Zp&&r!==1073741824&&(t.flags|=128,n=!0,Og(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xn(),t.sibling=null,r=On.current,pn(On,n?r&1|2:r&1),t):(Zs(t),null);case 22:case 23:return yC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ia&1073741824&&(Zs(t),t.subtreeFlags&6&&(t.flags|=8192)):Zs(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function tK(e,t){switch(Zk(t),t.tag){case 1:return Ui(t.type)&&Jx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jp(),Sn(Bi),Sn(li),oC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return aC(t),null;case 13:if(Sn(On),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));Yp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Sn(On),null;case 4:return Jp(),null;case 10:return rC(t.type._context),null;case 22:case 23:return yC(),null;case 24:return null;default:return null}}var h1=!1,si=!1,rK=typeof WeakSet=="function"?WeakSet:Set,ot=null;function ap(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Wn(e,t,n)}else r.current=null}function pj(e,t,r){try{r()}catch(n){Wn(e,t,n)}}var RP=!1;function nK(e,t){if(QS=Hx,e=KI(),Jk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++u===s&&(l=a),p===i&&++d===n&&(c=a),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ZS={focusedElem:e,selectionRange:r},Hx=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,x=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:go(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(k){Wn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return v=RP,RP=!1,v}function gv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&pj(t,r,i)}s=s.next}while(s!==n)}}function yb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function W6(e){var t=e.alternate;t!==null&&(e.alternate=null,W6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ll],delete t[qv],delete t[tj],delete t[$Y],delete t[BY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function H6(e){return e.tag===5||e.tag===3||e.tag===4}function OP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||H6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Kx));else if(n!==4&&(e=e.child,e!==null))for(gj(e,t,r),e=e.sibling;e!==null;)gj(e,t,r),e=e.sibling}function vj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vj(e,t,r),e=e.sibling;e!==null;)vj(e,t,r),e=e.sibling}var Vs=null,wo=!1;function tu(e,t,r){for(r=r.child;r!==null;)G6(e,t,r),r=r.sibling}function G6(e,t,r){if(ml&&typeof ml.onCommitFiberUnmount=="function")try{ml.onCommitFiberUnmount(ub,r)}catch{}switch(r.tag){case 5:si||ap(r,t);case 6:var n=Vs,s=wo;Vs=null,tu(e,t,r),Vs=n,wo=s,Vs!==null&&(wo?(e=Vs,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vs.removeChild(r.stateNode));break;case 18:Vs!==null&&(wo?(e=Vs,r=r.stateNode,e.nodeType===8?P_(e.parentNode,r):e.nodeType===1&&P_(e,r),Dv(e)):P_(Vs,r.stateNode));break;case 4:n=Vs,s=wo,Vs=r.stateNode.containerInfo,wo=!0,tu(e,t,r),Vs=n,wo=s;break;case 0:case 11:case 14:case 15:if(!si&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&pj(r,t,a),s=s.next}while(s!==n)}tu(e,t,r);break;case 1:if(!si&&(ap(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Wn(r,t,l)}tu(e,t,r);break;case 21:tu(e,t,r);break;case 22:r.mode&1?(si=(n=si)||r.memoizedState!==null,tu(e,t,r),si=n):tu(e,t,r);break;default:tu(e,t,r)}}function LP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new rK),t.forEach(function(n){var s=hK.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function lo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Vs=l.stateNode,wo=!1;break e;case 3:Vs=l.stateNode.containerInfo,wo=!0;break e;case 4:Vs=l.stateNode.containerInfo,wo=!0;break e}l=l.return}if(Vs===null)throw Error(We(160));G6(i,a,s),Vs=null,wo=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Wn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Y6(t,e),t=t.sibling}function Y6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lo(t,e),Zo(e),n&4){try{gv(3,e,e.return),yb(3,e)}catch(m){Wn(e,e.return,m)}try{gv(5,e,e.return)}catch(m){Wn(e,e.return,m)}}break;case 1:lo(t,e),Zo(e),n&512&&r!==null&&ap(r,r.return);break;case 5:if(lo(t,e),Zo(e),n&512&&r!==null&&ap(r,r.return),e.flags&32){var s=e.stateNode;try{Ov(s,"")}catch(m){Wn(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&gI(s,i),US(l,a);var u=US(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?bI(s,h):d==="dangerouslySetInnerHTML"?xI(s,h):d==="children"?Ov(s,h):Dk(s,d,h,u)}switch(l){case"input":IS(s,i);break;case"textarea":vI(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?hp(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?hp(s,!!i.multiple,i.defaultValue,!0):hp(s,!!i.multiple,i.multiple?[]:"",!1))}s[qv]=i}catch(m){Wn(e,e.return,m)}}break;case 6:if(lo(t,e),Zo(e),n&4){if(e.stateNode===null)throw Error(We(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Wn(e,e.return,m)}}break;case 3:if(lo(t,e),Zo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Dv(t.containerInfo)}catch(m){Wn(e,e.return,m)}break;case 4:lo(t,e),Zo(e);break;case 13:lo(t,e),Zo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gC=Xn())),n&4&&LP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(si=(u=si)||d,lo(t,e),si=u):lo(t,e),Zo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ot=e,d=e.child;d!==null;){for(h=ot=d;ot!==null;){switch(p=ot,f=p.child,p.tag){case 0:case 11:case 14:case 15:gv(4,p,p.return);break;case 1:ap(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Wn(n,r,m)}}break;case 5:ap(p,p.return);break;case 22:if(p.memoizedState!==null){IP(h);continue}}f!==null?(f.return=p,ot=f):IP(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=wI("display",a))}catch(m){Wn(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Wn(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:lo(t,e),Zo(e),n&4&&LP(e);break;case 21:break;default:lo(t,e),Zo(e)}}function Zo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(H6(r)){var n=r;break e}r=r.return}throw Error(We(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ov(s,""),n.flags&=-33);var i=OP(e);vj(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=OP(e);gj(e,l,a);break;default:throw Error(We(161))}}catch(c){Wn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sK(e,t,r){ot=e,K6(e)}function K6(e,t,r){for(var n=(e.mode&1)!==0;ot!==null;){var s=ot,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||h1;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||si;l=h1;var u=si;if(h1=a,(si=c)&&!u)for(ot=s;ot!==null;)a=ot,c=a.child,a.tag===22&&a.memoizedState!==null?DP(s):c!==null?(c.return=a,ot=c):DP(s);for(;i!==null;)ot=i,K6(i),i=i.sibling;ot=s,h1=l,si=u}MP(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ot=i):MP(e)}}function MP(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:si||yb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!si)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:go(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xP(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xP(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dv(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}si||t.flags&512&&mj(t)}catch(p){Wn(t,t.return,p)}}if(t===e){ot=null;break}if(r=t.sibling,r!==null){r.return=t.return,ot=r;break}ot=t.return}}function IP(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ot=r;break}ot=t.return}}function DP(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yb(4,t)}catch(c){Wn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Wn(t,s,c)}}var i=t.return;try{mj(t)}catch(c){Wn(t,i,c)}break;case 5:var a=t.return;try{mj(t)}catch(c){Wn(t,a,c)}}}catch(c){Wn(t,t.return,c)}if(t===e){ot=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ot=l;break}ot=t.return}}var iK=Math.ceil,aw=Mc.ReactCurrentDispatcher,pC=Mc.ReactCurrentOwner,Ua=Mc.ReactCurrentBatchConfig,Er=0,Os=null,hs=null,Hs=0,ia=0,op=ud(0),Ns=0,Yv=null,kh=0,xb=0,mC=0,vv=null,Ii=null,gC=0,Zp=1/0,rc=null,ow=!1,yj=null,qu=null,f1=!1,Ou=null,lw=0,yv=0,xj=null,hx=-1,fx=0;function ki(){return Er&6?Xn():hx!==-1?hx:hx=Xn()}function zu(e){return e.mode&1?Er&2&&Hs!==0?Hs&-Hs:qY.transition!==null?(fx===0&&(fx=OI()),fx):(e=Jr,e!==0||(e=window.event,e=e===void 0?16:BI(e.type)),e):1}function Co(e,t,r,n){if(50<yv)throw yv=0,xj=null,Error(We(185));C0(e,r,n),(!(Er&2)||e!==Os)&&(e===Os&&(!(Er&2)&&(xb|=r),Ns===4&&yu(e,Hs)),qi(e,n),r===1&&Er===0&&!(t.mode&1)&&(Zp=Xn()+500,mb&&dd()))}function qi(e,t){var r=e.callbackNode;qG(e,t);var n=Wx(e,e===Os?Hs:0);if(n===0)r!==null&&H4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&H4(r),t===1)e.tag===0?UY(FP.bind(null,e)):i6(FP.bind(null,e)),DY(function(){!(Er&6)&&dd()}),r=null;else{switch(LI(n)){case 1:r=qk;break;case 4:r=TI;break;case 16:r=Vx;break;case 536870912:r=RI;break;default:r=Vx}r=nD(r,J6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function J6(e,t){if(hx=-1,fx=0,Er&6)throw Error(We(327));var r=e.callbackNode;if(vp()&&e.callbackNode!==r)return null;var n=Wx(e,e===Os?Hs:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cw(e,n);else{t=n;var s=Er;Er|=2;var i=Z6();(Os!==e||Hs!==t)&&(rc=null,Zp=Xn()+500,ph(e,t));do try{lK();break}catch(l){Q6(e,l)}while(!0);tC(),aw.current=i,Er=s,hs!==null?t=0:(Os=null,Hs=0,t=Ns)}if(t!==0){if(t===2&&(s=HS(e),s!==0&&(n=s,t=wj(e,s))),t===1)throw r=Yv,ph(e,0),yu(e,n),qi(e,Xn()),r;if(t===6)yu(e,n);else{if(s=e.current.alternate,!(n&30)&&!aK(s)&&(t=cw(e,n),t===2&&(i=HS(e),i!==0&&(n=i,t=wj(e,i))),t===1))throw r=Yv,ph(e,0),yu(e,n),qi(e,Xn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(We(345));case 2:qd(e,Ii,rc);break;case 3:if(yu(e,n),(n&130023424)===n&&(t=gC+500-Xn(),10<t)){if(Wx(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ki(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ej(qd.bind(null,e,Ii,rc),t);break}qd(e,Ii,rc);break;case 4:if(yu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-ko(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Xn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*iK(n/1960))-n,10<n){e.timeoutHandle=ej(qd.bind(null,e,Ii,rc),n);break}qd(e,Ii,rc);break;case 5:qd(e,Ii,rc);break;default:throw Error(We(329))}}}return qi(e,Xn()),e.callbackNode===r?J6.bind(null,e):null}function wj(e,t){var r=vv;return e.current.memoizedState.isDehydrated&&(ph(e,t).flags|=256),e=cw(e,t),e!==2&&(t=Ii,Ii=r,t!==null&&bj(t)),e}function bj(e){Ii===null?Ii=e:Ii.push.apply(Ii,e)}function aK(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!To(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yu(e,t){for(t&=~mC,t&=~xb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ko(t),n=1<<r;e[r]=-1,t&=~n}}function FP(e){if(Er&6)throw Error(We(327));vp();var t=Wx(e,0);if(!(t&1))return qi(e,Xn()),null;var r=cw(e,t);if(e.tag!==0&&r===2){var n=HS(e);n!==0&&(t=n,r=wj(e,n))}if(r===1)throw r=Yv,ph(e,0),yu(e,t),qi(e,Xn()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qd(e,Ii,rc),qi(e,Xn()),null}function vC(e,t){var r=Er;Er|=1;try{return e(t)}finally{Er=r,Er===0&&(Zp=Xn()+500,mb&&dd())}}function Ch(e){Ou!==null&&Ou.tag===0&&!(Er&6)&&vp();var t=Er;Er|=1;var r=Ua.transition,n=Jr;try{if(Ua.transition=null,Jr=1,e)return e()}finally{Jr=n,Ua.transition=r,Er=t,!(Er&6)&&dd()}}function yC(){ia=op.current,Sn(op)}function ph(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,IY(r)),hs!==null)for(r=hs.return;r!==null;){var n=r;switch(Zk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jx();break;case 3:Jp(),Sn(Bi),Sn(li),oC();break;case 5:aC(n);break;case 4:Jp();break;case 13:Sn(On);break;case 19:Sn(On);break;case 10:rC(n.type._context);break;case 22:case 23:yC()}r=r.return}if(Os=e,hs=e=Vu(e.current,null),Hs=ia=t,Ns=0,Yv=null,mC=xb=kh=0,Ii=vv=null,Qd!==null){for(t=0;t<Qd.length;t++)if(r=Qd[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Qd=null}return e}function Q6(e,t){do{var r=hs;try{if(tC(),cx.current=iw,sw){for(var n=Mn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}sw=!1}if(Nh=0,Ps=Ss=Mn=null,mv=!1,Wv=0,pC.current=null,r===null||r.return===null){Ns=1,Yv=t,hs=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=Hs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=NP(a);if(f!==null){f.flags&=-257,kP(f,a,l,i,t),f.mode&1&&jP(i,u,t),t=f,c=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){jP(i,u,t),xC();break e}c=Error(We(426))}}else if(Cn&&l.mode&1){var x=NP(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),kP(x,a,l,i,t),Xk(Qp(c,l));break e}}i=c=Qp(c,l),Ns!==4&&(Ns=2),vv===null?vv=[i]:vv.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=L6(i,c,t);yP(i,g);break e;case 1:l=c;var b=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qu===null||!qu.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=M6(i,l,t);yP(i,k);break e}}i=i.return}while(i!==null)}eD(r)}catch(T){t=T,hs===r&&r!==null&&(hs=r=r.return);continue}break}while(!0)}function Z6(){var e=aw.current;return aw.current=iw,e===null?iw:e}function xC(){(Ns===0||Ns===3||Ns===2)&&(Ns=4),Os===null||!(kh&268435455)&&!(xb&268435455)||yu(Os,Hs)}function cw(e,t){var r=Er;Er|=2;var n=Z6();(Os!==e||Hs!==t)&&(rc=null,ph(e,t));do try{oK();break}catch(s){Q6(e,s)}while(!0);if(tC(),Er=r,aw.current=n,hs!==null)throw Error(We(261));return Os=null,Hs=0,Ns}function oK(){for(;hs!==null;)X6(hs)}function lK(){for(;hs!==null&&!OG();)X6(hs)}function X6(e){var t=rD(e.alternate,e,ia);e.memoizedProps=e.pendingProps,t===null?eD(e):hs=t,pC.current=null}function eD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=tK(r,t),r!==null){r.flags&=32767,hs=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ns=6,hs=null;return}}else if(r=eK(r,t,ia),r!==null){hs=r;return}if(t=t.sibling,t!==null){hs=t;return}hs=t=e}while(t!==null);Ns===0&&(Ns=5)}function qd(e,t,r){var n=Jr,s=Ua.transition;try{Ua.transition=null,Jr=1,cK(e,t,r,n)}finally{Ua.transition=s,Jr=n}return null}function cK(e,t,r,n){do vp();while(Ou!==null);if(Er&6)throw Error(We(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(zG(e,i),e===Os&&(hs=Os=null,Hs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||f1||(f1=!0,nD(Vx,function(){return vp(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ua.transition,Ua.transition=null;var a=Jr;Jr=1;var l=Er;Er|=4,pC.current=null,nK(e,r),Y6(r,e),AY(ZS),Hx=!!QS,ZS=QS=null,e.current=r,sK(r),LG(),Er=l,Jr=a,Ua.transition=i}else e.current=r;if(f1&&(f1=!1,Ou=e,lw=s),i=e.pendingLanes,i===0&&(qu=null),DG(r.stateNode),qi(e,Xn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ow)throw ow=!1,e=yj,yj=null,e;return lw&1&&e.tag!==0&&vp(),i=e.pendingLanes,i&1?e===xj?yv++:(yv=0,xj=e):yv=0,dd(),null}function vp(){if(Ou!==null){var e=LI(lw),t=Ua.transition,r=Jr;try{if(Ua.transition=null,Jr=16>e?16:e,Ou===null)var n=!1;else{if(e=Ou,Ou=null,lw=0,Er&6)throw Error(We(331));var s=Er;for(Er|=4,ot=e.current;ot!==null;){var i=ot,a=i.child;if(ot.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ot=u;ot!==null;){var d=ot;switch(d.tag){case 0:case 11:case 15:gv(8,d,i)}var h=d.child;if(h!==null)h.return=d,ot=h;else for(;ot!==null;){d=ot;var p=d.sibling,f=d.return;if(W6(d),d===u){ot=null;break}if(p!==null){p.return=f,ot=p;break}ot=f}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}ot=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ot=a;else e:for(;ot!==null;){if(i=ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gv(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ot=g;break e}ot=i.return}}var b=e.current;for(ot=b;ot!==null;){a=ot;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ot=S;else e:for(a=b;ot!==null;){if(l=ot,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yb(9,l)}}catch(T){Wn(l,l.return,T)}if(l===a){ot=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ot=k;break e}ot=l.return}}if(Er=s,dd(),ml&&typeof ml.onPostCommitFiberRoot=="function")try{ml.onPostCommitFiberRoot(ub,e)}catch{}n=!0}return n}finally{Jr=r,Ua.transition=t}}return!1}function $P(e,t,r){t=Qp(r,t),t=L6(e,t,1),e=Uu(e,t,1),t=ki(),e!==null&&(C0(e,1,t),qi(e,t))}function Wn(e,t,r){if(e.tag===3)$P(e,e,r);else for(;t!==null;){if(t.tag===3){$P(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qu===null||!qu.has(n))){e=Qp(r,e),e=M6(t,e,1),t=Uu(t,e,1),e=ki(),t!==null&&(C0(t,1,e),qi(t,e));break}}t=t.return}}function uK(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ki(),e.pingedLanes|=e.suspendedLanes&r,Os===e&&(Hs&r)===r&&(Ns===4||Ns===3&&(Hs&130023424)===Hs&&500>Xn()-gC?ph(e,0):mC|=r),qi(e,t)}function tD(e,t){t===0&&(e.mode&1?(t=n1,n1<<=1,!(n1&130023424)&&(n1=4194304)):t=1);var r=ki();e=Nc(e,t),e!==null&&(C0(e,t,r),qi(e,r))}function dK(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tD(e,r)}function hK(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(We(314))}n!==null&&n.delete(t),tD(e,r)}var rD;rD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bi.current)Di=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Di=!1,XY(e,t,r);Di=!!(e.flags&131072)}else Di=!1,Cn&&t.flags&1048576&&a6(t,Xx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;dx(e,t),e=t.pendingProps;var s=Gp(t,li.current);gp(t,r),s=cC(null,t,n,e,s,r);var i=uC();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ui(n)?(i=!0,Qx(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sC(t),s.updater=vb,t.stateNode=s,s._reactInternals=t,oj(t,n,e,r),t=uj(null,t,n,!0,i,r)):(t.tag=0,Cn&&i&&Qk(t),yi(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(dx(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=pK(n),e=go(n,e),s){case 0:t=cj(null,t,n,e,r);break e;case 1:t=AP(null,t,n,e,r);break e;case 11:t=CP(null,t,n,e,r);break e;case 14:t=EP(null,t,n,go(n.type,e),r);break e}throw Error(We(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:go(n,s),cj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:go(n,s),AP(e,t,n,s,r);case 3:e:{if($6(t),e===null)throw Error(We(387));n=t.pendingProps,i=t.memoizedState,s=i.element,h6(e,t),rw(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Qp(Error(We(423)),t),t=PP(e,t,n,r,s);break e}else if(n!==s){s=Qp(Error(We(424)),t),t=PP(e,t,n,r,s);break e}else for(ua=Bu(t.stateNode.containerInfo.firstChild),pa=t,Cn=!0,_o=null,r=u6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yp(),n===s){t=kc(e,t,r);break e}yi(e,t,n,r)}t=t.child}return t;case 5:return f6(t),e===null&&sj(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,XS(n,s)?a=null:i!==null&&XS(n,i)&&(t.flags|=32),F6(e,t),yi(e,t,a,r),t.child;case 6:return e===null&&sj(t),null;case 13:return B6(e,t,r);case 4:return iC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Kp(t,null,n,r):yi(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:go(n,s),CP(e,t,n,s,r);case 7:return yi(e,t,t.pendingProps,r),t.child;case 8:return yi(e,t,t.pendingProps.children,r),t.child;case 12:return yi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,pn(ew,n._currentValue),n._currentValue=a,i!==null)if(To(i.value,a)){if(i.children===s.children&&!Bi.current){t=kc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=yc(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ij(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(We(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ij(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}yi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,gp(t,r),s=Ga(s),n=n(s),t.flags|=1,yi(e,t,n,r),t.child;case 14:return n=t.type,s=go(n,t.pendingProps),s=go(n.type,s),EP(e,t,n,s,r);case 15:return I6(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:go(n,s),dx(e,t),t.tag=1,Ui(n)?(e=!0,Qx(t)):e=!1,gp(t,r),O6(t,n,s),oj(t,n,s,r),uj(null,t,n,!0,e,r);case 19:return U6(e,t,r);case 22:return D6(e,t,r)}throw Error(We(156,t.tag))};function nD(e,t){return PI(e,t)}function fK(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(e,t,r,n){return new fK(e,t,r,n)}function wC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pK(e){if(typeof e=="function")return wC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$k)return 11;if(e===Bk)return 14}return 2}function Vu(e,t){var r=e.alternate;return r===null?(r=Fa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function px(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")wC(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Qf:return mh(r.children,s,i,t);case Fk:a=8,s|=8;break;case TS:return e=Fa(12,r,t,s|2),e.elementType=TS,e.lanes=i,e;case RS:return e=Fa(13,r,t,s),e.elementType=RS,e.lanes=i,e;case OS:return e=Fa(19,r,t,s),e.elementType=OS,e.lanes=i,e;case fI:return wb(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dI:a=10;break e;case hI:a=9;break e;case $k:a=11;break e;case Bk:a=14;break e;case hu:a=16,n=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Fa(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function mh(e,t,r,n){return e=Fa(7,e,n,t),e.lanes=r,e}function wb(e,t,r,n){return e=Fa(22,e,n,t),e.elementType=fI,e.lanes=r,e.stateNode={isHidden:!1},e}function F_(e,t,r){return e=Fa(6,e,null,t),e.lanes=r,e}function $_(e,t,r){return t=Fa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mK(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x_(0),this.expirationTimes=x_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x_(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bC(e,t,r,n,s,i,a,l,c){return e=new mK(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sC(i),e}function gK(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function sD(e){if(!e)return Xu;e=e._reactInternals;e:{if(Yh(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ui(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(Ui(r))return s6(e,r,t)}return t}function iD(e,t,r,n,s,i,a,l,c){return e=bC(r,n,!0,e,s,i,a,l,c),e.context=sD(null),r=e.current,n=ki(),s=zu(r),i=yc(n,s),i.callback=t??null,Uu(r,i,s),e.current.lanes=s,C0(e,s,n),qi(e,n),e}function bb(e,t,r,n){var s=t.current,i=ki(),a=zu(s);return r=sD(r),t.context===null?t.context=r:t.pendingContext=r,t=yc(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Uu(s,t,a),e!==null&&(Co(e,s,a,i),lx(e,s,a)),a}function uw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function BP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _C(e,t){BP(e,t),(e=e.alternate)&&BP(e,t)}function vK(){return null}var aD=typeof reportError=="function"?reportError:function(e){console.error(e)};function SC(e){this._internalRoot=e}_b.prototype.render=SC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));bb(e,t,null,null)};_b.prototype.unmount=SC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ch(function(){bb(null,e,null,null)}),t[jc]=null}};function _b(e){this._internalRoot=e}_b.prototype.unstable_scheduleHydration=function(e){if(e){var t=DI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vu.length&&t!==0&&t<vu[r].priority;r++);vu.splice(r,0,e),r===0&&$I(e)}};function jC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function UP(){}function yK(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=uw(a);i.call(u)}}var a=iD(t,n,e,0,null,!1,!1,"",UP);return e._reactRootContainer=a,e[jc]=a.current,Bv(e.nodeType===8?e.parentNode:e),Ch(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=uw(c);l.call(u)}}var c=bC(e,0,!1,null,null,!1,!1,"",UP);return e._reactRootContainer=c,e[jc]=c.current,Bv(e.nodeType===8?e.parentNode:e),Ch(function(){bb(t,c,r,n)}),c}function jb(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=uw(a);l.call(c)}}bb(t,a,e,s)}else a=yK(r,t,e,s,n);return uw(a)}MI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Kg(t.pendingLanes);r!==0&&(zk(t,r|1),qi(t,Xn()),!(Er&6)&&(Zp=Xn()+500,dd()))}break;case 13:Ch(function(){var n=Nc(e,1);if(n!==null){var s=ki();Co(n,e,1,s)}}),_C(e,1)}};Vk=function(e){if(e.tag===13){var t=Nc(e,134217728);if(t!==null){var r=ki();Co(t,e,134217728,r)}_C(e,134217728)}};II=function(e){if(e.tag===13){var t=zu(e),r=Nc(e,t);if(r!==null){var n=ki();Co(r,e,t,n)}_C(e,t)}};DI=function(){return Jr};FI=function(e,t){var r=Jr;try{return Jr=e,t()}finally{Jr=r}};zS=function(e,t,r){switch(t){case"input":if(IS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=pb(n);if(!s)throw Error(We(90));mI(n),IS(n,s)}}}break;case"textarea":vI(e,r);break;case"select":t=r.value,t!=null&&hp(e,!!r.multiple,t,!1)}};jI=vC;NI=Ch;var xK={usingClientEntryPoint:!1,Events:[A0,tp,pb,_I,SI,vC]},Lg={findFiberByHostInstance:Jd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wK={bundleType:Lg.bundleType,version:Lg.version,rendererPackageName:Lg.rendererPackageName,rendererConfig:Lg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=EI(e),e===null?null:e.stateNode},findFiberByHostInstance:Lg.findFiberByHostInstance||vK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p1.isDisabled&&p1.supportsFiber)try{ub=p1.inject(wK),ml=p1}catch{}}wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xK;wa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jC(t))throw Error(We(200));return gK(e,t,null,r)};wa.createRoot=function(e,t){if(!jC(e))throw Error(We(299));var r=!1,n="",s=aD;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=bC(e,1,!1,null,null,r,!1,n,s),e[jc]=t.current,Bv(e.nodeType===8?e.parentNode:e),new SC(t)};wa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=EI(t),e=e===null?null:e.stateNode,e};wa.flushSync=function(e){return Ch(e)};wa.hydrate=function(e,t,r){if(!Sb(t))throw Error(We(200));return jb(null,e,t,!0,r)};wa.hydrateRoot=function(e,t,r){if(!jC(e))throw Error(We(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=aD;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=iD(t,null,e,1,r??null,s,!1,i,a),e[jc]=t.current,Bv(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _b(t)};wa.render=function(e,t,r){if(!Sb(t))throw Error(We(200));return jb(null,e,t,!1,r)};wa.unmountComponentAtNode=function(e){if(!Sb(e))throw Error(We(40));return e._reactRootContainer?(Ch(function(){jb(null,null,e,!1,function(){e._reactRootContainer=null,e[jc]=null})}),!0):!1};wa.unstable_batchedUpdates=vC;wa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sb(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return jb(e,t,r,!1,n)};wa.version="18.3.1-next-f1338f8080-20240426";function oD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oD)}catch(e){console.error(e)}}oD(),oI.exports=wa;var Kh=oI.exports;const lD=KM(Kh);var cD,qP=Kh;cD=qP.createRoot,qP.hydrateRoot;const bK=1,_K=1e6;let B_=0;function SK(){return B_=(B_+1)%Number.MAX_SAFE_INTEGER,B_.toString()}const U_=new Map,zP=e=>{if(U_.has(e))return;const t=setTimeout(()=>{U_.delete(e),xv({type:"REMOVE_TOAST",toastId:e})},_K);U_.set(e,t)},jK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,bK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?zP(r):e.toasts.forEach(n=>{zP(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},mx=[];let gx={toasts:[]};function xv(e){gx=jK(gx,e),mx.forEach(t=>{t(gx)})}function Zr({...e}){const t=SK(),r=s=>xv({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>xv({type:"DISMISS_TOAST",toastId:t});return xv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function T0(){const[e,t]=w.useState(gx);return w.useEffect(()=>(mx.push(t),()=>{const r=mx.indexOf(t);r>-1&&mx.splice(r,1)}),[e]),{...e,toast:Zr,dismiss:r=>xv({type:"DISMISS_TOAST",toastId:r})}}function dt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function VP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function R0(...e){return t=>{let r=!1;const n=e.map(s=>{const i=VP(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():VP(e[s],null)}}}}function wt(...e){return w.useCallback(R0(...e),e)}function uD(e,t){const r=w.createContext(t),n=i=>{const{children:a,...l}=i,c=w.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(i){const a=w.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function is(e,t=[]){let r=[];function n(i,a){const l=w.createContext(a),c=r.length;r=[...r,a];const u=h=>{var g;const{scope:p,children:f,...v}=h,m=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,x=w.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:x,children:f})};u.displayName=i+"Provider";function d(h,p){var m;const f=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,v=w.useContext(f);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>w.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,NK(s,...t)]}function NK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function Cc(e){const t=kK(e),r=w.forwardRef((n,s)=>{const{children:i,...a}=n,l=w.Children.toArray(i),c=l.find(CK);if(c){const u=c.props.children,d=l.map(h=>h===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var dD=Cc("Slot");function kK(e){const t=w.forwardRef((r,n)=>{const{children:s,...i}=r;if(w.isValidElement(s)){const a=AK(s),l=EK(i,s.props);return s.type!==w.Fragment&&(l.ref=n?R0(n,a):a),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hD=Symbol("radix.slottable");function fD(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=hD,t}function CK(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hD}function EK(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function AK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function km(e){const t=e+"CollectionProvider",[r,n]=is(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:x,children:g}=m,b=Re.useRef(null),S=Re.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:S,collectionRef:b,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=Cc(l),u=Re.forwardRef((m,x)=>{const{scope:g,children:b}=m,S=i(l,g),k=wt(x,S.collectionRef);return o.jsx(c,{ref:k,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=Cc(d),f=Re.forwardRef((m,x)=>{const{scope:g,children:b,...S}=m,k=Re.useRef(null),T=wt(x,k),R=i(d,g);return Re.useEffect(()=>(R.itemMap.set(k,{ref:k,...S}),()=>void R.itemMap.delete(k))),o.jsx(p,{[h]:"",ref:T,children:b})});f.displayName=d;function v(m){const x=i(e+"CollectionConsumer",m);return Re.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((R,O)=>S.indexOf(R.ref.current)-S.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:f},v,n]}var PK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=PK.reduce((e,t)=>{const r=Cc(`Primitive.${t}`),n=w.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function O0(e,t){e&&Kh.flushSync(()=>e.dispatchEvent(t))}function Kr(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function NC(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e);w.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var TK="DismissableLayer",_j="dismissableLayer.update",RK="dismissableLayer.pointerDownOutside",OK="dismissableLayer.focusOutside",WP,pD=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cm=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=w.useContext(pD),[d,h]=w.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=w.useState({}),v=wt(t,O=>h(O)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),b=d?m.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=b>=g,T=MK(O=>{const D=O.target,M=[...u.branches].some(G=>G.contains(D));!k||M||(s==null||s(O),a==null||a(O),O.defaultPrevented||l==null||l())},p),R=IK(O=>{const D=O.target;[...u.branches].some(G=>G.contains(D))||(i==null||i(O),a==null||a(O),O.defaultPrevented||l==null||l())},p);return NC(O=>{b===u.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(WP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),HP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=WP)}},[d,p,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),HP())},[d,u]),w.useEffect(()=>{const O=()=>f({});return document.addEventListener(_j,O),()=>document.removeEventListener(_j,O)},[]),o.jsx(Xe.div,{...c,ref:v,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,R.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,T.onPointerDownCapture)})});Cm.displayName=TK;var LK="DismissableLayerBranch",mD=w.forwardRef((e,t)=>{const r=w.useContext(pD),n=w.useRef(null),s=wt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Xe.div,{...e,ref:s})});mD.displayName=LK;function MK(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){gD(RK,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function IK(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!n.current&&gD(OK,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function HP(){const e=new CustomEvent(_j);document.dispatchEvent(e)}function gD(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?O0(s,i):s.dispatchEvent(i)}var DK=Cm,FK=mD,Xr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},$K="Portal",Jh=w.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=w.useState(!1);Xr(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?lD.createPortal(o.jsx(Xe.div,{...n,ref:t}),a):null});Jh.displayName=$K;function BK(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var _a=e=>{const{present:t,children:r}=e,n=UK(t),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=wt(n.ref,qK(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:i}):null};_a.displayName="Presence";function UK(e){const[t,r]=w.useState(),n=w.useRef(null),s=w.useRef(e),i=w.useRef("none"),a=e?"mounted":"unmounted",[l,c]=BK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=m1(n.current);i.current=l==="mounted"?u:"none"},[l]),Xr(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=m1(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Xr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=m1(n.current).includes(f.animationName);if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=f=>{f.target===t&&(i.current=m1(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function m1(e){return(e==null?void 0:e.animationName)||"none"}function qK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zK=Lk[" useInsertionEffect ".trim().toString()]||Xr;function va({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,a]=VK({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=w.useCallback(d=>{var h;if(l){const p=WK(d)?d(e):d;p!==e&&((h=a.current)==null||h.call(a,p))}else i(d)},[l,e,i,a]);return[c,u]}function VK({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),s=w.useRef(r),i=w.useRef(t);return zK(()=>{i.current=t},[t]),w.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,n,i]}function WK(e){return typeof e=="function"}var vD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HK="VisuallyHidden",Nb=w.forwardRef((e,t)=>o.jsx(Xe.span,{...e,ref:t,style:{...vD,...e.style}}));Nb.displayName=HK;var GK=Nb,kC="ToastProvider",[CC,YK,KK]=km("Toast"),[yD,b2e]=is("Toast",[KK]),[JK,kb]=yD(kC),xD=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),h=w.useRef(!1),p=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${kC}\`. Expected non-empty \`string\`.`),o.jsx(CC.Provider,{scope:t,children:o.jsx(JK,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(f=>f+1),[]),onToastRemove:w.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:a})})};xD.displayName=kC;var wD="ToastViewport",QK=["F8"],Sj="toast.viewportPause",jj="toast.viewportResume",bD=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=QK,label:s="Notifications ({hotkey})",...i}=e,a=kb(wD,r),l=YK(r),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),h=w.useRef(null),p=wt(t,h,a.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;w.useEffect(()=>{const x=g=>{var S;n.length!==0&&n.every(k=>g[k]||g.code===k)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),w.useEffect(()=>{const x=c.current,g=h.current;if(v&&x&&g){const b=()=>{if(!a.isClosePausedRef.current){const R=new CustomEvent(Sj);g.dispatchEvent(R),a.isClosePausedRef.current=!0}},S=()=>{if(a.isClosePausedRef.current){const R=new CustomEvent(jj);g.dispatchEvent(R),a.isClosePausedRef.current=!1}},k=R=>{!x.contains(R.relatedTarget)&&S()},T=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",b),x.addEventListener("focusout",k),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",k),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",S)}}},[v,a.isClosePausedRef]);const m=w.useCallback(({tabbingDirection:x})=>{const b=l().map(S=>{const k=S.ref.current,T=[k,...uJ(k)];return x==="forwards"?T:T.reverse()});return(x==="forwards"?b.reverse():b).flat()},[l]);return w.useEffect(()=>{const x=h.current;if(x){const g=b=>{var T,R,O;const S=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!S){const D=document.activeElement,M=b.shiftKey;if(b.target===x&&M){(T=u.current)==null||T.focus();return}const I=m({tabbingDirection:M?"backwards":"forwards"}),$=I.findIndex(q=>q===D);q_(I.slice($+1))?b.preventDefault():M?(R=u.current)==null||R.focus():(O=d.current)==null||O.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[l,m]),o.jsxs(FK,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(Nj,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});q_(x)}}),o.jsx(CC.Slot,{scope:r,children:o.jsx(Xe.ol,{tabIndex:-1,...i,ref:p})}),v&&o.jsx(Nj,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});q_(x)}})]})});bD.displayName=wD;var _D="ToastFocusProxy",Nj=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=kb(_D,r);return o.jsx(Nb,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Nj.displayName=_D;var L0="Toast",ZK="toast.swipeStart",XK="toast.swipeMove",eJ="toast.swipeCancel",tJ="toast.swipeEnd",SD=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=e,[l,c]=va({prop:n,defaultProp:s??!0,onChange:i,caller:L0});return o.jsx(_a,{present:r||l,children:o.jsx(sJ,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Kr(e.onPause),onResume:Kr(e.onResume),onSwipeStart:dt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:dt(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:dt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:dt(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});SD.displayName=L0;var[rJ,nJ]=yD(L0,{onClose(){}}),sJ=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...v}=e,m=kb(L0,r),[x,g]=w.useState(null),b=wt(t,q=>g(q)),S=w.useRef(null),k=w.useRef(null),T=s||m.duration,R=w.useRef(0),O=w.useRef(T),D=w.useRef(0),{onToastAdd:M,onToastRemove:G}=m,A=Kr(()=>{var ee;(x==null?void 0:x.contains(document.activeElement))&&((ee=m.viewport)==null||ee.focus()),a()}),I=w.useCallback(q=>{!q||q===1/0||(window.clearTimeout(D.current),R.current=new Date().getTime(),D.current=window.setTimeout(A,q))},[A]);w.useEffect(()=>{const q=m.viewport;if(q){const ee=()=>{I(O.current),u==null||u()},ne=()=>{const te=new Date().getTime()-R.current;O.current=O.current-te,window.clearTimeout(D.current),c==null||c()};return q.addEventListener(Sj,ne),q.addEventListener(jj,ee),()=>{q.removeEventListener(Sj,ne),q.removeEventListener(jj,ee)}}},[m.viewport,T,c,u,I]),w.useEffect(()=>{i&&!m.isClosePausedRef.current&&I(T)},[i,T,m.isClosePausedRef,I]),w.useEffect(()=>(M(),()=>G()),[M,G]);const $=w.useMemo(()=>x?PD(x):null,[x]);return m.viewport?o.jsxs(o.Fragment,{children:[$&&o.jsx(iJ,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),o.jsx(rJ,{scope:r,onClose:A,children:Kh.createPortal(o.jsx(CC.ItemSlot,{scope:r,children:o.jsx(DK,{asChild:!0,onEscapeKeyDown:dt(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:dt(e.onKeyDown,q=>{q.key==="Escape"&&(l==null||l(q.nativeEvent),q.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:dt(e.onPointerDown,q=>{q.button===0&&(S.current={x:q.clientX,y:q.clientY})}),onPointerMove:dt(e.onPointerMove,q=>{if(!S.current)return;const ee=q.clientX-S.current.x,ne=q.clientY-S.current.y,te=!!k.current,W=["left","right"].includes(m.swipeDirection),Z=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,pe=W?Z(0,ee):0,ve=W?0:Z(0,ne),U=q.pointerType==="touch"?10:2,_={x:pe,y:ve},C={originalEvent:q,delta:_};te?(k.current=_,g1(XK,h,C,{discrete:!1})):GP(_,m.swipeDirection,U)?(k.current=_,g1(ZK,d,C,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ee)>U||Math.abs(ne)>U)&&(S.current=null)}),onPointerUp:dt(e.onPointerUp,q=>{const ee=k.current,ne=q.target;if(ne.hasPointerCapture(q.pointerId)&&ne.releasePointerCapture(q.pointerId),k.current=null,S.current=null,ee){const te=q.currentTarget,W={originalEvent:q,delta:ee};GP(ee,m.swipeDirection,m.swipeThreshold)?g1(tJ,f,W,{discrete:!0}):g1(eJ,p,W,{discrete:!0}),te.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),iJ=e=>{const{__scopeToast:t,children:r,...n}=e,s=kb(L0,t),[i,a]=w.useState(!1),[l,c]=w.useState(!1);return lJ(()=>a(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Jh,{asChild:!0,children:o.jsx(Nb,{...n,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},aJ="ToastTitle",jD=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Xe.div,{...n,ref:t})});jD.displayName=aJ;var oJ="ToastDescription",ND=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Xe.div,{...n,ref:t})});ND.displayName=oJ;var kD="ToastAction",CD=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(AD,{altText:r,asChild:!0,children:o.jsx(EC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${kD}\`. Expected non-empty \`string\`.`),null)});CD.displayName=kD;var ED="ToastClose",EC=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=nJ(ED,r);return o.jsx(AD,{asChild:!0,children:o.jsx(Xe.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,s.onClose)})})});EC.displayName=ED;var AD=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function PD(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),cJ(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...PD(n))}}),t}function g1(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?O0(s,i):s.dispatchEvent(i)}var GP=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function lJ(e=()=>{}){const t=Kr(e);Xr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function cJ(e){return e.nodeType===e.ELEMENT_NODE}function uJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function q_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var dJ=xD,TD=bD,RD=SD,OD=jD,LD=ND,MD=CD,ID=EC;function DD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=DD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function FD(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=DD(e))&&(n&&(n+=" "),n+=t);return n}const YP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,KP=FD,Em=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return KP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const p=YP(d)||YP(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(v=>{let[m,x]=v;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...u,h,p]:u},[]);return KP(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$D=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>w.createElement("svg",{ref:c,...fJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:$D("lucide",s),...l},[...a.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=w.forwardRef(({className:n,...s},i)=>w.createElement(pJ,{ref:i,iconNode:t,className:$D(`lucide-${hJ(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=ze("Ambulance",[["path",{d:"M10 10H6",key:"1bsnug"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14",key:"lrkjwd"}],["path",{d:"M8 8v4",key:"1fwk8c"}],["path",{d:"M9 18h6",key:"x1upvd"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=ze("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=ze("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=ze("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=ze("Bone",[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=ze("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=ze("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=ze("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=ze("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=ze("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=ze("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=ze("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=ze("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ze("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=ze("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=ze("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=ze("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=ze("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=ze("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=ze("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=ze("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=ze("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=ze("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=ze("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=ze("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ze("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=ze("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=ze("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=ze("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=ze("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ze("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=ze("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=ze("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=ze("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=ze("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$C="-",VJ=e=>{const t=HJ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split($C);return l[0]===""&&l.length!==1&&l.shift(),QD(l,t)||WJ(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},QD=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?QD(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join($C);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},sT=/^\[(.+)\]$/,WJ=e=>{if(sT.test(e)){const t=sT.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},HJ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return YJ(Object.entries(e.classGroups),r).forEach(([i,a])=>{Aj(a,n,i,t)}),n},Aj=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:iT(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(GJ(s)){Aj(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{Aj(a,iT(t,i),r,n)})})},iT=(e,t)=>{let r=e;return t.split($C).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},GJ=e=>e.isThemeGetter,YJ=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[r,s]}):e,KJ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},ZD="!",JJ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let g=l[x];if(u===0){if(g===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(g==="/"){h=x;continue}}g==="["?u++:g==="]"&&u--}const p=c.length===0?l:l.substring(d),f=p.startsWith(ZD),v=f?p.substring(1):p,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:a}):a},QJ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ZJ=e=>({cache:KJ(e.cacheSize),parseClassName:JJ(e),...VJ(e)}),XJ=/\s+/,eQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(XJ);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(u);let v=!!f,m=n(v?p.substring(0,f):p);if(!m){if(!v){l=u+(l.length>0?" "+l:l);continue}if(m=n(p),!m){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=QJ(d).join(":"),g=h?x+ZD:x,b=g+m;if(i.includes(b))continue;i.push(b);const S=s(m,v);for(let k=0;k<S.length;++k){const T=S[k];i.push(g+T)}l=u+(l.length>0?" "+l:l)}return l};function tQ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=XD(t))&&(n&&(n+=" "),n+=r);return n}const XD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=XD(e[n]))&&(r&&(r+=" "),r+=t);return r};function rQ(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=ZJ(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=eQ(c,r);return s(c,d),d}return function(){return i(tQ.apply(null,arguments))}}const wn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},e8=/^\[(?:([a-z-]+):)?(.+)\]$/i,nQ=/^\d+\/\d+$/,sQ=new Set(["px","full","screen"]),iQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kl=e=>yp(e)||sQ.has(e)||nQ.test(e),ru=e=>Tm(e,"length",vQ),yp=e=>!!e&&!Number.isNaN(Number(e)),W_=e=>Tm(e,"number",yp),Mg=e=>!!e&&Number.isInteger(Number(e)),uQ=e=>e.endsWith("%")&&yp(e.slice(0,-1)),sr=e=>e8.test(e),nu=e=>iQ.test(e),dQ=new Set(["length","size","percentage"]),hQ=e=>Tm(e,dQ,t8),fQ=e=>Tm(e,"position",t8),pQ=new Set(["image","url"]),mQ=e=>Tm(e,pQ,xQ),gQ=e=>Tm(e,"",yQ),Ig=()=>!0,Tm=(e,t,r)=>{const n=e8.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},vQ=e=>aQ.test(e)&&!oQ.test(e),t8=()=>!1,yQ=e=>lQ.test(e),xQ=e=>cQ.test(e),wQ=()=>{const e=wn("colors"),t=wn("spacing"),r=wn("blur"),n=wn("brightness"),s=wn("borderColor"),i=wn("borderRadius"),a=wn("borderSpacing"),l=wn("borderWidth"),c=wn("contrast"),u=wn("grayscale"),d=wn("hueRotate"),h=wn("invert"),p=wn("gap"),f=wn("gradientColorStops"),v=wn("gradientColorStopPositions"),m=wn("inset"),x=wn("margin"),g=wn("opacity"),b=wn("padding"),S=wn("saturate"),k=wn("scale"),T=wn("sepia"),R=wn("skew"),O=wn("space"),D=wn("translate"),M=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",sr,t],I=()=>[sr,t],$=()=>["",Kl,ru],q=()=>["auto",yp,sr],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",sr],pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ve=()=>[yp,sr];return{cacheSize:500,separator:":",theme:{colors:[Ig],spacing:[Kl,ru],blur:["none","",nu,sr],brightness:ve(),borderColor:[e],borderRadius:["none","","full",nu,sr],borderSpacing:I(),borderWidth:$(),contrast:ve(),grayscale:Z(),hueRotate:ve(),invert:Z(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[uQ,ru],inset:A(),margin:A(),opacity:ve(),padding:I(),saturate:ve(),scale:ve(),sepia:Z(),skew:ve(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",sr]}],container:["container"],columns:[{columns:[nu]}],"break-after":[{"break-after":pe()}],"break-before":[{"break-before":pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),sr]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mg,sr]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",sr]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Mg,sr]}],"grid-cols":[{"grid-cols":[Ig]}],"col-start-end":[{col:["auto",{span:["full",Mg,sr]},sr]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Ig]}],"row-start-end":[{row:["auto",{span:[Mg,sr]},sr]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",sr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",sr]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",sr,t]}],"min-w":[{"min-w":[sr,t,"min","max","fit"]}],"max-w":[{"max-w":[sr,t,"none","full","min","max","fit","prose",{screen:[nu]},nu]}],h:[{h:[sr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[sr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[sr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[sr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",nu,ru]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",W_]}],"font-family":[{font:[Ig]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",sr]}],"line-clamp":[{"line-clamp":["none",yp,W_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kl,sr]}],"list-image":[{"list-image":["none",sr]}],"list-style-type":[{list:["none","disc","decimal",sr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kl,ru]}],"underline-offset":[{"underline-offset":["auto",Kl,sr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",sr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",sr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),fQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mQ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Kl,sr]}],"outline-w":[{outline:[Kl,ru]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Kl,ru]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nu,gQ]}],"shadow-color":[{shadow:[Ig]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",nu,sr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",sr]}],duration:[{duration:ve()}],ease:[{ease:["linear","in","out","in-out",sr]}],delay:[{delay:ve()}],animate:[{animate:["none","spin","ping","pulse","bounce",sr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Mg,sr]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",sr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",sr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",sr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Kl,ru,W_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bQ=rQ(wQ);function Me(...e){return bQ(FD(e))}const _Q=dJ,r8=w.forwardRef(({className:e,...t},r)=>o.jsx(TD,{ref:r,className:Me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));r8.displayName=TD.displayName;const SQ=Em("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),n8=w.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(RD,{ref:n,className:Me(SQ({variant:t}),e),...r}));n8.displayName=RD.displayName;const jQ=w.forwardRef(({className:e,...t},r)=>o.jsx(MD,{ref:r,className:Me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));jQ.displayName=MD.displayName;const s8=w.forwardRef(({className:e,...t},r)=>o.jsx(ID,{ref:r,className:Me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Pm,{className:"h-4 w-4"})}));s8.displayName=ID.displayName;const i8=w.forwardRef(({className:e,...t},r)=>o.jsx(OD,{ref:r,className:Me("text-sm font-semibold",e),...t}));i8.displayName=OD.displayName;const a8=w.forwardRef(({className:e,...t},r)=>o.jsx(LD,{ref:r,className:Me("text-sm opacity-90",e),...t}));a8.displayName=LD.displayName;function NQ(){const{toasts:e}=T0();return o.jsxs(_Q,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return o.jsxs(n8,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(i8,{children:r}),n&&o.jsx(a8,{children:n})]}),s,o.jsx(s8,{})]},t)}),o.jsx(r8,{})]})}var aT=["light","dark"],kQ="(prefers-color-scheme: dark)",CQ=w.createContext(void 0),EQ={setTheme:e=>{},themes:[]},AQ=()=>{var e;return(e=w.useContext(CQ))!=null?e:EQ};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?aT.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,m=!1,x=!0)=>{let g=a?a[v]:v,b=m?v+"|| ''":`'${g}'`,S="";return s&&x&&!m&&aT.includes(v)&&(S+=`d.style.colorScheme = '${v}';`),r==="class"?m||g?S+=`c.add(${b})`:S+="null":g&&(S+=`d[s](n,${b})`),S},f=e?`!function(){${d}${p(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${kQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var PQ=e=>{switch(e){case"success":return OQ;case"info":return MQ;case"warning":return LQ;case"error":return IQ;default:return null}},TQ=Array(12).fill(0),RQ=({visible:e,className:t})=>Re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Re.createElement("div",{className:"sonner-spinner"},TQ.map((r,n)=>Re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),OQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),MQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),IQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),DQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),FQ=()=>{let[e,t]=Re.useState(document.hidden);return Re.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Pj=1,$Q=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Pj++,a=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=t instanceof Promise?t:t(),i=n!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],Re.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(UQ(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:h})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||Pj++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mi=new $Q,BQ=(e,t)=>{let r=(t==null?void 0:t.id)||Pj++;return Mi.addToast({title:e,...t,id:r}),r},UQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",qQ=BQ,zQ=()=>Mi.toasts,VQ=()=>Mi.getActiveToasts(),qe=Object.assign(qQ,{success:Mi.success,info:Mi.info,warning:Mi.warning,error:Mi.error,custom:Mi.custom,message:Mi.message,promise:Mi.promise,dismiss:Mi.dismiss,loading:Mi.loading},{getHistory:zQ,getToasts:VQ});function WQ(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}WQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function v1(e){return e.label!==void 0}var HQ=3,GQ="32px",YQ="16px",oT=4e3,KQ=356,JQ=14,QQ=20,ZQ=200;function co(...e){return e.filter(Boolean).join(" ")}function XQ(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var eZ=e=>{var t,r,n,s,i,a,l,c,u,d,h;let{invert:p,toast:f,unstyled:v,interacting:m,setHeights:x,visibleToasts:g,heights:b,index:S,toasts:k,expanded:T,removeToast:R,defaultRichColors:O,closeButton:D,style:M,cancelButtonStyle:G,actionButtonStyle:A,className:I="",descriptionClassName:$="",duration:q,position:ee,gap:ne,loadingIcon:te,expandByDefault:W,classNames:Z,icons:pe,closeButtonAriaLabel:ve="Close toast",pauseWhenPageIsHidden:U}=e,[_,C]=Re.useState(null),[E,B]=Re.useState(null),[F,Q]=Re.useState(!1),[se,le]=Re.useState(!1),[ue,fe]=Re.useState(!1),[_e,Ie]=Re.useState(!1),[J,De]=Re.useState(!1),[Ye,Ke]=Re.useState(0),[me,re]=Re.useState(0),ce=Re.useRef(f.duration||q||oT),xe=Re.useRef(null),Ne=Re.useRef(null),Oe=S===0,Ce=S+1<=g,Le=f.type,et=f.dismissible!==!1,at=f.className||"",Qe=f.descriptionClassName||"",bt=Re.useMemo(()=>b.findIndex(Pt=>Pt.toastId===f.id)||0,[b,f.id]),rt=Re.useMemo(()=>{var Pt;return(Pt=f.closeButton)!=null?Pt:D},[f.closeButton,D]),Fr=Re.useMemo(()=>f.duration||q||oT,[f.duration,q]),qt=Re.useRef(0),Ot=Re.useRef(0),zt=Re.useRef(0),lr=Re.useRef(null),[_t,br]=ee.split("-"),At=Re.useMemo(()=>b.reduce((Pt,Ft,cr)=>cr>=bt?Pt:Pt+Ft.height,0),[b,bt]),Dt=FQ(),Ur=f.invert||p,Yt=Le==="loading";Ot.current=Re.useMemo(()=>bt*ne+At,[bt,At]),Re.useEffect(()=>{ce.current=Fr},[Fr]),Re.useEffect(()=>{Q(!0)},[]),Re.useEffect(()=>{let Pt=Ne.current;if(Pt){let Ft=Pt.getBoundingClientRect().height;return re(Ft),x(cr=>[{toastId:f.id,height:Ft,position:f.position},...cr]),()=>x(cr=>cr.filter(Dn=>Dn.toastId!==f.id))}},[x,f.id]),Re.useLayoutEffect(()=>{if(!F)return;let Pt=Ne.current,Ft=Pt.style.height;Pt.style.height="auto";let cr=Pt.getBoundingClientRect().height;Pt.style.height=Ft,re(cr),x(Dn=>Dn.find(mt=>mt.toastId===f.id)?Dn.map(mt=>mt.toastId===f.id?{...mt,height:cr}:mt):[{toastId:f.id,height:cr,position:f.position},...Dn])},[F,f.title,f.description,x,f.id]);let pt=Re.useCallback(()=>{le(!0),Ke(Ot.current),x(Pt=>Pt.filter(Ft=>Ft.toastId!==f.id)),setTimeout(()=>{R(f)},ZQ)},[f,R,x,Ot]);Re.useEffect(()=>{if(f.promise&&Le==="loading"||f.duration===1/0||f.type==="loading")return;let Pt;return T||m||U&&Dt?(()=>{if(zt.current<qt.current){let Ft=new Date().getTime()-qt.current;ce.current=ce.current-Ft}zt.current=new Date().getTime()})():ce.current!==1/0&&(qt.current=new Date().getTime(),Pt=setTimeout(()=>{var Ft;(Ft=f.onAutoClose)==null||Ft.call(f,f),pt()},ce.current)),()=>clearTimeout(Pt)},[T,m,f,Le,U,Dt,pt]),Re.useEffect(()=>{f.delete&&pt()},[pt,f.delete]);function mr(){var Pt,Ft,cr;return pe!=null&&pe.loading?Re.createElement("div",{className:co(Z==null?void 0:Z.loader,(Pt=f==null?void 0:f.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":Le==="loading"},pe.loading):te?Re.createElement("div",{className:co(Z==null?void 0:Z.loader,(Ft=f==null?void 0:f.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":Le==="loading"},te):Re.createElement(RQ,{className:co(Z==null?void 0:Z.loader,(cr=f==null?void 0:f.classNames)==null?void 0:cr.loader),visible:Le==="loading"})}return Re.createElement("li",{tabIndex:0,ref:Ne,className:co(I,at,Z==null?void 0:Z.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[Le],(r=f==null?void 0:f.classNames)==null?void 0:r[Le]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:O,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":F,"data-promise":!!f.promise,"data-swiped":J,"data-removed":se,"data-visible":Ce,"data-y-position":_t,"data-x-position":br,"data-index":S,"data-front":Oe,"data-swiping":ue,"data-dismissible":et,"data-type":Le,"data-invert":Ur,"data-swipe-out":_e,"data-swipe-direction":E,"data-expanded":!!(T||W&&F),style:{"--index":S,"--toasts-before":S,"--z-index":k.length-S,"--offset":`${se?Ye:Ot.current}px`,"--initial-height":W?"auto":`${me}px`,...M,...f.style},onDragEnd:()=>{fe(!1),C(null),lr.current=null},onPointerDown:Pt=>{Yt||!et||(xe.current=new Date,Ke(Ot.current),Pt.target.setPointerCapture(Pt.pointerId),Pt.target.tagName!=="BUTTON"&&(fe(!0),lr.current={x:Pt.clientX,y:Pt.clientY}))},onPointerUp:()=>{var Pt,Ft,cr,Dn;if(_e||!et)return;lr.current=null;let mt=Number(((Pt=Ne.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cs=Number(((Ft=Ne.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ls=new Date().getTime()-((cr=xe.current)==null?void 0:cr.getTime()),jn=_==="x"?mt:Cs,Hn=Math.abs(jn)/Ls;if(Math.abs(jn)>=QQ||Hn>.11){Ke(Ot.current),(Dn=f.onDismiss)==null||Dn.call(f,f),B(_==="x"?mt>0?"right":"left":Cs>0?"down":"up"),pt(),Ie(!0),De(!1);return}fe(!1),C(null)},onPointerMove:Pt=>{var Ft,cr,Dn,mt;if(!lr.current||!et||((Ft=window.getSelection())==null?void 0:Ft.toString().length)>0)return;let Cs=Pt.clientY-lr.current.y,Ls=Pt.clientX-lr.current.x,jn=(cr=e.swipeDirections)!=null?cr:XQ(ee);!_&&(Math.abs(Ls)>1||Math.abs(Cs)>1)&&C(Math.abs(Ls)>Math.abs(Cs)?"x":"y");let Hn={x:0,y:0};_==="y"?(jn.includes("top")||jn.includes("bottom"))&&(jn.includes("top")&&Cs<0||jn.includes("bottom")&&Cs>0)&&(Hn.y=Cs):_==="x"&&(jn.includes("left")||jn.includes("right"))&&(jn.includes("left")&&Ls<0||jn.includes("right")&&Ls>0)&&(Hn.x=Ls),(Math.abs(Hn.x)>0||Math.abs(Hn.y)>0)&&De(!0),(Dn=Ne.current)==null||Dn.style.setProperty("--swipe-amount-x",`${Hn.x}px`),(mt=Ne.current)==null||mt.style.setProperty("--swipe-amount-y",`${Hn.y}px`)}},rt&&!f.jsx?Re.createElement("button",{"aria-label":ve,"data-disabled":Yt,"data-close-button":!0,onClick:Yt||!et?()=>{}:()=>{var Pt;pt(),(Pt=f.onDismiss)==null||Pt.call(f,f)},className:co(Z==null?void 0:Z.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=pe==null?void 0:pe.close)!=null?i:DQ):null,f.jsx||w.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Re.createElement(Re.Fragment,null,Le||f.icon||f.promise?Re.createElement("div",{"data-icon":"",className:co(Z==null?void 0:Z.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||mr():null,f.type!=="loading"?f.icon||(pe==null?void 0:pe[Le])||PQ(Le):null):null,Re.createElement("div",{"data-content":"",className:co(Z==null?void 0:Z.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},Re.createElement("div",{"data-title":"",className:co(Z==null?void 0:Z.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?Re.createElement("div",{"data-description":"",className:co($,Qe,Z==null?void 0:Z.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),w.isValidElement(f.cancel)?f.cancel:f.cancel&&v1(f.cancel)?Re.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||G,onClick:Pt=>{var Ft,cr;v1(f.cancel)&&et&&((cr=(Ft=f.cancel).onClick)==null||cr.call(Ft,Pt),pt())},className:co(Z==null?void 0:Z.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,w.isValidElement(f.action)?f.action:f.action&&v1(f.action)?Re.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:Pt=>{var Ft,cr;v1(f.action)&&((cr=(Ft=f.action).onClick)==null||cr.call(Ft,Pt),!Pt.defaultPrevented&&pt())},className:co(Z==null?void 0:Z.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function lT(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function tZ(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?YQ:GQ;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var rZ=w.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:v=HQ,toastOptions:m,dir:x=lT(),gap:g=JQ,loadingIcon:b,icons:S,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:T}=e,[R,O]=Re.useState([]),D=Re.useMemo(()=>Array.from(new Set([n].concat(R.filter(U=>U.position).map(U=>U.position)))),[R,n]),[M,G]=Re.useState([]),[A,I]=Re.useState(!1),[$,q]=Re.useState(!1),[ee,ne]=Re.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=Re.useRef(null),W=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=Re.useRef(null),pe=Re.useRef(!1),ve=Re.useCallback(U=>{O(_=>{var C;return(C=_.find(E=>E.id===U.id))!=null&&C.delete||Mi.dismiss(U.id),_.filter(({id:E})=>E!==U.id)})},[]);return Re.useEffect(()=>Mi.subscribe(U=>{if(U.dismiss){O(_=>_.map(C=>C.id===U.id?{...C,delete:!0}:C));return}setTimeout(()=>{lD.flushSync(()=>{O(_=>{let C=_.findIndex(E=>E.id===U.id);return C!==-1?[..._.slice(0,C),{..._[C],...U},..._.slice(C+1)]:[U,..._]})})})}),[]),Re.useEffect(()=>{if(d!=="system"){ne(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:_})=>{ne(_?"dark":"light")})}catch{U.addListener(({matches:C})=>{try{ne(C?"dark":"light")}catch(E){console.error(E)}})}},[d]),Re.useEffect(()=>{R.length<=1&&I(!1)},[R]),Re.useEffect(()=>{let U=_=>{var C,E;s.every(B=>_[B]||_.code===B)&&(I(!0),(C=te.current)==null||C.focus()),_.code==="Escape"&&(document.activeElement===te.current||(E=te.current)!=null&&E.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[s]),Re.useEffect(()=>{if(te.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,pe.current=!1)}},[te.current]),Re.createElement("section",{ref:t,"aria-label":`${k} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((U,_)=>{var C;let[E,B]=U.split("-");return R.length?Re.createElement("ol",{key:U,dir:x==="auto"?lT():x,tabIndex:-1,ref:te,className:l,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":E,"data-lifted":A&&R.length>1&&!i,"data-x-position":B,style:{"--front-toast-height":`${((C=M[0])==null?void 0:C.height)||0}px`,"--width":`${KQ}px`,"--gap":`${g}px`,...f,...tZ(c,u)},onBlur:F=>{pe.current&&!F.currentTarget.contains(F.relatedTarget)&&(pe.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||pe.current||(pe.current=!0,Z.current=F.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{$||I(!1)},onDragEnd:()=>I(!1),onPointerDown:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},R.filter(F=>!F.position&&_===0||F.position===U).map((F,Q)=>{var se,le;return Re.createElement(eZ,{key:F.id,icons:S,index:Q,toast:F,defaultRichColors:h,duration:(se=m==null?void 0:m.duration)!=null?se:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:v,closeButton:(le=m==null?void 0:m.closeButton)!=null?le:a,interacting:$,position:U,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ve,toasts:R.filter(ue=>ue.position==F.position),heights:M.filter(ue=>ue.position==F.position),setHeights:G,expandByDefault:i,gap:g,loadingIcon:b,expanded:A,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const nZ=({...e})=>{const{theme:t="system"}=AQ();return o.jsx(rZ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var sZ=Lk[" useId ".trim().toString()]||(()=>{}),iZ=0;function oi(e){const[t,r]=w.useState(sZ());return Xr(()=>{r(n=>n??String(iZ++))},[e]),t?`radix-${t}`:""}const aZ=["top","right","bottom","left"],ed=Math.min,oa=Math.max,mw=Math.round,y1=Math.floor,vl=e=>({x:e,y:e}),oZ={left:"right",right:"left",bottom:"top",top:"bottom"},lZ={start:"end",end:"start"};function Tj(e,t,r){return oa(e,ed(t,r))}function Ac(e,t){return typeof e=="function"?e(t):e}function Pc(e){return e.split("-")[0]}function Rm(e){return e.split("-")[1]}function BC(e){return e==="x"?"y":"x"}function UC(e){return e==="y"?"height":"width"}const cZ=new Set(["top","bottom"]);function dl(e){return cZ.has(Pc(e))?"y":"x"}function qC(e){return BC(dl(e))}function uZ(e,t,r){r===void 0&&(r=!1);const n=Rm(e),s=qC(e),i=UC(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=gw(a)),[a,gw(a)]}function dZ(e){const t=gw(e);return[Rj(e),t,Rj(t)]}function Rj(e){return e.replace(/start|end/g,t=>lZ[t])}const cT=["left","right"],uT=["right","left"],hZ=["top","bottom"],fZ=["bottom","top"];function pZ(e,t,r){switch(e){case"top":case"bottom":return r?t?uT:cT:t?cT:uT;case"left":case"right":return t?hZ:fZ;default:return[]}}function mZ(e,t,r,n){const s=Rm(e);let i=pZ(Pc(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(Rj)))),i}function gw(e){return e.replace(/left|right|bottom|top/g,t=>oZ[t])}function gZ(e){return{top:0,right:0,bottom:0,left:0,...e}}function o8(e){return typeof e!="number"?gZ(e):{top:e,right:e,bottom:e,left:e}}function vw(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function dT(e,t,r){let{reference:n,floating:s}=e;const i=dl(t),a=qC(t),l=UC(a),c=Pc(t),u=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Rm(t)){case"start":f[a]-=p*(r&&u?-1:1);break;case"end":f[a]+=p*(r&&u?-1:1);break}return f}const vZ=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=dT(u,n,c),p=n,f={},v=0;for(let m=0;m<l.length;m++){const{name:x,fn:g}=l[m],{x:b,y:S,data:k,reset:T}=await g({x:d,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:f,rects:u,platform:a,elements:{reference:e,floating:t}});d=b??d,h=S??h,f={...f,[x]:{...f[x],...k}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(u=T.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):T.rects),{x:d,y:h}=dT(u,p,c)),m=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:f}};async function Kv(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Ac(t,e),v=o8(f),x=l[p?h==="floating"?"reference":"floating":h],g=vw(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},T=vw(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:S,strategy:c}):b);return{top:(g.top-T.top+v.top)/k.y,bottom:(T.bottom-g.bottom+v.bottom)/k.y,left:(g.left-T.left+v.left)/k.x,right:(T.right-g.right+v.right)/k.x}}const yZ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ac(e,t)||{};if(u==null)return{};const h=o8(d),p={x:r,y:n},f=qC(s),v=UC(f),m=await a.getDimensions(u),x=f==="y",g=x?"top":"left",b=x?"bottom":"right",S=x?"clientHeight":"clientWidth",k=i.reference[v]+i.reference[f]-p[f]-i.floating[v],T=p[f]-i.reference[f],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let O=R?R[S]:0;(!O||!await(a.isElement==null?void 0:a.isElement(R)))&&(O=l.floating[S]||i.floating[v]);const D=k/2-T/2,M=O/2-m[v]/2-1,G=ed(h[g],M),A=ed(h[b],M),I=G,$=O-m[v]-A,q=O/2-m[v]/2+D,ee=Tj(I,q,$),ne=!c.arrow&&Rm(s)!=null&&q!==ee&&i.reference[v]/2-(q<I?G:A)-m[v]/2<0,te=ne?q<I?q-I:q-$:0;return{[f]:p[f]+te,data:{[f]:ee,centerOffset:q-ee-te,...ne&&{alignmentOffset:te}},reset:ne}}}),xZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...x}=Ac(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Pc(s),b=dl(l),S=Pc(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=p||(S||!m?[gw(l)]:dZ(l)),R=v!=="none";!p&&R&&T.push(...mZ(l,m,v,k));const O=[l,...T],D=await Kv(t,x),M=[];let G=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&M.push(D[g]),h){const q=uZ(s,a,k);M.push(D[q[0]],D[q[1]])}if(G=[...G,{placement:s,overflows:M}],!M.every(q=>q<=0)){var A,I;const q=(((A=i.flip)==null?void 0:A.index)||0)+1,ee=O[q];if(ee&&(!(h==="alignment"?b!==dl(ee):!1)||G.every(W=>W.overflows[0]>0&&dl(W.placement)===b)))return{data:{index:q,overflows:G},reset:{placement:ee}};let ne=(I=G.filter(te=>te.overflows[0]<=0).sort((te,W)=>te.overflows[1]-W.overflows[1])[0])==null?void 0:I.placement;if(!ne)switch(f){case"bestFit":{var $;const te=($=G.filter(W=>{if(R){const Z=dl(W.placement);return Z===b||Z==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(Z=>Z>0).reduce((Z,pe)=>Z+pe,0)]).sort((W,Z)=>W[1]-Z[1])[0])==null?void 0:$[0];te&&(ne=te);break}case"initialPlacement":ne=l;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function hT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fT(e){return aZ.some(t=>e[t]>=0)}const wZ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ac(e,t);switch(n){case"referenceHidden":{const i=await Kv(t,{...s,elementContext:"reference"}),a=hT(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:fT(a)}}}case"escaped":{const i=await Kv(t,{...s,altBoundary:!0}),a=hT(i,r.floating);return{data:{escapedOffsets:a,escaped:fT(a)}}}default:return{}}}}},l8=new Set(["left","top"]);async function bZ(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Pc(r),l=Rm(r),c=dl(r)==="y",u=l8.has(a)?-1:1,d=i&&c?-1:1,h=Ac(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(f=l==="end"?v*-1:v),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const _Z=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await bZ(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},SZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:g,y:b}=x;return{x:g,y:b}}},...c}=Ac(e,t),u={x:r,y:n},d=await Kv(t,c),h=dl(Pc(s)),p=BC(h);let f=u[p],v=u[h];if(i){const x=p==="y"?"top":"left",g=p==="y"?"bottom":"right",b=f+d[x],S=f-d[g];f=Tj(b,f,S)}if(a){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",b=v+d[x],S=v-d[g];v=Tj(b,v,S)}const m=l.fn({...t,[p]:f,[h]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[h]:a}}}}}},jZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ac(e,t),d={x:r,y:n},h=dl(s),p=BC(h);let f=d[p],v=d[h];const m=Ac(l,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const S=p==="y"?"height":"width",k=i.reference[p]-i.floating[S]+x.mainAxis,T=i.reference[p]+i.reference[S]-x.mainAxis;f<k?f=k:f>T&&(f=T)}if(u){var g,b;const S=p==="y"?"width":"height",k=l8.has(Pc(s)),T=i.reference[h]-i.floating[S]+(k&&((g=a.offset)==null?void 0:g[h])||0)+(k?0:x.crossAxis),R=i.reference[h]+i.reference[S]+(k?0:((b=a.offset)==null?void 0:b[h])||0)-(k?x.crossAxis:0);v<T?v=T:v>R&&(v=R)}return{[p]:f,[h]:v}}}},NZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Ac(e,t),d=await Kv(t,u),h=Pc(s),p=Rm(s),f=dl(s)==="y",{width:v,height:m}=i.floating;let x,g;h==="top"||h==="bottom"?(x=h,g=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,x=p==="end"?"top":"bottom");const b=m-d.top-d.bottom,S=v-d.left-d.right,k=ed(m-d[x],b),T=ed(v-d[g],S),R=!t.middlewareData.shift;let O=k,D=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=b),R&&!p){const G=oa(d.left,0),A=oa(d.right,0),I=oa(d.top,0),$=oa(d.bottom,0);f?D=v-2*(G!==0||A!==0?G+A:oa(d.left,d.right)):O=m-2*(I!==0||$!==0?I+$:oa(d.top,d.bottom))}await c({...t,availableWidth:D,availableHeight:O});const M=await a.getDimensions(l.floating);return v!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function Pb(){return typeof window<"u"}function Om(e){return c8(e)?(e.nodeName||"").toLowerCase():"#document"}function ma(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Al(e){var t;return(t=(c8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function c8(e){return Pb()?e instanceof Node||e instanceof ma(e).Node:!1}function Ro(e){return Pb()?e instanceof Element||e instanceof ma(e).Element:!1}function Nl(e){return Pb()?e instanceof HTMLElement||e instanceof ma(e).HTMLElement:!1}function pT(e){return!Pb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ma(e).ShadowRoot}const kZ=new Set(["inline","contents"]);function D0(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Oo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!kZ.has(s)}const CZ=new Set(["table","td","th"]);function EZ(e){return CZ.has(Om(e))}const AZ=[":popover-open",":modal"];function Tb(e){return AZ.some(t=>{try{return e.matches(t)}catch{return!1}})}const PZ=["transform","translate","scale","rotate","perspective"],TZ=["transform","translate","scale","rotate","perspective","filter"],RZ=["paint","layout","strict","content"];function zC(e){const t=VC(),r=Ro(e)?Oo(e):e;return PZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||TZ.some(n=>(r.willChange||"").includes(n))||RZ.some(n=>(r.contain||"").includes(n))}function OZ(e){let t=td(e);for(;Nl(t)&&!tm(t);){if(zC(t))return t;if(Tb(t))return null;t=td(t)}return null}function VC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LZ=new Set(["html","body","#document"]);function tm(e){return LZ.has(Om(e))}function Oo(e){return ma(e).getComputedStyle(e)}function Rb(e){return Ro(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function td(e){if(Om(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pT(e)&&e.host||Al(e);return pT(t)?t.host:t}function u8(e){const t=td(e);return tm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Nl(t)&&D0(t)?t:u8(t)}function Jv(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=u8(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=ma(s);if(i){const l=Oj(a);return t.concat(a,a.visualViewport||[],D0(s)?s:[],l&&r?Jv(l):[])}return t.concat(s,Jv(s,[],r))}function Oj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function d8(e){const t=Oo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Nl(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=mw(r)!==i||mw(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function WC(e){return Ro(e)?e:e.contextElement}function xp(e){const t=WC(e);if(!Nl(t))return vl(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=d8(t);let a=(i?mw(r.width):r.width)/n,l=(i?mw(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const MZ=vl(0);function h8(e){const t=ma(e);return!VC()||!t.visualViewport?MZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function IZ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ma(e)?!1:t}function Eh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=WC(e);let a=vl(1);t&&(n?Ro(n)&&(a=xp(n)):a=xp(e));const l=IZ(i,r,n)?h8(i):vl(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const p=ma(i),f=n&&Ro(n)?ma(n):n;let v=p,m=Oj(v);for(;m&&n&&f!==v;){const x=xp(m),g=m.getBoundingClientRect(),b=Oo(m),S=g.left+(m.clientLeft+parseFloat(b.paddingLeft))*x.x,k=g.top+(m.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=S,u+=k,v=ma(m),m=Oj(v)}}return vw({width:d,height:h,x:c,y:u})}function HC(e,t){const r=Rb(e).scrollLeft;return t?t.left+r:Eh(Al(e)).left+r}function f8(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:HC(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function DZ(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=Al(n),l=t?Tb(t.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=vl(1);const d=vl(0),h=Nl(n);if((h||!h&&!i)&&((Om(n)!=="body"||D0(a))&&(c=Rb(n)),Nl(n))){const f=Eh(n);u=xp(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=a&&!h&&!i?f8(a,c,!0):vl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function FZ(e){return Array.from(e.getClientRects())}function $Z(e){const t=Al(e),r=Rb(e),n=e.ownerDocument.body,s=oa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=oa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+HC(e);const l=-r.scrollTop;return Oo(n).direction==="rtl"&&(a+=oa(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:l}}function BZ(e,t){const r=ma(e),n=Al(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=VC();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const UZ=new Set(["absolute","fixed"]);function qZ(e,t){const r=Eh(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Nl(e)?xp(e):vl(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:l,x:c,y:u}}function mT(e,t,r){let n;if(t==="viewport")n=BZ(e,r);else if(t==="document")n=$Z(Al(e));else if(Ro(t))n=qZ(t,r);else{const s=h8(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return vw(n)}function p8(e,t){const r=td(e);return r===t||!Ro(r)||tm(r)?!1:Oo(r).position==="fixed"||p8(r,t)}function zZ(e,t){const r=t.get(e);if(r)return r;let n=Jv(e,[],!1).filter(l=>Ro(l)&&Om(l)!=="body"),s=null;const i=Oo(e).position==="fixed";let a=i?td(e):e;for(;Ro(a)&&!tm(a);){const l=Oo(a),c=zC(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&UZ.has(s.position)||D0(a)&&!c&&p8(e,a))?n=n.filter(d=>d!==a):s=l,a=td(a)}return t.set(e,n),n}function VZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?Tb(t)?[]:zZ(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const h=mT(t,d,s);return u.top=oa(h.top,u.top),u.right=ed(h.right,u.right),u.bottom=ed(h.bottom,u.bottom),u.left=oa(h.left,u.left),u},mT(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function WZ(e){const{width:t,height:r}=d8(e);return{width:t,height:r}}function HZ(e,t,r){const n=Nl(t),s=Al(t),i=r==="fixed",a=Eh(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=vl(0);function u(){c.x=HC(s)}if(n||!n&&!i)if((Om(t)!=="body"||D0(s))&&(l=Rb(t)),n){const f=Eh(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?f8(s,l):vl(0),h=a.left+l.scrollLeft-c.x-d.x,p=a.top+l.scrollTop-c.y-d.y;return{x:h,y:p,width:a.width,height:a.height}}function H_(e){return Oo(e).position==="static"}function gT(e,t){if(!Nl(e)||Oo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Al(e)===r&&(r=r.ownerDocument.body),r}function m8(e,t){const r=ma(e);if(Tb(e))return r;if(!Nl(e)){let s=td(e);for(;s&&!tm(s);){if(Ro(s)&&!H_(s))return s;s=td(s)}return r}let n=gT(e,t);for(;n&&EZ(n)&&H_(n);)n=gT(n,t);return n&&tm(n)&&H_(n)&&!zC(n)?r:n||OZ(e)||r}const GZ=async function(e){const t=this.getOffsetParent||m8,r=this.getDimensions,n=await r(e.floating);return{reference:HZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function YZ(e){return Oo(e).direction==="rtl"}const KZ={convertOffsetParentRelativeRectToViewportRelativeRect:DZ,getDocumentElement:Al,getClippingRect:VZ,getOffsetParent:m8,getElementRects:GZ,getClientRects:FZ,getDimensions:WZ,getScale:xp,isElement:Ro,isRTL:YZ};function g8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function JZ(e,t){let r=null,n;const s=Al(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(l||t(),!p||!f)return;const v=y1(h),m=y1(s.clientWidth-(d+p)),x=y1(s.clientHeight-(h+f)),g=y1(d),S={rootMargin:-v+"px "+-m+"px "+-x+"px "+-g+"px",threshold:oa(0,ed(1,c))||1};let k=!0;function T(R){const O=R[0].intersectionRatio;if(O!==c){if(!k)return a();O?a(!1,O):n=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!g8(u,e.getBoundingClientRect())&&a(),k=!1}try{r=new IntersectionObserver(T,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(T,S)}r.observe(e)}return a(!0),i}function v8(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=WC(e),d=s||i?[...u?Jv(u):[],...Jv(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const h=u&&l?JZ(u,r):null;let p=-1,f=null;a&&(f=new ResizeObserver(g=>{let[b]=g;b&&b.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let v,m=c?Eh(e):null;c&&x();function x(){const g=Eh(e);m&&!g8(m,g)&&r(),m=g,v=requestAnimationFrame(x)}return r(),()=>{var g;d.forEach(b=>{s&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),h==null||h(),(g=f)==null||g.disconnect(),f=null,c&&cancelAnimationFrame(v)}}const QZ=_Z,ZZ=SZ,XZ=xZ,eX=NZ,tX=wZ,vT=yZ,rX=jZ,nX=(e,t,r)=>{const n=new Map,s={platform:KZ,...r},i={...s.platform,_c:n};return vZ(e,t,{...s,platform:i})};var sX=typeof document<"u",iX=function(){},yx=sX?w.useLayoutEffect:iX;function yw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!yw(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!yw(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function y8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yT(e,t){const r=y8(e);return Math.round(t*r)/r}function G_(e){const t=w.useRef(e);return yx(()=>{t.current=e}),t}function x8(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=w.useState(n);yw(p,n)||f(n);const[v,m]=w.useState(null),[x,g]=w.useState(null),b=w.useCallback(W=>{W!==R.current&&(R.current=W,m(W))},[]),S=w.useCallback(W=>{W!==O.current&&(O.current=W,g(W))},[]),k=i||v,T=a||x,R=w.useRef(null),O=w.useRef(null),D=w.useRef(d),M=c!=null,G=G_(c),A=G_(s),I=G_(u),$=w.useCallback(()=>{if(!R.current||!O.current)return;const W={placement:t,strategy:r,middleware:p};A.current&&(W.platform=A.current),nX(R.current,O.current,W).then(Z=>{const pe={...Z,isPositioned:I.current!==!1};q.current&&!yw(D.current,pe)&&(D.current=pe,Kh.flushSync(()=>{h(pe)}))})},[p,t,r,A,I]);yx(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(W=>({...W,isPositioned:!1})))},[u]);const q=w.useRef(!1);yx(()=>(q.current=!0,()=>{q.current=!1}),[]),yx(()=>{if(k&&(R.current=k),T&&(O.current=T),k&&T){if(G.current)return G.current(k,T,$);$()}},[k,T,$,G,M]);const ee=w.useMemo(()=>({reference:R,floating:O,setReference:b,setFloating:S}),[b,S]),ne=w.useMemo(()=>({reference:k,floating:T}),[k,T]),te=w.useMemo(()=>{const W={position:r,left:0,top:0};if(!ne.floating)return W;const Z=yT(ne.floating,d.x),pe=yT(ne.floating,d.y);return l?{...W,transform:"translate("+Z+"px, "+pe+"px)",...y8(ne.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:pe}},[r,l,ne.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:$,refs:ee,elements:ne,floatingStyles:te}),[d,$,ee,ne,te])}const aX=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?vT({element:n.current,padding:s}).fn(r):{}:n?vT({element:n,padding:s}).fn(r):{}}}},w8=(e,t)=>({...QZ(e),options:[e,t]}),b8=(e,t)=>({...ZZ(e),options:[e,t]}),_8=(e,t)=>({...rX(e),options:[e,t]}),S8=(e,t)=>({...XZ(e),options:[e,t]}),j8=(e,t)=>({...eX(e),options:[e,t]}),N8=(e,t)=>({...tX(e),options:[e,t]}),k8=(e,t)=>({...aX(e),options:[e,t]});var oX="Arrow",C8=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return o.jsx(Xe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});C8.displayName=oX;var E8=C8;function Ob(e){const[t,r]=w.useState(void 0);return Xr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var GC="Popper",[A8,Lm]=is(GC),[lX,P8]=A8(GC),T8=e=>{const{__scopePopper:t,children:r}=e,[n,s]=w.useState(null);return o.jsx(lX,{scope:t,anchor:n,onAnchorChange:s,children:r})};T8.displayName=GC;var R8="PopperAnchor",O8=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=P8(R8,r),a=w.useRef(null),l=wt(t,a);return w.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(Xe.div,{...s,ref:l})});O8.displayName=R8;var YC="PopperContent",[cX,uX]=A8(YC),L8=w.forwardRef((e,t)=>{var F,Q,se,le,ue,fe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...m}=e,x=P8(YC,r),[g,b]=w.useState(null),S=wt(t,_e=>b(_e)),[k,T]=w.useState(null),R=Ob(k),O=(R==null?void 0:R.width)??0,D=(R==null?void 0:R.height)??0,M=n+(i!=="center"?"-"+i:""),G=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],I=A.length>0,$={padding:G,boundary:A.filter(hX),altBoundary:I},{refs:q,floatingStyles:ee,placement:ne,isPositioned:te,middlewareData:W}=x8({strategy:"fixed",placement:M,whileElementsMounted:(..._e)=>v8(..._e,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[w8({mainAxis:s+D,alignmentAxis:a}),c&&b8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?_8():void 0,...$}),c&&S8({...$}),j8({...$,apply:({elements:_e,rects:Ie,availableWidth:J,availableHeight:De})=>{const{width:Ye,height:Ke}=Ie.reference,me=_e.floating.style;me.setProperty("--radix-popper-available-width",`${J}px`),me.setProperty("--radix-popper-available-height",`${De}px`),me.setProperty("--radix-popper-anchor-width",`${Ye}px`),me.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),k&&k8({element:k,padding:l}),fX({arrowWidth:O,arrowHeight:D}),p&&N8({strategy:"referenceHidden",...$})]}),[Z,pe]=D8(ne),ve=Kr(v);Xr(()=>{te&&(ve==null||ve())},[te,ve]);const U=(F=W.arrow)==null?void 0:F.x,_=(Q=W.arrow)==null?void 0:Q.y,C=((se=W.arrow)==null?void 0:se.centerOffset)!==0,[E,B]=w.useState();return Xr(()=>{g&&B(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:te?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(le=W.transformOrigin)==null?void 0:le.x,(ue=W.transformOrigin)==null?void 0:ue.y].join(" "),...((fe=W.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(cX,{scope:r,placedSide:Z,onArrowChange:T,arrowX:U,arrowY:_,shouldHideArrow:C,children:o.jsx(Xe.div,{"data-side":Z,"data-align":pe,...m,ref:S,style:{...m.style,animation:te?void 0:"none"}})})})});L8.displayName=YC;var M8="PopperArrow",dX={top:"bottom",right:"left",bottom:"top",left:"right"},I8=w.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=uX(M8,n),a=dX[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(E8,{...s,ref:r,style:{...s.style,display:"block"}})})});I8.displayName=M8;function hX(e){return e!==null}var fX=e=>({name:"transformOrigin",options:e,fn(t){var x,g,b;const{placement:r,rects:n,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=D8(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,f=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=a?h:`${p}px`,m=`${-c}px`):u==="top"?(v=a?h:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=a?h:`${f}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=a?h:`${f}px`),{data:{x:v,y:m}}}});function D8(e){const[t,r="center"]=e.split("-");return[t,r]}var F8=T8,Lb=O8,KC=L8,JC=I8,[Mb,S2e]=is("Tooltip",[Lm]),QC=Lm(),$8="TooltipProvider",pX=700,xT="tooltip.open",[mX,B8]=Mb($8),U8=e=>{const{__scopeTooltip:t,delayDuration:r=pX,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,a=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(mX,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};U8.displayName=$8;var q8="Tooltip",[j2e,Ib]=Mb(q8),Lj="TooltipTrigger",gX=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ib(Lj,r),i=B8(Lj,r),a=QC(r),l=w.useRef(null),c=wt(t,l,s.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),h=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(Lb,{asChild:!0,...a,children:o.jsx(Xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:dt(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:dt(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:dt(e.onBlur,s.onClose),onClick:dt(e.onClick,s.onClose)})})});gX.displayName=Lj;var vX="TooltipPortal",[N2e,yX]=Mb(vX,{forceMount:void 0}),rm="TooltipContent",z8=w.forwardRef((e,t)=>{const r=yX(rm,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,a=Ib(rm,e.__scopeTooltip);return o.jsx(_a,{present:n||a.open,children:a.disableHoverableContent?o.jsx(V8,{side:s,...i,ref:t}):o.jsx(xX,{side:s,...i,ref:t})})}),xX=w.forwardRef((e,t)=>{const r=Ib(rm,e.__scopeTooltip),n=B8(rm,e.__scopeTooltip),s=w.useRef(null),i=wt(t,s),[a,l]=w.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,p=w.useCallback(()=>{l(null),h(!1)},[h]),f=w.useCallback((v,m)=>{const x=v.currentTarget,g={x:v.clientX,y:v.clientY},b=jX(g,x.getBoundingClientRect()),S=NX(g,b),k=kX(m.getBoundingClientRect()),T=EX([...S,...k]);l(T),h(!0)},[h]);return w.useEffect(()=>()=>p(),[p]),w.useEffect(()=>{if(c&&d){const v=x=>f(x,d),m=x=>f(x,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[c,d,f,p]),w.useEffect(()=>{if(a){const v=m=>{const x=m.target,g={x:m.clientX,y:m.clientY},b=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),S=!CX(g,a);b?p():S&&(p(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,p]),o.jsx(V8,{...e,ref:i})}),[wX,bX]=Mb(q8,{isInside:!1}),_X=fD("TooltipContent"),V8=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Ib(rm,r),u=QC(r),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(xT,d),()=>document.removeEventListener(xT,d)),[d]),w.useEffect(()=>{if(c.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(Cm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(KC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(_X,{children:n}),o.jsx(wX,{scope:r,isInside:!0,children:o.jsx(GK,{id:c.contentId,role:"tooltip",children:s||n})})]})})});z8.displayName=rm;var W8="TooltipArrow",SX=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=QC(r);return bX(W8,r).isInside?null:o.jsx(JC,{...s,...n,ref:t})});SX.displayName=W8;function jX(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function NX(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function kX(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function CX(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function EX(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),AX(t)}function AX(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var PX=U8,H8=z8;const TX=PX,RX=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(H8,{ref:n,sideOffset:t,className:Me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));RX.displayName=H8.displayName;var Mm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ah=typeof window>"u"||"Deno"in globalThis;function xi(){}function OX(e,t){return typeof e=="function"?e(t):e}function Mj(e){return typeof e=="number"&&e>=0&&e!==1/0}function G8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wu(e,t){return typeof e=="function"?e(t):e}function La(e,t){return typeof e=="function"?e(t):e}function wT(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==ZC(a,t.options))return!1}else if(!Qv(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function bT(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ph(t.options.mutationKey)!==Ph(i))return!1}else if(!Qv(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function ZC(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ph)(e)}function Ph(e){return JSON.stringify(e,(t,r)=>Ij(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Qv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Qv(e[r],t[r])):!1}function Y8(e,t){if(e===t)return e;const r=_T(e)&&_T(t);if(r||Ij(e)&&Ij(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<a;d++){const h=r?d:i[d];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=Y8(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return s===a&&u===s?e:l}return t}function xw(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function _T(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ij(e){if(!ST(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ST(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ST(e){return Object.prototype.toString.call(e)==="[object Object]"}function LX(e){return new Promise(t=>{setTimeout(t,e)})}function Dj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Y8(e,t):t}function MX(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function IX(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var XC=Symbol();function K8(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===XC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function J8(e,t){return typeof e=="function"?e(...t):!!e}var ih,_u,Lp,$M,DX=($M=class extends Mm{constructor(){super();Rt(this,ih);Rt(this,_u);Rt(this,Lp);st(this,Lp,t=>{if(!Ah&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){he(this,_u)||this.setEventListener(he(this,Lp))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,_u))==null||t.call(this),st(this,_u,void 0))}setEventListener(t){var r;st(this,Lp,t),(r=he(this,_u))==null||r.call(this),st(this,_u,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){he(this,ih)!==t&&(st(this,ih,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof he(this,ih)=="boolean"?he(this,ih):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ih=new WeakMap,_u=new WeakMap,Lp=new WeakMap,$M),eE=new DX,Mp,Su,Ip,BM,FX=(BM=class extends Mm{constructor(){super();Rt(this,Mp,!0);Rt(this,Su);Rt(this,Ip);st(this,Ip,t=>{if(!Ah&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){he(this,Su)||this.setEventListener(he(this,Ip))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,Su))==null||t.call(this),st(this,Su,void 0))}setEventListener(t){var r;st(this,Ip,t),(r=he(this,Su))==null||r.call(this),st(this,Su,t(this.setOnline.bind(this)))}setOnline(t){he(this,Mp)!==t&&(st(this,Mp,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return he(this,Mp)}},Mp=new WeakMap,Su=new WeakMap,Ip=new WeakMap,BM),ww=new FX;function Fj(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function $X(e){return Math.min(1e3*2**e,3e4)}function Q8(e){return(e??"online")==="online"?ww.isOnline():!0}var Z8=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Y_(e){return e instanceof Z8}function X8(e){let t=!1,r=0,n=!1,s;const i=Fj(),a=m=>{var x;n||(p(new Z8(m)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>eE.isFocused()&&(e.networkMode==="always"||ww.isOnline())&&e.canRun(),d=()=>Q8(e.networkMode)&&e.canRun(),h=m=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,m),s==null||s(),i.resolve(m))},p=m=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,m),s==null||s(),i.reject(m))},f=()=>new Promise(m=>{var x;s=g=>{(n||u())&&m(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),v=()=>{if(n)return;let m;const x=r===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(h).catch(g=>{var R;if(n)return;const b=e.retry??(Ah?0:3),S=e.retryDelay??$X,k=typeof S=="function"?S(r,g):S,T=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,g);if(t||!T){p(g);return}r++,(R=e.onFail)==null||R.call(e,r,g),LX(k).then(()=>u()?void 0:f()).then(()=>{t?p(g):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():f().then(v),i)}}var BX=e=>setTimeout(e,0);function UX(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=BX;const i=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var js=UX(),ah,UM,eF=(UM=class{constructor(){Rt(this,ah)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mj(this.gcTime)&&st(this,ah,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ah?1/0:5*60*1e3))}clearGcTimeout(){he(this,ah)&&(clearTimeout(he(this,ah)),st(this,ah,void 0))}},ah=new WeakMap,UM),Dp,oh,Oa,lh,ni,_0,ch,yo,ec,qM,qX=(qM=class extends eF{constructor(t){super();Rt(this,yo);Rt(this,Dp);Rt(this,oh);Rt(this,Oa);Rt(this,lh);Rt(this,ni);Rt(this,_0);Rt(this,ch);st(this,ch,!1),st(this,_0,t.defaultOptions),this.setOptions(t.options),this.observers=[],st(this,lh,t.client),st(this,Oa,he(this,lh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,st(this,Dp,zX(this.options)),this.state=t.state??he(this,Dp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=he(this,ni))==null?void 0:t.promise}setOptions(t){this.options={...he(this,_0),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,Oa).remove(this)}setData(t,r){const n=Dj(this.state.data,t,this.options);return ir(this,yo,ec).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ir(this,yo,ec).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=he(this,ni))==null?void 0:n.promise;return(s=he(this,ni))==null||s.cancel(t),r?r.then(xi).catch(xi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,Dp))}isActive(){return this.observers.some(t=>La(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===XC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!G8(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=he(this,ni))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=he(this,ni))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),he(this,Oa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(he(this,ni)&&(he(this,ch)?he(this,ni).cancel({revert:!0}):he(this,ni).cancelRetry()),this.scheduleGc()),he(this,Oa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ir(this,yo,ec).call(this,{type:"invalidate"})}fetch(t,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(he(this,ni))return he(this,ni).continueRetry(),he(this,ni).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(st(this,ch,!0),n.signal)})},i=()=>{const p=K8(this.options,r),v=(()=>{const m={client:he(this,lh),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return st(this,ch,!1),this.options.persister?this.options.persister(p,v,this):p(v)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:he(this,lh),state:this.state,fetchFn:i};return s(p),p})();(u=this.options.behavior)==null||u.onFetch(l,this),st(this,oh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ir(this,yo,ec).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=p=>{var f,v,m,x;Y_(p)&&p.silent||ir(this,yo,ec).call(this,{type:"error",error:p}),Y_(p)||((v=(f=he(this,Oa).config).onError)==null||v.call(f,p,this),(x=(m=he(this,Oa).config).onSettled)==null||x.call(m,this.state.data,p,this)),this.scheduleGc()};return st(this,ni,X8({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var f,v,m,x;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(g){c(g);return}(v=(f=he(this,Oa).config).onSuccess)==null||v.call(f,p,this),(x=(m=he(this,Oa).config).onSettled)==null||x.call(m,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,f)=>{ir(this,yo,ec).call(this,{type:"failed",failureCount:p,error:f})},onPause:()=>{ir(this,yo,ec).call(this,{type:"pause"})},onContinue:()=>{ir(this,yo,ec).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),he(this,ni).start()}},Dp=new WeakMap,oh=new WeakMap,Oa=new WeakMap,lh=new WeakMap,ni=new WeakMap,_0=new WeakMap,ch=new WeakMap,yo=new WeakSet,ec=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tF(n.data,this.options),fetchMeta:t.meta??null};case"success":return st(this,oh,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Y_(s)&&s.revert&&he(this,oh)?{...he(this,oh),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),js.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),he(this,Oa).notify({query:this,type:"updated",action:t})})},qM);function tF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Q8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zX(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var sl,zM,VX=(zM=class extends Mm{constructor(t={}){super();Rt(this,sl);this.config=t,st(this,sl,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??ZC(s,r);let a=this.get(i);return a||(a=new qX({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){he(this,sl).has(t.queryHash)||(he(this,sl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=he(this,sl).get(t.queryHash);r&&(t.destroy(),r===t&&he(this,sl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){js.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return he(this,sl).get(t)}getAll(){return[...he(this,sl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wT(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>wT(t,n)):r}notify(t){js.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){js.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){js.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},sl=new WeakMap,zM),il,gi,uh,al,lu,VM,WX=(VM=class extends eF{constructor(t){super();Rt(this,al);Rt(this,il);Rt(this,gi);Rt(this,uh);this.mutationId=t.mutationId,st(this,gi,t.mutationCache),st(this,il,[]),this.state=t.state||rF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){he(this,il).includes(t)||(he(this,il).push(t),this.clearGcTimeout(),he(this,gi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){st(this,il,he(this,il).filter(r=>r!==t)),this.scheduleGc(),he(this,gi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){he(this,il).length||(this.state.status==="pending"?this.scheduleGc():he(this,gi).remove(this))}continue(){var t;return((t=he(this,uh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,l,c,u,d,h,p,f,v,m,x,g,b,S,k,T,R,O,D;const r=()=>{ir(this,al,lu).call(this,{type:"continue"})};st(this,uh,X8({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,G)=>{ir(this,al,lu).call(this,{type:"failed",failureCount:M,error:G})},onPause:()=>{ir(this,al,lu).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,gi).canRun(this)}));const n=this.state.status==="pending",s=!he(this,uh).canStart();try{if(n)r();else{ir(this,al,lu).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=he(this,gi).config).onMutate)==null?void 0:a.call(i,t,this));const G=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));G!==this.state.context&&ir(this,al,lu).call(this,{type:"pending",context:G,variables:t,isPaused:s})}const M=await he(this,uh).start();return await((d=(u=he(this,gi).config).onSuccess)==null?void 0:d.call(u,M,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,M,t,this.state.context)),await((v=(f=he(this,gi).config).onSettled)==null?void 0:v.call(f,M,null,this.state.variables,this.state.context,this)),await((x=(m=this.options).onSettled)==null?void 0:x.call(m,M,null,t,this.state.context)),ir(this,al,lu).call(this,{type:"success",data:M}),M}catch(M){try{throw await((b=(g=he(this,gi).config).onError)==null?void 0:b.call(g,M,t,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,M,t,this.state.context)),await((R=(T=he(this,gi).config).onSettled)==null?void 0:R.call(T,void 0,M,this.state.variables,this.state.context,this)),await((D=(O=this.options).onSettled)==null?void 0:D.call(O,void 0,M,t,this.state.context)),M}finally{ir(this,al,lu).call(this,{type:"error",error:M})}}finally{he(this,gi).runNext(this)}}},il=new WeakMap,gi=new WeakMap,uh=new WeakMap,al=new WeakSet,lu=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),js.batch(()=>{he(this,il).forEach(n=>{n.onMutationUpdate(t)}),he(this,gi).notify({mutation:this,type:"updated",action:t})})},VM);function rF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cc,xo,S0,WM,HX=(WM=class extends Mm{constructor(t={}){super();Rt(this,cc);Rt(this,xo);Rt(this,S0);this.config=t,st(this,cc,new Set),st(this,xo,new Map),st(this,S0,0)}build(t,r,n){const s=new WX({mutationCache:this,mutationId:++Qy(this,S0)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){he(this,cc).add(t);const r=x1(t);if(typeof r=="string"){const n=he(this,xo).get(r);n?n.push(t):he(this,xo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(he(this,cc).delete(t)){const r=x1(t);if(typeof r=="string"){const n=he(this,xo).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&he(this,xo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=x1(t);if(typeof r=="string"){const n=he(this,xo).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=x1(t);if(typeof r=="string"){const s=(n=he(this,xo).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){js.batch(()=>{he(this,cc).forEach(t=>{this.notify({type:"removed",mutation:t})}),he(this,cc).clear(),he(this,xo).clear()})}getAll(){return Array.from(he(this,cc))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>bT(r,n))}findAll(t={}){return this.getAll().filter(r=>bT(t,r))}notify(t){js.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return js.batch(()=>Promise.all(t.map(r=>r.continue().catch(xi))))}},cc=new WeakMap,xo=new WeakMap,S0=new WeakMap,WM);function x1(e){var t;return(t=e.options.scope)==null?void 0:t.id}function jT(e){return{onFetch:(t,r)=>{var d,h,p,f,v;const n=t.options,s=(p=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},g=K8(t.options,t.fetchOptions),b=async(S,k,T)=>{if(m)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const O=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:k,direction:T?"backward":"forward",meta:t.options.meta};return x(A),A})(),D=await g(O),{maxPages:M}=t.options,G=T?IX:MX;return{pages:G(S.pages,D,M),pageParams:G(S.pageParams,k,M)}};if(s&&i.length){const S=s==="backward",k=S?GX:NT,T={pages:i,pageParams:a},R=k(n,T);l=await b(T,R,S)}else{const S=e??i.length;do{const k=c===0?a[0]??n.initialPageParam:NT(n,l);if(c>0&&k==null)break;l=await b(l,k),c++}while(c<S)}return l};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function NT(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function GX(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Un,ju,Nu,Fp,$p,ku,Bp,Up,HM,YX=(HM=class{constructor(e={}){Rt(this,Un);Rt(this,ju);Rt(this,Nu);Rt(this,Fp);Rt(this,$p);Rt(this,ku);Rt(this,Bp);Rt(this,Up);st(this,Un,e.queryCache||new VX),st(this,ju,e.mutationCache||new HX),st(this,Nu,e.defaultOptions||{}),st(this,Fp,new Map),st(this,$p,new Map),st(this,ku,0)}mount(){Qy(this,ku)._++,he(this,ku)===1&&(st(this,Bp,eE.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Un).onFocus())})),st(this,Up,ww.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Un).onOnline())})))}unmount(){var e,t;Qy(this,ku)._--,he(this,ku)===0&&((e=he(this,Bp))==null||e.call(this),st(this,Bp,void 0),(t=he(this,Up))==null||t.call(this),st(this,Up,void 0))}isFetching(e){return he(this,Un).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return he(this,ju).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=he(this,Un).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=he(this,Un).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Wu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return he(this,Un).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=he(this,Un).get(n.queryHash),i=s==null?void 0:s.state.data,a=OX(t,i);if(a!==void 0)return he(this,Un).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return js.batch(()=>he(this,Un).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=he(this,Un).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=he(this,Un);js.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=he(this,Un);return js.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=js.batch(()=>he(this,Un).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(xi).catch(xi)}invalidateQueries(e,t={}){return js.batch(()=>(he(this,Un).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=js.batch(()=>he(this,Un).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(xi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(xi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=he(this,Un).build(this,t);return r.isStaleByTime(Wu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xi).catch(xi)}fetchInfiniteQuery(e){return e.behavior=jT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xi).catch(xi)}ensureInfiniteQueryData(e){return e.behavior=jT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ww.isOnline()?he(this,ju).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,Un)}getMutationCache(){return he(this,ju)}getDefaultOptions(){return he(this,Nu)}setDefaultOptions(e){st(this,Nu,e)}setQueryDefaults(e,t){he(this,Fp).set(Ph(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...he(this,Fp).values()],r={};return t.forEach(n=>{Qv(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){he(this,$p).set(Ph(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...he(this,$p).values()],r={};return t.forEach(n=>{Qv(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...he(this,Nu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ZC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===XC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...he(this,Nu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){he(this,Un).clear(),he(this,ju).clear()}},Un=new WeakMap,ju=new WeakMap,Nu=new WeakMap,Fp=new WeakMap,$p=new WeakMap,ku=new WeakMap,Bp=new WeakMap,Up=new WeakMap,HM),Ri,hr,j0,vi,dh,qp,Cu,Eu,N0,zp,Vp,hh,fh,Au,Wp,Br,Qg,$j,Bj,Uj,qj,zj,Vj,Wj,nF,GM,KX=(GM=class extends Mm{constructor(t,r){super();Rt(this,Br);Rt(this,Ri);Rt(this,hr);Rt(this,j0);Rt(this,vi);Rt(this,dh);Rt(this,qp);Rt(this,Cu);Rt(this,Eu);Rt(this,N0);Rt(this,zp);Rt(this,Vp);Rt(this,hh);Rt(this,fh);Rt(this,Au);Rt(this,Wp,new Set);this.options=r,st(this,Ri,t),st(this,Eu,null),st(this,Cu,Fj()),this.options.experimental_prefetchInRender||he(this,Cu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(he(this,hr).addObserver(this),kT(he(this,hr),this.options)?ir(this,Br,Qg).call(this):this.updateResult(),ir(this,Br,qj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hj(he(this,hr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hj(he(this,hr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ir(this,Br,zj).call(this),ir(this,Br,Vj).call(this),he(this,hr).removeObserver(this)}setOptions(t){const r=this.options,n=he(this,hr);if(this.options=he(this,Ri).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof La(this.options.enabled,he(this,hr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ir(this,Br,Wj).call(this),he(this,hr).setOptions(this.options),r._defaulted&&!xw(this.options,r)&&he(this,Ri).getQueryCache().notify({type:"observerOptionsUpdated",query:he(this,hr),observer:this});const s=this.hasListeners();s&&CT(he(this,hr),n,this.options,r)&&ir(this,Br,Qg).call(this),this.updateResult(),s&&(he(this,hr)!==n||La(this.options.enabled,he(this,hr))!==La(r.enabled,he(this,hr))||Wu(this.options.staleTime,he(this,hr))!==Wu(r.staleTime,he(this,hr)))&&ir(this,Br,$j).call(this);const i=ir(this,Br,Bj).call(this);s&&(he(this,hr)!==n||La(this.options.enabled,he(this,hr))!==La(r.enabled,he(this,hr))||i!==he(this,Au))&&ir(this,Br,Uj).call(this,i)}getOptimisticResult(t){const r=he(this,Ri).getQueryCache().build(he(this,Ri),t),n=this.createResult(r,t);return QX(this,n)&&(st(this,vi,n),st(this,qp,this.options),st(this,dh,he(this,hr).state)),n}getCurrentResult(){return he(this,vi)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){he(this,Wp).add(t)}getCurrentQuery(){return he(this,hr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=he(this,Ri).defaultQueryOptions(t),n=he(this,Ri).getQueryCache().build(he(this,Ri),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ir(this,Br,Qg).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),he(this,vi)))}createResult(t,r){var M;const n=he(this,hr),s=this.options,i=he(this,vi),a=he(this,dh),l=he(this,qp),u=t!==n?t.state:he(this,j0),{state:d}=t;let h={...d},p=!1,f;if(r._optimisticResults){const G=this.hasListeners(),A=!G&&kT(t,r),I=G&&CT(t,n,r,s);(A||I)&&(h={...h,...tF(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:x}=h;f=h.data;let g=!1;if(r.placeholderData!==void 0&&f===void 0&&x==="pending"){let G;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(G=i.data,g=!0):G=typeof r.placeholderData=="function"?r.placeholderData((M=he(this,Vp))==null?void 0:M.state.data,he(this,Vp)):r.placeholderData,G!==void 0&&(x="success",f=Dj(i==null?void 0:i.data,G,r),p=!0)}if(r.select&&f!==void 0&&!g)if(i&&f===(a==null?void 0:a.data)&&r.select===he(this,N0))f=he(this,zp);else try{st(this,N0,r.select),f=r.select(f),f=Dj(i==null?void 0:i.data,f,r),st(this,zp,f),st(this,Eu,null)}catch(G){st(this,Eu,G)}he(this,Eu)&&(v=he(this,Eu),f=he(this,zp),m=Date.now(),x="error");const b=h.fetchStatus==="fetching",S=x==="pending",k=x==="error",T=S&&b,R=f!==void 0,D={status:x,fetchStatus:h.fetchStatus,isPending:S,isSuccess:x==="success",isError:k,isInitialLoading:T,isLoading:T,data:f,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!S,isLoadingError:k&&!R,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:k&&R,isStale:tE(t,r),refetch:this.refetch,promise:he(this,Cu),isEnabled:La(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const G=$=>{D.status==="error"?$.reject(D.error):D.data!==void 0&&$.resolve(D.data)},A=()=>{const $=st(this,Cu,D.promise=Fj());G($)},I=he(this,Cu);switch(I.status){case"pending":t.queryHash===n.queryHash&&G(I);break;case"fulfilled":(D.status==="error"||D.data!==I.value)&&A();break;case"rejected":(D.status!=="error"||D.error!==I.reason)&&A();break}}return D}updateResult(){const t=he(this,vi),r=this.createResult(he(this,hr),this.options);if(st(this,dh,he(this,hr).state),st(this,qp,this.options),he(this,dh).data!==void 0&&st(this,Vp,he(this,hr)),xw(r,t))return;st(this,vi,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!he(this,Wp).size)return!0;const a=new Set(i??he(this,Wp));return this.options.throwOnError&&a.add("error"),Object.keys(he(this,vi)).some(l=>{const c=l;return he(this,vi)[c]!==t[c]&&a.has(c)})};ir(this,Br,nF).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ir(this,Br,qj).call(this)}},Ri=new WeakMap,hr=new WeakMap,j0=new WeakMap,vi=new WeakMap,dh=new WeakMap,qp=new WeakMap,Cu=new WeakMap,Eu=new WeakMap,N0=new WeakMap,zp=new WeakMap,Vp=new WeakMap,hh=new WeakMap,fh=new WeakMap,Au=new WeakMap,Wp=new WeakMap,Br=new WeakSet,Qg=function(t){ir(this,Br,Wj).call(this);let r=he(this,hr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(xi)),r},$j=function(){ir(this,Br,zj).call(this);const t=Wu(this.options.staleTime,he(this,hr));if(Ah||he(this,vi).isStale||!Mj(t))return;const n=G8(he(this,vi).dataUpdatedAt,t)+1;st(this,hh,setTimeout(()=>{he(this,vi).isStale||this.updateResult()},n))},Bj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(he(this,hr)):this.options.refetchInterval)??!1},Uj=function(t){ir(this,Br,Vj).call(this),st(this,Au,t),!(Ah||La(this.options.enabled,he(this,hr))===!1||!Mj(he(this,Au))||he(this,Au)===0)&&st(this,fh,setInterval(()=>{(this.options.refetchIntervalInBackground||eE.isFocused())&&ir(this,Br,Qg).call(this)},he(this,Au)))},qj=function(){ir(this,Br,$j).call(this),ir(this,Br,Uj).call(this,ir(this,Br,Bj).call(this))},zj=function(){he(this,hh)&&(clearTimeout(he(this,hh)),st(this,hh,void 0))},Vj=function(){he(this,fh)&&(clearInterval(he(this,fh)),st(this,fh,void 0))},Wj=function(){const t=he(this,Ri).getQueryCache().build(he(this,Ri),this.options);if(t===he(this,hr))return;const r=he(this,hr);st(this,hr,t),st(this,j0,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},nF=function(t){js.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(he(this,vi))}),he(this,Ri).getQueryCache().notify({query:he(this,hr),type:"observerResultsUpdated"})})},GM);function JX(e,t){return La(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kT(e,t){return JX(e,t)||e.state.data!==void 0&&Hj(e,t,t.refetchOnMount)}function Hj(e,t,r){if(La(t.enabled,e)!==!1&&Wu(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&tE(e,t)}return!1}function CT(e,t,r,n){return(e!==t||La(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&tE(e,r)}function tE(e,t){return La(t.enabled,e)!==!1&&e.isStaleByTime(Wu(t.staleTime,e))}function QX(e,t){return!xw(e.getCurrentResult(),t)}var Pu,Tu,Oi,uc,_c,xx,Gj,YM,ZX=(YM=class extends Mm{constructor(r,n){super();Rt(this,_c);Rt(this,Pu);Rt(this,Tu);Rt(this,Oi);Rt(this,uc);st(this,Pu,r),this.setOptions(n),this.bindMethods(),ir(this,_c,xx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=he(this,Pu).defaultMutationOptions(r),xw(this.options,n)||he(this,Pu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:he(this,Oi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ph(n.mutationKey)!==Ph(this.options.mutationKey)?this.reset():((s=he(this,Oi))==null?void 0:s.state.status)==="pending"&&he(this,Oi).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=he(this,Oi))==null||r.removeObserver(this)}onMutationUpdate(r){ir(this,_c,xx).call(this),ir(this,_c,Gj).call(this,r)}getCurrentResult(){return he(this,Tu)}reset(){var r;(r=he(this,Oi))==null||r.removeObserver(this),st(this,Oi,void 0),ir(this,_c,xx).call(this),ir(this,_c,Gj).call(this)}mutate(r,n){var s;return st(this,uc,n),(s=he(this,Oi))==null||s.removeObserver(this),st(this,Oi,he(this,Pu).getMutationCache().build(he(this,Pu),this.options)),he(this,Oi).addObserver(this),he(this,Oi).execute(r)}},Pu=new WeakMap,Tu=new WeakMap,Oi=new WeakMap,uc=new WeakMap,_c=new WeakSet,xx=function(){var n;const r=((n=he(this,Oi))==null?void 0:n.state)??rF();st(this,Tu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Gj=function(r){js.batch(()=>{var n,s,i,a,l,c,u,d;if(he(this,uc)&&this.hasListeners()){const h=he(this,Tu).variables,p=he(this,Tu).context;(r==null?void 0:r.type)==="success"?((s=(n=he(this,uc)).onSuccess)==null||s.call(n,r.data,h,p),(a=(i=he(this,uc)).onSettled)==null||a.call(i,r.data,null,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=he(this,uc)).onError)==null||c.call(l,r.error,h,p),(d=(u=he(this,uc)).onSettled)==null||d.call(u,void 0,r.error,h,p))}this.listeners.forEach(h=>{h(he(this,Tu))})})},YM),sF=w.createContext(void 0),Pn=e=>{const t=w.useContext(sF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},XX=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(sF.Provider,{value:e,children:t})),iF=w.createContext(!1),eee=()=>w.useContext(iF);iF.Provider;function tee(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ree=w.createContext(tee()),nee=()=>w.useContext(ree),see=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},iee=e=>{w.useEffect(()=>{e.clearReset()},[e])},aee=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||J8(r,[e.error,n])),oee=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},lee=(e,t)=>e.isLoading&&e.isFetching&&!t,cee=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ET=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function uee(e,t,r){var h,p,f,v,m;const n=eee(),s=nee(),i=Pn(),a=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,a),a._optimisticResults=n?"isRestoring":"optimistic",oee(a),see(a,s),iee(s);const l=!i.getQueryCache().get(a.queryHash),[c]=w.useState(()=>new t(i,a)),u=c.getOptimisticResult(a),d=!n&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(x=>{const g=d?c.subscribe(js.batchCalls(x)):xi;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(a)},[a,c]),cee(a,u))throw ET(a,c,s);if(aee({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((v=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||v.call(f,a,u),a.experimental_prefetchInRender&&!Ah&&lee(u,n)){const x=l?ET(a,c,s):(m=i.getQueryCache().get(a.queryHash))==null?void 0:m.promise;x==null||x.catch(xi).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function fn(e,t){return uee(e,KX)}function Qr(e,t){const r=Pn(),[n]=w.useState(()=>new ZX(r,e));w.useEffect(()=>{n.setOptions(e)},[n,e]);const s=w.useSyncExternalStore(w.useCallback(a=>n.subscribe(js.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=w.useCallback((a,l)=>{n.mutate(a,l).catch(xi)},[n]);if(s.error&&J8(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var AT="popstate";function dee(e={}){function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return Yj("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Zv(s)}return fee(t,r,null,e)}function En(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ka(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hee(){return Math.random().toString(36).substring(2,10)}function PT(e,t){return{usr:e.state,key:e.key,idx:t}}function Yj(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Im(t):t,state:r,key:t&&t.key||n||hee()}}function Zv({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Im(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function fee(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let x=d(),g=x==null?null:x-u;u=x,c&&c({action:l,location:m.location,delta:g})}function p(x,g){l="PUSH";let b=Yj(m.location,x,g);u=d()+1;let S=PT(b,u),k=m.createHref(b);try{a.pushState(S,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(k)}i&&c&&c({action:l,location:m.location,delta:1})}function f(x,g){l="REPLACE";let b=Yj(m.location,x,g);u=d();let S=PT(b,u),k=m.createHref(b);a.replaceState(S,"",k),i&&c&&c({action:l,location:m.location,delta:0})}function v(x){return pee(x)}let m={get action(){return l},get location(){return e(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(AT,h),c=x,()=>{s.removeEventListener(AT,h),c=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:f,go(x){return a.go(x)}};return m}function pee(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),En(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Zv(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function aF(e,t,r="/"){return mee(e,t,r,!1)}function mee(e,t,r,n){let s=typeof t=="string"?Im(t):t,i=Tc(s.pathname||"/",r);if(i==null)return null;let a=oF(e);gee(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Cee(i);l=Nee(a[c],u,n)}return l}function oF(e,t=[],r=[],n="",s=!1){let i=(a,l,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;En(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=xc([n,d.relativePath]),p=r.concat(d);a.children&&a.children.length>0&&(En(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),oF(a.children,t,p,h,c)),!(a.path==null&&!a.index)&&t.push({path:h,score:See(h,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let u of lF(a.path))i(a,l,!0,u)}),t}function lF(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=lF(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function gee(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:jee(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var vee=/^:[\w-]+$/,yee=3,xee=2,wee=1,bee=10,_ee=-2,TT=e=>e==="*";function See(e,t){let r=e.split("/"),n=r.length;return r.some(TT)&&(n+=_ee),t&&(n+=xee),r.filter(s=>!TT(s)).reduce((s,i)=>s+(vee.test(i)?yee:i===""?wee:bee),n)}function jee(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Nee(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=bw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=bw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:xc([i,h.pathname]),pathnameBase:Tee(xc([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=xc([i,h.pathnameBase]))}return a}function bw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=kee(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},p)=>{if(d==="*"){let v=l[p]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const f=l[p];return h&&!f?u[d]=void 0:u[d]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function kee(e,t=!1,r=!0){Ka(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Cee(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ka(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Tc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var cF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eee=e=>cF.test(e);function Aee(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Im(e):e,i;if(r)if(Eee(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Ka(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=RT(r.substring(1),"/"):i=RT(r,t)}else i=t;return{pathname:i,search:Ree(n),hash:Oee(s)}}function RT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function K_(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pee(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rE(e){let t=Pee(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function nE(e,t,r,n=!1){let s;typeof e=="string"?s=Im(e):(s={...e},En(!s.pathname||!s.pathname.includes("?"),K_("?","pathname","search",s)),En(!s.pathname||!s.pathname.includes("#"),K_("#","pathname","hash",s)),En(!s.search||!s.search.includes("#"),K_("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=Aee(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var xc=e=>e.join("/").replace(/\/\/+/g,"/"),Tee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ree=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Oee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Lee=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Mee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Iee(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var uF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dF(e,t){let r=e;if(typeof r!="string"||!cF.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,s=!1;if(uF)try{let i=new URL(window.location.href),a=r.startsWith("//")?new URL(i.protocol+r):new URL(r),l=Tc(a.pathname,t);a.origin===i.origin&&l!=null?r=l+a.search+a.hash:s=!0}catch{Ka(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hF=["POST","PUT","PATCH","DELETE"];new Set(hF);var Dee=["GET",...hF];new Set(Dee);var Dm=w.createContext(null);Dm.displayName="DataRouter";var Db=w.createContext(null);Db.displayName="DataRouterState";var Fee=w.createContext(!1),fF=w.createContext({isTransitioning:!1});fF.displayName="ViewTransition";var $ee=w.createContext(new Map);$ee.displayName="Fetchers";var Bee=w.createContext(null);Bee.displayName="Await";var Sa=w.createContext(null);Sa.displayName="Navigation";var F0=w.createContext(null);F0.displayName="Location";var Pl=w.createContext({outlet:null,matches:[],isDataRoute:!1});Pl.displayName="Route";var sE=w.createContext(null);sE.displayName="RouteError";var pF="REACT_ROUTER_ERROR",Uee="REDIRECT",qee="ROUTE_ERROR_RESPONSE";function zee(e){if(e.startsWith(`${pF}:${Uee}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Vee(e){if(e.startsWith(`${pF}:${qee}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Lee(t.status,t.statusText,t.data)}catch{}}function Wee(e,{relative:t}={}){En(Fm(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(Sa),{hash:s,pathname:i,search:a}=$0(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:xc([r,i])),n.createHref({pathname:l,search:a,hash:s})}function Fm(){return w.useContext(F0)!=null}function Tl(){return En(Fm(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(F0).location}var mF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gF(e){w.useContext(Sa).static||w.useLayoutEffect(e)}function Ks(){let{isDataRoute:e}=w.useContext(Pl);return e?ste():Hee()}function Hee(){En(Fm(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Dm),{basename:t,navigator:r}=w.useContext(Sa),{matches:n}=w.useContext(Pl),{pathname:s}=Tl(),i=JSON.stringify(rE(n)),a=w.useRef(!1);return gF(()=>{a.current=!0}),w.useCallback((c,u={})=>{if(Ka(a.current,mF),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=nE(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:xc([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}w.createContext(null);function $0(e,{relative:t}={}){let{matches:r}=w.useContext(Pl),{pathname:n}=Tl(),s=JSON.stringify(rE(r));return w.useMemo(()=>nE(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function Gee(e,t){return vF(e,t)}function vF(e,t,r,n,s){var b;En(Fm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(Sa),{matches:a}=w.useContext(Pl),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let S=h&&h.path||"";xF(u,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Tl(),f;if(t){let S=typeof t=="string"?Im(t):t;En(d==="/"||((b=S.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),f=S}else f=p;let v=f.pathname||"/",m=v;if(d!=="/"){let S=d.replace(/^\//,"").split("/");m="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=aF(e,{pathname:m});Ka(h||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Ka(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=Zee(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:xc([d,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:xc([d,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),a,r,n,s);return t&&g?w.createElement(F0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},g):g}function Yee(){let e=nte(),t=Mee(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,a)}var Kee=w.createElement(Yee,null),yF=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=Vee(e.digest);r&&(e=r)}let t=e!==void 0?w.createElement(Pl.Provider,{value:this.props.routeContext},w.createElement(sE.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?w.createElement(Jee,{error:e},t):t}};yF.contextType=Fee;var J_=new WeakMap;function Jee({children:e,error:t}){let{basename:r}=w.useContext(Sa);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=zee(t.digest);if(n){let s=J_.get(t);if(s)throw s;let i=dF(n.location,r);if(uF&&!J_.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw J_.set(t,a),a}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function Qee({routeContext:e,match:t,children:r}){let n=w.useContext(Dm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Pl.Provider,{value:e},r)}function Zee(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);En(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:f}=r,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var p,f;n(d,{location:r.location,params:((f=(p=r.matches)==null?void 0:p[0])==null?void 0:f.params)??{},unstable_pattern:Iee(r.matches),errorInfo:h})}:void 0;return i.reduceRight((d,h,p)=>{let f,v=!1,m=null,x=null;r&&(f=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||Kee,l&&(c<0&&p===0?(xF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,p+1)),b=()=>{let S;return f?S=m:v?S=x:h.route.Component?S=w.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,w.createElement(Qee,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:S})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?w.createElement(yF,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):b()},null)}function iE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xee(e){let t=w.useContext(Dm);return En(t,iE(e)),t}function ete(e){let t=w.useContext(Db);return En(t,iE(e)),t}function tte(e){let t=w.useContext(Pl);return En(t,iE(e)),t}function aE(e){let t=tte(e),r=t.matches[t.matches.length-1];return En(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function rte(){return aE("useRouteId")}function nte(){var n;let e=w.useContext(sE),t=ete("useRouteError"),r=aE("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function ste(){let{router:e}=Xee("useNavigate"),t=aE("useNavigate"),r=w.useRef(!1);return gF(()=>{r.current=!0}),w.useCallback(async(s,i={})=>{Ka(r.current,mF),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var OT={};function xF(e,t,r){!t&&!OT[e]&&(OT[e]=!0,Ka(!1,r))}w.memo(ite);function ite({routes:e,future:t,state:r,onError:n}){return vF(e,void 0,r,n,t)}function wx({to:e,replace:t,state:r,relative:n}){En(Fm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(Sa);Ka(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(Pl),{pathname:a}=Tl(),l=Ks(),c=nE(e,rE(i),a,n==="path"),u=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function jr(e){En(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ate({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){En(!Fm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[l,s,i,a]);typeof r=="string"&&(r=Im(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,v=w.useMemo(()=>{let m=Tc(u,l);return m==null?null:{location:{pathname:m,search:d,hash:h,state:p,key:f},navigationType:n}},[l,u,d,h,p,f,n]);return Ka(v!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:w.createElement(Sa.Provider,{value:c},w.createElement(F0.Provider,{children:t,value:v}))}function ote({children:e,location:t}){return Gee(Kj(e),t)}function Kj(e,t=[]){let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,Kj(n.props.children,i));return}En(n.type===jr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),En(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Kj(n.props.children,i)),r.push(a)}),r}var bx="get",_x="application/x-www-form-urlencoded";function Fb(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function lte(e){return Fb(e)&&e.tagName.toLowerCase()==="button"}function cte(e){return Fb(e)&&e.tagName.toLowerCase()==="form"}function ute(e){return Fb(e)&&e.tagName.toLowerCase()==="input"}function dte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hte(e,t){return e.button===0&&(!t||t==="_self")&&!dte(e)}var w1=null;function fte(){if(w1===null)try{new FormData(document.createElement("form"),0),w1=!1}catch{w1=!0}return w1}var pte=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Q_(e){return e!=null&&!pte.has(e)?(Ka(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_x}"`),null):e}function mte(e,t){let r,n,s,i,a;if(cte(e)){let l=e.getAttribute("action");n=l?Tc(l,t):null,r=e.getAttribute("method")||bx,s=Q_(e.getAttribute("enctype"))||_x,i=new FormData(e)}else if(lte(e)||ute(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Tc(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||bx,s=Q_(e.getAttribute("formenctype"))||Q_(l.getAttribute("enctype"))||_x,i=new FormData(l,e),!fte()){let{name:u,type:d,value:h}=e;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,h)}}else{if(Fb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=bx,n=null,s=_x,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gte(e,t,r,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:t&&Tc(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function vte(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yte(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function xte(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await vte(i,r);return a.links?a.links():[]}return[]}));return Ste(n.flat(1).filter(yte).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function LT(e,t,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function wte(e,t,{includeHydrateFallback:r}={}){return bte(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function bte(e){return[...new Set(e)]}function _te(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Ste(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(_te(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function wF(){let e=w.useContext(Dm);return oE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function jte(){let e=w.useContext(Db);return oE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lE=w.createContext(void 0);lE.displayName="FrameworkContext";function bF(){let e=w.useContext(lE);return oE(e,"You must render this element inside a <HydratedRouter> element"),e}function Nte(e,t){let r=w.useContext(lE),[n,s]=w.useState(!1),[i,a]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=w.useRef(null);w.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let m=g=>{g.forEach(b=>{a(b.isIntersecting)})},x=new IntersectionObserver(m,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[e]),w.useEffect(()=>{if(n){let m=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(m)}}},[n]);let f=()=>{s(!0)},v=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:Dg(l,f),onBlur:Dg(c,v),onMouseEnter:Dg(u,f),onMouseLeave:Dg(d,v),onTouchStart:Dg(h,f)}]:[!1,p,{}]}function Dg(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function kte({page:e,...t}){let{router:r}=wF(),n=w.useMemo(()=>aF(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(Ete,{page:e,matches:n,...t}):null}function Cte(e){let{manifest:t,routeModules:r}=bF(),[n,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return xte(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function Ete({page:e,matches:t,...r}){let n=Tl(),{future:s,manifest:i,routeModules:a}=bF(),{basename:l}=wF(),{loaderData:c,matches:u}=jte(),d=w.useMemo(()=>LT(e,t,u,i,n,"data"),[e,t,u,i,n]),h=w.useMemo(()=>LT(e,t,u,i,n,"assets"),[e,t,u,i,n]),p=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,x=!1;if(t.forEach(b=>{var k;let S=i.routes[b.route.id];!S||!S.hasLoader||(!d.some(T=>T.route.id===b.route.id)&&b.route.id in c&&((k=a[b.route.id])!=null&&k.shouldRevalidate)||S.hasClientLoader?x=!0:m.add(b.route.id))}),m.size===0)return[];let g=gte(e,l,s.unstable_trailingSlashAwareDataRequests,"data");return x&&m.size>0&&g.searchParams.set("_routes",t.filter(b=>m.has(b.route.id)).map(b=>b.route.id).join(",")),[g.pathname+g.search]},[l,s.unstable_trailingSlashAwareDataRequests,c,n,i,d,t,e,a]),f=w.useMemo(()=>wte(h,i),[h,i]),v=Cte(h);return w.createElement(w.Fragment,null,p.map(m=>w.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),f.map(m=>w.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),v.map(({key:m,link:x})=>w.createElement("link",{key:m,nonce:r.nonce,...x})))}function Ate(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Pte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pte&&(window.__reactRouterVersion="7.12.0")}catch{}function Tte({basename:e,children:t,unstable_useTransitions:r,window:n}){let s=w.useRef();s.current==null&&(s.current=dee({window:n,v5Compat:!0}));let i=s.current,[a,l]=w.useState({action:i.action,location:i.location}),c=w.useCallback(u=>{r===!1?l(u):w.startTransition(()=>l(u))},[r]);return w.useLayoutEffect(()=>i.listen(c),[i,c]),w.createElement(ate,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:r})}var _F=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hr=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:p,...f},v){let{basename:m,unstable_useTransitions:x}=w.useContext(Sa),g=typeof u=="string"&&_F.test(u),b=dF(u,m);u=b.to;let S=Wee(u,{relative:s}),[k,T,R]=Nte(n,f),O=Mte(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:x});function D(G){t&&t(G),G.defaultPrevented||O(G)}let M=w.createElement("a",{...f,...R,href:b.absoluteURL||S,onClick:b.isExternal||i?t:D,ref:Ate(v,T),target:c,"data-discover":!g&&r==="render"?"true":void 0});return k&&!g?w.createElement(w.Fragment,null,M,w.createElement(kte,{page:S})):M});Hr.displayName="Link";var Rte=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let h=$0(a,{relative:u.relative}),p=Tl(),f=w.useContext(Db),{navigator:v,basename:m}=w.useContext(Sa),x=f!=null&&Bte(h)&&l===!0,g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,b=p.pathname,S=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(b=b.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&m&&(S=Tc(S,m)||S);const k=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let T=b===g||!s&&b.startsWith(g)&&b.charAt(k)==="/",R=S!=null&&(S===g||!s&&S.startsWith(g)&&S.charAt(g.length)==="/"),O={isActive:T,isPending:R,isTransitioning:x},D=T?t:void 0,M;typeof n=="function"?M=n(O):M=[n,T?"active":null,R?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(O):i;return w.createElement(Hr,{...u,"aria-current":D,className:M,ref:d,style:G,to:a,viewTransition:l},typeof c=="function"?c(O):c)});Rte.displayName="NavLink";var Ote=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=bx,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:p,...f},v)=>{let{unstable_useTransitions:m}=w.useContext(Sa),x=Fte(),g=$te(l,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&_F.test(l),k=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let R=T.nativeEvent.submitter,O=(R==null?void 0:R.getAttribute("formmethod"))||a,D=()=>x(R||T.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:p});m&&r!==!1?w.startTransition(()=>D()):D()};return w.createElement("form",{ref:v,method:b,action:g,onSubmit:n?c:k,...f,"data-discover":!S&&e==="render"?"true":void 0})});Ote.displayName="Form";function Lte(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SF(e){let t=w.useContext(Dm);return En(t,Lte(e)),t}function Mte(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=Ks(),d=Tl(),h=$0(e,{relative:i});return w.useCallback(p=>{if(hte(p,t)){p.preventDefault();let f=r!==void 0?r:Zv(d)===Zv(h),v=()=>u(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:l});c?w.startTransition(()=>v()):v()}},[d,u,h,r,n,t,e,s,i,a,l,c])}var Ite=0,Dte=()=>`__${String(++Ite)}__`;function Fte(){let{router:e}=SF("useSubmit"),{basename:t}=w.useContext(Sa),r=rte(),n=e.fetch,s=e.navigate;return w.useCallback(async(i,a={})=>{let{action:l,method:c,encType:u,formData:d,body:h}=mte(i,t);if(a.navigate===!1){let p=a.fetcherKey||Dte();await n(p,r,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await s(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,s,t,r])}function $te(e,{relative:t}={}){let{basename:r}=w.useContext(Sa),n=w.useContext(Pl);En(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...$0(e||".",{relative:t})},a=Tl();if(e==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:xc([r,i.pathname])),Zv(i)}function Bte(e,{relative:t}={}){let r=w.useContext(fF);En(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=SF("useViewTransitionState"),s=$0(e,{relative:t});if(!r.isTransitioning)return!1;let i=Tc(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Tc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return bw(s.pathname,a)!=null||bw(s.pathname,i)!=null}var cl=function(){return cl=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},cl.apply(this,arguments)};function $m(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Ute(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function qte(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const zte=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class cE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Vte extends cE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class MT extends cE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class IT extends cE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jj||(Jj={}));class Wte{constructor(t,{headers:r={},customFetch:n,region:s=Jj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=zte(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ute(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let p={},{region:f}=n;f||(f=this.region);const v=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(p["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(p["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let x=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:m,signal:x}).catch(T=>{throw new Vte(T)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new MT(g);if(!g.ok)throw new IT(g);let S=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return S==="application/json"?k=yield g.json():S==="application/octet-stream"||S==="application/pdf"?k=yield g.blob():S==="text/event-stream"?k=g:S==="multipart/form-data"?k=yield g.formData():k=yield g.text(),{data:k,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof IT||l instanceof MT?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Hte=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Gte=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,p;if(r.method!=="HEAD"){var f;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const m=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");m&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const m=await i.text();try{a=JSON.parse(m),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):a={message:m}}if(a&&r.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new Hte(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,p;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${v}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var f;l=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Yte=class extends Gte{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const DT=new RegExp("[,()]");var zf=class extends Yte{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&DT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&DT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Kte=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new zf({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new zf({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new zf({method:a,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new zf({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new zf({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Jte=class jF{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Kte(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jF(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),h=n&&Object.values(r).some(d);h?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,v])=>v!==void 0).map(([f,v])=>[f,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([f,v])=>{c.searchParams.append(f,v)})):(l="POST",u=r);const p=new Headers(this.headers);return h?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new zf({method:l,url:c,headers:p,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Qte{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Zte="2.90.1",Xte=`realtime-js/${Zte}`,NF="1.0.0",ere="2.0.0",FT=NF,Qj=1e4,tre=1e3,rre=100;var pu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pu||(pu={}));var bs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(bs||(bs={}));var bo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bo||(bo={}));var Zj;(function(e){e.websocket="websocket"})(Zj||(Zj={}));var Gd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Gd||(Gd={}));class nre{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(f),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,c.length),v.setUint8(m++,l.length),v.setUint8(m++,a.length),v.setUint8(m++,u.length),v.setUint8(m++,h.length),v.setUint8(m++,r),Array.from(c,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(l,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(h,g=>v.setUint8(m++,g.charCodeAt(0)));var x=new Uint8Array(f.byteLength+n.byteLength);return x.set(new Uint8Array(f),0),x.set(new Uint8Array(n),f.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+a));c=c+a;const p=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST_EVENT,event:d,payload:f};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class kF{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var un;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(un||(un={}));const $T=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=sre(a,e,t,s),i),{}):{}},sre=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?CF(i,a):Xj(a)},CF=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return lre(t,r)}switch(e){case un.bool:return ire(t);case un.float4:case un.float8:case un.int2:case un.int4:case un.int8:case un.numeric:case un.oid:return are(t);case un.json:case un.jsonb:return ore(t);case un.timestamp:return cre(t);case un.abstime:case un.date:case un.daterange:case un.int4range:case un.int8range:case un.money:case un.reltime:case un.text:case un.time:case un.timestamptz:case un.timetz:case un.tsrange:case un.tstzrange:return Xj(t);default:return Xj(t)}},Xj=e=>e,ire=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},are=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ore=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},lre=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>CF(t,l))}return e},cre=e=>typeof e=="string"?e.replace(" ","T"):e,EF=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Z_{constructor(t,r,n={},s=Qj){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var BT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(BT||(BT={}));class wv{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wv.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=wv.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wv.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const p=d.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),v=d.filter(x=>f.indexOf(x.presence_ref)<0),m=h.filter(x=>p.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var UT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(UT||(UT={}));var bv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bv||(bv={}));var nc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(nc||(nc={}));class cp{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=bs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Z_(this,bo.join,this.params,this.timeout),this.rejoinTimer=new kF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bo.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new wv(this),this.broadcastEndpointURL=EF(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==bs.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[bv.PRESENCE]&&this.bindings[bv.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(nc.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(nc.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(nc.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,x=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,g=[];for(let b=0;b<x;b++){const S=m[b],{filter:{event:k,schema:T,table:R,filter:O}}=S,D=f&&f[b];if(D&&D.event===k&&cp.isFilterValueEqual(D.schema,T)&&cp.isFilterValueEqual(D.table,R)&&cp.isFilterValueEqual(D.filter,O))g.push(Object.assign(Object.assign({},S),{id:D.id}));else{this.unsubscribe(),this.state=bs.errored,t==null||t(nc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(nc.SUBSCRIBED);return}}).receive("error",f=>{this.state=bs.errored,t==null||t(nc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(nc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===bs.joined&&t===bv.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Z_(this,bo.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bs.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Z_(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rre){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=bo;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var v,m,x;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(m=f.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(f=>f.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var v,m,x,g,b,S,k,T;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const R=f.id,O=(v=f.filter)===null||v===void 0?void 0:v.event;return R&&((m=r.ids)===null||m===void 0?void 0:m.includes(R))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((g=f.filter)===null||g===void 0)&&g.table)||f.filter.table===((b=r.data)===null||b===void 0?void 0:b.table))}else{const R=(k=(S=f==null?void 0:f.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return R==="*"||R===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:m,table:x,commit_timestamp:g,type:b,errors:S}=v;p=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:g,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(v))}f.callback(p,n)})}_isClosed(){return this.state===bs.closed}_isJoined(){return this.state===bs.joined}_isJoining(){return this.state===bs.joining}_isLeaving(){return this.state===bs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&cp.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bo.close,{},t)}_onError(t){this._on(bo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=$T(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=$T(t.columns,t.old_record)),r}}const X_=()=>{},b1={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ure=[1e3,2e3,5e3,1e4],dre=1e4,hre=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fre{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qj,this.transport=null,this.heartbeatIntervalMs=b1.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=X_,this.ref=0,this.reconnectTimer=null,this.vsn=FT,this.logger=X_,this.conn=null,this.sendBuffer=[],this.serializer=new nre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Zj.websocket}`,this.httpEndpoint=EF(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qte.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pu.connecting:return Gd.Connecting;case pu.open:return Gd.Open;case pu.closing:return Gd.Closing;default:return Gd.Closed}}isConnected(){return this.connectionState()===Gd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new cp(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(tre,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},b1.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===pu.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===pu.open||this.conn.readyState===pu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(bo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([hre],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Xte};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(bo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new kF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},b1.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,d,h,p,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Qj,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:b1.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:X_,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:FT,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>ure[v-1]||dre,this.vsn){case NF:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,m)=>m(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,m)=>m(JSON.parse(v));break;case ere:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Xv=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pre(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function mre(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function gre(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=pre(e.baseUrl,n,s),c=await mre(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?p:void 0,v=f==null?void 0:f.error;throw new Xv((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:f})}return{status:u.status,headers:u.headers,data:p}}}}function _1(e){return e.join("")}var vre=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:_1(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_1(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_1(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_1(e.namespace)}`}),!0}catch(t){if(t instanceof Xv&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Xv&&r.status===409)return;throw r}}};function Cf(e){return e.join("")}var yre=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cf(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cf(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cf(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cf(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cf(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cf(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Xv&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Xv&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},xre=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=gre({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new vre(this.client,t),this.tableOps=new yre(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},$b=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Rn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var wre=class extends $b{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eN=class extends $b{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const uE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bre=()=>Response,tN=e=>{if(Array.isArray(e))return e.map(r=>tN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=tN(n)}),t},_re=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sre=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function e0(e){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e0(e)}function jre(e,t){if(e0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nre(e){var t=jre(e,"string");return e0(t)=="symbol"?t:t+""}function kre(e,t,r){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){kre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const e5=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Cre=async(e,t,r)=>{e instanceof await bre()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new wre(e5(n),s,i))}).catch(n=>{t(new eN(e5(n),n))}):t(new eN(e5(e),e))},Ere=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(_re(n)?(s.headers=Mt({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Mt(Mt({},s),r))};async function B0(e,t,r,n,s,i){return new Promise((a,l)=>{e(r,Ere(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Cre(c,l,n))})}async function t0(e,t,r,n){return B0(e,"GET",t,r,n)}async function vo(e,t,r,n,s){return B0(e,"POST",t,n,s,r)}async function rN(e,t,r,n,s){return B0(e,"PUT",t,n,s,r)}async function Are(e,t,r,n){return B0(e,"HEAD",t,Mt(Mt({},r),{},{noResolveJson:!0}),n)}async function dE(e,t,r,n,s){return B0(e,"DELETE",t,n,s,r)}var Pre=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}}};let AF;AF=Symbol.toStringTag;var Tre=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[AF]="BlobDownloadBuilder",this.promise=null}asStream(){return new Pre(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}}};const Rre={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ore=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=uE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const a=Mt(Mt({},zT),n);let l=Mt(Mt({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=Mt(Mt({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?rN:vo)(s.fetch,`${s.url}/object/${d}`,i,Mt({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Rn(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let c;const u=Mt({upsert:zT.upsert},n),d=Mt(Mt({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await rN(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Rn(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=Mt({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await vo(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new $b("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await vo(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Rn(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await vo(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Rn(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await vo(n.fetch,`${n.url}/object/sign/${s}`,Mt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Rn(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await vo(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Mt(Mt({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Rn(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>t0(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Tre(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:tN(await t0(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Are(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Rn(n)&&n instanceof eN){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await dE(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=Mt(Mt(Mt({},Rre),t),{},{prefix:e||""});return{data:await vo(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Rn(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=Mt({},e);return{data:await vo(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const PF="2.90.1",TF={"X-Client-Info":`storage-js/${PF}`};var Lre=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Mt(Mt({},TF),t),this.fetch=uE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await t0(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await t0(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await vo(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await rN(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await vo(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await dE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Mre=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Mt(Mt({},TF),t),this.fetch=uE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await vo(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await t0(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await dE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Sre(e))throw new $b("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new xre({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const hE={"X-Client-Info":`storage-js/${PF}`,"Content-Type":"application/json"};var RF=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function la(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var t5=class extends RF{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ire=class extends RF{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const fE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Dre=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},VT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fre=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new t5(VT(i),n,a))}).catch(()=>{const i=n+"";t(new t5(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new t5(s.statusText||`HTTP ${n} error`,n,i))}}else t(new Ire(VT(e),e))},$re=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Dre(n)?(s.headers=Mt({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Mt(Mt({},s),r)):s};async function Bre(e,t,r,n,s,i){return new Promise((a,l)=>{e(r,$re(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>Fre(c,l,n))})}async function ca(e,t,r,n,s){return Bre(e,"POST",t,n,s,r)}var Ure=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Mt(Mt({},hE),t),this.fetch=fE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ca(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await ca(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(la(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await ca(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await ca(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(la(n))return{data:null,error:n};throw n}}},qre=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Mt(Mt({},hE),t),this.fetch=fE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ca(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await ca(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ca(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await ca(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ca(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}}},zre=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Mt(Mt({},hE),t),this.fetch=fE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ca(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ca(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await ca(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ca(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}}},Vre=class extends zre{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Wre(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Wre=class extends Ure{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Mt(Mt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Mt(Mt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Hre(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Hre=class extends qre{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Mt(Mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Mt(Mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Mt(Mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Mt(Mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Mt(Mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Gre=class extends Lre{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Ore(this.url,this.headers,e,this.fetch)}get vectors(){return new Vre(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Mre(this.url+"/iceberg",this.headers,this.fetch)}};const OF="2.90.1",Vf=30*1e3,nN=3,r5=nN*Vf,Yre="http://localhost:9999",Kre="supabase.auth.token",Jre={"X-Client-Info":`gotrue-js/${OF}`},sN="X-Supabase-Api-Version",LF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qre=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zre=10*60*1e3;class r0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function kt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Xre extends r0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ene(e){return kt(e)&&e.name==="AuthApiError"}class Yd extends r0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ic extends r0{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class na extends Ic{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tne(e){return kt(e)&&e.name==="AuthSessionMissingError"}class Ef extends Ic{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class S1 extends Ic{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class j1 extends Ic{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rne(e){return kt(e)&&e.name==="AuthImplicitGrantRedirectError"}class WT extends Ic{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nne extends Ic{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class iN extends Ic{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function n5(e){return kt(e)&&e.name==="AuthRetryableFetchError"}class HT extends Ic{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class aN extends Ic{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),GT=` 	
\r=`.split(""),sne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<GT.length;t+=1)e[GT[t].charCodeAt(0)]=-2;for(let t=0;t<_w.length;t+=1)e[_w[t].charCodeAt(0)]=t;return e})();function YT(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_w[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_w[n]),t.queuedBits-=6}}function MF(e,t,r){const n=sne[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function KT(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{one(a,n,r)};for(let a=0;a<e.length;a+=1)MF(e.charCodeAt(a),s,i);return t.join("")}function ine(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ane(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ine(n,t)}}function one(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wp(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)MF(e.charCodeAt(s),r,n);return new Uint8Array(t)}function lne(e){const t=[];return ane(e,r=>t.push(r)),new Uint8Array(t)}function Xd(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>YT(s,r,n)),YT(null,r,n),t.join("")}function cne(e){return Math.round(Date.now()/1e3)+e}function une(){return Symbol("auth-callback")}const zs=()=>typeof window<"u"&&typeof document<"u",Md={tested:!1,writable:!1},IF=()=>{if(!zs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Md.tested)return Md.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Md.tested=!0,Md.writable=!0}catch{Md.tested=!0,Md.writable=!1}return Md.writable};function dne(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const DF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hne=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Id=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Us=async(e,t)=>{await e.removeItem(t)};class Bb{constructor(){this.promise=new Bb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Bb.promiseConstructor=Promise;function s5(e){const t=e.split(".");if(t.length!==3)throw new aN("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Qre.test(t[n]))throw new aN("JWT not in base64url format");return{header:JSON.parse(KT(t[0])),payload:JSON.parse(KT(t[1])),signature:wp(t[2]),raw:{header:t[0],payload:t[1]}}}async function fne(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pne(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function mne(e){return("0"+e.toString(16)).substr(-2)}function gne(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,mne).join("")}async function vne(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function yne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await vne(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Af(e,t,r=!1){const n=gne();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Wf(e,`${t}-code-verifier`,s);const i=await yne(n);return[i,n===i?"plain":"s256"]}const xne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wne(e){const t=e.headers.get(sN);if(!t||!t.match(xne))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _ne(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Sne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pf(e){if(!Sne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function i5(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jne(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function JT(e){return JSON.parse(JSON.stringify(e))}const zd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Nne=[502,503,504];async function QT(e){var t;if(!hne(e))throw new iN(zd(e),0);if(Nne.includes(e.status))throw new iN(zd(e),e.status);let r;try{r=await e.json()}catch(i){throw new Yd(zd(i),i)}let n;const s=wne(e);if(s&&s.getTime()>=LF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new HT(zd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new na}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new HT(zd(r),e.status,r.weak_password.reasons);throw new Xre(zd(r),e.status||500,n)}const kne=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Lt(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[sN]||(i[sN]=LF["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Cne(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Cne(e,t,r,n,s,i){const a=kne(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new iN(zd(c),0)}if(l.ok||await QT(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await QT(c)}}function fo(e){var t;let r=null;Pne(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=cne(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ZT(e){const t=fo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xu(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ene(e){return{data:e,error:null}}function Ane(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=$m(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function XT(e){return e}function Pne(e){return e.access_token&&e.refresh_token&&e.expires_in}const a5=["global","local","others"];class Tne{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=DF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=a5[0]){if(a5.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${a5.join(", ")}`);try{return await Lt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xu})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=$m(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ane,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(kt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Lt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xu})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:XT});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(kt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Pf(t);try{return await Lt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xu})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Pf(t);try{return await Lt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:xu})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Pf(t);try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:xu})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pf(t.userId);try{const{data:r,error:n}=await Lt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Pf(t.userId),Pf(t.id);try{return{data:await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Lt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:XT});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(kt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Lt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Lt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Lt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Lt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}}function e3(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Tf={debug:!!(globalThis&&IF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class FF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Rne extends FF{}async function One(e,t,r){Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Rne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tf.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Lne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $F(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Mne(e){return parseInt(e,16)}function Ine(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Dne(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=$F(e.address),v=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${f}

${m}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);b+=`
- ${S}`}g+=b}return`${x}
${g}`}class ds extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Sw extends ds{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Fne({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ds({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ds({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ds({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ds({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ds({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ds({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ds({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ds({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(BF(a)){if(i.rp.id!==a)return new ds({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ds({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ds({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ds({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ds({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $ne({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ds({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ds({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(BF(n)){if(r.rpId!==n)return new ds({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ds({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ds({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ds({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Bne{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Une=new Bne;function qne(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=$m(e,["challenge","user","excludeCredentials"]),i=wp(t).buffer,a=Object.assign(Object.assign({},r),{id:wp(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:wp(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function zne(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=$m(e,["challenge","allowCredentials"]),s=wp(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:wp(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Vne(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xd(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Wne(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xd(new Uint8Array(s.authenticatorData)),clientDataJSON:Xd(new Uint8Array(s.clientDataJSON)),signature:Xd(new Uint8Array(s.signature)),userHandle:s.userHandle?Xd(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function t3(){var e,t;return!!(zs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Hne(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sw("Browser returned unexpected credential type",t)}:{data:null,error:new Sw("Empty credential response",t)}}catch(t){return{data:null,error:Fne({error:t,options:e})}}}async function Gne(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sw("Browser returned unexpected credential type",t)}:{data:null,error:new Sw("Empty credential response",t)}}catch(t){return{data:null,error:$ne({error:t,options:e})}}}const Yne={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Kne={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jw(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=jw(l,a):n[i]=jw(a)}else n[i]=a}return n}function Jne(e,t){return jw(Yne,e,t||{})}function Qne(e,t){return jw(Kne,e,t||{})}class Zne{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??Une.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Jne(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await Hne({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Qne(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Gne(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return kt(a)?{data:null,error:a}:{data:null,error:new Yd("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new r0("rpId is required for WebAuthn authentication")};try{if(!t3())return{data:null,error:new Yd("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return kt(a)?{data:null,error:a}:{data:null,error:new Yd("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new r0("rpId is required for WebAuthn registration")};try{if(!t3())return{data:null,error:new Yd("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return kt(a)?{data:null,error:a}:{data:null,error:new Yd("Unexpected error in register",a)}}}}Lne();const Xne={url:Yre,storageKey:Kre,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jre,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function r3(e,t,r){return await r()}const Rf={};class n0{get jwks(){var t,r;return(r=(t=Rf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Rf[this.storageKey]=Object.assign(Object.assign({},Rf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Rf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Rf[this.storageKey]=Object.assign(Object.assign({},Rf[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Xne),t);if(this.storageKey=i.storageKey,this.instanceID=(r=n0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,n0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&zs()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Tne({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=DF(i.fetch),this.lock=i.lock||r3,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&zs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=One:this.lock=r3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zne(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:IF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=e3(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=e3(this.memoryStorage)),zs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${OF}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(zs()&&(r=dne(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),zs()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rne(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return kt(r)?this._returnResult({error:r}):this._returnResult({error:new Yd("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:fo}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(kt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Af(this.storage,this.storageKey)),i=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:v},xform:fo})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:fo})}else throw new S1("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await Us(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ZT})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ZT})}else throw new S1("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Ef;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,d,h,p;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:m,wallet:x,statement:g,options:b}=t;let S;if(zs())if(typeof x=="object")S=x;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")S=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const k=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),T=await S.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=$F(T[0]);let O=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const M=await S.request({method:"eth_chainId"});O=Mne(M)}const D={domain:k.host,address:R,statement:g,uri:k.href,version:"1",chainId:O,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=Dne(D),v=await S.request({method:"personal_sign",params:[Ine(f),R]})}try{const{data:m,error:x}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:fo});if(x)throw x;if(!m||!m.session||!m.user){const g=new Ef;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:x})}catch(m){if(kt(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,h,p,f;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:x,wallet:g,statement:b,options:S}=t;let k;if(zs())if(typeof g=="object")k=g;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))k=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const T=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const R=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),b?{statement:b}:null));let O;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")O=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)O=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)v=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),m=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const R=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=R}}try{const{data:x,error:g}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Xd(m)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:fo});if(g)throw g;if(!x||!x.session||!x.user){const b=new Ef;return this._returnResult({data:{user:null,session:null},error:b})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(kt(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Id(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new nne;const{data:i,error:a}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:fo});if(await Us(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Ef;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:fo}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ef;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Af(this.storage,this.storageKey));const{error:h}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new S1("You must provide either an email or phone number.")}catch(l){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:fo});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(kt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Af(this.storage,this.storageKey));const u=await Lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Ene});return!((i=u.data)===null||i===void 0)&&i.url&&zs()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new na;const{error:s}=await Lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(kt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await Lt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await Lt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new S1("You must provide either an email or phone number and a type")}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Id(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<r5:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Id(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=i5()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=jne(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xu}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new na}:await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:xu})})}catch(r){if(kt(r))return tne(r)&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new na;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Af(this.storage,this.storageKey));const{data:u,error:d}=await Lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:xu});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new na;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=s5(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(kt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new na;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!zs())throw new j1("No browser detected.");if(t.error||t.error_description||t.error_code)throw new j1(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new WT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new j1("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new WT("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new j1("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const f=p-d;f*1e3<=Vf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:m,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(kt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Id(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(ene(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=une(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Af(this.storage,this.storageKey,!0));try{return await Lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Lt(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return zs()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(kt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:fo}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ef}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Lt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await pne(async s=>(s>0&&await fne(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fo})),(s,i)=>{const a=200*Math.pow(2,s);return i&&n5(i)&&Date.now()+a-n<Vf})}catch(n){if(this._debug(r,"error",n),kt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),zs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Id(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Id(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Wf(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:i5()}else if(s&&!s.user&&!s.user){const a=await Id(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Us(this.storage,this.storageKey+"-user"),await Wf(this.storage,this.storageKey,s)):s.user=i5()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<r5;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${r5}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),n5(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new na;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bb;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new na;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),kt(i)){const a={data:null,error:i};return n5(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Us(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Wf(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=JT(s);await Wf(this.storage,this.storageKey,i)}else{const s=JT(r);await Wf(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Us(this.storage,this.storageKey),await Us(this.storage,this.storageKey+"-code-verifier"),await Us(this.storage,this.storageKey+"-user"),this.userStorage&&await Us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Vf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vf}ms, refresh threshold is ${nN} ticks`),s<=nN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof FF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Af(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Lt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Lt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Vne(t.webauthn.credential_response):Wne(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await Lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:qne(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:zne(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=s5(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Lt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new na})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new na});const a=await Lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&zs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(kt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new na});const a=await Lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&zs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(kt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Lt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new na})})}catch(t){if(kt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Lt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new na})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Zre>s)return n;const{data:i,error:a}=await Lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=s5(n);r!=null&&r.allowExpired||bne(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const d=_ne(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,lne(`${l}.${c}`)))throw new aN("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(kt(n))return this._returnResult({data:null,error:n});throw n}}}n0.nextInstanceID={};const ese=n0,tse="2.90.1";let Zg="";typeof Deno<"u"?Zg="deno":typeof document<"u"?Zg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zg="react-native":Zg="node";const rse={"X-Client-Info":`supabase-js-${Zg}/${tse}`},nse={headers:rse},sse={schema:"public"},ise={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ase={};function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function ose(e,t){if(s0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(s0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lse(e){var t=ose(e,"string");return s0(t)=="symbol"?t:t+""}function cse(e,t,r){return(t=lse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(r),!0).forEach(function(n){cse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const use=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dse=()=>Headers,hse=(e,t,r)=>{const n=use(r),s=dse();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,zn(zn({},a),{},{headers:u}))}};function fse(e){return e.endsWith("/")?e:e+"/"}function pse(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:zn(zn({},c),s),auth:zn(zn({},u),i),realtime:zn(zn({},d),a),storage:{},global:zn(zn(zn({},h),l),{},{headers:zn(zn({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function mse(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fse(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gse=class extends ese{constructor(e){super(e)}},vse=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=mse(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:sse,realtime:ase,auth:zn(zn({},ise),{},{storageKey:a}),global:nse},c=pse(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=hse(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(zn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Jte(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Gre(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Wte(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gse({url:this.authUrl.href,headers:zn(zn({},p),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new fre(this.realtimeUrl.href,zn(zn({},e),{},{params:zn(zn({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const yse=(e,t,r)=>new vse(e,t,r);function xse(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}xse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wse="https://fjwwkjtfwlomvuqpochk.supabase.co",bse="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqd3dranRmd2xvbXZ1cXBvY2hrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxODk0NzcsImV4cCI6MjA4Mzc2NTQ3N30.9ZWpneOBq84flxmTv1td3Y0EfA-WvMIskWaI4ux_ccc",Ve=yse(wse,bse,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),UF=w.createContext(void 0),ci=()=>{const e=w.useContext(UF);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},_se=({children:e})=>{const[t,r]=w.useState(null),[n,s]=w.useState(!0),i=d=>{var h,p;return{id:d.id,email:d.email||"",role:((h=d.user_metadata)==null?void 0:h.role)||"patient",fullName:((p=d.user_metadata)==null?void 0:p.full_name)||""}};w.useEffect(()=>{(async()=>{const{data:{session:p}}=await Ve.auth.getSession();r(p!=null&&p.user?i(p.user):null),s(!1)})();const{data:{subscription:h}}=Ve.auth.onAuthStateChange((p,f)=>{r(f!=null&&f.user?i(f.user):null),s(!1)});return()=>h.unsubscribe()},[]);const u={user:t,loading:n,signIn:async(d,h)=>{try{const{data:p,error:f}=await Ve.auth.signInWithPassword({email:d,password:h});if(f)throw f;return{user:p.user?i(p.user):null,error:null}}catch(p){return{user:null,error:p}}},signUp:async(d,h,p,f="patient")=>{try{const{data:v,error:m}=await Ve.auth.signUp({email:d,password:h,options:{data:{full_name:p,role:f}}});if(m)throw m;return{user:v.user?i(v.user):null,error:null}}catch(v){return{user:null,error:v}}},signOut:async()=>{await Ve.auth.signOut(),r(null)}};return o.jsx(UF.Provider,{value:u,children:e})},Sse=({children:e})=>{const{user:t,loading:r}=ci();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(wx,{to:"/patient/login",replace:!0})},cs=({children:e,requiredRole:t})=>{const{user:r,loading:n}=ci(),[s,i]=w.useState(null),[a,l]=w.useState(null),[c,u]=w.useState(!0);return w.useEffect(()=>{n||(async()=>{if(!r){i(!1),u(!1);return}const{data:h}=await Ve.from("user_roles").select("role").eq("user_id",r.id).maybeSingle();h?(i(!0),l(h.role)):i(!1),u(!1)})()},[r,n]),n||c?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r?s?t&&a!==t&&a!=="admin"?o.jsx(wx,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:e}):o.jsx(wx,{to:"/staff/pending",replace:!0}):o.jsx(wx,{to:"/staff/login",replace:!0})},jt=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));jt.displayName="Card";const Ht=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Me("flex flex-col space-y-1.5 p-6",e),...t}));Ht.displayName="CardHeader";const It=w.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:Me("text-2xl font-semibold leading-none tracking-tight",e),...t}));It.displayName="CardTitle";const Ar=w.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));Ar.displayName="CardDescription";const Tt=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Me("p-6 pt-0",e),...t}));Tt.displayName="CardContent";const kl=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Me("flex items-center p-6 pt-0",e),...t}));kl.displayName="CardFooter";const i0=Em("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ke=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const a=n?dD:"button";return o.jsx(a,{className:Me(i0({variant:t,size:r,className:e})),ref:i,...s})});ke.displayName="Button";const jse=Em("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wt({className:e,variant:t,...r}){return o.jsx("div",{className:Me(jse({variant:t}),e),...r})}function wr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Nse=w.createContext(void 0);function hd(e){const t=w.useContext(Nse);return e||t||"ltr"}var kse="DismissableLayer",oN="dismissableLayer.update",Cse="dismissableLayer.pointerDownOutside",Ese="dismissableLayer.focusOutside",s3,qF=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zF=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=w.useContext(qF),[d,h]=w.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=w.useState({}),v=wt(t,O=>h(O)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),b=d?m.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=b>=g,T=Tse(O=>{const D=O.target,M=[...u.branches].some(G=>G.contains(D));!k||M||(s==null||s(O),a==null||a(O),O.defaultPrevented||l==null||l())},p),R=Rse(O=>{const D=O.target;[...u.branches].some(G=>G.contains(D))||(i==null||i(O),a==null||a(O),O.defaultPrevented||l==null||l())},p);return NC(O=>{b===u.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(s3=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),i3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=s3)}},[d,p,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),i3())},[d,u]),w.useEffect(()=>{const O=()=>f({});return document.addEventListener(oN,O),()=>document.removeEventListener(oN,O)},[]),o.jsx(Xe.div,{...c,ref:v,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:wr(e.onFocusCapture,R.onFocusCapture),onBlurCapture:wr(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:wr(e.onPointerDownCapture,T.onPointerDownCapture)})});zF.displayName=kse;var Ase="DismissableLayerBranch",Pse=w.forwardRef((e,t)=>{const r=w.useContext(qF),n=w.useRef(null),s=wt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Xe.div,{...e,ref:s})});Pse.displayName=Ase;function Tse(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){VF(Cse,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Rse(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!n.current&&VF(Ese,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function i3(){const e=new CustomEvent(oN);document.dispatchEvent(e)}function VF(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?O0(s,i):s.dispatchEvent(i)}var o5=0;function Ose(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??a3()),document.body.insertAdjacentElement("beforeend",e[1]??a3()),o5++,()=>{o5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),o5--}},[])}function a3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var l5="focusScope.autoFocusOnMount",c5="focusScope.autoFocusOnUnmount",o3={bubbles:!1,cancelable:!0},Lse="FocusScope",Bm=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=w.useState(null),u=Kr(s),d=Kr(i),h=w.useRef(null),p=wt(t,m=>c(m)),f=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let m=function(S){if(f.paused||!l)return;const k=S.target;l.contains(k)?h.current=k:cu(h.current,{select:!0})},x=function(S){if(f.paused||!l)return;const k=S.relatedTarget;k!==null&&(l.contains(k)||cu(h.current,{select:!0}))},g=function(S){if(document.activeElement===document.body)for(const T of S)T.removedNodes.length>0&&cu(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const b=new MutationObserver(g);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),b.disconnect()}}},[n,l,f.paused]),w.useEffect(()=>{if(l){c3.add(f);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(l5,o3);l.addEventListener(l5,u),l.dispatchEvent(g),g.defaultPrevented||(Mse(Bse(WF(l)),{select:!0}),document.activeElement===m&&cu(l))}return()=>{l.removeEventListener(l5,u),setTimeout(()=>{const g=new CustomEvent(c5,o3);l.addEventListener(c5,d),l.dispatchEvent(g),g.defaultPrevented||cu(m??document.body,{select:!0}),l.removeEventListener(c5,d),c3.remove(f)},0)}}},[l,u,d,f]);const v=w.useCallback(m=>{if(!r&&!n||f.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(x&&g){const b=m.currentTarget,[S,k]=Ise(b);S&&k?!m.shiftKey&&g===k?(m.preventDefault(),r&&cu(S,{select:!0})):m.shiftKey&&g===S&&(m.preventDefault(),r&&cu(k,{select:!0})):g===b&&m.preventDefault()}},[r,n,f.paused]);return o.jsx(Xe.div,{tabIndex:-1,...a,ref:p,onKeyDown:v})});Bm.displayName=Lse;function Mse(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(cu(n,{select:t}),document.activeElement!==r)return}function Ise(e){const t=WF(e),r=l3(t,e),n=l3(t.reverse(),e);return[r,n]}function WF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function l3(e,t){for(const r of e)if(!Dse(r,{upTo:t}))return r}function Dse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Fse(e){return e instanceof HTMLInputElement&&"select"in e}function cu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Fse(e)&&t&&e.select()}}var c3=$se();function $se(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=u3(e,t),e.unshift(t)},remove(t){var r;e=u3(e,t),(r=e[0])==null||r.resume()}}}function u3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Bse(e){return e.filter(t=>t.tagName!=="A")}var pE="Popper",[HF,GF]=is(pE),[Use,YF]=HF(pE),KF=e=>{const{__scopePopper:t,children:r}=e,[n,s]=w.useState(null);return o.jsx(Use,{scope:t,anchor:n,onAnchorChange:s,children:r})};KF.displayName=pE;var JF="PopperAnchor",QF=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=YF(JF,r),a=w.useRef(null),l=wt(t,a),c=w.useRef(null);return w.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||a.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:o.jsx(Xe.div,{...s,ref:l})});QF.displayName=JF;var mE="PopperContent",[qse,zse]=HF(mE),ZF=w.forwardRef((e,t)=>{var F,Q,se,le,ue,fe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...m}=e,x=YF(mE,r),[g,b]=w.useState(null),S=wt(t,_e=>b(_e)),[k,T]=w.useState(null),R=Ob(k),O=(R==null?void 0:R.width)??0,D=(R==null?void 0:R.height)??0,M=n+(i!=="center"?"-"+i:""),G=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],I=A.length>0,$={padding:G,boundary:A.filter(Wse),altBoundary:I},{refs:q,floatingStyles:ee,placement:ne,isPositioned:te,middlewareData:W}=x8({strategy:"fixed",placement:M,whileElementsMounted:(..._e)=>v8(..._e,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[w8({mainAxis:s+D,alignmentAxis:a}),c&&b8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?_8():void 0,...$}),c&&S8({...$}),j8({...$,apply:({elements:_e,rects:Ie,availableWidth:J,availableHeight:De})=>{const{width:Ye,height:Ke}=Ie.reference,me=_e.floating.style;me.setProperty("--radix-popper-available-width",`${J}px`),me.setProperty("--radix-popper-available-height",`${De}px`),me.setProperty("--radix-popper-anchor-width",`${Ye}px`),me.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),k&&k8({element:k,padding:l}),Hse({arrowWidth:O,arrowHeight:D}),p&&N8({strategy:"referenceHidden",...$})]}),[Z,pe]=t7(ne),ve=Kr(v);Xr(()=>{te&&(ve==null||ve())},[te,ve]);const U=(F=W.arrow)==null?void 0:F.x,_=(Q=W.arrow)==null?void 0:Q.y,C=((se=W.arrow)==null?void 0:se.centerOffset)!==0,[E,B]=w.useState();return Xr(()=>{g&&B(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:te?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(le=W.transformOrigin)==null?void 0:le.x,(ue=W.transformOrigin)==null?void 0:ue.y].join(" "),...((fe=W.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(qse,{scope:r,placedSide:Z,onArrowChange:T,arrowX:U,arrowY:_,shouldHideArrow:C,children:o.jsx(Xe.div,{"data-side":Z,"data-align":pe,...m,ref:S,style:{...m.style,animation:te?void 0:"none"}})})})});ZF.displayName=mE;var XF="PopperArrow",Vse={top:"bottom",right:"left",bottom:"top",left:"right"},e7=w.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=zse(XF,n),a=Vse[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(E8,{...s,ref:r,style:{...s.style,display:"block"}})})});e7.displayName=XF;function Wse(e){return e!==null}var Hse=e=>({name:"transformOrigin",options:e,fn(t){var x,g,b;const{placement:r,rects:n,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=t7(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,f=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=a?h:`${p}px`,m=`${-c}px`):u==="top"?(v=a?h:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=a?h:`${f}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=a?h:`${f}px`),{data:{x:v,y:m}}}});function t7(e){const[t,r="center"]=e.split("-");return[t,r]}var Gse=KF,Yse=QF,Kse=ZF,Jse=e7;function Qse(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var U0=e=>{const{present:t,children:r}=e,n=Zse(t),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=wt(n.ref,Xse(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:i}):null};U0.displayName="Presence";function Zse(e){const[t,r]=w.useState(),n=w.useRef(null),s=w.useRef(e),i=w.useRef("none"),a=e?"mounted":"unmounted",[l,c]=Qse(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=N1(n.current);i.current=l==="mounted"?u:"none"},[l]),Xr(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=N1(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Xr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=N1(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=f=>{f.target===t&&(i.current=N1(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function N1(e){return(e==null?void 0:e.animationName)||"none"}function Xse(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var u5="rovingFocusGroup.onEntryFocus",eie={bubbles:!1,cancelable:!0},q0="RovingFocusGroup",[lN,r7,tie]=km(q0),[rie,n7]=is(q0,[tie]),[nie,sie]=rie(q0),s7=w.forwardRef((e,t)=>o.jsx(lN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(lN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(iie,{...e,ref:t})})}));s7.displayName=q0;var iie=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=w.useRef(null),f=wt(t,p),v=hd(i),[m,x]=va({prop:a,defaultProp:l??null,onChange:c,caller:q0}),[g,b]=w.useState(!1),S=Kr(u),k=r7(r),T=w.useRef(!1),[R,O]=w.useState(0);return w.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(u5,S),()=>D.removeEventListener(u5,S)},[S]),o.jsx(nie,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:w.useCallback(D=>x(D),[x]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:w.useCallback(()=>O(D=>D-1),[]),children:o.jsx(Xe.div,{tabIndex:g||R===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:wr(e.onMouseDown,()=>{T.current=!0}),onFocus:wr(e.onFocus,D=>{const M=!T.current;if(D.target===D.currentTarget&&M&&!g){const G=new CustomEvent(u5,eie);if(D.currentTarget.dispatchEvent(G),!G.defaultPrevented){const A=k().filter(ne=>ne.focusable),I=A.find(ne=>ne.active),$=A.find(ne=>ne.id===m),ee=[I,$,...A].filter(Boolean).map(ne=>ne.ref.current);o7(ee,d)}}T.current=!1}),onBlur:wr(e.onBlur,()=>b(!1))})})}),i7="RovingFocusGroupItem",a7=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=oi(),u=i||c,d=sie(i7,r),h=d.currentTabStopId===u,p=r7(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return w.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),o.jsx(lN.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(Xe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:wr(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:wr(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:wr(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=lie(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(k=>k.focusable).map(k=>k.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const k=S.indexOf(x.currentTarget);S=d.loop?cie(S,k+1):S.slice(k+1)}setTimeout(()=>o7(S))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:m!=null}):a})})});a7.displayName=i7;var aie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oie(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function lie(e,t,r){const n=oie(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return aie[n]}function o7(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function cie(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var uie=s7,die=a7,hie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Of=new WeakMap,k1=new WeakMap,C1={},d5=0,l7=function(e){return e&&(e.host||l7(e.parentNode))},fie=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=l7(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},pie=function(e,t,r,n){var s=fie(t,Array.isArray(e)?e:[e]);C1[r]||(C1[r]=new WeakMap);var i=C1[r],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var f=p.getAttribute(n),v=f!==null&&f!=="false",m=(Of.get(p)||0)+1,x=(i.get(p)||0)+1;Of.set(p,m),i.set(p,x),a.push(p),m===1&&v&&k1.set(p,!0),x===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return d(t),l.clear(),d5++,function(){a.forEach(function(h){var p=Of.get(h)-1,f=i.get(h)-1;Of.set(h,p),i.set(h,f),p||(k1.has(h)||h.removeAttribute(n),k1.delete(h)),f||h.removeAttribute(r)}),d5--,d5||(Of=new WeakMap,Of=new WeakMap,k1=new WeakMap,C1={})}},z0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=hie(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),pie(n,s,r,"aria-hidden")):function(){return null}},Sx="right-scroll-bar-position",jx="width-before-scroll-bar",mie="with-scroll-bars-hidden",gie="--removed-body-scroll-bar-size";function h5(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vie(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var yie=typeof window<"u"?w.useLayoutEffect:w.useEffect,d3=new WeakMap;function xie(e,t){var r=vie(null,function(n){return e.forEach(function(s){return h5(s,n)})});return yie(function(){var n=d3.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(l){i.has(l)||h5(l,null)}),i.forEach(function(l){s.has(l)||h5(l,a)})}d3.set(r,e)},[e]),r}function wie(e){return e}function bie(e,t){t===void 0&&(t=wie);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function _ie(e){e===void 0&&(e={});var t=bie(null);return t.options=cl({async:!0,ssr:!1},e),t}var c7=function(e){var t=e.sideCar,r=$m(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,cl({},r))};c7.isSideCarExport=!0;function Sie(e,t){return e.useMedium(t),c7}var u7=_ie(),f5=function(){},Ub=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:f5,onWheelCapture:f5,onTouchMoveCapture:f5}),s=n[0],i=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,v=e.noIsolation,m=e.inert,x=e.allowPinchZoom,g=e.as,b=g===void 0?"div":g,S=e.gapMode,k=$m(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=p,R=xie([r,t]),O=cl(cl({},k),s);return w.createElement(w.Fragment,null,d&&w.createElement(T,{sideCar:u7,removeScrollBar:u,shards:h,noRelative:f,noIsolation:v,inert:m,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:S}),a?w.cloneElement(w.Children.only(l),cl(cl({},O),{ref:R})):w.createElement(b,cl({},O,{className:c,ref:R}),l))});Ub.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ub.classNames={fullWidth:jx,zeroRight:Sx};var jie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Nie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=jie();return t&&e.setAttribute("nonce",t),e}function kie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Cie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Eie=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Nie())&&(kie(t,r),Cie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Aie=function(){var e=Eie();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},d7=function(){var e=Aie(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},Pie={left:0,top:0,right:0,gap:0},p5=function(e){return parseInt(e||"",10)||0},Tie=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[p5(r),p5(n),p5(s)]},Rie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Pie;var t=Tie(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Oie=d7(),bp="data-scroll-locked",Lie=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(mie,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(bp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sx,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(jx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sx," .").concat(Sx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(jx," .").concat(jx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(bp,`] {
    `).concat(gie,": ").concat(l,`px;
  }
`)},h3=function(){var e=parseInt(document.body.getAttribute(bp)||"0",10);return isFinite(e)?e:0},Mie=function(){w.useEffect(function(){return document.body.setAttribute(bp,(h3()+1).toString()),function(){var e=h3()-1;e<=0?document.body.removeAttribute(bp):document.body.setAttribute(bp,e.toString())}},[])},Iie=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;Mie();var i=w.useMemo(function(){return Rie(s)},[s]);return w.createElement(Oie,{styles:Lie(i,!t,s,r?"":"!important")})},cN=!1;if(typeof window<"u")try{var E1=Object.defineProperty({},"passive",{get:function(){return cN=!0,!0}});window.addEventListener("test",E1,E1),window.removeEventListener("test",E1,E1)}catch{cN=!1}var Lf=cN?{passive:!1}:!1,Die=function(e){return e.tagName==="TEXTAREA"},h7=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Die(e)&&r[t]==="visible")},Fie=function(e){return h7(e,"overflowY")},$ie=function(e){return h7(e,"overflowX")},f3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=f7(e,n);if(s){var i=p7(e,n),a=i[1],l=i[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Bie=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Uie=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},f7=function(e,t){return e==="v"?Fie(t):$ie(t)},p7=function(e,t){return e==="v"?Bie(t):Uie(t)},qie=function(e,t){return e==="h"&&t==="rtl"?-1:1},zie=function(e,t,r,n,s){var i=qie(e,window.getComputedStyle(t).direction),a=i*n,l=r.target,c=t.contains(l),u=!1,d=a>0,h=0,p=0;do{if(!l)break;var f=p7(e,l),v=f[0],m=f[1],x=f[2],g=m-x-i*v;(v||g)&&f7(e,l)&&(h+=g,p+=v);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},A1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},p3=function(e){return[e.deltaX,e.deltaY]},m3=function(e){return e&&"current"in e?e.current:e},Vie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Wie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Hie=0,Mf=[];function Gie(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),s=w.useState(Hie++)[0],i=w.useState(d7)[0],a=w.useRef(e);w.useEffect(function(){a.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=qte([e.lockRef.current],(e.shards||[]).map(m3),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var g=A1(m),b=r.current,S="deltaX"in m?m.deltaX:b[0]-g[0],k="deltaY"in m?m.deltaY:b[1]-g[1],T,R=m.target,O=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in m&&O==="h"&&R.type==="range")return!1;var D=f3(O,R);if(!D)return!0;if(D?T=O:(T=O==="v"?"h":"v",D=f3(O,R)),!D)return!1;if(!n.current&&"changedTouches"in m&&(S||k)&&(n.current=T),!T)return!0;var M=n.current||T;return zie(M,x,m,M==="h"?S:k,!0)},[]),c=w.useCallback(function(m){var x=m;if(!(!Mf.length||Mf[Mf.length-1]!==i)){var g="deltaY"in x?p3(x):A1(x),b=t.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&Vie(T.delta,g)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var S=(a.current.shards||[]).map(m3).filter(Boolean).filter(function(T){return T.contains(x.target)}),k=S.length>0?l(x,S[0]):!a.current.noIsolation;k&&x.cancelable&&x.preventDefault()}}},[]),u=w.useCallback(function(m,x,g,b){var S={name:m,delta:x,target:g,should:b,shadowParent:Yie(g)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(k){return k!==S})},1)},[]),d=w.useCallback(function(m){r.current=A1(m),n.current=void 0},[]),h=w.useCallback(function(m){u(m.type,p3(m),m.target,l(m,e.lockRef.current))},[]),p=w.useCallback(function(m){u(m.type,A1(m),m.target,l(m,e.lockRef.current))},[]);w.useEffect(function(){return Mf.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Lf),document.addEventListener("touchmove",c,Lf),document.addEventListener("touchstart",d,Lf),function(){Mf=Mf.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Lf),document.removeEventListener("touchmove",c,Lf),document.removeEventListener("touchstart",d,Lf)}},[]);var f=e.removeScrollBar,v=e.inert;return w.createElement(w.Fragment,null,v?w.createElement(i,{styles:Wie(s)}):null,f?w.createElement(Iie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Yie(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Kie=Sie(u7,Gie);var Um=w.forwardRef(function(e,t){return w.createElement(Ub,cl({},e,{ref:t,sideCar:Kie}))});Um.classNames=Ub.classNames;var uN=["Enter"," "],Jie=["ArrowDown","PageUp","Home"],m7=["ArrowUp","PageDown","End"],Qie=[...Jie,...m7],Zie={ltr:[...uN,"ArrowRight"],rtl:[...uN,"ArrowLeft"]},Xie={ltr:["ArrowLeft"],rtl:["ArrowRight"]},V0="Menu",[a0,eae,tae]=km(V0),[Xh,g7]=is(V0,[tae,GF,n7]),qb=GF(),v7=n7(),[rae,ef]=Xh(V0),[nae,W0]=Xh(V0),y7=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:a=!0}=e,l=qb(t),[c,u]=w.useState(null),d=w.useRef(!1),h=Kr(i),p=hd(s);return w.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(Gse,{...l,children:o.jsx(rae,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(nae,{scope:t,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:a,children:n})})})};y7.displayName=V0;var sae="MenuAnchor",gE=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=qb(r);return o.jsx(Yse,{...s,...n,ref:t})});gE.displayName=sae;var vE="MenuPortal",[iae,x7]=Xh(vE,{forceMount:void 0}),w7=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=ef(vE,t);return o.jsx(iae,{scope:t,forceMount:r,children:o.jsx(U0,{present:r||i.open,children:o.jsx(Jh,{asChild:!0,container:s,children:n})})})};w7.displayName=vE;var Wa="MenuContent",[aae,yE]=Xh(Wa),b7=w.forwardRef((e,t)=>{const r=x7(Wa,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=ef(Wa,e.__scopeMenu),a=W0(Wa,e.__scopeMenu);return o.jsx(a0.Provider,{scope:e.__scopeMenu,children:o.jsx(U0,{present:n||i.open,children:o.jsx(a0.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(oae,{...s,ref:t}):o.jsx(lae,{...s,ref:t})})})})}),oae=w.forwardRef((e,t)=>{const r=ef(Wa,e.__scopeMenu),n=w.useRef(null),s=wt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return z0(i)},[]),o.jsx(xE,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:wr(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),lae=w.forwardRef((e,t)=>{const r=ef(Wa,e.__scopeMenu);return o.jsx(xE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),cae=Cc("MenuContent.ScrollLock"),xE=w.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,disableOutsideScroll:v,...m}=e,x=ef(Wa,r),g=W0(Wa,r),b=qb(r),S=v7(r),k=eae(r),[T,R]=w.useState(null),O=w.useRef(null),D=wt(t,O,x.onContentChange),M=w.useRef(0),G=w.useRef(""),A=w.useRef(0),I=w.useRef(null),$=w.useRef("right"),q=w.useRef(0),ee=v?Um:w.Fragment,ne=v?{as:cae,allowPinchZoom:!0}:void 0,te=Z=>{var F,Q;const pe=G.current+Z,ve=k().filter(se=>!se.disabled),U=document.activeElement,_=(F=ve.find(se=>se.ref.current===U))==null?void 0:F.textValue,C=ve.map(se=>se.textValue),E=bae(C,pe,_),B=(Q=ve.find(se=>se.textValue===E))==null?void 0:Q.ref.current;(function se(le){G.current=le,window.clearTimeout(M.current),le!==""&&(M.current=window.setTimeout(()=>se(""),1e3))})(pe),B&&setTimeout(()=>B.focus())};w.useEffect(()=>()=>window.clearTimeout(M.current),[]),Ose();const W=w.useCallback(Z=>{var ve,U;return $.current===((ve=I.current)==null?void 0:ve.side)&&Sae(Z,(U=I.current)==null?void 0:U.area)},[]);return o.jsx(aae,{scope:r,searchRef:G,onItemEnter:w.useCallback(Z=>{W(Z)&&Z.preventDefault()},[W]),onItemLeave:w.useCallback(Z=>{var pe;W(Z)||((pe=O.current)==null||pe.focus(),R(null))},[W]),onTriggerLeave:w.useCallback(Z=>{W(Z)&&Z.preventDefault()},[W]),pointerGraceTimerRef:A,onPointerGraceIntentChange:w.useCallback(Z=>{I.current=Z},[]),children:o.jsx(ee,{...ne,children:o.jsx(Bm,{asChild:!0,trapped:s,onMountAutoFocus:wr(i,Z=>{var pe;Z.preventDefault(),(pe=O.current)==null||pe.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(zF,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,children:o.jsx(uie,{asChild:!0,...S,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:R,onEntryFocus:wr(c,Z=>{g.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Kse,{role:"menu","aria-orientation":"vertical","data-state":D7(x.open),"data-radix-menu-content":"",dir:g.dir,...b,...m,ref:D,style:{outline:"none",...m.style},onKeyDown:wr(m.onKeyDown,Z=>{const ve=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,U=Z.ctrlKey||Z.altKey||Z.metaKey,_=Z.key.length===1;ve&&(Z.key==="Tab"&&Z.preventDefault(),!U&&_&&te(Z.key));const C=O.current;if(Z.target!==C||!Qie.includes(Z.key))return;Z.preventDefault();const B=k().filter(F=>!F.disabled).map(F=>F.ref.current);m7.includes(Z.key)&&B.reverse(),xae(B)}),onBlur:wr(e.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(M.current),G.current="")}),onPointerMove:wr(e.onPointerMove,o0(Z=>{const pe=Z.target,ve=q.current!==Z.clientX;if(Z.currentTarget.contains(pe)&&ve){const U=Z.clientX>q.current?"right":"left";$.current=U,q.current=Z.clientX}}))})})})})})})});b7.displayName=Wa;var uae="MenuGroup",wE=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Xe.div,{role:"group",...n,ref:t})});wE.displayName=uae;var dae="MenuLabel",_7=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Xe.div,{...n,ref:t})});_7.displayName=dae;var Nw="MenuItem",g3="menu.itemSelect",zb=w.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=w.useRef(null),a=W0(Nw,e.__scopeMenu),l=yE(Nw,e.__scopeMenu),c=wt(t,i),u=w.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const p=new CustomEvent(g3,{bubbles:!0,cancelable:!0});h.addEventListener(g3,f=>n==null?void 0:n(f),{once:!0}),O0(h,p),p.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(S7,{...s,ref:c,disabled:r,onClick:wr(e.onClick,d),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),u.current=!0},onPointerUp:wr(e.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:wr(e.onKeyDown,h=>{const p=l.searchRef.current!=="";r||p&&h.key===" "||uN.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});zb.displayName=Nw;var S7=w.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,a=yE(Nw,r),l=v7(r),c=w.useRef(null),u=wt(t,c),[d,h]=w.useState(!1),[p,f]=w.useState("");return w.useEffect(()=>{const v=c.current;v&&f((v.textContent??"").trim())},[i.children]),o.jsx(a0.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:o.jsx(die,{asChild:!0,...l,focusable:!n,children:o.jsx(Xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:wr(e.onPointerMove,o0(v=>{n?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:wr(e.onPointerLeave,o0(v=>a.onItemLeave(v))),onFocus:wr(e.onFocus,()=>h(!0)),onBlur:wr(e.onBlur,()=>h(!1))})})})}),hae="MenuCheckboxItem",j7=w.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(A7,{scope:e.__scopeMenu,checked:r,children:o.jsx(zb,{role:"menuitemcheckbox","aria-checked":kw(r)?"mixed":r,...s,ref:t,"data-state":_E(r),onSelect:wr(s.onSelect,()=>n==null?void 0:n(kw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});j7.displayName=hae;var N7="MenuRadioGroup",[fae,pae]=Xh(N7,{value:void 0,onValueChange:()=>{}}),k7=w.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Kr(n);return o.jsx(fae,{scope:e.__scopeMenu,value:r,onValueChange:i,children:o.jsx(wE,{...s,ref:t})})});k7.displayName=N7;var C7="MenuRadioItem",E7=w.forwardRef((e,t)=>{const{value:r,...n}=e,s=pae(C7,e.__scopeMenu),i=r===s.value;return o.jsx(A7,{scope:e.__scopeMenu,checked:i,children:o.jsx(zb,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":_E(i),onSelect:wr(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});E7.displayName=C7;var bE="MenuItemIndicator",[A7,mae]=Xh(bE,{checked:!1}),P7=w.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=mae(bE,r);return o.jsx(U0,{present:n||kw(i.checked)||i.checked===!0,children:o.jsx(Xe.span,{...s,ref:t,"data-state":_E(i.checked)})})});P7.displayName=bE;var gae="MenuSeparator",T7=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});T7.displayName=gae;var vae="MenuArrow",R7=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=qb(r);return o.jsx(Jse,{...s,...n,ref:t})});R7.displayName=vae;var yae="MenuSub",[C2e,O7]=Xh(yae),Xg="MenuSubTrigger",L7=w.forwardRef((e,t)=>{const r=ef(Xg,e.__scopeMenu),n=W0(Xg,e.__scopeMenu),s=O7(Xg,e.__scopeMenu),i=yE(Xg,e.__scopeMenu),a=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(gE,{asChild:!0,...u,children:o.jsx(S7,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":D7(r.open),...e,ref:R0(t,s.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:wr(e.onPointerMove,o0(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:wr(e.onPointerLeave,o0(h=>{var f,v;d();const p=(f=r.content)==null?void 0:f.getBoundingClientRect();if(p){const m=(v=r.content)==null?void 0:v.dataset.side,x=m==="right",g=x?-5:5,b=p[x?"left":"right"],S=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:b,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:b,y:p.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:wr(e.onKeyDown,h=>{var f;const p=i.searchRef.current!=="";e.disabled||p&&h.key===" "||Zie[n.dir].includes(h.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),h.preventDefault())})})})});L7.displayName=Xg;var M7="MenuSubContent",I7=w.forwardRef((e,t)=>{const r=x7(Wa,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=ef(Wa,e.__scopeMenu),a=W0(Wa,e.__scopeMenu),l=O7(M7,e.__scopeMenu),c=w.useRef(null),u=wt(t,c);return o.jsx(a0.Provider,{scope:e.__scopeMenu,children:o.jsx(U0,{present:n||i.open,children:o.jsx(a0.Slot,{scope:e.__scopeMenu,children:o.jsx(xE,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:wr(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:wr(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:wr(e.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),p=Xie[a.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),d.preventDefault())})})})})})});I7.displayName=M7;function D7(e){return e?"open":"closed"}function kw(e){return e==="indeterminate"}function _E(e){return kw(e)?"indeterminate":e?"checked":"unchecked"}function xae(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function wae(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function bae(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=wae(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function _ae(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function Sae(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return _ae(r,t)}function o0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var jae=y7,Nae=gE,kae=w7,Cae=b7,Eae=wE,Aae=_7,Pae=zb,Tae=j7,Rae=k7,Oae=E7,Lae=P7,Mae=T7,Iae=R7,Dae=L7,Fae=I7,Vb="DropdownMenu",[$ae,E2e]=is(Vb,[g7]),Ai=g7(),[Bae,F7]=$ae(Vb),$7=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,c=Ai(t),u=w.useRef(null),[d,h]=va({prop:s,defaultProp:i??!1,onChange:a,caller:Vb});return o.jsx(Bae,{scope:t,triggerId:oi(),triggerRef:u,contentId:oi(),open:d,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(p=>!p),[h]),modal:l,children:o.jsx(jae,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};$7.displayName=Vb;var B7="DropdownMenuTrigger",U7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=F7(B7,r),a=Ai(r);return o.jsx(Nae,{asChild:!0,...a,children:o.jsx(Xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:R0(t,i.triggerRef),onPointerDown:wr(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:wr(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});U7.displayName=B7;var Uae="DropdownMenuPortal",q7=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ai(t);return o.jsx(kae,{...n,...r})};q7.displayName=Uae;var z7="DropdownMenuContent",V7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=F7(z7,r),i=Ai(r),a=w.useRef(!1);return o.jsx(Cae,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:wr(e.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:wr(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V7.displayName=z7;var qae="DropdownMenuGroup",zae=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ai(r);return o.jsx(Eae,{...s,...n,ref:t})});zae.displayName=qae;var Vae="DropdownMenuLabel",W7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ai(r);return o.jsx(Aae,{...s,...n,ref:t})});W7.displayName=Vae;var Wae="DropdownMenuItem",H7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ai(r);return o.jsx(Pae,{...s,...n,ref:t})});H7.displayName=Wae;var Hae="DropdownMenuCheckboxItem",G7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ai(r);return o.jsx(Tae,{...s,...n,ref:t})});G7.displayName=Hae;var Gae="DropdownMenuRadioGroup",Yae=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ai(r);return o.jsx(Rae,{...s,...n,ref:t})});Yae.displayName=Gae;var Kae="DropdownMenuRadioItem",Y7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ai(r);return o.jsx(Oae,{...s,...n,ref:t})});Y7.displayName=Kae;var Jae="DropdownMenuItemIndicator",K7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ai(r);return o.jsx(Lae,{...s,...n,ref:t})});K7.displayName=Jae;var Qae="DropdownMenuSeparator",J7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ai(r);return o.jsx(Mae,{...s,...n,ref:t})});J7.displayName=Qae;var Zae="DropdownMenuArrow",Xae=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ai(r);return o.jsx(Iae,{...s,...n,ref:t})});Xae.displayName=Zae;var eoe="DropdownMenuSubTrigger",Q7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ai(r);return o.jsx(Dae,{...s,...n,ref:t})});Q7.displayName=eoe;var toe="DropdownMenuSubContent",Z7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ai(r);return o.jsx(Fae,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Z7.displayName=toe;var roe=$7,noe=U7,soe=q7,X7=V7,e$=W7,t$=H7,r$=G7,n$=Y7,s$=K7,i$=J7,a$=Q7,o$=Z7;const rd=roe,nd=noe,ioe=w.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(a$,{ref:s,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(lp,{className:"ml-auto h-4 w-4"})]}));ioe.displayName=a$.displayName;const aoe=w.forwardRef(({className:e,...t},r)=>o.jsx(o$,{ref:r,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));aoe.displayName=o$.displayName;const Rc=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(soe,{children:o.jsx(X7,{ref:n,sideOffset:t,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Rc.displayName=X7.displayName;const hn=w.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(t$,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));hn.displayName=t$.displayName;const ooe=w.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(r$,{ref:s,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(s$,{children:o.jsx(AC,{className:"h-4 w-4"})})}),t]}));ooe.displayName=r$.displayName;const loe=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(n$,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(s$,{children:o.jsx(WD,{className:"h-2 w-2 fill-current"})})}),t]}));loe.displayName=n$.displayName;const SE=w.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(e$,{ref:n,className:Me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));SE.displayName=e$.displayName;const nm=w.forwardRef(({className:e,...t},r)=>o.jsx(i$,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));nm.displayName=i$.displayName;function Hu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var coe="DismissableLayer",dN="dismissableLayer.update",uoe="dismissableLayer.pointerDownOutside",doe="dismissableLayer.focusOutside",v3,l$=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),c$=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=w.useContext(l$),[d,h]=w.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=w.useState({}),v=wt(t,O=>h(O)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),b=d?m.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=b>=g,T=poe(O=>{const D=O.target,M=[...u.branches].some(G=>G.contains(D));!k||M||(s==null||s(O),a==null||a(O),O.defaultPrevented||l==null||l())},p),R=moe(O=>{const D=O.target;[...u.branches].some(G=>G.contains(D))||(i==null||i(O),a==null||a(O),O.defaultPrevented||l==null||l())},p);return NC(O=>{b===u.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(v3=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),y3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=v3)}},[d,p,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),y3())},[d,u]),w.useEffect(()=>{const O=()=>f({});return document.addEventListener(dN,O),()=>document.removeEventListener(dN,O)},[]),o.jsx(Xe.div,{...c,ref:v,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:Hu(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Hu(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Hu(e.onPointerDownCapture,T.onPointerDownCapture)})});c$.displayName=coe;var hoe="DismissableLayerBranch",foe=w.forwardRef((e,t)=>{const r=w.useContext(l$),n=w.useRef(null),s=wt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Xe.div,{...e,ref:s})});foe.displayName=hoe;function poe(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){u$(uoe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function moe(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!n.current&&u$(doe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function y3(){const e=new CustomEvent(dN);document.dispatchEvent(e)}function u$(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?O0(s,i):s.dispatchEvent(i)}function goe(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var Wb=e=>{const{present:t,children:r}=e,n=voe(t),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=wt(n.ref,yoe(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:i}):null};Wb.displayName="Presence";function voe(e){const[t,r]=w.useState(),n=w.useRef(null),s=w.useRef(e),i=w.useRef("none"),a=e?"mounted":"unmounted",[l,c]=goe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=P1(n.current);i.current=l==="mounted"?u:"none"},[l]),Xr(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=P1(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Xr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=P1(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=f=>{f.target===t&&(i.current=P1(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function P1(e){return(e==null?void 0:e.animationName)||"none"}function yoe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var m5=0;function xoe(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??x3()),document.body.insertAdjacentElement("beforeend",e[1]??x3()),m5++,()=>{m5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),m5--}},[])}function x3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hb="Dialog",[d$,A2e]=is(Hb),[woe,Bo]=d$(Hb),h$=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=va({prop:n,defaultProp:s??!1,onChange:i,caller:Hb});return o.jsx(woe,{scope:t,triggerRef:l,contentRef:c,contentId:oi(),titleId:oi(),descriptionId:oi(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};h$.displayName=Hb;var f$="DialogTrigger",p$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bo(f$,r),i=wt(t,s.triggerRef);return o.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kE(s.open),...n,ref:i,onClick:Hu(e.onClick,s.onOpenToggle)})});p$.displayName=f$;var jE="DialogPortal",[boe,m$]=d$(jE,{forceMount:void 0}),g$=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Bo(jE,t);return o.jsx(boe,{scope:t,forceMount:r,children:w.Children.map(n,a=>o.jsx(Wb,{present:r||i.open,children:o.jsx(Jh,{asChild:!0,container:s,children:a})}))})};g$.displayName=jE;var Cw="DialogOverlay",v$=w.forwardRef((e,t)=>{const r=m$(Cw,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Bo(Cw,e.__scopeDialog);return i.modal?o.jsx(Wb,{present:n||i.open,children:o.jsx(Soe,{...s,ref:t})}):null});v$.displayName=Cw;var _oe=Cc("DialogOverlay.RemoveScroll"),Soe=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bo(Cw,r);return o.jsx(Um,{as:_oe,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Xe.div,{"data-state":kE(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Th="DialogContent",y$=w.forwardRef((e,t)=>{const r=m$(Th,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Bo(Th,e.__scopeDialog);return o.jsx(Wb,{present:n||i.open,children:i.modal?o.jsx(joe,{...s,ref:t}):o.jsx(Noe,{...s,ref:t})})});y$.displayName=Th;var joe=w.forwardRef((e,t)=>{const r=Bo(Th,e.__scopeDialog),n=w.useRef(null),s=wt(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return z0(i)},[]),o.jsx(x$,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Hu(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Hu(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:Hu(e.onFocusOutside,i=>i.preventDefault())})}),Noe=w.forwardRef((e,t)=>{const r=Bo(Th,e.__scopeDialog),n=w.useRef(!1),s=w.useRef(!1);return o.jsx(x$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),x$=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=Bo(Th,r),c=w.useRef(null),u=wt(t,c);return xoe(),o.jsxs(o.Fragment,{children:[o.jsx(Bm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(c$,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":kE(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(koe,{titleId:l.titleId}),o.jsx(Eoe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),NE="DialogTitle",w$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bo(NE,r);return o.jsx(Xe.h2,{id:s.titleId,...n,ref:t})});w$.displayName=NE;var b$="DialogDescription",_$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bo(b$,r);return o.jsx(Xe.p,{id:s.descriptionId,...n,ref:t})});_$.displayName=b$;var S$="DialogClose",j$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bo(S$,r);return o.jsx(Xe.button,{type:"button",...n,ref:t,onClick:Hu(e.onClick,()=>s.onOpenChange(!1))})});j$.displayName=S$;function kE(e){return e?"open":"closed"}var N$="DialogTitleWarning",[P2e,k$]=uD(N$,{contentName:Th,titleName:NE,docsSlug:"dialog"}),koe=({titleId:e})=>{const t=k$(N$),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Coe="DialogDescriptionWarning",Eoe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${k$(Coe).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},C$=h$,E$=p$,A$=g$,Gb=v$,Yb=y$,Kb=w$,Jb=_$,P$=j$;const fs=C$,yl=E$,Aoe=A$,T$=w.forwardRef(({className:e,...t},r)=>o.jsx(Gb,{ref:r,className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));T$.displayName=Gb.displayName;const ns=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Aoe,{children:[o.jsx(T$,{}),o.jsxs(Yb,{ref:n,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(P$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Pm,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ns.displayName=Yb.displayName;const ks=({className:e,...t})=>o.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ks.displayName="DialogHeader";const qm=({className:e,...t})=>o.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qm.displayName="DialogFooter";const ps=w.forwardRef(({className:e,...t},r)=>o.jsx(Kb,{ref:r,className:Me("text-lg font-semibold leading-none tracking-tight",e),...t}));ps.displayName=Kb.displayName;const Gs=w.forwardRef(({className:e,...t},r)=>o.jsx(Jb,{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));Gs.displayName=Jb.displayName;const ht=w.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ht.displayName="Input";var Poe="Label",R$=w.forwardRef((e,t)=>o.jsx(Xe.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));R$.displayName=Poe;var O$=R$;const Toe=Em("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),lt=w.forwardRef(({className:e,...t},r)=>o.jsx(O$,{ref:r,className:Me(Toe(),e),...t}));lt.displayName=O$.displayName;const Eo=w.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Eo.displayName="Textarea";function hN(e,[t,r]){return Math.min(r,Math.max(t,e))}var g5=0;function CE(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??w3()),document.body.insertAdjacentElement("beforeend",e[1]??w3()),g5++,()=>{g5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),g5--}},[])}function w3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function EE(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Roe=[" ","Enter","ArrowUp","ArrowDown"],Ooe=[" ","Enter"],Rh="Select",[Qb,Zb,Loe]=km(Rh),[zm,T2e]=is(Rh,[Loe,Lm]),Xb=Lm(),[Moe,fd]=zm(Rh),[Ioe,Doe]=zm(Rh),L$=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:v}=e,m=Xb(t),[x,g]=w.useState(null),[b,S]=w.useState(null),[k,T]=w.useState(!1),R=hd(u),[O,D]=va({prop:n,defaultProp:s??!1,onChange:i,caller:Rh}),[M,G]=va({prop:a,defaultProp:l,onChange:c,caller:Rh}),A=w.useRef(null),I=x?v||!!x.closest("form"):!0,[$,q]=w.useState(new Set),ee=Array.from($).map(ne=>ne.props.value).join(";");return o.jsx(F8,{...m,children:o.jsxs(Moe,{required:f,scope:t,trigger:x,onTriggerChange:g,valueNode:b,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:T,contentId:oi(),value:M,onValueChange:G,open:O,onOpenChange:D,dir:R,triggerPointerDownPosRef:A,disabled:p,children:[o.jsx(Qb.Provider,{scope:t,children:o.jsx(Ioe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(ne=>{q(te=>new Set(te).add(ne))},[]),onNativeOptionRemove:w.useCallback(ne=>{q(te=>{const W=new Set(te);return W.delete(ne),W})},[]),children:r})}),I?o.jsxs(s9,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:M,onChange:ne=>G(ne.target.value),disabled:p,form:v,children:[M===void 0?o.jsx("option",{value:""}):null,Array.from($)]},ee):null]})})};L$.displayName=Rh;var M$="SelectTrigger",I$=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Xb(r),a=fd(M$,r),l=a.disabled||n,c=wt(t,a.onTriggerChange),u=Zb(r),d=w.useRef("touch"),[h,p,f]=a9(m=>{const x=u().filter(S=>!S.disabled),g=x.find(S=>S.value===a.value),b=o9(x,m,g);b!==void 0&&a.onValueChange(b.value)}),v=m=>{l||(a.onOpenChange(!0),f()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(Lb,{asChild:!0,...i,children:o.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":i9(a.value)?"":void 0,...s,ref:c,onClick:dt(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:dt(s.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:dt(s.onKeyDown,m=>{const x=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(x&&m.key===" ")&&Roe.includes(m.key)&&(v(),m.preventDefault())})})})});I$.displayName=M$;var D$="SelectValue",F$=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...l}=e,c=fd(D$,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=wt(t,c.onValueNodeChange);return Xr(()=>{u(d)},[u,d]),o.jsx(Xe.span,{...l,ref:h,style:{pointerEvents:"none"},children:i9(c.value)?o.jsx(o.Fragment,{children:a}):i})});F$.displayName=D$;var Foe="SelectIcon",$$=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(Xe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});$$.displayName=Foe;var $oe="SelectPortal",B$=e=>o.jsx(Jh,{asChild:!0,...e});B$.displayName=$oe;var Oh="SelectContent",U$=w.forwardRef((e,t)=>{const r=fd(Oh,e.__scopeSelect),[n,s]=w.useState();if(Xr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Kh.createPortal(o.jsx(q$,{scope:e.__scopeSelect,children:o.jsx(Qb.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(z$,{...e,ref:t})});U$.displayName=Oh;var po=10,[q$,pd]=zm(Oh),Boe="SelectContentImpl",Uoe=Cc("SelectContent.RemoveScroll"),z$=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:x,...g}=e,b=fd(Oh,r),[S,k]=w.useState(null),[T,R]=w.useState(null),O=wt(t,F=>k(F)),[D,M]=w.useState(null),[G,A]=w.useState(null),I=Zb(r),[$,q]=w.useState(!1),ee=w.useRef(!1);w.useEffect(()=>{if(S)return z0(S)},[S]),CE();const ne=w.useCallback(F=>{const[Q,...se]=I().map(fe=>fe.ref.current),[le]=se.slice(-1),ue=document.activeElement;for(const fe of F)if(fe===ue||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===Q&&T&&(T.scrollTop=0),fe===le&&T&&(T.scrollTop=T.scrollHeight),fe==null||fe.focus(),document.activeElement!==ue))return},[I,T]),te=w.useCallback(()=>ne([D,S]),[ne,D,S]);w.useEffect(()=>{$&&te()},[$,te]);const{onOpenChange:W,triggerPointerDownPosRef:Z}=b;w.useEffect(()=>{if(S){let F={x:0,y:0};const Q=le=>{var ue,fe;F={x:Math.abs(Math.round(le.pageX)-(((ue=Z.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(le.pageY)-(((fe=Z.current)==null?void 0:fe.y)??0))}},se=le=>{F.x<=10&&F.y<=10?le.preventDefault():S.contains(le.target)||W(!1),document.removeEventListener("pointermove",Q),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",se,{capture:!0})}}},[S,W,Z]),w.useEffect(()=>{const F=()=>W(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[W]);const[pe,ve]=a9(F=>{const Q=I().filter(ue=>!ue.disabled),se=Q.find(ue=>ue.ref.current===document.activeElement),le=o9(Q,F,se);le&&setTimeout(()=>le.ref.current.focus())}),U=w.useCallback((F,Q,se)=>{const le=!ee.current&&!se;(b.value!==void 0&&b.value===Q||le)&&(M(F),le&&(ee.current=!0))},[b.value]),_=w.useCallback(()=>S==null?void 0:S.focus(),[S]),C=w.useCallback((F,Q,se)=>{const le=!ee.current&&!se;(b.value!==void 0&&b.value===Q||le)&&A(F)},[b.value]),E=n==="popper"?fN:V$,B=E===fN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:x}:{};return o.jsx(q$,{scope:r,content:S,viewport:T,onViewportChange:R,itemRefCallback:U,selectedItem:D,onItemLeave:_,itemTextRefCallback:C,focusSelectedItem:te,selectedItemText:G,position:n,isPositioned:$,searchRef:pe,children:o.jsx(Um,{as:Uoe,allowPinchZoom:!0,children:o.jsx(Bm,{asChild:!0,trapped:b.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:dt(s,F=>{var Q;(Q=b.trigger)==null||Q.focus({preventScroll:!0}),F.preventDefault()}),children:o.jsx(Cm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(E,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:F=>F.preventDefault(),...g,...B,onPlaced:()=>q(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:dt(g.onKeyDown,F=>{const Q=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!Q&&F.key.length===1&&ve(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let le=I().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(F.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const ue=F.target,fe=le.indexOf(ue);le=le.slice(fe+1)}setTimeout(()=>ne(le)),F.preventDefault()}})})})})})})});z$.displayName=Boe;var qoe="SelectItemAlignedPosition",V$=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=fd(Oh,r),a=pd(Oh,r),[l,c]=w.useState(null),[u,d]=w.useState(null),h=wt(t,O=>d(O)),p=Zb(r),f=w.useRef(!1),v=w.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:g,focusSelectedItem:b}=a,S=w.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&x&&g){const O=i.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),G=g.getBoundingClientRect();if(i.dir!=="rtl"){const ue=G.left-D.left,fe=M.left-ue,_e=O.left-fe,Ie=O.width+_e,J=Math.max(Ie,D.width),De=window.innerWidth-po,Ye=hN(fe,[po,Math.max(po,De-J)]);l.style.minWidth=Ie+"px",l.style.left=Ye+"px"}else{const ue=D.right-G.right,fe=window.innerWidth-M.right-ue,_e=window.innerWidth-O.right-fe,Ie=O.width+_e,J=Math.max(Ie,D.width),De=window.innerWidth-po,Ye=hN(fe,[po,Math.max(po,De-J)]);l.style.minWidth=Ie+"px",l.style.right=Ye+"px"}const A=p(),I=window.innerHeight-po*2,$=m.scrollHeight,q=window.getComputedStyle(u),ee=parseInt(q.borderTopWidth,10),ne=parseInt(q.paddingTop,10),te=parseInt(q.borderBottomWidth,10),W=parseInt(q.paddingBottom,10),Z=ee+ne+$+W+te,pe=Math.min(x.offsetHeight*5,Z),ve=window.getComputedStyle(m),U=parseInt(ve.paddingTop,10),_=parseInt(ve.paddingBottom,10),C=O.top+O.height/2-po,E=I-C,B=x.offsetHeight/2,F=x.offsetTop+B,Q=ee+ne+F,se=Z-Q;if(Q<=C){const ue=A.length>0&&x===A[A.length-1].ref.current;l.style.bottom="0px";const fe=u.clientHeight-m.offsetTop-m.offsetHeight,_e=Math.max(E,B+(ue?_:0)+fe+te),Ie=Q+_e;l.style.height=Ie+"px"}else{const ue=A.length>0&&x===A[0].ref.current;l.style.top="0px";const _e=Math.max(C,ee+m.offsetTop+(ue?U:0)+B)+se;l.style.height=_e+"px",m.scrollTop=Q-C+m.offsetTop}l.style.margin=`${po}px 0`,l.style.minHeight=pe+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,l,u,m,x,g,i.dir,n]);Xr(()=>S(),[S]);const[k,T]=w.useState();Xr(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const R=w.useCallback(O=>{O&&v.current===!0&&(S(),b==null||b(),v.current=!1)},[S,b]);return o.jsx(Voe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:o.jsx(Xe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});V$.displayName=qoe;var zoe="SelectPopperPosition",fN=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=po,...i}=e,a=Xb(r);return o.jsx(KC,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fN.displayName=zoe;var[Voe,AE]=zm(Oh,{}),pN="SelectViewport",W$=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=pd(pN,r),a=AE(pN,r),l=wt(t,i.onViewportChange),c=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Qb.Slot,{scope:r,children:o.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:dt(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const v=window.innerHeight-po*2,m=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),g=Math.max(m,x);if(g<v){const b=g+f,S=Math.min(v,b),k=b-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});W$.displayName=pN;var H$="SelectGroup",[Woe,Hoe]=zm(H$),Goe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=oi();return o.jsx(Woe,{scope:r,id:s,children:o.jsx(Xe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Goe.displayName=H$;var G$="SelectLabel",Y$=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Hoe(G$,r);return o.jsx(Xe.div,{id:s.id,...n,ref:t})});Y$.displayName=G$;var Ew="SelectItem",[Yoe,K$]=zm(Ew),J$=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,l=fd(Ew,r),c=pd(Ew,r),u=l.value===n,[d,h]=w.useState(i??""),[p,f]=w.useState(!1),v=wt(t,b=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,b,n,s)}),m=oi(),x=w.useRef("touch"),g=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Yoe,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:w.useCallback(b=>{h(S=>S||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(Qb.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(Xe.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:dt(a.onFocus,()=>f(!0)),onBlur:dt(a.onBlur,()=>f(!1)),onClick:dt(a.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:dt(a.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:dt(a.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:dt(a.onPointerMove,b=>{var S;x.current=b.pointerType,s?(S=c.onItemLeave)==null||S.call(c):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(a.onPointerLeave,b=>{var S;b.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:dt(a.onKeyDown,b=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&b.key===" "||(Ooe.includes(b.key)&&g(),b.key===" "&&b.preventDefault())})})})})});J$.displayName=Ew;var ev="SelectItemText",Q$=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=fd(ev,r),l=pd(ev,r),c=K$(ev,r),u=Doe(ev,r),[d,h]=w.useState(null),p=wt(t,g=>h(g),c.onItemTextChange,g=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,g,c.value,c.disabled)}),f=d==null?void 0:d.textContent,v=w.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return Xr(()=>(m(v),()=>x(v)),[m,x,v]),o.jsxs(o.Fragment,{children:[o.jsx(Xe.span,{id:c.textId,...i,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Kh.createPortal(i.children,a.valueNode):null]})});Q$.displayName=ev;var Z$="SelectItemIndicator",X$=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return K$(Z$,r).isSelected?o.jsx(Xe.span,{"aria-hidden":!0,...n,ref:t}):null});X$.displayName=Z$;var mN="SelectScrollUpButton",e9=w.forwardRef((e,t)=>{const r=pd(mN,e.__scopeSelect),n=AE(mN,e.__scopeSelect),[s,i]=w.useState(!1),a=wt(t,n.onScrollButtonChange);return Xr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(r9,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});e9.displayName=mN;var gN="SelectScrollDownButton",t9=w.forwardRef((e,t)=>{const r=pd(gN,e.__scopeSelect),n=AE(gN,e.__scopeSelect),[s,i]=w.useState(!1),a=wt(t,n.onScrollButtonChange);return Xr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(r9,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});t9.displayName=gN;var r9=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=pd("SelectScrollButton",r),a=w.useRef(null),l=Zb(r),c=w.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Xr(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Xe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:dt(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:dt(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:dt(s.onPointerLeave,()=>{c()})})}),Koe="SelectSeparator",n9=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Xe.div,{"aria-hidden":!0,...n,ref:t})});n9.displayName=Koe;var vN="SelectArrow",Joe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Xb(r),i=fd(vN,r),a=pd(vN,r);return i.open&&a.position==="popper"?o.jsx(JC,{...s,...n,ref:t}):null});Joe.displayName=vN;var Qoe="SelectBubbleInput",s9=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=w.useRef(null),i=wt(n,s),a=EE(t);return w.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[a,t]),o.jsx(Xe.select,{...r,style:{...vD,...r.style},ref:i,defaultValue:t})});s9.displayName=Qoe;function i9(e){return e===""||e===void 0}function a9(e){const t=Kr(e),r=w.useRef(""),n=w.useRef(0),s=w.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function o9(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=Zoe(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Zoe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Xoe=L$,l9=I$,ele=F$,tle=$$,rle=B$,c9=U$,nle=W$,u9=Y$,d9=J$,sle=Q$,ile=X$,h9=e9,f9=t9,p9=n9;const Mr=Xoe,Ir=ele,Tr=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(l9,{ref:n,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(tle,{asChild:!0,children:o.jsx(PC,{className:"h-4 w-4 opacity-50"})})]}));Tr.displayName=l9.displayName;const m9=w.forwardRef(({className:e,...t},r)=>o.jsx(h9,{ref:r,className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(_J,{className:"h-4 w-4"})}));m9.displayName=h9.displayName;const g9=w.forwardRef(({className:e,...t},r)=>o.jsx(f9,{ref:r,className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(PC,{className:"h-4 w-4"})}));g9.displayName=f9.displayName;const Rr=w.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(rle,{children:o.jsxs(c9,{ref:s,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(m9,{}),o.jsx(nle,{className:Me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(g9,{})]})}));Rr.displayName=c9.displayName;const ale=w.forwardRef(({className:e,...t},r)=>o.jsx(u9,{ref:r,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ale.displayName=u9.displayName;const He=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(d9,{ref:n,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(ile,{children:o.jsx(AC,{className:"h-4 w-4"})})}),o.jsx(sle,{children:t})]}));He.displayName=d9.displayName;const ole=w.forwardRef(({className:e,...t},r)=>o.jsx(p9,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));ole.displayName=p9.displayName;const lle=({delaySeconds:e=10})=>{const[t,r]=w.useState(!1),[n,s]=w.useState(!1),i=Ks();w.useEffect(()=>{if(sessionStorage.getItem("loginPromptShown")){s(!0);return}const c=setTimeout(()=>{n||(r(!0),s(!0),sessionStorage.setItem("loginPromptShown","true"))},e*1e3);return()=>clearTimeout(c)},[e,n]);const a=l=>{r(!1),i(l)};return o.jsx(fs,{open:t,onOpenChange:r,children:o.jsxs(ns,{className:"sm:max-w-[500px] border-none shadow-2xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-md p-0 overflow-hidden rounded-2xl",children:[o.jsx("button",{onClick:()=>r(!1),className:"absolute right-4 top-4 z-50 p-2 bg-black/5 dark:bg-white/10 rounded-full hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:o.jsx(Pm,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-600/10 to-purple-600/10 p-8 text-center pb-6",children:[o.jsx("div",{className:"w-16 h-16 mx-auto bg-white rounded-2xl shadow-lg flex items-center justify-center mb-4 transition-transform hover:scale-105 duration-300",children:o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"w-10 h-10 object-contain"})}),o.jsx(ps,{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-600 to-teal-600 dark:from-emerald-400 dark:to-teal-400 mb-2",children:"Welcome to Medicare"}),o.jsx(Gs,{className:"text-muted-foreground max-w-sm mx-auto",children:"Access personalized care, view reports, or manage hospital operations securely."})]}),o.jsxs("div",{className:"p-6 grid grid-cols-2 gap-4",children:[o.jsxs("div",{onClick:()=>a("/patient/login"),className:"group cursor-pointer relative p-5 rounded-2xl border border-border/50 bg-card hover:bg-blue-50/50 dark:hover:bg-blue-900/20 hover:border-blue-200 dark:hover:border-blue-700 transition-all duration-300 hover:shadow-md",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:o.jsx(Va,{className:"h-6 w-6"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Patient Portal"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-snug mb-3",children:"Book appointments & view medical records"}),o.jsxs("div",{className:"flex items-center text-xs font-medium text-blue-600 dark:text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity -translate-x-2 group-hover:translate-x-0 duration-300",children:["Sign In ",o.jsx(Xp,{className:"h-3 w-3 ml-1"})]})]}),o.jsxs("div",{onClick:()=>a("/staff/login"),className:"group cursor-pointer relative p-5 rounded-2xl border border-border/50 bg-card hover:bg-emerald-50/50 dark:hover:bg-emerald-900/20 hover:border-emerald-200 dark:hover:border-emerald-700 transition-all duration-300 hover:shadow-md",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:o.jsx(zi,{className:"h-6 w-6"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Staff Portal"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-snug mb-3",children:"For doctors, nurses & hospital staff"}),o.jsxs("div",{className:"flex items-center text-xs font-medium text-emerald-600 dark:text-emerald-400 opacity-0 group-hover:opacity-100 transition-opacity -translate-x-2 group-hover:translate-x-0 duration-300",children:["Staff Login ",o.jsx(Xp,{className:"h-3 w-3 ml-1"})]})]})]}),o.jsx("div",{className:"pb-6 text-center",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["New patient?"," ",o.jsx(Hr,{to:"/patient/register",onClick:()=>r(!1),className:"text-primary font-medium hover:underline hover:text-primary/80 transition-colors",children:"Create an account"})]})})]})]})})},cle=({name:e,specialty:t,experience:r,rating:n=4.5,available:s=!0})=>o.jsx(jt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:o.jsx(Tt,{className:"p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary/20 to-primary/40 flex items-center justify-center flex-shrink-0",children:o.jsx(No,{className:"h-8 w-8 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-lg truncate",children:e}),o.jsx("p",{className:"text-primary font-medium text-sm",children:t}),r&&o.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:r}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(IC,{className:"h-4 w-4 text-amber-500 fill-amber-500"}),o.jsx("span",{className:"text-sm font-medium",children:n.toFixed(1)})]}),o.jsx(Wt,{variant:s?"default":"secondary",className:"text-xs",children:s?"Available":"Busy"})]})]})]})})}),ule=[{icon:FC,title:"Create Account",description:"Sign up for a patient account using your email address and phone number.",color:"bg-blue-100 text-blue-600"},{icon:yh,title:"Book Appointment",description:"Choose your preferred department, doctor, date, and time for your visit.",color:"bg-emerald-100 text-emerald-600"},{icon:Zh,title:"Get Confirmation",description:"Receive instant confirmation via call or message with appointment details.",color:"bg-purple-100 text-purple-600"},{icon:TJ,title:"Use AI Assistant",description:"Chat with Maya, our AI assistant, for quick answers and guidance.",color:"bg-amber-100 text-amber-600"},{icon:Sl,title:"Visit Hospital",description:"Arrive at your scheduled time with your confirmation details.",color:"bg-rose-100 text-rose-600"}],dle=()=>{const e=t=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const r=new SpeechSynthesisUtterance(t),s=window.speechSynthesis.getVoices().find(i=>i.name.includes("Female")||i.name.includes("Samantha")||i.name.includes("Google US English"));s&&(r.voice=s),r.pitch=1,r.rate=1,window.speechSynthesis.speak(r)}};return o.jsx("section",{className:"py-16 px-4 bg-gradient-to-b from-muted/30 to-background",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"How to Use Our Services"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Getting started is easy. Follow these simple steps to book your appointment and access our healthcare services."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:ule.map((t,r)=>o.jsxs(jt,{className:"relative overflow-hidden cursor-pointer hover:scale-105 hover:shadow-lg transition-all duration-300 group",onClick:()=>e(`${t.title}. ${t.description}`),children:[o.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 bg-primary text-primary-foreground flex items-center justify-center font-bold text-sm rounded-br-lg z-10",children:r+1}),o.jsx("div",{className:"absolute inset-0 bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),o.jsxs(Ht,{className:"pt-10 pb-2",children:[o.jsx("div",{className:`w-12 h-12 rounded-full ${t.color} flex items-center justify-center mb-3 group-hover:animate-bounce`,children:o.jsx(t.icon,{className:"h-6 w-6"})}),o.jsx(It,{className:"text-lg",children:t.title})]}),o.jsxs(Tt,{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:t.description}),o.jsx("p",{className:"text-xs text-primary mt-2 opacity-0 group-hover:opacity-100 transition-opacity font-medium",children:"Click to listen"})]})]},t.title))})]})})},hle={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function fle(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function ple(e,t){const r=e.rootNode();return t&&t(r)||r}function PE(e={}){let t,r,n,s,i=null,a=0,l=!1,c=!1,u=!1,d=!1;function h(q,ee){r=q;const{mergeOptions:ne,optionsAtMedia:te}=ee,W=ne(hle,PE.globalOptions),Z=ne(W,e);if(t=te(Z),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,s=fle(r,t.delay);const{eventStore:pe,ownerDocument:ve}=r.internalEngine(),U=!!r.internalEngine().options.watchDrag,_=ple(r,t.rootNode);pe.add(ve,"visibilitychange",g),U&&r.on("pointerDown",S),U&&!t.stopOnInteraction&&r.on("pointerUp",k),t.stopOnMouseEnter&&pe.add(_,"mouseenter",T),t.stopOnMouseEnter&&!t.stopOnInteraction&&pe.add(_,"mouseleave",R),t.stopOnFocusIn&&r.on("slideFocusStart",x),t.stopOnFocusIn&&!t.stopOnInteraction&&pe.add(r.containerNode(),"focusout",m),t.playOnInit&&m()}function p(){r.off("pointerDown",S).off("pointerUp",k).off("slideFocusStart",x),x(),n=!0,l=!1}function f(){const{ownerWindow:q}=r.internalEngine();q.clearTimeout(a),a=q.setTimeout(A,s[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function v(){const{ownerWindow:q}=r.internalEngine();q.clearTimeout(a),a=0,i=null,r.emit("autoplay:timerstopped")}function m(){if(!n){if(b()){u=!0;return}l||r.emit("autoplay:play"),f(),l=!0}}function x(){n||(l&&r.emit("autoplay:stop"),v(),l=!1)}function g(){if(b())return u=l,x();u&&m()}function b(){const{ownerDocument:q}=r.internalEngine();return q.visibilityState==="hidden"}function S(){c||x()}function k(){c||m()}function T(){c=!0,x()}function R(){c=!1,m()}function O(q){typeof q<"u"&&(d=q),m()}function D(){l&&x()}function M(){l&&m()}function G(){return l}function A(){const{index:q}=r.internalEngine(),ee=q.clone().add(1).get(),ne=r.scrollSnapList().length-1,te=t.stopOnLastSnap&&ee===ne;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),te)return x();m()}function I(){if(!i)return null;const q=s[r.selectedScrollSnap()],ee=new Date().getTime()-i;return q-ee}return{name:"autoplay",options:e,init:h,destroy:p,play:O,stop:D,reset:M,isPlaying:G,timeUntilNext:I}}PE.globalOptions=void 0;function mle(e){return Object.prototype.toString.call(e)==="[object Object]"}function b3(e){return mle(e)||Array.isArray(e)}function gle(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function TE(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:r.every(a=>{const l=e[a],c=t[a];return typeof l=="function"?`${l}`==`${c}`:!b3(l)||!b3(c)?l===c:TE(l,c)})}function _3(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function vle(e,t){if(e.length!==t.length)return!1;const r=_3(e),n=_3(t);return r.every((s,i)=>{const a=n[i];return TE(s,a)})}function RE(e){return typeof e=="number"}function yN(e){return typeof e=="string"}function e2(e){return typeof e=="boolean"}function S3(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ln(e){return Math.abs(e)}function OE(e){return Math.sign(e)}function _v(e,t){return Ln(e-t)}function yle(e,t){if(e===0||t===0||Ln(e)<=Ln(t))return 0;const r=_v(Ln(e),Ln(t));return Ln(r/e)}function xle(e){return Math.round(e*100)/100}function l0(e){return c0(e).map(Number)}function Ao(e){return e[H0(e)]}function H0(e){return Math.max(0,e.length-1)}function LE(e,t){return t===H0(e)}function j3(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function c0(e){return Object.keys(e)}function v9(e,t){return[e,t].reduce((r,n)=>(c0(n).forEach(s=>{const i=r[s],a=n[s],l=S3(i)&&S3(a);r[s]=l?v9(i,a):a}),r),{})}function xN(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function wle(e,t){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return t-c}function a(c,u){return yN(e)?r[e](c):e(t,c,u)}return{measure:a}}function u0(){let e=[];function t(s,i,a,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,a,l),c=()=>s.removeEventListener(i,a,l);else{const u=s;u.addListener(a),c=()=>u.removeListener(a)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function ble(e,t,r,n){const s=u0(),i=1e3/60;let a=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&v()})}function d(){f(),s.clear()}function h(x){if(!c)return;a||(a=x,r(),r());const g=x-a;for(a=x,l+=g;l>=i;)r(),l-=i;const b=l/i;n(b),c&&(c=t.requestAnimationFrame(h))}function p(){c||(c=t.requestAnimationFrame(h))}function f(){t.cancelAnimationFrame(c),a=null,l=0,c=0}function v(){a=null,l=0}return{init:u,destroy:d,start:p,stop:f,update:r,render:n}}function _le(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",i=n?"x":"y",a=!n&&r?-1:1,l=d(),c=h();function u(v){const{height:m,width:x}=v;return n?m:x}function d(){return n?"top":r?"right":"left"}function h(){return n?"bottom":r?"left":"right"}function p(v){return v*a}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:p}}function Lh(e=0,t=0){const r=Ln(e-t);function n(u){return u<e}function s(u){return u>t}function i(u){return n(u)||s(u)}function a(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:a,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:l}}function y9(e,t,r){const{constrain:n}=Lh(0,e),s=e+1;let i=a(t);function a(p){return r?Ln((s+p)%s):n(p)}function l(){return i}function c(p){return i=a(p),h}function u(p){return d().set(l()+p)}function d(){return y9(e,l(),r)}const h={get:l,set:c,add:u,clone:d};return h}function Sle(e,t,r,n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,b){const{cross:S,direction:k}=e,T=["INPUT","SELECT","TEXTAREA"],R={passive:!1},O=u0(),D=u0(),M=Lh(50,225).constrain(f.measure(20)),G={mouse:300,touch:400},A={mouse:500,touch:600},I=v?43:25;let $=!1,q=0,ee=0,ne=!1,te=!1,W=!1,Z=!1;function pe(fe){if(!b)return;function _e(J){(e2(b)||b(fe,J))&&B(J)}const Ie=t;O.add(Ie,"dragstart",J=>J.preventDefault(),R).add(Ie,"touchmove",()=>{},R).add(Ie,"touchend",()=>{}).add(Ie,"touchstart",_e).add(Ie,"mousedown",_e).add(Ie,"touchcancel",Q).add(Ie,"contextmenu",Q).add(Ie,"click",se,!0)}function ve(){O.clear(),D.clear()}function U(){const fe=Z?r:t;D.add(fe,"touchmove",F,R).add(fe,"touchend",Q).add(fe,"mousemove",F,R).add(fe,"mouseup",Q)}function _(fe){const _e=fe.nodeName||"";return T.includes(_e)}function C(){return(v?A:G)[Z?"mouse":"touch"]}function E(fe,_e){const Ie=h.add(OE(fe)*-1),J=d.byDistance(fe,!v).distance;return v||Ln(fe)<M?J:x&&_e?J*.5:d.byIndex(Ie.get(),0).distance}function B(fe){const _e=xN(fe,n);Z=_e,W=v&&_e&&!fe.buttons&&$,$=_v(s.get(),a.get())>=2,!(_e&&fe.button!==0)&&(_(fe.target)||(ne=!0,i.pointerDown(fe),u.useFriction(0).useDuration(0),s.set(a),U(),q=i.readPoint(fe),ee=i.readPoint(fe,S),p.emit("pointerDown")))}function F(fe){if(!xN(fe,n)&&fe.touches.length>=2)return Q(fe);const Ie=i.readPoint(fe),J=i.readPoint(fe,S),De=_v(Ie,q),Ye=_v(J,ee);if(!te&&!Z&&(!fe.cancelable||(te=De>Ye,!te)))return Q(fe);const Ke=i.pointerMove(fe);De>m&&(W=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(k(Ke)),fe.preventDefault()}function Q(fe){const Ie=d.byDistance(0,!1).index!==h.get(),J=i.pointerUp(fe)*C(),De=E(k(J),Ie),Ye=yle(J,De),Ke=I-10*Ye,me=g+Ye/50;te=!1,ne=!1,D.clear(),u.useDuration(Ke).useFriction(me),c.distance(De,!v),Z=!1,p.emit("pointerUp")}function se(fe){W&&(fe.stopPropagation(),fe.preventDefault(),W=!1)}function le(){return ne}return{init:pe,destroy:ve,pointerDown:le}}function jle(e,t){let n,s;function i(h){return h.timeStamp}function a(h,p){const v=`client${(p||e.scroll)==="x"?"X":"Y"}`;return(xN(h,t)?h:h.touches[0])[v]}function l(h){return n=h,s=h,a(h)}function c(h){const p=a(h)-a(s),f=i(h)-i(n)>170;return s=h,f&&(n=h),p}function u(h){if(!n||!s)return 0;const p=a(s)-a(n),f=i(h)-i(n),v=i(h)-i(s)>170,m=p/f;return f&&!v&&Ln(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function Nle(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:a}=r;return{top:n,right:s+i,bottom:n+a,left:s,width:i,height:a}}return{measure:e}}function kle(e){function t(n){return e*(n/100)}return{measure:t}}function Cle(e,t,r,n,s,i,a){const l=[e].concat(n);let c,u,d=[],h=!1;function p(x){return s.measureSize(a.measure(x))}function f(x){if(!i)return;u=p(e),d=n.map(p);function g(b){for(const S of b){if(h)return;const k=S.target===e,T=n.indexOf(S.target),R=k?u:d[T],O=p(k?e:n[T]);if(Ln(O-R)>=.5){x.reInit(),t.emit("resize");break}}}c=new ResizeObserver(b=>{(e2(i)||i(x,b))&&g(b)}),r.requestAnimationFrame(()=>{l.forEach(b=>c.observe(b))})}function v(){h=!0,c&&c.disconnect()}return{init:f,destroy:v}}function Ele(e,t,r,n,s,i){let a=0,l=0,c=s,u=i,d=e.get(),h=0;function p(){const R=n.get()-e.get(),O=!c;let D=0;return O?(a=0,r.set(n),e.set(n),D=R):(r.set(e),a+=R/c,a*=u,d+=a,e.add(a),D=d-h),l=OE(D),h=d,T}function f(){const R=n.get()-t.get();return Ln(R)<.001}function v(){return c}function m(){return l}function x(){return a}function g(){return S(s)}function b(){return k(i)}function S(R){return c=R,T}function k(R){return u=R,T}const T={direction:m,duration:v,velocity:x,seek:p,settled:f,useBaseFriction:b,useBaseDuration:g,useFriction:k,useDuration:S};return T}function Ale(e,t,r,n,s){const i=s.measure(10),a=s.measure(50),l=Lh(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(f){if(!u())return;const v=e.reachedMin(t.get())?"min":"max",m=Ln(e[v]-t.get()),x=r.get()-t.get(),g=l.constrain(m/a);r.subtract(x*g),!f&&Ln(x)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function h(f){c=!f}return{shouldConstrain:u,constrain:d,toggleActive:h}}function Ple(e,t,r,n,s){const i=Lh(-t+e,0),a=h(),l=d(),c=p();function u(v,m){return _v(v,m)<=1}function d(){const v=a[0],m=Ao(a),x=a.lastIndexOf(v),g=a.indexOf(m)+1;return Lh(x,g)}function h(){return r.map((v,m)=>{const{min:x,max:g}=i,b=i.constrain(v),S=!m,k=LE(r,m);return S?g:k||u(x,b)?x:u(g,b)?g:b}).map(v=>parseFloat(v.toFixed(3)))}function p(){if(t<=e+s)return[i.max];if(n==="keepSnaps")return a;const{min:v,max:m}=l;return a.slice(v,m)}return{snapsContained:c,scrollContainLimit:l}}function Tle(e,t,r){const n=t[0],s=r?n-e:Ao(t);return{limit:Lh(s,n)}}function Rle(e,t,r,n){const i=t.min+.1,a=t.max+.1,{reachedMin:l,reachedMax:c}=Lh(i,a);function u(p){return p===1?c(r.get()):p===-1?l(r.get()):!1}function d(p){if(!u(p))return;const f=e*(p*-1);n.forEach(v=>v.add(f))}return{loop:d}}function Ole(e){const{max:t,length:r}=e;function n(i){const a=i-t;return r?a/-r:0}return{get:n}}function Lle(e,t,r,n,s){const{startEdge:i,endEdge:a}=e,{groupSlides:l}=s,c=h().map(t.measure),u=p(),d=f();function h(){return l(n).map(m=>Ao(m)[a]-m[0][i]).map(Ln)}function p(){return n.map(m=>r[i]-m[i]).map(m=>-Ln(m))}function f(){return l(u).map(m=>m[0]).map((m,x)=>m+c[x])}return{snaps:u,snapsAligned:d}}function Mle(e,t,r,n,s,i){const{groupSlides:a}=s,{min:l,max:c}=n,u=d();function d(){const p=a(i),f=!e||t==="keepSnaps";return r.length===1?[i]:f?p:p.slice(l,c).map((v,m,x)=>{const g=!m,b=LE(x,m);if(g){const S=Ao(x[0])+1;return j3(S)}if(b){const S=H0(i)-Ao(x)[0]+1;return j3(S,Ao(x)[0])}return v})}return{slideRegistry:u}}function Ile(e,t,r,n,s){const{reachedAny:i,removeOffset:a,constrain:l}=n;function c(v){return v.concat().sort((m,x)=>Ln(m)-Ln(x))[0]}function u(v){const m=e?a(v):l(v),x=t.map((b,S)=>({diff:d(b-m,0),index:S})).sort((b,S)=>Ln(b.diff)-Ln(S.diff)),{index:g}=x[0];return{index:g,distance:m}}function d(v,m){const x=[v,v+r,v-r];if(!e)return v;if(!m)return c(x);const g=x.filter(b=>OE(b)===m);return g.length?c(g):Ao(x)-r}function h(v,m){const x=t[v]-s.get(),g=d(x,m);return{index:v,distance:g}}function p(v,m){const x=s.get()+v,{index:g,distance:b}=u(x),S=!e&&i(x);if(!m||S)return{index:g,distance:v};const k=t[g]-b,T=v+d(k,0);return{index:g,distance:T}}return{byDistance:p,byIndex:h,shortcut:d}}function Dle(e,t,r,n,s,i,a){function l(h){const p=h.distance,f=h.index!==t.get();i.add(p),p&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),f&&(r.set(t.get()),t.set(h.index),a.emit("select"))}function c(h,p){const f=s.byDistance(h,p);l(f)}function u(h,p){const f=t.clone().set(h),v=s.byIndex(f.get(),p);l(v)}return{distance:c,index:u}}function Fle(e,t,r,n,s,i,a,l){const c={passive:!0,capture:!0};let u=0;function d(f){if(!l)return;function v(m){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const b=r.findIndex(S=>S.includes(m));RE(b)&&(s.useDuration(0),n.index(b,0),a.emit("slideFocus"))}i.add(document,"keydown",h,!1),t.forEach((m,x)=>{i.add(m,"focus",g=>{(e2(l)||l(f,g))&&v(x)},c)})}function h(f){f.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function tv(e){let t=e;function r(){return t}function n(c){t=a(c)}function s(c){t+=a(c)}function i(c){t-=a(c)}function a(c){return RE(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function x9(e,t){const r=e.scroll==="x"?a:l,n=t.style;let s=null,i=!1;function a(p){return`translate3d(${p}px,0px,0px)`}function l(p){return`translate3d(0px,${p}px,0px)`}function c(p){if(i)return;const f=xle(e.direction(p));f!==s&&(n.transform=r(f),s=f)}function u(p){i=!p}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function $le(e,t,r,n,s,i,a,l,c){const d=l0(s),h=l0(s).reverse(),p=g().concat(b());function f(O,D){return O.reduce((M,G)=>M-s[G],D)}function v(O,D){return O.reduce((M,G)=>f(M,D)>0?M.concat([G]):M,[])}function m(O){return i.map((D,M)=>({start:D-n[M]+.5+O,end:D+t-.5+O}))}function x(O,D,M){const G=m(D);return O.map(A=>{const I=M?0:-r,$=M?r:0,q=M?"end":"start",ee=G[A][q];return{index:A,loopPoint:ee,slideLocation:tv(-1),translate:x9(e,c[A]),target:()=>l.get()>ee?I:$}})}function g(){const O=a[0],D=v(h,O);return x(D,r,!1)}function b(){const O=t-a[0]-1,D=v(d,O);return x(D,-r,!0)}function S(){return p.every(({index:O})=>{const D=d.filter(M=>M!==O);return f(D,t)<=.1})}function k(){p.forEach(O=>{const{target:D,translate:M,slideLocation:G}=O,A=D();A!==G.get()&&(M.to(A),G.set(A))})}function T(){p.forEach(O=>O.translate.clear())}return{canLoop:S,clear:T,loop:k,loopPoints:p}}function Ble(e,t,r){let n,s=!1;function i(c){if(!r)return;function u(d){for(const h of d)if(h.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(e2(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function a(){n&&n.disconnect(),s=!0}return{init:i,destroy:a}}function Ule(e,t,r,n){const s={};let i=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(v=>{c||(v.forEach(m=>{const x=t.indexOf(m.target);s[x]=m}),i=null,a=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(v=>l.observe(v))}function d(){l&&l.disconnect(),c=!0}function h(v){return c0(s).reduce((m,x)=>{const g=parseInt(x),{isIntersecting:b}=s[g];return(v&&b||!v&&!b)&&m.push(g),m},[])}function p(v=!0){if(v&&i)return i;if(!v&&a)return a;const m=h(v);return v&&(i=m),v||(a=m),m}return{init:u,destroy:d,get:p}}function qle(e,t,r,n,s,i){const{measureSize:a,startEdge:l,endEdge:c}=e,u=r[0]&&s,d=v(),h=m(),p=r.map(a),f=x();function v(){if(!u)return 0;const b=r[0];return Ln(t[l]-b[l])}function m(){if(!u)return 0;const b=i.getComputedStyle(Ao(n));return parseFloat(b.getPropertyValue(`margin-${c}`))}function x(){return r.map((b,S,k)=>{const T=!S,R=LE(k,S);return T?p[S]+d:R?p[S]+h:k[S+1][l]-b[l]}).map(Ln)}return{slideSizes:p,slideSizesWithGaps:f,startGap:d,endGap:h}}function zle(e,t,r,n,s,i,a,l,c){const{startEdge:u,endEdge:d,direction:h}=e,p=RE(r);function f(g,b){return l0(g).filter(S=>S%b===0).map(S=>g.slice(S,S+b))}function v(g){return g.length?l0(g).reduce((b,S,k)=>{const T=Ao(b)||0,R=T===0,O=S===H0(g),D=s[u]-i[T][u],M=s[u]-i[S][d],G=!n&&R?h(a):0,A=!n&&O?h(l):0,I=Ln(M-A-(D+G));return k&&I>t+c&&b.push(S),O&&b.push(g.length),b},[]).map((b,S,k)=>{const T=Math.max(k[S-1]||0);return g.slice(T,b)}):[]}function m(g){return p?f(g,r):v(g)}return{groupSlides:m}}function Vle(e,t,r,n,s,i,a){const{align:l,axis:c,direction:u,startIndex:d,loop:h,duration:p,dragFree:f,dragThreshold:v,inViewThreshold:m,slidesToScroll:x,skipSnaps:g,containScroll:b,watchResize:S,watchSlides:k,watchDrag:T,watchFocus:R}=i,O=2,D=Nle(),M=D.measure(t),G=r.map(D.measure),A=_le(c,u),I=A.measureSize(M),$=kle(I),q=wle(l,I),ee=!h&&!!b,ne=h||!!b,{slideSizes:te,slideSizesWithGaps:W,startGap:Z,endGap:pe}=qle(A,M,G,r,ne,s),ve=zle(A,I,x,h,M,G,Z,pe,O),{snaps:U,snapsAligned:_}=Lle(A,q,M,G,ve),C=-Ao(U)+Ao(W),{snapsContained:E,scrollContainLimit:B}=Ple(I,C,_,b,O),F=ee?E:_,{limit:Q}=Tle(C,F,h),se=y9(H0(F),d,h),le=se.clone(),ue=l0(r),fe=({dragHandler:bt,scrollBody:rt,scrollBounds:Fr,options:{loop:qt}})=>{qt||Fr.constrain(bt.pointerDown()),rt.seek()},_e=({scrollBody:bt,translate:rt,location:Fr,offsetLocation:qt,previousLocation:Ot,scrollLooper:zt,slideLooper:lr,dragHandler:_t,animation:br,eventHandler:At,scrollBounds:Dt,options:{loop:Ur}},Yt)=>{const pt=bt.settled(),mr=!Dt.shouldConstrain(),Pt=Ur?pt:pt&&mr,Ft=Pt&&!_t.pointerDown();Ft&&br.stop();const cr=Fr.get()*Yt+Ot.get()*(1-Yt);qt.set(cr),Ur&&(zt.loop(bt.direction()),lr.loop()),rt.to(qt.get()),Ft&&At.emit("settle"),Pt||At.emit("scroll")},Ie=ble(n,s,()=>fe(Qe),bt=>_e(Qe,bt)),J=.68,De=F[se.get()],Ye=tv(De),Ke=tv(De),me=tv(De),re=tv(De),ce=Ele(Ye,me,Ke,re,p,J),xe=Ile(h,F,C,Q,re),Ne=Dle(Ie,se,le,ce,xe,re,a),Oe=Ole(Q),Ce=u0(),Le=Ule(t,r,a,m),{slideRegistry:et}=Mle(ee,b,F,B,ve,ue),at=Fle(e,r,et,Ne,ce,Ce,a,R),Qe={ownerDocument:n,ownerWindow:s,eventHandler:a,containerRect:M,slideRects:G,animation:Ie,axis:A,dragHandler:Sle(A,e,n,s,re,jle(A,s),Ye,Ie,Ne,ce,xe,se,a,$,f,v,g,J,T),eventStore:Ce,percentOfView:$,index:se,indexPrevious:le,limit:Q,location:Ye,offsetLocation:me,previousLocation:Ke,options:i,resizeHandler:Cle(t,a,s,r,A,S,D),scrollBody:ce,scrollBounds:Ale(Q,me,re,ce,$),scrollLooper:Rle(C,Q,me,[Ye,me,Ke,re]),scrollProgress:Oe,scrollSnapList:F.map(Oe.get),scrollSnaps:F,scrollTarget:xe,scrollTo:Ne,slideLooper:$le(A,I,C,te,W,U,F,me,r),slideFocus:at,slidesHandler:Ble(t,a,k),slidesInView:Le,slideIndexes:ue,slideRegistry:et,slidesToScroll:ve,target:re,translate:x9(A,t)};return Qe}function Wle(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function a(u,d){return e[u]=n(u).filter(h=>h!==d),c}function l(){e={}}const c={init:r,emit:s,off:a,on:i,clear:l};return c}const Hle={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Gle(e){function t(i,a){return v9(i,a||{})}function r(i){const a=i.breakpoints||{},l=c0(a).filter(c=>e.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(a=>c0(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function Yle(e){let t=[];function r(i,a){return t=a.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function Aw(e,t,r){const n=e.ownerDocument,s=n.defaultView,i=Gle(s),a=Yle(i),l=u0(),c=Wle(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:h}=i,{on:p,off:f,emit:v}=c,m=A;let x=!1,g,b=u(Hle,Aw.globalOptions),S=u(b),k=[],T,R,O;function D(){const{container:ue,slides:fe}=S;R=(yN(ue)?e.querySelector(ue):ue)||e.children[0];const Ie=yN(fe)?R.querySelectorAll(fe):fe;O=[].slice.call(Ie||R.children)}function M(ue){const fe=Vle(e,R,O,n,s,ue,c);if(ue.loop&&!fe.slideLooper.canLoop()){const _e=Object.assign({},ue,{loop:!1});return M(_e)}return fe}function G(ue,fe){x||(b=u(b,ue),S=d(b),k=fe||k,D(),g=M(S),h([b,...k.map(({options:_e})=>_e)]).forEach(_e=>l.add(_e,"change",A)),S.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(le),g.eventHandler.init(le),g.resizeHandler.init(le),g.slidesHandler.init(le),g.options.loop&&g.slideLooper.loop(),R.offsetParent&&O.length&&g.dragHandler.init(le),T=a.init(le,k)))}function A(ue,fe){const _e=ve();I(),G(u({startIndex:_e},ue),fe),c.emit("reInit")}function I(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),a.destroy(),l.clear()}function $(){x||(x=!0,l.clear(),I(),c.emit("destroy"),c.clear())}function q(ue,fe,_e){!S.active||x||(g.scrollBody.useBaseFriction().useDuration(fe===!0?0:S.duration),g.scrollTo.index(ue,_e||0))}function ee(ue){const fe=g.index.add(1).get();q(fe,ue,-1)}function ne(ue){const fe=g.index.add(-1).get();q(fe,ue,1)}function te(){return g.index.add(1).get()!==ve()}function W(){return g.index.add(-1).get()!==ve()}function Z(){return g.scrollSnapList}function pe(){return g.scrollProgress.get(g.offsetLocation.get())}function ve(){return g.index.get()}function U(){return g.indexPrevious.get()}function _(){return g.slidesInView.get()}function C(){return g.slidesInView.get(!1)}function E(){return T}function B(){return g}function F(){return e}function Q(){return R}function se(){return O}const le={canScrollNext:te,canScrollPrev:W,containerNode:Q,internalEngine:B,destroy:$,off:f,on:p,emit:v,plugins:E,previousScrollSnap:U,reInit:m,rootNode:F,scrollNext:ee,scrollPrev:ne,scrollProgress:pe,scrollSnapList:Z,scrollTo:q,selectedScrollSnap:ve,slideNodes:se,slidesInView:_,slidesNotInView:C};return G(t,r),setTimeout(()=>c.emit("init"),0),le}Aw.globalOptions=void 0;function ME(e={},t=[]){const r=w.useRef(e),n=w.useRef(t),[s,i]=w.useState(),[a,l]=w.useState(),c=w.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return w.useEffect(()=>{TE(r.current,e)||(r.current=e,c())},[e,c]),w.useEffect(()=>{vle(n.current,t)||(n.current=t,c())},[t,c]),w.useEffect(()=>{if(gle()&&a){Aw.globalOptions=ME.globalOptions;const u=Aw(a,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),[l,s]}ME.globalOptions=void 0;const w9=w.createContext(null);function t2(){const e=w.useContext(w9);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const b9=w.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:i,...a},l)=>{const[c,u]=ME({...t,axis:e==="horizontal"?"x":"y"},n),[d,h]=w.useState(!1),[p,f]=w.useState(!1),v=w.useCallback(b=>{b&&(h(b.canScrollPrev()),f(b.canScrollNext()))},[]),m=w.useCallback(()=>{u==null||u.scrollPrev()},[u]),x=w.useCallback(()=>{u==null||u.scrollNext()},[u]),g=w.useCallback(b=>{b.key==="ArrowLeft"?(b.preventDefault(),m()):b.key==="ArrowRight"&&(b.preventDefault(),x())},[m,x]);return w.useEffect(()=>{!u||!r||r(u)},[u,r]),w.useEffect(()=>{if(u)return v(u),u.on("reInit",v),u.on("select",v),()=>{u==null||u.off("select",v)}},[u,v]),o.jsx(w9.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:x,canScrollPrev:d,canScrollNext:p},children:o.jsx("div",{ref:l,onKeyDownCapture:g,className:Me("relative",s),role:"region","aria-roledescription":"carousel",...a,children:i})})});b9.displayName="Carousel";const _9=w.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=t2();return o.jsx("div",{ref:n,className:"overflow-hidden",children:o.jsx("div",{ref:r,className:Me("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});_9.displayName="CarouselContent";const S9=w.forwardRef(({className:e,...t},r)=>{const{orientation:n}=t2();return o.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:Me("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});S9.displayName="CarouselItem";const j9=w.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollPrev:a,canScrollPrev:l}=t2();return o.jsxs(ke,{ref:s,variant:t,size:r,className:Me("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:a,...n,children:[o.jsx(Qh,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Previous slide"})]})});j9.displayName="CarouselPrevious";const N9=w.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollNext:a,canScrollNext:l}=t2();return o.jsxs(ke,{ref:s,variant:t,size:r,className:Me("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:a,...n,children:[o.jsx(Xp,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Next slide"})]})});N9.displayName="CarouselNext";function Kle(e,t=[]){let r=[];function n(i,a){const l=w.createContext(a);l.displayName=i+"Context";const c=r.length;r=[...r,a];const u=h=>{var g;const{scope:p,children:f,...v}=h,m=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,x=w.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:x,children:f})};u.displayName=i+"Provider";function d(h,p){var m;const f=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,v=w.useContext(f);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>w.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Jle(s,...t)]}function Jle(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Qle=Symbol.for("react.lazy"),Pw=Lk[" use ".trim().toString()];function Zle(e){return typeof e=="object"&&e!==null&&"then"in e}function k9(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Qle&&"_payload"in e&&Zle(e._payload)}function Xle(e){const t=ece(e),r=w.forwardRef((n,s)=>{let{children:i,...a}=n;k9(i)&&typeof Pw=="function"&&(i=Pw(i._payload));const l=w.Children.toArray(i),c=l.find(rce);if(c){const u=c.props.children,d=l.map(h=>h===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function ece(e){const t=w.forwardRef((r,n)=>{let{children:s,...i}=r;if(k9(s)&&typeof Pw=="function"&&(s=Pw(s._payload)),w.isValidElement(s)){const a=sce(s),l=nce(i,s.props);return s.type!==w.Fragment&&(l.ref=n?R0(n,a):a),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tce=Symbol("radix.slottable");function rce(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tce}function nce(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function sce(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ice=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],IE=ice.reduce((e,t)=>{const r=Xle(`Primitive.${t}`),n=w.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),C9={exports:{}},E9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=w;function ace(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oce=typeof Object.is=="function"?Object.is:ace,lce=sm.useState,cce=sm.useEffect,uce=sm.useLayoutEffect,dce=sm.useDebugValue;function hce(e,t){var r=t(),n=lce({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return uce(function(){s.value=r,s.getSnapshot=t,v5(s)&&i({inst:s})},[e,r,t]),cce(function(){return v5(s)&&i({inst:s}),e(function(){v5(s)&&i({inst:s})})},[e]),dce(r),r}function v5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!oce(e,r)}catch{return!0}}function fce(e,t){return t()}var pce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fce:hce;E9.useSyncExternalStore=sm.useSyncExternalStore!==void 0?sm.useSyncExternalStore:pce;C9.exports=E9;var mce=C9.exports;function gce(){return mce.useSyncExternalStore(vce,()=>!0,()=>!1)}function vce(){return()=>{}}var DE="Avatar",[yce,R2e]=Kle(DE),[xce,A9]=yce(DE),P9=w.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=w.useState("idle");return o.jsx(xce,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(IE.span,{...n,ref:t})})});P9.displayName=DE;var T9="AvatarImage",R9=w.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,a=A9(T9,r),l=wce(n,i),c=Kr(u=>{s(u),a.onImageLoadingStatusChange(u)});return Xr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(IE.img,{...i,ref:t,src:n}):null});R9.displayName=T9;var O9="AvatarFallback",L9=w.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=A9(O9,r),[a,l]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(IE.span,{...s,ref:t}):null});L9.displayName=O9;function N3(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function wce(e,{referrerPolicy:t,crossOrigin:r}){const n=gce(),s=w.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[a,l]=w.useState(()=>N3(i,e));return Xr(()=>{l(N3(i,e))},[i,e]),Xr(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),a}var M9=P9,I9=R9,D9=L9;const Lo=w.forwardRef(({className:e,...t},r)=>o.jsx(M9,{ref:r,className:Me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Lo.displayName=M9.displayName;const r2=w.forwardRef(({className:e,...t},r)=>o.jsx(I9,{ref:r,className:Me("aspect-square h-full w-full",e),...t}));r2.displayName=I9.displayName;const Mo=w.forwardRef(({className:e,...t},r)=>o.jsx(D9,{ref:r,className:Me("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Mo.displayName=D9.displayName;const bce=[{name:"Rahul Sharma",role:"Patient",content:"The care I received at Star Hospital was exceptional. The doctors were attentive and the nursing staff was incredibly supportive during my recovery.",rating:5,avatar:"RS"},{name:"Priya Patel",role:"Regular Checkups",content:"I've been using their health packages for 3 years now. The process is seamless, reports are digital, and the advice is very practical.",rating:5,avatar:"PP"},{name:"David Wilson",role:"Emergency Care",content:"Rushed here for an emergency late at night. The response time was phenomenal. Literally saved a life. Forever grateful.",rating:5,avatar:"DW"},{name:"Anita Desai",role:"Maternity Care",content:"The maternity ward is world-class. Dr. Sarah Johnson guided me through a complex pregnancy with so much patience and expertise.",rating:4,avatar:"AD"}];function _ce(){const e=w.useRef(PE({delay:4e3,stopOnInteraction:!0}));return o.jsx("section",{className:"py-20 px-4 bg-muted/30",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Patient Stories"}),o.jsx("p",{className:"text-muted-foreground",children:"What our community says about their experience with us."})]}),o.jsxs(b9,{plugins:[e.current],className:"w-full max-w-5xl mx-auto",opts:{align:"start",loop:!0},children:[o.jsx(_9,{children:bce.map((t,r)=>o.jsx(S9,{className:"md:basis-1/2 lg:basis-1/3 pl-4",children:o.jsx(jt,{className:"h-full border-none shadow-md bg-card/50 hover:bg-card transition-colors",children:o.jsxs(Tt,{className:"p-6 flex flex-col h-full",children:[o.jsx(MJ,{className:"h-8 w-8 text-primary/20 mb-4"}),o.jsxs("p",{className:"text-muted-foreground mb-6 flex-1 italic",children:['"',t.content,'"']}),o.jsxs("div",{className:"flex items-center gap-4 mt-auto",children:[o.jsxs(Lo,{children:[o.jsx(r2,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${t.avatar}`}),o.jsx(Mo,{children:t.avatar})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-sm",children:t.name}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((n,s)=>o.jsx(IC,{className:`h-3 w-3 ${s<t.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},s))})]})]})]})})},r))}),o.jsx(j9,{className:"hidden md:flex"}),o.jsx(N9,{className:"hidden md:flex"})]})]})})}function wc(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var y5="rovingFocusGroup.onEntryFocus",Sce={bubbles:!1,cancelable:!0},G0="RovingFocusGroup",[wN,F9,jce]=km(G0),[Nce,$9]=is(G0,[jce]),[kce,Cce]=Nce(G0),B9=w.forwardRef((e,t)=>o.jsx(wN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(wN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ece,{...e,ref:t})})}));B9.displayName=G0;var Ece=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=w.useRef(null),f=wt(t,p),v=hd(i),[m,x]=va({prop:a,defaultProp:l??null,onChange:c,caller:G0}),[g,b]=w.useState(!1),S=Kr(u),k=F9(r),T=w.useRef(!1),[R,O]=w.useState(0);return w.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(y5,S),()=>D.removeEventListener(y5,S)},[S]),o.jsx(kce,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:w.useCallback(D=>x(D),[x]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:w.useCallback(()=>O(D=>D-1),[]),children:o.jsx(Xe.div,{tabIndex:g||R===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:wc(e.onMouseDown,()=>{T.current=!0}),onFocus:wc(e.onFocus,D=>{const M=!T.current;if(D.target===D.currentTarget&&M&&!g){const G=new CustomEvent(y5,Sce);if(D.currentTarget.dispatchEvent(G),!G.defaultPrevented){const A=k().filter(ne=>ne.focusable),I=A.find(ne=>ne.active),$=A.find(ne=>ne.id===m),ee=[I,$,...A].filter(Boolean).map(ne=>ne.ref.current);z9(ee,d)}}T.current=!1}),onBlur:wc(e.onBlur,()=>b(!1))})})}),U9="RovingFocusGroupItem",q9=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=oi(),u=i||c,d=Cce(U9,r),h=d.currentTabStopId===u,p=F9(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return w.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),o.jsx(wN.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(Xe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:wc(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:wc(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:wc(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=Tce(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(k=>k.focusable).map(k=>k.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const k=S.indexOf(x.currentTarget);S=d.loop?Rce(S,k+1):S.slice(k+1)}setTimeout(()=>z9(S))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:m!=null}):a})})});q9.displayName=U9;var Ace={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Pce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Tce(e,t,r){const n=Pce(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ace[n]}function z9(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Rce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Oce=B9,Lce=q9;function Mce(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var V9=e=>{const{present:t,children:r}=e,n=Ice(t),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=wt(n.ref,Dce(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:i}):null};V9.displayName="Presence";function Ice(e){const[t,r]=w.useState(),n=w.useRef(null),s=w.useRef(e),i=w.useRef("none"),a=e?"mounted":"unmounted",[l,c]=Mce(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=T1(n.current);i.current=l==="mounted"?u:"none"},[l]),Xr(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=T1(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Xr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=T1(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=f=>{f.target===t&&(i.current=T1(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function T1(e){return(e==null?void 0:e.animationName)||"none"}function Dce(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var FE="Radio",[Fce,W9]=is(FE),[$ce,Bce]=Fce(FE),H9=w.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:a,value:l="on",onCheck:c,form:u,...d}=e,[h,p]=w.useState(null),f=wt(t,x=>p(x)),v=w.useRef(!1),m=h?u||!!h.closest("form"):!0;return o.jsxs($ce,{scope:r,checked:s,disabled:a,children:[o.jsx(Xe.button,{type:"button",role:"radio","aria-checked":s,"data-state":J9(s),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:f,onClick:wc(e.onClick,x=>{s||c==null||c(),m&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),m&&o.jsx(K9,{control:h,bubbles:!v.current,name:n,value:l,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});H9.displayName=FE;var G9="RadioIndicator",Y9=w.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=Bce(G9,r);return o.jsx(V9,{present:n||i.checked,children:o.jsx(Xe.span,{"data-state":J9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});Y9.displayName=G9;var Uce="RadioBubbleInput",K9=w.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=w.useRef(null),l=wt(a,i),c=EE(r),u=Ob(t);return w.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const v=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(v)}},[c,r,n]),o.jsx(Xe.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});K9.displayName=Uce;function J9(e){return e?"checked":"unchecked"}var qce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],n2="RadioGroup",[zce,O2e]=is(n2,[$9,W9]),Q9=$9(),Z9=W9(),[Vce,Wce]=zce(n2),X9=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...p}=e,f=Q9(r),v=hd(u),[m,x]=va({prop:i,defaultProp:s??null,onChange:h,caller:n2});return o.jsx(Vce,{scope:r,name:n,required:a,disabled:l,value:m,onValueChange:x,children:o.jsx(Oce,{asChild:!0,...f,orientation:c,dir:v,loop:d,children:o.jsx(Xe.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...p,ref:t})})})});X9.displayName=n2;var eB="RadioGroupItem",tB=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=Wce(eB,r),a=i.disabled||n,l=Q9(r),c=Z9(r),u=w.useRef(null),d=wt(t,u),h=i.value===s.value,p=w.useRef(!1);return w.useEffect(()=>{const f=m=>{qce.includes(m.key)&&(p.current=!0)},v=()=>p.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",v)}},[]),o.jsx(Lce,{asChild:!0,...l,focusable:!a,active:h,children:o.jsx(H9,{disabled:a,required:i.required,checked:h,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:wc(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:wc(s.onFocus,()=>{var f;p.current&&((f=u.current)==null||f.click())})})})});tB.displayName=eB;var Hce="RadioGroupIndicator",rB=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=Z9(r);return o.jsx(Y9,{...s,...n,ref:t})});rB.displayName=Hce;var nB=X9,sB=tB,Gce=rB;const bN=w.forwardRef(({className:e,...t},r)=>o.jsx(nB,{className:Me("grid gap-2",e),...t,ref:r}));bN.displayName=nB.displayName;const rv=w.forwardRef(({className:e,...t},r)=>o.jsx(sB,{ref:r,className:Me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(Gce,{className:"flex items-center justify-center",children:o.jsx(WD,{className:"h-2.5 w-2.5 fill-current text-current"})})}));rv.displayName=sB.displayName;const k3=[{id:"headache",label:"Headache / Dizziness",department:"Neurology"},{id:"chest_pain",label:"Chest Pain / Palpitations",department:"Cardiology"},{id:"stomach",label:"Stomach Pain / Nausea",department:"Gastroenterology"},{id:"joint",label:"Joint Pain / Fracture",department:"Orthopedics"},{id:"skin",label:"Skin Rash / Itching",department:"Dermatology"},{id:"child",label:"Child Health Issue",department:"Pediatrics"}];function Yce(){const[e,t]=w.useState(!1),[r,n]=w.useState(1),[s,i]=w.useState(""),[a,l]=w.useState(""),c=()=>{if(r===1&&!s){qe.error("Please select a primary symptom");return}if(r===2&&!a){qe.error("Please select severity");return}n(r+1)},u=()=>{n(1),i(""),l("")},d=()=>{const h=k3.find(p=>p.id===s);return h?h.department:"General Medicine"};return w.useEffect(()=>{e||u()},[e]),o.jsxs(fs,{open:e,onOpenChange:t,children:[o.jsx(yl,{asChild:!0,children:o.jsxs(ke,{variant:"default",size:"lg",className:"h-16 px-8 rounded-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(gh,{className:"h-6 w-6 mr-2 animate-pulse"}),"AI Symptom Checker"]})}),o.jsxs(ns,{className:"sm:max-w-[500px] border-none shadow-2xl",children:[o.jsxs(Ht,{children:[o.jsxs(It,{className:"text-slate-900 flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(gh,{className:"h-5 w-5 text-blue-600"}),"Symptom Checker"]}),r<3&&o.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Step ",r,"/2"]})]}),r<3&&o.jsx(Ar,{children:"Select what describes your condition best."})]}),o.jsxs(Tt,{children:[r===1&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(lt,{className:"text-base",children:"What represents your main symptom?"}),o.jsx(bN,{value:s,onValueChange:i,className:"grid grid-cols-1 gap-3",children:k3.map(h=>o.jsxs("div",{className:`flex items-center space-x-3 border rounded-lg p-3 cursor-pointer transition-colors ${s===h.id?"border-primary bg-primary/5":"hover:bg-slate-50"}`,children:[o.jsx(rv,{value:h.id,id:h.id}),o.jsx(lt,{htmlFor:h.id,className:"cursor-pointer flex-1",children:h.label})]},h.id))})]}),r===2&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(lt,{className:"text-base",children:"How severe is the pain/discomfort?"}),o.jsxs(bN,{value:a,onValueChange:l,className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-3 cursor-pointer hover:bg-slate-50",children:[o.jsx(rv,{value:"mild",id:"mild"}),o.jsx(lt,{htmlFor:"mild",className:"cursor-pointer flex-1",children:"Mild - Annoying but bearable"})]}),o.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-3 cursor-pointer hover:bg-slate-50",children:[o.jsx(rv,{value:"moderate",id:"moderate"}),o.jsx(lt,{htmlFor:"moderate",className:"cursor-pointer flex-1",children:"Moderate - Affects daily activities"})]}),o.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-3 cursor-pointer hover:bg-red-50 border-red-200",children:[o.jsx(rv,{value:"severe",id:"severe",className:"text-red-600"}),o.jsx(lt,{htmlFor:"severe",className:"cursor-pointer flex-1 text-red-700 font-medium",children:"Severe - Unbearable / Emergency"})]})]}),a==="severe"&&o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 text-red-700 text-sm rounded-lg",children:[o.jsx(VD,{className:"h-5 w-5 shrink-0"}),o.jsx("p",{children:"For severe symptoms, please visit the Emergency Department immediately or call an ambulance."})]})]}),r===3&&o.jsxs("div",{className:"text-center py-4 space-y-4 animation-fade-in",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(gh,{className:"h-8 w-8"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Recommended Department"}),o.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[o.jsx("p",{className:"text-lg font-semibold text-blue-700",children:d()}),o.jsx("p",{className:"text-sm text-blue-600/80 mt-1",children:"Based on your symptoms"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Please note: This is an AI suggestion, not a medical diagnosis."})]})]}),o.jsx(kl,{children:r<3?o.jsxs("div",{className:"flex w-full gap-3",children:[r>1&&o.jsx(ke,{variant:"outline",onClick:()=>n(r-1),className:"flex-1",children:"Back"}),o.jsxs(ke,{onClick:c,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:["Next ",o.jsx(Xp,{className:"ml-2 h-4 w-4"})]})]}):o.jsxs(ke,{onClick:u,variant:"outline",className:"w-full",children:[o.jsx(MC,{className:"mr-2 h-4 w-4"})," Check Another Symptom"]})})]})]})}const Kce={theme:"system",setTheme:()=>null},iB=w.createContext(Kce);function Jce({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"}){const[n,s]=w.useState(()=>localStorage.getItem(r)||t);w.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),n==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(n)},[n]);const i={theme:n,setTheme:a=>{localStorage.setItem(r,a),s(a)}};return o.jsx(iB.Provider,{value:i,children:e})}const Qce=()=>{const e=w.useContext(iB);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function Zce(){const{setTheme:e}=Qce();return o.jsxs(rd,{children:[o.jsx(nd,{asChild:!0,children:o.jsxs(ke,{variant:"outline",size:"icon",className:"rounded-full shadow-sm hover:shadow-md transition-all",children:[o.jsx(UJ,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0 text-orange-500"}),o.jsx(OJ,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100 text-blue-400"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),o.jsxs(Rc,{align:"end",children:[o.jsx(hn,{onClick:()=>e("light"),children:"Light"}),o.jsx(hn,{onClick:()=>e("dark"),children:"Dark"}),o.jsx(hn,{onClick:()=>e("system"),children:"System"})]})]})}const x5=()=>{const e=Ks(),[t,r]=w.useState(!1),[n,s]=w.useState(""),[i,a]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState(""),[h,p]=w.useState(""),f=Qr({mutationFn:async()=>{if(!n||!i)throw new Error("Please provide your name and phone number");const{data:x,error:g}=await Ve.from("callback_requests").insert({name:n,phone:i,preferred_time:u||null,reason:h||null,status:"pending"});if(g)throw g;return x},onSuccess:()=>{qe.success("Callback request submitted! Our AI agent will call you shortly."),r(!1),s(""),a(""),c(""),d(""),p("")},onError:x=>{qe.error(x.message)}}),v=[{id:"101",name:"Dr. Sarah Johnson",specialty:"Cardiology",experience:"15 years",rating:4.9,available:!0},{id:"102",name:"Dr. James Smith",specialty:"Neurology",experience:"12 years",rating:4.8,available:!0},{id:"103",name:"Dr. Emily Chen",specialty:"Pediatrics",experience:"10 years",rating:4.9,available:!0},{id:"104",name:"Dr. Michael Brown",specialty:"Orthopedics",experience:"18 years",rating:4.7,available:!0}],m=[{id:"1",name:"Cardiology",doctors_count:5},{id:"2",name:"Neurology",doctors_count:4},{id:"3",name:"Orthopedics",doctors_count:6},{id:"4",name:"Oncology",doctors_count:3},{id:"5",name:"Pediatrics",doctors_count:4},{id:"6",name:"Emergency",doctors_count:10}];return o.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[o.jsx(lle,{delaySeconds:5}),o.jsx("header",{className:"bg-card shadow-md sticky top-0 z-50 border-b border-border/40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center shadow-lg shadow-primary/20",children:o.jsx("img",{src:"/logo.png",alt:"Medicare Hospital Logo",className:"w-8 h-8 object-contain"})}),o.jsxs("div",{children:[o.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-blue-600",children:"Medicare Hospital"}),o.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block tracking-wide",children:"Excellence in Healthcare"})]})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("div",{className:"mr-2",children:o.jsx(Zce,{})}),o.jsx("div",{className:"hidden lg:flex items-center gap-4 border-r pr-6 border-border",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#0077b5] transition-colors",children:o.jsx(tT,{className:"h-5 w-5"})}),o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#E4405F] transition-colors",children:o.jsx(eT,{className:"h-5 w-5"})}),o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#1DA1F2] transition-colors",children:o.jsx(nT,{className:"h-5 w-5"})}),o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#1877F2] transition-colors",children:o.jsx(ZP,{className:"h-5 w-5"})})]})}),o.jsxs(rd,{children:[o.jsx(nd,{asChild:!0,children:o.jsxs(ke,{size:"lg",className:"gap-2 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsx(AJ,{className:"w-4 h-4"}),"Login"]})}),o.jsxs(Rc,{align:"end",className:"w-56 p-2",children:[o.jsxs(hn,{onClick:()=>e("/patient/login"),className:"cursor-pointer py-3 px-3 focus:bg-primary/10",children:[o.jsx(Va,{className:"mr-2 h-4 w-4 text-primary"}),o.jsx("span",{className:"font-medium",children:"Patient Login"})]}),o.jsxs(hn,{onClick:()=>e("/staff/login"),className:"cursor-pointer py-3 px-3 focus:bg-emerald-50 text-emerald-700",children:[o.jsx(zi,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Staff Login"})]}),o.jsxs(hn,{onClick:()=>e("/admin/login"),className:"cursor-pointer py-3 px-3 focus:bg-purple-50 text-purple-700",children:[o.jsx(I0,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Admin Login"})]})]})]})]})]})})}),o.jsxs("section",{className:"relative bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 py-24 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?q=80&w=2600&auto=format&fit=crop')] bg-cover bg-center opacity-5"}),o.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[o.jsx(Wt,{className:"mb-6 bg-primary/10 text-primary border-primary/20 text-sm px-6 py-2 rounded-full uppercase tracking-wider font-semibold",children:"Trusted by 50,000+ Patients"}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 dark:text-white mb-8 leading-tight tracking-tight",children:["Your Health, Our ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-blue-600",children:"Commitment"})]}),o.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-10 max-w-3xl mx-auto leading-relaxed",children:"Experience world-class healthcare at Medicare Hospital. Our expert team and advanced technology ensure the best care for you and your family."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[o.jsxs(ke,{size:"lg",className:"h-16 px-10 text-xl rounded-full shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300",onClick:()=>e("/patient/register"),children:[o.jsx(Va,{className:"h-6 w-6 mr-2"}),"Book Appointment"]}),o.jsx(ke,{variant:"outline",size:"lg",className:"h-16 px-10 text-xl rounded-full border-2 bg-transparent hover:scale-95 hover:bg-gradient-to-r hover:from-red-500 hover:via-yellow-500 hover:to-green-500 hover:text-white hover:border-transparent hover:shadow-2xl transition-all duration-300 transform",asChild:!0,children:o.jsxs("a",{href:"#contact",children:[o.jsx(za,{className:"h-6 w-6 mr-2 animate-bounce"}),"Contact Us"]})})]})]})]}),o.jsx(dle,{}),o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-12",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Our Expert Doctors"}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Meet our team of experienced healthcare professionals"})]}),o.jsxs(ke,{variant:"outline",className:"hidden md:flex gap-2",onClick:()=>e("/patient/login"),children:["View All Doctors ",o.jsx(Xp,{className:"h-4 w-4"})]})]}),v.length>0?o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:v.map(x=>o.jsx(cle,{name:x.name,specialty:x.specialty,experience:x.experience||void 0,rating:x.rating||4.5,available:x.available??!0},x.id))}):o.jsxs(jt,{className:"p-12 text-center border-dashed",children:[o.jsx(zi,{className:"h-16 w-16 text-muted-foreground/30 mx-auto mb-6"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Doctors Directory Updating"}),o.jsx("p",{className:"text-muted-foreground",children:"We are currently updating our doctor profiles. Please check back shortly."})]})]})}),o.jsx("section",{className:"py-20 px-4 bg-blue-50/50 dark:bg-gray-900/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Center of Excellence"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Specialized departments equipped with advanced technology and staffed by leading specialists."})]}),m.length>0?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:m.map(x=>o.jsxs(jt,{className:"text-center p-6 hover:shadow-xl transition-all duration-300 cursor-pointer border-transparent hover:border-primary/20 group bg-card/50 hover:bg-card",onClick:()=>{window.open(`https://en.wikipedia.org/wiki/${x.name}`,"_blank")},children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/5 group-hover:bg-primary/10 flex items-center justify-center mx-auto mb-4 transition-colors",children:o.jsx(vh,{className:"h-8 w-8 text-primary"})}),o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:x.name}),x.doctors_count&&x.doctors_count>0&&o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[x.doctors_count," Specialists"]})]},x.id))}):o.jsxs("div",{className:"text-center p-12 border-2 border-dashed border-primary/20 rounded-3xl bg-white/50",children:[o.jsx(vh,{className:"w-16 h-16 mx-auto text-primary/30 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-primary/60",children:"Departments Coming Soon"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"We are currently updating our department list."})]})]})}),o.jsx("section",{className:"py-16 px-4 bg-gradient-to-r from-blue-600/5 to-indigo-600/5",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Unsure about your symptoms?"}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Use our AI-powered tool to find the right specialist for you."})]}),o.jsx(Yce,{})]})}),o.jsx(_ce,{}),o.jsxs("section",{id:"contact",className:"py-20 px-4 bg-slate-900 text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 pointer-events-none"}),o.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 lg:gap-16 items-center",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 text-sm font-medium mb-6 backdrop-blur-sm",children:[o.jsx(Lu,{className:"h-4 w-4 text-blue-400"}),o.jsx("span",{className:"text-blue-100",children:"Visit Us Today"})]}),o.jsx("h2",{className:"text-4xl font-bold mb-8 text-white",children:"Contact & Location"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-start gap-6 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/5 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-500/20 transition-colors border border-white/5",children:o.jsx(Lu,{className:"h-6 w-6 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Main Campus"}),o.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["123 Healthcare Avenue, Koregaon Park",o.jsx("br",{}),"Pune, Maharashtra 411001"]})]})]}),o.jsxs("div",{className:"flex items-start gap-6 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/5 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-500/20 transition-colors border border-white/5",children:o.jsx(za,{className:"h-6 w-6 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"24/7 Support"}),o.jsxs("p",{className:"text-slate-300 mb-1",children:["Emergency: ",o.jsx("span",{className:"text-white font-mono font-medium",children:"+91 98765 43210"})]}),o.jsxs("p",{className:"text-slate-300",children:["Appointments: ",o.jsx("span",{className:"text-white font-mono font-medium",children:"+91 88888 88888"})]})]})]}),o.jsxs("div",{className:"flex items-start gap-6 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/5 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-500/20 transition-colors border border-white/5",children:o.jsx(ya,{className:"h-6 w-6 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Working Hours"}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-slate-300",children:[o.jsx("span",{children:"Mon - Sat:"}),o.jsx("span",{className:"text-white",children:"9:00 AM - 8:00 PM"}),o.jsx("span",{children:"Sunday:"}),o.jsx("span",{className:"text-white",children:"10:00 AM - 2:00 PM"}),o.jsx("span",{children:"Emergency:"}),o.jsxs("span",{className:"text-green-400 font-bold flex items-center gap-2",children:[o.jsx(SJ,{className:"w-3 h-3"})," 24 / 7 Open"]})]})]})]})]}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-white/10",children:[o.jsxs(fs,{open:t,onOpenChange:r,children:[o.jsx(yl,{asChild:!0,children:o.jsxs(ke,{size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-6 text-lg shadow-lg hover:shadow-blue-500/25 transition-all duration-300 border border-white/10",children:[o.jsx(Zh,{className:"mr-3 h-5 w-5 animate-pulse"}),"Request a Free Callback"]})}),o.jsxs(ns,{className:"sm:max-w-md bg-white text-slate-900 border-none",children:[o.jsxs(ks,{children:[o.jsx(ps,{className:"text-xl font-bold text-slate-900",children:"Request a Callback"}),o.jsx(Gs,{className:"text-slate-500",children:"Leave your details and our team will contact you shortly."})]}),o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Full Name *"}),o.jsx(ht,{placeholder:"Enter your name",className:"bg-slate-50 border-slate-200 focus:border-blue-500",value:n,onChange:x=>s(x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Phone Number *"}),o.jsx(ht,{placeholder:"Enter your phone number",className:"bg-slate-50 border-slate-200 focus:border-blue-500",value:i,onChange:x=>a(x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Preferred Time"}),o.jsxs(Mr,{value:u,onValueChange:d,children:[o.jsx(Tr,{className:"bg-slate-50 border-slate-200",children:o.jsx(Ir,{placeholder:"Select best time to call"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"morning",children:"Morning (9 AM - 12 PM)"}),o.jsx(He,{value:"afternoon",children:"Afternoon (12 PM - 5 PM)"}),o.jsx(He,{value:"evening",children:"Evening (5 PM - 8 PM)"}),o.jsx(He,{value:"anytime",children:"Anytime"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Reason (Optional)"}),o.jsx(Eo,{placeholder:"How can we help?",className:"bg-slate-50 border-slate-200 focus:border-blue-500",value:h,onChange:x=>p(x.target.value)})]}),o.jsx(ke,{onClick:()=>f.mutate(),disabled:f.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white mt-2",children:f.isPending?"Submitting...":"Submit Request"})]})]})]}),o.jsxs("p",{className:"text-center text-slate-400 text-xs mt-3 flex items-center justify-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Typical response time: 10-15 mins"]})]})]}),o.jsx("div",{className:"w-full h-[350px] bg-slate-800 rounded-3xl overflow-hidden shadow-2xl border border-white/10 relative z-20",children:o.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-slate-800/50 backdrop-blur-sm p-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4",children:o.jsx(Lu,{className:"w-8 h-8 text-blue-400 opacity-50"})}),o.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Location Map"}),o.jsx("p",{className:"text-slate-400",children:"Interactive hospital map coming soon."}),o.jsxs("div",{className:"mt-6 flex flex-col gap-2 text-sm text-slate-500",children:[o.jsx("p",{children:"123 Healthcare Avenue, Koregaon Park"}),o.jsx("p",{children:"Pune, Maharashtra 411001"})]})]})})]})})]}),o.jsx("footer",{className:"bg-slate-950 text-slate-200 border-t border-slate-800 pt-16 pb-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center text-white shadow-lg shadow-blue-900/20",children:o.jsx(vh,{className:"w-6 h-6"})}),o.jsx("span",{className:"text-2xl font-bold text-white",children:"Medicare Hospital"})]}),o.jsx("p",{className:"text-slate-400 leading-relaxed",children:"Excellence in healthcare since 2001. We are committed to providing world-class medical services with compassion and advanced technology."}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx(ke,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-blue-600 hover:text-white hover:border-blue-600 transition-all duration-300",onClick:()=>{},children:o.jsx(ZP,{className:"h-4 w-4"})}),o.jsx(ke,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-sky-500 hover:text-white hover:border-sky-500 transition-all duration-300",onClick:()=>{},children:o.jsx(nT,{className:"h-4 w-4"})}),o.jsx(ke,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-pink-600 hover:text-white hover:border-pink-600 transition-all duration-300",onClick:()=>{},children:o.jsx(eT,{className:"h-4 w-4"})}),o.jsx(ke,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-blue-700 hover:text-white hover:border-blue-700 transition-all duration-300",onClick:()=>{},children:o.jsx(tT,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsxs(Hr,{to:"/patient/login",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(lp,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Patient Portal"]})}),o.jsx("li",{children:o.jsxs(Hr,{to:"/staff/login",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(lp,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Staff Portal"]})}),o.jsx("li",{children:o.jsxs("a",{href:"#contact",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(lp,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Contact Us"]})}),o.jsx("li",{children:o.jsxs(Hr,{to:"/admin/login",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(lp,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Administration"]})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:"Departments"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Cardiology"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Neurology"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Orthopedics"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Pediatrics"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Emergency Care"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:"Get In Touch"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Lu,{className:"h-5 w-5 text-blue-500 mt-1"}),o.jsx("span",{className:"text-slate-400 text-sm",children:"Pune, Maharashtra 411001"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ab,{className:"h-5 w-5 text-blue-500"}),o.jsx("a",{href:"mailto:info@medicarehospital.com",className:"text-slate-400 text-sm hover:text-blue-400",children:"info@medicarehospital.com"})]}),o.jsxs("div",{className:"mt-6 p-4 bg-slate-900 rounded-xl border border-slate-800",children:[o.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Subscribe to our newsletter"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"email",placeholder:"Email address",className:"bg-slate-950 border border-slate-800 rounded-lg px-3 py-2 text-sm w-full focus:outline-none focus:border-blue-500 text-white"}),o.jsx(ke,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:o.jsx(Xp,{className:"h-4 w-4"})})]})]})]})]})]}),o.jsxs("div",{className:"border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-slate-500",children:[o.jsx("p",{children:" 2026 Medicare Hospital. All rights reserved."}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookie Policy"})]})]})]})})]})},aB=({className:e,onLinkClick:t})=>{const r=Tl(),n=Ks(),{user:s,signOut:i}=ci(),{data:a=!1}=fn({queryKey:["is-admin",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Ve.rpc("has_role",{_user_id:s.id.toString(),_role:"admin"});return m?!1:v},enabled:!!s}),{data:l=!1}=fn({queryKey:["is-nurse",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Ve.rpc("has_role",{_user_id:s.id.toString(),_role:"nurse"});return m?!1:v},enabled:!!s}),{data:c=!1}=fn({queryKey:["is-cashier",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Ve.rpc("has_role",{_user_id:s.id.toString(),_role:"cashier"});return m?!1:v},enabled:!!s}),{data:u=!1}=fn({queryKey:["is-receptionist",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Ve.rpc("has_role",{_user_id:s.id.toString(),_role:"receptionist"});return m?!1:v},enabled:!!s}),{data:d=0}=fn({queryKey:["pending-approvals-count"],queryFn:async()=>{const{count:v,error:m}=await Ve.from("staff_approval_requests").select("*",{count:"exact",head:!0}).eq("status","pending");return m?0:v||0},enabled:a}),{data:h=0}=fn({queryKey:["pending-callbacks-count"],queryFn:async()=>{const{count:v,error:m}=await Ve.from("callback_requests").select("*",{count:"exact",head:!0}).eq("status","pending");return m?0:v||0}}),p=async()=>{await i(),n("/"),t==null||t()};let f=[{icon:V_,label:"Dashboard",path:"/dashboard"},{icon:Va,label:"Patients",path:"/patients"},{icon:zi,label:"Doctors",path:"/doctors"},{icon:kj,label:"Appointments",path:"/appointments"},{icon:vh,label:"Departments",path:"/departments"},{icon:Ec,label:"Bed Management",path:"/beds"},...a||u||c?[{icon:rT,label:"Callbacks",path:"/callbacks",badge:h}]:[],{icon:dw,label:"Reports",path:"/reports"},...a?[{icon:JD,label:"Staff Approvals",path:"/staff/approvals",badge:d},{icon:_l,label:"AI Tools",path:"/admin/ai-tools"},{icon:BD,label:"Manage Salaries",path:"/salaries"},{icon:OC,label:"System Info",path:"/admin/info"}]:[]];return l&&!a&&(f=[{icon:V_,label:"Dashboard",path:"/dashboard"},{icon:Va,label:"Patients",path:"/patients"},{icon:zi,label:"Doctors",path:"/doctors"},{icon:Ec,label:"Bed Management",path:"/beds"},{icon:dw,label:"Reports",path:"/reports"},{icon:TC,label:"Rounds & Advice",path:"/nurse/rounds"}]),c&&!a&&(f=[{icon:V_,label:"Dashboard",path:"/staff/dashboard/cashier"},{icon:rT,label:"Callbacks",path:"/callbacks",badge:h},{icon:Va,label:"Patients",path:"/patients"},{icon:zi,label:"Doctors",path:"/doctors"}]),o.jsxs("aside",{className:Me("h-full w-64 bg-sidebar flex flex-col",e),children:[o.jsxs("div",{className:"flex items-center gap-3 px-6 py-6 border-b border-sidebar-border shrink-0",children:[o.jsx("img",{src:"/logo.png",alt:"MediCare Logo",className:"w-10 h-10 object-contain rounded-xl"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-heading font-bold text-sidebar-foreground",children:"MediCare"}),o.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Hospital Management"})]})]}),o.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto",children:f.map(v=>{const m=r.pathname===v.path;return o.jsxs(Hr,{to:v.path,onClick:t,className:Me("flex items-center justify-between px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200",m?"bg-sidebar-primary text-sidebar-primary-foreground shadow-md":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-foreground"),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(v.icon,{className:"w-5 h-5"}),v.label]}),"badge"in v&&v.badge>0&&o.jsx(Wt,{variant:"destructive",className:"text-xs px-1.5 py-0.5 min-w-[20px] h-5",children:v.badge})]},v.path)})}),o.jsxs("div",{className:"px-3 py-4 border-t border-sidebar-border space-y-1 shrink-0",children:[o.jsxs(Hr,{to:"/settings",onClick:t,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-foreground transition-all duration-200",children:[o.jsx($J,{className:"w-5 h-5"}),"Settings"]}),o.jsxs("button",{onClick:p,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-sidebar-foreground/70 hover:bg-destructive/20 hover:text-destructive transition-all duration-200",children:[o.jsx(LC,{className:"w-5 h-5"}),"Logout"]})]})]})},Xce=C$,eue=E$,tue=A$,oB=w.forwardRef(({className:e,...t},r)=>o.jsx(Gb,{className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));oB.displayName=Gb.displayName;const rue=Em("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),lB=w.forwardRef(({side:e="right",className:t,children:r,...n},s)=>o.jsxs(tue,{children:[o.jsx(oB,{}),o.jsxs(Yb,{ref:s,className:Me(rue({side:e}),t),...n,children:[r,o.jsxs(P$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Pm,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lB.displayName=Yb.displayName;const nue=w.forwardRef(({className:e,...t},r)=>o.jsx(Kb,{ref:r,className:Me("text-lg font-semibold text-foreground",e),...t}));nue.displayName=Kb.displayName;const sue=w.forwardRef(({className:e,...t},r)=>o.jsx(Jb,{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));sue.displayName=Jb.displayName;function iue(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var $E="ScrollArea",[cB,L2e]=is($E),[aue,Za]=cB($E),uB=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=w.useState(null),[u,d]=w.useState(null),[h,p]=w.useState(null),[f,v]=w.useState(null),[m,x]=w.useState(null),[g,b]=w.useState(0),[S,k]=w.useState(0),[T,R]=w.useState(!1),[O,D]=w.useState(!1),M=wt(t,A=>c(A)),G=hd(s);return o.jsx(aue,{scope:r,type:n,dir:G,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:T,onScrollbarXEnabledChange:R,scrollbarY:m,onScrollbarYChange:x,scrollbarYEnabled:O,onScrollbarYEnabledChange:D,onCornerWidthChange:b,onCornerHeightChange:k,children:o.jsx(Xe.div,{dir:G,...a,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});uB.displayName=$E;var dB="ScrollAreaViewport",hB=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,a=Za(dB,r),l=w.useRef(null),c=wt(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});hB.displayName=dB;var Rl="ScrollAreaScrollbar",BE=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Za(Rl,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return w.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(oue,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(lue,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(fB,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(UE,{...n,ref:t}):null});BE.displayName=Rl;var oue=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Za(Rl,e.__scopeScrollArea),[i,a]=w.useState(!1);return w.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(_a,{present:r||i,children:o.jsx(fB,{"data-state":i?"visible":"hidden",...n,ref:t})})}),lue=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Za(Rl,e.__scopeScrollArea),i=e.orientation==="horizontal",a=i2(()=>c("SCROLL_END"),100),[l,c]=iue("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),w.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const f=u[d];h!==f&&(c("SCROLL"),a()),h=f};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,c,a]),o.jsx(_a,{present:r||l!=="hidden",children:o.jsx(UE,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:dt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:dt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fB=w.forwardRef((e,t)=>{const r=Za(Rl,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,a]=w.useState(!1),l=e.orientation==="horizontal",c=i2(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:d)}},10);return im(r.viewport,c),im(r.content,c),o.jsx(_a,{present:n||i,children:o.jsx(UE,{"data-state":i?"visible":"hidden",...s,ref:t})})}),UE=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Za(Rl,e.__scopeScrollArea),i=w.useRef(null),a=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=yB(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function h(p,f){return pue(p,a.current,l,f)}return r==="horizontal"?o.jsx(cue,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,f=C3(p,l,s.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):r==="vertical"?o.jsx(uue,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,f=C3(p,l);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),cue=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Za(Rl,e.__scopeScrollArea),[a,l]=w.useState(),c=w.useRef(null),u=wt(t,c,i.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mB,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":s2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),wB(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Rw(a.paddingLeft),paddingEnd:Rw(a.paddingRight)}})}})}),uue=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Za(Rl,e.__scopeScrollArea),[a,l]=w.useState(),c=w.useRef(null),u=wt(t,c,i.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mB,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":s2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),wB(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Rw(a.paddingTop),paddingEnd:Rw(a.paddingBottom)}})}})}),[due,pB]=cB(Rl),mB=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,f=Za(Rl,r),[v,m]=w.useState(null),x=wt(t,M=>m(M)),g=w.useRef(null),b=w.useRef(""),S=f.viewport,k=n.content-n.viewport,T=Kr(d),R=Kr(c),O=i2(h,10);function D(M){if(g.current){const G=M.clientX-g.current.left,A=M.clientY-g.current.top;u({x:G,y:A})}}return w.useEffect(()=>{const M=G=>{const A=G.target;(v==null?void 0:v.contains(A))&&T(G,k)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[S,v,k,T]),w.useEffect(R,[n,R]),im(v,O),im(f.content,O),o.jsx(due,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Kr(i),onThumbPointerUp:Kr(a),onThumbPositionChange:R,onThumbPointerDown:Kr(l),children:o.jsx(Xe.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:dt(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),g.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),D(M))}),onPointerMove:dt(e.onPointerMove,D),onPointerUp:dt(e.onPointerUp,M=>{const G=M.target;G.hasPointerCapture(M.pointerId)&&G.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),g.current=null})})})}),Tw="ScrollAreaThumb",gB=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=pB(Tw,e.__scopeScrollArea);return o.jsx(_a,{present:r||s.hasThumb,children:o.jsx(hue,{ref:t,...n})})}),hue=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Za(Tw,r),a=pB(Tw,r),{onThumbPositionChange:l}=a,c=wt(t,h=>a.onThumbChange(h)),u=w.useRef(void 0),d=i2(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!u.current){const f=mue(h,l);u.current=f,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,l]),o.jsx(Xe.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:dt(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),v=h.clientX-f.left,m=h.clientY-f.top;a.onThumbPointerDown({x:v,y:m})}),onPointerUp:dt(e.onPointerUp,a.onThumbPointerUp)})});gB.displayName=Tw;var qE="ScrollAreaCorner",vB=w.forwardRef((e,t)=>{const r=Za(qE,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(fue,{...e,ref:t}):null});vB.displayName=qE;var fue=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Za(qE,r),[i,a]=w.useState(0),[l,c]=w.useState(0),u=!!(i&&l);return im(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),im(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?o.jsx(Xe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Rw(e){return e?parseInt(e,10):0}function yB(e,t){const r=e/t;return isNaN(r)?0:r}function s2(e){const t=yB(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function pue(e,t,r,n="ltr"){const s=s2(r),i=s/2,a=t||i,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return xB([c,u],h)(e)}function C3(e,t,r="ltr"){const n=s2(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,a]:[a*-1,0],u=hN(e,c);return xB([0,a],[0,l])(u)}function xB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function wB(e,t){return e>0&&e<t}var mue=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,l=r.top!==i.top;(a||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function i2(e,t){const r=Kr(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function im(e,t){const r=Kr(t);Xr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var bB=uB,gue=hB,vue=vB;const _p=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(bB,{ref:n,className:Me("relative overflow-hidden",e),...r,children:[o.jsx(gue,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(_B,{}),o.jsx(vue,{})]}));_p.displayName=bB.displayName;const _B=w.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(BE,{ref:n,orientation:t,className:Me("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(gB,{className:"relative flex-1 rounded-full bg-border"})}));_B.displayName=BE.displayName;const yue=()=>{const e=Pn();return w.useEffect(()=>{const t=Ve.channel("notifications-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications"},r=>{e.invalidateQueries({queryKey:["notifications"]});const n=r.new;Zr({title:n.title,description:n.message})}).subscribe();return()=>{Ve.removeChannel(t)}},[e]),fn({queryKey:["notifications"],queryFn:async()=>{const{data:t,error:r}=await Ve.from("notifications").select("*").order("created_at",{ascending:!1}).limit(50);if(r)throw r;return t}})},xue=()=>fn({queryKey:["notifications","unread-count"],queryFn:async()=>{const{count:e,error:t}=await Ve.from("notifications").select("*",{count:"exact",head:!0}).eq("is_read",!1);if(t)throw t;return e||0}}),wue=()=>{const e=Pn();return Qr({mutationFn:async t=>{const{error:r}=await Ve.from("notifications").update({is_read:!0}).eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]})}})},bue=()=>{const e=Pn();return Qr({mutationFn:async()=>{const{error:t}=await Ve.from("notifications").update({is_read:!0}).eq("is_read",!1);if(t)throw t},onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]}),Zr({title:"Success",description:"All notifications marked as read"})}})},_ue=()=>{const e=Pn();return Qr({mutationFn:async t=>{const{error:r}=await Ve.from("notifications").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]})}})};function Gt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Wi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function wi(e,t){const r=Gt(e);return isNaN(t)?Wi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Io(e,t){const r=Gt(e);if(isNaN(t))return Wi(e,NaN);if(!t)return r;const n=r.getDate(),s=Wi(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const zE=6048e5,Sue=864e5,R1=43200,E3=1440;let jue={};function Vm(){return jue}function Cl(e,t){var l,c,u,d;const r=Vm(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Gt(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Mh(e){return Cl(e,{weekStartsOn:1})}function SB(e){const t=Gt(e),r=t.getFullYear(),n=Wi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Mh(n),i=Wi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=Mh(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function am(e){const t=Gt(e);return t.setHours(0,0,0,0),t}function om(e){const t=Gt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function hl(e,t){const r=am(e),n=am(t),s=+r-om(r),i=+n-om(n);return Math.round((s-i)/Sue)}function Nue(e){const t=SB(e),r=Wi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Mh(r)}function _N(e,t){const r=t*7;return wi(e,r)}function kue(e,t){return Io(e,t*12)}function Cue(e){let t;return e.forEach(function(r){const n=Gt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Eue(e){let t;return e.forEach(r=>{const n=Gt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Nx(e,t){const r=Gt(e),n=Gt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Aue(e){return Wi(e,Date.now())}function Fi(e,t){const r=am(e),n=am(t);return+r==+n}function VE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Pue(e){if(!VE(e)&&typeof e!="number")return!1;const t=Gt(e);return!isNaN(Number(t))}function lm(e,t){const r=Gt(e),n=Gt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Tue(e,t,r){const n=Cl(e,r),s=Cl(t,r),i=+n-om(n),a=+s-om(s);return Math.round((i-a)/zE)}function Rue(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Oue(e,t){return+Gt(e)-+Gt(t)}function Lue(e){const t=Gt(e);return t.setHours(23,59,59,999),t}function a2(e){const t=Gt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Mue(e){const t=Gt(e);return+Lue(t)==+a2(t)}function Iue(e,t){const r=Gt(e),n=Gt(t),s=Nx(r,n),i=Math.abs(lm(r,n));let a;if(i<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Nx(r,n)===-s;Mue(Gt(e))&&i===1&&Nx(e,n)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function Due(e,t,r){const n=Oue(e,t)/1e3;return Rue(r==null?void 0:r.roundingMethod)(n)}function Vi(e){const t=Gt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function jB(e){const t=Gt(e),r=Wi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function WE(e,t){var l,c,u,d;const r=Vm(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Gt(e),i=s.getDay(),a=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function NB(e){return WE(e,{weekStartsOn:1})}const Fue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$ue=(e,t,r)=>{let n;const s=Fue[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function w5(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Bue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Uue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},que={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zue={date:w5({formats:Bue,defaultWidth:"full"}),time:w5({formats:Uue,defaultWidth:"full"}),dateTime:w5({formats:que,defaultWidth:"full"})},Vue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wue=(e,t,r,n)=>Vue[e];function Fg(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Hue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Que={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zue=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Xue={ordinalNumber:Zue,era:Fg({values:Hue,defaultWidth:"wide"}),quarter:Fg({values:Gue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fg({values:Yue,defaultWidth:"wide"}),day:Fg({values:Kue,defaultWidth:"wide"}),dayPeriod:Fg({values:Jue,defaultWidth:"wide",formattingValues:Que,defaultFormattingWidth:"wide"})};function $g(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?tde(l,h=>h.test(a)):ede(l,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function ede(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function tde(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function rde(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const nde=/^(\d+)(th|st|nd|rd)?/i,sde=/\d+/i,ide={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ade={any:[/^b/i,/^(a|c)/i]},ode={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lde={any:[/1/i,/2/i,/3/i,/4/i]},cde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ude={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mde={ordinalNumber:rde({matchPattern:nde,parsePattern:sde,valueCallback:e=>parseInt(e,10)}),era:$g({matchPatterns:ide,defaultMatchWidth:"wide",parsePatterns:ade,defaultParseWidth:"any"}),quarter:$g({matchPatterns:ode,defaultMatchWidth:"wide",parsePatterns:lde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$g({matchPatterns:cde,defaultMatchWidth:"wide",parsePatterns:ude,defaultParseWidth:"any"}),day:$g({matchPatterns:dde,defaultMatchWidth:"wide",parsePatterns:hde,defaultParseWidth:"any"}),dayPeriod:$g({matchPatterns:fde,defaultMatchWidth:"any",parsePatterns:pde,defaultParseWidth:"any"})},HE={code:"en-US",formatDistance:$ue,formatLong:zue,formatRelative:Wue,localize:Xue,match:mde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gde(e){const t=Gt(e);return hl(t,jB(t))+1}function kB(e){const t=Gt(e),r=+Mh(t)-+Nue(t);return Math.round(r/zE)+1}function CB(e,t){var d,h,p,f;const r=Gt(e),n=r.getFullYear(),s=Vm(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(p=s.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=Wi(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const l=Cl(a,t),c=Wi(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Cl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function vde(e,t){var l,c,u,d;const r=Vm(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=CB(e,t),i=Wi(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Cl(i,t)}function EB(e,t){const r=Gt(e),n=+Cl(r,t)-+vde(r,t);return Math.round(n/zE)+1}function Wr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const su={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Wr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Wr(r+1,2)},d(e,t){return Wr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Wr(e.getHours()%12||12,t.length)},H(e,t){return Wr(e.getHours(),t.length)},m(e,t){return Wr(e.getMinutes(),t.length)},s(e,t){return Wr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Wr(s,t.length)}},If={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},A3={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return su.y(e,t)},Y:function(e,t,r,n){const s=CB(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Wr(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Wr(i,t.length)},R:function(e,t){const r=SB(e);return Wr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Wr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Wr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Wr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return su.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Wr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=EB(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Wr(s,t.length)},I:function(e,t,r){const n=kB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Wr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):su.d(e,t)},D:function(e,t,r){const n=gde(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Wr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Wr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Wr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Wr(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=If.noon:n===0?s=If.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=If.evening:n>=12?s=If.afternoon:n>=4?s=If.morning:s=If.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return su.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):su.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Wr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Wr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):su.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):su.s(e,t)},S:function(e,t){return su.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return T3(n);case"XXXX":case"XX":return Vd(n);case"XXXXX":case"XXX":default:return Vd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return T3(n);case"xxxx":case"xx":return Vd(n);case"xxxxx":case"xxx":default:return Vd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+P3(n,":");case"OOOO":default:return"GMT"+Vd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+P3(n,":");case"zzzz":default:return"GMT"+Vd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Wr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Wr(n,t.length)}};function P3(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Wr(i,2)}function T3(e,t){return e%60===0?(e>0?"-":"+")+Wr(Math.abs(e)/60,2):Vd(e,t)}function Vd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Wr(Math.trunc(n/60),2),i=Wr(n%60,2);return r+s+t+i}const R3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},AB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yde=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return R3(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",R3(n,t)).replace("{{time}}",AB(s,t))},xde={p:AB,P:yde},wde=/^D+$/,bde=/^Y+$/,_de=["D","DD","YY","YYYY"];function Sde(e){return wde.test(e)}function jde(e){return bde.test(e)}function Nde(e,t,r){const n=kde(e,t,r);if(console.warn(n),_de.includes(e))throw new RangeError(n)}function kde(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Cde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ede=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ade=/^'([^]*?)'?$/,Pde=/''/g,Tde=/[a-zA-Z]/;function vn(e,t,r){var d,h,p,f,v,m,x,g;const n=Vm(),s=(r==null?void 0:r.locale)??n.locale??HE,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((g=(x=n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,l=Gt(e);if(!Pue(l))throw new RangeError("Invalid time value");let c=t.match(Ede).map(b=>{const S=b[0];if(S==="p"||S==="P"){const k=xde[S];return k(b,s.formatLong)}return b}).join("").match(Cde).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const S=b[0];if(S==="'")return{isToken:!1,value:Rde(b)};if(A3[S])return{isToken:!0,value:b};if(S.match(Tde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const S=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&jde(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Sde(S))&&Nde(S,t,String(e));const k=A3[S[0]];return k(l,S,s.localize,u)}).join("")}function Rde(e){const t=e.match(Ade);return t?t[1].replace(Pde,"'"):e}function Ode(e,t,r){const n=Vm(),s=(r==null?void 0:r.locale)??n.locale??HE,i=2520,a=Nx(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,u;a>0?(c=Gt(t),u=Gt(e)):(c=Gt(e),u=Gt(t));const d=Due(u,c),h=(om(u)-om(c))/1e3,p=Math.round((d-h)/60);let f;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<E3){const v=Math.round(p/60);return s.formatDistance("aboutXHours",v,l)}else{if(p<i)return s.formatDistance("xDays",1,l);if(p<R1){const v=Math.round(p/E3);return s.formatDistance("xDays",v,l)}else if(p<R1*2)return f=Math.round(p/R1),s.formatDistance("aboutXMonths",f,l)}if(f=Iue(u,c),f<12){const v=Math.round(p/R1);return s.formatDistance("xMonths",v,l)}else{const v=f%12,m=Math.trunc(f/12);return v<3?s.formatDistance("aboutXYears",m,l):v<9?s.formatDistance("overXYears",m,l):s.formatDistance("almostXYears",m+1,l)}}function Lde(e,t){return Ode(e,Aue(e),t)}function Mde(e){const t=Gt(e),r=t.getFullYear(),n=t.getMonth(),s=Wi(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Ide(e){return Math.trunc(+Gt(e)/1e3)}function Dde(e){const t=Gt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Fde(e,t){return Tue(Dde(e),Vi(e),t)+1}function SN(e,t){const r=Gt(e),n=Gt(t);return r.getTime()>n.getTime()}function PB(e,t){const r=Gt(e),n=Gt(t);return+r<+n}function GE(e,t){const r=Gt(e),n=Gt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function $de(e,t){const r=Gt(e),n=Gt(t);return r.getFullYear()===n.getFullYear()}function b5(e,t){return wi(e,-t)}function _5(e,t){const r=Gt(e),n=r.getFullYear(),s=r.getDate(),i=Wi(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const a=Mde(i);return r.setMonth(t,Math.min(s,a)),r}function O3(e,t){const r=Gt(e);return isNaN(+r)?Wi(e,NaN):(r.setFullYear(t),r)}const Bde=e=>{switch(e){case"success":return o.jsx(Sl,{className:"w-4 h-4 text-success"});case"warning":return o.jsx(fw,{className:"w-4 h-4 text-warning"});case"error":return o.jsx(em,{className:"w-4 h-4 text-destructive"});default:return o.jsx(OC,{className:"w-4 h-4 text-info"})}},Ude=({notification:e})=>{const t=wue(),r=_ue();return o.jsx("div",{className:Me("p-3 border-b border-border last:border-0 hover:bg-muted/50 transition-colors",!e.is_read&&"bg-primary/5"),children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-0.5",children:Bde(e.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:Me("text-sm font-medium",!e.is_read&&"font-semibold"),children:e.title}),o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:e.message}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Lde(new Date(e.created_at),{addSuffix:!0})})]}),o.jsxs("div",{className:"flex gap-1",children:[!e.is_read&&o.jsx(ke,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:n=>{n.stopPropagation(),t.mutate(e.id)},children:o.jsx(AC,{className:"w-3 h-3"})}),o.jsx(ke,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive",onClick:n=>{n.stopPropagation(),r.mutate(e.id)},children:o.jsx(Am,{className:"w-3 h-3"})})]})]})})},qde=()=>{const{data:e,isLoading:t}=yue(),{data:r}=xue(),n=bue();return o.jsxs(rd,{children:[o.jsx(nd,{asChild:!0,children:o.jsxs(ke,{variant:"ghost",size:"icon",className:"relative",children:[o.jsx(UD,{className:"w-5 h-5 text-muted-foreground"}),(r??0)>0&&o.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 bg-destructive text-destructive-foreground text-xs font-medium rounded-full flex items-center justify-center",children:r>99?"99+":r})]})}),o.jsxs(Rc,{align:"end",className:"w-80",children:[o.jsxs(SE,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Notifications"}),(r??0)>0&&o.jsxs(ke,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>n.mutate(),children:[o.jsx(wJ,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),o.jsx(nm,{}),o.jsx(_p,{className:"h-[300px]",children:t?o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Loading notifications..."}):e&&e.length>0?e.map(s=>o.jsx(Ude,{notification:s},s.id)):o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications yet"})})]})]})},zde=({title:e,subtitle:t})=>{const{user:r,signOut:n}=ci(),[s,i]=w.useState(!1),{data:a}=fn({queryKey:["user-role-header",r==null?void 0:r.id],queryFn:async()=>{if(!r)return null;const h=["admin","doctor","nurse","receptionist","cashier"];for(const p of h){const{data:f}=await Ve.rpc("has_role",{_user_id:r.id.toString(),_role:p});if(f)return p}return"patient"},enabled:!!r}),l=h=>{switch(h){case"admin":return"bg-purple-100 text-purple-800 hover:bg-purple-200";case"doctor":return"bg-blue-100 text-blue-800 hover:bg-blue-200";case"nurse":return"bg-pink-100 text-pink-800 hover:bg-pink-200";case"cashier":return"bg-emerald-100 text-emerald-800 hover:bg-emerald-200";case"receptionist":return"bg-orange-100 text-orange-800 hover:bg-orange-200";default:return"bg-gray-100 text-gray-800"}},c=async()=>{await n(),qe.success("Signed out successfully")},u=()=>r!=null&&r.email?r.email.charAt(0).toUpperCase():"U",d=()=>r!=null&&r.fullName?r.fullName:r!=null&&r.email?r.email.split("@")[0]:"User";return o.jsxs("header",{className:"h-16 bg-card border-b border-border flex items-center justify-between px-4 lg:px-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Xce,{open:s,onOpenChange:i,children:[o.jsx(eue,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",className:"lg:hidden",children:o.jsx(PJ,{className:"h-6 w-6"})})}),o.jsx(lB,{side:"left",className:"p-0 border-r-0 w-64",children:o.jsx(aB,{className:"h-full border-r-0",onLinkClick:()=>i(!1)})})]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-heading font-semibold text-foreground",children:e}),t&&o.jsx("p",{className:"text-sm text-muted-foreground hidden sm:block",children:t})]})]}),o.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[o.jsxs("div",{className:"relative w-full max-w-[200px] hidden md:block",children:[o.jsx(El,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search...",className:"pl-10 bg-secondary border-0 h-9"})]}),o.jsx(qde,{}),o.jsxs(rd,{children:[o.jsx(nd,{asChild:!0,children:o.jsxs(ke,{variant:"ghost",className:"flex items-center gap-2 px-2",children:[o.jsxs("div",{className:"text-right hidden md:block mr-2",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:d()}),a&&o.jsx(Wt,{className:`mt-1 text-[10px] h-4 px-1.5 ${l(a)}`,children:a.toUpperCase()})]}),o.jsxs(Lo,{className:"w-8 h-8",children:[o.jsx(r2,{src:""}),o.jsx(Mo,{className:"bg-primary text-primary-foreground text-sm",children:u()})]}),o.jsx(PC,{className:"w-4 h-4 text-muted-foreground"})]})}),o.jsxs(Rc,{align:"end",className:"w-48",children:[o.jsx(SE,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:d()}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:r==null?void 0:r.email}),a&&o.jsx(Wt,{className:`w-fit mt-1 ${l(a)}`,children:a})]})}),o.jsx(nm,{}),o.jsx(hn,{onClick:()=>window.location.href="/settings",children:"Profile"}),o.jsx(hn,{onClick:()=>window.location.href="/settings",children:"Settings"}),o.jsx(nm,{}),o.jsx(hn,{className:"text-destructive",onClick:c,children:"Logout"})]})]})]})]})},An=({children:e,title:t,subtitle:r})=>o.jsxs("div",{className:"min-h-screen bg-background flex",children:[o.jsx("div",{className:"hidden lg:block fixed inset-y-0 left-0 z-50 w-64 border-r bg-sidebar",children:o.jsx(aB,{className:"h-full w-full border-r-0"})}),o.jsxs("div",{className:"flex-1 flex flex-col lg:pl-64 w-full transition-all duration-300",children:[o.jsx(zde,{title:t,subtitle:r}),o.jsx("main",{className:"flex-1 p-4 lg:p-6 overflow-x-hidden",children:e})]})]}),Vde={primary:"bg-primary/10 text-primary",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning",info:"bg-info/10 text-info",destructive:"bg-destructive/10 text-destructive"},ji=({title:e,value:t,change:r,changeType:n="neutral",icon:s,iconColor:i="primary"})=>o.jsx("div",{className:"bg-card rounded-xl p-6 card-shadow animate-fade-in border border-border/50",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),o.jsx("p",{className:"mt-2 text-3xl font-heading font-bold text-foreground",children:t}),r&&o.jsx("p",{className:Me("mt-2 text-sm font-medium",n==="positive"&&"text-success",n==="negative"&&"text-destructive",n==="neutral"&&"text-muted-foreground"),children:r})]}),o.jsx("div",{className:Me("p-3 rounded-xl",Vde[i]),children:o.jsx(s,{className:"w-6 h-6"})})]})}),Wm=()=>fn({queryKey:["patients"],queryFn:async()=>{const{data:e,error:t}=await Ve.from("patients").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}}),Wde=()=>{const e=Pn();return Qr({mutationFn:async t=>{const{data:r,error:n}=await Ve.from("patients").insert([{...t,patient_id:""}]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["patients"]}),Zr({title:"Success",description:"Patient added successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})},Hde=()=>{const e=Pn();return Qr({mutationFn:async t=>{const{error:r}=await Ve.from("patients").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["patients"]}),Zr({title:"Success",description:"Patient deleted successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})},Hm=()=>fn({queryKey:["doctors"],queryFn:async()=>{const{data:e,error:t}=await Ve.from("doctors").select("*").order("name");if(t)throw t;return e}}),Gde=()=>{const e=Pn();return Qr({mutationFn:async t=>{const{data:r,error:n}=await Ve.from("doctors").insert([t]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["doctors"]}),Zr({title:"Success",description:"Doctor added successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})},Yde=()=>{const e=Pn();return Qr({mutationFn:async({id:t,...r})=>{const{data:n,error:s}=await Ve.from("doctors").update(r).eq("id",t).select().single();if(s)throw s;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["doctors"]}),Zr({title:"Success",description:"Doctor updated successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})},Kde=()=>{const e=Pn();return Qr({mutationFn:async t=>{const{error:r}=await Ve.from("doctors").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["doctors"]}),Zr({title:"Success",description:"Doctor deleted successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})},o2=e=>fn({queryKey:["appointments",e],queryFn:async()=>{let t=Ve.from("appointments").select(`
          *,
          patients (name, patient_id),
          doctors (name, specialty)
        `).order("appointment_time");e&&(t=t.eq("appointment_date",e));const{data:r,error:n}=await t;if(n)throw n;return r}}),Jde=()=>{const e=Pn();return Qr({mutationFn:async t=>{const{data:r,error:n}=await Ve.from("appointments").insert([t]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["appointments"]}),Zr({title:"Success",description:"Appointment scheduled successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})},Qde=()=>{const e=Pn();return Qr({mutationFn:async({id:t,...r})=>{const{data:n,error:s}=await Ve.from("appointments").update(r).eq("id",t).select().single();if(s)throw s;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["appointments"]}),Zr({title:"Success",description:"Appointment updated successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})},Zde=()=>{const e=Pn();return Qr({mutationFn:async t=>{const{error:r}=await Ve.from("appointments").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["appointments"]}),Zr({title:"Success",description:"Appointment cancelled successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})},md=()=>fn({queryKey:["departments"],queryFn:async()=>{const{data:e,error:t}=await Ve.from("departments").select("*").order("name");if(t)throw t;return e}}),Xde=()=>{const e=Pn();return Qr({mutationFn:async t=>{const{error:r}=await Ve.from("departments").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["departments"]}),Zr({title:"Success",description:"Department deleted successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})};var YE="Progress",KE=100,[ehe,M2e]=is(YE),[the,rhe]=ehe(YE),TB=w.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=nhe,...a}=e;(s||s===0)&&!L3(s)&&console.error(she(`${s}`,"Progress"));const l=L3(s)?s:KE;n!==null&&!M3(n,l)&&console.error(ihe(`${n}`,"Progress"));const c=M3(n,l)?n:null,u=Ow(c)?i(c,l):void 0;return o.jsx(the,{scope:r,value:c,max:l,children:o.jsx(Xe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ow(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":LB(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});TB.displayName=YE;var RB="ProgressIndicator",OB=w.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=rhe(RB,r);return o.jsx(Xe.div,{"data-state":LB(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});OB.displayName=RB;function nhe(e,t){return`${Math.round(e/t*100)}%`}function LB(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ow(e){return typeof e=="number"}function L3(e){return Ow(e)&&!isNaN(e)&&e>0}function M3(e,t){return Ow(e)&&!isNaN(e)&&e<=t&&e>=0}function she(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${KE}\`.`}function ihe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${KE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MB=TB,ahe=OB;const l2=w.forwardRef(({className:e,value:t,...r},n)=>o.jsx(MB,{ref:n,className:Me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(ahe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));l2.displayName=MB.displayName;var Y0=e=>e.type==="checkbox",eh=e=>e instanceof Date,bi=e=>e==null;const IB=e=>typeof e=="object";var ss=e=>!bi(e)&&!Array.isArray(e)&&IB(e)&&!eh(e),DB=e=>ss(e)&&e.target?Y0(e.target)?e.target.checked:e.target.value:e,ohe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,FB=(e,t)=>e.has(ohe(t)),lhe=e=>{const t=e.constructor&&e.constructor.prototype;return ss(t)&&t.hasOwnProperty("isPrototypeOf")},JE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _s(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(JE&&(e instanceof Blob||n))&&(r||ss(e)))if(t=r?[]:{},!r&&!lhe(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=_s(e[s]));else return e;return t}var c2=e=>/^\w*$/.test(e),Zn=e=>e===void 0,QE=e=>Array.isArray(e)?e.filter(Boolean):[],ZE=e=>QE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ze=(e,t,r)=>{if(!t||!ss(e))return r;const n=(c2(t)?[t]:ZE(t)).reduce((s,i)=>bi(s)?s:s[i],e);return Zn(n)||n===e?Zn(e[t])?r:e[t]:n},aa=e=>typeof e=="boolean",Vr=(e,t,r)=>{let n=-1;const s=c2(t)?[t]:ZE(t),i=s.length,a=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==a){const u=e[l];c=ss(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Lw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},So={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},XE=Re.createContext(null);XE.displayName="HookFormContext";const u2=()=>Re.useContext(XE),che=e=>{const{children:t,...r}=e;return Re.createElement(XE.Provider,{value:r},t)};var $B=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==So.all&&(t._proxyFormState[a]=!n||So.all),r&&(r[a]=!0),e[a]}});return s};const eA=typeof window<"u"?Re.useLayoutEffect:Re.useEffect;function uhe(e){const t=u2(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[a,l]=Re.useState(r._formState),c=Re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return eA(()=>r._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,i]),Re.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Re.useMemo(()=>$B(a,r,c.current,!1),[a,r])}var fl=e=>typeof e=="string",BB=(e,t,r,n,s)=>fl(e)?(n&&t.watch.add(e),Ze(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ze(r,i))):(n&&(t.watchAll=!0),r),jN=e=>bi(e)||!IB(e);function dc(e,t,r=new WeakSet){if(jN(e)||jN(t))return e===t;if(eh(e)&&eh(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(eh(a)&&eh(l)||ss(a)&&ss(l)||Array.isArray(a)&&Array.isArray(l)?!dc(a,l,r):a!==l)return!1}}return!0}function dhe(e){const t=u2(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:a,compute:l}=e||{},c=Re.useRef(s),u=Re.useRef(l),d=Re.useRef(void 0);u.current=l;const h=Re.useMemo(()=>r._getWatch(n,c.current),[r,n]),[p,f]=Re.useState(u.current?u.current(h):h);return eA(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:v=>{if(!i){const m=BB(n,r._names,v.values||r._formValues,!1,c.current);if(u.current){const x=u.current(m);dc(x,d.current)||(f(x),d.current=x)}else f(m)}}}),[r,i,n,a]),Re.useEffect(()=>r._removeUnmounted()),p}function hhe(e){const t=u2(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i,defaultValue:a}=e,l=FB(s._names.array,r),c=Re.useMemo(()=>Ze(s._formValues,r,Ze(s._defaultValues,r,a)),[s,r,a]),u=dhe({control:s,name:r,defaultValue:c,exact:!0}),d=uhe({control:s,name:r,exact:!0}),h=Re.useRef(e),p=Re.useRef(s.register(r,{...e.rules,value:u,...aa(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const f=Re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ze(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ze(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ze(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ze(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ze(d.errors,r)}}),[d,r]),v=Re.useCallback(b=>p.current.onChange({target:{value:DB(b),name:r},type:Lw.CHANGE}),[r]),m=Re.useCallback(()=>p.current.onBlur({target:{value:Ze(s._formValues,r),name:r},type:Lw.BLUR}),[r,s._formValues]),x=Re.useCallback(b=>{const S=Ze(s._fields,r);S&&b&&(S._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:k=>b.setCustomValidity(k),reportValidity:()=>b.reportValidity()})},[s._fields,r]),g=Re.useMemo(()=>({name:r,value:u,...aa(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:v,onBlur:m,ref:x}),[r,n,d.disabled,v,m,x,u]);return Re.useEffect(()=>{const b=s._options.shouldUnregister||i;s.register(r,{...h.current.rules,...aa(h.current.disabled)?{disabled:h.current.disabled}:{}});const S=(k,T)=>{const R=Ze(s._fields,k);R&&R._f&&(R._f.mount=T)};if(S(r,!0),b){const k=_s(Ze(s._options.defaultValues,r));Vr(s._defaultValues,r,k),Zn(Ze(s._formValues,r))&&Vr(s._formValues,r,k)}return!l&&s.register(r),()=>{(l?b&&!s._state.action:b)?s.unregister(r):S(r,!1)}},[r,s,l,i]),Re.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),Re.useMemo(()=>({field:g,formState:d,fieldState:f}),[g,d,f])}const fhe=e=>e.render(hhe(e));var UB=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Sv=e=>Array.isArray(e)?e:[e],I3=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Li=e=>ss(e)&&!Object.keys(e).length,tA=e=>e.type==="file",jo=e=>typeof e=="function",Mw=e=>{if(!JE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},qB=e=>e.type==="select-multiple",rA=e=>e.type==="radio",phe=e=>rA(e)||Y0(e),S5=e=>Mw(e)&&e.isConnected;function mhe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Zn(e)?n++:e[t[n++]];return e}function ghe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Zn(e[t]))return!1;return!0}function us(e,t){const r=Array.isArray(t)?t:c2(t)?[t]:ZE(t),n=r.length===1?e:mhe(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(ss(n)&&Li(n)||Array.isArray(n)&&ghe(n))&&us(e,r.slice(0,-1)),e}var zB=e=>{for(const t in e)if(jo(e[t]))return!0;return!1};function Iw(e,t={}){const r=Array.isArray(e);if(ss(e)||r)for(const n in e)Array.isArray(e[n])||ss(e[n])&&!zB(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Iw(e[n],t[n])):bi(e[n])||(t[n]=!0);return t}function VB(e,t,r){const n=Array.isArray(e);if(ss(e)||n)for(const s in e)Array.isArray(e[s])||ss(e[s])&&!zB(e[s])?Zn(t)||jN(r[s])?r[s]=Array.isArray(e[s])?Iw(e[s],[]):{...Iw(e[s])}:VB(e[s],bi(t)?{}:t[s],r[s]):r[s]=!dc(e[s],t[s]);return r}var Bg=(e,t)=>VB(e,t,Iw(t));const D3={value:!1,isValid:!1},F3={value:!0,isValid:!0};var WB=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Zn(e[0].attributes.value)?Zn(e[0].value)||e[0].value===""?F3:{value:e[0].value,isValid:!0}:F3:D3}return D3},HB=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Zn(e)?e:t?e===""?NaN:e&&+e:r&&fl(e)?new Date(e):n?n(e):e;const $3={isValid:!1,value:null};var GB=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,$3):$3;function B3(e){const t=e.ref;return tA(t)?t.files:rA(t)?GB(e.refs).value:qB(t)?[...t.selectedOptions].map(({value:r})=>r):Y0(t)?WB(e.refs).value:HB(Zn(t.value)?e.ref.value:t.value,e)}var vhe=(e,t,r,n)=>{const s={};for(const i of e){const a=Ze(t,i);a&&Vr(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Dw=e=>e instanceof RegExp,Ug=e=>Zn(e)?e:Dw(e)?e.source:ss(e)?Dw(e.value)?e.value.source:e.value:e,U3=e=>({isOnSubmit:!e||e===So.onSubmit,isOnBlur:e===So.onBlur,isOnChange:e===So.onChange,isOnAll:e===So.all,isOnTouch:e===So.onTouched});const q3="AsyncFunction";var yhe=e=>!!e&&!!e.validate&&!!(jo(e.validate)&&e.validate.constructor.name===q3||ss(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===q3)),xhe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),z3=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const jv=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Ze(e,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(jv(l,t))break}else if(ss(l)&&jv(l,t))break}}};function V3(e,t,r){const n=Ze(e,r);if(n||c2(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=Ze(t,i),l=Ze(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var whe=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Li(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||So.all))},bhe=(e,t,r)=>!e||!t||e===t||Sv(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),_he=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,She=(e,t)=>!QE(Ze(e,t)).length&&us(e,t),jhe=(e,t,r)=>{const n=Sv(Ze(e,r));return Vr(n,"root",t[r]),Vr(e,r,n),e},kx=e=>fl(e);function W3(e,t,r="validate"){if(kx(e)||Array.isArray(e)&&e.every(kx)||aa(e)&&!e)return{type:r,message:kx(e)?e:"",ref:t}}var Df=e=>ss(e)&&!Dw(e)?e:{value:e,message:""},H3=async(e,t,r,n,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:h,max:p,pattern:f,validate:v,name:m,valueAsNumber:x,mount:g}=e._f,b=Ze(r,m);if(!g||t.has(m))return{};const S=l?l[0]:a,k=I=>{s&&S.reportValidity&&(S.setCustomValidity(aa(I)?"":I||""),S.reportValidity())},T={},R=rA(a),O=Y0(a),D=R||O,M=(x||tA(a))&&Zn(a.value)&&Zn(b)||Mw(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,G=UB.bind(null,m,n,T),A=(I,$,q,ee=Jl.maxLength,ne=Jl.minLength)=>{const te=I?$:q;T[m]={type:I?ee:ne,message:te,ref:a,...G(I?ee:ne,te)}};if(i?!Array.isArray(b)||!b.length:c&&(!D&&(M||bi(b))||aa(b)&&!b||O&&!WB(l).isValid||R&&!GB(l).isValid)){const{value:I,message:$}=kx(c)?{value:!!c,message:c}:Df(c);if(I&&(T[m]={type:Jl.required,message:$,ref:S,...G(Jl.required,$)},!n))return k($),T}if(!M&&(!bi(h)||!bi(p))){let I,$;const q=Df(p),ee=Df(h);if(!bi(b)&&!isNaN(b)){const ne=a.valueAsNumber||b&&+b;bi(q.value)||(I=ne>q.value),bi(ee.value)||($=ne<ee.value)}else{const ne=a.valueAsDate||new Date(b),te=pe=>new Date(new Date().toDateString()+" "+pe),W=a.type=="time",Z=a.type=="week";fl(q.value)&&b&&(I=W?te(b)>te(q.value):Z?b>q.value:ne>new Date(q.value)),fl(ee.value)&&b&&($=W?te(b)<te(ee.value):Z?b<ee.value:ne<new Date(ee.value))}if((I||$)&&(A(!!I,q.message,ee.message,Jl.max,Jl.min),!n))return k(T[m].message),T}if((u||d)&&!M&&(fl(b)||i&&Array.isArray(b))){const I=Df(u),$=Df(d),q=!bi(I.value)&&b.length>+I.value,ee=!bi($.value)&&b.length<+$.value;if((q||ee)&&(A(q,I.message,$.message),!n))return k(T[m].message),T}if(f&&!M&&fl(b)){const{value:I,message:$}=Df(f);if(Dw(I)&&!b.match(I)&&(T[m]={type:Jl.pattern,message:$,ref:a,...G(Jl.pattern,$)},!n))return k($),T}if(v){if(jo(v)){const I=await v(b,r),$=W3(I,S);if($&&(T[m]={...$,...G(Jl.validate,$.message)},!n))return k($.message),T}else if(ss(v)){let I={};for(const $ in v){if(!Li(I)&&!n)break;const q=W3(await v[$](b,r),S,$);q&&(I={...q,...G($,q.message)},k(q.message),n&&(T[m]=I))}if(!Li(I)&&(T[m]={ref:S,...I},!n))return T}}return k(!0),T};const Nhe={mode:So.onSubmit,reValidateMode:So.onChange,shouldFocusError:!0};function khe(e={}){let t={...Nhe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:jo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=ss(t.defaultValues)||ss(t.values)?_s(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:_s(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:I3(),state:I3()},f=t.criteriaMode===So.all,v=re=>ce=>{clearTimeout(u),u=setTimeout(re,ce)},m=async re=>{if(!t.disabled&&(d.isValid||h.isValid||re)){const ce=t.resolver?Li((await O()).errors):await M(n,!0);ce!==r.isValid&&p.state.next({isValid:ce})}},x=(re,ce)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((re||Array.from(l.mount)).forEach(xe=>{xe&&(ce?Vr(r.validatingFields,xe,ce):us(r.validatingFields,xe))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Li(r.validatingFields)}))},g=(re,ce=[],xe,Ne,Oe=!0,Ce=!0)=>{if(Ne&&xe&&!t.disabled){if(a.action=!0,Ce&&Array.isArray(Ze(n,re))){const Le=xe(Ze(n,re),Ne.argA,Ne.argB);Oe&&Vr(n,re,Le)}if(Ce&&Array.isArray(Ze(r.errors,re))){const Le=xe(Ze(r.errors,re),Ne.argA,Ne.argB);Oe&&Vr(r.errors,re,Le),She(r.errors,re)}if((d.touchedFields||h.touchedFields)&&Ce&&Array.isArray(Ze(r.touchedFields,re))){const Le=xe(Ze(r.touchedFields,re),Ne.argA,Ne.argB);Oe&&Vr(r.touchedFields,re,Le)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Bg(s,i)),p.state.next({name:re,isDirty:A(re,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Vr(i,re,ce)},b=(re,ce)=>{Vr(r.errors,re,ce),p.state.next({errors:r.errors})},S=re=>{r.errors=re,p.state.next({errors:r.errors,isValid:!1})},k=(re,ce,xe,Ne)=>{const Oe=Ze(n,re);if(Oe){const Ce=Ze(i,re,Zn(xe)?Ze(s,re):xe);Zn(Ce)||Ne&&Ne.defaultChecked||ce?Vr(i,re,ce?Ce:B3(Oe._f)):q(re,Ce),a.mount&&m()}},T=(re,ce,xe,Ne,Oe)=>{let Ce=!1,Le=!1;const et={name:re};if(!t.disabled){if(!xe||Ne){(d.isDirty||h.isDirty)&&(Le=r.isDirty,r.isDirty=et.isDirty=A(),Ce=Le!==et.isDirty);const at=dc(Ze(s,re),ce);Le=!!Ze(r.dirtyFields,re),at?us(r.dirtyFields,re):Vr(r.dirtyFields,re,!0),et.dirtyFields=r.dirtyFields,Ce=Ce||(d.dirtyFields||h.dirtyFields)&&Le!==!at}if(xe){const at=Ze(r.touchedFields,re);at||(Vr(r.touchedFields,re,xe),et.touchedFields=r.touchedFields,Ce=Ce||(d.touchedFields||h.touchedFields)&&at!==xe)}Ce&&Oe&&p.state.next(et)}return Ce?et:{}},R=(re,ce,xe,Ne)=>{const Oe=Ze(r.errors,re),Ce=(d.isValid||h.isValid)&&aa(ce)&&r.isValid!==ce;if(t.delayError&&xe?(c=v(()=>b(re,xe)),c(t.delayError)):(clearTimeout(u),c=null,xe?Vr(r.errors,re,xe):us(r.errors,re)),(xe?!dc(Oe,xe):Oe)||!Li(Ne)||Ce){const Le={...Ne,...Ce&&aa(ce)?{isValid:ce}:{},errors:r.errors,name:re};r={...r,...Le},p.state.next(Le)}},O=async re=>{x(re,!0);const ce=await t.resolver(i,t.context,vhe(re||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(re),ce},D=async re=>{const{errors:ce}=await O(re);if(re)for(const xe of re){const Ne=Ze(ce,xe);Ne?Vr(r.errors,xe,Ne):us(r.errors,xe)}else r.errors=ce;return ce},M=async(re,ce,xe={valid:!0})=>{for(const Ne in re){const Oe=re[Ne];if(Oe){const{_f:Ce,...Le}=Oe;if(Ce){const et=l.array.has(Ce.name),at=Oe._f&&yhe(Oe._f);at&&d.validatingFields&&x([Ne],!0);const Qe=await H3(Oe,l.disabled,i,f,t.shouldUseNativeValidation&&!ce,et);if(at&&d.validatingFields&&x([Ne]),Qe[Ce.name]&&(xe.valid=!1,ce))break;!ce&&(Ze(Qe,Ce.name)?et?jhe(r.errors,Qe,Ce.name):Vr(r.errors,Ce.name,Qe[Ce.name]):us(r.errors,Ce.name))}!Li(Le)&&await M(Le,ce,xe)}}return xe.valid},G=()=>{for(const re of l.unMount){const ce=Ze(n,re);ce&&(ce._f.refs?ce._f.refs.every(xe=>!S5(xe)):!S5(ce._f.ref))&&F(re)}l.unMount=new Set},A=(re,ce)=>!t.disabled&&(re&&ce&&Vr(i,re,ce),!dc(pe(),s)),I=(re,ce,xe)=>BB(re,l,{...a.mount?i:Zn(ce)?s:fl(re)?{[re]:ce}:ce},xe,ce),$=re=>QE(Ze(a.mount?i:s,re,t.shouldUnregister?Ze(s,re,[]):[])),q=(re,ce,xe={})=>{const Ne=Ze(n,re);let Oe=ce;if(Ne){const Ce=Ne._f;Ce&&(!Ce.disabled&&Vr(i,re,HB(ce,Ce)),Oe=Mw(Ce.ref)&&bi(ce)?"":ce,qB(Ce.ref)?[...Ce.ref.options].forEach(Le=>Le.selected=Oe.includes(Le.value)):Ce.refs?Y0(Ce.ref)?Ce.refs.forEach(Le=>{(!Le.defaultChecked||!Le.disabled)&&(Array.isArray(Oe)?Le.checked=!!Oe.find(et=>et===Le.value):Le.checked=Oe===Le.value||!!Oe)}):Ce.refs.forEach(Le=>Le.checked=Le.value===Oe):tA(Ce.ref)?Ce.ref.value="":(Ce.ref.value=Oe,Ce.ref.type||p.state.next({name:re,values:_s(i)})))}(xe.shouldDirty||xe.shouldTouch)&&T(re,Oe,xe.shouldTouch,xe.shouldDirty,!0),xe.shouldValidate&&Z(re)},ee=(re,ce,xe)=>{for(const Ne in ce){if(!ce.hasOwnProperty(Ne))return;const Oe=ce[Ne],Ce=re+"."+Ne,Le=Ze(n,Ce);(l.array.has(re)||ss(Oe)||Le&&!Le._f)&&!eh(Oe)?ee(Ce,Oe,xe):q(Ce,Oe,xe)}},ne=(re,ce,xe={})=>{const Ne=Ze(n,re),Oe=l.array.has(re),Ce=_s(ce);Vr(i,re,Ce),Oe?(p.array.next({name:re,values:_s(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&xe.shouldDirty&&p.state.next({name:re,dirtyFields:Bg(s,i),isDirty:A(re,Ce)})):Ne&&!Ne._f&&!bi(Ce)?ee(re,Ce,xe):q(re,Ce,xe),z3(re,l)&&p.state.next({...r,name:re}),p.state.next({name:a.mount?re:void 0,values:_s(i)})},te=async re=>{a.mount=!0;const ce=re.target;let xe=ce.name,Ne=!0;const Oe=Ze(n,xe),Ce=at=>{Ne=Number.isNaN(at)||eh(at)&&isNaN(at.getTime())||dc(at,Ze(i,xe,at))},Le=U3(t.mode),et=U3(t.reValidateMode);if(Oe){let at,Qe;const bt=ce.type?B3(Oe._f):DB(re),rt=re.type===Lw.BLUR||re.type===Lw.FOCUS_OUT,Fr=!xhe(Oe._f)&&!t.resolver&&!Ze(r.errors,xe)&&!Oe._f.deps||_he(rt,Ze(r.touchedFields,xe),r.isSubmitted,et,Le),qt=z3(xe,l,rt);Vr(i,xe,bt),rt?(Oe._f.onBlur&&Oe._f.onBlur(re),c&&c(0)):Oe._f.onChange&&Oe._f.onChange(re);const Ot=T(xe,bt,rt),zt=!Li(Ot)||qt;if(!rt&&p.state.next({name:xe,type:re.type,values:_s(i)}),Fr)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?rt&&m():rt||m()),zt&&p.state.next({name:xe,...qt?{}:Ot});if(!rt&&qt&&p.state.next({...r}),t.resolver){const{errors:lr}=await O([xe]);if(Ce(bt),Ne){const _t=V3(r.errors,n,xe),br=V3(lr,n,_t.name||xe);at=br.error,xe=br.name,Qe=Li(lr)}}else x([xe],!0),at=(await H3(Oe,l.disabled,i,f,t.shouldUseNativeValidation))[xe],x([xe]),Ce(bt),Ne&&(at?Qe=!1:(d.isValid||h.isValid)&&(Qe=await M(n,!0)));Ne&&(Oe._f.deps&&Z(Oe._f.deps),R(xe,Qe,at,Ot))}},W=(re,ce)=>{if(Ze(r.errors,ce)&&re.focus)return re.focus(),1},Z=async(re,ce={})=>{let xe,Ne;const Oe=Sv(re);if(t.resolver){const Ce=await D(Zn(re)?re:Oe);xe=Li(Ce),Ne=re?!Oe.some(Le=>Ze(Ce,Le)):xe}else re?(Ne=(await Promise.all(Oe.map(async Ce=>{const Le=Ze(n,Ce);return await M(Le&&Le._f?{[Ce]:Le}:Le)}))).every(Boolean),!(!Ne&&!r.isValid)&&m()):Ne=xe=await M(n);return p.state.next({...!fl(re)||(d.isValid||h.isValid)&&xe!==r.isValid?{}:{name:re},...t.resolver||!re?{isValid:xe}:{},errors:r.errors}),ce.shouldFocus&&!Ne&&jv(n,W,re?Oe:l.mount),Ne},pe=re=>{const ce={...a.mount?i:s};return Zn(re)?ce:fl(re)?Ze(ce,re):re.map(xe=>Ze(ce,xe))},ve=(re,ce)=>({invalid:!!Ze((ce||r).errors,re),isDirty:!!Ze((ce||r).dirtyFields,re),error:Ze((ce||r).errors,re),isValidating:!!Ze(r.validatingFields,re),isTouched:!!Ze((ce||r).touchedFields,re)}),U=re=>{re&&Sv(re).forEach(ce=>us(r.errors,ce)),p.state.next({errors:re?r.errors:{}})},_=(re,ce,xe)=>{const Ne=(Ze(n,re,{_f:{}})._f||{}).ref,Oe=Ze(r.errors,re)||{},{ref:Ce,message:Le,type:et,...at}=Oe;Vr(r.errors,re,{...at,...ce,ref:Ne}),p.state.next({name:re,errors:r.errors,isValid:!1}),xe&&xe.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},C=(re,ce)=>jo(re)?p.state.subscribe({next:xe=>"values"in xe&&re(I(void 0,ce),xe)}):I(re,ce,!0),E=re=>p.state.subscribe({next:ce=>{bhe(re.name,ce.name,re.exact)&&whe(ce,re.formState||d,Ye,re.reRenderRoot)&&re.callback({values:{...i},...r,...ce,defaultValues:s})}}).unsubscribe,B=re=>(a.mount=!0,h={...h,...re.formState},E({...re,formState:h})),F=(re,ce={})=>{for(const xe of re?Sv(re):l.mount)l.mount.delete(xe),l.array.delete(xe),ce.keepValue||(us(n,xe),us(i,xe)),!ce.keepError&&us(r.errors,xe),!ce.keepDirty&&us(r.dirtyFields,xe),!ce.keepTouched&&us(r.touchedFields,xe),!ce.keepIsValidating&&us(r.validatingFields,xe),!t.shouldUnregister&&!ce.keepDefaultValue&&us(s,xe);p.state.next({values:_s(i)}),p.state.next({...r,...ce.keepDirty?{isDirty:A()}:{}}),!ce.keepIsValid&&m()},Q=({disabled:re,name:ce})=>{(aa(re)&&a.mount||re||l.disabled.has(ce))&&(re?l.disabled.add(ce):l.disabled.delete(ce))},se=(re,ce={})=>{let xe=Ze(n,re);const Ne=aa(ce.disabled)||aa(t.disabled);return Vr(n,re,{...xe||{},_f:{...xe&&xe._f?xe._f:{ref:{name:re}},name:re,mount:!0,...ce}}),l.mount.add(re),xe?Q({disabled:aa(ce.disabled)?ce.disabled:t.disabled,name:re}):k(re,!0,ce.value),{...Ne?{disabled:ce.disabled||t.disabled}:{},...t.progressive?{required:!!ce.required,min:Ug(ce.min),max:Ug(ce.max),minLength:Ug(ce.minLength),maxLength:Ug(ce.maxLength),pattern:Ug(ce.pattern)}:{},name:re,onChange:te,onBlur:te,ref:Oe=>{if(Oe){se(re,ce),xe=Ze(n,re);const Ce=Zn(Oe.value)&&Oe.querySelectorAll&&Oe.querySelectorAll("input,select,textarea")[0]||Oe,Le=phe(Ce),et=xe._f.refs||[];if(Le?et.find(at=>at===Ce):Ce===xe._f.ref)return;Vr(n,re,{_f:{...xe._f,...Le?{refs:[...et.filter(S5),Ce,...Array.isArray(Ze(s,re))?[{}]:[]],ref:{type:Ce.type,name:re}}:{ref:Ce}}}),k(re,!1,void 0,Ce)}else xe=Ze(n,re,{}),xe._f&&(xe._f.mount=!1),(t.shouldUnregister||ce.shouldUnregister)&&!(FB(l.array,re)&&a.action)&&l.unMount.add(re)}}},le=()=>t.shouldFocusError&&jv(n,W,l.mount),ue=re=>{aa(re)&&(p.state.next({disabled:re}),jv(n,(ce,xe)=>{const Ne=Ze(n,xe);Ne&&(ce.disabled=Ne._f.disabled||re,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(Oe=>{Oe.disabled=Ne._f.disabled||re}))},0,!1))},fe=(re,ce)=>async xe=>{let Ne;xe&&(xe.preventDefault&&xe.preventDefault(),xe.persist&&xe.persist());let Oe=_s(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Ce,values:Le}=await O();r.errors=Ce,Oe=_s(Le)}else await M(n);if(l.disabled.size)for(const Ce of l.disabled)us(Oe,Ce);if(us(r.errors,"root"),Li(r.errors)){p.state.next({errors:{}});try{await re(Oe,xe)}catch(Ce){Ne=Ce}}else ce&&await ce({...r.errors},xe),le(),setTimeout(le);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Li(r.errors)&&!Ne,submitCount:r.submitCount+1,errors:r.errors}),Ne)throw Ne},_e=(re,ce={})=>{Ze(n,re)&&(Zn(ce.defaultValue)?ne(re,_s(Ze(s,re))):(ne(re,ce.defaultValue),Vr(s,re,_s(ce.defaultValue))),ce.keepTouched||us(r.touchedFields,re),ce.keepDirty||(us(r.dirtyFields,re),r.isDirty=ce.defaultValue?A(re,_s(Ze(s,re))):A()),ce.keepError||(us(r.errors,re),d.isValid&&m()),p.state.next({...r}))},Ie=(re,ce={})=>{const xe=re?_s(re):s,Ne=_s(xe),Oe=Li(re),Ce=Oe?s:Ne;if(ce.keepDefaultValues||(s=xe),!ce.keepValues){if(ce.keepDirtyValues){const Le=new Set([...l.mount,...Object.keys(Bg(s,i))]);for(const et of Array.from(Le))Ze(r.dirtyFields,et)?Vr(Ce,et,Ze(i,et)):ne(et,Ze(Ce,et))}else{if(JE&&Zn(re))for(const Le of l.mount){const et=Ze(n,Le);if(et&&et._f){const at=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(Mw(at)){const Qe=at.closest("form");if(Qe){Qe.reset();break}}}}if(ce.keepFieldsRef)for(const Le of l.mount)ne(Le,Ze(Ce,Le));else n={}}i=t.shouldUnregister?ce.keepDefaultValues?_s(s):{}:_s(Ce),p.array.next({values:{...Ce}}),p.state.next({values:{...Ce}})}l={mount:ce.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,a.watch=!!t.shouldUnregister,p.state.next({submitCount:ce.keepSubmitCount?r.submitCount:0,isDirty:Oe?!1:ce.keepDirty?r.isDirty:!!(ce.keepDefaultValues&&!dc(re,s)),isSubmitted:ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Oe?{}:ce.keepDirtyValues?ce.keepDefaultValues&&i?Bg(s,i):r.dirtyFields:ce.keepDefaultValues&&re?Bg(s,re):ce.keepDirty?r.dirtyFields:{},touchedFields:ce.keepTouched?r.touchedFields:{},errors:ce.keepErrors?r.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},J=(re,ce)=>Ie(jo(re)?re(i):re,ce),De=(re,ce={})=>{const xe=Ze(n,re),Ne=xe&&xe._f;if(Ne){const Oe=Ne.refs?Ne.refs[0]:Ne.ref;Oe.focus&&(Oe.focus(),ce.shouldSelect&&jo(Oe.select)&&Oe.select())}},Ye=re=>{r={...r,...re}},me={control:{register:se,unregister:F,getFieldState:ve,handleSubmit:fe,setError:_,_subscribe:E,_runSchema:O,_focusError:le,_getWatch:I,_getDirty:A,_setValid:m,_setFieldArray:g,_setDisabledField:Q,_setErrors:S,_getFieldArray:$,_reset:Ie,_resetDefaultValues:()=>jo(t.defaultValues)&&t.defaultValues().then(re=>{J(re,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:ue,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(re){a=re},get _defaultValues(){return s},get _names(){return l},set _names(re){l=re},get _formState(){return r},get _options(){return t},set _options(re){t={...t,...re}}},subscribe:B,trigger:Z,register:se,handleSubmit:fe,watch:C,setValue:ne,getValues:pe,reset:J,resetField:_e,clearErrors:U,unregister:F,setError:_,setFocus:De,getFieldState:ve};return{...me,formControl:me}}function K0(e={}){const t=Re.useRef(void 0),r=Re.useRef(void 0),[n,s]=Re.useState({isDirty:!1,isValidating:!1,isLoading:jo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:jo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!jo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...l}=khe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,eA(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),Re.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Re.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Re.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Re.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Re.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),Re.useEffect(()=>{e.values&&!dc(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),Re.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=$B(n,i),t.current}const G3=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ze(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},YB=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?G3(n.ref,r,e):n.refs&&n.refs.forEach(s=>G3(s,r,e))}},Che=(e,t)=>{t.shouldUseNativeValidation&&YB(e,t);const r={};for(const n in e){const s=Ze(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(Ehe(t.names||Object.keys(e),n)){const a=Object.assign({},Ze(r,n));Vr(a,"root",i),Vr(r,n,a)}else Vr(r,n,i)}return r},Ehe=(e,t)=>e.some(r=>r.startsWith(t+"."));var Ahe=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=r[a].types,u=c&&c[n.code];r[a]=UB(a,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},J0=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&YB({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:Che(Ahe(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},Or;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Or||(Or={}));var Y3;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Y3||(Y3={}));const gt=Or.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mu=e=>{switch(typeof e){case"undefined":return gt.undefined;case"string":return gt.string;case"number":return Number.isNaN(e)?gt.nan:gt.number;case"boolean":return gt.boolean;case"function":return gt.function;case"bigint":return gt.bigint;case"symbol":return gt.symbol;case"object":return Array.isArray(e)?gt.array:e===null?gt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?gt.promise:typeof Map<"u"&&e instanceof Map?gt.map:typeof Set<"u"&&e instanceof Set?gt.set:typeof Date<"u"&&e instanceof Date?gt.date:gt.object;default:return gt.unknown}},Ge=Or.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Oc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Oc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Or.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Oc.create=e=>new Oc(e);const NN=(e,t)=>{let r;switch(e.code){case Ge.invalid_type:e.received===gt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ge.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Or.jsonStringifyReplacer)}`;break;case Ge.unrecognized_keys:r=`Unrecognized key(s) in object: ${Or.joinValues(e.keys,", ")}`;break;case Ge.invalid_union:r="Invalid input";break;case Ge.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Or.joinValues(e.options)}`;break;case Ge.invalid_enum_value:r=`Invalid enum value. Expected ${Or.joinValues(e.options)}, received '${e.received}'`;break;case Ge.invalid_arguments:r="Invalid function arguments";break;case Ge.invalid_return_type:r="Invalid function return type";break;case Ge.invalid_date:r="Invalid date";break;case Ge.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Or.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ge.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ge.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ge.custom:r="Invalid input";break;case Ge.invalid_intersection_types:r="Intersection results could not be merged";break;case Ge.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ge.not_finite:r="Number must be finite";break;default:r=t.defaultError,Or.assertNever(e)}return{message:r}};let Phe=NN;function The(){return Phe}const Rhe=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function it(e,t){const r=The(),n=Rhe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===NN?void 0:NN].filter(s=>!!s)});e.common.issues.push(n)}class xa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Zt;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return xa.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Zt;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}}const Zt=Object.freeze({status:"aborted"}),nv=e=>({status:"dirty",value:e}),Xa=e=>({status:"valid",value:e}),K3=e=>e.status==="aborted",J3=e=>e.status==="dirty",cm=e=>e.status==="valid",Fw=e=>typeof Promise<"u"&&e instanceof Promise;var xt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xt||(xt={}));class sd{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Q3=(e,t)=>{if(cm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Oc(e.common.issues);return this._error=r,this._error}}};function ar(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,l)=>{const{message:c}=e;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Pr{get description(){return this._def.description}_getType(t){return mu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:mu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new xa,ctx:{common:t.parent.common,data:t.data,parsedType:mu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Fw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mu(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Q3(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mu(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return cm(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>cm(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mu(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Fw(s)?s:Promise.resolve(s));return Q3(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=t(s),l=()=>i.addIssue({code:Ge.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new hm({schema:this,typeName:Xt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Gu.create(this,this._def)}nullable(){return fm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xl.create(this)}promise(){return qw.create(this,this._def)}or(t){return Bw.create([this,t],this._def)}and(t){return Uw.create(this,t,this._def)}transform(t){return new hm({...ar(this._def),schema:this,typeName:Xt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new AN({...ar(this._def),innerType:this,defaultValue:r,typeName:Xt.ZodDefault})}brand(){return new tfe({typeName:Xt.ZodBranded,type:this,...ar(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new PN({...ar(this._def),innerType:this,catchValue:r,typeName:Xt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return nA.create(this,t)}readonly(){return TN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ohe=/^c[^\s-]{8,}$/i,Lhe=/^[0-9a-z]+$/,Mhe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ihe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Dhe=/^[a-z0-9_-]{21}$/i,Fhe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$he=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Bhe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Uhe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let j5;const qhe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zhe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Vhe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Whe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Hhe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ghe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,KB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Yhe=new RegExp(`^${KB}$`);function JB(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Khe(e){return new RegExp(`^${JB(e)}$`)}function Jhe(e){let t=`${KB}T${JB(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Qhe(e,t){return!!((t==="v4"||!t)&&qhe.test(e)||(t==="v6"||!t)&&Vhe.test(e))}function Zhe(e,t){if(!Fhe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function Xhe(e,t){return!!((t==="v4"||!t)&&zhe.test(e)||(t==="v6"||!t)&&Whe.test(e))}class pc extends Pr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==gt.string){const i=this._getOrReturnCtx(t);return it(i,{code:Ge.invalid_type,expected:gt.string,received:i.parsedType}),Zt}const n=new xa;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),it(s,{code:Ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),it(s,{code:Ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(t,s),a?it(s,{code:Ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&it(s,{code:Ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Bhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"email",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")j5||(j5=new RegExp(Uhe,"u")),j5.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"emoji",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Ihe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"uuid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Dhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"nanoid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Ohe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"cuid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Lhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"cuid2",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Mhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"ulid",code:Ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),it(s,{validation:"url",code:Ge.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"regex",code:Ge.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),it(s,{code:Ge.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),it(s,{code:Ge.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),it(s,{code:Ge.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Jhe(i).test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{code:Ge.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Yhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{code:Ge.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Khe(i).test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{code:Ge.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?$he.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"duration",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Qhe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"ip",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Zhe(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"jwt",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Xhe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"cidr",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Hhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"base64",code:Ge.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Ghe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"base64url",code:Ge.invalid_string,message:i.message}),n.dirty()):Or.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:Ge.invalid_string,...xt.errToObj(n)})}_addCheck(t){return new pc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...xt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...xt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...xt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...xt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...xt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...xt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...xt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...xt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...xt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...xt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...xt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...xt.errToObj(r)})}nonempty(t){return this.min(1,xt.errToObj(t))}trim(){return new pc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}pc.create=e=>new pc({checks:[],typeName:Xt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ar(e)});function efe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}class Ih extends Pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==gt.number){const i=this._getOrReturnCtx(t);return it(i,{code:Ge.invalid_type,expected:gt.number,received:i.parsedType}),Zt}let n;const s=new xa;for(const i of this._def.checks)i.kind==="int"?Or.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:Ge.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Ge.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Ge.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?efe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),it(n,{code:Ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:Ge.not_finite,message:i.message}),s.dirty()):Or.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,xt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,xt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,xt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,xt.toString(r))}setLimit(t,r,n,s){return new Ih({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:xt.toString(s)}]})}_addCheck(t){return new Ih({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:xt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Or.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ih.create=e=>new Ih({checks:[],typeName:Xt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ar(e)});class Dh extends Pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==gt.bigint)return this._getInvalidInput(t);let n;const s=new xa;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Ge.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Ge.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Or.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return it(r,{code:Ge.invalid_type,expected:gt.bigint,received:r.parsedType}),Zt}gte(t,r){return this.setLimit("min",t,!0,xt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,xt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,xt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,xt.toString(r))}setLimit(t,r,n,s){return new Dh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:xt.toString(s)}]})}_addCheck(t){return new Dh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Dh.create=e=>new Dh({checks:[],typeName:Xt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ar(e)});class $w extends Pr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==gt.boolean){const n=this._getOrReturnCtx(t);return it(n,{code:Ge.invalid_type,expected:gt.boolean,received:n.parsedType}),Zt}return Xa(t.data)}}$w.create=e=>new $w({typeName:Xt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ar(e)});class um extends Pr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==gt.date){const i=this._getOrReturnCtx(t);return it(i,{code:Ge.invalid_type,expected:gt.date,received:i.parsedType}),Zt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return it(i,{code:Ge.invalid_date}),Zt}const n=new xa;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),it(s,{code:Ge.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),it(s,{code:Ge.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Or.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new um({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:xt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:xt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}um.create=e=>new um({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Xt.ZodDate,...ar(e)});class Z3 extends Pr{_parse(t){if(this._getType(t)!==gt.symbol){const n=this._getOrReturnCtx(t);return it(n,{code:Ge.invalid_type,expected:gt.symbol,received:n.parsedType}),Zt}return Xa(t.data)}}Z3.create=e=>new Z3({typeName:Xt.ZodSymbol,...ar(e)});class X3 extends Pr{_parse(t){if(this._getType(t)!==gt.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:Ge.invalid_type,expected:gt.undefined,received:n.parsedType}),Zt}return Xa(t.data)}}X3.create=e=>new X3({typeName:Xt.ZodUndefined,...ar(e)});class eR extends Pr{_parse(t){if(this._getType(t)!==gt.null){const n=this._getOrReturnCtx(t);return it(n,{code:Ge.invalid_type,expected:gt.null,received:n.parsedType}),Zt}return Xa(t.data)}}eR.create=e=>new eR({typeName:Xt.ZodNull,...ar(e)});class tR extends Pr{constructor(){super(...arguments),this._any=!0}_parse(t){return Xa(t.data)}}tR.create=e=>new tR({typeName:Xt.ZodAny,...ar(e)});class kN extends Pr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Xa(t.data)}}kN.create=e=>new kN({typeName:Xt.ZodUnknown,...ar(e)});class id extends Pr{_parse(t){const r=this._getOrReturnCtx(t);return it(r,{code:Ge.invalid_type,expected:gt.never,received:r.parsedType}),Zt}}id.create=e=>new id({typeName:Xt.ZodNever,...ar(e)});class rR extends Pr{_parse(t){if(this._getType(t)!==gt.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:Ge.invalid_type,expected:gt.void,received:n.parsedType}),Zt}return Xa(t.data)}}rR.create=e=>new rR({typeName:Xt.ZodVoid,...ar(e)});class xl extends Pr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==gt.array)return it(r,{code:Ge.invalid_type,expected:gt.array,received:r.parsedType}),Zt;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(it(r,{code:a?Ge.too_big:Ge.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(it(r,{code:Ge.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(it(r,{code:Ge.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new sd(r,a,r.path,l)))).then(a=>xa.mergeArray(n,a));const i=[...r.data].map((a,l)=>s.type._parseSync(new sd(r,a,r.path,l)));return xa.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new xl({...this._def,minLength:{value:t,message:xt.toString(r)}})}max(t,r){return new xl({...this._def,maxLength:{value:t,message:xt.toString(r)}})}length(t,r){return new xl({...this._def,exactLength:{value:t,message:xt.toString(r)}})}nonempty(t){return this.min(1,t)}}xl.create=(e,t)=>new xl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Xt.ZodArray,...ar(t)});function Hf(e){if(e instanceof Vn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Gu.create(Hf(n))}return new Vn({...e._def,shape:()=>t})}else return e instanceof xl?new xl({...e._def,type:Hf(e.element)}):e instanceof Gu?Gu.create(Hf(e.unwrap())):e instanceof fm?fm.create(Hf(e.unwrap())):e instanceof Fh?Fh.create(e.items.map(t=>Hf(t))):e}class Vn extends Pr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Or.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==gt.object){const u=this._getOrReturnCtx(t);return it(u,{code:Ge.invalid_type,expected:gt.object,received:u.parsedType}),Zt}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof id&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new sd(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof id){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(it(s,{code:Ge.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new sd(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>xa.mergeObjectSync(n,u)):xa.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return xt.errToObj,new Vn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:xt.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Vn({...this._def,unknownKeys:"strip"})}passthrough(){return new Vn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Vn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Vn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Xt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Vn({...this._def,catchall:t})}pick(t){const r={};for(const n of Or.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Vn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Or.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Vn({...this._def,shape:()=>r})}deepPartial(){return Hf(this)}partial(t){const r={};for(const n of Or.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Vn({...this._def,shape:()=>r})}required(t){const r={};for(const n of Or.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Gu;)i=i._def.innerType;r[n]=i}return new Vn({...this._def,shape:()=>r})}keyof(){return QB(Or.objectKeys(this.shape))}}Vn.create=(e,t)=>new Vn({shape:()=>e,unknownKeys:"strip",catchall:id.create(),typeName:Xt.ZodObject,...ar(t)});Vn.strictCreate=(e,t)=>new Vn({shape:()=>e,unknownKeys:"strict",catchall:id.create(),typeName:Xt.ZodObject,...ar(t)});Vn.lazycreate=(e,t)=>new Vn({shape:e,unknownKeys:"strip",catchall:id.create(),typeName:Xt.ZodObject,...ar(t)});class Bw extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new Oc(l.ctx.common.issues));return it(r,{code:Ge.invalid_union,unionErrors:a}),Zt}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new Oc(c));return it(r,{code:Ge.invalid_union,unionErrors:l}),Zt}}get options(){return this._def.options}}Bw.create=(e,t)=>new Bw({options:e,typeName:Xt.ZodUnion,...ar(t)});function CN(e,t){const r=mu(e),n=mu(t);if(e===t)return{valid:!0,data:e};if(r===gt.object&&n===gt.object){const s=Or.objectKeys(t),i=Or.objectKeys(e).filter(l=>s.indexOf(l)!==-1),a={...e,...t};for(const l of i){const c=CN(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===gt.array&&n===gt.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],c=CN(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===gt.date&&n===gt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Uw extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,a)=>{if(K3(i)||K3(a))return Zt;const l=CN(i.value,a.value);return l.valid?((J3(i)||J3(a))&&r.dirty(),{status:r.value,value:l.data}):(it(n,{code:Ge.invalid_intersection_types}),Zt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Uw.create=(e,t,r)=>new Uw({left:e,right:t,typeName:Xt.ZodIntersection,...ar(r)});class Fh extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.array)return it(n,{code:Ge.invalid_type,expected:gt.array,received:n.parsedType}),Zt;if(n.data.length<this._def.items.length)return it(n,{code:Ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Zt;!this._def.rest&&n.data.length>this._def.items.length&&(it(n,{code:Ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new sd(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>xa.mergeArray(r,a)):xa.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Fh({...this._def,rest:t})}}Fh.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fh({items:e,typeName:Xt.ZodTuple,rest:null,...ar(t)})};class nR extends Pr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.map)return it(n,{code:Ge.invalid_type,expected:gt.map,received:n.parsedType}),Zt;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new sd(n,l,n.path,[u,"key"])),value:i._parse(new sd(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Zt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Zt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}nR.create=(e,t,r)=>new nR({valueType:t,keyType:e,typeName:Xt.ZodMap,...ar(r)});class d0 extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.set)return it(n,{code:Ge.invalid_type,expected:gt.set,received:n.parsedType}),Zt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(it(n,{code:Ge.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(it(n,{code:Ge.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Zt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new sd(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new d0({...this._def,minSize:{value:t,message:xt.toString(r)}})}max(t,r){return new d0({...this._def,maxSize:{value:t,message:xt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}d0.create=(e,t)=>new d0({valueType:e,minSize:null,maxSize:null,typeName:Xt.ZodSet,...ar(t)});class sR extends Pr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}sR.create=(e,t)=>new sR({getter:e,typeName:Xt.ZodLazy,...ar(t)});class EN extends Pr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return it(r,{received:r.data,code:Ge.invalid_literal,expected:this._def.value}),Zt}return{status:"valid",value:t.data}}get value(){return this._def.value}}EN.create=(e,t)=>new EN({value:e,typeName:Xt.ZodLiteral,...ar(t)});function QB(e,t){return new dm({values:e,typeName:Xt.ZodEnum,...ar(t)})}class dm extends Pr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{expected:Or.joinValues(n),received:r.parsedType,code:Ge.invalid_type}),Zt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{received:r.data,code:Ge.invalid_enum_value,options:n}),Zt}return Xa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return dm.create(t,{...this._def,...r})}exclude(t,r=this._def){return dm.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}dm.create=QB;class iR extends Pr{_parse(t){const r=Or.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==gt.string&&n.parsedType!==gt.number){const s=Or.objectValues(r);return it(n,{expected:Or.joinValues(s),received:n.parsedType,code:Ge.invalid_type}),Zt}if(this._cache||(this._cache=new Set(Or.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Or.objectValues(r);return it(n,{received:n.data,code:Ge.invalid_enum_value,options:s}),Zt}return Xa(t.data)}get enum(){return this._def.values}}iR.create=(e,t)=>new iR({values:e,typeName:Xt.ZodNativeEnum,...ar(t)});class qw extends Pr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==gt.promise&&r.common.async===!1)return it(r,{code:Ge.invalid_type,expected:gt.promise,received:r.parsedType}),Zt;const n=r.parsedType===gt.promise?r.data:Promise.resolve(r.data);return Xa(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}qw.create=(e,t)=>new qw({type:e,typeName:Xt.ZodPromise,...ar(t)});class hm extends Pr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{it(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return Zt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Zt:c.status==="dirty"||r.value==="dirty"?nv(c.value):c});{if(r.value==="aborted")return Zt;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?Zt:l.status==="dirty"||r.value==="dirty"?nv(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Zt:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Zt:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!cm(a))return Zt;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>cm(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:r.value,value:l})):Zt);Or.assertNever(s)}}hm.create=(e,t,r)=>new hm({schema:e,typeName:Xt.ZodEffects,effect:t,...ar(r)});hm.createWithPreprocess=(e,t,r)=>new hm({schema:t,effect:{type:"preprocess",transform:e},typeName:Xt.ZodEffects,...ar(r)});class Gu extends Pr{_parse(t){return this._getType(t)===gt.undefined?Xa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Gu.create=(e,t)=>new Gu({innerType:e,typeName:Xt.ZodOptional,...ar(t)});class fm extends Pr{_parse(t){return this._getType(t)===gt.null?Xa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}fm.create=(e,t)=>new fm({innerType:e,typeName:Xt.ZodNullable,...ar(t)});class AN extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===gt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}AN.create=(e,t)=>new AN({innerType:e,typeName:Xt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ar(t)});class PN extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Fw(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Oc(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Oc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}PN.create=(e,t)=>new PN({innerType:e,typeName:Xt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ar(t)});class aR extends Pr{_parse(t){if(this._getType(t)!==gt.nan){const n=this._getOrReturnCtx(t);return it(n,{code:Ge.invalid_type,expected:gt.nan,received:n.parsedType}),Zt}return{status:"valid",value:t.data}}}aR.create=e=>new aR({typeName:Xt.ZodNaN,...ar(e)});class tfe extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class nA extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Zt:i.status==="dirty"?(r.dirty(),nv(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Zt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new nA({in:t,out:r,typeName:Xt.ZodPipeline})}}class TN extends Pr{_parse(t){const r=this._def.innerType._parse(t),n=s=>(cm(s)&&(s.value=Object.freeze(s.value)),s);return Fw(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}TN.create=(e,t)=>new TN({innerType:e,typeName:Xt.ZodReadonly,...ar(t)});Vn.lazycreate;var Xt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Xt||(Xt={}));const Gr=pc.create;Ih.create;Dh.create;const rfe=$w.create,nfe=um.create,sfe=kN.create;id.create;xl.create;const Q0=Vn.create;Vn.strictCreate;Bw.create;Uw.create;Fh.create;const ZB=EN.create;dm.create;qw.create;Gu.create;fm.create;const sA={string:e=>pc.create({...e,coerce:!0}),number:e=>Ih.create({...e,coerce:!0}),boolean:e=>$w.create({...e,coerce:!0}),bigint:e=>Dh.create({...e,coerce:!0}),date:e=>um.create({...e,coerce:!0})},Z0=che,XB=w.createContext({}),Nr=({...e})=>o.jsx(XB.Provider,{value:{name:e.name},children:o.jsx(fhe,{...e})}),d2=()=>{const e=w.useContext(XB),t=w.useContext(eU),{getFieldState:r,formState:n}=u2(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},eU=w.createContext({}),vr=w.forwardRef(({className:e,...t},r)=>{const n=w.useId();return o.jsx(eU.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:Me("space-y-2",e),...t})})});vr.displayName="FormItem";const yr=w.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=d2();return o.jsx(lt,{ref:r,className:Me(n&&"text-destructive",e),htmlFor:s,...t})});yr.displayName="FormLabel";const xr=w.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=d2();return o.jsx(dD,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});xr.displayName="FormControl";const tU=w.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=d2();return o.jsx("p",{ref:r,id:n,className:Me("text-sm text-muted-foreground",e),...t})});tU.displayName="FormDescription";const kr=w.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=d2(),a=s?String(s==null?void 0:s.message):t;return a?o.jsx("p",{ref:n,id:i,className:Me("text-sm font-medium text-destructive",e),...r,children:a}):null});kr.displayName="FormMessage";const ife=Q0({name:Gr().min(2,"Name must be at least 2 characters"),age:sA.number().min(0).max(150),gender:Gr().min(1,"Please select gender"),phone:Gr().optional(),email:Gr().email().optional().or(ZB("")),address:Gr().optional(),condition:Gr().optional(),status:Gr().optional(),department_id:Gr().optional(),doctor_id:Gr().optional()}),iA=({open:e,onOpenChange:t})=>{const r=Wde(),{data:n}=md(),{data:s}=Hm(),i=K0({resolver:J0(ife),defaultValues:{name:"",age:0,gender:"",phone:"",email:"",address:"",condition:"",status:"outpatient"}}),a=async l=>{await r.mutateAsync({name:l.name,age:l.age,gender:l.gender,phone:l.phone||void 0,email:l.email||void 0,address:l.address||void 0,condition:l.condition||void 0,status:l.status||void 0,department_id:l.department_id||void 0,doctor_id:l.doctor_id||void 0}),i.reset(),t(!1)};return o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ks,{children:o.jsx(ps,{className:"font-heading",children:"Add New Patient"})}),o.jsx(Z0,{...i,children:o.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:i.control,name:"name",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Full Name *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"John Smith",...l})}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(Nr,{control:i.control,name:"age",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Age *"}),o.jsx(xr,{children:o.jsx(ht,{type:"number",placeholder:"30",...l})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:i.control,name:"gender",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Gender *"}),o.jsxs(Mr,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select"})})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"Male",children:"Male"}),o.jsx(He,{value:"Female",children:"Female"}),o.jsx(He,{value:"Other",children:"Other"})]})]}),o.jsx(kr,{})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:i.control,name:"phone",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Phone"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"+1 234-567-8900",...l})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:i.control,name:"email",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Email"}),o.jsx(xr,{children:o.jsx(ht,{type:"email",placeholder:"john@email.com",...l})}),o.jsx(kr,{})]})})]}),o.jsx(Nr,{control:i.control,name:"address",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Address"}),o.jsx(xr,{children:o.jsx(Eo,{placeholder:"123 Main St, City, State",...l})}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:i.control,name:"department_id",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Department"}),o.jsxs(Mr,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select department"})})}),o.jsx(Rr,{children:n==null?void 0:n.map(c=>o.jsx(He,{value:c.id,children:c.name},c.id))})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:i.control,name:"doctor_id",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Assigned Doctor"}),o.jsxs(Mr,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select doctor"})})}),o.jsx(Rr,{children:s==null?void 0:s.map(c=>o.jsxs(He,{value:c.id,children:[c.name," - ",c.specialty]},c.id))})]}),o.jsx(kr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:i.control,name:"condition",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Condition/Diagnosis"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g., Hypertension",...l})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:i.control,name:"status",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Status"}),o.jsxs(Mr,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select status"})})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"outpatient",children:"Outpatient"}),o.jsx(He,{value:"admitted",children:"Admitted"}),o.jsx(He,{value:"critical",children:"Critical"}),o.jsx(He,{value:"discharged",children:"Discharged"})]})]}),o.jsx(kr,{})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(ke,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(ke,{type:"submit",disabled:r.isPending,children:r.isPending?"Adding...":"Add Patient"})]})]})})]})})};var $t=function(){return $t=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$t.apply(this,arguments)};function afe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function rU(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function X0(e){return e.mode==="multiple"}function ey(e){return e.mode==="range"}function h2(e){return e.mode==="single"}var ofe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function lfe(e,t){return vn(e,"LLLL y",t)}function cfe(e,t){return vn(e,"d",t)}function ufe(e,t){return vn(e,"LLLL",t)}function dfe(e){return"".concat(e)}function hfe(e,t){return vn(e,"cccccc",t)}function ffe(e,t){return vn(e,"yyyy",t)}var pfe=Object.freeze({__proto__:null,formatCaption:lfe,formatDay:cfe,formatMonthCaption:ufe,formatWeekNumber:dfe,formatWeekdayName:hfe,formatYearCaption:ffe}),mfe=function(e,t,r){return vn(e,"do MMMM (EEEE)",r)},gfe=function(){return"Month: "},vfe=function(){return"Go to next month"},yfe=function(){return"Go to previous month"},xfe=function(e,t){return vn(e,"cccc",t)},wfe=function(e){return"Week n. ".concat(e)},bfe=function(){return"Year: "},_fe=Object.freeze({__proto__:null,labelDay:mfe,labelMonthDropdown:gfe,labelNext:vfe,labelPrevious:yfe,labelWeekNumber:wfe,labelWeekday:xfe,labelYearDropdown:bfe});function Sfe(){var e="buttons",t=ofe,r=HE,n={},s={},i=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:pfe,labels:_fe,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:a,today:l,mode:"default"}}function jfe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,a=e.toDate;return n?i=Vi(n):t&&(i=new Date(t,0,1)),s?a=a2(s):r&&(a=new Date(r,11,31)),{fromDate:i?am(i):void 0,toDate:a?am(a):void 0}}var nU=w.createContext(void 0);function Nfe(e){var t,r=e.initialProps,n=Sfe(),s=jfe(r),i=s.fromDate,a=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(h2(r)||X0(r)||ey(r))&&(c=r.onSelect);var u=$t($t($t({},n),r),{captionLayout:l,classNames:$t($t({},n.classNames),r.classNames),components:$t({},r.components),formatters:$t($t({},n.formatters),r.formatters),fromDate:i,labels:$t($t({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:$t($t({},n.modifiers),r.modifiers),modifiersClassNames:$t($t({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:$t($t({},n.styles),r.styles),toDate:a});return o.jsx(nU.Provider,{value:u,children:e.children})}function yn(){var e=w.useContext(nU);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function sU(e){var t=yn(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function kfe(e){return o.jsx("svg",$t({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function iU(e){var t,r,n=e.onChange,s=e.value,i=e.children,a=e.caption,l=e.className,c=e.style,u=yn(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:kfe;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Cfe(e){var t,r=yn(),n=r.fromDate,s=r.toDate,i=r.styles,a=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var h=[];if($de(n,s))for(var p=Vi(n),f=n.getMonth();f<=s.getMonth();f++)h.push(_5(p,f));else for(var p=Vi(new Date),f=0;f<=11;f++)h.push(_5(p,f));var v=function(x){var g=Number(x.target.value),b=_5(Vi(e.displayMonth),g);e.onChange(b)},m=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:iU;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:h.map(function(x){return o.jsx("option",{value:x.getMonth(),children:l(x,{locale:a})},x.getMonth())})})}function Efe(e){var t,r=e.displayMonth,n=yn(),s=n.fromDate,i=n.toDate,a=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,p=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var f=s.getFullYear(),v=i.getFullYear(),m=f;m<=v;m++)p.push(O3(jB(new Date),m));var x=function(b){var S=O3(Vi(r),Number(b.target.value));e.onChange(S)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:iU;return o.jsx(g,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:r.getFullYear(),caption:d(r,{locale:a}),children:p.map(function(b){return o.jsx("option",{value:b.getFullYear(),children:d(b,{locale:a})},b.getFullYear())})})}function Afe(e,t){var r=w.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function Pfe(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&lm(i,s)<0){var u=-1*(c-1);s=Io(i,u)}return a&&lm(s,a)<0&&(s=a),Vi(s)}function Tfe(){var e=yn(),t=Pfe(e),r=Afe(t,e.month),n=r[0],s=r[1],i=function(a){var l;if(!e.disableNavigation){var c=Vi(a);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function Rfe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Vi(e),i=Vi(Io(s,n)),a=lm(i,s),l=[],c=0;c<a;c++){var u=Io(s,c);l.push(u)}return r&&(l=l.reverse()),l}function Ofe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,l=Vi(e);if(!r)return Io(l,a);var c=lm(r,e);if(!(c<i))return Io(l,a)}}function Lfe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,l=Vi(e);if(!r)return Io(l,-a);var c=lm(l,r);if(!(c<=0))return Io(l,-a)}}var aU=w.createContext(void 0);function Mfe(e){var t=yn(),r=Tfe(),n=r[0],s=r[1],i=Rfe(n,t),a=Ofe(n,t),l=Lfe(n,t),c=function(h){return i.some(function(p){return GE(h,p)})},u=function(h,p){c(h)||(p&&PB(h,p)?s(Io(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(aU.Provider,{value:d,children:e.children})}function ty(){var e=w.useContext(aU);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function oR(e){var t,r=yn(),n=r.classNames,s=r.styles,i=r.components,a=ty().goToMonth,l=function(d){a(Io(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:sU,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(Cfe,{onChange:l,displayMonth:e.displayMonth}),o.jsx(Efe,{onChange:l,displayMonth:e.displayMonth})]})}function Ife(e){return o.jsx("svg",$t({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Dfe(e){return o.jsx("svg",$t({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var zw=w.forwardRef(function(e,t){var r=yn(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var a=i.join(" "),l=$t($t({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),o.jsx("button",$t({},e,{ref:t,type:"button",className:a,style:l}))});function Ffe(e){var t,r,n=yn(),s=n.dir,i=n.locale,a=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var p=u(e.previousMonth,{locale:i}),f=[a.nav_button,a.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:i}),m=[a.nav_button,a.nav_button_next].join(" "),x=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Dfe,g=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:Ife;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(zw,{name:"previous-month","aria-label":p,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?o.jsx(x,{className:a.nav_icon,style:l.nav_icon}):o.jsx(g,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(zw,{name:"next-month","aria-label":v,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?o.jsx(g,{className:a.nav_icon,style:l.nav_icon}):o.jsx(x,{className:a.nav_icon,style:l.nav_icon})})]})}function lR(e){var t=yn().numberOfMonths,r=ty(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,a=r.displayMonths,l=a.findIndex(function(v){return GE(e.displayMonth,v)}),c=l===0,u=l===a.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),p=function(){n&&i(n)},f=function(){s&&i(s)};return o.jsx(Ffe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:p,onNextClick:f})}function $fe(e){var t,r=yn(),n=r.classNames,s=r.disableNavigation,i=r.styles,a=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:sU,u;return s?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=o.jsx(oR,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(oR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(lR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(lR,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:i.caption,children:u})}function Bfe(e){var t=yn(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?o.jsx("tfoot",{className:s,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function Ufe(e,t,r){for(var n=r?Mh(new Date):Cl(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var a=wi(n,i);s.push(a)}return s}function qfe(){var e=yn(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Ufe(s,i,a);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,h){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function zfe(){var e,t=yn(),r=t.classNames,n=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:qfe;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(i,{})})}function Vfe(e){var t=yn(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var aA=w.createContext(void 0);function Wfe(e){if(!X0(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(aA.Provider,{value:t,children:e.children})}return o.jsx(Hfe,{initialProps:e.initialProps,children:e.children})}function Hfe(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,a=function(u,d,h){var p,f;(p=t.onDayClick)===null||p===void 0||p.call(t,u,d,h);var v=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!v){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var x=n?rU([],n):[];if(d.selected){var g=x.findIndex(function(b){return Fi(u,b)});x.splice(g,1)}else x.push(u);(f=t.onSelect)===null||f===void 0||f.call(t,x,u,d,h)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,h=n.some(function(p){return Fi(p,u)});return!!(d&&!h)});var c={selected:n,onDayClick:a,modifiers:l};return o.jsx(aA.Provider,{value:c,children:r})}function oA(){var e=w.useContext(aA);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Gfe(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Fi(s,e)&&Fi(n,e)?void 0:Fi(s,e)?{from:s,to:void 0}:Fi(n,e)?void 0:SN(n,e)?{from:e,to:s}:{from:n,to:e}:s?SN(e,s)?{from:s,to:e}:{from:e,to:s}:n?PB(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var lA=w.createContext(void 0);function Yfe(e){if(!ey(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(lA.Provider,{value:t,children:e.children})}return o.jsx(Kfe,{initialProps:e.initialProps,children:e.children})}function Kfe(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,a=s.to,l=t.min,c=t.max,u=function(f,v,m){var x,g;(x=t.onDayClick)===null||x===void 0||x.call(t,f,v,m);var b=Gfe(f,n);(g=t.onSelect)===null||g===void 0||g.call(t,b,f,v,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],Fi(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),l&&(i&&!a&&d.disabled.push({after:b5(i,l-1),before:wi(i,l-1)}),i&&a&&d.disabled.push({after:i,before:wi(i,l-1)}),!i&&a&&d.disabled.push({after:b5(a,l-1),before:wi(a,l-1)})),c){if(i&&!a&&(d.disabled.push({before:wi(i,-c+1)}),d.disabled.push({after:wi(i,c-1)})),i&&a){var h=hl(a,i)+1,p=c-h;d.disabled.push({before:b5(i,p)}),d.disabled.push({after:wi(a,p)})}!i&&a&&(d.disabled.push({before:wi(a,-c+1)}),d.disabled.push({after:wi(a,c-1)}))}return o.jsx(lA.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function cA(){var e=w.useContext(lA);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Cx(e){return Array.isArray(e)?rU([],e):e!==void 0?[e]:[]}function Jfe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Cx(s)}),t}var Do;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Do||(Do={}));var Qfe=Do.Selected,Ql=Do.Disabled,Zfe=Do.Hidden,Xfe=Do.Today,N5=Do.RangeEnd,k5=Do.RangeMiddle,C5=Do.RangeStart,epe=Do.Outside;function tpe(e,t,r){var n,s=(n={},n[Qfe]=Cx(e.selected),n[Ql]=Cx(e.disabled),n[Zfe]=Cx(e.hidden),n[Xfe]=[e.today],n[N5]=[],n[k5]=[],n[C5]=[],n[epe]=[],n);return e.fromDate&&s[Ql].push({before:e.fromDate}),e.toDate&&s[Ql].push({after:e.toDate}),X0(e)?s[Ql]=s[Ql].concat(t.modifiers[Ql]):ey(e)&&(s[Ql]=s[Ql].concat(r.modifiers[Ql]),s[C5]=r.modifiers[C5],s[k5]=r.modifiers[k5],s[N5]=r.modifiers[N5]),s}var oU=w.createContext(void 0);function rpe(e){var t=yn(),r=oA(),n=cA(),s=tpe(t,r,n),i=Jfe(t.modifiers),a=$t($t({},s),i);return o.jsx(oU.Provider,{value:a,children:e.children})}function lU(){var e=w.useContext(oU);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function npe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function spe(e){return!!(e&&typeof e=="object"&&"from"in e)}function ipe(e){return!!(e&&typeof e=="object"&&"after"in e)}function ape(e){return!!(e&&typeof e=="object"&&"before"in e)}function ope(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function lpe(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=hl(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var a=hl(e,n)>=0&&hl(s,e)>=0;return a}return s?Fi(s,e):n?Fi(n,e):!1}function cpe(e){return VE(e)}function upe(e){return Array.isArray(e)&&e.every(VE)}function dpe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(cpe(r))return Fi(e,r);if(upe(r))return r.includes(e);if(spe(r))return lpe(e,r);if(ope(r))return r.dayOfWeek.includes(e.getDay());if(npe(r)){var n=hl(r.before,e),s=hl(r.after,e),i=n>0,a=s<0,l=SN(r.before,r.after);return l?a&&i:i||a}return ipe(r)?hl(e,r.after)>0:ape(r)?hl(r.before,e)>0:typeof r=="function"?r(e):!1})}function uA(e,t,r){var n=Object.keys(t).reduce(function(i,a){var l=t[a];return dpe(e,l)&&i.push(a),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!GE(e,r)&&(s.outside=!0),s}function hpe(e,t){for(var r=Vi(e[0]),n=a2(e[e.length-1]),s,i,a=r;a<=n;){var l=uA(a,t),c=!l.disabled&&!l.hidden;if(!c){a=wi(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),s||(s=a),a=wi(a,1)}return i||s}var fpe=365;function cU(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,p={day:wi,week:_N,month:Io,year:kue,startOfWeek:function(x){return s.ISOWeek?Mh(x):Cl(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?NB(x):WE(x,{locale:h,weekStartsOn:c})}},f=p[r](e,n==="after"?1:-1);n==="before"&&u?f=Cue([u,f]):n==="after"&&d&&(f=Eue([d,f]));var v=!0;if(i){var m=uA(f,i);v=!m.disabled&&!m.hidden}return v?f:l.count>fpe?l.lastFocused:cU(f,{moveBy:r,direction:n,context:s,modifiers:i,retry:$t($t({},l),{count:l.count+1})})}var uU=w.createContext(void 0);function ppe(e){var t=ty(),r=lU(),n=w.useState(),s=n[0],i=n[1],a=w.useState(),l=a[0],c=a[1],u=hpe(t.displayMonths,r),d=s??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(s),i(void 0)},p=function(x){i(x)},f=yn(),v=function(x,g){if(s){var b=cU(s,{moveBy:x,direction:g,context:f,modifiers:r});Fi(s,b)||(t.goToDate(b,s),p(b))}},m={focusedDay:s,focusTarget:d,blur:h,focus:p,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return o.jsx(uU.Provider,{value:m,children:e.children})}function dA(){var e=w.useContext(uU);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function mpe(e,t){var r=lU(),n=uA(e,r,t);return n}var hA=w.createContext(void 0);function gpe(e){if(!h2(e.initialProps)){var t={selected:void 0};return o.jsx(hA.Provider,{value:t,children:e.children})}return o.jsx(vpe,{initialProps:e.initialProps,children:e.children})}function vpe(e){var t=e.initialProps,r=e.children,n=function(i,a,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,a,l),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,a,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,a,l)},s={selected:t.selected,onDayClick:n};return o.jsx(hA.Provider,{value:s,children:r})}function dU(){var e=w.useContext(hA);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function ype(e,t){var r=yn(),n=dU(),s=oA(),i=cA(),a=dA(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,p=a.focus,f=a.focusMonthBefore,v=a.focusMonthAfter,m=a.focusYearBefore,x=a.focusYearAfter,g=a.focusStartOfWeek,b=a.focusEndOfWeek,S=function(te){var W,Z,pe,ve;h2(r)?(W=n.onDayClick)===null||W===void 0||W.call(n,e,t,te):X0(r)?(Z=s.onDayClick)===null||Z===void 0||Z.call(s,e,t,te):ey(r)?(pe=i.onDayClick)===null||pe===void 0||pe.call(i,e,t,te):(ve=r.onDayClick)===null||ve===void 0||ve.call(r,e,t,te)},k=function(te){var W;p(e),(W=r.onDayFocus)===null||W===void 0||W.call(r,e,t,te)},T=function(te){var W;h(),(W=r.onDayBlur)===null||W===void 0||W.call(r,e,t,te)},R=function(te){var W;(W=r.onDayMouseEnter)===null||W===void 0||W.call(r,e,t,te)},O=function(te){var W;(W=r.onDayMouseLeave)===null||W===void 0||W.call(r,e,t,te)},D=function(te){var W;(W=r.onDayPointerEnter)===null||W===void 0||W.call(r,e,t,te)},M=function(te){var W;(W=r.onDayPointerLeave)===null||W===void 0||W.call(r,e,t,te)},G=function(te){var W;(W=r.onDayTouchCancel)===null||W===void 0||W.call(r,e,t,te)},A=function(te){var W;(W=r.onDayTouchEnd)===null||W===void 0||W.call(r,e,t,te)},I=function(te){var W;(W=r.onDayTouchMove)===null||W===void 0||W.call(r,e,t,te)},$=function(te){var W;(W=r.onDayTouchStart)===null||W===void 0||W.call(r,e,t,te)},q=function(te){var W;(W=r.onDayKeyUp)===null||W===void 0||W.call(r,e,t,te)},ee=function(te){var W;switch(te.key){case"ArrowLeft":te.preventDefault(),te.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":te.preventDefault(),te.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":te.preventDefault(),te.stopPropagation(),u();break;case"ArrowUp":te.preventDefault(),te.stopPropagation(),d();break;case"PageUp":te.preventDefault(),te.stopPropagation(),te.shiftKey?m():f();break;case"PageDown":te.preventDefault(),te.stopPropagation(),te.shiftKey?x():v();break;case"Home":te.preventDefault(),te.stopPropagation(),g();break;case"End":te.preventDefault(),te.stopPropagation(),b();break}(W=r.onDayKeyDown)===null||W===void 0||W.call(r,e,t,te)},ne={onClick:S,onFocus:k,onBlur:T,onKeyDown:ee,onKeyUp:q,onMouseEnter:R,onMouseLeave:O,onPointerEnter:D,onPointerLeave:M,onTouchCancel:G,onTouchEnd:A,onTouchMove:I,onTouchStart:$};return ne}function xpe(){var e=yn(),t=dU(),r=oA(),n=cA(),s=h2(e)?t.selected:X0(e)?r.selected:ey(e)?n.selected:void 0;return s}function wpe(e){return Object.values(Do).includes(e)}function bpe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(wpe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function _pe(e,t){var r=$t({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=$t($t({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function Spe(e,t,r){var n,s,i,a=yn(),l=dA(),c=mpe(e,t),u=ype(e,c),d=xpe(),h=!!(a.onDayClick||a.mode!=="default");w.useEffect(function(){var R;c.outside||l.focusedDay&&h&&Fi(l.focusedDay,e)&&((R=r.current)===null||R===void 0||R.focus())},[l.focusedDay,e,r,h,c.outside]);var p=bpe(a,c).join(" "),f=_pe(a,c),v=!!(c.outside&&!a.showOutsideDays||c.hidden),m=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Vfe,x=o.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),g={style:f,className:p,children:x,role:"gridcell"},b=l.focusTarget&&Fi(l.focusTarget,e)&&!c.outside,S=l.focusedDay&&Fi(l.focusedDay,e),k=$t($t($t({},g),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=S||b?0:-1,n)),u),T={isButton:h,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:k,divProps:g};return T}function jpe(e){var t=w.useRef(null),r=Spe(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(zw,$t({name:"day",ref:t},r.buttonProps)):o.jsx("div",$t({},r.divProps))}function Npe(e){var t=e.number,r=e.dates,n=yn(),s=n.onWeekNumberClick,i=n.styles,a=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var h=c(Number(t),{locale:l}),p=function(f){s(t,r,f)};return o.jsx(zw,{name:"week-number","aria-label":h,className:a.weeknumber,style:i.weeknumber,onClick:p,children:d})}function kpe(e){var t,r,n=yn(),s=n.styles,i=n.classNames,a=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:jpe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Npe,d;return a&&(d=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(h){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:h})},Ide(h))})]})}function cR(e,t,r){for(var n=r!=null&&r.ISOWeek?NB(t):WE(t,r),s=r!=null&&r.ISOWeek?Mh(e):Cl(e,r),i=hl(n,s),a=[],l=0;l<=i;l++)a.push(wi(s,l));var c=a.reduce(function(u,d){var h=r!=null&&r.ISOWeek?kB(d):EB(d,r),p=u.find(function(f){return f.weekNumber===h});return p?(p.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function Cpe(e,t){var r=cR(Vi(e),a2(e),t);if(t!=null&&t.useFixedWeeks){var n=Fde(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],a=_N(i,6-n),l=cR(_N(i,1),a,t);r.push.apply(r,l)}}return r}function Epe(e){var t,r,n,s=yn(),i=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,p=s.firstWeekContainsDate,f=s.ISOWeek,v=Cpe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:f,locale:i,weekStartsOn:h,firstWeekContainsDate:p}),m=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:zfe,x=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:kpe,g=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Bfe;return o.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:v.map(function(b){return o.jsx(x,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),o.jsx(g,{displayMonth:e.displayMonth})]})}function Ape(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ppe=Ape()?w.useLayoutEffect:w.useEffect,E5=!1,Tpe=0;function uR(){return"react-day-picker-".concat(++Tpe)}function Rpe(e){var t,r=e??(E5?uR():null),n=w.useState(r),s=n[0],i=n[1];return Ppe(function(){s===null&&i(uR())},[]),w.useEffect(function(){E5===!1&&(E5=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function Ope(e){var t,r,n=yn(),s=n.dir,i=n.classNames,a=n.styles,l=n.components,c=ty().displayMonths,u=Rpe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],p=a.month,f=e.displayIndex===0,v=e.displayIndex===c.length-1,m=!f&&!v;s==="rtl"&&(t=[f,v],v=t[0],f=t[1]),f&&(h.push(i.caption_start),p=$t($t({},p),a.caption_start)),v&&(h.push(i.caption_end),p=$t($t({},p),a.caption_end)),m&&(h.push(i.caption_between),p=$t($t({},p),a.caption_between));var x=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:$fe;return o.jsxs("div",{className:h.join(" "),style:p,children:[o.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(Epe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Lpe(e){var t=yn(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function Mpe(e){var t,r,n=e.initialProps,s=yn(),i=dA(),a=ty(),l=w.useState(!1),c=l[0],u=l[1];w.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=$t($t({},s.styles.root),s.style),p=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,m){var x;return $t($t({},v),(x={},x[m]=n[m],x))},{}),f=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Lpe;return o.jsx("div",$t({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:o.jsx(f,{children:a.displayMonths.map(function(v,m){return o.jsx(Ope,{displayIndex:m,displayMonth:v},m)})})}))}function Ipe(e){var t=e.children,r=afe(e,["children"]);return o.jsx(Nfe,{initialProps:r,children:o.jsx(Mfe,{children:o.jsx(gpe,{initialProps:r,children:o.jsx(Wfe,{initialProps:r,children:o.jsx(Yfe,{initialProps:r,children:o.jsx(rpe,{children:o.jsx(ppe,{children:t})})})})})})})}function Dpe(e){return o.jsx(Ipe,$t({},e,{children:o.jsx(Mpe,{initialProps:e})}))}function f2({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(Dpe,{showOutsideDays:r,className:Me("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Me(i0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Me(i0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>o.jsx(bJ,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(lp,{className:"h-4 w-4"})},...n})}f2.displayName="Calendar";var p2="Popover",[hU,I2e]=is(p2,[Lm]),ry=Lm(),[Fpe,gd]=hU(p2),fU=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,l=ry(t),c=w.useRef(null),[u,d]=w.useState(!1),[h,p]=va({prop:n,defaultProp:s??!1,onChange:i,caller:p2});return o.jsx(F8,{...l,children:o.jsx(Fpe,{scope:t,contentId:oi(),triggerRef:c,open:h,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:a,children:r})})};fU.displayName=p2;var pU="PopoverAnchor",$pe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=gd(pU,r),i=ry(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return w.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(Lb,{...i,...n,ref:t})});$pe.displayName=pU;var mU="PopoverTrigger",gU=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=gd(mU,r),i=ry(r),a=wt(t,s.triggerRef),l=o.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":bU(s.open),...n,ref:a,onClick:dt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Lb,{asChild:!0,...i,children:l})});gU.displayName=mU;var fA="PopoverPortal",[Bpe,Upe]=hU(fA,{forceMount:void 0}),vU=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=gd(fA,t);return o.jsx(Bpe,{scope:t,forceMount:r,children:o.jsx(_a,{present:r||i.open,children:o.jsx(Jh,{asChild:!0,container:s,children:n})})})};vU.displayName=fA;var pm="PopoverContent",yU=w.forwardRef((e,t)=>{const r=Upe(pm,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=gd(pm,e.__scopePopover);return o.jsx(_a,{present:n||i.open,children:i.modal?o.jsx(zpe,{...s,ref:t}):o.jsx(Vpe,{...s,ref:t})})});yU.displayName=pm;var qpe=Cc("PopoverContent.RemoveScroll"),zpe=w.forwardRef((e,t)=>{const r=gd(pm,e.__scopePopover),n=w.useRef(null),s=wt(t,n),i=w.useRef(!1);return w.useEffect(()=>{const a=n.current;if(a)return z0(a)},[]),o.jsx(Um,{as:qpe,allowPinchZoom:!0,children:o.jsx(xU,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:dt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Vpe=w.forwardRef((e,t)=>{const r=gd(pm,e.__scopePopover),n=w.useRef(!1),s=w.useRef(!1);return o.jsx(xU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),xU=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,p=gd(pm,r),f=ry(r);return CE(),o.jsx(Bm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Cm,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:o.jsx(KC,{"data-state":bU(p.open),role:"dialog",id:p.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),wU="PopoverClose",Wpe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=gd(wU,r);return o.jsx(Xe.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,()=>s.onOpenChange(!1))})});Wpe.displayName=wU;var Hpe="PopoverArrow",Gpe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ry(r);return o.jsx(JC,{...s,...n,ref:t})});Gpe.displayName=Hpe;function bU(e){return e?"open":"closed"}var Ype=fU,Kpe=gU,Jpe=vU,_U=yU;const SU=Ype,jU=Kpe,pA=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>o.jsx(Jpe,{children:o.jsx(_U,{ref:s,align:t,sideOffset:r,className:Me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));pA.displayName=_U.displayName;const Qpe=Q0({patient_id:Gr().min(1,"Please select a patient"),doctor_id:Gr().min(1,"Please select a doctor"),appointment_date:nfe(),appointment_time:Gr().min(1,"Please enter time"),duration:sA.number().min(15).max(240).default(30),type:Gr().min(1,"Please select appointment type"),notes:Gr().optional()}),mA=({open:e,onOpenChange:t,selectedDate:r})=>{const n=Jde(),{data:s}=Wm(),{data:i}=Hm(),a=K0({resolver:J0(Qpe),defaultValues:{patient_id:"",doctor_id:"",appointment_date:r||new Date,appointment_time:"09:00",duration:30,type:"",notes:""}}),{toast:l}=T0(),c=async d=>{var h;try{l({title:"MAYA AI Assistant",description:"Checking doctor availability and slot status...",duration:2e3}),await new Promise(f=>setTimeout(f,1500)),await n.mutateAsync({patient_id:d.patient_id,doctor_id:d.doctor_id,appointment_date:vn(d.appointment_date,"yyyy-MM-dd"),appointment_time:d.appointment_time,duration:d.duration,type:d.type,notes:d.notes||void 0});const p=((h=i==null?void 0:i.find(f=>f.id===d.doctor_id))==null?void 0:h.name)||"the doctor";l({title:"Appointment Confirmed! ",description:`MAYA: I've booked your appointment with ${p} at ${d.appointment_time} on ${vn(d.appointment_date,"MMM dd")}.`,className:"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800",duration:5e3}),a.reset(),t(!1)}catch{l({title:"Booking Failed",description:"MAYA: I couldn't confirm this slot. Please try another time.",variant:"destructive"})}},u=(i==null?void 0:i.filter(d=>d.available))||[];return o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"max-w-lg",children:[o.jsx(ks,{children:o.jsx(ps,{className:"font-heading",children:"Schedule Appointment"})}),o.jsx(Z0,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-4",children:[o.jsx(Nr,{control:a.control,name:"patient_id",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Patient *"}),o.jsxs(Mr,{onValueChange:d.onChange,defaultValue:d.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select patient"})})}),o.jsx(Rr,{children:s==null?void 0:s.map(h=>o.jsxs(He,{value:h.id,children:[h.name," (",h.patient_id,")"]},h.id))})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:a.control,name:"doctor_id",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Doctor *"}),o.jsxs(Mr,{onValueChange:d.onChange,defaultValue:d.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select doctor"})})}),o.jsx(Rr,{children:u.map(h=>o.jsxs(He,{value:h.id,children:[h.name," - ",h.specialty]},h.id))})]}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:a.control,name:"appointment_date",render:({field:d})=>o.jsxs(vr,{className:"flex flex-col",children:[o.jsx(yr,{children:"Date *"}),o.jsxs(SU,{children:[o.jsx(jU,{asChild:!0,children:o.jsx(xr,{children:o.jsxs(ke,{variant:"outline",className:Me("pl-3 text-left font-normal",!d.value&&"text-muted-foreground"),children:[d.value?vn(d.value,"PPP"):"Pick a date",o.jsx(yh,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(pA,{className:"w-auto p-0",align:"start",children:o.jsx(f2,{mode:"single",selected:d.value,onSelect:d.onChange,disabled:h=>h<new Date})})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:a.control,name:"appointment_time",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Time *"}),o.jsx(xr,{children:o.jsx(ht,{type:"time",...d})}),o.jsx(kr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:a.control,name:"type",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Appointment Type *"}),o.jsxs(Mr,{onValueChange:d.onChange,defaultValue:d.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select type"})})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"General Checkup",children:"General Checkup"}),o.jsx(He,{value:"Follow-up",children:"Follow-up"}),o.jsx(He,{value:"Consultation",children:"Consultation"}),o.jsx(He,{value:"Emergency",children:"Emergency"}),o.jsx(He,{value:"Surgery",children:"Surgery"}),o.jsx(He,{value:"Lab Test",children:"Lab Test"})]})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:a.control,name:"duration",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Duration (min)"}),o.jsx(xr,{children:o.jsx(ht,{type:"number",min:15,max:240,...d})}),o.jsx(kr,{})]})})]}),o.jsx(Nr,{control:a.control,name:"notes",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Notes"}),o.jsx(xr,{children:o.jsx(Eo,{placeholder:"Additional notes...",...d})}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(ke,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(ke,{type:"submit",disabled:n.isPending,children:n.isPending?"Scheduling...":"Schedule Appointment"})]})]})})]})})},dR={confirmed:"bg-success/10 text-success border-success/20",pending:"bg-warning/10 text-warning border-warning/20","in-progress":"bg-info/10 text-info border-info/20",cancelled:"bg-destructive/10 text-destructive border-destructive/20"},Zpe=()=>{const e=Ks(),[t,r]=w.useState(!1),[n,s]=w.useState(!1),{data:i,isLoading:a}=Wm(),{data:l,isLoading:c}=Hm(),{data:u,isLoading:d}=o2(vn(new Date,"yyyy-MM-dd")),{data:h,isLoading:p}=md(),f=a||c||d||p,v=(h==null?void 0:h.reduce((T,R)=>T+R.total_beds,0))||0,m=(h==null?void 0:h.reduce((T,R)=>T+R.occupied_beds,0))||0,x=v-m,g=(l==null?void 0:l.filter(T=>T.available).length)||0,b=(u==null?void 0:u.filter(T=>T.status==="pending").length)||0,S=T=>{const[R,O]=T.split(":"),D=parseInt(R),M=D>=12?"PM":"AM";return`${D%12||12}:${O} ${M}`},k=[{icon:FC,label:"Add Patient",description:"Register new patient",color:"bg-primary/10 text-primary hover:bg-primary/20",onClick:()=>r(!0)},{icon:zD,label:"New Appointment",description:"Schedule appointment",color:"bg-info/10 text-info hover:bg-info/20",onClick:()=>s(!0)},{icon:Ec,label:"Bed Management",description:"Manage bed allocation",color:"bg-success/10 text-success hover:bg-success/20",onClick:()=>e("/beds")},{icon:Ej,label:"Prescriptions",description:"Write prescription",color:"bg-warning/10 text-warning hover:bg-warning/20",onClick:()=>{}},{icon:qa,label:"Lab Reports",description:"View lab results",color:"bg-secondary text-secondary-foreground hover:bg-secondary/80",onClick:()=>e("/reports")},{icon:TC,label:"Discharge",description:"Process discharge",color:"bg-accent text-accent-foreground hover:bg-accent/80",onClick:()=>{}}];return f?o.jsx(An,{title:"Dashboard",subtitle:"Loading...",children:o.jsx("div",{className:"flex items-center justify-center py-24",children:o.jsx(jl,{className:"w-8 h-8 animate-spin text-primary"})})}):o.jsxs(An,{title:"Dashboard",subtitle:"Welcome back! Here's an overview of your hospital.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx(ji,{title:"Total Patients",value:(i==null?void 0:i.length)||0,change:`${(i==null?void 0:i.filter(T=>T.status==="admitted").length)||0} currently admitted`,changeType:"neutral",icon:Va,iconColor:"primary"}),o.jsx(ji,{title:"Today's Appointments",value:(u==null?void 0:u.length)||0,change:`${b} pending confirmation`,changeType:"neutral",icon:qD,iconColor:"info"}),o.jsx(ji,{title:"Available Beds",value:x,change:`Out of ${v} total`,changeType:"neutral",icon:Ec,iconColor:"success"}),o.jsx(ji,{title:"Active Doctors",value:g,change:`${((l==null?void 0:l.length)||0)-g} on leave`,changeType:"neutral",icon:zi,iconColor:"warning"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:[o.jsxs("div",{className:"p-6 border-b border-border",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Today's Appointments"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[(u==null?void 0:u.length)||0," appointments scheduled"]})]}),o.jsx("div",{className:"divide-y divide-border max-h-[400px] overflow-y-auto",children:(u==null?void 0:u.length)===0?o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No appointments scheduled for today."}):u==null?void 0:u.slice(0,5).map(T=>{var R,O,D,M;return o.jsxs("div",{className:"p-4 hover:bg-muted/50 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Lo,{className:"w-10 h-10",children:o.jsx(Mo,{className:"bg-secondary text-secondary-foreground text-sm font-medium",children:((O=(R=T.patients)==null?void 0:R.name)==null?void 0:O.split(" ").map(G=>G[0]).join(""))||"?"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:((D=T.patients)==null?void 0:D.name)||"Unknown"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(zi,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:((M=T.doctors)==null?void 0:M.name)||"Unknown"})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm text-foreground",children:[o.jsx(ya,{className:"w-3 h-3"}),S(T.appointment_time)]}),o.jsx(Wt,{variant:"outline",className:Me("mt-1 capitalize",dR[T.status]||dR.pending),children:T.status})]})]}),o.jsx("div",{className:"mt-2",children:o.jsx(Wt,{variant:"secondary",className:"text-xs",children:T.type})})]},T.id)})}),o.jsx("div",{className:"p-4 border-t border-border",children:o.jsx("button",{className:"w-full text-center text-sm font-medium text-primary hover:text-primary/80 transition-colors",onClick:()=>e("/appointments"),children:"View All Appointments "})})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 p-6 animate-fade-in",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground mb-4",children:"Quick Actions"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-2 gap-3",children:k.map(T=>o.jsxs(ke,{variant:"ghost",className:`h-auto flex-col items-center gap-2 p-4 ${T.color} transition-all duration-200`,onClick:T.onClick,children:[o.jsx(T.icon,{className:"w-6 h-6"}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium",children:T.label}),o.jsx("p",{className:"text-xs opacity-70",children:T.description})]})]},T.label))})]}),o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:[o.jsxs("div",{className:"p-6 border-b border-border",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Department Status"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Current occupancy"})]}),o.jsx("div",{className:"p-4 space-y-4 max-h-[300px] overflow-y-auto",children:h==null?void 0:h.slice(0,5).map(T=>{const R=T.total_beds>0?Math.round(T.occupied_beds/T.total_beds*100):0;return o.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(vh,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:T.name}),o.jsx("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-0.5",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(No,{className:"w-3 h-3"}),T.doctors_count," doctors"]})})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[T.occupied_beds,o.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["/",T.total_beds]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"beds"})]})]}),o.jsx(l2,{value:R,className:Me("h-2",R>80&&"[&>div]:bg-warning",R>90&&"[&>div]:bg-destructive")})]},T.id)})})]})]})]}),o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:[o.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Recent Patients"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Recently registered patients"})]}),o.jsx(ke,{variant:"outline",size:"sm",onClick:()=>e("/patients"),children:"View All"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Patient"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Condition"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Room"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Status"})]})}),o.jsxs("tbody",{className:"divide-y divide-border",children:[i==null?void 0:i.slice(0,4).map(T=>o.jsxs("tr",{className:"hover:bg-muted/30 transition-colors duration-200",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lo,{className:"w-10 h-10",children:o.jsx(Mo,{className:"bg-secondary text-secondary-foreground text-sm font-medium",children:T.name.split(" ").map(R=>R[0]).join("")})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:T.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.age," yrs, ",T.gender]})]})]})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-foreground",children:T.condition||""})}),o.jsx("td",{className:"p-4",children:T.room?o.jsx(Wt,{variant:"secondary",className:"font-mono",children:T.room}):""}),o.jsx("td",{className:"p-4",children:o.jsx(Wt,{variant:"outline",className:Me(T.status==="stable"&&"bg-success/10 text-success border-success/20",T.status==="admitted"&&"bg-info/10 text-info border-info/20",T.status==="critical"&&"bg-destructive/10 text-destructive border-destructive/20",T.status==="outpatient"&&"bg-success/10 text-success border-success/20"),children:T.status})})]},T.id)),(!i||i.length===0)&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"p-8 text-center text-muted-foreground",children:"No patients yet. Add your first patient to get started."})})]})]})})]}),o.jsx(iA,{open:t,onOpenChange:r}),o.jsx(mA,{open:n,onOpenChange:s})]})};var m2="Dialog",[NU,kU]=is(m2),[Xpe,Uo]=NU(m2),CU=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=va({prop:n,defaultProp:s??!1,onChange:i,caller:m2});return o.jsx(Xpe,{scope:t,triggerRef:l,contentRef:c,contentId:oi(),titleId:oi(),descriptionId:oi(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};CU.displayName=m2;var EU="DialogTrigger",AU=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Uo(EU,r),i=wt(t,s.triggerRef);return o.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":yA(s.open),...n,ref:i,onClick:dt(e.onClick,s.onOpenToggle)})});AU.displayName=EU;var gA="DialogPortal",[eme,PU]=NU(gA,{forceMount:void 0}),TU=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Uo(gA,t);return o.jsx(eme,{scope:t,forceMount:r,children:w.Children.map(n,a=>o.jsx(_a,{present:r||i.open,children:o.jsx(Jh,{asChild:!0,container:s,children:a})}))})};TU.displayName=gA;var Vw="DialogOverlay",RU=w.forwardRef((e,t)=>{const r=PU(Vw,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Uo(Vw,e.__scopeDialog);return i.modal?o.jsx(_a,{present:n||i.open,children:o.jsx(rme,{...s,ref:t})}):null});RU.displayName=Vw;var tme=Cc("DialogOverlay.RemoveScroll"),rme=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Uo(Vw,r);return o.jsx(Um,{as:tme,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Xe.div,{"data-state":yA(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),$h="DialogContent",OU=w.forwardRef((e,t)=>{const r=PU($h,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Uo($h,e.__scopeDialog);return o.jsx(_a,{present:n||i.open,children:i.modal?o.jsx(nme,{...s,ref:t}):o.jsx(sme,{...s,ref:t})})});OU.displayName=$h;var nme=w.forwardRef((e,t)=>{const r=Uo($h,e.__scopeDialog),n=w.useRef(null),s=wt(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return z0(i)},[]),o.jsx(LU,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,i=>i.preventDefault())})}),sme=w.forwardRef((e,t)=>{const r=Uo($h,e.__scopeDialog),n=w.useRef(!1),s=w.useRef(!1);return o.jsx(LU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),LU=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=Uo($h,r),c=w.useRef(null),u=wt(t,c);return CE(),o.jsxs(o.Fragment,{children:[o.jsx(Bm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Cm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":yA(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(ame,{titleId:l.titleId}),o.jsx(lme,{contentRef:c,descriptionId:l.descriptionId})]})]})}),vA="DialogTitle",MU=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Uo(vA,r);return o.jsx(Xe.h2,{id:s.titleId,...n,ref:t})});MU.displayName=vA;var IU="DialogDescription",DU=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Uo(IU,r);return o.jsx(Xe.p,{id:s.descriptionId,...n,ref:t})});DU.displayName=IU;var FU="DialogClose",$U=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Uo(FU,r);return o.jsx(Xe.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,()=>s.onOpenChange(!1))})});$U.displayName=FU;function yA(e){return e?"open":"closed"}var BU="DialogTitleWarning",[ime,UU]=uD(BU,{contentName:$h,titleName:vA,docsSlug:"dialog"}),ame=({titleId:e})=>{const t=UU(BU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ome="DialogDescriptionWarning",lme=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UU(ome).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},cme=CU,ume=AU,dme=TU,hme=RU,fme=OU,pme=MU,mme=DU,qU=$U,zU="AlertDialog",[gme,D2e]=is(zU,[kU]),Dc=kU(),VU=e=>{const{__scopeAlertDialog:t,...r}=e,n=Dc(t);return o.jsx(cme,{...n,...r,modal:!0})};VU.displayName=zU;var vme="AlertDialogTrigger",WU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Dc(r);return o.jsx(ume,{...s,...n,ref:t})});WU.displayName=vme;var yme="AlertDialogPortal",HU=e=>{const{__scopeAlertDialog:t,...r}=e,n=Dc(t);return o.jsx(dme,{...n,...r})};HU.displayName=yme;var xme="AlertDialogOverlay",GU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Dc(r);return o.jsx(hme,{...s,...n,ref:t})});GU.displayName=xme;var Sp="AlertDialogContent",[wme,bme]=gme(Sp),_me=fD("AlertDialogContent"),YU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Dc(r),a=w.useRef(null),l=wt(t,a),c=w.useRef(null);return o.jsx(ime,{contentName:Sp,titleName:KU,docsSlug:"alert-dialog",children:o.jsx(wme,{scope:r,cancelRef:c,children:o.jsxs(fme,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:dt(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(_me,{children:n}),o.jsx(jme,{contentRef:a})]})})})});YU.displayName=Sp;var KU="AlertDialogTitle",JU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Dc(r);return o.jsx(pme,{...s,...n,ref:t})});JU.displayName=KU;var QU="AlertDialogDescription",ZU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Dc(r);return o.jsx(mme,{...s,...n,ref:t})});ZU.displayName=QU;var Sme="AlertDialogAction",XU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Dc(r);return o.jsx(qU,{...s,...n,ref:t})});XU.displayName=Sme;var eq="AlertDialogCancel",tq=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=bme(eq,r),i=Dc(r),a=wt(t,s);return o.jsx(qU,{...i,...n,ref:a})});tq.displayName=eq;var jme=({contentRef:e})=>{const t=`\`${Sp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Sp}\` by passing a \`${QU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Sp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Nme=VU,kme=WU,Cme=HU,rq=GU,nq=YU,sq=XU,iq=tq,aq=JU,oq=ZU;const Gm=Nme,lq=kme,Eme=Cme,cq=w.forwardRef(({className:e,...t},r)=>o.jsx(rq,{className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));cq.displayName=rq.displayName;const tf=w.forwardRef(({className:e,...t},r)=>o.jsxs(Eme,{children:[o.jsx(cq,{}),o.jsx(nq,{ref:r,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));tf.displayName=nq.displayName;const rf=({className:e,...t})=>o.jsx("div",{className:Me("flex flex-col space-y-2 text-center sm:text-left",e),...t});rf.displayName="AlertDialogHeader";const nf=({className:e,...t})=>o.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});nf.displayName="AlertDialogFooter";const sf=w.forwardRef(({className:e,...t},r)=>o.jsx(aq,{ref:r,className:Me("text-lg font-semibold",e),...t}));sf.displayName=aq.displayName;const af=w.forwardRef(({className:e,...t},r)=>o.jsx(oq,{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));af.displayName=oq.displayName;const of=w.forwardRef(({className:e,...t},r)=>o.jsx(sq,{ref:r,className:Me(i0(),e),...t}));of.displayName=sq.displayName;const lf=w.forwardRef(({className:e,...t},r)=>o.jsx(iq,{ref:r,className:Me(i0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));lf.displayName=iq.displayName;var A5="rovingFocusGroup.onEntryFocus",Ame={bubbles:!1,cancelable:!0},ny="RovingFocusGroup",[RN,uq,Pme]=km(ny),[Tme,dq]=is(ny,[Pme]),[Rme,Ome]=Tme(ny),hq=w.forwardRef((e,t)=>o.jsx(RN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(RN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Lme,{...e,ref:t})})}));hq.displayName=ny;var Lme=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=w.useRef(null),f=wt(t,p),v=hd(i),[m,x]=va({prop:a,defaultProp:l??null,onChange:c,caller:ny}),[g,b]=w.useState(!1),S=Kr(u),k=uq(r),T=w.useRef(!1),[R,O]=w.useState(0);return w.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(A5,S),()=>D.removeEventListener(A5,S)},[S]),o.jsx(Rme,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:w.useCallback(D=>x(D),[x]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:w.useCallback(()=>O(D=>D-1),[]),children:o.jsx(Xe.div,{tabIndex:g||R===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{T.current=!0}),onFocus:dt(e.onFocus,D=>{const M=!T.current;if(D.target===D.currentTarget&&M&&!g){const G=new CustomEvent(A5,Ame);if(D.currentTarget.dispatchEvent(G),!G.defaultPrevented){const A=k().filter(ne=>ne.focusable),I=A.find(ne=>ne.active),$=A.find(ne=>ne.id===m),ee=[I,$,...A].filter(Boolean).map(ne=>ne.ref.current);mq(ee,d)}}T.current=!1}),onBlur:dt(e.onBlur,()=>b(!1))})})}),fq="RovingFocusGroupItem",pq=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=oi(),u=i||c,d=Ome(fq,r),h=d.currentTabStopId===u,p=uq(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return w.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),o.jsx(RN.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(Xe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:dt(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:dt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:dt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=Dme(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(k=>k.focusable).map(k=>k.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const k=S.indexOf(x.currentTarget);S=d.loop?Fme(S,k+1):S.slice(k+1)}setTimeout(()=>mq(S))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:m!=null}):a})})});pq.displayName=fq;var Mme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ime(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Dme(e,t,r){const n=Ime(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Mme[n]}function mq(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Fme(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $me=hq,Bme=pq,g2="Tabs",[Ume,F2e]=is(g2,[dq]),gq=dq(),[qme,xA]=Ume(g2),vq=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=hd(l),[h,p]=va({prop:n,onChange:s,defaultProp:i??"",caller:g2});return o.jsx(qme,{scope:r,baseId:oi(),value:h,onValueChange:p,orientation:a,dir:d,activationMode:c,children:o.jsx(Xe.div,{dir:d,"data-orientation":a,...u,ref:t})})});vq.displayName=g2;var yq="TabsList",xq=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=xA(yq,r),a=gq(r);return o.jsx($me,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});xq.displayName=yq;var wq="TabsTrigger",bq=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=xA(wq,r),l=gq(r),c=jq(a.baseId,n),u=Nq(a.baseId,n),d=n===a.value;return o.jsx(Bme,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(Xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:dt(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:dt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:dt(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(n)})})})});bq.displayName=wq;var _q="TabsContent",Sq=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,l=xA(_q,r),c=jq(l.baseId,n),u=Nq(l.baseId,n),d=n===l.value,h=w.useRef(d);return w.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(_a,{present:s||d,children:({present:p})=>o.jsx(Xe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});Sq.displayName=_q;function jq(e,t){return`${e}-trigger-${t}`}function Nq(e,t){return`${e}-content-${t}`}var zme=vq,kq=xq,Cq=bq,Eq=Sq;const vd=zme,Fc=w.forwardRef(({className:e,...t},r)=>o.jsx(kq,{ref:r,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Fc.displayName=kq.displayName;const mn=w.forwardRef(({className:e,...t},r)=>o.jsx(Cq,{ref:r,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));mn.displayName=Cq.displayName;const gn=w.forwardRef(({className:e,...t},r)=>o.jsx(Eq,{ref:r,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));gn.displayName=Eq.displayName;const Vme=({patient:e,open:t,onOpenChange:r})=>{if(!e)return null;const n=()=>{qe.success("Downloading patient records...",{description:"The PDF file will be downloaded shortly."}),setTimeout(()=>{qe.info("Download Complete",{description:`${e.name}_records.pdf saved.`})},1500)};return o.jsx(fs,{open:t,onOpenChange:r,children:o.jsxs(ns,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ks,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx(ps,{className:"text-2xl font-bold",children:e.name}),o.jsxs(Gs,{className:"mt-1 flex items-center gap-2",children:[o.jsxs("span",{children:["ID: ",e.patient_id]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[e.age," yrs, ",e.gender]}),o.jsx("span",{children:""}),o.jsx(Wt,{variant:"outline",children:e.status})]})]}),o.jsxs(ke,{onClick:n,children:[o.jsx(HD,{className:"w-4 h-4 mr-2"}),"Download Records"]})]})}),o.jsxs(vd,{defaultValue:"overview",className:"mt-6",children:[o.jsxs(Fc,{children:[o.jsx(mn,{value:"overview",children:"Overview"}),o.jsx(mn,{value:"reports",children:"Medical Reports"}),o.jsx(mn,{value:"prescriptions",children:"Prescriptions"}),o.jsx(mn,{value:"billing",children:"Billing & Payments"})]}),o.jsx(gn,{value:"overview",className:"space-y-4 mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(jt,{children:[o.jsx(Ht,{className:"pb-2",children:o.jsxs(It,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(_l,{className:"w-4 h-4"})," Current Condition"]})}),o.jsxs(Tt,{children:[o.jsx("p",{className:"text-lg font-semibold",children:e.condition||"Not recorded"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Admitted: ",e.admitted_at?vn(new Date(e.admitted_at),"PPP"):"N/A"]})]})]}),o.jsxs(jt,{children:[o.jsx(Ht,{className:"pb-2",children:o.jsxs(It,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(ya,{className:"w-4 h-4"})," Vitals"]})}),o.jsx(Tt,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsx("div",{children:"BP: 120/80"}),o.jsx("div",{children:"Pulse: 72 bpm"}),o.jsx("div",{children:"Temp: 98.6F"}),o.jsx("div",{children:"SpO2: 98%"})]})})]})]})}),o.jsx(gn,{value:"reports",className:"mt-4",children:o.jsx(_p,{className:"h-[300px] border rounded-md p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(qa,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Blood Test Report (CBC)"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Jan 15, 2026"})]})]}),o.jsx(ke,{variant:"ghost",size:"sm",children:"View"})]}),o.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No more reports found."})]})})}),o.jsx(gn,{value:"prescriptions",className:"mt-4",children:o.jsx(_p,{className:"h-[300px] border rounded-md p-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("h4",{className:"font-semibold",children:"General Medication"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Jan 16, 2026"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Ej,{className:"w-4 h-4 text-primary"}),o.jsx("span",{children:"Paracetamol 500mg - 1-0-1 (3 days)"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Ej,{className:"w-4 h-4 text-primary"}),o.jsx("span",{children:"Amoxicillin 250mg - 1-0-1 (5 days)"})]})]})]})})})}),o.jsx(gn,{value:"billing",className:"mt-4",children:o.jsx(_p,{className:"h-[300px] border rounded-md p-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-green-50/50 border-green-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx(hw,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Advance Payment"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Jan 14, 2026  Receipt #10234"})]})]}),o.jsx("p",{className:"font-bold text-green-700",children:" 10,000"})]})})})})]})]})})},Wme=Q0({patient_id:Gr().min(1,"Patient is required"),report_type:Gr().min(1,"Report type is required"),title:Gr().min(3,"Title is required"),description:Gr().optional(),file:sfe().optional()}),wA=({open:e,onOpenChange:t,patientId:r,patientName:n,defaultType:s="lab"})=>{const{toast:i}=T0(),[a,l]=w.useState(!1),c=K0({resolver:J0(Wme),defaultValues:{patient_id:r||"",report_type:s,title:"",description:"",file:null}}),u=Qr({mutationFn:async h=>{var f;const{error:p}=await Ve.from("medical_reports").insert({patient_id:h.patient_id,report_type:h.report_type,title:h.title,description:h.description,file_url:"https://example.com/mock-report.pdf",uploaded_by:(f=(await Ve.auth.getUser()).data.user)==null?void 0:f.id});if(p){if(p.code==="42P01"){await new Promise(v=>setTimeout(v,1e3));return}throw p}},onSuccess:()=>{i({title:"Upload Successful",description:"The medical report has been added to patient records.",className:"bg-green-50 border-green-200"}),t(!1),c.reset()},onError:()=>{i({title:"Upload Successful (Simulation)",description:"Report metadata saved locally."}),t(!1)}}),d=h=>{l(!0),setTimeout(()=>{u.mutate(h),l(!1)},1e3)};return o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"sm:max-w-[500px]",children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Upload Medical Record"}),o.jsxs(Gs,{children:["Upload reports, prescriptions, or payment receipts for ",n||"patient","."]})]}),o.jsx(Z0,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[!r&&o.jsx(Nr,{control:c.control,name:"patient_id",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Patient ID"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Enter Patient ID",...h})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:c.control,name:"report_type",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Record Type"}),o.jsxs(Mr,{onValueChange:h.onChange,defaultValue:h.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select Type"})})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"lab",children:"Lab Report"}),o.jsx(He,{value:"prescription",children:"Prescription"}),o.jsx(He,{value:"imaging",children:"X-Ray / MRI"}),o.jsx(He,{value:"bill",children:"Payment Receipt"}),o.jsx(He,{value:"insurance",children:"Insurance Document"}),o.jsx(He,{value:"other",children:"Other"})]})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:c.control,name:"title",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Title"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g. Blood Test CBC",...h})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:c.control,name:"description",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Description (Optional)"}),o.jsx(xr,{children:o.jsx(Eo,{placeholder:"Additional details...",...h})}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Attachment"}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center bg-muted/20 hover:bg-muted/40 transition-colors cursor-pointer text-muted-foreground",children:[o.jsx(pw,{className:"w-8 h-8 mb-2"}),o.jsx("span",{className:"text-sm",children:"Click to select file"})]})]}),o.jsx(ke,{type:"submit",className:"w-full",disabled:a||u.isPending,children:a?"Uploading...":"Upload Document"})]})})]})})},hR={admitted:"bg-info/10 text-info border-info/20",outpatient:"bg-success/10 text-success border-success/20",critical:"bg-destructive/10 text-destructive border-destructive/20",discharged:"bg-muted text-muted-foreground border-muted"},Hme=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(""),[s,i]=w.useState("all"),[a,l]=w.useState(null),[c,u]=w.useState(null),[d,h]=w.useState(!1),[p,f]=w.useState(!1),{data:v,isLoading:m}=Wm(),x=Hde(),g=v==null?void 0:v.filter(S=>{var R;const k=S.name.toLowerCase().includes(r.toLowerCase())||S.patient_id.toLowerCase().includes(r.toLowerCase())||((R=S.condition)==null?void 0:R.toLowerCase().includes(r.toLowerCase())),T=s==="all"||S.status===s;return k&&T}),b=async()=>{a&&(await x.mutateAsync(a),l(null))};return o.jsxs(An,{title:"Patients",subtitle:"Manage patient records and information",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(El,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search patients by name, ID, or condition...",className:"pl-10",value:r,onChange:S=>n(S.target.value)})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Mr,{value:s,onValueChange:i,children:[o.jsx(Tr,{className:"w-40",children:o.jsx(Ir,{placeholder:"Status"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Status"}),o.jsx(He,{value:"admitted",children:"Admitted"}),o.jsx(He,{value:"outpatient",children:"Outpatient"}),o.jsx(He,{value:"critical",children:"Critical"}),o.jsx(He,{value:"discharged",children:"Discharged"})]})]}),o.jsxs(ke,{onClick:()=>t(!0),children:[o.jsx(M0,{className:"w-4 h-4 mr-2"}),"Add Patient"]})]})]}),o.jsx("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:m?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(jl,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Patient"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"ID"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Contact"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Condition"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Room"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Status"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:(g==null?void 0:g.length)===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"p-8 text-center text-muted-foreground",children:"No patients found. Add your first patient to get started."})}):g==null?void 0:g.map(S=>o.jsxs("tr",{className:"hover:bg-muted/30 transition-colors duration-200",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lo,{className:"w-10 h-10",children:o.jsx(Mo,{className:"bg-secondary text-secondary-foreground text-sm font-medium",children:S.name.split(" ").map(k=>k[0]).join("")})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:S.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.age," yrs, ",S.gender]})]})]})}),o.jsx("td",{className:"p-4",children:o.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:S.patient_id})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-sm text-foreground",children:S.phone||""})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-foreground",children:S.condition||""})}),o.jsx("td",{className:"p-4",children:S.room?o.jsx(Wt,{variant:"secondary",className:"font-mono",children:S.room}):""}),o.jsx("td",{className:"p-4",children:o.jsx(Wt,{variant:"outline",className:hR[S.status]||hR.outpatient,children:S.status})}),o.jsx("td",{className:"p-4",children:o.jsxs(rd,{children:[o.jsx(nd,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",children:o.jsx(Cj,{className:"w-4 h-4"})})}),o.jsxs(Rc,{align:"end",children:[o.jsxs(hn,{onClick:()=>{u(S),f(!0)},children:[o.jsx(qa,{className:"w-4 h-4 mr-2"}),"Upload Record"]}),o.jsxs(hn,{onClick:()=>{u(S),h(!0)},children:[o.jsx(qa,{className:"w-4 h-4 mr-2"}),"View Records"]}),o.jsx(hn,{children:"Edit Details"}),S.phone&&o.jsxs(hn,{onClick:()=>window.open(`tel:${S.phone}`),children:[o.jsx(za,{className:"w-4 h-4 mr-2"}),"Call"]}),S.email&&o.jsxs(hn,{onClick:()=>window.open(`mailto:${S.email}`),children:[o.jsx(Ab,{className:"w-4 h-4 mr-2"}),"Email"]}),o.jsxs(hn,{className:"text-destructive",onClick:()=>l(S.id),children:[o.jsx(Am,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},S.id))})]})}),o.jsx("div",{className:"p-4 border-t border-border flex items-center justify-between",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(g==null?void 0:g.length)||0," of ",(v==null?void 0:v.length)||0," patients"]})})]})}),o.jsx(iA,{open:e,onOpenChange:t}),o.jsx(Vme,{open:d,onOpenChange:h,patient:c}),o.jsx(wA,{open:p,onOpenChange:f,patientId:c==null?void 0:c.id,patientName:c==null?void 0:c.name}),o.jsx(Gm,{open:!!a,onOpenChange:()=>l(null),children:o.jsxs(tf,{children:[o.jsxs(rf,{children:[o.jsx(sf,{children:"Delete Patient"}),o.jsx(af,{children:"Are you sure you want to delete this patient? This action cannot be undone."})]}),o.jsxs(nf,{children:[o.jsx(lf,{children:"Cancel"}),o.jsx(of,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};var v2="Switch",[Gme,$2e]=is(v2),[Yme,Kme]=Gme(v2),Aq=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[p,f]=w.useState(null),v=wt(t,S=>f(S)),m=w.useRef(!1),x=p?d||!!p.closest("form"):!0,[g,b]=va({prop:s,defaultProp:i??!1,onChange:u,caller:v2});return o.jsxs(Yme,{scope:r,checked:g,disabled:l,children:[o.jsx(Xe.button,{type:"button",role:"switch","aria-checked":g,"aria-required":a,"data-state":Oq(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:dt(e.onClick,S=>{b(k=>!k),x&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),x&&o.jsx(Rq,{control:p,bubbles:!m.current,name:n,value:c,checked:g,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Aq.displayName=v2;var Pq="SwitchThumb",Tq=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Kme(Pq,r);return o.jsx(Xe.span,{"data-state":Oq(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Tq.displayName=Pq;var Jme="SwitchBubbleInput",Rq=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=w.useRef(null),l=wt(a,i),c=EE(r),u=Ob(t);return w.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const v=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(v)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Rq.displayName=Jme;function Oq(e){return e?"checked":"unchecked"}var Lq=Aq,Qme=Tq;const jp=w.forwardRef(({className:e,...t},r)=>o.jsx(Lq,{className:Me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(Qme,{className:Me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));jp.displayName=Lq.displayName;const Zme=Q0({name:Gr().min(2,"Name must be at least 2 characters"),specialty:Gr().min(1,"Please enter specialty"),experience:Gr().optional(),phone:Gr().optional(),email:Gr().email().optional().or(ZB("")),available:rfe().default(!0),department_id:Gr().optional()}),Xme=({open:e,onOpenChange:t})=>{const r=Gde(),{data:n}=md(),s=K0({resolver:J0(Zme),defaultValues:{name:"",specialty:"",experience:"",phone:"",email:"",available:!0}}),i=async a=>{await r.mutateAsync({name:a.name,specialty:a.specialty,experience:a.experience||void 0,phone:a.phone||void 0,email:a.email||void 0,available:a.available,department_id:a.department_id||void 0}),s.reset(),t(!1)};return o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"max-w-lg",children:[o.jsx(ks,{children:o.jsx(ps,{className:"font-heading",children:"Add New Doctor"})}),o.jsx(Z0,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[o.jsx(Nr,{control:s.control,name:"name",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Full Name *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Dr. John Smith",...a})}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:s.control,name:"specialty",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Specialty *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Cardiology",...a})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:s.control,name:"experience",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Experience"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"10 years",...a})}),o.jsx(kr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:s.control,name:"phone",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Phone"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"+1 234-567-8900",...a})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:s.control,name:"email",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Email"}),o.jsx(xr,{children:o.jsx(ht,{type:"email",placeholder:"doctor@hospital.com",...a})}),o.jsx(kr,{})]})})]}),o.jsx(Nr,{control:s.control,name:"department_id",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Department"}),o.jsxs(Mr,{onValueChange:a.onChange,defaultValue:a.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select department"})})}),o.jsx(Rr,{children:n==null?void 0:n.map(l=>o.jsx(He,{value:l.id,children:l.name},l.id))})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:s.control,name:"available",render:({field:a})=>o.jsxs(vr,{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(yr,{className:"text-base",children:"Available"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Doctor is available for appointments"})]}),o.jsx(xr,{children:o.jsx(jp,{checked:a.value,onCheckedChange:a.onChange})})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(ke,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(ke,{type:"submit",disabled:r.isPending,children:r.isPending?"Adding...":"Add Doctor"})]})]})})]})})},Mq=({open:e,onOpenChange:t,action:r})=>{const{user:n}=ci(),[s,i]=w.useState(""),[a,l]=w.useState(!1),c=async()=>{if(!s.trim()){qe.error("Please provide a reason for this request");return}l(!0);try{const{data:u,error:d}=await Ve.from("user_roles").select("user_id").eq("role","admin");if(d)throw d;if(!u||u.length===0)throw new Error("No administrators found to receive this request.");const h=u.map(f=>({user_id:f.user_id,title:"Permission Request",message:`${(n==null?void 0:n.email)||"A user"} requests to ${r}. Reason: ${s}`,type:"permission_request",entity_type:"request",entity_id:n==null?void 0:n.id.toString(),is_read:!1})),{error:p}=await Ve.from("notifications").insert(h);if(p)throw p;qe.success("Permission request sent to Admin",{description:`Request to ${r} has been forwarded for approval.`}),t(!1),i("")}catch(u){const d=u instanceof Error?u.message:"Failed to send request";qe.error("Failed to send request",{description:d})}finally{l(!1)}};return o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"sm:max-w-[425px]",children:[o.jsxs(ks,{children:[o.jsxs(ps,{className:"flex items-center gap-2 text-amber-600",children:[o.jsx(GD,{className:"w-5 h-5"}),"Restricted Action"]}),o.jsxs(Gs,{children:["You do not have permission to ",o.jsx("strong",{children:r}),". You can request approval from an administrator."]})]}),o.jsx("div",{className:"grid gap-4 py-4",children:o.jsx(Eo,{placeholder:"Why is this change necessary?",value:s,onChange:u=>i(u.target.value),className:"min-h-[100px]"})}),o.jsxs(qm,{children:[o.jsx(ke,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(ke,{onClick:c,disabled:a,className:"bg-amber-600 hover:bg-amber-700",children:a?"Sending Request...":"Request Approval"})]})]})})},ege=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fR=Array.from({length:24},(e,t)=>{const r=t%12||12,n=t<12?"AM":"PM";return`${r}:00 ${n}`}),tge=({open:e,onOpenChange:t,doctor:r})=>{const[n,s]=w.useState(!1),i=Yde(),{user:a}=ci(),[l,c]=w.useState(null),[u,d]=w.useState(!1),[h,p]=w.useState(["Monday","Tuesday","Wednesday","Thursday","Friday"]),[f,v]=w.useState("9:00 AM"),[m,x]=w.useState("5:00 PM"),[g,b]=w.useState(!0);w.useEffect(()=>{if(r)if(b(r.available),r.schedule)try{const O=typeof r.schedule=="string"?JSON.parse(r.schedule):r.schedule;O.start&&v(O.start),O.end&&x(O.end),O.days&&p(O.days)}catch{S()}else S();k()},[r,a]);const S=()=>{v("9:00 AM"),x("5:00 PM"),p(["Monday","Tuesday","Wednesday","Thursday","Friday"])},k=async()=>{if(!a)return;const{data:O}=await Ve.from("user_roles").select("role").eq("user_id",a.id.toString()).maybeSingle();O&&c(O.role)},T=O=>{h.includes(O)?p(h.filter(D=>D!==O)):p([...h,O])},R=async()=>{if(r){if(l==="receptionist"){d(!0);return}s(!0);try{const O={days:h,start:f,end:m};await i.mutateAsync({id:r.id,available:g,schedule:O}),qe.success("Schedule updated successfully",{description:`Updated availability for ${r.name}`}),t(!1)}catch(O){const D=O instanceof Error?O.message:"Failed to update schedule";if(l!=="receptionist")try{await i.mutateAsync({id:r.id,available:g}),qe.warning("Availability updated, but detailed schedule could not be saved.",{description:"The database may not yet support detailed schedules."}),t(!1);return}catch{}D.includes("permission")||D.includes("policy")?qe.error("You do not have permission to perform this action."):qe.error(D)}finally{s(!1)}}};return o.jsxs(o.Fragment,{children:[o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"sm:max-w-[500px]",children:[o.jsxs(ks,{children:[o.jsxs(ps,{className:"flex items-center gap-2",children:[o.jsx(ya,{className:"w-5 h-5 text-primary"}),"Set Availability Schedule"]}),o.jsxs(Gs,{children:["Configure the weekly availability for ",o.jsx("strong",{children:r==null?void 0:r.name}),"."]})]}),o.jsxs("div",{className:"grid gap-6 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between space-x-2 border p-3 rounded-lg",children:[o.jsxs(lt,{htmlFor:"available-mode",className:"flex flex-col space-y-1",children:[o.jsx("span",{className:"font-medium",children:"Currently Available"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Toggle global availability status."})]}),o.jsx(jp,{id:"available-mode",checked:g,onCheckedChange:b})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(lt,{children:"Working Days"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ege.map(O=>o.jsx("div",{onClick:()=>T(O),className:`
                                            cursor-pointer px-3 py-1.5 rounded-full text-xs font-medium transition-colors border
                                            ${h.includes(O)?"bg-primary text-primary-foreground border-primary":"bg-muted text-muted-foreground border-transparent hover:bg-muted/80"}
                                        `,children:O.slice(0,3)},O))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Start Time"}),o.jsxs(Mr,{value:f,onValueChange:v,children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsx(Rr,{children:fR.map(O=>o.jsx(He,{value:O,children:O},`start-${O}`))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"End Time"}),o.jsxs(Mr,{value:m,onValueChange:x,children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsx(Rr,{children:fR.map(O=>o.jsx(He,{value:O,children:O},`end-${O}`))})]})]})]})]}),o.jsxs(qm,{children:[o.jsx(ke,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(ke,{onClick:R,disabled:n,children:n?"Saving...":"Save Schedule"})]})]})}),o.jsx(Mq,{open:u,onOpenChange:O=>{d(O),O||t(!1)},action:`update schedule for Dr. ${r==null?void 0:r.name}`})]})},rge=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(!1),[s,i]=w.useState(null),[a,l]=w.useState(""),[c,u]=w.useState("all"),[d,h]=w.useState(null),{data:p,isLoading:f}=Hm(),v=Kde(),m=p==null?void 0:p.filter(b=>{const S=b.name.toLowerCase().includes(a.toLowerCase())||b.specialty.toLowerCase().includes(a.toLowerCase()),k=c==="all"||c==="available"&&b.available||c==="busy"&&!b.available;return S&&k}),x=async()=>{d&&(await v.mutateAsync(d),h(null))},g=b=>{i(b),n(!0)};return o.jsxs(An,{title:"Doctors",subtitle:"Manage medical staff and their schedules",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(El,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search doctors by name or specialty...",className:"pl-10",value:a,onChange:b=>l(b.target.value)})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Mr,{value:c,onValueChange:u,children:[o.jsx(Tr,{className:"w-36",children:o.jsx(Ir,{placeholder:"Availability"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All"}),o.jsx(He,{value:"available",children:"Available"}),o.jsx(He,{value:"busy",children:"On Leave"})]})]}),o.jsxs(ke,{onClick:()=>t(!0),children:[o.jsx(M0,{className:"w-4 h-4 mr-2"}),"Add Doctor"]})]})]}),f?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(jl,{className:"w-8 h-8 animate-spin text-primary"})}):(m==null?void 0:m.length)===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No doctors found. Add your first doctor to get started."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m==null?void 0:m.map(b=>o.jsx(jt,{className:"card-shadow border-border/50 hover:shadow-elevated transition-shadow duration-300 animate-fade-in",children:o.jsx(Tt,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Lo,{className:"w-20 h-20 mb-4",children:o.jsx(Mo,{className:"bg-primary/10 text-primary text-xl font-semibold",children:b.name.split(" ").slice(1).map(S=>S[0]).join("")||b.name.split(" ")[0][0]})}),o.jsx("span",{className:`absolute bottom-4 right-0 w-4 h-4 rounded-full border-2 border-card ${b.available?"bg-success":"bg-muted-foreground"}`})]}),o.jsx("h3",{className:"font-heading font-semibold text-foreground",children:b.name}),o.jsx(Wt,{variant:"secondary",className:"mt-2",children:b.specialty}),o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-warning",children:[o.jsx(IC,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-medium",children:b.rating})]}),o.jsxs("div",{className:"mt-4 w-full space-y-2 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Experience"}),o.jsx("span",{className:"text-foreground font-medium",children:b.experience||""})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Patients"}),o.jsx("span",{className:"text-foreground font-medium",children:b.total_patients.toLocaleString()})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4 w-full",children:[b.phone&&o.jsx(ke,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>window.open(`tel:${b.phone}`),children:o.jsx(za,{className:"w-4 h-4"})}),b.email&&o.jsx(ke,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>window.open(`mailto:${b.email}`),children:o.jsx(Ab,{className:"w-4 h-4"})}),o.jsx(ke,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>g(b),title:"Set Schedule",children:o.jsx(ya,{className:"w-4 h-4"})}),o.jsx(ke,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>h(b.id),children:o.jsx(Am,{className:"w-4 h-4"})})]}),o.jsx(ke,{className:"w-full mt-3",variant:b.available?"default":"secondary",disabled:!b.available,children:b.available?"Book Appointment":"On Leave"})]})})},b.id))}),o.jsx(Xme,{open:e,onOpenChange:t}),o.jsx(tge,{open:r,onOpenChange:n,doctor:s}),o.jsx(Gm,{open:!!d,onOpenChange:()=>h(null),children:o.jsxs(tf,{children:[o.jsxs(rf,{children:[o.jsx(sf,{children:"Delete Doctor"}),o.jsx(af,{children:"Are you sure you want to delete this doctor? This action cannot be undone."})]}),o.jsxs(nf,{children:[o.jsx(lf,{children:"Cancel"}),o.jsx(of,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},nge=()=>fn({queryKey:["patient-appointments"],queryFn:async()=>{const{data:e,error:t}=await Ve.from("patient_appointments").select(`
          *,
          doctors:doctor_id(name, specialty),
          departments:department_id(name)
        `).order("created_at",{ascending:!1});if(t)throw t;return e}}),sge=()=>{const e=Pn();return Qr({mutationFn:async({id:t,...r})=>{const{error:n}=await Ve.from("patient_appointments").update(r).eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["patient-appointments"]}),qe.success("Appointment updated successfully")},onError:t=>{qe.error(`Error updating appointment: ${t.message}`)}})},ige=()=>Qr({mutationFn:async({appointmentId:e,action:t})=>{const{data:r,error:n}=await Ve.functions.invoke("vapi-appointment-call",{body:{appointmentId:e,action:t}});if(n)throw new Error(n.message||"Failed to initiate call");if(!r.success)throw new Error(r.error||"Call failed");return r},onSuccess:e=>{Zr({title:"Call Initiated",description:e.message})},onError:e=>{Zr({title:"Call Failed",description:e.message,variant:"destructive"})}}),O1={confirmed:"bg-success/10 text-success border-success/20",pending:"bg-warning/10 text-warning border-warning/20","in-progress":"bg-info/10 text-info border-info/20",cancelled:"bg-destructive/10 text-destructive border-destructive/20",completed:"bg-muted text-muted-foreground border-muted"},age=()=>{const[e,t]=w.useState(new Date),[r,n]=w.useState(!1),[s,i]=w.useState(""),[a,l]=w.useState("all"),[c,u]=w.useState(null),[d,h]=w.useState("scheduled"),p=e?vn(e,"yyyy-MM-dd"):void 0,{data:f,isLoading:v}=o2(p),{data:m,isLoading:x}=nge(),g=Qde(),b=sge(),S=Zde(),k=ige(),T=(m==null?void 0:m.filter($=>$.status==="pending"))||[];m!=null&&m.filter($=>$.status==="confirmed");const R=async($,q)=>{await k.mutateAsync({appointmentId:$,action:q})},O=f==null?void 0:f.filter($=>{var W,Z,pe,ve;const q=((Z=(W=$.patients)==null?void 0:W.name)==null?void 0:Z.toLowerCase())||"",ee=((ve=(pe=$.doctors)==null?void 0:pe.name)==null?void 0:ve.toLowerCase())||"",ne=q.includes(s.toLowerCase())||ee.includes(s.toLowerCase()),te=a==="all"||$.status===a;return ne&&te}),D={total:(f==null?void 0:f.length)||0,confirmed:(f==null?void 0:f.filter($=>$.status==="confirmed").length)||0,pending:(f==null?void 0:f.filter($=>$.status==="pending").length)||0,cancelled:(f==null?void 0:f.filter($=>$.status==="cancelled").length)||0},M=async($,q)=>{await g.mutateAsync({id:$,status:q})},G=async()=>{c&&(await S.mutateAsync(c),u(null))},A=$=>{const[q,ee]=$.split(":"),ne=parseInt(q),te=ne>=12?"PM":"AM";return`${ne%12||12}:${ee} ${te}`},I=async($,q)=>{await b.mutateAsync({id:$,status:q})};return o.jsxs(An,{title:"Appointments",subtitle:"Schedule and manage patient appointments",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx(jt,{className:"card-shadow border-border/50",children:o.jsx(Tt,{className:"p-4",children:o.jsx(f2,{mode:"single",selected:e,onSelect:t,className:"rounded-md"})})}),o.jsxs(jt,{className:"card-shadow border-border/50",children:[o.jsx(Ht,{className:"pb-3",children:o.jsx(It,{className:"text-sm font-medium",children:"Today's Overview"})}),o.jsxs(Tt,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"}),o.jsx(Wt,{variant:"secondary",children:D.total})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Confirmed"}),o.jsx(Wt,{className:"bg-success/10 text-success border-success/20",children:D.confirmed})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Pending"}),o.jsx(Wt,{className:"bg-warning/10 text-warning border-warning/20",children:D.pending})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Cancelled"}),o.jsx(Wt,{className:"bg-destructive/10 text-destructive border-destructive/20",children:D.cancelled})]})]})]})]}),o.jsx("div",{className:"lg:col-span-3 space-y-6",children:o.jsxs(vd,{value:d,onValueChange:h,className:"w-full",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[o.jsxs(Fc,{children:[o.jsxs(mn,{value:"scheduled",className:"gap-2",children:[o.jsx(kj,{className:"w-4 h-4"}),"Scheduled"]}),o.jsxs(mn,{value:"requests",className:"gap-2",children:[o.jsx(No,{className:"w-4 h-4"}),"Patient Requests",T.length>0&&o.jsx(Wt,{variant:"destructive",className:"ml-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:T.length})]})]}),o.jsxs(ke,{onClick:()=>n(!0),children:[o.jsx(M0,{className:"w-4 h-4 mr-2"}),"New Appointment"]})]}),o.jsxs(gn,{value:"scheduled",className:"mt-6 space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(El,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search appointments...",className:"pl-10",value:s,onChange:$=>i($.target.value)})]}),o.jsxs(Mr,{value:a,onValueChange:l,children:[o.jsx(Tr,{className:"w-36",children:o.jsx(Ir,{placeholder:"Status"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Status"}),o.jsx(He,{value:"confirmed",children:"Confirmed"}),o.jsx(He,{value:"pending",children:"Pending"}),o.jsx(He,{value:"cancelled",children:"Cancelled"})]})]})]}),o.jsxs(jt,{className:"card-shadow border-border/50",children:[o.jsx(Ht,{className:"border-b border-border",children:o.jsxs(It,{className:"text-lg",children:["Appointments for ",e==null?void 0:e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]})}),o.jsx(Tt,{className:"p-0",children:v?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(jl,{className:"w-8 h-8 animate-spin text-primary"})}):(O==null?void 0:O.length)===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No appointments for this date. Schedule one to get started."}):o.jsx("div",{className:"divide-y divide-border",children:O==null?void 0:O.map($=>{var q,ee,ne,te;return o.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors duration-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded-lg min-w-[80px]",children:[o.jsx(ya,{className:"w-4 h-4 text-muted-foreground mb-1"}),o.jsx("span",{className:"text-sm font-medium",children:A($.appointment_time)}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[$.duration," min"]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Lo,{className:"w-10 h-10",children:o.jsx(Mo,{className:"bg-secondary text-secondary-foreground",children:((ee=(q=$.patients)==null?void 0:q.name)==null?void 0:ee.split(" ").map(W=>W[0]).join(""))||"?"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(No,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"font-medium text-foreground",children:((ne=$.patients)==null?void 0:ne.name)||"Unknown"})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(zi,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:((te=$.doctors)==null?void 0:te.name)||"Unknown"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx(Wt,{variant:"secondary",className:"mb-1",children:$.type}),o.jsx(Wt,{variant:"outline",className:O1[$.status]||O1.pending,children:$.status})]}),o.jsxs(rd,{children:[o.jsx(nd,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",children:o.jsx(Cj,{className:"w-4 h-4"})})}),o.jsxs(Rc,{align:"end",children:[o.jsxs(hn,{onClick:()=>R($.id,"confirm"),disabled:k.isPending,children:[o.jsx(za,{className:"w-4 h-4 mr-2 text-primary"}),"AI Confirm Call"]}),o.jsxs(hn,{onClick:()=>R($.id,"reminder"),disabled:k.isPending,children:[o.jsx(UD,{className:"w-4 h-4 mr-2 text-info"}),"AI Reminder Call"]}),o.jsx(nm,{}),o.jsxs(hn,{onClick:()=>M($.id,"confirmed"),children:[o.jsx(Sl,{className:"w-4 h-4 mr-2 text-success"}),"Confirm"]}),o.jsx(hn,{onClick:()=>M($.id,"completed"),children:"Mark Complete"}),o.jsxs(hn,{onClick:()=>M($.id,"cancelled"),className:"text-destructive",children:[o.jsx(em,{className:"w-4 h-4 mr-2"}),"Cancel"]}),o.jsx(nm,{}),o.jsx(hn,{onClick:()=>u($.id),className:"text-destructive",children:"Delete"})]})]})]})]})},$.id)})})})]})]}),o.jsx(gn,{value:"requests",className:"mt-6 space-y-4",children:o.jsxs(jt,{className:"card-shadow border-border/50",children:[o.jsx(Ht,{className:"border-b border-border",children:o.jsxs(It,{className:"text-lg flex items-center gap-2",children:[o.jsx(No,{className:"w-5 h-5"}),"Patient Appointment Requests"]})}),o.jsx(Tt,{className:"p-0",children:x?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(jl,{className:"w-8 h-8 animate-spin text-primary"})}):(m==null?void 0:m.length)===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No patient appointment requests yet."}):o.jsx("div",{className:"divide-y divide-border",children:m==null?void 0:m.map($=>{var q;return o.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors duration-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded-lg min-w-[100px]",children:[o.jsx(kj,{className:"w-4 h-4 text-muted-foreground mb-1"}),o.jsx("span",{className:"text-sm font-medium",children:vn(new Date($.preferred_date),"MMM d, yyyy")}),o.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:$.preferred_time||"Any time"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Lo,{className:"w-10 h-10",children:o.jsx(Mo,{className:"bg-secondary text-secondary-foreground",children:((q=$.patient_name)==null?void 0:q.split(" ").map(ee=>ee[0]).join(""))||"?"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(No,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"font-medium text-foreground",children:$.patient_name})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Zh,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:$.patient_phone})]}),$.patient_email&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ab,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:$.patient_email})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[$.doctors&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(zi,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:$.doctors.name})]}),$.departments&&o.jsx(Wt,{variant:"outline",className:"text-xs",children:$.departments.name})]}),$.notes&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 italic",children:['"',$.notes,'"']})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx(Wt,{variant:"secondary",className:"mb-1 capitalize",children:$.appointment_type}),o.jsx(Wt,{variant:"outline",className:O1[$.status]||O1.pending,children:$.status})]}),o.jsxs(rd,{children:[o.jsx(nd,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",children:o.jsx(Cj,{className:"w-4 h-4"})})}),o.jsxs(Rc,{align:"end",children:[o.jsxs(hn,{onClick:()=>I($.id,"confirmed"),children:[o.jsx(Sl,{className:"w-4 h-4 mr-2 text-success"}),"Confirm Request"]}),o.jsxs(hn,{onClick:()=>I($.id,"cancelled"),className:"text-destructive",children:[o.jsx(em,{className:"w-4 h-4 mr-2"}),"Reject Request"]})]})]})]})]})},$.id)})})})]})})]})})]}),o.jsx(mA,{open:r,onOpenChange:n,selectedDate:e}),o.jsx(Gm,{open:!!c,onOpenChange:()=>u(null),children:o.jsxs(tf,{children:[o.jsxs(rf,{children:[o.jsx(sf,{children:"Delete Appointment"}),o.jsx(af,{children:"Are you sure you want to delete this appointment? This action cannot be undone."})]}),o.jsxs(nf,{children:[o.jsx(lf,{children:"Cancel"}),o.jsx(of,{onClick:G,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},oge={Cardiology:RC,Neurology:vJ,Orthopedics:gJ,Pediatrics:mJ,Emergency:_l,Oncology:zi},lge={Cardiology:"text-red-500 bg-red-500/10",Neurology:"text-purple-500 bg-purple-500/10",Orthopedics:"text-orange-500 bg-orange-500/10",Pediatrics:"text-pink-500 bg-pink-500/10",Emergency:"text-red-600 bg-red-600/10",Oncology:"text-green-500 bg-green-500/10"},cge=()=>{const{data:e,isLoading:t}=md(),r=Xde(),n=s=>{r.mutate(s)};return o.jsxs(An,{title:"Departments",subtitle:"Manage hospital departments and their resources",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-muted-foreground",children:[(e==null?void 0:e.length)||0," active departments"]})}),o.jsxs(ke,{children:[o.jsx(M0,{className:"w-4 h-4 mr-2"}),"Add Department"]})]}),t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(jl,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e==null?void 0:e.map(s=>{const i=s.total_beds>0?Math.round(s.occupied_beds/s.total_beds*100):0,a=oge[s.name]||zi,l=lge[s.name]||"text-primary bg-primary/10";return o.jsxs(jt,{className:"card-shadow border-border/50 hover:shadow-elevated transition-all duration-300 cursor-pointer animate-fade-in group",children:[o.jsxs(Ht,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("div",{className:Me("p-3 rounded-xl",l),children:o.jsx(a,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Wt,{variant:"outline",className:"text-success border-success/30 bg-success/5",children:[o.jsx(DC,{className:"w-3 h-3 mr-1"}),"Active"]}),o.jsxs(Gm,{children:[o.jsx(lq,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:o.jsx(Am,{className:"w-4 h-4"})})}),o.jsxs(tf,{children:[o.jsxs(rf,{children:[o.jsx(sf,{children:"Delete Department"}),o.jsxs(af,{children:['Are you sure you want to delete "',s.name,'"? This action cannot be undone.']})]}),o.jsxs(nf,{children:[o.jsx(lf,{children:"Cancel"}),o.jsx(of,{onClick:()=>n(s.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]}),o.jsx(It,{className:"text-lg font-heading mt-3",children:s.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:s.head_doctor||"No head assigned"})]}),o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Va,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{children:[s.doctors_count," doctors"]})]}),o.jsxs("span",{className:"text-muted-foreground",children:[s.nurses_count," nurses"]})]}),s.total_beds>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Ec,{className:"w-4 h-4 text-muted-foreground"}),"Bed Occupancy"]}),o.jsxs("span",{className:"font-medium",children:[s.occupied_beds,"/",s.total_beds]})]}),o.jsx(l2,{value:i,className:Me("h-2",i>80&&"[&>div]:bg-warning",i>90&&"[&>div]:bg-destructive")})]}),o.jsx(ke,{variant:"outline",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:"View Details"})]})]},s.id)})})]})},uge=()=>fn({queryKey:["beds"],queryFn:async()=>{const{data:e,error:t}=await Ve.from("beds").select(`
          *,
          departments (
            name
          ),
          patients (
            name
          )
        `).order("room_number",{ascending:!0}).order("bed_number",{ascending:!0});if(t)throw t;return e}}),dge=()=>{const e=Pn();return Qr({mutationFn:async t=>{const{data:r,error:n}=await Ve.from("beds").insert([t]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["beds"]}),Zr({title:"Success",description:"Bed added successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})},hge=()=>{const e=Pn();return Qr({mutationFn:async t=>{const{error:r}=await Ve.from("beds").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["beds"]}),Zr({title:"Success",description:"Bed deleted successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})},fge=()=>{const e=Pn();return Qr({mutationFn:async({id:t,status:r,patient_id:n})=>{const{data:s,error:i}=await Ve.from("beds").update({status:r,patient_id:n}).eq("id",t).select().single();if(i)throw i;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["beds"]}),Zr({title:"Success",description:"Bed status updated successfully"})},onError:t=>{Zr({title:"Error",description:t.message,variant:"destructive"})}})},pge=()=>{const{data:e,isLoading:t}=uge(),{data:r}=md(),n=dge(),s=hge(),i=fge(),[a,l]=w.useState(""),[c,u]=w.useState("all"),[d,h]=w.useState("all"),[p,f]=w.useState(!1),[v,m]=w.useState(!1),[x,g]=w.useState(null),[b,S]=w.useState(null),[k,T]=w.useState({bed_number:"",room_number:"",department_id:"",bed_type:"Standard",status:"Available"}),R=e==null?void 0:e.filter(A=>{var ee;const I=A.bed_number.toLowerCase().includes(a.toLowerCase())||A.room_number.toLowerCase().includes(a.toLowerCase())||((ee=A.patients)==null?void 0:ee.name.toLowerCase().includes(a.toLowerCase())),$=c==="all"||A.status===c,q=d==="all"||A.department_id===d;return I&&$&&q}),O={total:(e==null?void 0:e.length)||0,occupied:(e==null?void 0:e.filter(A=>A.status==="Occupied").length)||0,available:(e==null?void 0:e.filter(A=>A.status==="Available").length)||0,maintenance:(e==null?void 0:e.filter(A=>A.status==="Maintenance").length)||0},D=async A=>{if(A.preventDefault(),!k.department_id){qe.error("Please select a department");return}try{await n.mutateAsync(k),f(!1),T({bed_number:"",room_number:"",department_id:"",bed_type:"Standard",status:"Available"})}catch{qe.error("Failed to create bed")}},M=A=>{switch(A){case"Available":return"bg-emerald-500/10 text-emerald-600 border-emerald-200";case"Occupied":return"bg-red-500/10 text-red-600 border-red-200";case"Maintenance":return"bg-orange-500/10 text-orange-600 border-orange-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},G=A=>{switch(A){case"Available":return"bg-emerald-500";case"Occupied":return"bg-red-500";case"Maintenance":return"bg-orange-500";default:return"bg-gray-400"}};return o.jsxs(An,{title:"Bed Management",subtitle:"Monitor and manage hospital bed occupancy",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(jt,{className:"shadow-sm border-l-4 border-l-primary",children:o.jsxs(Tt,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Beds"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:O.total})]}),o.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:o.jsx(Ec,{className:"w-5 h-5 text-primary"})})]})}),o.jsx(jt,{className:"shadow-sm border-l-4 border-l-emerald-500",children:o.jsxs(Tt,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:O.available})]}),o.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-xl",children:o.jsx(EJ,{className:"w-5 h-5 text-emerald-500"})})]})}),o.jsx(jt,{className:"shadow-sm border-l-4 border-l-red-500",children:o.jsxs(Tt,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Occupied"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:O.occupied})]}),o.jsx("div",{className:"p-3 bg-red-500/10 rounded-xl",children:o.jsx(No,{className:"w-5 h-5 text-red-500"})})]})}),o.jsx(jt,{className:"shadow-sm border-l-4 border-l-orange-500",children:o.jsxs(Tt,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Maintenance"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:O.maintenance})]}),o.jsx("div",{className:"p-3 bg-orange-500/10 rounded-xl",children:o.jsx(_l,{className:"w-5 h-5 text-orange-500"})})]})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center mb-6",children:[o.jsxs("div",{className:"flex flex-1 gap-2 w-full md:w-auto",children:[o.jsxs("div",{className:"relative flex-1 md:max-w-xs",children:[o.jsx(El,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search bed, room, or patient...",className:"pl-9",value:a,onChange:A=>l(A.target.value)})]}),o.jsxs(Mr,{value:c,onValueChange:u,children:[o.jsx(Tr,{className:"w-[140px]",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(kJ,{className:"w-4 h-4"}),o.jsx(Ir,{placeholder:"Status"})]})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Status"}),o.jsx(He,{value:"Available",children:"Available"}),o.jsx(He,{value:"Occupied",children:"Occupied"}),o.jsx(He,{value:"Maintenance",children:"Maintenance"})]})]}),o.jsxs(Mr,{value:d,onValueChange:h,children:[o.jsx(Tr,{className:"w-[180px]",children:o.jsx(Ir,{placeholder:"Department"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Departments"}),r==null?void 0:r.map(A=>o.jsx(He,{value:A.id,children:A.name},A.id))]})]})]}),o.jsxs(fs,{open:p,onOpenChange:f,children:[o.jsx(yl,{asChild:!0,children:o.jsxs(ke,{className:"shrink-0",children:[o.jsx(M0,{className:"w-4 h-4 mr-2"}),"Add Bed"]})}),o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Add New Bed"}),o.jsx(Gs,{children:"Enter the details for the new bed unit."})]}),o.jsxs("form",{onSubmit:D,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"bed_number",children:"Bed Number"}),o.jsx(ht,{id:"bed_number",placeholder:"e.g. B-101",value:k.bed_number,onChange:A=>T({...k,bed_number:A.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"room_number",children:"Room Number"}),o.jsx(ht,{id:"room_number",placeholder:"e.g. 101",value:k.room_number,onChange:A=>T({...k,room_number:A.target.value}),required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"department",children:"Department"}),o.jsxs(Mr,{value:k.department_id,onValueChange:A=>T({...k,department_id:A}),children:[o.jsx(Tr,{id:"department",children:o.jsx(Ir,{placeholder:"Select Department"})}),o.jsx(Rr,{children:r==null?void 0:r.map(A=>o.jsx(He,{value:A.id,children:A.name},A.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"type",children:"Bed Type"}),o.jsxs(Mr,{value:k.bed_type,onValueChange:A=>T({...k,bed_type:A}),children:[o.jsx(Tr,{id:"type",children:o.jsx(Ir,{placeholder:"Type"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"Standard",children:"Standard"}),o.jsx(He,{value:"ICU",children:"ICU"}),o.jsx(He,{value:"Semi-Private",children:"Semi-Private"}),o.jsx(He,{value:"Private",children:"Private"}),o.jsx(He,{value:"VipSuite",children:"VIP Suite"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"status",children:"Initial Status"}),o.jsxs(Mr,{value:k.status,onValueChange:A=>T({...k,status:A}),children:[o.jsx(Tr,{id:"status",children:o.jsx(Ir,{placeholder:"Status"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"Available",children:"Available"}),o.jsx(He,{value:"Maintenance",children:"Maintenance"})]})]})]})]}),o.jsxs(qm,{children:[o.jsx(ke,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),o.jsx(ke,{type:"submit",children:"Create Bed"})]})]})]})]})]}),t?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(R==null?void 0:R.length)===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-dashed",children:[o.jsx(Ec,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No beds found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or add a new bed."})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:R==null?void 0:R.map(A=>{var I,$;return o.jsxs(jt,{className:"overflow-hidden shadow-sm hover:shadow-md transition-shadow relative group",children:[o.jsx("div",{className:Me("absolute top-0 left-0 w-1 h-full",G(A.status||"Available"))}),o.jsxs(Ht,{className:"pb-2 pt-4 pl-5 pr-4 flex flex-row items-center justify-between space-y-0",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:A.room_number}),o.jsx(It,{className:"text-xl font-bold",children:A.bed_number})]}),o.jsx(Wt,{variant:"outline",className:Me("capitalize",M(A.status)),children:A.status})]}),o.jsxs(Tt,{className:"pl-5 pr-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Type:"}),o.jsx("span",{className:"font-medium",children:A.bed_type||"Standard"})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("span",{className:"font-medium truncate max-w-[120px]",title:(I=A.departments)==null?void 0:I.name,children:(($=A.departments)==null?void 0:$.name)||"Unassigned"})]}),A.status==="Occupied"&&A.patients&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(No,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Patient"})]}),o.jsx("p",{className:"font-medium text-sm truncate",children:A.patients.name})]}),o.jsx("div",{className:"pt-2 flex gap-2 justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsxs(rd,{children:[o.jsx(nd,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",className:"h-8 w-8",children:o.jsx(NJ,{className:"w-4 h-4"})})}),o.jsxs(Rc,{align:"end",children:[o.jsxs(hn,{onClick:()=>{g(A),m(!0)},children:[o.jsx(BJ,{className:"w-4 h-4 mr-2"}),"Update Status"]}),o.jsxs(hn,{className:"text-destructive focus:text-destructive",onClick:()=>S(A.id),children:[o.jsx(Am,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]})]},A.id)})}),o.jsx(Gm,{open:!!b,onOpenChange:A=>!A&&S(null),children:o.jsxs(tf,{children:[o.jsxs(rf,{children:[o.jsx(sf,{children:"Delete Bed"}),o.jsx(af,{children:"Are you sure you want to delete this bed? This action cannot be undone."})]}),o.jsxs(nf,{children:[o.jsx(lf,{children:"Cancel"}),o.jsx(of,{onClick:()=>{b&&(s.mutate(b),S(null))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),o.jsx(fs,{open:v,onOpenChange:m,children:o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Update Bed Status"}),o.jsxs(Gs,{children:["Change the status of the bed ",x==null?void 0:x.bed_number]})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Status"}),o.jsxs(Mr,{defaultValue:(x==null?void 0:x.status)||"Available",onValueChange:A=>{x&&(i.mutate({id:x.id,status:A,patient_id:A==="Available"?null:x.patient_id}),m(!1))},children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"Available",children:"Available"}),o.jsx(He,{value:"Occupied",children:"Occupied"}),o.jsx(He,{value:"Maintenance",children:"Maintenance"})]})]},x==null?void 0:x.id)]}),(x==null?void 0:x.status)==="Occupied"&&o.jsx("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-2 rounded",children:"Note: Changing from Occupied to Available will remove the patient assignment."})]})]})})]})},sy=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:Me("w-full caption-bottom text-sm",e),...t})}));sy.displayName="Table";const iy=w.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:Me("[&_tr]:border-b",e),...t}));iy.displayName="TableHeader";const ay=w.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:Me("[&_tr:last-child]:border-0",e),...t}));ay.displayName="TableBody";const mge=w.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:Me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));mge.displayName="TableFooter";const $a=w.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:Me("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));$a.displayName="TableRow";const kn=w.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));kn.displayName="TableHead";const on=w.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));on.displayName="TableCell";const gge=w.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:Me("mt-4 text-sm text-muted-foreground",e),...t}));gge.displayName="TableCaption";const vge=()=>{const e=Pn(),[t,r]=w.useState(""),[n,s]=w.useState("all"),{data:i=[],isLoading:a}=fn({queryKey:["callback-requests",n],queryFn:async()=>{let h=Ve.from("callback_requests").select("*");n!=="all"&&(h=h.eq("status",n));const{data:p,error:f}=await h.order("created_at",{ascending:!1});if(f)throw f;return p}});w.useEffect(()=>{const h=setInterval(()=>{e.invalidateQueries({queryKey:["callback-requests"]})},3e4);return()=>clearInterval(h)},[e]);const l=Qr({mutationFn:async({id:h,status:p})=>{const{error:f}=await Ve.from("callback_requests").update({status:p}).eq("id",h);if(f)throw f},onSuccess:()=>{qe.success("Callback status updated"),e.invalidateQueries({queryKey:["callback-requests"]}),e.invalidateQueries({queryKey:["pending-callbacks-count"]})},onError:()=>{qe.error("Failed to update status")}}),c=async h=>{const p="7c79ca4b-8762-4744-867b-05255472b9ef",f="84af6220-9e4b-473a-a98f-84da5694ce2d",v=qe.loading("Initiating AI Call...");let m=h.phone.trim().replace(/\s+/g,"");m.startsWith("+")||(m.length===10?m="+91"+m:m.startsWith("91")&&m.length===12&&(m="+"+m)),console.log("Calling Vapi with transient assistant for:",m);try{const g=await fetch("/api/vapi/call",{method:"POST",headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"},body:JSON.stringify({phoneNumberId:f,customer:{number:m,name:h.name},assistant:{name:"Maya Callback Agent",firstMessage:`Hello, I am Maya from Star Hospital. Am I speaking with ${h.name}?`,transcriber:{provider:"deepgram",model:"nova-2",language:"en-IN"},voice:{provider:"11labs",voiceId:"21m00Tcm4TlvDq8ikWAM",stability:.5,similarityBoost:.75},model:{provider:"openai",model:"gpt-4o-mini",messages:[{role:"system",content:`You are Maya, a friendly and professional receptionist for Star Hospital.
                  You are calling to follow up on a callback request from a patient.
                  
                  Patient Name: ${h.name}
                  
                  Instructions:
                  1. You've already introduced yourself in the first message.
                  2. Ask how you can help the patient.
                  3. Be polite, warm, and concise in your responses.
                  4. Always maintain a professional yet friendly tone.
                  5. If they have medical questions, offer to book an appointment with a doctor.
                  `}]}}})});if(console.log("Vapi status:",g.status),g.ok){const b=await g.json();console.log("Vapi Success:",b),qe.success("AI Call Initiated! Maya should speak shortly.",{id:v})}else{const b=await g.text();console.error("Vapi Error body:",b);try{const S=JSON.parse(b);qe.error(`Error: ${S.message||g.statusText}`,{id:v})}catch{qe.error(`Error (Status: ${g.status})`,{id:v})}}}catch(x){console.error("Call Error:",x),qe.error(`Network error: ${x.message}`,{id:v})}},u=i.filter(h=>h.name.toLowerCase().includes(t.toLowerCase())||h.phone.includes(t)),d=h=>{switch(h){case"pending":return o.jsxs(Wt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[o.jsx(ya,{className:"h-3 w-3 mr-1"}),"Pending"]});case"completed":return o.jsxs(Wt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[o.jsx(Sl,{className:"h-3 w-3 mr-1"}),"Completed"]});case"cancelled":return o.jsxs(Wt,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[o.jsx(em,{className:"h-3 w-3 mr-1"}),"Cancelled"]});default:return o.jsx(Wt,{variant:"secondary",children:h})}};return o.jsx(An,{title:"Callback Requests",subtitle:"Manage patient callback requests",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(jt,{children:o.jsx(Tt,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(El,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search by name or phone...",value:t,onChange:h=>r(h.target.value),className:"pl-9"})]}),o.jsxs(Mr,{value:n,onValueChange:s,children:[o.jsx(Tr,{className:"w-full md:w-48",children:o.jsx(Ir,{placeholder:"Filter by status"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Status"}),o.jsx(He,{value:"pending",children:"Pending"}),o.jsx(He,{value:"completed",children:"Completed"}),o.jsx(He,{value:"cancelled",children:"Cancelled"})]})]})]})})}),o.jsxs(jt,{children:[o.jsx(Ht,{children:o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(Zh,{className:"h-5 w-5"}),"Callback Requests (",u.length,")"]})}),o.jsx(Tt,{children:a?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):u.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(za,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No callback requests found"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(sy,{children:[o.jsx(iy,{children:o.jsxs($a,{children:[o.jsx(kn,{children:"Name"}),o.jsx(kn,{children:"Phone"}),o.jsx(kn,{children:"Preferred Time"}),o.jsx(kn,{children:"Reason"}),o.jsx(kn,{children:"Requested"}),o.jsx(kn,{children:"Status"}),o.jsx(kn,{children:"Actions"})]})}),o.jsx(ay,{children:u.map(h=>o.jsxs($a,{children:[o.jsx(on,{className:"font-medium",children:h.name}),o.jsx(on,{children:o.jsxs("a",{href:`tel:${h.phone}`,className:"text-primary hover:underline flex items-center gap-1",children:[o.jsx(za,{className:"h-3 w-3"}),h.phone]})}),o.jsx(on,{children:h.preferred_time||"Anytime"}),o.jsx(on,{className:"max-w-[200px] truncate",children:h.reason||"-"}),o.jsx(on,{children:vn(new Date(h.created_at),"MMM d, yyyy h:mm a")}),o.jsx(on,{children:d(h.status)}),o.jsx(on,{children:o.jsxs("div",{className:"flex gap-2",children:[h.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsxs(ke,{size:"sm",variant:"outline",className:"text-blue-600 hover:bg-blue-50",onClick:()=>window.location.href=`tel:${h.phone}`,children:[o.jsx(za,{className:"h-4 w-4 mr-1"})," Call"]}),o.jsxs(ke,{size:"sm",variant:"outline",className:"text-purple-600 hover:bg-purple-50 border-purple-200",onClick:()=>c(h),children:[o.jsx(gh,{className:"h-4 w-4 mr-1"})," AI Call"]}),o.jsx(ke,{size:"sm",variant:"outline",className:"text-green-600 hover:bg-green-50",onClick:()=>l.mutate({id:h.id,status:"completed"}),children:"Complete"}),o.jsx(ke,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>l.mutate({id:h.id,status:"cancelled"}),children:"Cancel"})]}),h.status!=="pending"&&o.jsx(ke,{size:"sm",variant:"outline",onClick:()=>l.mutate({id:h.id,status:"pending"}),children:"Reopen"})]})})]},h.id))})]})})})]})]})})},yge=()=>{const{data:e,isLoading:t}=Wm(),{data:r,isLoading:n}=Hm(),{data:s,isLoading:i}=o2(),{data:a,isLoading:l}=md(),c=t||n||i||l,u=[{title:"Patient Reports",description:"Patient demographics, admissions, and treatment history",icon:Va,color:"bg-primary/10 text-primary",stats:`${(e==null?void 0:e.length)||0} total patients`,reports:["Patient Demographics","Admission History","Treatment Summary","Discharge Reports"]},{title:"Appointment Reports",description:"Appointment scheduling and status tracking",icon:yh,color:"bg-info/10 text-info",stats:`${(s==null?void 0:s.length)||0} appointments`,reports:["Daily Schedule","Appointment Status","No-show Analysis","Wait Time Report"]},{title:"Department Reports",description:"Department-wise performance and resource utilization",icon:_l,color:"bg-success/10 text-success",stats:`${(a==null?void 0:a.length)||0} departments`,reports:["Department Overview","Bed Occupancy","Staff Distribution","Resource Usage"]},{title:"Staff Reports",description:"Doctor and staff performance metrics",icon:dw,color:"bg-warning/10 text-warning",stats:`${(r==null?void 0:r.length)||0} doctors`,reports:["Doctor Performance","Staff Attendance","Workload Analysis","Shift Reports"]}],d=[{label:"Total Patients",value:(e==null?void 0:e.length)||0,icon:Va,trend:"+12%"},{label:"Active Appointments",value:(s==null?void 0:s.filter(h=>h.status==="scheduled").length)||0,icon:yh,trend:"+5%"},{label:"Available Doctors",value:(r==null?void 0:r.filter(h=>h.available).length)||0,icon:_l,trend:"0%"},{label:"Departments",value:(a==null?void 0:a.length)||0,icon:z_,trend:"+2"}];return c?o.jsx(An,{title:"Reports",subtitle:"Hospital analytics and reports",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(jl,{className:"w-8 h-8 animate-spin text-primary"})})}):o.jsxs(An,{title:"Reports",subtitle:"Hospital analytics and reports",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:d.map((h,p)=>o.jsx(jt,{className:"card-shadow",children:o.jsx(Tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:h.label}),o.jsx("p",{className:"text-2xl font-bold",children:h.value})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsx(h.icon,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs(Wt,{variant:"outline",className:"text-xs text-success",children:[o.jsx(DC,{className:"w-3 h-3 mr-1"}),h.trend]})]})]})})},p))}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map((h,p)=>o.jsxs(jt,{className:"card-shadow hover:shadow-elevated transition-all duration-300",children:[o.jsxs(Ht,{children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("div",{className:`p-3 rounded-xl ${h.color}`,children:o.jsx(h.icon,{className:"w-6 h-6"})}),o.jsx(Wt,{variant:"secondary",children:h.stats})]}),o.jsx(It,{className:"text-lg mt-3",children:h.title}),o.jsx(Ar,{children:h.description})]}),o.jsx(Tt,{children:o.jsx("div",{className:"space-y-2",children:h.reports.map((f,v)=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer group",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qa,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm",children:f})]}),o.jsxs(ke,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(HD,{className:"w-4 h-4 mr-1"}),"Export"]})]},v))})})]},p))}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(jt,{className:"card-shadow",children:[o.jsx(Ht,{children:o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(z_,{className:"w-5 h-5"}),"Monthly Admissions Trend"]})}),o.jsx(Tt,{children:o.jsx("div",{className:"h-48 flex items-center justify-center text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsx(z_,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"Analytics visualization coming soon"})]})})})]}),o.jsxs(jt,{className:"card-shadow",children:[o.jsx(Ht,{children:o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(QP,{className:"w-5 h-5"}),"Department Distribution"]})}),o.jsx(Tt,{children:o.jsx("div",{className:"h-48 flex items-center justify-center text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsx(QP,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"Analytics visualization coming soon"})]})})})]})]})]})},xge=()=>{const e=Tl();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},wge=()=>{var x;const{user:e}=ci(),[t,r]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[l,c]=w.useState(null),[u,d]=w.useState(!1),[h,p]=w.useState("");w.useEffect(()=>{e&&(r(e.fullName||""),s(""),f())},[e]);const f=async()=>{if(!e)return;const{data:g}=await Ve.from("user_roles").select("role").eq("user_id",e.id.toString()).maybeSingle();g&&c(g.role)},v=async()=>{if(e){if(l==="receptionist"){p("update profile settings"),d(!0);return}a(!0);try{const{error:g}=await Ve.auth.updateUser({data:{full_name:t,avatar_url:n}});if(g)throw g;qe.success("Profile updated successfully!")}catch(g){const b=g instanceof Error?g.message:"Failed to update profile";qe.error(b)}finally{a(!1)}}},m=()=>{if(l==="receptionist"){p("change account password"),d(!0);return}qe.info("Password update feature coming soon")};return o.jsxs(An,{title:"Settings",subtitle:"Manage your account settings and preferences.",children:[o.jsxs(vd,{defaultValue:"account",className:"w-full space-y-6",children:[o.jsxs(Fc,{children:[o.jsx(mn,{value:"account",children:"Account"}),o.jsx(mn,{value:"notifications",children:"Notifications"}),o.jsx(mn,{value:"appearance",children:"Appearance"}),o.jsx(mn,{value:"security",children:"Security"})]}),o.jsx(gn,{value:"account",children:o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsx(It,{children:"Account Information"}),o.jsx(Ar,{children:"Update your personal details here."})]}),o.jsxs(Tt,{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col items-center gap-4 sm:flex-row",children:[o.jsxs("div",{className:"relative group",children:[o.jsxs(Lo,{className:"w-24 h-24 border-2 border-border cursor-pointer",children:[o.jsx(r2,{src:n}),o.jsx(Mo,{className:"text-2xl",children:(t==null?void 0:t.charAt(0))||((x=e==null?void 0:e.email)==null?void 0:x.charAt(0))||"U"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity rounded-full cursor-pointer",children:o.jsx(xJ,{className:"w-8 h-8 text-white"})}),o.jsx(ht,{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:g=>{var S;const b=(S=g.target.files)==null?void 0:S[0];if(b){const k=URL.createObjectURL(b);s(k),qe.info("Image selected. Click 'Save Changes' to update.")}},disabled:l==="receptionist"})]}),o.jsxs("div",{className:"space-y-1 text-center sm:text-left",children:[o.jsx("h4",{className:"font-medium",children:"Profile Photo"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on the image to upload a new photo."})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email"}),o.jsx(ht,{id:"email",defaultValue:(e==null?void 0:e.email)||"",disabled:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"name",children:"Display Name"}),o.jsx(ht,{id:"name",placeholder:"Your name",value:t,onChange:g=>r(g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"avatar-url",children:"Avatar URL (Optional)"}),o.jsx(ht,{id:"avatar-url",placeholder:"https://example.com/avatar.png",value:n,onChange:g=>s(g.target.value)})]})]}),o.jsx(kl,{children:o.jsx(ke,{onClick:v,disabled:i,children:i?"Saving...":"Save Changes"})})]})}),o.jsx(gn,{value:"notifications",children:o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsx(It,{children:"Notifications"}),o.jsx(Ar,{children:"Choose what you want to be notified about."})]}),o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(lt,{htmlFor:"email-notifs",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:"Email Notifications"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Receive emails about your account activity."})]}),o.jsx(jp,{id:"email-notifs"})]}),o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(lt,{htmlFor:"push-notifs",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:"Push Notifications"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Receive push notifications on your device."})]}),o.jsx(jp,{id:"push-notifs"})]})]})]})}),o.jsx(gn,{value:"appearance",children:o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsx(It,{children:"Appearance"}),o.jsx(Ar,{children:"Customize the look and feel of the application."})]}),o.jsx(Tt,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(lt,{htmlFor:"dark-mode",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:"Dark Mode"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Toggle dark mode on or off."})]}),o.jsx(jp,{id:"dark-mode"})]})})]})}),o.jsx(gn,{value:"security",children:o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsx(It,{children:"Security"}),o.jsx(Ar,{children:"Manage your password and security settings."})]}),o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"current-password",children:"Current Password"}),o.jsx(ht,{id:"current-password",type:"password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"new-password",children:"New Password"}),o.jsx(ht,{id:"new-password",type:"password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"confirm-password",children:"Confirm Password"}),o.jsx(ht,{id:"confirm-password",type:"password"})]})]}),o.jsx(kl,{children:o.jsx(ke,{onClick:m,children:"Update Password"})})]})})]}),o.jsx(Mq,{open:u,onOpenChange:d,action:h})]})},bge=()=>{const e=Ks();return o.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center relative overflow-hidden bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:[o.jsx("div",{className:"absolute inset-0 w-full h-full bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5980?auto=format&fit=crop&q=80')] bg-cover bg-center opacity-10"}),o.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-yellow-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"}),o.jsxs("div",{className:"relative z-10 text-center px-4 max-w-2xl mx-auto",children:[o.jsx("div",{className:"mb-8 flex justify-center",children:o.jsx("div",{className:"p-4 bg-white/10 backdrop-blur-md rounded-full border border-white/20 shadow-xl animate-bounce",children:o.jsx(DJ,{className:"w-12 h-12 text-yellow-400"})})}),o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-200 to-pink-200 tracking-tight",children:"Coming Soon"}),o.jsx("p",{className:"text-xl md:text-2xl text-blue-100/80 mb-8 leading-relaxed",children:"We are currently working on our social media presence. Something amazing is in the works!"}),o.jsxs(ke,{onClick:()=>e("/"),size:"lg",className:"bg-white text-purple-900 hover:bg-blue-50 font-semibold px-8 py-6 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 group",children:[o.jsx(Qh,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Home"]})]}),o.jsx("div",{className:"absolute bottom-8 text-sm text-white/40",children:" 2026 Medicare Hospital. Stay Tuned."})]})},_ge=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,l]=w.useState(!1),{signIn:c}=ci(),u=Ks(),d=async h=>{if(h.preventDefault(),!e.trim()||!r.trim()){qe.error("Please fill in all fields");return}l(!0);const{error:p}=await c(e,r);if(p){l(!1),qe.error(p.message||"Failed to sign in");return}l(!1),qe.success("Welcome back!"),u("/patient/dashboard")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md",children:[o.jsxs(Ht,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-primary mb-4 justify-center",children:[o.jsx(Qh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(RC,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:"MediCare"})]}),o.jsx(It,{className:"text-2xl",children:"Patient Sign In"}),o.jsx(Ar,{children:"Access your patient portal"})]}),o.jsxs("form",{onSubmit:d,children:[o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:h=>t(h.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ht,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),required:!0,autoComplete:"current-password",className:"pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(Cb,{className:"h-4 w-4"}):o.jsx(Eb,{className:"h-4 w-4"})})]})]})]}),o.jsxs(kl,{className:"flex flex-col gap-4",children:[o.jsx(ke,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Don't have an account?"," ",o.jsx(Hr,{to:"/patient/register",className:"text-primary hover:underline",children:"Register here"})]})]})]})]})})},Sge=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(""),[a,l]=w.useState(""),[c,u]=w.useState(""),[d,h]=w.useState(!1),{signUp:p}=ci(),f=Ks(),v=async m=>{if(m.preventDefault(),!e.trim()||!r.trim()||!a.trim()){qe.error("Please fill in all required fields");return}if(a!==c){qe.error("Passwords do not match");return}if(a.length<6){qe.error("Password must be at least 6 characters");return}h(!0);const{error:x}=await p(r,a,e,"patient");if(x){h(!1),qe.error(x.message||"Failed to register");return}h(!1),qe.success("Account created successfully!"),f("/patient/dashboard")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md",children:[o.jsxs(Ht,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-primary mb-4 justify-center",children:[o.jsx(Qh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(RC,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:"MediCare"})]}),o.jsx(It,{className:"text-2xl",children:"Create Patient Account"}),o.jsx(Ar,{children:"Register to book appointments and access patient services"})]}),o.jsxs("form",{onSubmit:v,children:[o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"fullName",children:"Full Name *"}),o.jsx(ht,{id:"fullName",type:"text",placeholder:"Enter your full name",value:e,onChange:m=>t(m.target.value),required:!0,autoComplete:"name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email *"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:m=>n(m.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"phone",children:"Phone Number"}),o.jsx(ht,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:s,onChange:m=>i(m.target.value),autoComplete:"tel"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password *"}),o.jsx(ht,{id:"password",type:"password",placeholder:"Create a password (min 6 characters)",value:a,onChange:m=>l(m.target.value),required:!0,autoComplete:"new-password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"confirmPassword",children:"Confirm Password *"}),o.jsx(ht,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:c,onChange:m=>u(m.target.value),required:!0,autoComplete:"new-password"})]})]}),o.jsxs(kl,{className:"flex flex-col gap-4",children:[o.jsx(ke,{type:"submit",className:"w-full",disabled:d,children:d?"Creating account...":"Create Account"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Already have an account?"," ",o.jsx(Hr,{to:"/patient/login",className:"text-primary hover:underline",children:"Sign in here"})]})]})]})]})})};var Iq={};function pR(e,t){if(e==null)return{};var r,n,s=function(a,l){if(a==null)return{};var c={};for(var u in a)if({}.hasOwnProperty.call(a,u)){if(l.indexOf(u)!==-1)continue;c[u]=a[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cr(e){return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(e)}function Dq(e){var t=function(r,n){if(Cr(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,n||"default");if(Cr(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(e,"string");return Cr(t)=="symbol"?t:t+""}function mR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dq(n.key),n)}}function Na(e,t,r){return t&&mR(e.prototype,t),r&&mR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y2(e,t){if(t&&(Cr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function h0(e,t){return h0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},h0(e,t)}function x2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h0(e,t)}function ol(e,t,r){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gR(e,t,r,n,s,i,a){try{var l=e[i](a),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,s)}function Bt(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function a(c){gR(i,n,s,a,l,"next",c)}function l(c){gR(i,n,s,a,l,"throw",c)}a(void 0)})}}function vR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ai(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var i,a,l,c,u=[],d=!0,h=!1;try{if(l=(s=s.call(r)).next,n===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=l.call(s)).done)&&(u.push(i.value),u.length!==n);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}(e,t)||function(r,n){if(r){if(typeof r=="string")return vR(r,n);var s={}.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?vR(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jge(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yR,L1={exports:{}},ON=function(){if(yR)return L1.exports;yR=1;var e,t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(m,x,g){return Function.prototype.apply.call(m,x,g)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var n=Number.isNaN||function(m){return m!=m};function s(){s.init.call(this)}L1.exports=s,L1.exports.once=function(m,x){return new Promise(function(g,b){function S(T){m.removeListener(x,k),b(T)}function k(){typeof m.removeListener=="function"&&m.removeListener("error",S),g([].slice.call(arguments))}v(m,x,k,{once:!0}),x!=="error"&&function(T,R,O){typeof T.on=="function"&&v(T,"error",R,O)}(m,S,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function a(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function l(m){return m._maxListeners===void 0?s.defaultMaxListeners:m._maxListeners}function c(m,x,g,b){var S,k,T,R;if(a(g),(k=m._events)===void 0?(k=m._events=Object.create(null),m._eventsCount=0):(k.newListener!==void 0&&(m.emit("newListener",x,g.listener?g.listener:g),k=m._events),T=k[x]),T===void 0)T=k[x]=g,++m._eventsCount;else if(typeof T=="function"?T=k[x]=b?[g,T]:[T,g]:b?T.unshift(g):T.push(g),(S=l(m))>0&&T.length>S&&!T.warned){T.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=m,O.type=x,O.count=T.length,R=O,console&&console.warn&&console.warn(R)}return m}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(m,x,g){var b={fired:!1,wrapFn:void 0,target:m,type:x,listener:g},S=u.bind(b);return S.listener=g,b.wrapFn=S,S}function h(m,x,g){var b=m._events;if(b===void 0)return[];var S=b[x];return S===void 0?[]:typeof S=="function"?g?[S.listener||S]:[S]:g?function(k){for(var T=new Array(k.length),R=0;R<T.length;++R)T[R]=k[R].listener||k[R];return T}(S):f(S,S.length)}function p(m){var x=this._events;if(x!==void 0){var g=x[m];if(typeof g=="function")return 1;if(g!==void 0)return g.length}return 0}function f(m,x){for(var g=new Array(x),b=0;b<x;++b)g[b]=m[b];return g}function v(m,x,g,b){if(typeof m.on=="function")b.once?m.once(x,g):m.on(x,g);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(x,function S(k){b.once&&m.removeEventListener(x,S),g(k)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");i=m}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(m){for(var x=[],g=1;g<arguments.length;g++)x.push(arguments[g]);var b=m==="error",S=this._events;if(S!==void 0)b=b&&S.error===void 0;else if(!b)return!1;if(b){var k;if(x.length>0&&(k=x[0]),k instanceof Error)throw k;var T=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw T.context=k,T}var R=S[m];if(R===void 0)return!1;if(typeof R=="function")r(R,this,x);else{var O=R.length,D=f(R,O);for(g=0;g<O;++g)r(D[g],this,x)}return!0},s.prototype.addListener=function(m,x){return c(this,m,x,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(m,x){return c(this,m,x,!0)},s.prototype.once=function(m,x){return a(x),this.on(m,d(this,m,x)),this},s.prototype.prependOnceListener=function(m,x){return a(x),this.prependListener(m,d(this,m,x)),this},s.prototype.removeListener=function(m,x){var g,b,S,k,T;if(a(x),(b=this._events)===void 0)return this;if((g=b[m])===void 0)return this;if(g===x||g.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete b[m],b.removeListener&&this.emit("removeListener",m,g.listener||x));else if(typeof g!="function"){for(S=-1,k=g.length-1;k>=0;k--)if(g[k]===x||g[k].listener===x){T=g[k].listener,S=k;break}if(S<0)return this;S===0?g.shift():function(R,O){for(;O+1<R.length;O++)R[O]=R[O+1];R.pop()}(g,S),g.length===1&&(b[m]=g[0]),b.removeListener!==void 0&&this.emit("removeListener",m,T||x)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(m){var x,g,b;if((g=this._events)===void 0)return this;if(g.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):g[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete g[m]),this;if(arguments.length===0){var S,k=Object.keys(g);for(b=0;b<k.length;++b)(S=k[b])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=g[m])=="function")this.removeListener(m,x);else if(x!==void 0)for(b=x.length-1;b>=0;b--)this.removeListener(m,x[b]);return this},s.prototype.listeners=function(m){return h(this,m,!0)},s.prototype.rawListeners=function(m){return h(this,m,!1)},s.listenerCount=function(m,x){return typeof m.listenerCount=="function"?m.listenerCount(x):p.call(m,x)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},L1.exports}(),M1=jge(ON),xR=Object.prototype.hasOwnProperty;function wR(e,t,r){for(r of e.keys())if(_i(r,t))return r}function _i(e,t){var r,n,s;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&_i(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if((s=n)&&typeof s=="object"&&!(s=wR(t,s))||!t.has(s))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if((s=n[0])&&typeof s=="object"&&!(s=wR(t,s))||!_i(n[1],t.get(s)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){for(r in n=0,e)if(xR.call(e,r)&&++n&&!xR.call(t,r)||!(r in t)||!_i(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!=e&&t!=t}const Nge={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Fq={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Qn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},mi={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},uu={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};let Be=class Gf{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const s=Gf.getVersionPrecision(t),i=Gf.getVersionPrecision(r);let a=Math.max(s,i),l=0;const c=Gf.map([t,r],u=>{const d=a-Gf.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return Gf.map(h.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(n&&(l=a-Math.min(s,i)),a-=1;a>=l;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===l)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}}static map(t,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(s=0;s<t.length;s+=1)n.push(r(t[s]));return n}static find(t,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,s=t.length;n<s;n+=1){const i=t[n];if(r(i,n))return i}}static assign(t,...r){const n=t;let s,i;if(Object.assign)return Object.assign(t,...r);for(s=0,i=r.length;s<i;s+=1){const a=r[s];typeof a=="object"&&a!==null&&Object.keys(a).forEach(l=>{n[l]=a[l]})}return t}static getBrowserAlias(t){return Nge[t]}static getBrowserTypeByAlias(t){return Fq[t]||""}};const nn=/version\/(\d+(\.?_?\d+)+)/i,kge=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=Be.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=Be.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=Be.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=Be.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=Be.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=Be.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=Be.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=Be.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=Be.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=Be.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=Be.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=Be.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=Be.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=Be.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=Be.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=Be.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=Be.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=Be.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=Be.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=Be.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=Be.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=Be.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=Be.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=Be.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=Be.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=Be.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=Be.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:Be.getFirstMatch(t,e),version:Be.getSecondMatch(t,e)}}}];var Cge=[{test:[/Roku\/DVP/],describe(e){const t=Be.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:mi.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=Be.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:mi.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=Be.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=Be.getWindowsVersionName(t);return{name:mi.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:mi.iOS},r=Be.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=Be.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=Be.getMacOSVersionName(t),n={name:mi.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=Be.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:mi.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=Be.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=Be.getAndroidVersionName(t),n={name:mi.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=Be.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:mi.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=Be.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||Be.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||Be.getFirstMatch(/\bbb(\d+)/i,e);return{name:mi.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=Be.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:mi.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=Be.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:mi.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:mi.Linux})},{test:[/CrOS/],describe:()=>({name:mi.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=Be.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:mi.PlayStation4,version:t}}}],Ege=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=Be.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:Qn.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Qn.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Qn.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Qn.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Qn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Qn.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Qn.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=Be.getFirstMatch(/(ipod|iphone)/i,e);return{type:Qn.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Qn.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Qn.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:Qn.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:Qn.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:Qn.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:Qn.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:Qn.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:Qn.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:Qn.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:Qn.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:Qn.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:Qn.tv})}],Age=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:uu.Blink};const t=Be.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:uu.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:uu.Trident},r=Be.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:uu.Presto},r=Be.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:uu.Gecko},r=Be.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:uu.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:uu.WebKit},r=Be.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];let bR=class{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=Be.find(kge,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=Be.find(Cge,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=Be.find(Ege,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=Be.find(Age,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Be.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const s={};let i=0;if(Object.keys(t).forEach(a=>{const l=t[a];typeof l=="string"?(s[a]=l,i+=1):typeof l=="object"&&(r[a]=l,n+=1)}),n>0){const a=Object.keys(r),l=Be.find(a,u=>this.isOS(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}const c=Be.find(a,u=>this.isPlatform(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}}if(i>0){const a=Object.keys(s),l=Be.find(a,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(s[l])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=Be.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(t){let r=[0],n=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(s=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(s=!0,n=t.substr(1)),r.indexOf(Be.compareVersions(i,n,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */let Pge=class{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new bR(t,r)}static parse(t){return new bR(t).getResult()}static get BROWSER_MAP(){return Fq}static get ENGINE_MAP(){return uu}static get OS_MAP(){return mi}static get PLATFORMS_MAP(){return Qn}};function w2(){return Date.now()+Math.random().toString()}function qg(){throw new Error("Method must be implemented in subclass")}function $q(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function Ww(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:$q("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Hw(e){try{new URL(e)}catch{return!1}return!0}const dn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,xh="8.55.0",Dr=globalThis;function Gw(e,t,r){const n=Dr,s=n.__SENTRY__=n.__SENTRY__||{},i=s[xh]=s[xh]||{};return i[e]||(i[e]=t())}const cf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,LN=["debug","info","warn","error","log","assert","trace"],Yw={};function oy(e){if(!("console"in Dr))return e();const t=Dr.console,r={},n=Object.keys(Yw);n.forEach(s=>{const i=Yw[s];r[s]=t[s],t[s]=i});try{return e()}finally{n.forEach(s=>{t[s]=r[s]})}}const Qt=Gw("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return cf?LN.forEach(r=>{t[r]=(...n)=>{e&&oy(()=>{Dr.console[r](`Sentry Logger [${r}]:`,...n)})}}):LN.forEach(r=>{t[r]=()=>{}}),t}),th="?",_R=/\(error: (.*)\)/,SR=/captureMessage|captureException/;function I1(e){return e[e.length-1]||{}}const jR="<anonymous>";function ad(e){try{return e&&typeof e=="function"&&e.name||jR}catch{return jR}}function NR(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const Ex={},kR={};function wh(e,t){Ex[e]=Ex[e]||[],Ex[e].push(t)}function bh(e,t){if(!kR[e]){kR[e]=!0;try{t()}catch(r){cf&&Qt.error(`Error while instrumenting ${e}`,r)}}}function Po(e,t){const r=e&&Ex[e];if(r)for(const n of r)try{n(t)}catch(s){cf&&Qt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ad(n)}
Error:`,s)}}let P5=null;function Tge(){P5=Dr.onerror,Dr.onerror=function(e,t,r,n,s){return Po("error",{column:n,error:s,line:r,msg:e,url:t}),!!P5&&P5.apply(this,arguments)},Dr.onerror.__SENTRY_INSTRUMENTED__=!0}let T5=null;function Rge(){T5=Dr.onunhandledrejection,Dr.onunhandledrejection=function(e){return Po("unhandledrejection",e),!T5||T5.apply(this,arguments)},Dr.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function b2(){return bA(Dr),Dr}function bA(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||xh,t[xh]=t[xh]||{}}const Bq=Object.prototype.toString;function _A(e){switch(Bq.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Bh(e,Error)}}function Ym(e,t){return Bq.call(e)===`[object ${t}]`}function Uq(e){return Ym(e,"ErrorEvent")}function CR(e){return Ym(e,"DOMError")}function mc(e){return Ym(e,"String")}function SA(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function MN(e){return e===null||SA(e)||typeof e!="object"&&typeof e!="function"}function mm(e){return Ym(e,"Object")}function _2(e){return typeof Event<"u"&&Bh(e,Event)}function S2(e){return!!(e&&e.then&&typeof e.then=="function")}function Bh(e,t){try{return e instanceof t}catch{return!1}}function qq(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const jA=Dr;function zq(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,s=[];let i=0,a=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&i++<n&&(u=Oge(r,d),!(u==="html"||i>1&&a+s.length*c+u.length>=h));)s.push(u),a+=u.length,r=r.parentNode;return s.reverse().join(l)}catch{return"<unknown>"}}function Oge(e,t){const r=e,n=[];if(!r||!r.tagName)return"";if(jA.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const s=t&&t.length?t.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(s&&s.length)s.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const a=r.className;if(a&&mc(a)){const l=a.split(/\s+/);for(const c of l)n.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const a of i){const l=r.getAttribute(a);l&&n.push(`[${a}="${l}"]`)}return n.join("")}function Np(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function ER(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const s=e[n];try{qq(s)?r.push("[VueViewModel]"):r.push(String(s))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function Lge(e,t,r=!1){return!!mc(e)&&(Ym(t,"RegExp")?t.test(e):!!mc(t)&&(r?e===t:e.includes(t)))}function D1(e,t=[],r=!1){return t.some(n=>Lge(e,n,r))}function da(e,t,r){if(!(t in e))return;const n=e[t],s=r(n);typeof s=="function"&&Vq(s,n);try{e[t]=s}catch{cf&&Qt.log(`Failed to replace method "${t}" in object`,e)}}function Uh(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{cf&&Qt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Vq(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,Uh(e,"__sentry_original__",t)}catch{}}function NA(e){return e.__sentry_original__}function Wq(e){if(_A(e))return{message:e.message,name:e.name,stack:e.stack,...PR(e)};if(_2(e)){const t={type:e.type,target:AR(e.target),currentTarget:AR(e.currentTarget),...PR(e)};return typeof CustomEvent<"u"&&Bh(e,CustomEvent)&&(t.detail=e.detail),t}return e}function AR(e){try{return t=e,typeof Element<"u"&&Bh(t,Element)?zq(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function PR(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function Ba(e){return IN(e,new Map)}function IN(e,t){if(function(r){if(!mm(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const s of Object.getOwnPropertyNames(e))e[s]!==void 0&&(n[s]=IN(e[s],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(s=>{n.push(IN(s,t))}),n}return e}function ly(){return Date.now()/1e3}const bc=function(){const{performance:e}=Dr;if(!e||!e.now)return ly;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function Ha(){const e=Dr,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function Hq(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function gu(e){const{message:t,event_id:r}=e;if(t)return t;const n=Hq(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function DN(e,t,r){const n=e.exception=e.exception||{},s=n.values=n.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function gm(e,t){const r=Hq(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const s={...n&&n.data,...t.data};r.mechanism.data=s}}function TR(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{Uh(e,"__sentry_captured__",!0)}catch{}return!1}var sc;function qh(e){return new cy(t=>{t(e)})}function Kw(e){return new cy((t,r)=>{r(e)})}(()=>{const{performance:e}=Dr;if(!e||!e.now)return;const t=36e5,r=e.now(),n=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,i=s<t,a=e.timing&&e.timing.navigationStart,l=typeof a=="number"?Math.abs(a+r-n):t;(i||l<t)&&s<=l&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(sc||(sc={}));let cy=class Wd{constructor(t){Wd.prototype.__init.call(this),Wd.prototype.__init2.call(this),Wd.prototype.__init3.call(this),Wd.prototype.__init4.call(this),this._state=sc.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new Wd((n,s)=>{this._handlers.push([!1,i=>{if(t)try{n(t(i))}catch(a){s(a)}else n(i)},i=>{if(r)try{n(r(i))}catch(a){s(a)}else s(i)}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Wd((r,n)=>{let s,i;return this.then(a=>{i=!1,s=a,t&&t()},a=>{i=!0,s=a,t&&t()}).then(()=>{i?n(s):r(s)})})}__init(){this._resolve=t=>{this._setResult(sc.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(sc.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{this._state===sc.PENDING&&(S2(r)?r.then(this._resolve,this._reject):(this._state=t,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===sc.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===sc.RESOLVED&&r[1](this._value),this._state===sc.REJECTED&&r[2](this._value),r[0]=!0)})}}};function Mge(e){const t=bc(),r={sid:Ha(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(n){return Ba({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(r)};return e&&vm(r,e),r}function vm(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||bc(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ha()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function RR(){return Ha()}function FN(){return Ha().substring(16)}function j2(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const n={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=j2(n[s],t[s],r-1));return n}const $N="_sentrySpan";function OR(e,t){t?Uh(e,$N,t):delete e[$N]}function LR(e){return e[$N]}let Ige=class Gq{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:RR(),spanId:FN()}}clone(){const t=new Gq;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,OR(t,LR(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&vm(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,[n,s]=r instanceof od?[r.getScopeData(),r.getRequestSession()]:mm(r)?[t,t.requestSession]:[],{tags:i,extra:a,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:h}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...a},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,OR(this,void 0),this._attachments=[],this.setPropagationContext({traceId:RR()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const s={timestamp:ly(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:LR(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=j2(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:FN(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:Ha();if(!this._client)return Qt.warn("No client configured on scope - will not capture exception!"),n;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...r,event_id:n},this),n}captureMessage(t,r,n){const s=n&&n.event_id?n.event_id:Ha();if(!this._client)return Qt.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:s},this),s}captureEvent(t,r){const n=r&&r.event_id?r.event_id:Ha();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(Qt.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};const od=Ige;let Dge=class{constructor(t,r){let n,s;n=t||new od,s=r||new od,this._stack=[{scope:n}],this._isolationScope=s}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(s){throw this._popScope(),s}return S2(n)?n.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}};function ym(){const e=bA(b2());return e.stack=e.stack||new Dge(Gw("defaultCurrentScope",()=>new od),Gw("defaultIsolationScope",()=>new od))}function Fge(e){return ym().withScope(e)}function $ge(e,t){const r=ym();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function MR(e){return ym().withScope(()=>e(ym().getIsolationScope()))}function kA(e){const t=bA(e);return t.acs?t.acs:{withIsolationScope:MR,withScope:Fge,withSetScope:$ge,withSetIsolationScope:(r,n)=>MR(n),getCurrentScope:()=>ym().getScope(),getIsolationScope:()=>ym().getIsolationScope()}}function uf(){return kA(b2()).getCurrentScope()}function uy(){return kA(b2()).getIsolationScope()}function ii(){return uf().getClient()}function Bge(e){const t=e.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:s}=t;return Ba({trace_id:r,span_id:n,parent_span_id:s})}function Uge(e){const t=e._sentryMetrics;if(!t)return;const r={};for(const[,[n,s]]of t)(r[n]||(r[n]=[])).push(Ba(s));return r}const qge=/^sentry-/;function zge(e){const t=function(n){if(!(!n||!mc(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((s,i)=>{const a=IR(i);return Object.entries(a).forEach(([l,c])=>{s[l]=c}),s},{}):IR(n)}(e);if(!t)return;const r=Object.entries(t).reduce((n,[s,i])=>(s.match(qge)&&(n[s.slice(7)]=i),n),{});return Object.keys(r).length>0?r:void 0}function IR(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}let DR=!1;function Vge(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext();return Ba({parent_span_id:n?t:CA(e).parent_span_id,span_id:n?FN():t,trace_id:r})}function FR(e){return typeof e=="number"?$R(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?$R(e.getTime()):bc()}function $R(e){return e>9999999999?e/1e3:e}function CA(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:r}=e.spanContext();if(function(n){const s=n;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(e)){const{attributes:n,startTime:s,name:i,endTime:a,parentSpanId:l,status:c}=e;return Ba({span_id:t,trace_id:r,data:n,description:i,parent_span_id:l,start_timestamp:FR(s),timestamp:FR(a)||void 0,status:Wge(c),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:Uge(e)})}return{span_id:t,trace_id:r}}catch{return{}}}function Wge(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function Yq(e){return e._sentryRootSpan||e}function Hge(){DR||(oy(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),DR=!0)}const EA="production";function Kq(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},s=Ba({environment:r.environment||EA,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",s),s}function Gge(e){const t=ii();if(!t)return{};const r=Yq(e),n=r._frozenDsc;if(n)return n;const s=r.spanContext().traceState,i=s&&s.get("sentry.dsc"),a=i&&zge(i);if(a)return a;const l=Kq(e.spanContext().traceId,t),c=CA(r),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const h=u["sentry.source"],p=c.description;return h!=="url"&&p&&(l.transaction=p),function(f){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const v=ii(),m=v&&v.getOptions();return!!m&&(m.enableTracing||"tracesSampleRate"in m||"tracesSampler"in m)}()&&(l.sampled=String(function(f){const{traceFlags:v}=f.spanContext();return v===1}(r))),t.emit("createDsc",l,r),l}const Yge=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Jw(e,t=!1){const{host:r,path:n,pass:s,port:i,projectId:a,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&s?`:${s}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${a}`}function BR(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Kge(e){const t=typeof e=="string"?function(r){const n=Yge.exec(r);if(!n)return void oy(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[s,i,a="",l="",c="",u=""]=n.slice(1);let d="",h=u;const p=h.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),h=p.pop()),h){const f=h.match(/^\d+/);f&&(h=f[0])}return BR({host:l,pass:a,path:d,projectId:h,port:c,protocol:s,publicKey:i})}(e):BR(e);if(t&&function(r){if(!cf)return!0;const{port:n,projectId:s,protocol:i}=r;return!(["protocol","publicKey","host","projectId"].find(a=>!r[a]&&(Qt.error(`Invalid Sentry Dsn: ${a} missing`),!0))||(s.match(/^\d+$/)?function(a){return a==="http"||a==="https"}(i)?n&&isNaN(parseInt(n,10))&&(Qt.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(Qt.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(Qt.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}function ic(e,t=100,r=1/0){try{return BN("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function Jq(e,t=3,r=102400){const n=ic(e,t);return s=n,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>r?Jq(e,t-1,r):n;var s}function BN(e,t,r=1/0,n=1/0,s=function(){const i=typeof WeakSet=="function",a=i?new WeakSet:[];return[function(l){if(i)return!!a.has(l)||(a.add(l),!1);for(let c=0;c<a.length;c++)if(a[c]===l)return!0;return a.push(l),!1},function(l){if(i)a.delete(l);else for(let c=0;c<a.length;c++)if(a[c]===l){a.splice(c,1);break}}]}()){const[i,a]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(f,v){try{if(f==="domain"&&v&&typeof v=="object"&&v._events)return"[Domain]";if(f==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&v===global)return"[Global]";if(typeof window<"u"&&v===window)return"[Window]";if(typeof document<"u"&&v===document)return"[Document]";if(qq(v))return"[VueViewModel]";if(mm(m=v)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m)return"[SyntheticEvent]";if(typeof v=="number"&&!Number.isFinite(v))return`[${v}]`;if(typeof v=="function")return`[Function: ${ad(v)}]`;if(typeof v=="symbol")return`[${String(v)}]`;if(typeof v=="bigint")return`[BigInt: ${String(v)}]`;const x=function(g){const b=Object.getPrototypeOf(g);return b?b.constructor.name:"null prototype"}(v);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}var m}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return BN("",u.toJSON(),c-1,n,s)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const p=Wq(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(h>=n){d[f]="[MaxProperties ~]";break}const v=p[f];d[f]=BN(f,v,c-1,n,s),h++}return a(t),d}function f0(e,t=[]){return[e,t]}function Jge(e,t){const[r,n]=e;return[r,[...n,t]]}function UR(e,t){const r=e[1];for(const n of r)if(t(n,n[0].type))return!0;return!1}function UN(e){return Dr.__SENTRY__&&Dr.__SENTRY__.encodePolyfill?Dr.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function Qge(e){const[t,r]=e;let n=JSON.stringify(t);function s(i){typeof n=="string"?n=typeof i=="string"?n+i:[UN(n),i]:n.push(typeof i=="string"?UN(i):i)}for(const i of r){const[a,l]=i;if(s(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(ic(l))}s(c)}}return typeof n=="string"?n:function(i){const a=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(a);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(n)}function Zge(e){const t=typeof e.data=="string"?UN(e.data):e.data;return[Ba({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Xge={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function qR(e){return Xge[e]}function Qq(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function eve(e,t,r,n){const s=Qq(r),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,r&&r.sdk);const a=function(l,c,u,d){const h=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:Jw(d)},...h&&{trace:Ba({...h})}}}(e,s,n,t);return delete e.sdkProcessingMetadata,f0(a,[[{type:i},e]])}function qN(e,t,r,n=0){return new cy((s,i)=>{const a=e[n];if(t===null||typeof a!="function")s(t);else{const l=a({...t},r);dn&&a.id&&l===null&&Qt.log(`Event processor "${a.id}" dropped event`),S2(l)?l.then(c=>qN(e,c,r,n+1).then(s)).then(null,i):qN(e,l,r,n+1).then(s).then(null,i)}})}let F1,zR,R5;function tve(e,t){const{fingerprint:r,span:n,breadcrumbs:s,sdkProcessingMetadata:i}=t;(function(a,l){const{extra:c,tags:u,user:d,contexts:h,level:p,transactionName:f}=l,v=Ba(c);v&&Object.keys(v).length&&(a.extra={...v,...a.extra});const m=Ba(u);m&&Object.keys(m).length&&(a.tags={...m,...a.tags});const x=Ba(d);x&&Object.keys(x).length&&(a.user={...x,...a.user});const g=Ba(h);g&&Object.keys(g).length&&(a.contexts={...g,...a.contexts}),p&&(a.level=p),f&&a.type!=="transaction"&&(a.transaction=f)})(e,t),n&&function(a,l){a.contexts={trace:Vge(l),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:Gge(l),...a.sdkProcessingMetadata};const c=Yq(l),u=CA(c).description;u&&!a.transaction&&a.type==="transaction"&&(a.transaction=u)}(e,n),function(a,l){a.fingerprint=a.fingerprint?Array.isArray(a.fingerprint)?a.fingerprint:[a.fingerprint]:[],l&&(a.fingerprint=a.fingerprint.concat(l)),a.fingerprint&&!a.fingerprint.length&&delete a.fingerprint}(e,r),function(a,l){const c=[...a.breadcrumbs||[],...l];a.breadcrumbs=c.length?c:void 0}(e,s),function(a,l){a.sdkProcessingMetadata={...a.sdkProcessingMetadata,...l}}(e,i)}function VR(e,t){const{extra:r,tags:n,user:s,contexts:i,level:a,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:p,transactionName:f,span:v}=t;$1(e,"extra",r),$1(e,"tags",n),$1(e,"user",s),$1(e,"contexts",i),e.sdkProcessingMetadata=j2(e.sdkProcessingMetadata,l,2),a&&(e.level=a),f&&(e.transactionName=f),v&&(e.span=v),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...p}}function $1(e,t,r){e[t]=j2(e[t],r,1)}function rve(e,t,r,n,s,i){const{normalizeDepth:a=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||r.event_id||Ha(),timestamp:t.timestamp||ly()},u=r.integrations||e.integrations.map(v=>v.name);(function(v,m){const{environment:x,release:g,dist:b,maxValueLength:S=250}=m;v.environment=v.environment||x||EA,!v.release&&g&&(v.release=g),!v.dist&&b&&(v.dist=b),v.message&&(v.message=Np(v.message,S));const k=v.exception&&v.exception.values&&v.exception.values[0];k&&k.value&&(k.value=Np(k.value,S));const T=v.request;T&&T.url&&(T.url=Np(T.url,S))})(c,e),function(v,m){m.length>0&&(v.sdk=v.sdk||{},v.sdk.integrations=[...v.sdk.integrations||[],...m])}(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&function(v,m){const x=function(g){const b=Dr._sentryDebugIds;if(!b)return{};const S=Object.keys(b);return R5&&S.length===zR||(zR=S.length,R5=S.reduce((k,T)=>{F1||(F1={});const R=F1[T];if(R)k[R[0]]=R[1];else{const O=g(T);for(let D=O.length-1;D>=0;D--){const M=O[D],G=M&&M.filename,A=b[T];if(G&&A){k[G]=A,F1[T]=[G,A];break}}}return k},{})),R5}(m);try{v.exception.values.forEach(g=>{g.stacktrace.frames.forEach(b=>{x&&b.filename&&(b.debug_id=x[b.filename])})})}catch{}}(c,e.stackParser);const d=function(v,m){if(!m)return v;const x=v?v.clone():new od;return x.update(m),x}(n,r.captureContext);r.mechanism&&gm(c,r.mechanism);const h=s?s.getEventProcessors():[],p=Gw("globalScope",()=>new od).getScopeData();i&&VR(p,i.getScopeData()),d&&VR(p,d.getScopeData());const f=[...r.attachments||[],...p.attachments];return f.length&&(r.attachments=f),tve(c,p),qN([...h,...p.eventProcessors],c,r).then(v=>(v&&function(m){const x={};try{m.exception.values.forEach(b=>{b.stacktrace.frames.forEach(S=>{S.debug_id&&(S.abs_path?x[S.abs_path]=S.debug_id:S.filename&&(x[S.filename]=S.debug_id),delete S.debug_id)})})}catch{}if(Object.keys(x).length===0)return;m.debug_meta=m.debug_meta||{},m.debug_meta.images=m.debug_meta.images||[];const g=m.debug_meta.images;Object.entries(x).forEach(([b,S])=>{g.push({type:"sourcemap",code_file:b,debug_id:S})})}(v),typeof a=="number"&&a>0?function(m,x,g){if(!m)return null;const b={...m,...m.breadcrumbs&&{breadcrumbs:m.breadcrumbs.map(S=>({...S,...S.data&&{data:ic(S.data,x,g)}}))},...m.user&&{user:ic(m.user,x,g)},...m.contexts&&{contexts:ic(m.contexts,x,g)},...m.extra&&{extra:ic(m.extra,x,g)}};return m.contexts&&m.contexts.trace&&b.contexts&&(b.contexts.trace=m.contexts.trace,m.contexts.trace.data&&(b.contexts.trace.data=ic(m.contexts.trace.data,x,g))),m.spans&&(b.spans=m.spans.map(S=>({...S,...S.data&&{data:ic(S.data,x,g)}}))),m.contexts&&m.contexts.flags&&b.contexts&&(b.contexts.flags=ic(m.contexts.flags,3,g)),b}(v,a,l):v))}function WR(e,t){return uf().captureEvent(e,t)}function HR(e){const t=ii(),r=uy(),n=uf(),{release:s,environment:i=EA}=t&&t.getOptions()||{},{userAgent:a}=Dr.navigator||{},l=Mge({release:s,environment:i,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...e}),c=r.getSession();return c&&c.status==="ok"&&vm(c,{status:"exited"}),Zq(),r.setSession(l),n.setSession(l),l}function Zq(){const e=uy(),t=uf(),r=t.getSession()||e.getSession();r&&function(n,s){let i={};n.status==="ok"&&(i={status:"exited"}),vm(n,i)}(r),Xq(),e.setSession(),t.setSession()}function Xq(){const e=uy(),t=uf(),r=ii(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function GR(e=!1){e?Zq():Xq()}function nve(e,t,r){return t||`${function(n){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",a=s.port?`:${s.port}`:"";return`${i}//${s.host}${a}${s.path?`/${s.path}`:""}/api/`}(n)}${n.projectId}/envelope/`}(e)}?${function(n,s){const i={sentry_version:"7"};return n.publicKey&&(i.sentry_key=n.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(e,r)}`}const YR=[];function KR(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function JR(e,t,r){if(r[t.name])dn&&Qt.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,YR.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),YR.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>n(s,i,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),s=Object.assign((i,a)=>n(i,a,e),{id:t.name});e.addEventProcessor(s)}dn&&Qt.log(`Integration installed: ${t.name}`)}}class mo extends Error{constructor(t,r="warn"){super(t),this.message=t,this.logLevel=r}}const QR="Not capturing exception because it's already been captured.";class sve{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Kge(t.dsn):dn&&Qt.warn("No DSN provided, client will not send events."),this._dsn){const n=nve(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(n=>n in t&&t[n]==null);r&&oy(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,r,n){const s=Ha();if(TR(t))return dn&&Qt.log(QR),s;const i={event_id:s,...r};return this._process(this.eventFromException(t,i).then(a=>this._captureEvent(a,i,n))),i.event_id}captureMessage(t,r,n,s){const i={event_id:Ha(),...n},a=SA(t)?t:String(t),l=MN(t)?this.eventFromMessage(a,r,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,s))),i.event_id}captureEvent(t,r,n){const s=Ha();if(r&&r.originalException&&TR(r.originalException))return dn&&Qt.log(QR),s;const i={event_id:s,...r},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,a||n)),i.event_id}captureSession(t){typeof t.release!="string"?dn&&Qt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),vm(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(s=>n&&s))):qh(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];JR(this,t,this._integrations),r||KR(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=eve(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=Jge(n,Zge(i));const s=this.sendEnvelope(n);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const r=function(n,s,i,a){const l=Qq(i);return f0({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!a&&s&&{dsn:Jw(s)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const s=typeof n=="number"?n:1,i=`${t}:${r}`;dn&&Qt.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const s=n.indexOf(r);s>-1&&n.splice(s,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(s=>s(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(dn&&Qt.error("Error while sending envelope:",r),r)):(dn&&Qt.error("Transport disabled"),qh({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(r,n){const s={};return n.forEach(i=>{i&&JR(r,i,s)}),s}(this,t),KR(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",s=!1;const i=r.exception&&r.exception.values;if(i){s=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){n=!0;break}}}const a=t.status==="ok";(a&&t.errors===0||a&&n)&&(vm(t,{...n&&{status:"crashed"},errors:t.errors||Number(s||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new cy(r=>{let n=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=1,t&&n>=t&&(clearInterval(s),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n=uf(),s=uy()){const i=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",t,r),t.type||s.setLastEventId(t.event_id||r.event_id),rve(i,t,r,n,this,s).then(l=>{if(l===null)return l;l.contexts={trace:Bge(n),...l.contexts};const c=function(u,d){const h=d.getPropagationContext();return h.dsc||Kq(h.traceId,u)}(this,n);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(s=>s.event_id,s=>{dn&&(s instanceof mo&&s.logLevel==="log"?Qt.log(s.message):Qt.warn(s))})}_processEvent(t,r,n){const s=this.getOptions(),{sampleRate:i}=s,a=XR(t),l=ZR(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(f){if(typeof f=="boolean")return Number(f);const v=typeof f=="string"?parseFloat(f):f;if(!(typeof v!="number"||isNaN(v)||v<0||v>1))return v;dn&&Qt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(f)} of type ${JSON.stringify(typeof f)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Kw(new mo(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=c==="replay_event"?"replay":c,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,p).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",h,t),new mo("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return f;const v=function(m,x,g,b){const{beforeSend:S,beforeSendTransaction:k,beforeSendSpan:T}=x;if(ZR(g)&&S)return S(g,b);if(XR(g)){if(g.spans&&T){const R=[];for(const O of g.spans){const D=T(O);D?R.push(D):(Hge(),m.recordDroppedEvent("before_send","span"))}g.spans=R}if(k){if(g.spans){const R=g.spans.length;g.sdkProcessingMetadata={...g.sdkProcessingMetadata,spanCountBeforeProcessing:R}}return k(g,b)}}return g}(this,s,f,r);return function(m,x){const g=`${x} must return \`null\` or a valid event.`;if(S2(m))return m.then(b=>{if(!mm(b)&&b!==null)throw new mo(g);return b},b=>{throw new mo(`${x} rejected with ${b}`)});if(!mm(m)&&m!==null)throw new mo(g);return m}(v,u)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",h,t),a){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new mo(`${u} returned \`null\`, will not send event.`,"log")}const v=n&&n.getSession();if(!a&&v&&this._updateSessionFromEvent(v,f),a){const x=(f.sdkProcessingMetadata&&f.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(f.spans?f.spans.length:0);x>0&&this.recordDroppedEvent("before_send","span",x)}const m=f.transaction_info;if(a&&m&&f.transaction!==t.transaction){const x="custom";f.transaction_info={...m,source:x}}return this.sendEvent(f,r),f}).then(null,f=>{throw f instanceof mo?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new mo(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[s,i]=r.split(":");return{reason:s,category:i,quantity:n}})}_flushOutcomes(){dn&&Qt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(dn&&Qt.log("No outcomes to send"));if(!this._dsn)return void(dn&&Qt.log("No dsn provided, will not send outcomes"));dn&&Qt.log("Sending outcomes:",t);const r=(n=t,f0((s=this._options.tunnel&&Jw(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||ly(),discarded_events:n}]]));var n,s,i;this.sendEnvelope(r)}}function ZR(e){return e.type===void 0}function XR(e){return e.type==="transaction"}function ive(e){const t=[];function r(n){return t.splice(t.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(e===void 0||t.length<e))return Kw(new mo("Not adding Promise because buffer limit was reached."));const s=n();return t.indexOf(s)===-1&&t.push(s),s.then(()=>r(s)).then(null,()=>r(s).then(null,()=>{})),s},drain:function(n){return new cy((s,i)=>{let a=t.length;if(!a)return s(!0);const l=setTimeout(()=>{n&&n>0&&s(!1)},n);t.forEach(c=>{qh(c).then(()=>{--a||(clearTimeout(l),s(!0))},i)})})}}}function ave(e,{statusCode:t,headers:r},n=Date.now()){const s={...e},i=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),h=parseInt(c,10),p=1e3*(isNaN(h)?60:h);if(u)for(const f of u.split(";"))f==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[f]=n+p);else s.all=n+p}else a?s.all=n+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(a,n):t===429&&(s.all=n+6e4);return s}function ove(e,t,r=ive(e.bufferSize||64)){let n={};return{send:function(s){const i=[];if(UR(s,(c,u)=>{const d=qR(u);if(function(h,p,f=Date.now()){return function(v,m){return v[m]||v.all||0}(h,p)>f}(n,d)){const h=eO(c,u);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(c)}),i.length===0)return qh({});const a=f0(s[0],i),l=c=>{UR(a,(u,d)=>{const h=eO(u,d);e.recordDroppedEvent(c,qR(d),h)})};return r.add(()=>t({body:Qge(a)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&dn&&Qt.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),n=ave(n,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof mo)return dn&&Qt.error("Skipped sending event because buffer is full."),l("queue_overflow"),qh({});throw c})},flush:s=>r.drain(s)}}function eO(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const lve=100;function Dd(e,t){const r=ii(),n=uy();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=lve}=r.getOptions();if(i<=0)return;const a={timestamp:ly(),...e},l=s?oy(()=>s(a,t)):a;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,i))}let tO;const rO=new WeakMap,cve=()=>({name:"FunctionToString",setupOnce(){tO=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=NA(this),r=rO.has(ii())&&t!==void 0?t:this;return tO.apply(r,e)}}catch{}},setup(e){rO.set(e,!0)}}),uve=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],dve=(e={})=>({name:"InboundFilters",processEvent(t,r,n){const s=n.getOptions(),i=function(a={},l={}){return{allowUrls:[...a.allowUrls||[],...l.allowUrls||[]],denyUrls:[...a.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...l.ignoreErrors||[],...a.disableErrorDefaults?[]:uve],ignoreTransactions:[...a.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:a.ignoreInternal===void 0||a.ignoreInternal}}(e,s);return function(a,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(a)?(dn&&Qt.warn(`Event dropped due to being internal Sentry Error.
Event: ${gu(a)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const h=[];d.message&&h.push(d.message);let p;try{p=d.exception.values[d.exception.values.length-1]}catch{}return p&&p.value&&(h.push(p.value),p.type&&h.push(`${p.type}: ${p.value}`)),h}(c).some(d=>D1(d,u))}(a,l.ignoreErrors)?(dn&&Qt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${gu(a)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(a)?(dn&&Qt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${gu(a)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&D1(d,u)}(a,l.ignoreTransactions)?(dn&&Qt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${gu(a)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=B1(c);return!!d&&D1(d,u)}(a,l.denyUrls)?(dn&&Qt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${gu(a)}.
Url: ${B1(a)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=B1(c);return!d||D1(d,u)}(a,l.allowUrls)?!1:(dn&&Qt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${gu(a)}.
Url: ${B1(a)}`),!0)}(t,i)?null:t}});function B1(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(r=[]){for(let n=r.length-1;n>=0;n--){const s=r[n];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(t):null}catch{return dn&&Qt.error(`Cannot extract url for event ${gu(e)}`),null}}function hve(e,t,r=250,n,s,i,a){if(!(i.exception&&i.exception.values&&a&&Bh(a.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=zN(e,t,s,a.originalException,n,i.exception.values,l,0),u=r,c.map(d=>(d.value&&(d.value=Np(d.value,u)),d))))}function zN(e,t,r,n,s,i,a,l){if(i.length>=r+1)return i;let c=[...i];if(Bh(n[s],Error)){nO(a,l);const u=e(t,n[s]),d=c.length;sO(u,s,d,l),c=zN(e,t,r,n[s],s,[u,...c],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(Bh(u,Error)){nO(a,l);const h=e(t,u),p=c.length;sO(h,`errors[${d}]`,p,l),c=zN(e,t,r,u,s,[h,...c],h,p)}}),c}function nO(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function sO(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function O5(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function fve(){"console"in Dr&&LN.forEach(function(e){e in Dr.console&&da(Dr.console,e,function(t){return Yw[e]=t,function(...r){Po("console",{args:r,level:e});const n=Yw[e];n&&n.apply(Dr.console,r)}})})}function pve(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const mve=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(r,n){return n?!!(function(s,i){const a=s.message,l=i.message;return!(!a&&!l||a&&!l||!a&&l||a!==l||!aO(s,i)||!iO(s,i))}(r,n)||function(s,i){const a=oO(i),l=oO(s);return!(!a||!l||a.type!==l.type||a.value!==l.value||!aO(s,i)||!iO(s,i))}(r,n)):!1}(t,e))return dn&&Qt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function iO(e,t){let r=NR(e),n=NR(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let s=0;s<n.length;s++){const i=n[s],a=r[s];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function aO(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function oO(e){return e.exception&&e.exception.values&&e.exception.values[0]}function lO(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const L5=Dr;function VN(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function gve(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in L5))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(VN(L5.fetch))return!0;let e=!1;const t=L5.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=VN(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){cf&&Qt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function vve(e,t){const r="fetch";wh(r,e),bh(r,()=>function(n,s=!1){s&&!gve()||da(Dr,"fetch",function(i){return function(...a){const l=new Error,{method:c,url:u}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[f,v]=h;return{url:cO(f),method:WN(v,"method")?String(v.method).toUpperCase():"GET"}}const p=h[0];return{url:cO(p),method:WN(p,"method")?String(p.method).toUpperCase():"GET"}}(a),d={args:a,fetchData:{method:c,url:u},startTimestamp:1e3*bc(),virtualError:l};return n||Po("fetch",{...d}),i.apply(Dr,a).then(async h=>(n?n(h):Po("fetch",{...d,endTimestamp:1e3*bc(),response:h}),h),h=>{throw Po("fetch",{...d,endTimestamp:1e3*bc(),error:h}),_A(h)&&h.stack===void 0&&(h.stack=l.stack,Uh(h,"framesToPop",1)),h})}})}(void 0,t))}function WN(e,t){return!!e&&typeof e=="object"&&!!e[t]}function cO(e){return typeof e=="string"?e:e?WN(e,"url")?e.url:e.toString?e.toString():"":""}const U1=Dr,Rs=Dr;let HN=0;function uO(){return HN>0}function xm(e,t={}){if(!function(n){return typeof n=="function"}(e))return e;try{const n=e.__sentry_wrapped__;if(n)return typeof n=="function"?n:e;if(NA(e))return e}catch{return e}const r=function(...n){try{const s=n.map(i=>xm(i,t));return e.apply(this,s)}catch(s){throw HN++,setTimeout(()=>{HN--}),function(...i){const a=kA(b2());if(i.length===2){const[l,c]=i;return l?a.withSetScope(l,c):a.withScope(c)}a.withScope(i[0])}(i=>{var a;i.addEventProcessor(l=>(t.mechanism&&(DN(l,void 0),gm(l,t.mechanism)),l.extra={...l.extra,arguments:n},l)),a=s,uf().captureException(a,void 0)}),s}};try{for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}catch{}Vq(r,e),Uh(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const N2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function AA(e,t){const r=PA(e,t),n={type:wve(t),value:bve(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function yve(e,t,r,n){const s=ii(),i=s&&s.getOptions().normalizeDepth,a=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const h=u[d];if(h instanceof Error)return h}}(t),l={__serialized__:Jq(t,i)};if(a)return{exception:{values:[AA(e,a)]},extra:l};const c={exception:{values:[{type:_2(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:_ve(t,{isUnhandledRejection:n})}]},extra:l};if(r){const u=PA(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function M5(e,t){return{exception:{values:[AA(e,t)]}}}function PA(e,t){const r=t.stacktrace||t.stack||"",n=function(i){return i&&xve.test(i.message)?1:0}(t),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(r,n,s)}catch{}return[]}const xve=/Minified React error #\d+;/i;function ez(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function wve(e){const t=e&&e.name;return!t&&ez(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function bve(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:ez(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function GN(e,t,r,n,s){let i;if(Uq(t)&&t.error)return M5(e,t.error);if(CR(t)||Ym(t,"DOMException")){const a=t;if("stack"in t)i=M5(e,t);else{const l=a.name||(CR(a)?"DOMError":"DOMException"),c=a.message?`${l}: ${a.message}`:l;i=YN(e,c,r,n),DN(i,c)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return _A(t)?M5(e,t):mm(t)||_2(t)?(i=yve(e,t,r,s),gm(i,{synthetic:!0}),i):(i=YN(e,t,r,n),DN(i,`${t}`),gm(i,{synthetic:!0}),i)}function YN(e,t,r,n){const s={};if(n&&r){const i=PA(e,r);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),gm(s,{synthetic:!0})}if(SA(t)){const{__sentry_template_string__:i,__sentry_template_values__:a}=t;return s.logentry={message:i,params:a},s}return s.message=t,s}function _ve(e,{isUnhandledRejection:t}){const r=function(s,i=40){const a=Object.keys(Wq(s));a.sort();const l=a[0];if(!l)return"[object has no keys]";if(l.length>=i)return Np(l,i);for(let c=a.length;c>0;c--){const u=a.slice(0,c).join(", ");if(!(u.length>i))return c===a.length?u:Np(u,i)}return""}(e),n=t?"promise rejection":"exception";return Uq(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:_2(e)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class Sve extends sve{constructor(t){const r={parentSpanIsAlwaysRootSpan:!0,...t};(function(n,s,i=[s],a="npm"){const l=n._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${s}`,packages:i.map(c=>({name:`${a}:@sentry/${c}`,version:xh})),version:xh}),n._metadata=l})(r,"browser",["browser"],Rs.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&Rs.document&&Rs.document.addEventListener("visibilitychange",()=>{Rs.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return function(n,s,i,a){const l=GN(n,s,i&&i.syntheticException||void 0,a);return gm(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),qh(l)}(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return function(s,i,a="info",l,c){const u=YN(s,i,l&&l.syntheticException||void 0,c);return u.level=a,l&&l.event_id&&(u.event_id=l.event_id),qh(u)}(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(N2&&Qt.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:s,tunnel:i,dsn:a}){const l={event_id:n.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!a&&{dsn:Jw(a)}};return f0(l,[function(u){return[{type:"user_report"},u]}(n)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}}const jve=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Si=Dr;let dO,I5,D5,q1;function Nve(){if(!Si.document)return;const e=Po.bind(null,"dom"),t=hO(e,!0);Si.document.addEventListener("click",t,!1),Si.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=Si[r],s=n&&n.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(da(s,"addEventListener",function(i){return function(a,l,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[a]=u[a]||{refCount:0};if(!d.handler){const h=hO(e);d.handler=h,i.call(this,a,h,c)}d.refCount++}catch{}return i.call(this,a,l,c)}}),da(s,"removeEventListener",function(i){return function(a,l,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[a];d&&(d.refCount--,d.refCount<=0&&(i.call(this,a,d.handler,c),d.handler=void 0,delete u[a]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,l,c)}}))})}function hO(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(i){try{return i.target}catch{return null}}(r);if(function(i,a){return i==="keypress"&&(!a||!a.tagName||a.tagName!=="INPUT"&&a.tagName!=="TEXTAREA"&&!a.isContentEditable)}(r.type,n))return;Uh(r,"_sentryCaptured",!0),n&&!n._sentryId&&Uh(n,"_sentryId",Ha());const s=r.type==="keypress"?"input":r.type;(function(i){if(i.type!==I5)return!1;try{if(!i.target||i.target._sentryId!==D5)return!1}catch{}return!0})(r)||(e({event:r,name:s,global:t}),I5=r.type,D5=n?n._sentryId:void 0),clearTimeout(dO),dO=Si.setTimeout(()=>{D5=void 0,I5=void 0},1e3)}}function tz(e){const t="history";wh(t,e),bh(t,kve)}function kve(){if(!function(){const r=U1.chrome,n=r&&r.app&&r.app.runtime,s="history"in U1&&!!U1.history.pushState&&!!U1.history.replaceState;return!n&&s}())return;const e=Si.onpopstate;function t(r){return function(...n){const s=n.length>2?n[2]:void 0;if(s){const i=q1,a=String(s);q1=a,Po("history",{from:i,to:a})}return r.apply(this,n)}}Si.onpopstate=function(...r){const n=Si.location.href,s=q1;if(q1=n,Po("history",{from:s,to:n}),e)try{return e.apply(this,r)}catch{}},da(Si.history,"pushState",t),da(Si.history,"replaceState",t)}const Ax={};function fO(e){Ax[e]=void 0}const sv="__sentry_xhr_v3__";function Cve(){if(!Si.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const s=new Error,i=1e3*bc(),a=mc(n[0])?n[0].toUpperCase():void 0,l=function(u){if(mc(u))return u;try{return u.toString()}catch{}}(n[1]);if(!a||!l)return t.apply(r,n);r[sv]={method:a,url:l,request_headers:{}},a==="POST"&&l.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[sv];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}Po("xhr",{endTimestamp:1e3*bc(),startTimestamp:i,xhr:r,virtualError:s})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(u,d,h)=>(c(),u.apply(d,h))}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,d,h){const[p,f]=h,v=d[sv];return v&&mc(p)&&mc(f)&&(v.request_headers[p.toLowerCase()]=f),u.apply(d,h)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const s=r[sv];return s?(n[0]!==void 0&&(s.body=n[0]),Po("xhr",{startTimestamp:1e3*bc(),xhr:r}),t.apply(r,n)):t.apply(r,n)}})}function Eve(e,t=function(r){const n=Ax[r];if(n)return n;let s=Si[r];if(VN(s))return Ax[r]=s.bind(Si);const i=Si.document;if(i&&typeof i.createElement=="function")try{const a=i.createElement("iframe");a.hidden=!0,i.head.appendChild(a);const l=a.contentWindow;l&&l[r]&&(s=l[r]),i.head.removeChild(a)}catch(a){jve&&Qt.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,a)}return s&&(Ax[r]=s.bind(Si))}("fetch")){let r=0,n=0;return ove(e,function(s){const i=s.body.length;r+=i,n++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return fO("fetch"),Kw("No fetch implementation available");try{return t(e.url,a).then(l=>(r-=i,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return fO("fetch"),r-=i,n--,Kw(l)}})}function F5(e,t,r,n){const s={filename:e,function:t==="<anonymous>"?th:t,in_app:!0};return r!==void 0&&(s.lineno=r),n!==void 0&&(s.colno=n),s}const Ave=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Pve=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Tve=/\((\S*)(?::(\d+))(?::(\d+))\)/,Rve=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ove=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Lve=function(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,s=0)=>{const i=[],a=r.split(`
`);for(let l=n;l<a.length;l++){const c=a[l];if(c.length>1024)continue;const u=_R.test(c)?c.replace(_R,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const h=d(u);if(h){i.push(h);break}}if(i.length>=50+s)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(I1(c).function||"")&&c.pop(),c.reverse(),SR.test(I1(c).function||"")&&(c.pop(),SR.test(I1(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||I1(c).filename,function:u.function||th}))}(i.slice(s))}}([30,e=>{const t=Ave.exec(e);if(t){const[,n,s,i]=t;return F5(n,th,+s,+i)}const r=Pve.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const i=Tve.exec(r[2]);i&&(r[2]=i[1],r[3]=i[2],r[4]=i[3])}const[n,s]=pO(r[1]||th,r[2]);return F5(s,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{const t=Rve.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=Ove.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],n=t[1]||th;return[n,r]=pO(n,r),F5(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),pO=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:th,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},mO=1024,Mve=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(r){var n;t.console&&function(s){const i="console";wh(i,s),bh(i,fve)}(function(s){return function(i){if(ii()!==s)return;const a={category:"console",data:{arguments:i.args,logger:"console"},level:pve(i.level),message:ER(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;a.message=`Assertion failed: ${ER(i.args.slice(1)," ")||"console.assert"}`,a.data.arguments=i.args.slice(1)}Dd(a,{input:i.args,level:i.level})}}(r)),t.dom&&(n=function(s,i){return function(a){if(ii()!==s)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>mO&&(N2&&Qt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=mO),typeof u=="string"&&(u=[u]);try{const p=a.event,f=function(v){return!!v&&!!v.target}(p)?p.target:p;l=zq(f,{keyAttrs:u,maxStringLength:d}),c=function(v){if(!jA.HTMLElement)return null;let m=v;for(let x=0;x<5;x++){if(!m)return null;if(m instanceof HTMLElement){if(m.dataset.sentryComponent)return m.dataset.sentryComponent;if(m.dataset.sentryElement)return m.dataset.sentryElement}m=m.parentNode}return null}(f)}catch{l="<unknown>"}if(l.length===0)return;const h={category:`ui.${a.name}`,message:l};c&&(h.data={"ui.component_name":c}),Dd(h,{event:a.event,name:a.name,global:a.global})}}(r,t.dom),wh("dom",n),bh("dom",Nve)),t.xhr&&function(s){wh("xhr",s),bh("xhr",Cve)}(function(s){return function(i){if(ii()!==s)return;const{startTimestamp:a,endTimestamp:l}=i,c=i.xhr[sv];if(!a||!l||!c)return;const{method:u,url:d,status_code:h,body:p}=c,f={method:u,url:d,status_code:h},v={xhr:i.xhr,input:p,startTimestamp:a,endTimestamp:l};Dd({category:"xhr",data:f,type:"http",level:lO(h)},v)}}(r)),t.fetch&&vve(function(s){return function(i){if(ii()!==s)return;const{startTimestamp:a,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)Dd({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:a,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:a,endTimestamp:l};Dd({category:"fetch",data:u,type:"http",level:lO(u.status_code)},d)}}}(r)),t.history&&tz(function(s){return function(i){if(ii()!==s)return;let a=i.from,l=i.to;const c=O5(Rs.location.href);let u=a?O5(a):void 0;const d=O5(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(a=u.relative),Dd({category:"navigation",data:{from:a,to:l}})}}(r)),t.sentry&&r.on("beforeSendEvent",function(s){return function(i){ii()===s&&Dd({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:gu(i)},{event:i})}}(r))}}},Ive=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Dve=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&da(Rs,"setTimeout",gO),t.setInterval&&da(Rs,"setInterval",gO),t.requestAnimationFrame&&da(Rs,"requestAnimationFrame",Fve),t.XMLHttpRequest&&"XMLHttpRequest"in Rs&&da(XMLHttpRequest.prototype,"send",$ve);const r=t.eventTarget;r&&(Array.isArray(r)?r:Ive).forEach(Bve)}}};function gO(e){return function(...t){const r=t[0];return t[0]=xm(r,{mechanism:{data:{function:ad(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Fve(e){return function(t){return e.apply(this,[xm(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ad(e)},handled:!1,type:"instrument"}})])}}function $ve(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&da(r,n,function(s){const i={mechanism:{data:{function:n,handler:ad(s)},handled:!1,type:"instrument"}},a=NA(s);return a&&(i.mechanism.data.handler=ad(a)),xm(s,i)})}),e.apply(this,t)}}function Bve(e){const t=Rs[e],r=t&&t.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(da(r,"addEventListener",function(n){return function(s,i,a){try{typeof i.handleEvent=="function"&&(i.handleEvent=xm(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ad(i),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[s,xm(i,{mechanism:{data:{function:"addEventListener",handler:ad(i),target:e},handled:!1,type:"instrument"}}),a])}}),da(r,"removeEventListener",function(n){return function(s,i,a){try{const l=i.__sentry_wrapped__;l&&n.call(this,s,l,a)}catch{}return n.call(this,s,i,a)}}))}const Uve=()=>({name:"BrowserSession",setupOnce(){Rs.document!==void 0?(HR({ignoreDuration:!0}),GR(),tz(({from:e,to:t})=>{e!==void 0&&e!==t&&(HR({ignoreDuration:!0}),GR())})):N2&&Qt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),qve=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(function(n){(function(s){const i="error";wh(i,s),bh(i,Tge)})(s=>{const{stackParser:i,attachStacktrace:a}=yO();if(ii()!==n||uO())return;const{msg:l,url:c,line:u,column:d,error:h}=s,p=function(f,v,m,x){const g=f.exception=f.exception||{},b=g.values=g.values||[],S=b[0]=b[0]||{},k=S.stacktrace=S.stacktrace||{},T=k.frames=k.frames||[],R=x,O=m,D=mc(v)&&v.length>0?v:function(){try{return jA.document.location.href}catch{return""}}();return T.length===0&&T.push({colno:R,filename:D,function:th,in_app:!0,lineno:O}),f}(GN(i,h||l,void 0,a,!1),c,u,d);p.level="error",WR(p,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(r),vO("onerror")),t.onunhandledrejection&&(function(n){(function(s){const i="unhandledrejection";wh(i,s),bh(i,Rge)})(s=>{const{stackParser:i,attachStacktrace:a}=yO();if(ii()!==n||uO())return;const l=function(u){if(MN(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(s),c=MN(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:GN(i,l,void 0,a,!0);c.level="error",WR(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),vO("onunhandledrejection"))}}};function vO(e){N2&&Qt.log(`Global Handler attached: ${e}`)}function yO(){const e=ii();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const zve=()=>({name:"HttpContext",preprocessEvent(e){if(!Rs.navigator&&!Rs.location&&!Rs.document)return;const t=e.request&&e.request.url||Rs.location&&Rs.location.href,{referrer:r}=Rs.document||{},{userAgent:n}=Rs.navigator||{},s={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),Vve=(e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,s,i){const a=i.getOptions();hve(AA,a.stackParser,a.maxValueLength,r,t,n,s)}}};var KN="new",xO="loading",wO="loaded",Qw="joining-meeting",wu="joined-meeting",du="left-meeting",tc="error",Wve="blocked",Hve="off",Gve="sendable",Yve="loading",Kve="interrupted",rz="playable",Px="unknown",nz="full",Jve="lobby",Qve="none",sz="base",Zve="*",Xve="ejected",e0e="nbf-room",t0e="nbf-token",r0e="exp-room",n0e="exp-token",JN="no-room",s0e="meeting-full",iz="end-of-life",i0e="not-allowed",az="connection-error",a0e="cam-in-use",o0e="mic-in-use",l0e="cam-mic-in-use",c0e="permissions",u0e="undefined-mediadevices",d0e="not-found",h0e="constraints",f0e="unknown",oz="iframe-ready-for-launch-config",lz="iframe-launch-config",cz="theme-updated",uz="loading",dz="load-attempt-failed",QN="loaded",hz="started-camera",fz="camera-error",pz="joining-meeting",mz="joined-meeting",gz="left-meeting",vz="participant-joined",yz="participant-updated",xz="participant-left",wz="participant-counts-updated",bz="access-state-updated",_z="meeting-session-summary-updated",Sz="meeting-session-state-updated",p0e="meeting-session-data-error",jz="waiting-participant-added",Nz="waiting-participant-updated",kz="waiting-participant-removed",Cz="track-started",Ez="track-stopped",Az="transcription-started",Pz="transcription-stopped",Tz="transcription-error",ZN="recording-started",XN="recording-stopped",Rz="recording-stats",Oz="recording-error",Lz="recording-upload-completed",Mz="recording-data",Iz="app-message",Dz="transcription-message",Fz="remote-media-player-started",$z="remote-media-player-updated",Bz="remote-media-player-stopped",Uz="local-screen-share-started",qz="local-screen-share-stopped",zz="local-screen-share-canceled",Vz="active-speaker-change",Wz="active-speaker-mode-change",Hz="network-quality-change",Gz="network-connection",Yz="cpu-load-change",Kz="face-counts-updated",iv="fullscreen",av="exited-fullscreen",Jz="live-streaming-started",Qz="live-streaming-updated",Zz="live-streaming-stopped",Xz="live-streaming-error",eV="lang-updated",tV="receive-settings-updated",ek="input-settings-updated",tk="nonfatal-error",rk="error",$5=4096,bO=102400,B5="iframe-call-message",_O="local-screen-start",SO="daily-method-update-live-streaming-endpoints",z1="transmit-log",gc="daily-custom-track",Tx={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},rV={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},nk={PLAY:"play",PAUSE:"pause"},U5=["jpg","png","jpeg"],m0e="add-endpoints",g0e="remove-endpoints",jO="sip-call-transfer";function Ja(){return!fr()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function fr(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function nV(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function v0e(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(zh(),Zw())||fr())}function NO(){if(fr()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var sk="none",y0e="software",x0e="hardware",w0e=function(){try{var e,t=document.createElement("canvas"),r=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,e=t.getContext("webgl2"));var n=e!=null;return t.remove(),n?r?y0e:x0e:sk}catch{return sk}}();function sV(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!fr()&&w0e!==sk&&(e?function(){return kO()?!1:["Chrome","Firefox"].includes(zh())}():function(){if(kO())return!1;var t=zh();if(t==="Safari"){var r=RA();if(r.major<15||r.major===15&&r.minor<4)return!1}return t==="Chrome"?TA().major>=77:t==="Firefox"?OA().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function iV(){if(fr()||aV()||typeof AudioWorkletNode>"u")return!1;switch(zh()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Zw();return e.major>17||e.major===17&&e.minor>=4}return!1}function q5(){return nV()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=zh();if(!Ja())return!0;switch(t){case"Chrome":return(e=TA()).major&&e.major>0&&e.major<75;case"Firefox":return(e=OA()).major<91;case"Safari":return(e=RA()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function aV(){return Ja().match(/Linux; Android/)}function kO(){var e,t=Ja(),r=t.match(/Mac/)&&(!fr()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||r)||!!Ja().match(/DailyAnd\//)||void 0}function zh(){if(typeof window<"u"){var e=Ja();return oV()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||lV()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Zw(){switch(zh()){case"Chrome":return TA();case"Safari":return RA();case"Firefox":return OA();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var r=Ja().match(/Edge\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}()}}function TA(){var e=0,t=0,r=0,n=0,s=!1;if(typeof window<"u"){var i=Ja(),a=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(a)try{e=parseInt(a[1]),t=parseInt(a[2]),r=parseInt(a[3]),n=parseInt(a[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:r,patch:n,opera:s}}function oV(){return!!Ja().match(/iPad|iPhone|iPod/i)&&nV()}function lV(){return Ja().indexOf("AppleWebKit/605.1.15")>-1}function RA(){var e=0,t=0,r=0;if(typeof window<"u"){var n=Ja().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2]),r=parseInt(n[4])}catch{}else(oV()||lV())&&(e=14,t=0,r=3)}return{major:e,minor:t,point:r}}function OA(){var e=0,t=0;if(typeof window<"u"){var r=Ja().match(/Firefox\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}var cV=function(){return Na(function e(){ja(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){qg()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){qg()}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){qg()}},{key:"sendMessageToDailyJs",value:function(e,t){qg()}},{key:"removeListener",value:function(e){qg()}}])}();function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function z5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){ol(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!e})()}var b0e=function(){function e(){var t,r,n,s;return ja(this,e),r=this,n=Fo(n=e),(t=y2(r,uV()?Reflect.construct(n,[],Fo(r).constructor):n.apply(r,s)))._wrappedListeners={},t._messageCallbacks={},t}return x2(e,cV),Na(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){var s=this,i=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===r)&&(!a.data.from||a.data.from!=="module")){var l=z5({},a.data);if(delete l.from,l.callbackStamp&&s._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;s._messageCallbacks[c].call(n,l),delete s._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(n,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){var s=function(i){var a;if(!(!i.data||i.data.what!==B5||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&r&&i.data.callClientId!==r||i!=null&&(a=i.data)!==null&&a!==void 0&&a.callFrameId)){var l=i.data;t.call(n,l)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,r,n,s){if(!n)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=z5({},t);if(i.what=B5,i.from="module",i.callClientId=n,r){var a=w2();this._messageCallbacks[a]=r,i.callbackStamp=a}var l=s?s.contentWindow:window,c=this._callMachineTargetOrigin(s);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,r){t.what=B5,t.callClientId=r,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,r,n){var s=z5({},t);s.callClientId=n;var i=r?r.contentWindow:window,a=this._callMachineTargetOrigin(r);a&&i.postMessage(s,a)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,r){var n=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===r)&&(!s.data.from||s.data.from!=="module")){var i=s.data;t(i)}};return this._wrappedListeners[t]=n,window.addEventListener("message",n),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dV=function(){return!!e})()}var _0e=function(){function e(){var t,r,n,s;return ja(this,e),r=this,n=Fo(n=e),t=y2(r,dV()?Reflect.construct(n,[],Fo(r).constructor):n.apply(r,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new ON.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new ON.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return x2(e,cV),Na(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){this._addListener(t,global.callMachineToDailyJsEmitter,r,n,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){this._addListener(t,global.dailyJsToCallMachineEmitter,r,n,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,r,n){this._sendMessage(t,global.dailyJsToCallMachineEmitter,n,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,r){this._sendMessage(t,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,r,n,s,i){var a=this,l=function(c){if(c.callClientId===n){if(c.callbackStamp&&a._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;a._messageCallbacks[u].call(s,c),delete a._messageCallbacks[u]}t.call(s,c)}};this._wrappedListeners[t]=l,r.addListener("message",l)}},{key:"_sendMessage",value:function(t,r,n,s,i){var a=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?EO(Object(d),!0).forEach(function(h){ol(c,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):EO(Object(d)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(d,h))})}return c}({},t);if(a.callClientId=n,s){var l=w2();this._messageCallbacks[l]=s,a.callbackStamp=l}r.emit("message",a)}}])}(),ik="replace",ak="shallow-merge",AO=[ik,ak],S0e=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.data,n=t.mergeStrategy,s=n===void 0?ik:n;ja(this,e),e._validateMergeStrategy(s),e._validateData(r,s),this.mergeStrategy=s,this.data=r}return Na(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,r){return Object.keys(t).length===0&&r===ak}},{key:"_validateMergeStrategy",value:function(t){if(!AO.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(AO,"]"))}},{key:"_validateData",value:function(t,r){if(!function(l){if(l==null||Cr(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(t),r===ik){var s=JSON.parse(n);_i(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(r===ak){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var a=JSON.parse(JSON.stringify(t[i]));_i(t[i],a)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",a,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(n.length>bO)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(bO,"."))}}])}();function hV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hV=function(){return!!e})()}function ok(e){var t=typeof Map=="function"?new Map:void 0;return ok=function(r){if(r===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return function(s,i,a){if(hV())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(s.bind.apply(s,l));return a&&h0(c,a.prototype),c}(r,arguments,Fo(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h0(n,r)},ok(e)}function fV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!e})()}function PO(e){var t,r=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}var j0e=function(){return Na(function e(t){ja(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void n(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new N0e(r,function(){n(!1)},function(i,a){a||PO(t._callClientId),s(i,a)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),PO(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),N0e=function(){return Na(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;ja(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new TO(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new TO(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),V5=function(){function e(){return ja(this,e),t=this,n=arguments,r=Fo(r=e),y2(t,fV()?Reflect.construct(r,n||[],Fo(t).constructor):r.apply(t,n));var t,r,n}return x2(e,ok(Error)),Na(e)}(),Xw=2e4,TO=function(){return Na(function t(r,n,s){ja(this,t),this._loadAttemptImpl=fr()||!r.avoidEval?new k0e(r,n,s):new C0e(r,n,s)},[{key:"start",value:(e=Bt(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),k0e=function(){return Na(function s(i,a,l){ja(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=a,this._failureCallback=l},[{key:"start",value:(n=Bt(function*(){var s=Ww(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=Bt(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=Bt(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(Xw," ms) when loading call object bundle ").concat(s),type:"timeout"})},Xw);try{var a=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(s,a);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new V5;var c=yield this._getBundleCodeFromResponse(s,l);if(this.cancelled)throw new V5;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(s,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof V5||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(u),type:u.message})}}),function(s){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=Bt(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return e.apply(this,arguments)})}]);var e,t,r,n}(),C0e=function(){return Na(function e(t,r,n){ja(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n,this._attemptId=w2(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Ww(this._dailyConfig);(typeof document>"u"?"undefined":Cr(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(Xw," ms) when loading call object bundle ").concat(e),type:"timeout"})},Xw);var r=document.getElementsByTagName("head")[0],n=document.createElement("script");this._scriptElement=n,n.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},n.onerror=function(s){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},n.src=e,r.appendChild(n)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),V1=function(e,t,r){return A0e(e.local,t,r)===!0},E0e=function(e,t,r){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},up=function(e,t,r,n){var s=P0e(e,t,r,n);return s&&s.pendingTrack},A0e=function(e,t,r){if(!e)return!1;var n=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=e.public.subscribedTracks;return s&&s[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&s[t].custom?[!0,"staged"].includes(s[t].custom)?n(s[t].custom):n(s[t].custom[r]):n(s[t][r]):!s||n(s.ALL)},P0e=function(e,t,r,n){var s=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===r&&i.pendingTrack&&i.pendingTrack.kind===n}).sort(function(i,a){return new Date(a.starttime)-new Date(i.starttime)});return s&&s[0]},T0e=function(e,t){var r=e.local.public.customTracks;if(r&&r[t])return r[t].track};function RO(e,t){for(var r=t.getState(),n=0,s=["cam","screen"];n<s.length;n++)for(var i=s[n],a=0,l=["video","audio"];a<l.length;a++){var c=l[a],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var h=e.local?E0e(r,i,c):up(r,e.session_id,i,c);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function OO(e,t){try{var r=t.getState();for(var n in e.tracks)if(!R0e(n)){var s=e.tracks[n].kind;if(s){var i=e.tracks[n];if(i){var a=e.local?T0e(r,n):up(r,e.session_id,n,s);i.state==="playable"&&(e.tracks[n].track=a),i.persistentTrack=a}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function R0e(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function LO(e,t,r){var n=r.getState();if(e.local){if(e.audio)try{e.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var s=!0;try{var i=n.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(n.streams,e.audio&&V1(n,e.session_id,"cam-audio")){var a=up(n,e.session_id,"cam","audio");a&&(t&&t.audioTrack&&t.audioTrack.id===a.id?e.audioTrack=a:a.muted||(e.audioTrack=a)),e.audioTrack||(e.audio=!1)}if(e.video&&V1(n,e.session_id,"cam-video")){var l=up(n,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&V1(n,e.session_id,"screen-audio")){var c=up(n,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&V1(n,e.session_id,"screen-video")){var u=up(n,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function O0e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return MO(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?MO(c,u):void 0}}(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw i}}}}function MO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var rl=new Map,kp=null;function L0e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return IO(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?IO(c,u):void 0}}(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw i}}}}function IO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var nl=new Map,Nv=null;function M0e(e){pV()?function(t){rl.has(t)||(rl.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){rl.has(t)&&(rl.get(t).lastDevicesString=JSON.stringify(r),kp||(kp=function(){var n=Bt(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),a=O0e(rl.keys());try{for(a.s();!(s=a.n()).done;){var l=s.value,c=JSON.stringify(i);c!==rl.get(l).lastDevicesString&&(rl.get(l).lastDevicesString=c,l(i))}}catch(u){a.e(u)}finally{a.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",kp)))}).catch(function(){}))}(e):function(t){nl.has(t)||(nl.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){nl.has(t)&&(nl.get(t).lastDevicesString=JSON.stringify(r),Nv||(Nv=setInterval(Bt(function*(){var n,s=yield navigator.mediaDevices.enumerateDevices(),i=L0e(nl.keys());try{for(i.s();!(n=i.n()).done;){var a=n.value,l=JSON.stringify(s);l!==nl.get(a).lastDevicesString&&(nl.get(a).lastDevicesString=l,a(s))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function I0e(e){pV()?function(t){rl.has(t)&&(rl.delete(t),rl.size===0&&kp&&(navigator.mediaDevices.removeEventListener("devicechange",kp),kp=null))}(e):function(t){nl.has(t)&&(nl.delete(t),nl.size===0&&Nv&&(clearInterval(Nv),Nv=null))}(e)}function pV(){var e;return fr()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var D0e=new Set;function F0e(e,t){return e&&e.readyState==="live"&&!function(r,n){return r.muted&&!D0e.has(r.id)}(e)}function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){ol(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ov=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),$0e=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),kv=Object.values(ov),FO=["v","a","sv","sa","cv","ca"];Object.freeze(kv.reduce(function(e,t,r){return e[t]=FO[r],e},{})),Object.freeze(FO.reduce(function(e,t,r){return e[t]=kv[r],e},{}));var B0e=[ov.VIDEO,ov.AUDIO,ov.SCREEN_VIDEO,ov.SCREEN_AUDIO],$O=Object.values($0e),BO=["p","s","t"];Object.freeze($O.reduce(function(e,t,r){return e[t]=BO[r],e},{})),Object.freeze(BO.reduce(function(e,t,r){return e[t]=$O[r],e},{}));var mV=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.base,n=t.byUserId,s=t.byParticipantId;ja(this,e),this.base=r,this.byUserId=n,this.byParticipantId=s}return Na(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof qs?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof qs?n.clone():n}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof qs?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof qs&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof qs?n.toJSONObject():n}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof qs?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in t.u={},this.byUserId){var n=this.byUserId[r];t.u[r]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in t.p={},this.byParticipantId){var i=this.byParticipantId[s];t.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof qs&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var r=ai(t,2),n=r[0],s=r[1];return[n,s instanceof qs?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var r=ai(t,2),n=r[0],s=r[1];return[n,s instanceof qs?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(t){var r,n,s;if(t.base!==void 0&&(r=typeof t.base=="boolean"?t.base:qs.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in n={},t.byUserId){var a=t.byUserId[i];n[i]=typeof a=="boolean"?a:qs.fromJSONObject(a)}if(t.byParticipantId!==void 0)for(var l in s={},t.byParticipantId){var c=t.byParticipantId[l];s[l]=typeof c=="boolean"?c:qs.fromJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(t){var r,n,s;if(t.b!==void 0&&(r=typeof t.b=="boolean"?t.b:qs.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in n={},t.u){var a=t.u[i];n[i]=typeof a=="boolean"?a:qs.fromMinifiedJSONObject(a)}if(t.p!==void 0)for(var l in s={},t.p){var c=t.p[l];s[l]=typeof c=="boolean"?c:qs.fromMinifiedJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:s})}},{key:"validateJSONObject",value:function(t){if(Cr(t)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],n=0,s=Object.keys(t);n<s.length;n++){var i=s[n];if(!r.includes(i))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(i==="base"){var a=ai(qs.validateJSONObject(t.base,!0),2),l=a[0],c=a[1];if(!l)return[!1,c]}else{if(Cr(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var h=d[u],p=ai(qs.validateJSONObject(h),2),f=p[0],v=p[1];if(!f)return[!1,v]}}}return[!0]}}])}(),qs=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.video,n=t.audio,s=t.screenVideo,i=t.screenAudio,a=t.customVideo,l=t.customAudio;ja(this,e),this.video=r,this.audio=n,this.screenVideo=s,this.screenAudio=i,this.customVideo=a,this.customAudio=l}return Na(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=iu({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=iu({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=iu({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=iu({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=iu({},this.customVideo)),this.customAudio!==void 0&&(t.ca=iu({},this.customAudio)),t}},{key:"normalize",value:function(){function t(r,n){return r&&Object.keys(r).length===1&&r["*"]===n}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?iu({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?iu({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,r){if(typeof t=="boolean")return[!0];if(Cr(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var n=Object.keys(t),s=0,i=n;s<i.length;s++){var a=i[s];if(!kv.includes(a))return[!1,"invalid media type '".concat(a,"' in canReceive")];if(B0e.includes(a)){if(typeof t[a]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(a,"' in canReceive")]}else{if(Cr(t[a])!=="object")return[!1,"invalid (non-object) value for media type '".concat(a,"' in canReceive")];for(var l=0,c=Object.values(t[a]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(a,"' in canReceive")];if(r&&t[a]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(a,"'")]}}return r&&n.length!==kv.length?[!1,'canReceive "base" permission must specify all media types: '.concat(kv.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),U0e=["result"],q0e=["preserveIframe"];function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){ol(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gV=function(){return!!e})()}function qO(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return zO(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?zO(c,u):void 0}}(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw i}}}}function zO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Fd={},VO="video",z0e="voice",WO=fr()?{data:{}}:{data:{},topology:"none"},HO={present:0,hidden:0},vV={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},W5=Object.keys(vV),GO=["state","volume","simulcastEncodings"],YO={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},eb={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},lk={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},$d={customIntegrations:{validate:NV,help:SV()},customTrayButtons:{validate:jV,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(eb))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return kV(e,YO)},help:"reactNativeConfig should look like ".concat(JSON.stringify(YO),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return yV(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,r={customTrack:gc};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,r={customTrack:gc};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var s=0,i=Object.keys(n);s<i.length;s++){var a=i[s];if(!t.includes(a))return console.error('unsupported color "'.concat(a,'". Valid colors: ').concat(t.join(", "))),!1;if(!n[a].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(a,' theme color should be provided in valid hex color format. Received: "').concat(n[a],'"')),!1}return!0};return Cr(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):r(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return xV(e,{allowAllParticipantsKey:!1})},help:_V({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var r;return!!wV(e)&&(t._inputSettings||(t._inputSettings={}),bV(e,(r=t.properties)===null||r===void 0?void 0:r.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:ck()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},W1={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var r in e.cam)if(r!=="div"&&r!=="video")return!1}if(e.screen){for(var n in e.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(e)||!fr()&&e==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!r.includes(i[l])&&!s(i[l],!0))return!1}else{var c=!a&&!n.includes(l),u=!r.includes(i[l]);if(c||u)return!1}return!0};return s(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(fr()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=ai(r[t],2),s=n[0],i=n[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var a,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=qO(i);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(!l.includes(u))return!1}}catch(g){c.e(g)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=ai(mV.validateJSONObject(i),2),h=d[0],p=d[1];if(!h)return console.error(p),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var f,v=["participants","streaming","transcription"],m=qO(i);try{for(m.s();!(f=m.n()).done;){var x=f.value;if(!v.includes(x))return!1}}catch(g){m.e(g)}finally{m.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=Bt(function*(t){return new Promise(function(r,n){var s=[];t.forEach(function(i){return Promise.resolve(i).then(function(a){r(a)}).catch(function(a){s.push(a),s.length===t.length&&n(s)})})})});return function(t){return e.apply(this,arguments)}}());var V0e=function(){function e(_){var C,E,B,F,Q,se,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ja(this,e),B=this,F=Fo(F=e),ol(E=y2(B,gV()?Reflect.construct(F,[],Fo(B).constructor):F.apply(B,Q)),"startListeningForDeviceChanges",function(){M0e(E.handleDeviceChange)}),ol(E,"stopListeningForDeviceChanges",function(){I0e(E.handleDeviceChange)}),ol(E,"handleDeviceChange",function(fe){fe=fe.map(function(_e){return JSON.parse(JSON.stringify(_e))}),E.emitDailyJSEvent({action:"available-devices-updated",availableDevices:fe})}),ol(E,"handleNativeAppStateChange",function(){var fe=Bt(function*(_e){if(_e==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield E.destroy());var Ie=_e==="active";E.disableReactNativeAutoDeviceManagement("video")||(Ie?E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!0):(E.camUnmutedBeforeLosingNativeActiveState=E.localVideo(),E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!1)))});return function(_e){return fe.apply(this,arguments)}}()),ol(E,"handleNativeAudioFocusChange",function(fe){E.disableReactNativeAutoDeviceManagement("audio")||(E._hasNativeAudioFocus=fe,E.toggleParticipantAudioBasedOnNativeAudioFocus(),E._hasNativeAudioFocus?E.micUnmutedBeforeLosingNativeAudioFocus&&E.setLocalAudio(!0):(E.micUnmutedBeforeLosingNativeAudioFocus=E.localAudio(),E.setLocalAudio(!1)))}),ol(E,"handleNativeSystemScreenCaptureStop",function(){E.stopScreenShare()}),!q5()&&!fr())throw new Error("WebRTC not supported or suppressed");if(E.strictMode=le.strictMode===void 0||le.strictMode,E.allowMultipleCallInstances=(C=le.allowMultipleCallInstances)!==null&&C!==void 0&&C,Object.keys(Fd).length&&(E._logDuplicateInstanceAttempt(),!E.allowMultipleCallInstances)){if(E.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),E.callClientId=w2(),Fd[(se=E).callClientId]=se,window._daily.instances[E.callClientId]={},E._sharedTracks={},window._daily.instances[E.callClientId].tracks=E._sharedTracks,le.dailyJsVersion=e.version(),E._iframe=_,E._callObjectMode=le.layout==="none"&&!E._iframe,E._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},le.showLocalVideo!==void 0?E._callObjectMode?console.error("showLocalVideo is not available in call object mode"):E._showLocalVideo=!!le.showLocalVideo:E._showLocalVideo=!0,le.showParticipantsBar!==void 0?E._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):E._showParticipantsBar=!!le.showParticipantsBar:E._showParticipantsBar=!0,le.customIntegrations!==void 0?E._callObjectMode?console.error("customIntegrations is not available in call object mode"):E._customIntegrations=le.customIntegrations:E._customIntegrations={},le.customTrayButtons!==void 0?E._callObjectMode?console.error("customTrayButtons is not available in call object mode"):E._customTrayButtons=le.customTrayButtons:E._customTrayButtons={},le.activeSpeakerMode!==void 0?E._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):E._activeSpeakerMode=!!le.activeSpeakerMode:E._activeSpeakerMode=!1,le.receiveSettings?E._callObjectMode?E._receiveSettings=le.receiveSettings:console.error("receiveSettings is only available in call object mode"):E._receiveSettings={},E.validateProperties(le),E.properties=Ct({},le),E._inputSettings||(E._inputSettings={}),E._callObjectLoader=E._callObjectMode?new j0e(E.callClientId):null,E._callState=KN,E._isPreparingToJoin=!1,E._accessState={access:Px},E._meetingSessionSummary={},E._finalSummaryOfPrevSession={},E._meetingSessionState=Y5(WO,E._callObjectMode),E._nativeInCallAudioMode=VO,E._participants={},E._isScreenSharing=!1,E._participantCounts=HO,E._rmpPlayerState={},E._waitingParticipants={},E._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},E._activeSpeaker={},E._localAudioLevel=0,E._isLocalAudioLevelObserverRunning=!1,E._remoteParticipantsAudioLevel={},E._isRemoteParticipantsAudioLevelObserverRunning=!1,E._maxAppMessageSize=$5,E._messageChannel=fr()?new _0e:new b0e,E._iframe&&(E._iframe.requestFullscreen?E._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===E._iframe?(E.emitDailyJSEvent({action:iv}),E.sendMessageToCallMachine({action:iv})):(E.emitDailyJSEvent({action:av}),E.sendMessageToCallMachine({action:av}))}):E._iframe.webkitRequestFullscreen&&E._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===E._iframe?(E.emitDailyJSEvent({action:iv}),E.sendMessageToCallMachine({action:iv})):(E.emitDailyJSEvent({action:av}),E.sendMessageToCallMachine({action:av}))})),fr()){var ue=E.nativeUtils();ue.addAudioFocusChangeListener&&ue.removeAudioFocusChangeListener&&ue.addAppStateChangeListener&&ue.removeAppStateChangeListener&&ue.addSystemScreenCaptureStopListener&&ue.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),E._hasNativeAudioFocus=!0,ue.addAudioFocusChangeListener(E.handleNativeAudioFocusChange),ue.addAppStateChangeListener(E.handleNativeAppStateChange),ue.addSystemScreenCaptureStopListener(E.handleNativeSystemScreenCaptureStop)}return E._callObjectMode&&E.startListeningForDeviceChanges(),E._messageChannel.addListenerForMessagesFromCallMachine(E.handleMessageFromCallMachine,E.callClientId,E),E}return x2(e,M1),Na(e,[{key:"destroy",value:(U=Bt(function*(){var _;try{yield this.leave()}catch{}var C=this._iframe;if(C){var E=C.parentElement;E&&E.removeChild(C)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),fr()){var B=this.nativeUtils();B.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),B.removeAppStateChangeListener(this.handleNativeAppStateChange),B.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Fd[this.callClientId],!((_=window)===null||_===void 0||(_=_._daily)===null||_===void 0)&&_.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return U.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(_){var C=_.bodyClass,E=_.cssFile,B=_.cssText;return dr(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(E),bodyClass:C,cssText:B}),this}},{key:"iframe",value:function(){return dr(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return uo(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return uo(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(_,C){for(var E in C){if(!W1[E])throw new Error("unrecognized updateParticipant property ".concat(E));if(W1[E].validate&&!W1[E].validate(C[E],this,this._participants[_]))throw new Error(W1[E].help)}}},{key:"updateParticipant",value:function(_,C){return this._participants.local&&this._participants.local.session_id===_&&(_="local"),_&&C&&(this.validateParticipantProperties(_,C),this.sendMessageToCallMachine({action:"update-participant",id:_,properties:C})),this}},{key:"updateParticipants",value:function(_){var C=this._participants.local&&this._participants.local.session_id;for(var E in _)E===C&&(E="local"),E&&_[E]&&this.validateParticipantProperties(E,_[E]);return this.sendMessageToCallMachine({action:"update-participants",participants:_}),this}},{key:"updateWaitingParticipant",value:(ve=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(uo(this._callObjectMode,"updateWaitingParticipant()"),sn(this._callState,"updateWaitingParticipant()"),typeof C!="string"||Cr(E)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(B,F){_.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:C,updates:E},function(Q){Q.error&&F(Q.error),Q.id||F(new Error("unknown error in updateWaitingParticipant()")),B({id:Q.id})})})}),function(){return ve.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(pe=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(uo(this._callObjectMode,"updateWaitingParticipants()"),sn(this._callState,"updateWaitingParticipants()"),Cr(C)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(E,B){_.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:C},function(F){F.error&&B(F.error),F.ids||B(new Error("unknown error in updateWaitingParticipants()")),E({ids:F.ids})})})}),function(){return pe.apply(this,arguments)})},{key:"requestAccess",value:(Z=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=C.access,B=E===void 0?{level:nz}:E,F=C.name,Q=F===void 0?"":F;return uo(this._callObjectMode,"requestAccess()"),sn(this._callState,"requestAccess()"),new Promise(function(se,le){_.sendMessageToCallMachine({action:"daily-method-request-access",access:B,name:Q},function(ue){ue.error&&le(ue.error),ue.access||le(new Error("unknown error in requestAccess()")),se({access:ue.access,granted:ue.granted})})})}),function(){return Z.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in C&&(fr()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),C={}):_&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),C={})),this.sendMessageToCallMachine({action:"local-audio",state:_,options:C}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(_){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:_}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(_){return this.sendMessageToCallMachine({action:"local-video",state:_}),this}},{key:"_setAllowLocalAudio",value:function(_){if(this._preloadCache.allowLocalAudio=_,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:_}),this}},{key:"_setAllowLocalVideo",value:function(_){if(this._preloadCache.allowLocalVideo=_,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:_}),this}},{key:"getReceiveSettings",value:(W=Bt(function*(_){var C=this,E=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,B=E!==void 0&&E;if(uo(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Cr(_)){case"string":return new Promise(function(F){C.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:_,showInheritedValues:B},function(Q){F(Q.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(_){return W.apply(this,arguments)})},{key:"updateReceiveSettings",value:(te=Bt(function*(_){var C=this;if(uo(this._callObjectMode,"updateReceiveSettings()"),!xV(_,{allowAllParticipantsKey:!0}))throw new Error(_V({allowAllParticipantsKey:!0}));return sn(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(E){C.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:_},function(B){E({receiveSettings:B.receiveSettings})})})}),function(_){return te.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(_,C){if(_){var E={};if(_.audio){var B,F,Q;_.audio.settings&&(!Object.keys(_.audio.settings).length&&C||(E.audio={settings:Ct({},_.audio.settings)})),C&&(B=E.audio)!==null&&B!==void 0&&(B=B.settings)!==null&&B!==void 0&&B.customTrack&&(E.audio.settings={customTrack:this._sharedTracks.audioTrack});var se=((F=_.audio.processor)===null||F===void 0?void 0:F.type)==="none"&&((Q=_.audio.processor)===null||Q===void 0?void 0:Q._isDefaultWhenNone);if(_.audio.processor&&!se){var le=Ct({},_.audio.processor);delete le._isDefaultWhenNone,E.audio=Ct(Ct({},E.audio),{},{processor:le})}}if(_.video){var ue,fe,_e;_.video.settings&&(!Object.keys(_.video.settings).length&&C||(E.video={settings:Ct({},_.video.settings)})),C&&(ue=E.video)!==null&&ue!==void 0&&(ue=ue.settings)!==null&&ue!==void 0&&ue.customTrack&&(E.video.settings={customTrack:this._sharedTracks.videoTrack});var Ie=((fe=_.video.processor)===null||fe===void 0?void 0:fe.type)==="none"&&((_e=_.video.processor)===null||_e===void 0?void 0:_e._isDefaultWhenNone);if(_.video.processor&&!Ie){var J=Ct({},_.video.processor);delete J._isDefaultWhenNone,E.video=Ct(Ct({},E.video),{},{processor:J})}}return E}}},{key:"getInputSettings",value:function(){var _=this;return dr(),new Promise(function(C){C(_._getInputSettings())})}},{key:"_getInputSettings",value:function(){var _,C,E,B,F,Q,se={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(_=((E=this._inputSettings)===null||E===void 0?void 0:E.video)||se,C=((B=this._inputSettings)===null||B===void 0?void 0:B.audio)||se):(_=((F=this._preloadCache)===null||F===void 0||(F=F.inputSettings)===null||F===void 0?void 0:F.video)||se,C=((Q=this._preloadCache)===null||Q===void 0||(Q=Q.inputSettings)===null||Q===void 0?void 0:Q.audio)||se);var le={audio:C,video:_};return this._prepInputSettingsForSharing(le,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(_,C){var E=this._inputSettings||{},B={};if(_.video){var F,Q,se;B.video={},_.video.settings?(B.video.settings={},C||_.video.settings.customTrack||(se=E.video)===null||se===void 0||!se.settings?B.video.settings=_.video.settings:B.video.settings=Ct(Ct({},E.video.settings),_.video.settings),Object.keys(B.video.settings).length||delete B.video.settings):(F=E.video)!==null&&F!==void 0&&F.settings&&(B.video.settings=E.video.settings),_.video.processor?B.video.processor=_.video.processor:(Q=E.video)!==null&&Q!==void 0&&Q.processor&&(B.video.processor=E.video.processor)}else E.video&&(B.video=E.video);if(_.audio){var le,ue,fe;B.audio={},_.audio.settings?(B.audio.settings={},C||_.audio.settings.customTrack||(fe=E.audio)===null||fe===void 0||!fe.settings?B.audio.settings=_.audio.settings:B.audio.settings=Ct(Ct({},E.audio.settings),_.audio.settings),Object.keys(B.audio.settings).length||delete B.audio.settings):(le=E.audio)!==null&&le!==void 0&&le.settings&&(B.audio.settings=E.audio.settings),_.audio.processor?B.audio.processor=_.audio.processor:(ue=E.audio)!==null&&ue!==void 0&&ue.processor&&(B.audio.processor=E.audio.processor)}else E.audio&&(B.audio=E.audio);this._maybeUpdateInputSettings(B)}},{key:"_devicesFromInputSettings",value:function(_){var C,E,B=(_==null||(C=_.video)===null||C===void 0||(C=C.settings)===null||C===void 0?void 0:C.deviceId)||null,F=(_==null||(E=_.audio)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,Q=this._preloadCache.outputDeviceId||null;return{camera:B?{deviceId:B}:{},mic:F?{deviceId:F}:{},speaker:Q?{deviceId:Q}:{}}}},{key:"updateInputSettings",value:(ne=Bt(function*(_){var C=this;return dr(),wV(_)?_.video||_.audio?(bV(_,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(_,!0),this._getInputSettings()):new Promise(function(E,B){C.sendMessageToCallMachine({action:"update-input-settings",inputSettings:_},function(F){if(F.error)B(F.error);else{if(F.returnPreloadCache)return C._updatePreloadCacheInputSettings(_,!0),void E(C._getInputSettings());C._maybeUpdateInputSettings(F.inputSettings),E(C._prepInputSettingsForSharing(F.inputSettings,!0))}})})):this._getInputSettings():(console.error(ck()),Promise.reject(ck()))}),function(_){return ne.apply(this,arguments)})},{key:"setBandwidth",value:function(_){var C=_.kbs,E=_.trackConstraints;if(dr(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:C,trackConstraints:E}),this}},{key:"getDailyLang",value:function(){var _=this;if(dr(),this._callMachineInitialized)return new Promise(function(C){_.sendMessageToCallMachine({action:"get-daily-lang"},function(E){delete E.action,delete E.callbackStamp,C(E)})})}},{key:"setDailyLang",value:function(_){return dr(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:_}),this}},{key:"setProxyUrl",value:function(_){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:_}),this}},{key:"setIceConfig",value:function(_){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:_}),this}},{key:"meetingSessionSummary",value:function(){return[du,tc].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(ee=Bt(function*(){var _=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),sn(this._callState,"getMeetingSession()"),new Promise(function(C){_.sendMessageToCallMachine({action:"get-meeting-session"},function(E){delete E.action,delete E.callbackStamp,C(E)})})}),function(){return ee.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return sn(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";uo(this._callObjectMode,"setMeetingSessionData()"),sn(this._callState,"setMeetingSessionData");try{(function(E,B){new S0e({data:E,mergeStrategy:B})})(_,C)}catch(E){throw console.error(E),E}try{this.sendMessageToCallMachine({action:"set-session-data",data:_,mergeStrategy:C})}catch(E){throw new Error("Error setting meeting session data: ".concat(E))}}},{key:"setUserName",value:function(_,C){var E=this;return this.properties.userName=_,new Promise(function(B){E.sendMessageToCallMachine({action:"set-user-name",name:_??"",thisMeetingOnly:fr()||!!C&&!!C.thisMeetingOnly},function(F){delete F.action,delete F.callbackStamp,B(F)})})}},{key:"setUserData",value:(q=Bt(function*(_){var C=this;try{yV(_)}catch(E){throw console.error(E),E}if(this.properties.userData=_,this._callMachineInitialized)return new Promise(function(E){try{C.sendMessageToCallMachine({action:"set-user-data",userData:_},function(B){delete B.action,delete B.callbackStamp,E(B)})}catch(B){throw new Error("Error setting user data: ".concat(B))}})}),function(_){return q.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(_){if(_&&(_<100||typeof _!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(_){var C=this;if(typeof AudioWorkletNode>"u"&&!fr())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(_),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(E,B){C.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:_},function(F){C._isLocalAudioLevelObserverRunning=!F.error,F.error?B({error:F.error}):E()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:_}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(_){var C=this;if(this.validateAudioLevelInterval(_),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(E,B){C.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:_},function(F){C._isRemoteParticipantsAudioLevelObserverRunning=!F.error,F.error?B({error:F.error}):E()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:_}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:($=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(uo(this._callObjectMode,"startCamera()"),H5(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(C)}catch(E){return Promise.reject(E)}else{if(this._didPreAuth){if(C.url&&C.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(C.token&&C.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(C),this.properties=Ct(Ct({},this.properties),C)}return new Promise(function(E){_._preloadCache.inputSettings=_._prepInputSettingsForSharing(_._inputSettings,!1),_.sendMessageToCallMachine({action:"start-camera",properties:Ff(_.properties,_.callClientId),preloadCache:Ff(_._preloadCache,_.callClientId)},function(B){E({camera:B.camera,mic:B.mic,speaker:B.speaker})})})}),function(){return $.apply(this,arguments)})},{key:"validateCustomTrack",value:function(_,C,E){if(E&&E.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(C&&C!=="music"&&C!=="speech"&&!(C instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(E&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(E))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(_ instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return dr(),sn(this._callState,"startCustomTrack()"),this.validateCustomTrack(C.track,C.mode,C.trackName),new Promise(function(E,B){_._sharedTracks.customTrack=C.track,C.track=gc,_.sendMessageToCallMachine({action:"start-custom-track",properties:C},function(F){F.error?B({error:F.error}):E(F.mediaTag)})})}},{key:"stopCustomTrack",value:function(_){var C=this;return dr(),sn(this._callState,"stopCustomTrack()"),new Promise(function(E){C.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:_},function(B){E(B.mediaTag)})})}},{key:"setCamera",value:function(_){var C=this;return zg(),H1(this._callMachineInitialized,"setCamera()"),new Promise(function(E){C.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:_},function(B){E({device:B.device})})})}},{key:"setAudioDevice",value:(I=Bt(function*(_){return zg(),this.nativeUtils().setAudioDevice(_),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(_){return I.apply(this,arguments)})},{key:"cycleCamera",value:function(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(E){_.sendMessageToCallMachine({action:"cycle-camera",properties:C},function(B){E({device:B.device})})})}},{key:"cycleMic",value:function(){var _=this;return dr(),new Promise(function(C){_.sendMessageToCallMachine({action:"cycle-mic"},function(E){C({device:E.device})})})}},{key:"getCameraFacingMode",value:function(){var _=this;return zg(),new Promise(function(C){_.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(E){C(E.facingMode)})})}},{key:"setInputDevicesAsync",value:(A=Bt(function*(_){var C=this,E=_.audioDeviceId,B=_.videoDeviceId,F=_.audioSource,Q=_.videoSource;if(dr(),F!==void 0&&(E=F),Q!==void 0&&(B=Q),typeof E=="boolean"&&(this._setAllowLocalAudio(E),E=void 0),typeof B=="boolean"&&(this._setAllowLocalVideo(B),B=void 0),!E&&!B)return yield this.getInputDevices();var se={};return E&&(E instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=E,E=gc,se.audio={settings:{customTrack:E}}):(delete this._sharedTracks.audioTrack,se.audio={settings:{deviceId:E}})),B&&(B instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=B,B=gc,se.video={settings:{customTrack:B}}):(delete this._sharedTracks.videoTrack,se.video={settings:{deviceId:B}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(se,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(le){C.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:E,videoDeviceId:B},function(ue){if(delete ue.action,delete ue.callbackStamp,ue.returnPreloadCache)return C._updatePreloadCacheInputSettings(se,!1),void le(C._devicesFromInputSettings(C._inputSettings));le(ue)})})}),function(_){return A.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(G=Bt(function*(_){var C=this,E=_.outputDeviceId;if(dr(),!E||typeof E!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=E,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(B,F){C.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:E},function(Q){if(delete Q.action,delete Q.callbackStamp,Q.error){var se=new Error(Q.error.message);return se.type=Q.error.type,void F(se)}Q.returnPreloadCache?B(C._devicesFromInputSettings(C._inputSettings)):B(Q)})})}),function(_){return G.apply(this,arguments)})},{key:"getInputDevices",value:(M=Bt(function*(){var _=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(C){_.sendMessageToCallMachine({action:"get-input-devices"},function(E){E.returnPreloadCache?C(_._devicesFromInputSettings(_._inputSettings)):C({camera:E.camera,mic:E.mic,speaker:E.speaker})})})}),function(){return M.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return zg(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(_){if(zg(),[VO,z0e].includes(_)){if(_!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=_,!this.disableReactNativeAutoDeviceManagement("audio")&&Rx(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",_)}},{key:"preAuth",value:(D=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(uo(this._callObjectMode,"preAuth()"),H5(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(C)),!C.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(C),this.properties=Ct(Ct({},this.properties),C),new Promise(function(E,B){_._preloadCache.inputSettings=_._prepInputSettingsForSharing(_._inputSettings,!1),_.sendMessageToCallMachine({action:"daily-method-preauth",properties:Ff(_.properties,_.callClientId),preloadCache:Ff(_._preloadCache,_.callClientId)},function(F){return F.error?B(F.error):F.access?(_._didPreAuth=!0,void E({access:F.access})):B(new Error("unknown error in preAuth()"))})})}),function(){return D.apply(this,arguments)})},{key:"load",value:(O=Bt(function*(_){var C=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(_&&(this.validateProperties(_),this.properties=Ct(Ct({},this.properties),_)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(xO),this.emitDailyJSEvent({action:uz}),this._callObjectMode?new Promise(function(E,B){C._callObjectLoader.cancel();var F=Date.now();C._callObjectLoader.load(C.properties.dailyConfig,function(Q){C._bundleLoadTime=Q?"no-op":Date.now()-F,C._updateCallState(wO),Q&&C.emitDailyJSEvent({action:QN}),E()},function(Q,se){if(C.emitDailyJSEvent({action:dz}),!se){C._updateCallState(tc),C.resetMeetingDependentVars();var le={action:rk,errorMsg:Q.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:Q,bundleUrl:Ww(C.properties.dailyConfig)}}};C._maybeSendToSentry(le),C.emitDailyJSEvent(le),B(Q.msg)}})}):(this._iframe.src=$q(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(E,B){C._loadedCallback=function(F){C._callState!==tc?(C._updateCallState(wO),(C.properties.cssFile||C.properties.cssText)&&C.loadCss(C.properties),E()):B(F)}}))}}),function(_){return O.apply(this,arguments)})},{key:"join",value:(R=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var E=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(C)}catch(B){return this.updateIsPreparingToJoin(!1),Promise.reject(B)}}else{if(E=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(C.url&&C.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(C.token&&C.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(C.url&&!this._callObjectMode&&C.url&&C.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(C.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(C),this.properties=Ct(Ct({},this.properties),C)}return C.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!C.showLocalVideo),C.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!C.showParticipantsBar),this._callState===wu||this._callState===Qw?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Qw,!1),this.emitDailyJSEvent({action:pz}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Ff(this.properties,this.callClientId),preloadCache:Ff(this._preloadCache,this.callClientId)}),new Promise(function(B,F){_._joinedCallback=function(Q,se){if(_._callState!==tc){if(_._updateCallState(wu),Q)for(var le in Q){if(_._callObjectMode){var ue=_._callMachine().store;RO(Q[le],ue),OO(Q[le],ue),LO(Q[le],_._participants[le],ue)}_._participants[le]=Ct({},Q[le]),_.toggleParticipantAudioBasedOnNativeAudioFocus()}E&&_.loadCss(_.properties),B(Q)}else F(se)}}))}),function(){return R.apply(this,arguments)})},{key:"leave",value:(T=Bt(function*(){var _=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(C){_._callState===du||_._callState===tc?C():_._callObjectLoader&&!_._callObjectLoader.loaded?(_._callObjectLoader.cancel(),_._updateCallState(du),_.resetMeetingDependentVars(),_.emitDailyJSEvent({action:du}),C()):(_._resolveLeave=C,_.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return T.apply(this,arguments)})},{key:"startScreenShare",value:(k=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(H1(this._callMachineInitialized,"startScreenShare()"),C.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",C.screenVideoSendSettings),C.mediaStream&&(this._sharedTracks.screenMediaStream=C.mediaStream,C.mediaStream=gc),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var E=this.nativeUtils();if(yield E.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:tk,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});E.setSystemScreenCaptureStartCallback(function(){E.setSystemScreenCaptureStartCallback(null),_.sendMessageToCallMachine({action:_O,captureOptions:C})}),E.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:_O,captureOptions:C})}),function(){return k.apply(this,arguments)})},{key:"stopScreenShare",value:function(){H1(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=_.type;if(C&&C!=="cloud"&&C!=="raw-tracks"&&C!=="local")throw new Error("invalid type: ".concat(C,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(Ct({action:"local-recording-start"},_))}},{key:"updateRecording",value:function(_){var C=_.layout,E=C===void 0?{preset:"default"}:C,B=_.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:E,instanceId:B})}},{key:"stopRecording",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ct({action:"local-recording-stop"},_))}},{key:"startLiveStreaming",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ct({action:"daily-method-start-live-streaming"},_))}},{key:"updateLiveStreaming",value:function(_){var C=_.layout,E=C===void 0?{preset:"default"}:C,B=_.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:E,instanceId:B})}},{key:"addLiveStreamingEndpoints",value:function(_){var C=_.endpoints,E=_.instanceId;this.sendMessageToCallMachine({action:SO,endpointsOp:m0e,endpoints:C,instanceId:E})}},{key:"removeLiveStreamingEndpoints",value:function(_){var C=_.endpoints,E=_.instanceId;this.sendMessageToCallMachine({action:SO,endpointsOp:g0e,endpoints:C,instanceId:E})}},{key:"stopLiveStreaming",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ct({action:"daily-method-stop-live-streaming"},_))}},{key:"validateDailyConfig",value:function(_){_.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(_.camSimulcastEncodings)),_.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),aV()&&_.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(_){if(!(_ instanceof Array||Array.isArray(_)))throw new Error("encodings must be an Array");if(!XO(_.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var B=0;B<_.length;B++){var F=_[B];for(var Q in this._validateEncodingLayerHasValidProperties(F),F)if(W5.includes(Q)){if(typeof F[Q]!="number")throw new Error("".concat(Q," must be a number"));if(C){var se=C[Q],le=se.min,ue=se.max;if(!XO(F[Q],le,ue))throw new Error("".concat(Q," value not in range. valid range: ").concat(le," to ").concat(ue))}}else if(!["active","scalabilityMode"].includes(Q))throw new Error("Invalid key ".concat(Q,", valid keys are:")+Object.values(W5));if(E&&!F.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(S=Bt(function*(_){var C=this,E=_.url,B=_.settings,F=B===void 0?{state:nk.PLAY}:B;try{(function(Q){if(typeof Q!="string")throw new Error('url parameter must be "string" type')})(E),ZO(F),function(Q){for(var se in Q)if(!GO.includes(se))throw new Error("Invalid key ".concat(se,", valid keys are: ").concat(GO));Q.simulcastEncodings&&this.validateSimulcastEncodings(Q.simulcastEncodings,vV,!0)}(F)}catch(Q){throw console.error("invalid argument Error: ".concat(Q)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),Q}return new Promise(function(Q,se){C.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:E,settings:F},function(le){le.error?se({error:le.error,errorMsg:le.errorMsg}):Q({session_id:le.session_id,remoteMediaPlayerState:{state:le.state,settings:le.settings}})})})}),function(_){return S.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(b=Bt(function*(_){var C=this;if(typeof _!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(E,B){C.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:_},function(F){F.error?B({error:F.error,errorMsg:F.errorMsg}):E()})})}),function(_){return b.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(g=Bt(function*(_){var C=this,E=_.session_id,B=_.settings;try{ZO(B)}catch(F){throw console.error("invalid argument Error: ".concat(F)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),F}return new Promise(function(F,Q){C.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:E,settings:B},function(se){se.error?Q({error:se.error,errorMsg:se.errorMsg}):F({session_id:se.session_id,remoteMediaPlayerState:{state:se.state,settings:se.settings}})})})}),function(_){return g.apply(this,arguments)})},{key:"startTranscription",value:function(_){sn(this._callState,"startTranscription()"),this.sendMessageToCallMachine(Ct({action:"daily-method-start-transcription"},_))}},{key:"updateTranscription",value:function(_){if(sn(this._callState,"updateTranscription()"),!_)throw new Error("updateTranscription Error: options is mandatory");if(Cr(_)!=="object")throw new Error("updateTranscription Error: options must be object type");if(_.participants&&!Array.isArray(_.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(Ct({action:"daily-method-update-transcription"},_))}},{key:"stopTranscription",value:function(_){if(sn(this._callState,"stopTranscription()"),_&&Cr(_)!=="object")throw new Error("stopTranscription Error: options must be object type");if(_&&!_.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(Ct({action:"daily-method-stop-transcription"},_))}},{key:"startDialOut",value:(x=Bt(function*(_){var C=this;sn(this._callState,"startDialOut()");var E=function(se){if(se){if(!Array.isArray(se))throw new Error("Error starting dial out: audio codec must be an array");if(se.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");se.forEach(function(le){if(typeof le!="string")throw new Error("Error starting dial out: audio codec must be a string");if(le!=="OPUS"&&le!=="PCMU"&&le!=="PCMA"&&le!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!_.sipUri&&!_.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(_.sipUri&&_.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(_.sipUri){if(typeof _.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!_.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(_.video&&typeof _.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(se){if(se&&(E(se.audio),se.video)){if(!Array.isArray(se.video))throw new Error("Error starting dial out: video codec must be an array");if(se.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");se.video.forEach(function(le){if(typeof le!="string")throw new Error("Error starting dial out: video codec must be a string");if(le!=="H264"&&le!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(_.codecs)}if(_.phoneNumber){if(typeof _.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(_.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");_.codecs&&E(_.codecs.audio)}if(_.callerId){if(typeof _.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(_.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(_.displayName){if(typeof _.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(_.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(_.userId){if(typeof _.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(_.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(KO(_),_.permissions&&_.permissions.canReceive){var B=ai(mV.validateJSONObject(_.permissions.canReceive),2),F=B[0],Q=B[1];if(!F)throw new Error(Q)}if(_.provider){if(_.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(_.provider));if(_.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(se,le){C.sendMessageToCallMachine(Ct({action:"dialout-start"},_),function(ue){ue.error?le(ue.error):se(ue)})})}),function(_){return x.apply(this,arguments)})},{key:"stopDialOut",value:function(_){var C=this;return sn(this._callState,"stopDialOut()"),new Promise(function(E,B){C.sendMessageToCallMachine(Ct({action:"dialout-stop"},_),function(F){F.error?B(F.error):E(F)})})}},{key:"sipCallTransfer",value:(m=Bt(function*(_){var C=this;if(sn(this._callState,"sipCallTransfer()"),!_)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return _.useSipRefer=!1,QO(_,"sipCallTransfer"),KO(_),new Promise(function(E,B){C.sendMessageToCallMachine(Ct({action:jO},_),function(F){F.error?B(F.error):E(F)})})}),function(_){return m.apply(this,arguments)})},{key:"sipRefer",value:(v=Bt(function*(_){var C=this;if(sn(this._callState,"sipRefer()"),!_)throw new Error("sessionId and toEndPoint are mandatory parameter");return _.useSipRefer=!0,QO(_,"sipRefer"),new Promise(function(E,B){C.sendMessageToCallMachine(Ct({action:jO},_),function(F){F.error?B(F.error):E(F)})})}),function(_){return v.apply(this,arguments)})},{key:"sendDTMF",value:(f=Bt(function*(_){var C=this;return sn(this._callState,"sendDTMF()"),function(E){var B=E.sessionId,F=E.tones;if(!B||!F)throw new Error("sessionId and tones are mandatory parameter");if(typeof B!="string"||typeof F!="string")throw new Error("sessionId and tones should be of string type");if(F.length>20)throw new Error("tones string must be upto 20 characters");var Q=/[^0-9A-D*#]/g,se=F.match(Q);if(se&&se[0])throw new Error("".concat(se[0]," is not valid DTMF tone"))}(_),new Promise(function(E,B){C.sendMessageToCallMachine(Ct({action:"send-dtmf"},_),function(F){F.error?B(F.error):E(F)})})}),function(_){return f.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var _=this;return this._callState!==wu?Promise.resolve(Ct({stats:{latest:{}}},this._network)):new Promise(function(C){_.sendMessageToCallMachine({action:"get-calc-stats"},function(E){C(Ct(Ct({},_._network),{},{stats:E.stats}))})})}},{key:"testWebsocketConnectivity",value:(p=Bt(function*(){var _=this;if(G5(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(C){return Promise.reject(C)}return new Promise(function(C,E){_.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(B){B.error?E(B.error):C(B.results)})})}),function(){return p.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(_){return _?_ instanceof MediaStreamTrack?!!F0e(_)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=Bt(function*(){var _=this;dr(),uo(this._callObjectMode,"testCallQuality()"),H1(this._callMachineInitialized,"testCallQuality()",null,!0),H5(this._callState,this._isPreparingToJoin,"testCallQuality()");var C=this._testCallAlreadyInProgress,E=function(F){C||(_._testCallInProgress=F)};if(E(!0),this.needsLoad())try{var B=this._callState;yield this.load(),this._callState=B}catch(F){return E(!1),Promise.reject(F)}return new Promise(function(F){_.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:_.properties.dailyJsVersion},function(Q){var se=Q.results,le=se.result,ue=pR(se,U0e);if(le==="failed"){var fe,_e=Ct({},ue);(fe=ue.error)!==null&&fe!==void 0&&fe.details?(ue.error.details=JSON.parse(ue.error.details),_e.error=Ct(Ct({},_e.error),{},{details:Ct({},_e.error.details)}),_e.error.details.duringTest="testCallQuality"):(_e.error=_e.error?Ct({},_e.error):{},_e.error.details={duringTest:"testCallQuality"}),_._maybeSendToSentry(_e)}E(!1),F(Ct({result:le},ue))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=Bt(function*(_){var C;fr()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),C=yield this.testPeerToPeerCallQuality(_)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),C=yield this.testCallQuality());var E={result:C.result,secondsElapsed:C.secondsElapsed};return C.data&&(E.data={maxRTT:C.data.maxRoundTripTime,packetLoss:C.data.avgRecvPacketLoss}),E}),function(_){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=Bt(function*(_){var C=this;if(G5(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(F){return Promise.reject(F)}var E=_.videoTrack,B=_.duration;if(!this._validateVideoTrackForNetworkTests(E))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=E,new Promise(function(F,Q){C.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:B},function(se){se.error?Q(se.error):F(se.results)})})}),function(_){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){fr()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=Bt(function*(_){var C=this;if(G5(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}if(!this._validateVideoTrackForNetworkTests(_))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=_,new Promise(function(E,B){C.sendMessageToCallMachine({action:"test-network-connectivity"},function(F){F.error?B(F.error):E(F.results)})})}),function(_){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var _=this;return new Promise(function(C){_._callState===wu?_.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(E){C(E.cpuStats)}):C({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(_){var C;if(!(((C=Object.keys(_))===null||C===void 0?void 0:C.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(W5))}},{key:"_validateVideoSendSettings",value:function(_,C){var E=_==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],B="Video send settings should be either an object or one of the supported presets: ".concat(E.join());if(typeof C=="string"){if(!E.includes(C))throw new Error(B)}else{if(Cr(C)!=="object")throw new Error(B);if(!C.maxQuality&&!C.encodings&&C.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(C.maxQuality&&["low","medium","high"].indexOf(C.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(C.encodings){var F=!1;switch(Object.keys(C.encodings).length){case 1:F=!C.encodings.low;break;case 2:F=!C.encodings.low||!C.encodings.medium;break;case 3:F=!C.encodings.low||!C.encodings.medium||!C.encodings.high;break;default:F=!0}if(F)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");C.encodings.low&&this._validateEncodingLayerHasValidProperties(C.encodings.low),C.encodings.medium&&this._validateEncodingLayerHasValidProperties(C.encodings.medium),C.encodings.high&&this._validateEncodingLayerHasValidProperties(C.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(_){var C=this;if(!_||Object.keys(_).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(_).forEach(function(E){var B=ai(E,2),F=B[0],Q=B[1];C._validateVideoSendSettings(F,Q)})}},{key:"updateSendSettings",value:function(_){var C=this;return this.validateUpdateSendSettings(_),this.needsLoad()?(this._preloadCache.sendSettings=_,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(E,B){C.sendMessageToCallMachine({action:"update-send-settings",sendSettings:_},function(F){F.error?B(F.error):E(F.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return dr(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(_){return dr(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:_}),this}},{key:"activeSpeakerMode",value:function(){return dr(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(_){return sn(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=_,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:_}),this}},{key:"enumerateDevices",value:(l=Bt(function*(){var _=this;if(this._callObjectMode){var C=yield navigator.mediaDevices.enumerateDevices();return zh()==="Firefox"&&Zw().major>115&&Zw().major<123&&(C=C.filter(function(E){return E.kind!=="audiooutput"})),{devices:C.map(function(E){var B=JSON.parse(JSON.stringify(E));if(!fr()&&E.kind==="videoinput"&&E.getCapabilities){var F,Q=E.getCapabilities();B.facing=(Q==null||(F=Q.facingMode)===null||F===void 0?void 0:F.length)>=1?Q.facingMode[0]:void 0}return B})}}return new Promise(function(E){_.sendMessageToCallMachine({action:"enumerate-devices"},function(B){E({devices:B.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(sn(this._callState,"sendAppMessage()"),JSON.stringify(_).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:_,to:C}),this}},{key:"addFakeParticipant",value:function(_){return dr(),sn(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Ct({action:"add-fake-participant"},_)),this}},{key:"setShowNamesMode",value:function(_){return ta(this._callObjectMode,"setShowNamesMode()"),dr(),_&&_!=="always"&&_!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:_}),this)}},{key:"setShowLocalVideo",value:function(){var _=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ta(this._callObjectMode,"setShowLocalVideo()"),dr(),sn(this._callState,"setShowLocalVideo()"),typeof _!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:_}),this._showLocalVideo=_,this)}},{key:"showLocalVideo",value:function(){return ta(this._callObjectMode,"showLocalVideo()"),dr(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var _=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ta(this._callObjectMode,"setShowParticipantsBar()"),dr(),sn(this._callState,"setShowParticipantsBar()"),typeof _!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:_}),this._showParticipantsBar=_,this)}},{key:"showParticipantsBar",value:function(){return ta(this._callObjectMode,"showParticipantsBar()"),dr(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return dr(),ta(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(_){return dr(),ta(this._callObjectMode,"setCustomIntegrations()"),sn(this._callState,"setCustomIntegrations()"),NV(_)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:_}),this._customIntegrations=_,this):this}},{key:"startCustomIntegrations",value:function(_){var C=this;if(dr(),ta(this._callObjectMode,"startCustomIntegrations()"),sn(this._callState,"startCustomIntegrations()"),Array.isArray(_)&&_.some(function(F){return typeof F!="string"})||!Array.isArray(_)&&typeof _!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var E=typeof _=="string"?[_]:_,B=E.filter(function(F){return!(F in C._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:E}),this)}},{key:"stopCustomIntegrations",value:function(_){var C=this;if(dr(),ta(this._callObjectMode,"stopCustomIntegrations()"),sn(this._callState,"stopCustomIntegrations()"),Array.isArray(_)&&_.some(function(F){return typeof F!="string"})||!Array.isArray(_)&&typeof _!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var E=typeof _=="string"?[_]:_,B=E.filter(function(F){return!(F in C._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:E}),this)}},{key:"customTrayButtons",value:function(){return ta(this._callObjectMode,"customTrayButtons()"),dr(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(_){return ta(this._callObjectMode,"updateCustomTrayButtons()"),dr(),sn(this._callState,"updateCustomTrayButtons()"),jV(_)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:_}),this._customTrayButtons=_,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(eb))),this)}},{key:"theme",value:function(){return ta(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(_){var C=this;return ta(this._callObjectMode,"setTheme()"),new Promise(function(E,B){try{C.validateProperties({theme:_}),C.properties.theme=Ct({},_),C.sendMessageToCallMachine({action:"set-theme",theme:C.properties.theme});try{C.emitDailyJSEvent({action:cz,theme:C.properties.theme})}catch(F){console.log("could not emit 'theme-updated'",F)}E(C.properties.theme)}catch(F){B(F)}})}},{key:"requestFullscreen",value:(a=Bt(function*(){if(dr(),this._iframe&&!document.fullscreenElement&&NO())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(_){console.log("could not make video call fullscreen",_)}}),function(){return a.apply(this,arguments)})},{key:"exitFullscreen",value:function(){dr(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=Bt(function*(){var _=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(C){_.sendMessageToCallMachine({action:"get-sidebar-view"},function(E){C(E.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(_){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:_}),this)}},{key:"room",value:(s=Bt(function*(){var _=this,C=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,E=C===void 0||C;return this._accessState.access===Px||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(B){_.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:E},function(F){delete F.action,delete F.callbackStamp,B(F)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(n=Bt(function*(){try{var _=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield _.json()).geo}}catch(C){return console.error("geo lookup failed",C),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=Bt(function*(_){var C=this;return dr(),sn(this._callState,"setNetworkTopology()"),new Promise(function(E,B){C.sendMessageToCallMachine({action:"set-network-topology",opts:_},function(F){F.error?B({error:F.error}):E({workerId:F.workerId})})})}),function(_){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=Bt(function*(){var _=this;return new Promise(function(C,E){_.needsLoad()&&C({topology:"none"}),_.sendMessageToCallMachine({action:"get-network-topology"},function(B){B.error?E({error:B.error}):C({topology:B.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(_){if(dr(),typeof _!="number"&&_!==!0&&_!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(_));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:_})}},{key:"on",value:function(_,C){return M1.prototype.on.call(this,_,C)}},{key:"once",value:function(_,C){return M1.prototype.once.call(this,_,C)}},{key:"off",value:function(_,C){return M1.prototype.off.call(this,_,C)}},{key:"validateProperties",value:function(_){var C,E;if(_!=null&&(C=_.dailyConfig)!==null&&C!==void 0&&C.userMediaAudioConstraints){var B,F;fr()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var Q=_.inputSettings||{};Q.audio=((B=_.inputSettings)===null||B===void 0?void 0:B.audio)||{},Q.audio.settings=((F=_.inputSettings)===null||F===void 0||(F=F.audio)===null||F===void 0?void 0:F.settings)||{},Q.audio.settings=Ct(Ct({},Q.audio.settings),_.dailyConfig.userMediaAudioConstraints),_.inputSettings=Q,delete _.dailyConfig.userMediaAudioConstraints}if(_!=null&&(E=_.dailyConfig)!==null&&E!==void 0&&E.userMediaVideoConstraints){var se,le;fr()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var ue=_.inputSettings||{};ue.video=((se=_.inputSettings)===null||se===void 0?void 0:se.video)||{},ue.video.settings=((le=_.inputSettings)===null||le===void 0||(le=le.video)===null||le===void 0?void 0:le.settings)||{},ue.video.settings=Ct(Ct({},ue.video.settings),_.dailyConfig.userMediaVideoConstraints),_.inputSettings=ue,delete _.dailyConfig.userMediaVideoConstraints}for(var fe in _)if($d[fe]){if($d[fe].validate&&!$d[fe].validate(_[fe],this))throw new Error("property '".concat(fe,"': ").concat($d[fe].help))}else console.warn("Ignoring unrecognized property '".concat(fe,"'")),delete _[fe]}},{key:"assembleMeetingUrl",value:function(){var _,C,E=Ct(Ct({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(_=this.properties.dailyConfig)!==null&&_!==void 0&&_.proxyUrl?encodeURIComponent((C=this.properties.dailyConfig)===null||C===void 0?void 0:C.proxyUrl):void 0}),B=E.url.match(/\?/)?"&":"?";return E.url+B+Object.keys($d).filter(function(F){return $d[F].queryString&&E[F]!==void 0}).map(function(F){return"".concat($d[F].queryString,"=").concat(E[F])}).join("&")}},{key:"needsLoad",value:function(){return[KN,xO,du,tc].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(_,C){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(_,C,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(_){this._messageChannel.forwardPackagedMessageToCallMachine(_,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(_){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(_,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(_){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(_)}},{key:"handleMessageFromCallMachine",value:function(_){switch(_.action){case oz:this.sendMessageToCallMachine(Ct({action:lz},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var C={action:z1,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Ww(this.properties.dailyConfig)}};this.sendMessageToCallMachine(C),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case QN:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(_);break;case mz:var E,B=Ct({},_);delete B.internal,this._maxAppMessageSize=((E=_.internal)===null||E===void 0?void 0:E._maxAppMessageSize)||$5,this._joinedCallback&&(this._joinedCallback(_.participants),this._joinedCallback=null),this.emitDailyJSEvent(B);break;case vz:case yz:if(this._callState===du)return;if(_.participant&&_.participant.session_id){var F=_.participant.local?"local":_.participant.session_id;if(this._callObjectMode){var Q=this._callMachine().store;RO(_.participant,Q),OO(_.participant,Q),LO(_.participant,this._participants[F],Q)}try{this.maybeParticipantTracksStopped(this._participants[F],_.participant),this.maybeParticipantTracksStarted(this._participants[F],_.participant),this.maybeEventRecordingStopped(this._participants[F],_.participant),this.maybeEventRecordingStarted(this._participants[F],_.participant)}catch(Le){console.error("track events error",Le)}this.compareEqualForParticipantUpdateEvent(_.participant,this._participants[F])||(this._participants[F]=Ct({},_.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(_))}break;case xz:if(_.participant&&_.participant.session_id){var se=this._participants[_.participant.session_id];se&&this.maybeParticipantTracksStopped(se,null),delete this._participants[_.participant.session_id],this.emitDailyJSEvent(_)}break;case wz:_i(this._participantCounts,_.participantCounts)||(this._participantCounts=_.participantCounts,this.emitDailyJSEvent(_));break;case bz:var le={access:_.access};_.awaitingAccess&&(le.awaitingAccess=_.awaitingAccess),_i(this._accessState,le)||(this._accessState=le,this.emitDailyJSEvent(_));break;case _z:if(_.meetingSession){this._meetingSessionSummary=_.meetingSession,this.emitDailyJSEvent(_);var ue=Ct(Ct({},_),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(ue)}break;case rk:var fe;this._iframe&&!_.preserveIframe&&(this._iframe.src=""),this._updateCallState(tc),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(_.errorMsg),this._loadedCallback=null),_.preserveIframe;var _e=pR(_,q0e);_e!=null&&(fe=_e.error)!==null&&fe!==void 0&&fe.details&&(_e.error.details=JSON.parse(_e.error.details)),this._maybeSendToSentry(_),this._joinedCallback&&(this._joinedCallback(null,_e),this._joinedCallback=null),this.emitDailyJSEvent(_e);break;case gz:this._callState!==tc&&this._updateCallState(du),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(_);break;case"selected-devices-updated":_.devices&&this.emitDailyJSEvent(_);break;case Hz:var Ie=_.state,J=_.threshold,De=_.quality,Ye=Ie.state,Ke=Ie.reasons;Ye===this._network.networkState&&_i(Ke,this._network.networkStateReasons)&&J===this._network.threshold&&De===this._network.quality||(this._network.networkState=Ye,this._network.networkStateReasons=Ke,this._network.quality=De,this._network.threshold=J,_.networkState=Ye,Ke.length&&(_.networkStateReasons=Ke),delete _.state,this.emitDailyJSEvent(_));break;case Yz:_&&_.cpuLoadState&&this.emitDailyJSEvent(_);break;case Kz:_&&_.faceCounts!==void 0&&this.emitDailyJSEvent(_);break;case Vz:var me=_.activeSpeaker;this._activeSpeaker.peerId!==me.peerId&&(this._activeSpeaker.peerId=me.peerId,this.emitDailyJSEvent({action:_.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var re=_.show;this._showLocalVideo=re,this.emitDailyJSEvent({action:_.action,show:re});break;case Wz:var ce=_.enabled;this._activeSpeakerMode!==ce&&(this._activeSpeakerMode=ce,this.emitDailyJSEvent({action:_.action,enabled:this._activeSpeakerMode}));break;case jz:case Nz:case kz:this._waitingParticipants=_.allWaitingParticipants,this.emitDailyJSEvent({action:_.action,participant:_.participant});break;case tV:_i(this._receiveSettings,_.receiveSettings)||(this._receiveSettings=_.receiveSettings,this.emitDailyJSEvent({action:_.action,receiveSettings:_.receiveSettings}));break;case ek:this._maybeUpdateInputSettings(_.inputSettings);break;case"send-settings-updated":_i(this._sendSettings,_.sendSettings)||(this._sendSettings=_.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:_.action,sendSettings:_.sendSettings}));break;case"local-audio-level":this._localAudioLevel=_.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(_);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=_.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(_);break;case Fz:var xe=_.session_id;this._rmpPlayerState[xe]=_.playerState,this.emitDailyJSEvent(_);break;case Bz:delete this._rmpPlayerState[_.session_id],this.emitDailyJSEvent(_);break;case $z:var Ne=_.session_id,Oe=this._rmpPlayerState[Ne];Oe&&this.compareEqualForRMPUpdateEvent(Oe,_.remoteMediaPlayerState)||(this._rmpPlayerState[Ne]=_.remoteMediaPlayerState,this.emitDailyJSEvent(_));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(_);break;case Sz:var Ce=this._meetingSessionState.topology!==(_.meetingSessionState&&_.meetingSessionState.topology);this._meetingSessionState=Y5(_.meetingSessionState,this._callObjectMode),(this._callObjectMode||Ce)&&this.emitDailyJSEvent(_);break;case Uz:this._isScreenSharing=!0,this.emitDailyJSEvent(_);break;case qz:case zz:this._isScreenSharing=!1,this.emitDailyJSEvent(_);break;case ZN:case XN:case Rz:case Oz:case Lz:case Az:case Pz:case Tz:case hz:case fz:case Iz:case Dz:case"test-completed":case Gz:case Mz:case Jz:case Qz:case Zz:case Xz:case tk:case eV:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(_);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(_,C){var E="record";_&&(C.local||C[E]!==!1||_[E]===C[E]||this.emitDailyJSEvent({action:XN}))}},{key:"maybeEventRecordingStarted",value:function(_,C){var E="record";_&&(C.local||C[E]!==!0||_[E]===C[E]||this.emitDailyJSEvent({action:ZN}))}},{key:"_trackStatePlayable",value:function(_){return!(!_||_.state!==rz)}},{key:"_trackChanged",value:function(_,C){return(_==null?void 0:_.id)!==(C==null?void 0:C.id)}},{key:"maybeEventTrackStopped",value:function(_,C,E){var B,F,Q=(B=C==null?void 0:C.tracks[_])!==null&&B!==void 0?B:null,se=(F=E==null?void 0:E.tracks[_])!==null&&F!==void 0?F:null,le=Q==null?void 0:Q.track;if(le){var ue=this._trackStatePlayable(Q),fe=this._trackStatePlayable(se),_e=this._trackChanged(le,se==null?void 0:se.track);ue&&(fe&&!_e||this.emitDailyJSEvent({action:Ez,track:le,participant:E??C,type:_}))}}},{key:"maybeEventTrackStarted",value:function(_,C,E){var B,F,Q=(B=C==null?void 0:C.tracks[_])!==null&&B!==void 0?B:null,se=(F=E==null?void 0:E.tracks[_])!==null&&F!==void 0?F:null,le=se==null?void 0:se.track;if(le){var ue=this._trackStatePlayable(Q),fe=this._trackStatePlayable(se),_e=this._trackChanged(Q==null?void 0:Q.track,le);fe&&(ue&&!_e||this.emitDailyJSEvent({action:Cz,track:le,participant:E,type:_}))}}},{key:"maybeParticipantTracksStopped",value:function(_,C){if(_)for(var E in _.tracks)this.maybeEventTrackStopped(E,_,C)}},{key:"maybeParticipantTracksStarted",value:function(_,C){if(C)for(var E in C.tracks)this.maybeEventTrackStarted(E,_,C)}},{key:"compareEqualForRMPUpdateEvent",value:function(_,C){var E,B;return _.state===C.state&&((E=_.settings)===null||E===void 0?void 0:E.volume)===((B=C.settings)===null||B===void 0?void 0:B.volume)}},{key:"emitDailyJSEvent",value:function(_){try{_.callClientId=this.callClientId,this.emit(_.action,_)}catch(C){console.log("could not emit",_,C)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(_,C){return!!_i(_,C)&&(!_.videoTrack||!C.videoTrack||_.videoTrack.id===C.videoTrack.id&&_.videoTrack.muted===C.videoTrack.muted&&_.videoTrack.enabled===C.videoTrack.enabled)&&(!_.audioTrack||!C.audioTrack||_.audioTrack.id===C.audioTrack.id&&_.audioTrack.muted===C.audioTrack.muted&&_.audioTrack.enabled===C.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return fr()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(_){this._updateCallState(this._callState,_)}},{key:"_updateCallState",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(_!==this._callState||C!==this._isPreparingToJoin){var E=this._callState,B=this._isPreparingToJoin;this._callState=_,this._isPreparingToJoin=C;var F=this._callState===wu;this.updateShowAndroidOngoingMeetingNotification(F);var Q=Rx(E,B),se=Rx(this._callState,this._isPreparingToJoin);Q!==se&&(this.updateKeepDeviceAwake(se),this.updateDeviceAudioMode(se),this.updateNoOpRecordingEnsuringBackgroundContinuity(se))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=HO,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Px},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Y5(WO,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=$5,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(_){fr()&&this.nativeUtils().setKeepDeviceAwake(_,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(_){if(fr()&&!this.disableReactNativeAutoDeviceManagement("audio")){var C=_?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(C)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(_){if(fr()&&this.nativeUtils().setShowOngoingMeetingNotification){var C,E,B,F;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var Q=this.properties.reactNativeConfig.androidInCallNotification;C=Q.title,E=Q.subtitle,B=Q.iconName,F=Q.disableForCustomOverride}F&&(_=!1),this.nativeUtils().setShowOngoingMeetingNotification(_,C,E,B,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(_){fr()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(_)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var _;if(fr()){var C=(_=this._callMachine())===null||_===void 0||(_=_.store)===null||_===void 0?void 0:_.getState();for(var E in C==null?void 0:C.streams){var B=C.streams[E];B&&B.pendingTrack&&B.pendingTrack.kind==="audio"&&(B.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(_){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[_]}},{key:"absoluteUrl",value:function(_){if(_!==void 0){var C=document.createElement("a");return C.href=_,C.href}}},{key:"sayHello",value:function(){var _="hello, world.";return console.log(_),_}},{key:"_logUseAfterDestroy",value:function(){var _=Object.values(Fd)[0];if(this.needsLoad())if(_&&!_.needsLoad()){var C={action:z1,level:"error",code:this.strictMode?9995:9997};_.sendMessageToCallMachine(C)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var E={action:z1,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(E,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var _=0,C=Object.values(Fd);_<C.length;_++){var E=C[_];E._callMachineInitialized?(E.sendMessageToCallMachine({action:z1,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),E._delayDuplicateInstanceLog=!1):E._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(_){var C,E,B,F;if(!((C=_.error)!==null&&C!==void 0&&C.type&&(![az,iz,JN].includes(_.error.type)||_.error.type===JN&&_.error.msg.includes("deleted")))){var Q=(E=this.properties)!==null&&E!==void 0&&E.url?new URL(this.properties.url):void 0,se="production";Q&&Q.host.includes(".staging.daily")&&(se="staging");var le,ue,fe,_e,Ie,J=function(xe){const Ne=[dve(),cve(),Dve(),Mve(),qve(),Vve(),mve(),zve()];return xe.autoSessionTracking!==!1&&Ne.push(Uve()),Ne}({}).filter(function(xe){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(xe.name)}),De=new Sve({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:Eve,stackParser:Lve,integrations:J,environment:se}),Ye=new od;if(Ye.setClient(De),De.init(),this.session_id&&Ye.setExtra("sessionId",this.session_id),this.properties){var Ke=Ct({},this.properties);Ke.userName=Ke.userName?"[Filtered]":void 0,Ke.userData=Ke.userData?"[Filtered]":void 0,Ke.token=Ke.token?"[Filtered]":void 0,Ye.setExtra("properties",Ke)}if(Q){var me=Q.searchParams.get("domain");if(!me){var re=Q.host.match(/(.*?)\./);me=re&&re[1]||""}me&&Ye.setTag("domain",me)}_.error&&(Ye.setTag("fatalErrorType",_.error.type),Ye.setExtra("errorDetails",_.error.details),!((le=_.error.details)===null||le===void 0)&&le.uri&&Ye.setTag("serverAddress",_.error.details.uri),!((ue=_.error.details)===null||ue===void 0)&&ue.workerGroup&&Ye.setTag("workerGroup",_.error.details.workerGroup),!((fe=_.error.details)===null||fe===void 0)&&fe.geoGroup&&Ye.setTag("geoGroup",_.error.details.geoGroup),!((_e=_.error.details)===null||_e===void 0)&&_e.on&&Ye.setTag("connectionAttempt",_.error.details.on),(Ie=_.error.details)!==null&&Ie!==void 0&&Ie.bundleUrl&&(Ye.setTag("bundleUrl",_.error.details.bundleUrl),Ye.setTag("bundleError",_.error.details.sourceError.type))),Ye.setTags({callMode:this._callObjectMode?fr()?"reactNative":(B=this.properties)!==null&&B!==void 0&&(B=B.dailyConfig)!==null&&B!==void 0&&(B=B.callMode)!==null&&B!==void 0&&B.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var ce=((F=_.error)===null||F===void 0?void 0:F.msg)||_.errorMsg;Ye.captureException(new Error(ce))}}},{key:"_callMachine",value:function(){var _;return(_=window._daily)===null||_===void 0||(_=_.instances)===null||_===void 0||(_=_[this.callClientId])===null||_===void 0?void 0:_.callMachine}},{key:"_maybeUpdateInputSettings",value:function(_){if(!_i(this._inputSettings,_)){var C=this._getInputSettings();this._inputSettings=_;var E=this._getInputSettings();_i(C,E)||this.emitDailyJSEvent({action:ek,inputSettings:E})}}}],[{key:"supportedBrowser",value:function(){if(fr())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var _=Pge.getParser(Ja());return{supported:!!q5(),mobile:_.getPlatformType()==="mobile",name:_.getBrowserName(),version:_.getBrowserVersion(),supportsFullscreen:!!NO(),supportsScreenShare:!!v0e(),supportsSfu:!!q5(),supportsVideoProcessing:sV(),supportsAudioProcessing:iV()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _.layout="none",new e(null,_)}},{key:"wrap",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(dr(),!_||!_.contentWindow||typeof _.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return C.layout||(C.customLayout?C.layout="custom-v1":C.layout="browser"),new e(_,C)}},{key:"createFrame",value:function(_,C){var E,B;dr(),_&&C?(E=_,B=C):_&&_.append?(E=_,B={}):(E=document.body,B=_||{});var F=B.iframeStyle;F||(F=E===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var Q=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?Q.allow="microphone, camera":Q.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",Q.style.visibility="hidden",E.appendChild(Q),Q.style.visibility=null,Object.keys(F).forEach(function(se){return Q.style[se]=F[se]}),B.layout||(B.customLayout?B.layout="custom-v1":B.layout="browser");try{return new e(Q,B)}catch(se){throw E.removeChild(Q),se}}},{key:"createTransparentFrame",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dr();var C=document.createElement("iframe");return C.allow="microphone; camera; autoplay",C.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(C),_.layout||(_.layout="custom-v1"),e.wrap(C,_)}},{key:"getCallInstance",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return _?Fd[_]:Object.values(Fd)[0]}}]);var t,r,n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,b,S,k,T,R,O,D,M,G,A,I,$,q,ee,ne,te,W,Z,pe,ve,U}();function KO(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Ff(e,t){var r={};for(var n in e)if(e[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=gc;else if(n==="dailyConfig"){if(e[n].modifyLocalSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyLocalSdpHook=e[n].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=s,delete e[n].modifyLocalSdpHook}if(e[n].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[n].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[n].modifyRemoteSdpHook}r[n]=e[n]}else r[n]=e[n];return r}function sn(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==wu){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(r+=" ".concat(t)),console.error(r),new Error(r)}}function Rx(e,t){return[Qw,wu].includes(e)||t}function H5(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(Rx(e,t)){var s="".concat(r," not supported after joining a meeting.");throw n&&(s+=" ".concat(n)),console.error(s),new Error(s)}}function H1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!e){var n="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function G5(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function uo(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function ta(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function dr(){if(fr())throw new Error("This daily-js method is not currently supported in React Native")}function zg(){if(!fr())throw new Error("This daily-js method is only supported in React Native")}function yV(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),_i(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function xV(e,t){for(var r=t.allowAllParticipantsKey,n=function(h){var p=["local"];return r||p.push("*"),h&&!p.includes(h)},s=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!s(h.video))&&!(h.screenVideo&&!s(h.screenVideo))},a=0,l=Object.entries(e);a<l.length;a++){var c=ai(l[a],2),u=c[0],d=c[1];if(!n(u)||!i(d))return!1}return!0}function wV(e){if(Cr(e)!=="object")return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=ai(r[t],2),s=n[0],i=n[1];switch(s){case"video":if(Cr(i)!=="object")return!1;for(var a=0,l=Object.entries(i);a<l.length;a++){var c=ai(l[a],2),u=c[0],d=c[1];switch(u){case"processor":if(!H0e(d))return!1;break;case"settings":if(!JO(d))return!1;break;default:return!1}}break;case"audio":if(Cr(i)!=="object")return!1;for(var h=0,p=Object.entries(i);h<p.length;h++){var f=ai(p[h],2),v=f[0],m=f[1];switch(v){case"processor":if(!W0e(m))return!1;break;case"settings":if(!JO(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function bV(e,t,r){var n,s=[];e.video&&e.video.processor&&(sV((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(e.video.settings?delete e.video.processor:delete e.video,s.push("video"))),e.audio&&e.audio.processor&&(iV()||(e.audio.settings?delete e.audio.processor:delete e.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(r.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:gc}):delete r.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(r.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:gc}):delete r.videoTrack)}function W0e(e){if(fr())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Cr(e)==="object"&&(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete e[r]}),!!function(r){return typeof r!="string"?!1:Object.values(rV).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function H0e(e){if(fr())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Cr(e)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(Tx).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Cr(e.config)!=="object"||!function(r,n){var s=Object.keys(n);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(r){case Tx.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case Tx.BGIMAGE:return!(n.source!==void 0&&!function(a){if(a.source==="default")return a.type="default",!0;if(a.source instanceof ArrayBuffer)return!0;if(Hw(a.source))return a.type="url",!!function(u){var d=new URL(u),h=d.pathname;if(d.protocol==="data:")try{var p=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return U5.includes(p)}catch(v){return console.error("failed to deduce blob content type",v),!1}var f=h.split(".").at(-1).toLowerCase().trim();return U5.includes(f)}(a.source)||(console.error("invalid image type; supported types: [".concat(U5.join(", "),"]")),!1);return l=a.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(a.type="daily-preselect",!0);var l,c}(n));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete e[r]}),!0)}function JO(e){return Cr(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function ck(){var e=Object.values(Tx).join(" | "),t=Object.values(rV).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function _V(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(sz).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function SV(){return"customIntegrations should be an object of type ".concat(JSON.stringify(lk),".")}function jV(e){if(e&&Cr(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(eb),".")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=ai(r[t],1)[0],s=0,i=Object.entries(e[n]);s<i.length;s++){var a=ai(i[s],2),l=a[0],c=a[1],u=eb.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!Hw(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(Cr(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function NV(e){if(!e||e&&Cr(e)!=="object"||Array.isArray(e))return console.error(SV()),!1;for(var t=function(h){return"".concat(h," should be ").concat(lk.id[h])},r=function(h,p){return console.error("customIntegration ".concat(h,": ").concat(p))},n=0,s=Object.entries(e);n<s.length;n++){var i=ai(s[n],1)[0];if(!("label"in e[i]))return r(i,"label is required"),!1;if(!("location"in e[i]))return r(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return r(i,"src or srcdoc is required"),!1;for(var a=0,l=Object.entries(e[i]);a<l.length;a++){var c=ai(l[a],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(i,t(u)),!1;break;case"iconURL":if(!Hw(d))return r(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(!Hw(d))return r(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return r(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(i,t(u)),!1;break;default:if(!lk.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function kV(e,t){if(t===void 0)return!1;switch(Cr(t)){case"string":return Cr(e)===t;case"object":if(Cr(e)!=="object")return!1;for(var r in e)if(!kV(e[r],t[r]))return!1;return!0;default:return!1}}function QO(e,t){var r=e.sessionId,n=e.toEndPoint,s=e.callerId,i=e.useSipRefer;if(!r||!n)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!n.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function ZO(e){if(Cr(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(nk).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(nk));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function XO(e,t,r){return!(typeof e!="number"||e<t||e>r)}function Y5(e,t){return e&&!t&&delete e.data,e}const G0e=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:nz,DAILY_ACCESS_LEVEL_LOBBY:Jve,DAILY_ACCESS_LEVEL_NONE:Qve,DAILY_ACCESS_UNKNOWN:Px,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:l0e,DAILY_CAMERA_ERROR_CAM_IN_USE:a0e,DAILY_CAMERA_ERROR_CONSTRAINTS:h0e,DAILY_CAMERA_ERROR_MIC_IN_USE:o0e,DAILY_CAMERA_ERROR_NOT_FOUND:d0e,DAILY_CAMERA_ERROR_PERMISSIONS:c0e,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:u0e,DAILY_CAMERA_ERROR_UNKNOWN:f0e,DAILY_EVENT_ACCESS_STATE_UPDATED:bz,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:Vz,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:Wz,DAILY_EVENT_APP_MSG:Iz,DAILY_EVENT_CAMERA_ERROR:fz,DAILY_EVENT_CPU_LOAD_CHANGE:Yz,DAILY_EVENT_ERROR:rk,DAILY_EVENT_EXIT_FULLSCREEN:av,DAILY_EVENT_FACE_COUNTS_UPDATED:Kz,DAILY_EVENT_FULLSCREEN:iv,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:lz,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:oz,DAILY_EVENT_INPUT_SETTINGS_UPDATED:ek,DAILY_EVENT_JOINED_MEETING:mz,DAILY_EVENT_JOINING_MEETING:pz,DAILY_EVENT_LANG_UPDATED:eV,DAILY_EVENT_LEFT_MEETING:gz,DAILY_EVENT_LIVE_STREAMING_ERROR:Xz,DAILY_EVENT_LIVE_STREAMING_STARTED:Jz,DAILY_EVENT_LIVE_STREAMING_STOPPED:Zz,DAILY_EVENT_LIVE_STREAMING_UPDATED:Qz,DAILY_EVENT_LOADED:QN,DAILY_EVENT_LOADING:uz,DAILY_EVENT_LOAD_ATTEMPT_FAILED:dz,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:zz,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:Uz,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:qz,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:p0e,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:Sz,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:_z,DAILY_EVENT_NETWORK_CONNECTION:Gz,DAILY_EVENT_NETWORK_QUALITY_CHANGE:Hz,DAILY_EVENT_NONFATAL_ERROR:tk,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:wz,DAILY_EVENT_PARTICIPANT_JOINED:vz,DAILY_EVENT_PARTICIPANT_LEFT:xz,DAILY_EVENT_PARTICIPANT_UPDATED:yz,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:tV,DAILY_EVENT_RECORDING_DATA:Mz,DAILY_EVENT_RECORDING_ERROR:Oz,DAILY_EVENT_RECORDING_STARTED:ZN,DAILY_EVENT_RECORDING_STATS:Rz,DAILY_EVENT_RECORDING_STOPPED:XN,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:Lz,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:Fz,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:Bz,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:$z,DAILY_EVENT_STARTED_CAMERA:hz,DAILY_EVENT_THEME_UPDATED:cz,DAILY_EVENT_TRACK_STARTED:Cz,DAILY_EVENT_TRACK_STOPPED:Ez,DAILY_EVENT_TRANSCRIPTION_ERROR:Tz,DAILY_EVENT_TRANSCRIPTION_MSG:Dz,DAILY_EVENT_TRANSCRIPTION_STARTED:Az,DAILY_EVENT_TRANSCRIPTION_STOPPED:Pz,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:jz,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:kz,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:Nz,DAILY_FATAL_ERROR_CONNECTION:az,DAILY_FATAL_ERROR_EJECTED:Xve,DAILY_FATAL_ERROR_EOL:iz,DAILY_FATAL_ERROR_EXP_ROOM:r0e,DAILY_FATAL_ERROR_EXP_TOKEN:n0e,DAILY_FATAL_ERROR_MEETING_FULL:s0e,DAILY_FATAL_ERROR_NBF_ROOM:e0e,DAILY_FATAL_ERROR_NBF_TOKEN:t0e,DAILY_FATAL_ERROR_NOT_ALLOWED:i0e,DAILY_FATAL_ERROR_NO_ROOM:JN,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:Zve,DAILY_RECEIVE_SETTINGS_BASE_KEY:sz,DAILY_STATE_ERROR:tc,DAILY_STATE_JOINED:wu,DAILY_STATE_JOINING:Qw,DAILY_STATE_LEFT:du,DAILY_STATE_NEW:KN,DAILY_TRACK_STATE_BLOCKED:Wve,DAILY_TRACK_STATE_INTERRUPTED:Kve,DAILY_TRACK_STATE_LOADING:Yve,DAILY_TRACK_STATE_OFF:Hve,DAILY_TRACK_STATE_PLAYABLE:rz,DAILY_TRACK_STATE_SENDABLE:Gve,default:V0e},Symbol.toStringTag,{value:"Module"})),Y0e=KH(G0e);var LA={exports:{}},Cp=typeof Reflect=="object"?Reflect:null,eL=Cp&&typeof Cp.apply=="function"?Cp.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Ox;Cp&&typeof Cp.ownKeys=="function"?Ox=Cp.ownKeys:Object.getOwnPropertySymbols?Ox=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ox=function(t){return Object.getOwnPropertyNames(t)};function K0e(e){console&&console.warn&&console.warn(e)}var CV=Number.isNaN||function(t){return t!==t};function en(){en.init.call(this)}LA.exports=en;LA.exports.once=X0e;en.EventEmitter=en;en.prototype._events=void 0;en.prototype._eventsCount=0;en.prototype._maxListeners=void 0;var tL=10;function k2(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(en,"defaultMaxListeners",{enumerable:!0,get:function(){return tL},set:function(e){if(typeof e!="number"||e<0||CV(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");tL=e}});en.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};en.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||CV(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function EV(e){return e._maxListeners===void 0?en.defaultMaxListeners:e._maxListeners}en.prototype.getMaxListeners=function(){return EV(this)};en.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")eL(c,this,r);else for(var u=c.length,d=OV(c,u),n=0;n<u;++n)eL(d[n],this,r);return!0};function AV(e,t,r,n){var s,i,a;if(k2(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),a===void 0)a=i[t]=r,++e._eventsCount;else if(typeof a=="function"?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),s=EV(e),s>0&&a.length>s&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,K0e(l)}return e}en.prototype.addListener=function(t,r){return AV(this,t,r,!1)};en.prototype.on=en.prototype.addListener;en.prototype.prependListener=function(t,r){return AV(this,t,r,!0)};function J0e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function PV(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=J0e.bind(n);return s.listener=r,n.wrapFn=s,s}en.prototype.once=function(t,r){return k2(r),this.on(t,PV(this,t,r)),this};en.prototype.prependOnceListener=function(t,r){return k2(r),this.prependListener(t,PV(this,t,r)),this};en.prototype.removeListener=function(t,r){var n,s,i,a,l;if(k2(r),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){l=n[a].listener,i=a;break}if(i<0)return this;i===0?n.shift():Q0e(n,i),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this};en.prototype.off=en.prototype.removeListener;en.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),a;for(s=0;s<i.length;++s)a=i[s],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function TV(e,t,r){var n=e._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?Z0e(s):OV(s,s.length)}en.prototype.listeners=function(t){return TV(this,t,!0)};en.prototype.rawListeners=function(t){return TV(this,t,!1)};en.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):RV.call(e,t)};en.prototype.listenerCount=RV;function RV(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}en.prototype.eventNames=function(){return this._eventsCount>0?Ox(this._events):[]};function OV(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Q0e(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Z0e(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function X0e(e,t){return new Promise(function(r,n){function s(a){e.removeListener(t,i),n(a)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),r([].slice.call(arguments))}LV(e,t,i,{once:!0}),t!=="error"&&eye(e,s,{once:!0})})}function eye(e,t,r){typeof e.on=="function"&&LV(e,"error",t,r)}function LV(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){n.once&&e.removeEventListener(t,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var tye=LA.exports,C2={},Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.Api=Yu.HttpClient=Yu.ContentType=void 0;var tt;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(tt||(Yu.ContentType=tt={}));class MV{constructor(t={}){nt(this,"baseUrl","https://api.vapi.ai");nt(this,"securityData",null);nt(this,"securityWorker");nt(this,"abortControllers",new Map);nt(this,"customFetch",(...t)=>fetch(...t));nt(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});nt(this,"setSecurityData",t=>{this.securityData=t});nt(this,"contentFormatters",{[tt.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[tt.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[tt.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[tt.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((r,n)=>{const s=t[n];return r.append(n,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),r},new FormData),[tt.UrlEncoded]:t=>this.toQueryString(t)});nt(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const n=this.abortControllers.get(t);return n?n.signal:void 0}const r=new AbortController;return this.abortControllers.set(t,r),r.signal});nt(this,"abortRequest",t=>{const r=this.abortControllers.get(t);r&&(r.abort(),this.abortControllers.delete(t))});nt(this,"request",async({body:t,secure:r,path:n,type:s,query:i,format:a,baseUrl:l,cancelToken:c,...u})=>{const d=(typeof r=="boolean"?r:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,d),p=i&&this.toQueryString(i),f=this.contentFormatters[s||tt.Json],v=a||h.format;return this.customFetch(`${l||this.baseUrl||""}${n}${p?`?${p}`:""}`,{...h,headers:{...h.headers||{},...s&&s!==tt.FormData?{"Content-Type":s}:{}},signal:(c?this.createAbortSignal(c):h.signal)||null,body:typeof t>"u"||t===null?null:f(t)}).then(async m=>{const x=m;x.data=null,x.error=null;const g=v?m.clone():m,b=v?await g[v]().then(S=>(x.ok?x.data=S:x.error=S,x)).catch(S=>(x.error=S,x)):x;if(c&&this.abortControllers.delete(c),!m.ok)throw b;return b})});Object.assign(this,t)}encodeQueryParam(t,r){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof r=="number"?r:`${r}`)}`}addQueryParam(t,r){return this.encodeQueryParam(r,t[r])}addArrayQueryParam(t,r){return t[r].map(s=>this.encodeQueryParam(r,s)).join("&")}toQueryString(t){const r=t||{};return Object.keys(r).filter(s=>typeof r[s]<"u").map(s=>Array.isArray(r[s])?this.addArrayQueryParam(r,s):this.addQueryParam(r,s)).join("&")}addQueryParams(t){const r=this.toQueryString(t);return r?`?${r}`:""}mergeRequestParams(t,r){return{...this.baseApiParams,...t,...r||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...r&&r.headers||{}}}}}Yu.HttpClient=MV;class rye extends MV{constructor(){super(...arguments);nt(this,"assistant",{assistantControllerCreate:(r,n={})=>this.request({path:"/assistant",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),assistantControllerFindAll:(r,n={})=>this.request({path:"/assistant",method:"GET",query:r,secure:!0,format:"json",...n}),assistantControllerFindOne:(r,n={})=>this.request({path:`/assistant/${r}`,method:"GET",secure:!0,format:"json",...n}),assistantControllerUpdate:(r,n,s={})=>this.request({path:`/assistant/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),assistantControllerReplace:(r,n,s={})=>this.request({path:`/assistant/${r}`,method:"PUT",body:n,secure:!0,type:tt.Json,format:"json",...s}),assistantControllerRemove:(r,n={})=>this.request({path:`/assistant/${r}`,method:"DELETE",secure:!0,format:"json",...n}),assistantControllerFindVersions:(r,n,s={})=>this.request({path:`/assistant/${r}/version`,method:"GET",query:n,secure:!0,format:"json",...s})});nt(this,"v2",{assistantControllerFindAllPaginated:(r,n={})=>this.request({path:"/v2/assistant",method:"GET",query:r,secure:!0,format:"json",...n}),callControllerCallsExport:(r,n={})=>this.request({path:"/v2/call/export",method:"GET",query:r,secure:!0,...n}),callControllerFindAllPaginated:(r,n={})=>this.request({path:"/v2/call",method:"GET",query:r,secure:!0,format:"json",...n}),callControllerFindAllMetadataPaginated:(r,n={})=>this.request({path:"/v2/call/metadata",method:"GET",query:r,secure:!0,format:"json",...n}),phoneNumberControllerFindAllPaginated:(r,n={})=>this.request({path:"/v2/phone-number",method:"GET",query:r,secure:!0,format:"json",...n})});nt(this,"squad",{squadControllerCreate:(r,n={})=>this.request({path:"/squad",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),squadControllerFindAll:(r,n={})=>this.request({path:"/squad",method:"GET",query:r,secure:!0,format:"json",...n}),squadControllerFindOne:(r,n={})=>this.request({path:`/squad/${r}`,method:"GET",secure:!0,format:"json",...n}),squadControllerUpdate:(r,n,s={})=>this.request({path:`/squad/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),squadControllerRemove:(r,n={})=>this.request({path:`/squad/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"workflow",{workflowControllerFindAll:(r={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...r}),workflowControllerCreate:(r,n={})=>this.request({path:"/workflow",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),workflowControllerFindOne:(r,n={})=>this.request({path:`/workflow/${r}`,method:"GET",secure:!0,format:"json",...n}),workflowControllerDelete:(r,n={})=>this.request({path:`/workflow/${r}`,method:"DELETE",secure:!0,format:"json",...n}),workflowControllerUpdate:(r,n,s={})=>this.request({path:`/workflow/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s})});nt(this,"call",{callControllerCreate:(r,n={})=>this.request({path:"/call",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),callControllerFindAll:(r,n={})=>this.request({path:"/call",method:"GET",query:r,secure:!0,format:"json",...n}),callControllerFindOne:(r,n={})=>this.request({path:`/call/${r}`,method:"GET",secure:!0,format:"json",...n}),callControllerUpdate:(r,n,s={})=>this.request({path:`/call/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),callControllerDeleteCallData:(r,n,s={})=>this.request({path:`/call/${r}`,method:"DELETE",body:n,secure:!0,type:tt.Json,format:"json",...s}),callControllerCreatePhoneCall:(r,n={})=>this.request({path:"/call/phone",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),callControllerCreateWebCall:(r,n={})=>this.request({path:"/call/web",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})});nt(this,"chat",{chatControllerListChats:(r,n={})=>this.request({path:"/chat",method:"GET",query:r,secure:!0,format:"json",...n}),chatControllerCreateChat:(r,n={})=>this.request({path:"/chat",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),chatControllerGetChat:(r,n={})=>this.request({path:`/chat/${r}`,method:"GET",secure:!0,format:"json",...n}),chatControllerDeleteChat:(r,n={})=>this.request({path:`/chat/${r}`,method:"DELETE",secure:!0,format:"json",...n}),chatControllerCreateOpenAiChat:(r,n={})=>this.request({path:"/chat/responses",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),chatControllerCreateWebChat:(r,n={})=>this.request({path:"/chat/web",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),chatControllerCreateOpenAiWebChat:(r,n={})=>this.request({path:"/chat/web/responses",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})});nt(this,"campaign",{campaignControllerCreate:(r,n={})=>this.request({path:"/campaign",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),campaignControllerFindAll:(r,n={})=>this.request({path:"/campaign",method:"GET",query:r,secure:!0,format:"json",...n}),campaignControllerFindOne:(r,n={})=>this.request({path:`/campaign/${r}`,method:"GET",secure:!0,format:"json",...n}),campaignControllerUpdate:(r,n,s={})=>this.request({path:`/campaign/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),campaignControllerRemove:(r,n={})=>this.request({path:`/campaign/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"session",{sessionControllerCreate:(r,n={})=>this.request({path:"/session",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),sessionControllerFindAllPaginated:(r,n={})=>this.request({path:"/session",method:"GET",query:r,secure:!0,format:"json",...n}),sessionControllerFindOne:(r,n={})=>this.request({path:`/session/${r}`,method:"GET",secure:!0,format:"json",...n}),sessionControllerUpdate:(r,n,s={})=>this.request({path:`/session/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),sessionControllerRemove:(r,n={})=>this.request({path:`/session/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"phoneNumber",{phoneNumberControllerImportTwilio:(r,n={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),phoneNumberControllerImportVonage:(r,n={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),phoneNumberControllerCreate:(r,n={})=>this.request({path:"/phone-number",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),phoneNumberControllerFindAll:(r,n={})=>this.request({path:"/phone-number",method:"GET",query:r,secure:!0,format:"json",...n}),phoneNumberControllerFindOne:(r,n={})=>this.request({path:`/phone-number/${r}`,method:"GET",secure:!0,format:"json",...n}),phoneNumberControllerUpdate:(r,n,s={})=>this.request({path:`/phone-number/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),phoneNumberControllerRemove:(r,n={})=>this.request({path:`/phone-number/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"tool",{toolControllerCreate:(r,n={})=>this.request({path:"/tool",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),toolControllerFindAll:(r,n={})=>this.request({path:"/tool",method:"GET",query:r,secure:!0,format:"json",...n}),toolControllerFindOne:(r,n={})=>this.request({path:`/tool/${r}`,method:"GET",secure:!0,format:"json",...n}),toolControllerUpdate:(r,n,s={})=>this.request({path:`/tool/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),toolControllerRemove:(r,n={})=>this.request({path:`/tool/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"file",{fileControllerCreateDeprecated:(r,n={})=>this.request({path:"/file/upload",method:"POST",body:r,secure:!0,type:tt.FormData,format:"json",...n}),fileControllerCreate:(r,n={})=>this.request({path:"/file",method:"POST",body:r,secure:!0,type:tt.FormData,format:"json",...n}),fileControllerFindAll:(r={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...r}),fileControllerFindOne:(r,n={})=>this.request({path:`/file/${r}`,method:"GET",secure:!0,format:"json",...n}),fileControllerUpdate:(r,n,s={})=>this.request({path:`/file/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),fileControllerRemove:(r,n={})=>this.request({path:`/file/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"knowledgeBase",{knowledgeBaseControllerCreate:(r,n={})=>this.request({path:"/knowledge-base",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),knowledgeBaseControllerFindAll:(r,n={})=>this.request({path:"/knowledge-base",method:"GET",query:r,secure:!0,format:"json",...n}),knowledgeBaseControllerFindOne:(r,n={})=>this.request({path:`/knowledge-base/${r}`,method:"GET",secure:!0,format:"json",...n}),knowledgeBaseControllerUpdate:(r,n,s={})=>this.request({path:`/knowledge-base/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),knowledgeBaseControllerRemove:(r,n={})=>this.request({path:`/knowledge-base/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"structuredOutput",{structuredOutputControllerFindAll:(r,n={})=>this.request({path:"/structured-output",method:"GET",query:r,secure:!0,format:"json",...n}),structuredOutputControllerCreate:(r,n={})=>this.request({path:"/structured-output",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),structuredOutputControllerFindOne:(r,n={})=>this.request({path:`/structured-output/${r}`,method:"GET",secure:!0,format:"json",...n}),structuredOutputControllerUpdate:(r,n,s,i={})=>this.request({path:`/structured-output/${r}`,method:"PATCH",query:n,body:s,secure:!0,type:tt.Json,format:"json",...i}),structuredOutputControllerRemove:(r,n={})=>this.request({path:`/structured-output/${r}`,method:"DELETE",secure:!0,format:"json",...n}),structuredOutputControllerRun:(r,n={})=>this.request({path:"/structured-output/run",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})});nt(this,"testSuite",{testSuiteControllerFindAllPaginated:(r,n={})=>this.request({path:"/test-suite",method:"GET",query:r,secure:!0,format:"json",...n}),testSuiteControllerCreate:(r,n={})=>this.request({path:"/test-suite",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),testSuiteControllerFindOne:(r,n={})=>this.request({path:`/test-suite/${r}`,method:"GET",secure:!0,format:"json",...n}),testSuiteControllerUpdate:(r,n,s={})=>this.request({path:`/test-suite/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),testSuiteControllerRemove:(r,n={})=>this.request({path:`/test-suite/${r}`,method:"DELETE",secure:!0,format:"json",...n}),testSuiteTestControllerFindAllPaginated:(r,n,s={})=>this.request({path:`/test-suite/${r}/test`,method:"GET",query:n,secure:!0,format:"json",...s}),testSuiteTestControllerCreate:(r,n,s={})=>this.request({path:`/test-suite/${r}/test`,method:"POST",body:n,secure:!0,type:tt.Json,format:"json",...s}),testSuiteTestControllerFindOne:(r,n,s={})=>this.request({path:`/test-suite/${r}/test/${n}`,method:"GET",secure:!0,format:"json",...s}),testSuiteTestControllerUpdate:(r,n,s,i={})=>this.request({path:`/test-suite/${r}/test/${n}`,method:"PATCH",body:s,secure:!0,type:tt.Json,format:"json",...i}),testSuiteTestControllerRemove:(r,n,s={})=>this.request({path:`/test-suite/${r}/test/${n}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteRunControllerFindAllPaginated:(r,n,s={})=>this.request({path:`/test-suite/${r}/run`,method:"GET",query:n,secure:!0,format:"json",...s}),testSuiteRunControllerCreate:(r,n,s={})=>this.request({path:`/test-suite/${r}/run`,method:"POST",body:n,secure:!0,type:tt.Json,format:"json",...s}),testSuiteRunControllerFindOne:(r,n,s={})=>this.request({path:`/test-suite/${r}/run/${n}`,method:"GET",secure:!0,format:"json",...s}),testSuiteRunControllerUpdate:(r,n,s,i={})=>this.request({path:`/test-suite/${r}/run/${n}`,method:"PATCH",body:s,secure:!0,type:tt.Json,format:"json",...i}),testSuiteRunControllerRemove:(r,n,s={})=>this.request({path:`/test-suite/${r}/run/${n}`,method:"DELETE",secure:!0,format:"json",...s})});nt(this,"reporting",{insightControllerCreate:(r,n={})=>this.request({path:"/reporting/insight",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),insightControllerFindAll:(r,n={})=>this.request({path:"/reporting/insight",method:"GET",query:r,secure:!0,format:"json",...n}),insightControllerUpdate:(r,n,s={})=>this.request({path:`/reporting/insight/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),insightControllerFindOne:(r,n={})=>this.request({path:`/reporting/insight/${r}`,method:"GET",secure:!0,format:"json",...n}),insightControllerRemove:(r,n={})=>this.request({path:`/reporting/insight/${r}`,method:"DELETE",secure:!0,format:"json",...n}),insightControllerRun:(r,n,s={})=>this.request({path:`/reporting/insight/${r}/run`,method:"POST",body:n,secure:!0,type:tt.Json,format:"json",...s}),insightControllerPreview:(r,n={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})});nt(this,"eval",{evalControllerCreate:(r,n={})=>this.request({path:"/eval",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),evalControllerGetPaginated:(r,n={})=>this.request({path:"/eval",method:"GET",query:r,secure:!0,format:"json",...n}),evalControllerUpdate:(r,n,s={})=>this.request({path:`/eval/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),evalControllerRemove:(r,n={})=>this.request({path:`/eval/${r}`,method:"DELETE",secure:!0,format:"json",...n}),evalControllerGet:(r,n={})=>this.request({path:`/eval/${r}`,method:"GET",secure:!0,format:"json",...n}),evalControllerRemoveRun:(r,n={})=>this.request({path:`/eval/run/${r}`,method:"DELETE",secure:!0,format:"json",...n}),evalControllerGetRun:(r,n={})=>this.request({path:`/eval/run/${r}`,method:"GET",secure:!0,format:"json",...n}),evalControllerRun:(r,n={})=>this.request({path:"/eval/run",method:"POST",body:r,secure:!0,type:tt.Json,...n}),evalControllerGetRunsPaginated:(r,n={})=>this.request({path:"/eval/run",method:"GET",query:r,secure:!0,format:"json",...n})});nt(this,"observability",{scorecardControllerGet:(r,n={})=>this.request({path:`/observability/scorecard/${r}`,method:"GET",secure:!0,format:"json",...n}),scorecardControllerUpdate:(r,n,s={})=>this.request({path:`/observability/scorecard/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),scorecardControllerRemove:(r,n={})=>this.request({path:`/observability/scorecard/${r}`,method:"DELETE",secure:!0,format:"json",...n}),scorecardControllerGetPaginated:(r,n={})=>this.request({path:"/observability/scorecard",method:"GET",query:r,secure:!0,format:"json",...n}),scorecardControllerCreate:(r,n={})=>this.request({path:"/observability/scorecard",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})});nt(this,"org",{orgControllerCreate:(r,n={})=>this.request({path:"/org",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),orgControllerFindAll:(r={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...r}),orgControllerFeatureFlagEnabled:(r,n={})=>this.request({path:"/org/feature-flag",method:"GET",query:r,secure:!0,format:"json",...n}),orgControllerFindOne:(r,n={})=>this.request({path:`/org/${r}`,method:"GET",secure:!0,format:"json",...n}),orgControllerUpdate:(r,n,s={})=>this.request({path:`/org/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),orgControllerDeleteOrg:(r,n={})=>this.request({path:`/org/${r}`,method:"DELETE",secure:!0,...n}),orgControllerFindAllUsers:(r,n={})=>this.request({path:`/org/${r}/user`,method:"GET",secure:!0,format:"json",...n}),orgControllerOrgLeave:(r,n={})=>this.request({path:`/org/${r}/leave`,method:"DELETE",secure:!0,...n}),orgControllerOrgRemoveUser:(r,n,s={})=>this.request({path:`/org/${r}/member/${n}/leave`,method:"DELETE",secure:!0,...s}),orgControllerUsersInvite:(r,n,s={})=>this.request({path:`/org/${r}/invite`,method:"POST",body:n,secure:!0,type:tt.Json,...s}),orgControllerUserUpdate:(r,n,s={})=>this.request({path:`/org/${r}/role`,method:"PATCH",body:n,secure:!0,type:tt.Json,...s}),orgControllerOrgToken:(r,n={})=>this.request({path:`/org/${r}/auth`,method:"GET",secure:!0,format:"json",...n})});nt(this,"token",{tokenControllerCreate:(r,n={})=>this.request({path:"/token",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),tokenControllerFindAll:(r,n={})=>this.request({path:"/token",method:"GET",query:r,secure:!0,format:"json",...n}),tokenControllerFindOne:(r,n={})=>this.request({path:`/token/${r}`,method:"GET",secure:!0,format:"json",...n}),tokenControllerUpdate:(r,n,s={})=>this.request({path:`/token/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),tokenControllerRemove:(r,n={})=>this.request({path:`/token/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"credential",{credentialControllerCreate:(r,n={})=>this.request({path:"/credential",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),credentialControllerFindAll:(r,n={})=>this.request({path:"/credential",method:"GET",query:r,secure:!0,format:"json",...n}),credentialControllerFindOne:(r,n={})=>this.request({path:`/credential/${r}`,method:"GET",secure:!0,format:"json",...n}),credentialControllerUpdate:(r,n,s={})=>this.request({path:`/credential/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),credentialControllerRemove:(r,n={})=>this.request({path:`/credential/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"template",{templateControllerCreate:(r,n={})=>this.request({path:"/template",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),templateControllerFindAll:(r,n={})=>this.request({path:"/template",method:"GET",query:r,secure:!0,format:"json",...n}),templateControllerFindAllPinned:(r={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...r}),templateControllerFindOne:(r,n={})=>this.request({path:`/template/${r}`,method:"GET",secure:!0,format:"json",...n}),templateControllerUpdate:(r,n,s={})=>this.request({path:`/template/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),templateControllerRemove:(r,n={})=>this.request({path:`/template/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(r,n,s={})=>this.request({path:`/voice-library/${r}`,method:"GET",query:n,secure:!0,format:"json",...s}),voiceLibraryControllerVoiceGetAccentsByProvider:(r,n={})=>this.request({path:`/voice-library/${r}/accents`,method:"GET",secure:!0,format:"json",...n}),voiceLibraryControllerVoiceLibrarySyncByProvider:(r,n={})=>this.request({path:`/voice-library/sync/${r}`,method:"POST",secure:!0,format:"json",...n}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(r,n={})=>this.request({path:"/voice-library/sync",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(r,n={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:r,secure:!0,type:tt.Json,...n})});nt(this,"provider",{providerResourceControllerCreateProviderResource:(r,n,s={})=>this.request({path:`/provider/${r}/${n}`,method:"POST",secure:!0,format:"json",...s}),providerResourceControllerGetProviderResourcesPaginated:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}`,method:"GET",query:s,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}/${s}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}/${s}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}/${s}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(r,n,s={})=>this.request({path:`/${r}/workflows`,method:"GET",query:n,secure:!0,format:"json",...s}),providerControllerGetWorkflowTriggerHook:(r,n,s={})=>this.request({path:`/${r}/workflows/${n}/hooks`,method:"GET",secure:!0,format:"json",...s}),providerControllerGetLocations:(r,n={})=>this.request({path:`/${r}/locations`,method:"GET",secure:!0,format:"json",...n}),voiceProviderControllerSearchVoices:(r,n,s={})=>this.request({path:`/${r}/voices/search`,method:"GET",query:n,secure:!0,format:"json",...s}),voiceProviderControllerSearchVoice:(r,n,s={})=>this.request({path:`/${r}/voice/search`,method:"GET",query:n,secure:!0,format:"json",...s}),voiceProviderControllerAddVoices:(r,n,s={})=>this.request({path:`/${r}/voices/add`,method:"POST",body:n,secure:!0,type:tt.Json,format:"json",...s}),voiceProviderControllerAddVoice:(r,n,s={})=>this.request({path:`/${r}/voice/add`,method:"POST",body:n,secure:!0,type:tt.Json,format:"json",...s})});nt(this,"v11Labs",{voiceProviderControllerCloneVoices:(r,n={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:r,secure:!0,type:tt.FormData,...n})});nt(this,"analytics",{analyticsControllerQuery:(r,n={})=>this.request({path:"/analytics",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})})}}Yu.Api=rye;Object.defineProperty(C2,"__esModule",{value:!0});C2.client=void 0;const nye=Yu,sye=new nye.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});C2.client=sye;var Km={};Object.defineProperty(Km,"__esModule",{value:!0});Km.createSafeDailyConfig=iye;Km.safeSetLocalAudio=aye;Km.safeSetInputDevicesAsync=oye;Km.createSafeDailyFactoryOptions=lye;function iye(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...r}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),r):e}function aye(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function oye(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:r,...n}=t;await e.setInputDevicesAsync(n);return}await e.setInputDevicesAsync(t)}function lye(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var IV=O4&&O4.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Iq,"__esModule",{value:!0});const K5=IV(Y0e),cye=IV(tye),J5=C2,Bd=Km;function pi(e){if(e==null)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){const t={message:e.message,name:e.name,stack:e.stack},r=e;return r.code!==void 0&&(t.code=r.code),r.cause!==void 0&&(t.cause=String(r.cause)),r.reason!==void 0&&(t.reason=r.reason),r.details!==void 0&&(t.details=r.details),r.errorMsg!==void 0&&(t.errorMsg=r.errorMsg),r.error!==void 0&&typeof r.error=="string"&&(t.errorDetail=r.error),t}if(typeof e=="string")return{message:e};if(typeof e=="object"){const t=e;return{message:t.message||t.error||JSON.stringify(e),...t}}return{message:String(e)}}async function uye(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function rL(e,t){const r=document.createElement("audio");return r.dataset.participantId=t,document.body.appendChild(r),await uye(r,e),r}function nL(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function sL(e,t,r,n){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:r||n}})}class dye extends cye.default{on(t,r){return super.on(t,r),this}once(t,r){return super.once(t,r),this}emit(t,...r){return super.emit(t,...r)}removeListener(t,r){return super.removeListener(t,r),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class hye extends dye{constructor(r,n,s,i){super();nt(this,"started",!1);nt(this,"call",null);nt(this,"speakingTimeout",null);nt(this,"dailyCallConfig",{});nt(this,"dailyCallObject",{});nt(this,"hasEmittedCallEndedStatus",!1);J5.client.baseUrl=n??"https://api.vapi.ai",J5.client.setSecurityData(r),this.dailyCallConfig=(0,Bd.createSafeDailyConfig)(s),this.dailyCallObject=(0,Bd.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const r=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(r.toLowerCase())}async sleep(r){return new Promise(n=>setTimeout(n,r))}async start(r,n,s,i,a,l){var u,d,h,p,f,v,m;const c=Date.now();if(!r&&!s&&!i){const x=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:pi(x),timestamp:new Date().toISOString()}),x}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!r,hasSquad:!!s,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const x=Date.now(),g=(await J5.client.call.callControllerCreateWebCall({assistant:typeof r=="string"?void 0:r,assistantId:typeof r=="string"?r:void 0,assistantOverrides:n,squad:typeof s=="string"?void 0:s,squadId:typeof s=="string"?s:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:a,roomDeleteOnUserLeaveEnabled:l==null?void 0:l.roomDeleteOnUserLeaveEnabled})).data,b=Date.now()-x;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:b,timestamp:new Date().toISOString(),metadata:{callId:(g==null?void 0:g.id)||"unknown",videoRecordingEnabled:((u=g==null?void 0:g.artifactPlan)==null?void 0:u.videoRecordingEnabled)??!1,voiceProvider:((h=(d=g==null?void 0:g.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const S=((p=g==null?void 0:g.artifactPlan)==null?void 0:p.videoRecordingEnabled)??!1,k=((v=(f=g==null?void 0:g.assistant)==null?void 0:f.voice)==null?void 0:v.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,isVideoRecordingEnabled:S,isVideoEnabled:k}});const T=Date.now();try{this.call=K5.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,dailyConfig:this.dailyCallConfig});const A=Date.now()-T;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-T,$=pi(A);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:$,timestamp:new Date().toISOString()}),A}(m=this.call.iframe())==null||m.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var A;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),S&&((A=this.call)==null||A.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",A=>{var I;this.emit("error",{type:"daily-error",error:pi(A),timestamp:new Date().toISOString()}),S&&((I=this.call)==null||I.stopRecording())}),this.call.on("camera-error",A=>{this.emit("camera-error",{type:"camera-error",error:pi(A),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",A=>{this.emit("network-quality-change",A)}),this.call.on("network-connection",A=>{this.emit("network-connection",A)}),this.call.on("track-started",async A=>{var I,$,q;!A||!A.participant||(I=A.participant)!=null&&I.local||(($=A.participant)==null?void 0:$.user_name)==="Vapi Speaker"&&(A.track.kind==="video"&&this.emit("video",A.track),A.track.kind==="audio"&&await rL(A.track,A.participant.session_id),(q=this.call)==null||q.sendAppMessage("playable"))}),this.call.on("participant-joined",A=>{!A||!this.call||sL(A,this.call,S,k)}),this.call.on("participant-updated",A=>{A&&this.emit("daily-participant-updated",A.participant)}),this.call.on("participant-left",A=>{A&&nL(A.participant.session_id)});const R=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:R}}),R){const A=Date.now();await this.sleep(1e3);const I=Date.now()-A;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:I,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const O=Date.now();try{await this.call.join({url:g.webCallUrl,subscribeToTracksAutomatically:!1});const A=Date.now()-O;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-O,$=pi(A);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:$,duration:I,timestamp:new Date().toISOString()}),A}if(S){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const A=new Date().getTime(),I=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const $=Date.now()-I;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:$,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const q=(new Date().getTime()-A)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:q}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:q})})}catch($){const q=Date.now()-I,ee=pi($);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:q,timestamp:new Date().toISOString(),metadata:{error:ee.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:ee,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const D=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const A=Date.now()-D;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-D,$=pi(A);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:$,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",A=>{A&&this.handleRemoteParticipantsAudioLevel(A)}),this.call.on("app-message",A=>this.onAppMessage(A)),this.call.on("nonfatal-error",A=>{var I;(A==null?void 0:A.type)==="audio-processor-error"&&((I=this.call)==null||I.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Bd.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const M=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const A=Date.now()-M;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-M,$=pi(A);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:$,timestamp:new Date().toISOString()})}const G=Date.now()-c;return this.emit("call-start-success",{totalDuration:G,callId:(g==null?void 0:g.id)||"unknown",timestamp:new Date().toISOString()}),g}catch(x){const g=Date.now()-c,b=pi(x);return this.emit("call-start-failed",{stage:"unknown",totalDuration:g,error:b.message,errorStack:b.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!r,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:b,totalDuration:g,timestamp:new Date().toISOString(),context:{hasAssistant:!!r,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(r){if(r)try{if(r.data==="listening")return this.emit("call-start");try{const n=JSON.parse(r.data);this.emit("message",n),n&&"type"in n&&"status"in n&&n.type==="status-update"&&n.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(n){console.log("Error parsing message data: ",n)}}catch(n){console.error(n)}}handleRemoteParticipantsAudioLevel(r){const n=Object.values(r.participantsAudioLevel).reduce((i,a)=>i+a,0);this.emit("volume-level",Math.min(1,n/.15)),n>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(r){var n;(n=this.call)==null||n.sendAppMessage(JSON.stringify(r))}setMuted(r){(0,Bd.safeSetLocalAudio)(this.call,!r)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(r,n,s,i){this.send({type:"say",message:r,endCallAfterSpoken:n,interruptionsEnabled:s??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(r){return(0,Bd.safeSetInputDevicesAsync)(this.call,r)}async increaseMicLevel(r){if(!this.call)throw new Error("Call object is not available.");try{const n=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new AudioContext,i=s.createMediaStreamSource(n),a=s.createGain();a.gain.value=r,i.connect(a);const l=s.createMediaStreamDestination();a.connect(l);const[c]=l.stream.getAudioTracks();await(0,Bd.safeSetInputDevicesAsync)(this.call,{audioSource:c})}catch(n){console.error("Error adjusting microphone level:",n)}}setOutputDeviceAsync(r){var n;(n=this.call)==null||n.setOutputDeviceAsync(r)}getDailyCallObject(){return this.call}startScreenSharing(r,n){var s;(s=this.call)==null||s.startScreenShare({displayMediaOptions:r,screenVideoSendSettings:n})}stopScreenSharing(){var r;(r=this.call)==null||r.stopScreenShare()}async reconnect(r){var s,i,a,l,c,u,d,h,p,f,v,m,x;const n=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!r.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:r.id||"unknown",hasVideoRecording:!!((s=r==null?void 0:r.artifactPlan)!=null&&s.videoRecordingEnabled),voiceProvider:((a=(i=r==null?void 0:r.assistant)==null?void 0:i.voice)==null?void 0:a.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const g=((l=r==null?void 0:r.artifactPlan)==null?void 0:l.videoRecordingEnabled)??!1,b=((u=(c=r==null?void 0:r.assistant)==null?void 0:c.voice)==null?void 0:u.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??g,isVideoRecordingEnabled:g,isVideoEnabled:b}});const S=Date.now();this.call=K5.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??g,dailyConfig:this.dailyCallConfig});const k=Date.now()-S;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:k,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var A;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),g&&((A=this.call)==null||A.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",A=>{var I;this.emit("error",{type:"daily-error",error:pi(A),timestamp:new Date().toISOString()}),g&&((I=this.call)==null||I.stopRecording())}),this.call.on("camera-error",A=>{this.emit("camera-error",{type:"camera-error",error:pi(A),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",A=>{this.emit("network-quality-change",A)}),this.call.on("network-connection",A=>{this.emit("network-connection",A)}),this.call.on("track-started",async A=>{var I,$,q;!A||!A.participant||(I=A.participant)!=null&&I.local||(($=A.participant)==null?void 0:$.user_name)==="Vapi Speaker"&&(A.track.kind==="video"&&this.emit("video",A.track),A.track.kind==="audio"&&await rL(A.track,A.participant.session_id),(q=this.call)==null||q.sendAppMessage("playable"))}),this.call.on("participant-joined",A=>{!A||!this.call||sL(A,this.call,g,b)}),this.call.on("participant-updated",A=>{A&&this.emit("daily-participant-updated",A.participant)}),this.call.on("participant-left",A=>{A&&nL(A.participant.session_id)}),this.call.on("remote-participants-audio-level",A=>{A&&this.handleRemoteParticipantsAudioLevel(A)}),this.call.on("app-message",A=>this.onAppMessage(A)),this.call.on("nonfatal-error",A=>{var I;(A==null?void 0:A.type)==="audio-processor-error"&&((I=this.call)==null||I.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Bd.safeSetLocalAudio)(this.call,!0)}))});const T=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:T}}),T){const A=Date.now();await this.sleep(1e3);const I=Date.now()-A;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:I,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const R=Date.now();await this.call.join({url:r.webCallUrl,subscribeToTracksAutomatically:!1});const O=Date.now()-R;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:O,timestamp:new Date().toISOString()}),g){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const A=Date.now(),I=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const $=Date.now()-A;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:$,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const q=(new Date().getTime()-I)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:q}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:q})})}catch($){const q=Date.now()-A,ee=pi($);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:q,timestamp:new Date().toISOString(),metadata:{error:ee.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const D=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const A=Date.now()-D;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-D,$=pi(A);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const M=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const A=Date.now()-M;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const I=Date.now()-M,$=pi(A);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:$.message}})}const G=Date.now()-n;this.emit("call-start-success",{totalDuration:G,callId:(r==null?void 0:r.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(g){const b=Date.now()-n,S=pi(g);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:b,error:S.message,errorStack:S.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(r==null?void 0:r.id)||"unknown",hasVideoRecording:!!((h=r==null?void 0:r.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((f=(p=r==null?void 0:r.assistant)==null?void 0:p.voice)==null?void 0:f.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:S,totalDuration:b,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(r==null?void 0:r.id)||"unknown",hasVideoRecording:!!((v=r==null?void 0:r.artifactPlan)!=null&&v.videoRecordingEnabled),voiceProvider:((x=(m=r==null?void 0:r.assistant)==null?void 0:m.voice)==null?void 0:x.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),g}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const r={};let n=null;try{console.log("Creating temporary call object for testing..."),n=K5.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let s=null;try{s=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const a=await n.testNetworkConnectivity(s);r.networkConnectivity=a,console.log("Network connectivity test result:",a)}catch(i){r.networkConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Network connectivity test error:",i)}finally{s&&s.stop()}console.log(`
2. Testing websocket connectivity...`);try{const i=await n.testWebsocketConnectivity();r.websocketConnectivity=i,console.log("Websocket connectivity test result:",i)}catch(i){r.websocketConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Websocket connectivity test error:",i)}console.log(`
3. Testing call quality...`);try{if(typeof n.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await n.startCamera();const i=await n.testCallQuality();r.callQuality=i,console.log("Call quality test result:",i)}catch(i){console.error("Failed to start camera for call quality test:",i),r.callQuality={result:"error",error:i==null?void 0:i.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else r.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(i){r.callQuality={result:"error",error:i==null?void 0:i.toString()},console.error("Call quality test error:",i)}}catch(s){console.error("Failed to create temporary call object:",s),r.error=s==null?void 0:s.toString()}finally{if(n)try{console.log("Cleaning up temporary call object..."),await n.destroy()}catch(s){console.error("Error destroying temporary call object:",s)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(r,null,2)),r}}var fye=Iq.default=hye;const Q5=1e3,DV=()=>{const{user:e}=ci(),{toast:t}=T0(),[r,n]=w.useState(!1),[s,i]=w.useState([{role:"assistant",content:"Hi! I'm Maya, your dedicated health assistant. How can I help you today? You can ask me about appointments, reports, or check doctor availability."}]),[a,l]=w.useState(""),[c,u]=w.useState(!1),d=w.useRef(null),[h,p]=w.useState(!1),[f,v]=w.useState(!1),[m,x]=w.useState({step:"none"}),[g,b]=w.useState("en"),[S,k]=w.useState(!1),T=w.useRef(null),R=w.useCallback($=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const q=new SpeechSynthesisUtterance($),ee=window.speechSynthesis.getVoices();let ne=null;g==="hi"?ne=ee.find(te=>te.lang.includes("hi")||te.name.includes("Hindi")):g==="mr"?ne=ee.find(te=>te.lang.includes("mr")||te.name.includes("Marathi")):ne=ee.find(te=>te.name.includes("Female")||te.name.includes("Samantha")||te.name.includes("Google US English")),ne&&(q.voice=ne),q.onstart=()=>p(!0),q.onend=()=>p(!1),window.speechSynthesis.speak(q)}else t({title:"Text-to-Speech not supported",description:"Your browser doesn't support voice output.",variant:"destructive"})},[g,t]);w.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[s]),w.useEffect(()=>{const $=q=>{const ee=q.detail;n(!0);const ne={role:"assistant",content:ee.message};i(te=>[...te,ne]),ee.message&&setTimeout(()=>R(ee.message),500)};return window.addEventListener("maya-notification",$),()=>window.removeEventListener("maya-notification",$)},[R]),w.useEffect(()=>{const $=new fye("02ead3b2-c6ec-44f4-a254-2a581a956a09");return T.current=$,$.on("call-start",()=>{k(!0),p(!1),window.speechSynthesis.cancel(),t({title:"Call Started",description:"Connected to Maya Voice Assistant."})}),$.on("call-end",()=>{k(!1),t({title:"Call Ended",description:"Voice session finished."})}),$.on("error",q=>{k(!1)}),()=>{$.stop()}},[t]);const O=()=>{var $,q;S?($=T.current)==null||$.stop():(q=T.current)==null||q.start("adc24232-9015-4b7d-ab00-c3ff1619a8e6",{model:{provider:"openai",model:"gpt-4o-mini",messages:[{role:"system",content:`You are Maya, the intelligent AI receptionist for Star Hospital (Medicare).
      Context: You are talking to a patient via the hospital website.
      
      IMPORTANT: You must detect the language the user is speaking (English, Hindi, or Marathi) and respond IN THAT SAME LANGUAGE.
      - If the user speaks Hindi, reply in Hindi.
      - If the user speaks Marathi, reply in Marathi.
      - If the user speaks English, reply in English.
      Do not just translate, but adopt the persona appropriate for that language. Start in English but switch IMMEDIATELY if they speak Hindi or Marathi.

      Role:
      - Assist with booking appointments (ask for doctor name and preferred time).
      - Answer inquiries about hospital services, reports, and visiting hours.
      - Be warm, empathetic, and professional.
      
      Hospital Info:
      - Name: Star Hospital
      - Emergency Contact: 102
      - Main Line: +91-123-456-7890
      
      Important: Keep responses concise and helpful. Do not mention you are an AI unnecessarily, just help the user.`}]}})},D=()=>{const $=window.SpeechRecognition||window.webkitSpeechRecognition;if($){const q=new $;q.onstart=()=>v(!0),q.onend=()=>v(!1),q.onresult=ee=>{const ne=ee.results[0][0].transcript;l(ne)},q.start()}else t({title:"Speech Recognition not supported",description:"Your browser doesn't support voice input.",variant:"destructive"})},M=($,q)=>{const ee=$.toLowerCase(),te={en:{greeting:"Hello! I'm Maya, your Medicare assistant. How can I help you regarding your health or our hospital services today?",appointment:"I can help you book an appointment. Which doctor would you like to consult?",doctor:"We have world-class specialists. Please tell me the name of the doctor you are looking for.",report:"Your medical reports are secure with us. You can access and download them from the 'Reports' tab. Do you want me to find a specific report?",billing:"You can track all your payments and insurance claims in the 'Billing' section.",emergency:" EMERGENCY ALERT: If this is a life-threatening emergency, please call 102 or our Hotline at +91-123-456-7890 IMMEDIATELY.",default:"I'm listening. Could you please provide more details so I can assist you better?"},hi:{greeting:"!   ,                  ?",appointment:"                ?",doctor:"                 ",report:"      ",billing:" ''         ",emergency:"  :   102   ",default:"       "},mr:{greeting:"!   .      ?",appointment:"       .      ?",doctor:"    .          .",report:"    .",billing:" ''     .",emergency:"  :      .",default:"  .    ."}}[q];return ee.match(/\b(hi|hello|hey|namaste|namaskar|greetings)\b/)?te.greeting:ee.includes("appointment")||ee.includes("book")||ee.includes("schedule")?"APPOINTMENT_TRIGGER":ee.includes("doctor")||ee.includes("specialist")?te.doctor:ee.includes("report")||ee.includes("result")?te.report:ee.includes("bill")||ee.includes("payment")?te.billing:ee.includes("emergency")||ee.includes("urgent")?te.emergency:te.default},G=async $=>{try{const{data:q,error:ee}=await Ve.from("doctors").select("*").ilike("name",`%${$}%`);if(ee||!q||q.length===0)return{found:!1,message:"I couldn't find a doctor by that name. Please check the spelling or try another name."};const ne=q[0];return ne.available?{found:!0,message:`Great news! Dr. ${ne.name} is available. Your appointment has been confirmed for the next available slot.`}:{found:!0,message:`Sorry, Dr. ${ne.name} is currently unavailable/on leave. The next available slot is tomorrow at 10:00 AM. Would you like to book that?`}}catch{return{found:!1,message:"I'm having trouble connecting to the schedule database right now."}}},A=async()=>{if(!a.trim()||c)return;const $=a.trim().slice(0,Q5),q={role:"user",content:$};i(ee=>[...ee,q]),l(""),u(!0);try{let ee="";if(m.step==="doctor_name")ee=(await G($)).message,x({step:"none"});else{const ne=M($,g);ne==="APPOINTMENT_TRIGGER"?(ee=g==="en"?"Sure, I can help. Which doctor would you like to see?":g==="hi"?",           ?":" .     ?",x({step:"doctor_name"})):ee=ne}setTimeout(()=>{i(ne=>[...ne,{role:"assistant",content:ee}]),u(!1),R(ee)},800)}catch{u(!1)}},I=$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),A())};return e?o.jsxs(o.Fragment,{children:[o.jsx(ke,{onClick:()=>n(!r),className:Me("fixed bottom-6 right-6 z-50 h-16 w-16 rounded-full shadow-xl transition-all duration-300 hover:scale-110 border-4 border-white dark:border-gray-800",r?"bg-red-500 hover:bg-red-600 rotate-90":"bg-gradient-to-tr from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 animate-pulse"),children:r?o.jsx(Pm,{className:"w-8 h-8 text-white"}):o.jsxs("div",{className:"relative",children:[o.jsx(gh,{className:"w-8 h-8 text-white"}),o.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]})}),o.jsxs("div",{className:Me("fixed bottom-28 right-6 z-50 w-[380px] bg-card rounded-3xl shadow-2xl border border-border/50 overflow-hidden transition-all duration-500 origin-bottom-right backdrop-blur-xl",r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-10 pointer-events-none"),children:[o.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 px-6 py-4 flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center border-2 border-white/30 backdrop-blur-md shadow-inner relative overflow-hidden group",children:o.jsxs("div",{className:"w-full h-full flex items-center justify-center relative",children:[o.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute left-3 top-4 animate-blink"}),o.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute right-3 top-4 animate-blink"}),o.jsx("div",{className:"w-4 h-2 border-b-2 border-white rounded-full absolute bottom-3"})]})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-heading font-bold text-white text-lg",children:"MAYA AI"}),o.jsx("p",{className:"text-xs text-white/80",children:"Always here to help"})]}),o.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[o.jsxs("select",{className:"bg-white/20 text-white text-xs rounded border-none p-1 focus:ring-0 cursor-pointer",value:g,onChange:$=>b($.target.value),children:[o.jsx("option",{value:"en",className:"text-black",children:"English"}),o.jsx("option",{value:"hi",className:"text-black",children:""}),o.jsx("option",{value:"mr",className:"text-black",children:""})]}),o.jsx(ke,{size:"icon",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:()=>window.speechSynthesis.cancel(),children:o.jsx(zJ,{className:Me("w-4 h-4",h&&"animate-pulse text-yellow-300")})})]})]}),o.jsx(_p,{className:"h-[400px] p-4 bg-muted/30",ref:d,children:o.jsxs("div",{className:"space-y-4",children:[s.map(($,q)=>o.jsxs("div",{className:Me("flex gap-3",$.role==="user"?"justify-end":"justify-start"),children:[$.role==="assistant"&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-pink-500 to-purple-600 flex items-center justify-center flex-shrink-0 mt-1 shadow-md",children:o.jsx(gh,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:Me("max-w-[80%] rounded-2xl px-4 py-3 text-sm shadow-sm",$.role==="user"?"bg-primary text-primary-foreground rounded-br-none":"bg-white dark:bg-gray-800 text-foreground rounded-bl-none border border-border/50"),children:$.content}),$.role==="user"&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx(No,{className:"w-4 h-4 text-secondary-foreground"})})]},q)),c&&o.jsxs("div",{className:"flex gap-3 justify-start",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-pink-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx(gh,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl rounded-bl-none px-4 py-3 border border-border/50 shadow-sm",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce delay-0"}),o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce delay-150"}),o.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-bounce delay-300"})]})})]})]})}),o.jsx("div",{className:"px-4 py-2 bg-background flex gap-2 overflow-x-auto no-scrollbar scroll-smooth",children:["Book Appointment","View Reports","Insurance Info","Visiting Hours","Emergency Contact"].map($=>o.jsx(ke,{variant:"secondary",size:"sm",className:"whitespace-nowrap rounded-full text-xs h-7 bg-muted hover:bg-primary/10 hover:text-primary transition-colors border border-border/50",onClick:()=>l($),children:$},$))}),o.jsxs("div",{className:"p-4 bg-background border-t border-border pt-2",children:[o.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-100 rounded-lg flex items-center gap-3 text-xs text-blue-800",children:[o.jsx(za,{className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Call us directly:"}),o.jsx("p",{children:"+91-123-456-7890"})]})]}),s.length>2&&o.jsxs("a",{href:"https://wa.me/3135409338",target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full mb-3 py-2 text-xs font-medium text-emerald-600 bg-emerald-50 hover:bg-emerald-100 rounded-lg transition-colors border border-emerald-200",children:[o.jsx(za,{className:"w-3 h-3"}),"Chat with us on WhatsApp"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ke,{variant:"outline",size:"icon",onClick:D,className:Me("shrink-0 rounded-full",f&&"border-red-500 text-red-500 animate-pulse"),title:"Voice Typing",children:o.jsx(RJ,{className:"w-4 h-4"})}),o.jsx(ke,{variant:"outline",size:"icon",onClick:O,className:Me("shrink-0 rounded-full transition-all duration-300",S?"bg-red-500 text-white hover:bg-red-600 animate-pulse":"border-green-500 text-green-600 hover:bg-green-50"),title:"Start Voice Call",children:S?o.jsx(Zh,{className:"w-4 h-4"}):o.jsx(za,{className:"w-4 h-4"})}),o.jsx(ht,{value:a,onChange:$=>l($.target.value.slice(0,Q5)),onKeyDown:I,placeholder:"Type your message...",disabled:c,className:"flex-1 rounded-full px-4",maxLength:Q5}),o.jsx(ke,{onClick:A,disabled:c||!a.trim(),size:"icon",className:"shrink-0 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700",children:o.jsx(YD,{className:"w-4 h-4"})})]})]})]})]}):null},pye=Q0({provider:Gr().min(1,"Please select an insurance provider"),policy_number:Gr().min(5,"Policy number is required"),patient_name:Gr().min(2,"Patient name is required"),diagnosis:Gr().min(5,"Diagnosis is required"),claim_amount:sA.number().min(1,"Amount is required"),notes:Gr().optional()}),mye=["Star Health","HDFC Ergo","ICICI Lombard","Max Bupa","Care Health","Niva Bupa"],gye=()=>{const{toast:e}=T0(),[t,r]=w.useState(!1),n=K0({resolver:J0(pye),defaultValues:{provider:"",policy_number:"",patient_name:"",diagnosis:"",claim_amount:0,notes:""}}),s=Qr({mutationFn:async a=>{const{error:l}=await Ve.from("insurance_claims").insert({provider:a.provider,policy_number:a.policy_number,patient_name:a.patient_name,diagnosis:a.diagnosis,amount:a.claim_amount,status:"pending",notes:a.notes});if(l){if(l.code==="42P01"){await new Promise(c=>setTimeout(c,1e3));return}throw l}},onSuccess:()=>{r(!0),e({title:"Claim Submitted Successfully",description:"Your insurance claim has been received and is under review.",className:"bg-green-50 border-green-200"}),n.reset()},onError:()=>{e({title:"Submission Pending",description:"We've received your data locally. (Backend table might be missing)",variant:"default"}),r(!0)}}),i=a=>{s.mutate(a)};return t?o.jsx(jt,{className:"border-green-200 bg-green-50/50",children:o.jsxs(Tt,{className:"pt-6 flex flex-col items-center justify-center text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Sl,{className:"w-8 h-8 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Claim Applied Successfully!"}),o.jsx("p",{className:"text-green-700 max-w-xs mx-auto",children:"Check your email for the claim reference number. Our team will verify your documents within 24-48 hours."})]}),o.jsx(ke,{variant:"outline",className:"border-green-200 text-green-700 hover:bg-green-100 hover:text-green-800",onClick:()=>r(!1),children:"Submit Another Claim"})]})}):o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(I0,{className:"h-5 w-5 text-primary"}),"Apply for Cashless Insurance"]}),o.jsx(Ar,{children:"Submit your insurance details for cashless treatment approval."})]}),o.jsx(Tt,{children:o.jsx(Z0,{...n,children:o.jsxs("form",{onSubmit:n.handleSubmit(i),className:"space-y-6",children:[o.jsx(Nr,{control:n.control,name:"provider",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Insurance Provider *"}),o.jsxs(Mr,{onValueChange:a.onChange,defaultValue:a.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select Provider"})})}),o.jsx(Rr,{children:mye.map(l=>o.jsx(He,{value:l,children:l},l))})]}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Nr,{control:n.control,name:"policy_number",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Policy Number *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g. POL-123456789",...a})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:n.control,name:"patient_name",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Patient Name *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Patient Full Name",...a})}),o.jsx(kr,{})]})})]}),o.jsx(Nr,{control:n.control,name:"diagnosis",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Diagnosis / Reason for Admission *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g. Viral Fever, Surgery...",...a})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:n.control,name:"claim_amount",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Estimated Claim Amount () *"}),o.jsx(xr,{children:o.jsx(ht,{type:"number",placeholder:"50000",...a})}),o.jsx(tU,{className:"text-xs text-muted-foreground",children:"Enter the estimated cost of treatment."}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Upload Insurance Card / ID Proof"}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center bg-muted/20 hover:bg-muted/40 transition-colors cursor-pointer text-muted-foreground",children:[o.jsx(pw,{className:"w-8 h-8 mb-2"}),o.jsx("span",{className:"text-sm",children:"Click to upload (Simulation)"})]})]}),o.jsx(ke,{type:"submit",className:"w-full",disabled:s.isPending,children:s.isPending?"Submitting...":"Submit Claim Request"})]})})})]})},vye=()=>{const{user:e,signOut:t}=ci(),r=Ks(),n=Pn(),[s,i]=w.useState(!0),[a,l]=w.useState(!1),[c,u]=w.useState(!1),[d,h]=w.useState(!1),[p,f]=w.useState(),[v,m]=w.useState(""),[x,g]=w.useState(""),[b,S]=w.useState(""),[k,T]=w.useState("consultation"),[R,O]=w.useState(""),[D,M]=w.useState(""),[G,A]=w.useState(""),[I,$]=w.useState(""),[q,ee]=w.useState(""),[ne,te]=w.useState(""),[W,Z]=w.useState(""),[pe,ve]=w.useState(""),[U,_]=w.useState("idle"),[C,E]=w.useState(null),[B,F]=w.useState("");w.useEffect(()=>{if(!e)return;const me=setInterval(()=>{n.invalidateQueries({queryKey:["my-appointments"]})},3e4);return()=>clearInterval(me)},[e,n]),w.useEffect(()=>{const me=setTimeout(()=>{i(!1)},5e3);return()=>clearTimeout(me)},[]);const{data:Q=[]}=fn({queryKey:["public-departments"],queryFn:async()=>{const{data:me,error:re}=await Ve.from("departments").select("*");if(re)throw re;return me||[]}}),{data:se=[]}=fn({queryKey:["public-doctors",v],queryFn:async()=>{let me=Ve.from("doctors").select("*");v&&v!=="all"&&(me=me.eq("department_id",v));const{data:re,error:ce}=await me;if(ce)throw ce;return re||[]}}),{data:le=[]}=fn({queryKey:["my-appointments",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:me,error:re}=await Ve.from("patient_appointments").select("*, doctors(name, specialty)").eq("user_id",e.id);if(re)throw re;return me||[]},enabled:!!e}),ue=Qr({mutationFn:async()=>{if(!e||!p||!D||!G)throw new Error("Please fill in all required fields");const{error:me}=await Ve.from("patient_appointments").insert({user_id:e.id,patient_name:D,patient_phone:G,patient_email:e.email,doctor_id:x||null,department_id:v||null,preferred_date:p.toISOString(),preferred_time:b||null,appointment_type:k,notes:R||null,status:"pending"});if(me)throw me},onSuccess:()=>{qe.success("Appointment request submitted!"),l(!1),_e(),n.invalidateQueries({queryKey:["my-appointments"]});const me=new CustomEvent("maya-notification",{detail:{message:`Your appointment with ${x?"the specialist":"us"} on ${p?vn(p,"PPP"):"the requested date"} has been successfully booked and confirmed. Your allotment ID is #${Math.floor(Math.random()*1e4)}. We look forward to seeing you.`,type:"success"}});window.dispatchEvent(me)},onError:me=>{qe.error(me.message)}}),fe=Qr({mutationFn:async()=>{let me=q;if(!I||!me)throw new Error("Please provide your name and a phone number");const{error:re}=await Ve.from("callback_requests").insert({user_id:e==null?void 0:e.id,name:I,phone:me,preferred_time:W||null,reason:pe||null,status:"pending"});if(re)throw re},onSuccess:()=>{qe.success("Callback request submitted! We will call you soon."),u(!1),Ie(),setTimeout(()=>{qe.info(" Incoming Call: Medicare AI Assistant",{description:"Connecting you to our automated support line...",duration:5e3,action:{label:"Answer",onClick:()=>{qe.success("Connected! (Simulated Voice Call)"),me("Hello! This is Maya from Medicare Hospital. I received your callback request. How can I assist you today?")}}});const me=re=>{if("speechSynthesis"in window){const ce=new SpeechSynthesisUtterance(re),Ne=window.speechSynthesis.getVoices().find(Oe=>Oe.name.includes("Female")||Oe.name.includes("Samantha")||Oe.name.includes("Google US English"));Ne&&(ce.voice=Ne),window.speechSynthesis.speak(ce)}}},3e3)},onError:me=>{qe.error(me.message)}}),_e=()=>{f(void 0),m(""),g(""),S(""),T("consultation"),O(""),M(""),A("")},Ie=()=>{$(""),ee(""),te(""),Z(""),ve("")},J=async()=>{await t(),r("/")},De=me=>{switch(me){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Ye=()=>{_("locating"),navigator.geolocation?navigator.geolocation.getCurrentPosition(me=>{E({lat:me.coords.latitude,lng:me.coords.longitude}),_("success"),F(`Lat: ${me.coords.latitude.toFixed(4)}, Lng: ${me.coords.longitude.toFixed(4)}`)},me=>{console.error("Error getting location",me),_("error"),qe.error("Could not fetch location. Please enable location services.")}):(_("error"),qe.error("Geolocation is not supported by your browser."))},Ke=()=>{setTimeout(()=>{qe.success("Ambulance dispatched! It will arrive at your location shortly."),h(!1),_("idle")},1500)};return s?o.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background/95 backdrop-blur-sm animate-in fade-in duration-500",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"w-16 h-16 object-contain mb-6 animate-pulse"}),o.jsx("h1",{className:"text-4xl font-bold font-heading text-primary mb-4 text-center",children:"Welcome to Medicare Hospital"}),o.jsx("p",{className:"text-xl text-muted-foreground font-medium text-center max-w-lg",children:'"To keep you safe is our duty."'})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:"Medicare"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:["Welcome, ",(e==null?void 0:e.fullName)||(e==null?void 0:e.email)]}),o.jsxs(ke,{variant:"outline",size:"sm",onClick:J,children:[o.jsx(LC,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs(vd,{defaultValue:"dashboard",className:"space-y-6",children:[o.jsxs(Fc,{className:"grid w-full grid-cols-2 md:grid-cols-5 lg:w-auto h-auto gap-2 bg-transparent p-0",children:[o.jsxs(mn,{value:"dashboard",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(_l,{className:"w-4 h-4 mr-2"})," Dashboard"]}),o.jsxs(mn,{value:"reports",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(qa,{className:"w-4 h-4 mr-2"})," Reports"]}),o.jsxs(mn,{value:"billing",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(hw,{className:"w-4 h-4 mr-2"})," Billing"]}),o.jsxs(mn,{value:"insurance",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(I0,{className:"w-4 h-4 mr-2"})," Insurance"]})]}),o.jsxs(gn,{value:"dashboard",className:"space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(fs,{open:a,onOpenChange:l,children:[o.jsx(yl,{asChild:!0,children:o.jsx(jt,{className:"cursor-pointer hover:shadow-lg transition-shadow border-2 hover:border-primary",children:o.jsxs(Ht,{className:"text-center",children:[o.jsx(yh,{className:"h-12 w-12 text-primary mx-auto mb-2"}),o.jsx(It,{children:"Book Appointment"}),o.jsx(Ar,{children:"Schedule a visit with our doctors"})]})})}),o.jsxs(ns,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Book an Appointment"}),o.jsx(Gs,{children:"Fill in the details to request an appointment"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Your Name *"}),o.jsx(ht,{placeholder:"Enter your full name",value:D,onChange:me=>M(me.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Phone Number *"}),o.jsx(ht,{placeholder:"Enter your phone number",value:G,onChange:me=>A(me.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Department (Optional)"}),o.jsxs(Mr,{value:v,onValueChange:m,children:[o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select department"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"all",children:"All Departments"}),Q.map(me=>o.jsx(He,{value:me.id,children:me.name},me.id))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Doctor"}),o.jsxs(Mr,{value:x,onValueChange:g,children:[o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select doctor"})}),o.jsx(Rr,{children:se.map(me=>o.jsxs(He,{value:me.id,children:[me.name," - ",me.specialty]},me.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Preferred Date *"}),o.jsxs(SU,{children:[o.jsx(jU,{asChild:!0,children:o.jsxs(ke,{variant:"outline",className:Me("w-full justify-start text-left",!p&&"text-muted-foreground"),children:[o.jsx(yh,{className:"mr-2 h-4 w-4"}),p?vn(p,"PPP"):"Pick a date"]})}),o.jsx(pA,{className:"w-auto p-0",children:o.jsx(f2,{mode:"single",selected:p,onSelect:f,disabled:me=>me<new Date,initialFocus:!0})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Preferred Time"}),o.jsxs(Mr,{value:b,onValueChange:S,children:[o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select time slot"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"morning",children:"Morning (9AM - 12PM)"}),o.jsx(He,{value:"afternoon",children:"Afternoon (12PM - 5PM)"}),o.jsx(He,{value:"evening",children:"Evening (5PM - 8PM)"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Appointment Type"}),o.jsxs(Mr,{value:k,onValueChange:T,children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"consultation",children:"General Consultation"}),o.jsx(He,{value:"followup",children:"Follow-up Visit"}),o.jsx(He,{value:"checkup",children:"Health Checkup"}),o.jsx(He,{value:"specialist",children:"Specialist Consultation"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Additional Notes"}),o.jsx(Eo,{placeholder:"Any specific concerns or requirements...",value:R,onChange:me=>O(me.target.value)})]}),o.jsx(ke,{className:"w-full",onClick:()=>ue.mutate(),disabled:ue.isPending,children:ue.isPending?"Submitting...":"Book Appointment"})]})]})]}),o.jsxs(fs,{open:c,onOpenChange:u,children:[o.jsx(yl,{asChild:!0,children:o.jsx(jt,{className:"cursor-pointer hover:shadow-lg transition-shadow border-2 hover:border-green-500",children:o.jsxs(Ht,{className:"text-center",children:[o.jsx(Zh,{className:"h-12 w-12 text-green-600 mx-auto mb-2"}),o.jsx(It,{children:"Request Callback"}),o.jsx(Ar,{children:"We'll call you back at your convenience"})]})})}),o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Request a Callback"}),o.jsx(Gs,{children:"Fill in your details and we'll call you back"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Your Name *"}),o.jsx(ht,{placeholder:"Enter your full name",value:I,onChange:me=>$(me.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Phone Number"}),o.jsx(ht,{placeholder:"Enter your phone number (Optional)",value:q,onChange:me=>ee(me.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Email (Optional)"}),o.jsx(ht,{placeholder:"Enter your email",value:ne,onChange:me=>te(me.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Preferred Time"}),o.jsxs(Mr,{value:W,onValueChange:Z,children:[o.jsx(Tr,{children:o.jsx(Ir,{placeholder:"Select preferred time"})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"morning",children:"Morning (9AM - 12PM)"}),o.jsx(He,{value:"afternoon",children:"Afternoon (12PM - 5PM)"}),o.jsx(He,{value:"evening",children:"Evening (5PM - 8PM)"}),o.jsx(He,{value:"anytime",children:"Anytime"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Reason for Callback"}),o.jsx(Eo,{placeholder:"Tell us why you'd like to be contacted...",value:pe,onChange:me=>ve(me.target.value)})]}),o.jsx(ke,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>fe.mutate(),disabled:fe.isPending,children:fe.isPending?"Submitting...":"Request Callback"})]})]})]}),o.jsxs(fs,{open:d,onOpenChange:h,children:[o.jsx(yl,{asChild:!0,children:o.jsx(jt,{className:"cursor-pointer hover:shadow-lg transition-shadow border-2 hover:border-red-500 animate-pulse bg-red-50",children:o.jsxs(Ht,{className:"text-center",children:[o.jsx(JP,{className:"h-12 w-12 text-red-600 mx-auto mb-2"}),o.jsx(It,{className:"text-red-700",children:"Emergency Ambulance"}),o.jsx(Ar,{children:"Book an ambulance to your current location"})]})})}),o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsxs(ps,{className:"text-red-600 flex items-center gap-2",children:[o.jsx(JP,{className:"w-5 h-5"})," Emergency Ambulance Booking"]}),o.jsx(Gs,{children:"We need to access your location to send an ambulance immediately."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[U==="idle"&&o.jsxs(ke,{onClick:Ye,className:"w-full h-16 text-lg bg-red-600 hover:bg-red-700 animate-pulse",children:[o.jsx(Lu,{className:"w-6 h-6 mr-2"}),"Get My Location & Book"]}),U==="locating"&&o.jsxs("div",{className:"text-center space-y-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{children:"Fetching your exact location..."})]}),U==="success"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-semibold text-green-800 flex items-center gap-2",children:[o.jsx(Lu,{className:"w-4 h-4"})," Location Detected"]}),o.jsx("p",{className:"text-sm text-green-700 mt-1",children:B}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Coordinates: ",C==null?void 0:C.lat,", ",C==null?void 0:C.lng]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Emergency Details (Optional)"}),o.jsx(Eo,{placeholder:"Briefly describe the emergency..."})]})]}),U==="error"&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-red-600",children:"Could not fetch location automatically."}),o.jsx(ke,{variant:"outline",onClick:()=>_("idle"),className:"mt-2",children:"Try Again"})]})]}),U==="success"&&o.jsxs(qm,{children:[o.jsx(ke,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),o.jsx(ke,{onClick:Ke,className:"bg-red-600 hover:bg-red-700",children:"Confirm Ambulance"})]})]})]})]}),o.jsxs(jt,{className:"mb-8",children:[o.jsx(Ht,{children:o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(yh,{className:"h-5 w-5"}),"My Appointments"]})}),o.jsx(Tt,{children:le.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"You haven't booked any appointments yet. Book one above!"}):o.jsx("div",{className:"space-y-4",children:le.map(me=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:me.appointment_type}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[vn(new Date(me.preferred_date),"PPP"),me.preferred_time&&` - ${me.preferred_time}`]}),me.doctors&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Dr. ",me.doctors.name," (",me.doctors.specialty,")"]})]}),o.jsx(Wt,{className:De(me.status),children:me.status})]},me.id))})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(jt,{children:[o.jsx(Ht,{children:o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(vh,{className:"h-5 w-5"}),"About MediCare Hospital"]})}),o.jsxs(Tt,{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"MediCare Hospital is a state-of-the-art healthcare facility providing comprehensive medical services with a focus on patient-centered care."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zi,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"50+ Specialist Doctors"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vh,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"15 Medical Departments"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ya,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"24/7 Emergency Services"})]})]})]})]}),o.jsxs(jt,{children:[o.jsx(Ht,{children:o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(Lu,{className:"h-5 w-5"}),"Contact & Location"]})}),o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Lu,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Address"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"123 Healthcare Avenue, Medical District, City 12345"})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(za,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Phone"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"+1 (555) 123-4567"})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(ya,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Hours"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["OPD: Mon-Sat 9AM-8PM",o.jsx("br",{}),"Emergency: 24/7"]})]})]})]}),o.jsx("div",{className:"pt-4",children:o.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d121059.04360432657!2d73.86296739999999!3d18.5246036!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2bf2e67461101%3A0x828d43bf9d9ee343!2sPune%2C%20Maharashtra!5e0!3m2!1sen!2sin!4v1705662000000!5m2!1sen!2sin",width:"100%",height:"150",style:{border:0,borderRadius:"8px"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})]})]}),o.jsx(gn,{value:"reports",children:o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsx(It,{children:"Medical Reports"}),o.jsx(Ar,{children:"View and download your medical reports here."})]}),o.jsx(Tt,{children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[o.jsx(qa,{className:"h-12 w-12 mb-4 opacity-50"}),o.jsx("p",{children:"No reports available yet."})]})})]})}),o.jsx(gn,{value:"billing",children:o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsx(It,{children:"Billing & Payments"}),o.jsx(Ar,{children:"Manage your payments and view invoices."})]}),o.jsx(Tt,{children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[o.jsx(hw,{className:"h-12 w-12 mb-4 opacity-50"}),o.jsx("p",{children:"No billing history found."})]})})]})}),o.jsx(gn,{value:"insurance",children:o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsx(gye,{})})})]})}),o.jsx(DV,{})]})},yye=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,l]=w.useState(!1),{signIn:c}=ci(),u=Ks(),d=async h=>{if(h.preventDefault(),!e.trim()||!r.trim()){qe.error("Please fill in all fields");return}l(!0);const{user:p,error:f}=await c(e,r);if(f){l(!1),qe.error(f.message||"Failed to sign in");return}if(p){l(!1),qe.success("Welcome back!"),p.role==="cashier"?u("/staff/dashboard/cashier"):p.role==="nurse"?u("/staff/dashboard/nurse"):p.role==="doctor"?u("/staff/dashboard/doctor"):p.role==="receptionist"?u("/staff/dashboard/reception"):p.role==="admin"?u("/admin/dashboard"):p.role==="staff"?u("/dashboard"):(qe.info("You do not have staff access. Redirecting to patient portal..."),u("/patient/dashboard"));return}l(!1),qe.error("Authentication failed")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md",children:[o.jsxs(Ht,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-green-600 mb-4 justify-center",children:[o.jsx(Qh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Staff Portal"})]}),o.jsx(It,{className:"text-2xl",children:"Staff Sign In"}),o.jsx(Ar,{children:"Access the Hospital Management System"})]}),o.jsxs("form",{onSubmit:d,children:[o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your staff email",value:e,onChange:h=>t(h.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ht,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),required:!0,autoComplete:"current-password",className:"pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(Cb,{className:"h-4 w-4"}):o.jsx(Eb,{className:"h-4 w-4"})})]})]})]}),o.jsxs(kl,{className:"flex flex-col gap-4",children:[o.jsx(ke,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:a,children:a?"Signing in...":"Sign In"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Need staff access?"," ",o.jsx(Hr,{to:"/staff/register",className:"text-green-600 hover:underline",children:"Request access here"})]})]})]})]})})},xye=Em("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),E2=w.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:Me(xye({variant:t}),e),...r}));E2.displayName="Alert";const MA=w.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:Me("mb-1 font-medium leading-none tracking-tight",e),...t}));MA.displayName="AlertTitle";const A2=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Me("text-sm [&_p]:leading-relaxed",e),...t}));A2.displayName="AlertDescription";const wye=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(""),[a,l]=w.useState(""),[c,u]=w.useState("receptionist"),[d,h]=w.useState(!1),{signUp:p}=ci(),f=Ks(),v=async m=>{var S;if(m.preventDefault(),!e.trim()||!r.trim()||!s.trim()){qe.error("Please fill in all required fields");return}if(s!==a){qe.error("Passwords do not match");return}if(s.length<6){qe.error("Password must be at least 6 characters");return}h(!0);const{error:x}=await p(r,s,e);if(x){h(!1),qe.error(x.message||"Failed to register");return}const{error:g}=await Ve.auth.signInWithPassword({email:r,password:s});if(g){h(!1),qe.success("Account created! Please sign in to complete your access request."),f("/staff/login");return}const{data:{user:b}}=await Ve.auth.getUser();if(b){let k=null;try{const{error:T}=await Ve.from("staff_approval_requests").insert({user_id:b.id,email:r,full_name:e,requested_role:c});if(k=T,T&&c==="cashier"&&((S=T.message)!=null&&S.includes("invalid input value"))){console.warn("Cashier role not in DB Enum, falling back.");const{error:R}=await Ve.from("staff_approval_requests").insert({user_id:b.id,email:r,full_name:`${e} (REQUESTING CASHIER)`,requested_role:"receptionist"});k=R,R||qe.info("Request submitted. Note: Cashier role requires admin database update, handled as Receptionist temporarily.")}}catch(T){k=T}if(k){console.error("Error creating approval request:",k),h(!1),qe.error("Failed to submit access request: "+k.message);return}}h(!1),qe.success("Access request submitted! An administrator will review your request."),f("/staff/pending")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md",children:[o.jsxs(Ht,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-green-600 mb-4 justify-center",children:[o.jsx(Qh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Staff Portal"})]}),o.jsx(It,{className:"text-2xl",children:"Request Staff Access"}),o.jsx(Ar,{children:"Submit a request to access the Hospital Management System"})]}),o.jsxs("form",{onSubmit:v,children:[o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs(E2,{children:[o.jsx(OC,{className:"h-4 w-4"}),o.jsx(A2,{children:"Staff access requires administrator approval. You will be notified once your request is reviewed."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"fullName",children:"Full Name *"}),o.jsx(ht,{id:"fullName",type:"text",placeholder:"Enter your full name",value:e,onChange:m=>t(m.target.value),required:!0,autoComplete:"name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email *"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your work email",value:r,onChange:m=>n(m.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"role",children:"Requested Role *"}),o.jsxs(Mr,{value:c,onValueChange:m=>u(m),children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"doctor",children:"Doctor"}),o.jsx(He,{value:"nurse",children:"Nurse"}),o.jsx(He,{value:"receptionist",children:"Receptionist"}),o.jsx(He,{value:"cashier",children:"Cashier"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password *"}),o.jsx(ht,{id:"password",type:"password",placeholder:"Create a password (min 6 characters)",value:s,onChange:m=>i(m.target.value),required:!0,autoComplete:"new-password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"confirmPassword",children:"Confirm Password *"}),o.jsx(ht,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:a,onChange:m=>l(m.target.value),required:!0,autoComplete:"new-password"})]})]}),o.jsxs(kl,{className:"flex flex-col gap-4",children:[o.jsx(ke,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:d,children:d?"Submitting request...":"Submit Access Request"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Already have staff access?"," ",o.jsx(Hr,{to:"/staff/login",className:"text-green-600 hover:underline",children:"Sign in here"})]})]})]})]})})},bye=()=>{const{user:e,signOut:t}=ci(),r=Ks(),[n,s]=w.useState("pending"),[i,a]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!e){r("/staff/login");return}const{data:d}=await Ve.from("user_roles").select("role").eq("user_id",e.id).maybeSingle();if(d){qe.success("Your access has been approved!"),r("/");return}const{data:h}=await Ve.from("staff_approval_requests").select("status").eq("user_id",e.id).maybeSingle();s(h?h.status:"none"),a(!1)})();const u=Ve.channel("approval-status").on("postgres_changes",{event:"UPDATE",schema:"public",table:"staff_approval_requests",filter:`user_id=eq.${e==null?void 0:e.id}`},d=>{const h=d.new.status;s(h),h==="approved"?(qe.success("Your access has been approved!"),setTimeout(()=>{r("/")},2e3)):h==="rejected"&&qe.error("Your access request was rejected.")}).subscribe();return()=>{Ve.removeChannel(u)}},[e,r]);const l=async()=>{await t(),r("/")};return i?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md text-center",children:[o.jsxs(Ht,{children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(zi,{className:"h-8 w-8 text-green-600"}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Staff Portal"})]}),n==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ya,{className:"h-8 w-8 text-yellow-600"})}),o.jsx(It,{className:"text-2xl",children:"Access Request Pending"}),o.jsx(Ar,{className:"text-base",children:"Your request is being reviewed by an administrator"})]}),n==="approved"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Sl,{className:"h-8 w-8 text-green-600"})}),o.jsx(It,{className:"text-2xl",children:"Access Approved!"}),o.jsx(Ar,{className:"text-base",children:"Redirecting you to the dashboard..."})]}),n==="rejected"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(em,{className:"h-8 w-8 text-red-600"})}),o.jsx(It,{className:"text-2xl",children:"Access Denied"}),o.jsx(Ar,{className:"text-base",children:"Your access request was rejected. Please contact the administrator."})]}),n==="none"&&o.jsxs(o.Fragment,{children:[o.jsx(It,{className:"text-2xl",children:"No Access Request Found"}),o.jsx(Ar,{className:"text-base",children:"Please submit an access request to gain staff access."})]})]}),o.jsxs(Tt,{className:"space-y-4",children:[n==="pending"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(Wt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-300",children:"Pending Approval"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"You will receive a notification once your request has been reviewed. This page will automatically update when your status changes."})]}),o.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[n==="none"&&o.jsx(ke,{asChild:!0,className:"bg-green-600 hover:bg-green-700",children:o.jsx(Hr,{to:"/staff/register",children:"Submit Access Request"})}),o.jsxs(ke,{variant:"outline",onClick:l,children:[o.jsx(LC,{className:"h-4 w-4 mr-2"}),"Sign Out"]}),o.jsx(ke,{variant:"ghost",asChild:!0,children:o.jsx(Hr,{to:"/",children:"Back to Portal Selection"})})]})]})]})})},iL=()=>{const{user:e}=ci(),t=Pn(),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,l]=w.useState(null),[c,u]=w.useState(""),{data:d=[],isLoading:h}=fn({queryKey:["staff-approval-requests"],queryFn:async()=>{const{data:R,error:O}=await Ve.from("staff_approval_requests").select("*").order("created_at",{ascending:!1});if(O)throw O;return R}}),{data:p=[],isLoading:f}=fn({queryKey:["change-requests"],queryFn:async()=>{if(!e)return[];const{data:R,error:O}=await Ve.from("notifications").select("*").eq("user_id",e.id.toString()).eq("type","permission_request").order("created_at",{ascending:!1});if(O)throw O;return R},enabled:!!e}),v=Qr({mutationFn:async R=>{const{error:O}=await Ve.from("user_roles").insert({user_id:R.user_id,role:R.requested_role});if(O)throw O;const{error:D}=await Ve.from("staff_approval_requests").update({status:"approved",reviewed_by:e==null?void 0:e.id.toString(),reviewed_at:new Date().toISOString()}).eq("id",R.id);if(D)throw D},onSuccess:()=>{qe.success("Staff access approved!"),t.invalidateQueries({queryKey:["staff-approval-requests"]})},onError:R=>{qe.error(R.message||"Failed to approve request")}}),m=Qr({mutationFn:async({request:R,reason:O})=>{const{error:D}=await Ve.from("staff_approval_requests").update({status:"rejected",reviewed_by:e==null?void 0:e.id.toString(),reviewed_at:new Date().toISOString(),rejection_reason:O}).eq("id",R.id);if(D)throw D},onSuccess:()=>{qe.success("Request rejected"),i(!1),u(""),l(null),t.invalidateQueries({queryKey:["staff-approval-requests"]})},onError:R=>{qe.error(R.message||"Failed to reject request")}}),x=Qr({mutationFn:async R=>{const{error:O}=await Ve.from("notifications").delete().eq("id",R);if(O)throw O},onSuccess:()=>{qe.success("Request processed"),t.invalidateQueries({queryKey:["change-requests"]})},onError:()=>{qe.error("Failed to process request")}}),g=d.filter(R=>R.full_name.toLowerCase().includes(r.toLowerCase())||R.email.toLowerCase().includes(r.toLowerCase())),b=g.filter(R=>R.status==="pending"),S=g.filter(R=>R.status!=="pending"),k=R=>{switch(R){case"approved":return o.jsx(Wt,{className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return o.jsx(Wt,{className:"bg-red-100 text-red-800",children:"Rejected"});default:return o.jsx(Wt,{className:"bg-yellow-100 text-yellow-800",children:"Pending"})}},T=R=>{const O={admin:"bg-purple-100 text-purple-800",doctor:"bg-blue-100 text-blue-800",nurse:"bg-pink-100 text-pink-800",receptionist:"bg-gray-100 text-gray-800",cashier:"bg-emerald-100 text-emerald-800"};return o.jsx(Wt,{className:O[R]||"bg-gray-100 text-gray-800",children:R})};return o.jsx(An,{title:"Staff Approvals",subtitle:"Manage staff access and requests",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[o.jsx(I0,{className:"h-8 w-8"}),"Staff Approvals & Requests"]}),o.jsx("p",{className:"text-muted-foreground",children:"Manage access and review change requests"})]})}),o.jsxs(vd,{defaultValue:"approvals",className:"w-full space-y-6",children:[o.jsxs(Fc,{children:[o.jsx(mn,{value:"approvals",children:"Access Approvals"}),o.jsx(mn,{value:"requests",children:"Change Requests"})]}),o.jsxs(gn,{value:"approvals",className:"space-y-6",children:[o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(El,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search by name or email...",value:r,onChange:R=>n(R.target.value),className:"pl-10"})]}),o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(ya,{className:"h-5 w-5 text-yellow-600"}),"Pending Requests (",b.length,")"]}),o.jsx(Ar,{children:"Requests awaiting your approval"})]}),o.jsx(Tt,{children:h?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):b.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No pending requests"}):o.jsx("div",{className:"space-y-4",children:b.map(R=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:R.full_name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:R.email}),o.jsxs("div",{className:"flex items-center gap-2",children:[T(R.requested_role),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Requested ",vn(new Date(R.created_at),"MMM d, yyyy")]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ke,{size:"sm",onClick:()=>v.mutate(R),disabled:v.isPending,className:"bg-green-600 hover:bg-green-700",children:[o.jsx(JD,{className:"h-4 w-4 mr-1"}),"Approve"]}),o.jsxs(ke,{size:"sm",variant:"destructive",onClick:()=>{l(R),i(!0)},children:[o.jsx(qJ,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},R.id))})})]}),o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsxs(It,{children:["Processed Requests (",S.length,")"]}),o.jsx(Ar,{children:"Previously reviewed requests"})]}),o.jsx(Tt,{children:S.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No processed requests"}):o.jsx("div",{className:"space-y-4",children:S.map(R=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:R.full_name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:R.email}),o.jsxs("div",{className:"flex items-center gap-2",children:[T(R.requested_role),k(R.status)]})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:vn(new Date(R.created_at),"MMM d, yyyy")})]},R.id))})})]})]}),o.jsx(gn,{value:"requests",children:o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(XP,{className:"h-5 w-5 text-blue-600"}),"Operations Change Requests"]}),o.jsx(Ar,{children:"Requests from staff for restricted actions (e.g. Doctor Schedule Changes)"})]}),o.jsx(Tt,{children:f?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):p.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground bg-muted/20 rounded-lg",children:[o.jsx(XP,{className:"mx-auto h-12 w-12 opacity-20 mb-3"}),o.jsx("p",{children:"No active change requests."})]}):o.jsx("div",{className:"space-y-4",children:p.map(R=>o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center p-4 border rounded-lg bg-card shadow-sm",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"font-semibold text-foreground",children:R.title}),o.jsx(Wt,{variant:"outline",className:"text-xs",children:vn(new Date(R.created_at),"MMM d, h:mm a")})]}),o.jsx("p",{className:"text-sm text-foreground/80",children:R.message})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[o.jsxs(ke,{size:"sm",variant:"default",onClick:()=>x.mutate(R.id),className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700",children:[o.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Done"]}),o.jsxs(ke,{size:"sm",variant:"outline",onClick:()=>x.mutate(R.id),className:"flex-1 sm:flex-none text-muted-foreground hover:text-foreground",children:[o.jsx(em,{className:"w-4 h-4 mr-2"}),"Dismiss"]})]})]},R.id))})})]})})]}),o.jsx(fs,{open:s,onOpenChange:i,children:o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Reject Access Request"}),o.jsxs(Gs,{children:["Please provide a reason for rejecting ",a==null?void 0:a.full_name,"'s request."]})]}),o.jsx(Eo,{placeholder:"Enter rejection reason (optional)",value:c,onChange:R=>u(R.target.value)}),o.jsxs(qm,{children:[o.jsx(ke,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),o.jsx(ke,{variant:"destructive",onClick:()=>{a&&m.mutate({request:a,reason:c})},disabled:m.isPending,children:"Reject Request"})]})]})})]})})},_ye=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,l]=w.useState(!1),{signIn:c}=ci(),u=Ks(),d=async h=>{if(h.preventDefault(),!e.trim()||!r.trim()){qe.error("Please fill in all fields");return}l(!0);const{error:p}=await c(e,r);if(p){l(!1),qe.error("Invalid login credentials");return}const{data:{user:f}}=await Ve.auth.getUser();if(!f){l(!1),qe.error("Authentication failed");return}const{data:v}=await Ve.from("user_roles").select("role").eq("user_id",f.id).eq("role","admin").maybeSingle();if(l(!1),v){qe.success("Welcome, Admin!"),u("/dashboard");return}await Ve.auth.signOut(),qe.error("Access denied. Admin credentials required.")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-indigo-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md",children:[o.jsxs(Ht,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-purple-600 mb-4 justify-center",children:[o.jsx(Qh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"Admin Portal"})]}),o.jsx(It,{className:"text-2xl",children:"Administrator Login"}),o.jsx(Ar,{children:"Restricted access for system administrators only"})]}),o.jsxs("form",{onSubmit:d,children:[o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Admin Email"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter admin email",value:e,onChange:h=>t(h.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ht,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),required:!0,autoComplete:"current-password",className:"pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(Cb,{className:"h-4 w-4"}):o.jsx(Eb,{className:"h-4 w-4"})})]})]})]}),o.jsxs(kl,{className:"flex flex-col gap-4",children:[o.jsx(ke,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:a,children:a?"Signing in...":"Sign In as Admin"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Not an admin?"," ",o.jsx(Hr,{to:"/staff/login",className:"text-purple-600 hover:underline",children:"Staff Login"})]})]})]})]})})},Sye=()=>{const e=Ks(),[t,r]=w.useState(!1),[n,s]=w.useState(""),[i,a]=w.useState("normal"),[l,c]=w.useState("nurse"),[u,d]=w.useState(""),[h,p]=w.useState(null),{data:f,isLoading:v}=o2(vn(new Date,"yyyy-MM-dd")),{data:m,isLoading:x}=Wm();if(v||x)return o.jsx(An,{title:"Doctor Dashboard",subtitle:"Loading...",children:o.jsx("div",{className:"flex items-center justify-center py-24",children:o.jsx(jl,{className:"w-8 h-8 animate-spin text-primary"})})});const b=(f==null?void 0:f.filter(R=>R.status==="pending").length)||0,S=(f==null?void 0:f.length)||0,k=()=>{if(!n.trim()){qe.error("Please enter an instruction");return}qe.success("Instruction sent to staff",{description:`Sent to ${l} with ${i} priority.`}),s(""),a("normal")},T=()=>{if(!u)return;const R=m==null?void 0:m.find(O=>{var D;return O.name.toLowerCase().includes(u.toLowerCase())||((D=O.patient_id)==null?void 0:D.includes(u))});R?p({...R,visits:[{date:"2024-01-10",reason:"Fever",doctor:"Dr. Smith"},{date:"2023-12-05",reason:"General Checkup",doctor:"Dr. Smith"}],reports:[{date:"2024-01-10",name:"Blood Test",type:"lab"},{date:"2023-12-05",name:"X-Ray Chest",type:"imaging"}]}):(qe.error("Patient not found"),p(null))};return o.jsxs(An,{title:"Doctor Dashboard",subtitle:"Manage your appointments and patients.",children:[o.jsxs(vd,{defaultValue:"overview",className:"space-y-6",children:[o.jsxs(Fc,{children:[o.jsx(mn,{value:"overview",children:"Overview"}),o.jsx(mn,{value:"patients",children:"My Patients"}),o.jsx(mn,{value:"instructions",children:"Staff Instructions"}),o.jsx(mn,{value:"records",children:"Patient Records"})]}),o.jsxs(gn,{value:"overview",className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[o.jsx(ji,{title:"Today's Appointments",value:S,change:`${b} pending`,changeType:"neutral",icon:qD,iconColor:"primary"}),o.jsx(ji,{title:"My Patients",value:(f==null?void 0:f.map(R=>R.patient_id).filter((R,O,D)=>D.indexOf(R)===O).length)||0,change:"Seen today",changeType:"neutral",icon:No,iconColor:"info"}),o.jsx(ji,{title:"Pending Reports",value:0,change:"To review",changeType:"neutral",icon:qa,iconColor:"warning"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 bg-card rounded-xl card-shadow border border-border/50 animate-fade-in p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Upcoming Appointments"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:vn(new Date,"EEEE, d MMM")})]}),o.jsx("div",{className:"divide-y divide-border",children:(f==null?void 0:f.length)===0?o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No appointments scheduled for today."}):f==null?void 0:f.map(R=>{var O,D,M;return o.jsxs("div",{className:"py-4 flex items-center justify-between hover:bg-muted/50 px-2 rounded-lg transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Lo,{children:o.jsx(Mo,{className:"bg-primary/10 text-primary",children:(D=(O=R.patients)==null?void 0:O.name)==null?void 0:D.substring(0,2).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:(M=R.patients)==null?void 0:M.name}),o.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:R.type})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm text-foreground mb-1 justify-end",children:[o.jsx(ya,{className:"w-3 h-3"}),R.appointment_time]}),o.jsx(Wt,{variant:R.status==="confirmed"?"default":"outline",children:R.status})]})]},R.id)})})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 p-6 animate-fade-in",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(ke,{variant:"outline",className:"w-full justify-start h-12",onClick:()=>r(!0),children:[o.jsx(pw,{className:"mr-2 h-4 w-4"}),"Upload Medical Report"]}),o.jsxs(ke,{variant:"outline",className:"w-full justify-start h-12",children:[o.jsx(qa,{className:"mr-2 h-4 w-4"}),"Write Prescription"]})]})]})})]})]}),o.jsx(gn,{value:"patients",children:o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsx(It,{children:"My Patients"}),o.jsx(Ar,{children:"List of patients under your care or visited recently."})]}),o.jsx(Tt,{children:o.jsx("div",{className:"rounded-md border",children:o.jsxs(sy,{children:[o.jsx(iy,{children:o.jsxs($a,{children:[o.jsx(kn,{children:"Name"}),o.jsx(kn,{children:"Age/Gender"}),o.jsx(kn,{children:"Condition"}),o.jsx(kn,{children:"Last Visit"}),o.jsx(kn,{children:"Status"}),o.jsx(kn,{className:"text-right",children:"Actions"})]})}),o.jsx(ay,{children:m==null?void 0:m.slice(0,10).map(R=>o.jsxs($a,{children:[o.jsx(on,{className:"font-medium",children:R.name}),o.jsxs(on,{children:[R.age," / ",R.gender]}),o.jsx(on,{children:R.condition||"-"}),o.jsx(on,{children:"Today"}),o.jsx(on,{children:o.jsx(Wt,{variant:"outline",children:R.status})}),o.jsx(on,{className:"text-right",children:o.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>e("/patients"),children:"View"})})]},R.id))})]})})})]})}),o.jsx(gn,{value:"instructions",children:o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsx(It,{children:"Staff Instruction Center"}),o.jsx(Ar,{children:"Send instructions or tasks to nurses and receptionists."})]}),o.jsxs(Tt,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Recipient Role"}),o.jsxs(Mr,{value:l,onValueChange:c,children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"nurse",children:"Nurse Station"}),o.jsx(He,{value:"reception",children:"Reception"}),o.jsx(He,{value:"all",children:"All Staff"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Priority"}),o.jsxs(Mr,{value:i,onValueChange:a,children:[o.jsx(Tr,{children:o.jsx(Ir,{})}),o.jsxs(Rr,{children:[o.jsx(He,{value:"low",children:"Low"}),o.jsx(He,{value:"normal",children:"Normal"}),o.jsx(He,{value:"high",children:"High"}),o.jsx(He,{value:"urgent",children:"Urgent"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Instruction / Task"}),o.jsx(Eo,{placeholder:"Enter detailed instruction here...",className:"min-h-[120px]",value:n,onChange:R=>s(R.target.value)})]})]}),o.jsx(kl,{className:"flex justify-end",children:o.jsxs(ke,{onClick:k,className:"gap-2",children:[o.jsx(YD,{className:"w-4 h-4"})," Send Instruction"]})})]})}),o.jsx(gn,{value:"records",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(jt,{children:[o.jsxs(Ht,{children:[o.jsx(It,{children:"Patient Search"}),o.jsx(Ar,{children:"Search for a patient to view history and reports."})]}),o.jsx(Tt,{children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx(ht,{placeholder:"Search by name or ID...",value:u,onChange:R=>d(R.target.value),onKeyDown:R=>R.key==="Enter"&&T()}),o.jsxs(ke,{onClick:T,children:[o.jsx(El,{className:"w-4 h-4 mr-2"})," Search"]})]})})]}),h&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[o.jsxs(jt,{children:[o.jsx(Ht,{children:o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(CJ,{className:"w-5 h-5 text-primary"}),"Visit History"]})}),o.jsx(Tt,{children:o.jsx("div",{className:"space-y-4",children:h.visits.map((R,O)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:R.reason}),o.jsx("p",{className:"text-sm text-muted-foreground",children:R.doctor})]}),o.jsx(Wt,{variant:"outline",children:R.date})]},O))})})]}),o.jsxs(jt,{children:[o.jsx(Ht,{children:o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(dw,{className:"w-5 h-5 text-blue-600"}),"Medical Reports"]})}),o.jsx(Tt,{children:o.jsxs("div",{className:"space-y-4",children:[h.reports.map((R,O)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50/50 rounded-lg border border-blue-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(qa,{className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-900",children:R.name}),o.jsx("p",{className:"text-xs text-blue-700 capitalize",children:R.type})]})]}),o.jsx(ke,{variant:"ghost",size:"sm",className:"h-8 text-blue-700 hover:text-blue-900",children:"View"})]},O)),o.jsxs(ke,{variant:"outline",className:"w-full mt-2",onClick:()=>r(!0),children:[o.jsx(pw,{className:"w-4 h-4 mr-2"})," Upload New Report"]})]})})]})]})]})})]}),o.jsx(wA,{open:t,onOpenChange:r,defaultType:"lab"})]})},jye=()=>{const e=Ks(),[t,r]=w.useState(!1),[n,s]=w.useState(!1),[i,a]=w.useState(!1),{data:l,isLoading:c}=Hm(),{data:u,isLoading:d}=md(),h=(l==null?void 0:l.filter(v=>v.available).length)||0,p=(u==null?void 0:u.reduce((v,m)=>v+m.total_beds,0))||0,f=(u==null?void 0:u.reduce((v,m)=>v+m.occupied_beds,0))||0;return c||d?o.jsx(An,{title:"Reception Dashboard",subtitle:"Loading...",children:o.jsx("div",{})}):o.jsxs(An,{title:"Reception Dashboard",subtitle:"Front desk operations and patient management.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(ji,{title:"Available Doctors",value:h,change:"Available now",changeType:"positive",icon:Va,iconColor:"primary"}),o.jsx(ji,{title:"Bed Availability",value:p-f,change:`${f} occupied`,changeType:p-f<5?"negative":"neutral",icon:Ec,iconColor:"info"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:o.jsxs("div",{className:"bg-card rounded-xl border border-border/50 p-6 shadow-sm",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(ke,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>r(!0),children:[o.jsx(FC,{className:"w-6 h-6 text-primary"}),"Register Patient"]}),o.jsxs(ke,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>s(!0),children:[o.jsx(zD,{className:"w-6 h-6 text-green-600"}),"Book Appointment"]}),o.jsxs(ke,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>e("/callbacks"),children:[o.jsx(Zh,{className:"w-6 h-6 text-orange-600"}),"Callbacks"]}),o.jsxs(ke,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>e("/beds"),children:[o.jsx(Ec,{className:"w-6 h-6 text-blue-600"}),"Check Beds"]}),o.jsxs(ke,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>a(!0),children:[o.jsx(IJ,{className:"w-6 h-6 text-purple-600"}),"Upload Receipt"]})]})]})}),o.jsx(iA,{open:t,onOpenChange:r}),o.jsx(mA,{open:n,onOpenChange:s}),o.jsx(wA,{open:i,onOpenChange:a,defaultType:"bill"})]})},Nye=()=>{const e=Ks(),{data:t,isLoading:r}=md(),{data:n,isLoading:s}=Wm();if(r||s)return o.jsx(An,{title:"Nurse Dashboard",subtitle:"Loading...",children:o.jsx("div",{})});const i=(n==null?void 0:n.filter(l=>l.status==="admitted"||l.status==="critical"))||[],a=(n==null?void 0:n.filter(l=>l.status==="critical"))||[];return o.jsxs(An,{title:"Nurse Station",subtitle:"In-patient care and ward management.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(ji,{title:"Admitted Patients",value:i.length,change:"Currently in wards",changeType:"neutral",icon:Va,iconColor:"primary"}),o.jsx(ji,{title:"Critical Cases",value:a.length,change:"Need attention",changeType:a.length>0?"negative":"positive",icon:_l,iconColor:"destructive"}),o.jsx(ji,{title:"Tasks Pending",value:0,change:"Shift tasks",changeType:"neutral",icon:TC,iconColor:"warning"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-card rounded-xl border border-border/50 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Ward Occupancy"}),o.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>e("/beds"),children:"Manage Beds"})]}),o.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(l=>{const c=l.total_beds>0?l.occupied_beds/l.total_beds*100:0;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:l.name}),o.jsxs("span",{className:"text-muted-foreground",children:[l.occupied_beds,"/",l.total_beds]})]}),o.jsx(l2,{value:c,className:"h-2"})]},l.id)})})]}),o.jsxs("div",{className:"bg-card rounded-xl border border-border/50 p-6",children:[o.jsxs("h3",{className:"font-semibold text-lg mb-4 text-red-600 flex items-center gap-2",children:[o.jsx(_l,{className:"w-5 h-5"})," Critical Watchlist"]}),o.jsx("div",{className:"space-y-3",children:a.length===0?o.jsx("p",{className:"text-muted-foreground text-sm",children:"No critical patients reported."}):a.map(l=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-red-900",children:l.name}),o.jsxs("p",{className:"text-xs text-red-700",children:["Room: ",l.room||"Unassigned"]})]}),o.jsx(Wt,{variant:"destructive",children:"Critical"})]},l.id))})]})]})]})},kye=()=>{const e=Pn(),{data:t,isLoading:r}=fn({queryKey:["nurse-rounds"],queryFn:async()=>{const{data:a,error:l}=await Ve.from("nurse_rounds").select("*");if(l)throw l;return a}}),{data:n,isLoading:s}=fn({queryKey:["medical-advice"],queryFn:async()=>{const{data:a,error:l}=await Ve.from("medical_advice").select("*").order("created_at",{ascending:!1});if(l)throw l;return a}}),i=Qr({mutationFn:async a=>{const{error:l}=await Ve.from("medical_advice").update({acknowledged:!0}).eq("id",a);if(l)throw l},onSuccess:()=>{e.invalidateQueries({queryKey:["medical-advice"]}),qe.success("Instruction acknowledged")}});return r||s?o.jsx(An,{title:"Rounds & Advice",subtitle:"Syncing with station...",children:o.jsx("div",{className:"flex items-center justify-center p-20",children:o.jsx(jl,{className:"w-10 h-10 animate-spin text-primary"})})}):o.jsx(An,{title:"Rounds & Advice",subtitle:"Track doctor rounds and medical instructions.",children:o.jsxs(vd,{defaultValue:"rounds",className:"space-y-6",children:[o.jsxs(Fc,{className:"bg-muted/50 p-1",children:[o.jsx(mn,{value:"rounds",className:"data-[state=active]:bg-background",children:"Doctor Rounds"}),o.jsx(mn,{value:"advice",className:"data-[state=active]:bg-background",children:"Doctor Advice & Instructions"})]}),o.jsx(gn,{value:"rounds",className:"space-y-6",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t&&t.length>0?t.map(a=>o.jsxs(jt,{className:"hover:shadow-lg transition-all border-border/50 group",children:[o.jsxs(Ht,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-colors",children:o.jsx(No,{className:"h-5 w-5"})}),o.jsx(It,{className:"text-base",children:a.doctor_name})]}),o.jsx(Wt,{variant:"secondary",className:"font-normal",children:a.specialty})]}),o.jsx(Ar,{children:a.ward})]}),o.jsx(Tt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(ya,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-semibold text-foreground",children:["Today at ",a.round_time]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Cye,{className:"h-4 w-4"}),o.jsxs("span",{children:[a.patients_count," Patients to visit"]})]}),o.jsx(ke,{className:"w-full shadow-sm",variant:"outline",children:"View Patient List"})]})})]},a.id)):o.jsxs("div",{className:"col-span-full p-12 text-center bg-muted/20 rounded-2xl border-2 border-dashed border-border/50",children:[o.jsx(VD,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-20"}),o.jsx("p",{className:"text-muted-foreground",children:"No rounds scheduled for today."})]})})}),o.jsx(gn,{value:"advice",children:o.jsxs(jt,{className:"border-border/50 shadow-sm",children:[o.jsxs(Ht,{children:[o.jsx(It,{children:"Recent Medical Advice"}),o.jsx(Ar,{children:"Instructions left by doctors for inpatient care."})]}),o.jsx(Tt,{children:o.jsx("div",{className:"space-y-4",children:n&&n.length>0?n.map(a=>o.jsxs("div",{className:Me("flex gap-4 p-5 border rounded-xl transition-colors",a.acknowledged?"bg-muted/30 border-border/30":"bg-blue-50/30 border-blue-100 shadow-sm"),children:[o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:Me("h-10 w-10 rounded-full flex items-center justify-center shadow-inner",a.acknowledged?"bg-muted text-muted-foreground":"bg-blue-100 text-blue-700"),children:o.jsx(qa,{className:"h-5 w-5"})})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"font-bold text-foreground",children:a.patient_name}),!a.acknowledged&&o.jsx(Wt,{className:"bg-blue-500 hover:bg-blue-600 text-[10px] h-4",children:"NEW"})]}),o.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:vn(new Date(a.created_at),"MMM d, h:mm a")})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ordered by ",o.jsx("span",{className:"text-foreground font-medium",children:a.doctor_name})]}),o.jsx("div",{className:Me("mt-3 text-sm p-4 rounded-xl leading-relaxed",a.acknowledged?"bg-muted/50 text-muted-foreground":"bg-white border text-foreground"),children:a.advice}),o.jsx("div",{className:"pt-2 flex justify-end",children:a.acknowledged?o.jsxs("div",{className:"flex items-center text-xs text-green-600 font-medium bg-green-50 px-3 py-1.5 rounded-full border border-green-100",children:[o.jsx(Sl,{className:"w-3 h-3 mr-1.5"})," Acknowledged"]}):o.jsxs(ke,{size:"sm",variant:"default",className:"h-9 px-4 rounded-lg bg-green-600 hover:bg-green-700 shadow-sm",onClick:()=>i.mutate(a.id),disabled:i.isPending,children:[o.jsx(Sl,{className:"w-4 h-4 mr-2"})," Acknowledge Instruction"]})})]})]},a.id)):o.jsx("div",{className:"p-12 text-center text-muted-foreground italic",children:"No recent instructions found."})})})]})})]})})};function Cye({className:e}){return o.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}const FV=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(!1),[s,i]=w.useState(null),a=async l=>{if(l.preventDefault(),!e.trim()){qe.error("Please enter a patient name");return}n(!0),i(null);try{const{data:c,error:u}=await Ve.from("transactions").select("*").ilike("patient_name",`%${e}%`).returns();if(u)throw u;if(!c||c.length===0){qe.info("No transactions found for this patient."),n(!1);return}const d=c.reduce((h,p)=>h+Number(p.amount),0);i({total:d,count:c.length,transactions:c}),qe.success("Calculation complete!")}catch{qe.error("Failed to calculate amount")}finally{n(!1)}};return o.jsxs(jt,{className:"w-full max-w-2xl mx-auto",children:[o.jsxs(Ht,{children:[o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(yJ,{className:"h-6 w-6 text-primary"}),"AI Transaction Calculator"]}),o.jsx(Ar,{children:"Enter a patient's name to calculate their total transaction amount instantly."})]}),o.jsxs(Tt,{children:[o.jsxs("form",{onSubmit:a,className:"flex gap-4 mb-6",children:[o.jsx(ht,{placeholder:"Patient Name (e.g. John Doe)",value:e,onChange:l=>t(l.target.value),className:"flex-1"}),o.jsxs(ke,{type:"submit",disabled:r,children:[r?o.jsx(jl,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(El,{className:"h-4 w-4 mr-2"}),"Calculate"]})]}),s&&o.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-4 animate-in fade-in slide-in-from-bottom-2",children:[o.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions Found"}),o.jsx("p",{className:"text-2xl font-bold",children:s.count})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount Due"}),o.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",s.total.toFixed(2)]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold mb-2 text-sm",children:"Transaction History"}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:s.transactions.map(l=>o.jsxs("div",{className:"flex justify-between text-sm p-2 bg-background rounded border",children:[o.jsx("span",{children:l.description||"Generic Transaction"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("span",{className:"text-muted-foreground",children:new Date(l.created_at).toLocaleDateString()}),o.jsxs("span",{className:"font-medium",children:["$",Number(l.amount).toFixed(2)]})]})]},l.id))})]})]})]})]})},aL=()=>{const{data:e}=fn({queryKey:["cashier-stats"],queryFn:async()=>{const{data:t,error:r}=await Ve.from("transactions").select("amount, created_at");if(r||!t)return{total:0,today:0,count:0};const n=t.reduce((a,l)=>a+Number(l.amount||0),0),s=new Date().toISOString().split("T")[0],i=t.filter(a=>{var l;return(l=a.created_at)==null?void 0:l.startsWith(s)}).reduce((a,l)=>a+Number(l.amount||0),0);return{total:n,today:i,count:t.length}}});return o.jsxs(An,{title:"Cashier Station",subtitle:"Manage hospital finances and patient billing.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(ji,{title:"Total Revenue",value:`$${(e==null?void 0:e.total.toFixed(0))||"0"}`,change:"Lifetime",changeType:"neutral",icon:jJ,iconColor:"primary"}),o.jsx(ji,{title:"Today's Collection",value:`$${(e==null?void 0:e.today.toFixed(0))||"0"}`,change:"Daily earning",changeType:"positive",icon:DC,iconColor:"success"}),o.jsx(ji,{title:"Transactions",value:(e==null?void 0:e.count)||0,change:"Total processed",changeType:"neutral",icon:hw,iconColor:"warning"})]}),o.jsx("div",{className:"space-y-8",children:o.jsxs("section",{children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(_l,{className:"h-5 w-5"})," AI Financial Assistant"]}),o.jsx(FV,{})]})})]})},Eye=()=>o.jsx(An,{title:"AI Financial Tools",subtitle:"Advanced calculation and analysis tools for administrators.",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(FV,{})})}),Aye=()=>{const[e,t]=w.useState(""),[r,n]=w.useState({}),{data:s=[],isLoading:i}=fn({queryKey:["admin-user-directory"],queryFn:async()=>{try{const{data:v,error:m}=await Ve.rpc("get_all_users_secure");if(m)throw m;return v.map(x=>({...x,_source:"rpc"}))}catch(v){console.warn("Secure RPC failed, falling back to public tables",v);const{data:m}=await Ve.from("profiles").select("*"),{data:x}=await Ve.from("user_roles").select("*"),{data:g}=await Ve.from("staff_approval_requests").select("*"),b=new Map((x||[]).map(R=>[R.user_id,R.role])),S=new Map((m||[]).map(R=>[R.user_id,R])),k=new Map((g||[]).map(R=>[R.user_id,R])),T=new Set([...(m||[]).map(R=>R.user_id),...(x||[]).map(R=>R.user_id),...(g||[]).map(R=>R.user_id)]);return Array.from(T).map(R=>{const O=S.get(R),D=b.get(R),M=k.get(R),G=(O==null?void 0:O.full_name)||(M==null?void 0:M.full_name)||"Unknown User",A=(O==null?void 0:O.email)||(M==null?void 0:M.email)||"No Email Access";let I="patient";return D?I=D:M&&(I=`pending-${M.requested_role}`),{id:R,email:A,full_name:G,role:I,created_at:(O==null?void 0:O.created_at)||(M==null?void 0:M.created_at)||new Date().toISOString(),last_sign_in_at:null,encrypted_password:null,_source:"fallback"}})}}}),a=s.length>0&&s[0]._source==="fallback",l=v=>{navigator.clipboard.writeText(v),qe.success("User ID copied to clipboard")},c=v=>{n(m=>({...m,[v]:!m[v]}))},u=v=>{const m={admin:"bg-purple-100 text-purple-800 border-purple-200",doctor:"bg-blue-100 text-blue-800 border-blue-200",nurse:"bg-pink-100 text-pink-800 border-pink-200",cashier:"bg-emerald-100 text-emerald-800 border-emerald-200",receptionist:"bg-orange-100 text-orange-800 border-orange-200",patient:"bg-gray-100 text-gray-800 border-gray-200"};return o.jsx(Wt,{variant:"outline",className:m[v]||m.patient,children:v.toUpperCase()})},d=s.filter(v=>{var m,x,g;return((m=v.email)==null?void 0:m.toLowerCase().includes(e.toLowerCase()))||((x=v.role)==null?void 0:x.toLowerCase().includes(e.toLowerCase()))||((g=v.full_name)==null?void 0:g.toLowerCase().includes(e.toLowerCase()))}),h=d.filter(v=>v.role==="patient"),p=d.filter(v=>v.role!=="patient"),f=v=>o.jsx("div",{className:"rounded-md border",children:o.jsxs(sy,{children:[o.jsx(iy,{children:o.jsxs($a,{children:[o.jsx(kn,{children:"User / Email"}),o.jsx(kn,{children:"Role"}),o.jsx(kn,{children:"Security Status"}),o.jsx(kn,{children:"Joined On"}),o.jsx(kn,{children:"Last Login"}),o.jsx(kn,{className:"text-right",children:"Actions"})]})}),o.jsx(ay,{children:i?o.jsx($a,{children:o.jsx(on,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"Loading secure directory..."})}):v.length===0?o.jsx($a,{children:o.jsx(on,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No users found."})}):v.map(m=>o.jsxs($a,{children:[o.jsx(on,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:m.full_name||"Unknown Name"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:m.email})]})}),o.jsx(on,{children:u(m.role)}),o.jsx(on,{children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground bg-secondary/30 px-3 py-2 rounded-md w-full max-w-[250px] justify-between border border-border/50",children:[m.encrypted_password?r[m.id]?o.jsxs("div",{className:"flex flex-col w-full overflow-hidden",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground font-bold tracking-wider mb-1",children:"SECURE HASH"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("code",{className:"font-mono text-[10px] sm:text-xs break-all leading-tight text-foreground/90 bg-background/50 p-1 rounded border border-border/50 max-h-[60px] overflow-y-auto w-full",children:m.encrypted_password}),o.jsx(ke,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{navigator.clipboard.writeText(m.encrypted_password||""),qe.success("Hash copied")},title:"Copy Full Hash",children:o.jsx(vx,{className:"w-3 h-3"})})]})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(GD,{className:"w-3 h-3 text-emerald-600"}),o.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:""})]}):o.jsxs("span",{className:"text-xs text-muted-foreground italic flex items-center gap-1",children:[o.jsx(fw,{className:"w-3 h-3 text-amber-500"}),o.jsx("span",{title:"Run the SQL fix above to enable access",children:"Restricted Access"})]}),m.encrypted_password&&o.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>c(m.id),className:"hover:bg-background h-6 w-6 p-0 shrink-0 ml-1",title:r[m.id]?"Hide Hash":"View Hash",children:r[m.id]?o.jsx(Cb,{className:"w-3 h-3"}):o.jsx(Eb,{className:"w-3 h-3"})})]})}),o.jsx(on,{className:"text-muted-foreground text-sm",children:m.created_at?vn(new Date(m.created_at),"MMM d, yyyy"):"-"}),o.jsx(on,{className:"text-muted-foreground text-sm",children:m.last_sign_in_at?vn(new Date(m.last_sign_in_at),"MMM d, hh:mm a"):o.jsx("span",{className:"text-xs italic opacity-70",children:"No Data"})}),o.jsx(on,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>l(m.id),title:"Copy User ID",children:o.jsx(vx,{className:"w-4 h-4"})}),o.jsxs(fs,{children:[o.jsx(yl,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",title:"Set New Password",children:o.jsx(MC,{className:"w-4 h-4"})})}),o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Set New Password"}),o.jsxs(Gs,{children:["You are setting a new password for ",o.jsx("strong",{children:m.full_name}),".",o.jsx("br",{}),o.jsx("span",{className:"text-red-500 text-xs",children:"Note: The old password cannot be recovered."})]})]}),o.jsxs("form",{onSubmit:async x=>{x.preventDefault();const b=new FormData(x.currentTarget).get("newPassword");if(!b||b.length<6){qe.error("Password must be at least 6 characters");return}try{const{error:S}=await Ve.rpc("admin_reset_password",{target_user_id:m.id,new_password:b});if(S)throw S;qe.success(`Password updated for ${m.full_name}`),x.target.reset()}catch(S){qe.error("Failed to reset: "+(S instanceof Error?S.message:"Unknown error"))}},className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"newPassword",className:"text-sm font-medium",children:"New Password"}),o.jsx(ht,{id:"newPassword",name:"newPassword",type:"text",placeholder:"Enter new password",minLength:6,required:!0})]}),o.jsx(ke,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white",children:"Update Password"})]})]})]})]})})]},m.id))})]})});return o.jsxs(An,{title:"System Information",subtitle:"User Directory & Compliance",children:[a&&o.jsxs(E2,{variant:"destructive",className:"mb-6 bg-yellow-50 border-yellow-200 text-yellow-800",children:[o.jsx(fw,{className:"h-4 w-4 text-yellow-600"}),o.jsx(MA,{children:"Limited Data Access"}),o.jsxs(A2,{className:"flex items-center justify-between",children:[o.jsx("span",{children:'You are viewing a restricted version of the directory. "Last Login" and "Password Hash" are unavailable.'}),o.jsxs(fs,{children:[o.jsx(yl,{asChild:!0,children:o.jsxs(ke,{size:"sm",variant:"outline",className:"ml-4 h-8 bg-white border-yellow-300 hover:bg-yellow-100 text-yellow-900",children:[o.jsx(KD,{className:"w-3 h-3 mr-2"})," Fix with SQL"]})}),o.jsxs(ns,{className:"max-w-2xl",children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Enable Secure User Directory"}),o.jsx(Gs,{children:"To view sensitive checks like Password Hashes and Last Login times, you must create a Secure RPC function in Supabase."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm",children:"Run this SQL in your Supabase Dashboard SQL Editor:"}),o.jsxs("div",{className:"bg-slate-950 text-slate-50 p-4 rounded-md font-mono text-xs overflow-x-auto relative group",children:[o.jsx("pre",{children:`-- Create Secure User Access Function
CREATE OR REPLACE FUNCTION get_all_users_secure()
RETURNS TABLE (
  id uuid,
  email text,
  encrypted_password text,
  role text,
  full_name text,
  created_at timestamptz,
  last_sign_in_at timestamptz
)
SECURITY DEFINER
AS $$
DECLARE
  is_admin boolean;
BEGIN
  -- Check if admin
  SELECT EXISTS(
    SELECT 1 FROM public.user_roles
    WHERE user_id = auth.uid() AND role = 'admin'
  ) INTO is_admin;

  IF is_admin THEN
    RETURN QUERY
    SELECT 
      au.id,
      au.email::text,
      au.encrypted_password::text,
      COALESCE(ur.role::text, 'patient') as role,
      COALESCE(p.full_name, (au.raw_user_meta_data->>'full_name')::text, 'Unknown') as full_name,
      au.created_at,
      au.last_sign_in_at
    FROM auth.users au
    LEFT JOIN public.user_roles ur ON au.id = ur.user_id
    LEFT JOIN public.profiles p ON au.id = p.user_id
    ORDER BY au.created_at DESC;
  ELSE
    RAISE EXCEPTION 'Access Denied';
  END IF;
END;
$$ LANGUAGE plpgsql;`}),o.jsxs(ke,{size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>navigator.clipboard.writeText(`CREATE OR REPLACE FUNCTION get_all_users_secure()
RETURNS TABLE (
  id uuid,
  email text,
  encrypted_password text,
  role text,
  full_name text,
  created_at timestamptz,
  last_sign_in_at timestamptz
)
SECURITY DEFINER
AS $$
DECLARE
  is_admin boolean;
BEGIN
  -- Check if admin
  SELECT EXISTS(
    SELECT 1 FROM public.user_roles
    WHERE user_id = auth.uid() AND role = 'admin'
  ) INTO is_admin;

  IF is_admin THEN
    RETURN QUERY
    SELECT 
      au.id,
      au.email::text,
      au.encrypted_password::text,
      COALESCE(ur.role::text, 'patient') as role,
      COALESCE(p.full_name, (au.raw_user_meta_data->>'full_name')::text, 'Unknown') as full_name,
      au.created_at,
      au.last_sign_in_at
    FROM auth.users au
    LEFT JOIN public.user_roles ur ON au.id = ur.user_id
    LEFT JOIN public.profiles p ON au.id = p.user_id
    ORDER BY au.created_at DESC;
  ELSE
    RAISE EXCEPTION 'Access Denied';
  END IF;
END;
$$ LANGUAGE plpgsql;`),children:[o.jsx(vx,{className:"w-3 h-3"})," Copy"]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["This function uses ",o.jsx("code",{children:"SECURITY DEFINER"})," to allow admins to safely read from ",o.jsx("code",{children:"auth.users"}),"."]})]})]})]})]})]}),o.jsx(jt,{className:"mb-6 border-l-4 border-l-blue-500 shadow-sm",children:o.jsxs(Ht,{children:[o.jsxs(It,{className:"flex items-center gap-2 text-blue-700",children:[o.jsx(I0,{className:"w-5 h-5"})," Data Privacy & Security Notice"]}),o.jsxs(Ar,{children:["All user authentication data is secured.",a?" Displaying public profile data only.":" Secure Admin Access is active. You can view password hashes and login activity."]})]})}),o.jsxs(vd,{defaultValue:"all",className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs(Fc,{children:[o.jsx(mn,{value:"all",children:"All Users"}),o.jsx(mn,{value:"patients",children:"Patients"}),o.jsx(mn,{value:"staff",children:"Staff"})]}),o.jsxs("div",{className:"relative w-64",children:[o.jsx(El,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search users...",className:"pl-8 bg-background",value:e,onChange:v=>t(v.target.value)})]})]}),o.jsx(jt,{children:o.jsxs(Tt,{className:"pt-6",children:[o.jsx(gn,{value:"all",className:"mt-0",children:f(d)}),o.jsx(gn,{value:"patients",className:"mt-0",children:f(h)}),o.jsx(gn,{value:"staff",className:"mt-0",children:f(p)})]})})]})]})},Pye="modulepreload",Tye=function(e){return"/"+e},oL={},Z5=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Tye(c),c in oL)return;oL[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Pye,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Yr(e){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}var $o=Uint8Array,ha=Uint16Array,IA=Int32Array,DA=new $o([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),FA=new $o([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lL=new $o([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$V=function(e,t){for(var r=new ha(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new IA(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},BV=$V(DA,2),Rye=BV.b,uk=BV.r;Rye[28]=258,uk[258]=28;var Oye=$V(FA,0),cL=Oye.r,dk=new ha(32768);for(var _n=0;_n<32768;++_n){var au=(_n&43690)>>1|(_n&21845)<<1;au=(au&52428)>>2|(au&13107)<<2,au=(au&61680)>>4|(au&3855)<<4,dk[_n]=((au&65280)>>8|(au&255)<<8)>>1}var Cv=function(e,t,r){for(var n=e.length,s=0,i=new ha(t);s<n;++s)e[s]&&++i[e[s]-1];var a=new ha(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(r){l=new ha(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],h=a[e[s]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)l[dk[h]>>c]=u}else for(l=new ha(n),s=0;s<n;++s)e[s]&&(l[s]=dk[a[e[s]-1]++]>>15-e[s]);return l},Vh=new $o(288);for(var _n=0;_n<144;++_n)Vh[_n]=8;for(var _n=144;_n<256;++_n)Vh[_n]=9;for(var _n=256;_n<280;++_n)Vh[_n]=7;for(var _n=280;_n<288;++_n)Vh[_n]=8;var tb=new $o(32);for(var _n=0;_n<32;++_n)tb[_n]=5;var Lye=Cv(Vh,9,0),Mye=Cv(tb,5,0),UV=function(e){return(e+7)/8|0},Iye=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new $o(e.subarray(t,r))},Zl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Vg=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},X5=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:zV,l:0};if(s==1){var a=new $o(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(T,R){return T.f-R.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,n=1;n<s;++n)i[n].s>p&&(p=i[n].s);var f=new ha(p+1),v=hk(r[d-1],f,0);if(v>t){var n=0,m=0,x=v-t,g=1<<x;for(i.sort(function(R,O){return f[O.s]-f[R.s]||R.f-O.f});n<s;++n){var b=i[n].s;if(f[b]>t)m+=g-(1<<v-f[b]),f[b]=t;else break}for(m>>=x;m>0;){var S=i[n].s;f[S]<t?m-=1<<t-f[S]++-1:++n}for(;n>=0&&m;--n){var k=i[n].s;f[k]==t&&(--f[k],++m)}v=t}return{t:new $o(f),l:v}},hk=function(e,t,r){return e.s==-1?Math.max(hk(e.l,t,r+1),hk(e.r,t,r+1)):t[e.s]=r},uL=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ha(++t),n=0,s=e[0],i=1,a=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},Wg=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},qV=function(e,t,r){var n=r.length,s=UV(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},dL=function(e,t,r,n,s,i,a,l,c,u,d){Zl(t,d++,r),++s[256];for(var h=X5(s,15),p=h.t,f=h.l,v=X5(i,15),m=v.t,x=v.l,g=uL(p),b=g.c,S=g.n,k=uL(m),T=k.c,R=k.n,O=new ha(19),D=0;D<b.length;++D)++O[b[D]&31];for(var D=0;D<T.length;++D)++O[T[D]&31];for(var M=X5(O,7),G=M.t,A=M.l,I=19;I>4&&!G[lL[I-1]];--I);var $=u+5<<3,q=Wg(s,Vh)+Wg(i,tb)+a,ee=Wg(s,p)+Wg(i,m)+a+14+3*I+Wg(O,G)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&$<=q&&$<=ee)return qV(t,d,e.subarray(c,c+u));var ne,te,W,Z;if(Zl(t,d,1+(ee<q)),d+=2,ee<q){ne=Cv(p,f,0),te=p,W=Cv(m,x,0),Z=m;var pe=Cv(G,A,0);Zl(t,d,S-257),Zl(t,d+5,R-1),Zl(t,d+10,I-4),d+=14;for(var D=0;D<I;++D)Zl(t,d+3*D,G[lL[D]]);d+=3*I;for(var ve=[b,T],U=0;U<2;++U)for(var _=ve[U],D=0;D<_.length;++D){var C=_[D]&31;Zl(t,d,pe[C]),d+=G[C],C>15&&(Zl(t,d,_[D]>>5&127),d+=_[D]>>12)}}else ne=Lye,te=Vh,W=Mye,Z=tb;for(var D=0;D<l;++D){var E=n[D];if(E>255){var C=E>>18&31;Vg(t,d,ne[C+257]),d+=te[C+257],C>7&&(Zl(t,d,E>>23&31),d+=DA[C]);var B=E&31;Vg(t,d,W[B]),d+=Z[B],B>3&&(Vg(t,d,E>>5&8191),d+=FA[B])}else Vg(t,d,ne[E]),d+=te[E]}return Vg(t,d,ne[256]),d+te[256]},Dye=new IA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zV=new $o(0),Fye=function(e,t,r,n,s,i){var a=i.z||e.length,l=new $o(n+a+5*(1+Math.ceil(a/7e3))+s),c=l.subarray(n,l.length-s),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var h=Dye[t-1],p=h>>13,f=h&8191,v=(1<<r)-1,m=i.p||new ha(32768),x=i.h||new ha(v+1),g=Math.ceil(r/3),b=2*g,S=function(Ie){return(e[Ie]^e[Ie+1]<<g^e[Ie+2]<<b)&v},k=new IA(25e3),T=new ha(288),R=new ha(32),O=0,D=0,M=i.i||0,G=0,A=i.w||0,I=0;M+2<a;++M){var $=S(M),q=M&32767,ee=x[$];if(m[q]=ee,x[$]=q,A<=M){var ne=a-M;if((O>7e3||G>24576)&&(ne>423||!u)){d=dL(e,c,0,k,T,R,D,G,I,M-I,d),G=O=D=0,I=M;for(var te=0;te<286;++te)T[te]=0;for(var te=0;te<30;++te)R[te]=0}var W=2,Z=0,pe=f,ve=q-ee&32767;if(ne>2&&$==S(M-ve))for(var U=Math.min(p,ne)-1,_=Math.min(32767,M),C=Math.min(258,ne);ve<=_&&--pe&&q!=ee;){if(e[M+W]==e[M+W-ve]){for(var E=0;E<C&&e[M+E]==e[M+E-ve];++E);if(E>W){if(W=E,Z=ve,E>U)break;for(var B=Math.min(ve,E-2),F=0,te=0;te<B;++te){var Q=M-ve+te&32767,se=m[Q],le=Q-se&32767;le>F&&(F=le,ee=Q)}}}q=ee,ee=m[q],ve+=q-ee&32767}if(Z){k[G++]=268435456|uk[W]<<18|cL[Z];var ue=uk[W]&31,fe=cL[Z]&31;D+=DA[ue]+FA[fe],++T[257+ue],++R[fe],A=M+W,++O}else k[G++]=e[M],++T[e[M]]}}for(M=Math.max(M,A);M<a;++M)k[G++]=e[M],++T[e[M]];d=dL(e,c,u,k,T,R,D,G,I,M-I,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=x,i.p=m,i.i=M,i.w=A)}else{for(var M=i.w||0;M<a+u;M+=65535){var _e=M+65535;_e>=a&&(c[d/8|0]=u,_e=a),d=qV(c,d+1,e.subarray(M,_e))}i.i=a}return Iye(l,0,n+UV(d)+s)},VV=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},$ye=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new $o(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return Fye(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},WV=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Bye=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=VV();s.p(t.dictionary),WV(e,2,s.d())}};function fk(e,t){t||(t={});var r=VV();r.p(e);var n=$ye(e,t,t.dictionary?6:2,4);return Bye(n,t),WV(n,n.length-4,r.d()),n}var Uye=typeof TextDecoder<"u"&&new TextDecoder,qye=0;try{Uye.decode(zV,{stream:!0}),qye=1}catch{}function zye(e){if(Array.isArray(e))return e}function Vye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function hL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Wye(e,t){if(e){if(typeof e=="string")return hL(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hL(e,t):void 0}}function Hye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fL(e,t){return zye(e)||Vye(e,t)||Wye(e,t)||Hye()}function pL(e,t="utf8"){return new TextDecoder(t).decode(e)}const Gye=new TextEncoder;function Yye(e){return Gye.encode(e)}const Kye=1024*8,Jye=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),eS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class $A{constructor(t=Kye,r={}){nt(this,"buffer");nt(this,"byteLength");nt(this,"byteOffset");nt(this,"length");nt(this,"offset");nt(this,"lastWrittenByte");nt(this,"littleEndian");nt(this,"_data");nt(this,"_mark");nt(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let a=s;(ArrayBuffer.isView(t)||t instanceof $A)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=eS[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===Jye&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const c=new eS[r](l.buffer);return this.offset+=n,c.reverse(),c}const a=new eS[r](i);return this.offset+=n,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return pL(this.readBytes(t))}decodeText(t=1,r="utf8"){return pL(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Yye(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Qye=4,mL=0,gL=1,Zye=2;function Jm(e){let t=e.length;for(;--t>=0;)e[t]=0}const Xye=0,HV=1,e1e=2,t1e=3,r1e=258,BA=29,dy=256,p0=dy+1+BA,Ep=30,UA=19,GV=2*p0+1,rh=15,tS=16,n1e=7,qA=256,YV=16,KV=17,JV=18,pk=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Lx=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),s1e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),QV=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i1e=512,oc=new Array((p0+2)*2);Jm(oc);const Ev=new Array(Ep*2);Jm(Ev);const m0=new Array(i1e);Jm(m0);const g0=new Array(r1e-t1e+1);Jm(g0);const zA=new Array(BA);Jm(zA);const rb=new Array(Ep);Jm(rb);function rS(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let ZV,XV,eW;function nS(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const tW=e=>e<256?m0[e]:m0[256+(e>>>7)],v0=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},$i=(e,t,r)=>{e.bi_valid>tS-r?(e.bi_buf|=t<<e.bi_valid&65535,v0(e,e.bi_buf),e.bi_buf=t>>tS-e.bi_valid,e.bi_valid+=r-tS):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},ul=(e,t,r)=>{$i(e,r[t*2],r[t*2+1])},rW=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},a1e=e=>{e.bi_valid===16?(v0(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},o1e=(e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,h,p,f,v,m=0;for(p=0;p<=rh;p++)e.bl_count[p]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<GV;u++)d=e.heap[u],p=r[r[d*2+1]*2+1]+1,p>c&&(p=c,m++),r[d*2+1]=p,!(d>n)&&(e.bl_count[p]++,f=0,d>=l&&(f=a[d-l]),v=r[d*2],e.opt_len+=v*(p+f),i&&(e.static_len+=v*(s[d*2+1]+f)));if(m!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)h=e.heap[--u],!(h>n)&&(r[h*2+1]!==p&&(e.opt_len+=(p-r[h*2+1])*r[h*2],r[h*2+1]=p),d--)}},nW=(e,t,r)=>{const n=new Array(rh+1);let s=0,i,a;for(i=1;i<=rh;i++)s=s+r[i-1]<<1,n[i]=s;for(a=0;a<=t;a++){let l=e[a*2+1];l!==0&&(e[a*2]=rW(n[l]++,l))}},l1e=()=>{let e,t,r,n,s;const i=new Array(rh+1);for(r=0,n=0;n<BA-1;n++)for(zA[n]=r,e=0;e<1<<pk[n];e++)g0[r++]=n;for(g0[r-1]=n,s=0,n=0;n<16;n++)for(rb[n]=s,e=0;e<1<<Lx[n];e++)m0[s++]=n;for(s>>=7;n<Ep;n++)for(rb[n]=s<<7,e=0;e<1<<Lx[n]-7;e++)m0[256+s++]=n;for(t=0;t<=rh;t++)i[t]=0;for(e=0;e<=143;)oc[e*2+1]=8,e++,i[8]++;for(;e<=255;)oc[e*2+1]=9,e++,i[9]++;for(;e<=279;)oc[e*2+1]=7,e++,i[7]++;for(;e<=287;)oc[e*2+1]=8,e++,i[8]++;for(nW(oc,p0+1,i),e=0;e<Ep;e++)Ev[e*2+1]=5,Ev[e*2]=rW(e,5);ZV=new rS(oc,pk,dy+1,p0,rh),XV=new rS(Ev,Lx,0,Ep,rh),eW=new rS(new Array(0),s1e,0,UA,n1e)},sW=e=>{let t;for(t=0;t<p0;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Ep;t++)e.dyn_dtree[t*2]=0;for(t=0;t<UA;t++)e.bl_tree[t*2]=0;e.dyn_ltree[qA*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},iW=e=>{e.bi_valid>8?v0(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},vL=(e,t,r,n)=>{const s=t*2,i=r*2;return e[s]<e[i]||e[s]===e[i]&&n[t]<=n[r]},sS=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&vL(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!vL(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},yL=(e,t,r)=>{let n,s,i=0,a,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],n===0?ul(e,s,t):(a=g0[s],ul(e,a+dy+1,t),l=pk[a],l!==0&&(s-=zA[a],$i(e,s,l)),n--,a=tW(n),ul(e,a,r),l=Lx[a],l!==0&&(n-=rb[a],$i(e,n,l)));while(i<e.sym_next);ul(e,qA,t)},mk=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let a,l,c=-1,u;for(e.heap_len=0,e.heap_max=GV,a=0;a<i;a++)r[a*2]!==0?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,s&&(e.static_len-=n[u*2+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)sS(e,r,a);u=i;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],sS(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=l,r[u*2]=r[a*2]+r[l*2],e.depth[u]=(e.depth[a]>=e.depth[l]?e.depth[a]:e.depth[l])+1,r[a*2+1]=r[l*2+1]=u,e.heap[1]=u++,sS(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],o1e(e,t),nW(r,c,e.bl_count)},xL=(e,t,r)=>{let n,s=-1,i,a=t[0*2+1],l=0,c=7,u=4;for(a===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=t[(n+1)*2+1],!(++l<c&&i===a)&&(l<u?e.bl_tree[i*2]+=l:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[YV*2]++):l<=10?e.bl_tree[KV*2]++:e.bl_tree[JV*2]++,l=0,s=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))},wL=(e,t,r)=>{let n,s=-1,i,a=t[0*2+1],l=0,c=7,u=4;for(a===0&&(c=138,u=3),n=0;n<=r;n++)if(i=a,a=t[(n+1)*2+1],!(++l<c&&i===a)){if(l<u)do ul(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==s&&(ul(e,i,e.bl_tree),l--),ul(e,YV,e.bl_tree),$i(e,l-3,2)):l<=10?(ul(e,KV,e.bl_tree),$i(e,l-3,3)):(ul(e,JV,e.bl_tree),$i(e,l-11,7));l=0,s=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}},c1e=e=>{let t;for(xL(e,e.dyn_ltree,e.l_desc.max_code),xL(e,e.dyn_dtree,e.d_desc.max_code),mk(e,e.bl_desc),t=UA-1;t>=3&&e.bl_tree[QV[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},u1e=(e,t,r,n)=>{let s;for($i(e,t-257,5),$i(e,r-1,5),$i(e,n-4,4),s=0;s<n;s++)$i(e,e.bl_tree[QV[s]*2+1],3);wL(e,e.dyn_ltree,t-1),wL(e,e.dyn_dtree,r-1)},d1e=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return mL;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return gL;for(r=32;r<dy;r++)if(e.dyn_ltree[r*2]!==0)return gL;return mL};let bL=!1;const h1e=e=>{bL||(l1e(),bL=!0),e.l_desc=new nS(e.dyn_ltree,ZV),e.d_desc=new nS(e.dyn_dtree,XV),e.bl_desc=new nS(e.bl_tree,eW),e.bi_buf=0,e.bi_valid=0,sW(e)},aW=(e,t,r,n)=>{$i(e,(Xye<<1)+(n?1:0),3),iW(e),v0(e,r),v0(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},f1e=e=>{$i(e,HV<<1,3),ul(e,qA,oc),a1e(e)},p1e=(e,t,r,n)=>{let s,i,a=0;e.level>0?(e.strm.data_type===Zye&&(e.strm.data_type=d1e(e)),mk(e,e.l_desc),mk(e,e.d_desc),a=c1e(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&t!==-1?aW(e,t,r,n):e.strategy===Qye||i===s?($i(e,(HV<<1)+(n?1:0),3),yL(e,oc,Ev)):($i(e,(e1e<<1)+(n?1:0),3),u1e(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),yL(e,e.dyn_ltree,e.dyn_dtree)),sW(e),n&&iW(e)},m1e=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(g0[r]+dy+1)*2]++,e.dyn_dtree[tW(t)*2]++),e.sym_next===e.sym_end);var g1e=h1e,v1e=aW,y1e=p1e,x1e=m1e,w1e=f1e,b1e={_tr_init:g1e,_tr_stored_block:v1e,_tr_flush_block:y1e,_tr_tally:x1e,_tr_align:w1e};const _1e=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var y0=_1e;const S1e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},j1e=new Uint32Array(S1e()),N1e=(e,t,r,n)=>{const s=j1e,i=n+r;e^=-1;for(let a=n;a<i;a++)e=e>>>8^s[(e^t[a])&255];return e^-1};var As=N1e,wm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},hy={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:k1e,_tr_stored_block:gk,_tr_flush_block:C1e,_tr_tally:Ku,_tr_align:E1e}=b1e,{Z_NO_FLUSH:Ju,Z_PARTIAL_FLUSH:A1e,Z_FULL_FLUSH:P1e,Z_FINISH:Da,Z_BLOCK:_L,Z_OK:Ws,Z_STREAM_END:SL,Z_STREAM_ERROR:wl,Z_DATA_ERROR:T1e,Z_BUF_ERROR:iS,Z_DEFAULT_COMPRESSION:R1e,Z_FILTERED:O1e,Z_HUFFMAN_ONLY:G1,Z_RLE:L1e,Z_FIXED:M1e,Z_DEFAULT_STRATEGY:I1e,Z_UNKNOWN:D1e,Z_DEFLATED:P2}=hy,F1e=9,$1e=15,B1e=8,U1e=29,q1e=256,vk=q1e+1+U1e,z1e=30,V1e=19,W1e=2*vk+1,H1e=15,pr=3,Mu=258,bl=Mu+pr+1,G1e=32,bm=42,VA=57,yk=69,xk=73,wk=91,bk=103,nh=113,lv=666,Ni=1,Qm=2,Wh=3,Zm=4,Y1e=3,sh=(e,t)=>(e.msg=wm[t],t),jL=e=>e*2-(e>4?9:0),bu=e=>{let t=e.length;for(;--t>=0;)e[t]=0},K1e=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=s?r-s:0;while(--t);t=s,n=t;do r=e.prev[--n],e.prev[n]=r>=s?r-s:0;while(--t)};let J1e=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Qu=J1e;const sa=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},fa=(e,t)=>{C1e(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,sa(e.strm)},Lr=(e,t)=>{e.pending_buf[e.pending++]=t},Hg=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},_k=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=y0(e.adler,t,s,r):e.state.wrap===2&&(e.adler=As(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},oW=(e,t)=>{let r=e.max_chain_length,n=e.strstart,s,i,a=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-bl?e.strstart-(e.w_size-bl):0,u=e.window,d=e.w_mask,h=e.prev,p=e.strstart+Mu;let f=u[n+a-1],v=u[n+a];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(s=t,!(u[s+a]!==v||u[s+a-1]!==f||u[s]!==u[n]||u[++s]!==u[n+1])){n+=2,s++;do;while(u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&n<p);if(i=Mu-(p-n),n=p-Mu,i>a){if(e.match_start=t,a=i,i>=l)break;f=u[n+a-1],v=u[n+a]}}while((t=h[t&d])>c&&--r!==0);return a<=e.lookahead?a:e.lookahead},_m=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-bl)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),K1e(e),n+=t),e.strm.avail_in===0)break;if(r=_k(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=pr)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Qu(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Qu(e,e.ins_h,e.window[s+pr-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<pr)););}while(e.lookahead<bl&&e.strm.avail_in!==0)},lW=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,i,a=0,l=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,n>s+e.strm.avail_in&&(n=s+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==Da||t===Ju||n!==s+e.strm.avail_in)))break;a=t===Da&&n===s+e.strm.avail_in?1:0,gk(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,sa(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(_k(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?Zm:t!==Ju&&t!==Da&&e.strm.avail_in===0&&e.strstart===e.block_start?Qm:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(_k(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=r||(s||t===Da)&&t!==Ju&&e.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,a=t===Da&&e.strm.avail_in===0&&n===s?1:0,gk(e,e.block_start,n,a),e.block_start+=n,sa(e.strm)),a?Wh:Ni)},aS=(e,t)=>{let r,n;for(;;){if(e.lookahead<bl){if(_m(e),e.lookahead<bl&&t===Ju)return Ni;if(e.lookahead===0)break}if(r=0,e.lookahead>=pr&&(e.ins_h=Qu(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-bl&&(e.match_length=oW(e,r)),e.match_length>=pr)if(n=Ku(e,e.strstart-e.match_start,e.match_length-pr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=pr){e.match_length--;do e.strstart++,e.ins_h=Qu(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Qu(e,e.ins_h,e.window[e.strstart+1]);else n=Ku(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(fa(e,!1),e.strm.avail_out===0))return Ni}return e.insert=e.strstart<pr-1?e.strstart:pr-1,t===Da?(fa(e,!0),e.strm.avail_out===0?Wh:Zm):e.sym_next&&(fa(e,!1),e.strm.avail_out===0)?Ni:Qm},$f=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<bl){if(_m(e),e.lookahead<bl&&t===Ju)return Ni;if(e.lookahead===0)break}if(r=0,e.lookahead>=pr&&(e.ins_h=Qu(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=pr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-bl&&(e.match_length=oW(e,r),e.match_length<=5&&(e.strategy===O1e||e.match_length===pr&&e.strstart-e.match_start>4096)&&(e.match_length=pr-1)),e.prev_length>=pr&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-pr,n=Ku(e,e.strstart-1-e.prev_match,e.prev_length-pr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=Qu(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=pr-1,e.strstart++,n&&(fa(e,!1),e.strm.avail_out===0))return Ni}else if(e.match_available){if(n=Ku(e,0,e.window[e.strstart-1]),n&&fa(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Ni}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Ku(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<pr-1?e.strstart:pr-1,t===Da?(fa(e,!0),e.strm.avail_out===0?Wh:Zm):e.sym_next&&(fa(e,!1),e.strm.avail_out===0)?Ni:Qm},Q1e=(e,t)=>{let r,n,s,i;const a=e.window;for(;;){if(e.lookahead<=Mu){if(_m(e),e.lookahead<=Mu&&t===Ju)return Ni;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=pr&&e.strstart>0&&(s=e.strstart-1,n=a[s],n===a[++s]&&n===a[++s]&&n===a[++s])){i=e.strstart+Mu;do;while(n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&s<i);e.match_length=Mu-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=pr?(r=Ku(e,1,e.match_length-pr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Ku(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(fa(e,!1),e.strm.avail_out===0))return Ni}return e.insert=0,t===Da?(fa(e,!0),e.strm.avail_out===0?Wh:Zm):e.sym_next&&(fa(e,!1),e.strm.avail_out===0)?Ni:Qm},Z1e=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(_m(e),e.lookahead===0)){if(t===Ju)return Ni;break}if(e.match_length=0,r=Ku(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(fa(e,!1),e.strm.avail_out===0))return Ni}return e.insert=0,t===Da?(fa(e,!0),e.strm.avail_out===0?Wh:Zm):e.sym_next&&(fa(e,!1),e.strm.avail_out===0)?Ni:Qm};function Xo(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const cv=[new Xo(0,0,0,0,lW),new Xo(4,4,8,4,aS),new Xo(4,5,16,8,aS),new Xo(4,6,32,32,aS),new Xo(4,4,16,16,$f),new Xo(8,16,32,32,$f),new Xo(8,16,128,128,$f),new Xo(8,32,128,256,$f),new Xo(32,128,258,1024,$f),new Xo(32,258,258,4096,$f)],X1e=e=>{e.window_size=2*e.w_size,bu(e.head),e.max_lazy_match=cv[e.level].max_lazy,e.good_match=cv[e.level].good_length,e.nice_match=cv[e.level].nice_length,e.max_chain_length=cv[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=pr-1,e.match_available=0,e.ins_h=0};function exe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(W1e*2),this.dyn_dtree=new Uint16Array((2*z1e+1)*2),this.bl_tree=new Uint16Array((2*V1e+1)*2),bu(this.dyn_ltree),bu(this.dyn_dtree),bu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(H1e+1),this.heap=new Uint16Array(2*vk+1),bu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*vk+1),bu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const fy=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==bm&&t.status!==VA&&t.status!==yk&&t.status!==xk&&t.status!==wk&&t.status!==bk&&t.status!==nh&&t.status!==lv?1:0},cW=e=>{if(fy(e))return sh(e,wl);e.total_in=e.total_out=0,e.data_type=D1e;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?VA:t.wrap?bm:nh,e.adler=t.wrap===2?0:1,t.last_flush=-2,k1e(t),Ws},uW=e=>{const t=cW(e);return t===Ws&&X1e(e.state),t},txe=(e,t)=>fy(e)||e.state.wrap!==2?wl:(e.state.gzhead=t,Ws),dW=(e,t,r,n,s,i)=>{if(!e)return wl;let a=1;if(t===R1e&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>F1e||r!==P2||n<8||n>15||t<0||t>9||i<0||i>M1e||n===8&&a!==1)return sh(e,wl);n===8&&(n=9);const l=new exe;return e.state=l,l.strm=e,l.status=bm,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+pr-1)/pr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=r,uW(e)},rxe=(e,t)=>dW(e,t,P2,$1e,B1e,I1e),nxe=(e,t)=>{if(fy(e)||t>_L||t<0)return e?sh(e,wl):wl;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===lv&&t!==Da)return sh(e,e.avail_out===0?iS:wl);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(sa(e),e.avail_out===0)return r.last_flush=-1,Ws}else if(e.avail_in===0&&jL(t)<=jL(n)&&t!==Da)return sh(e,iS);if(r.status===lv&&e.avail_in!==0)return sh(e,iS);if(r.status===bm&&r.wrap===0&&(r.status=nh),r.status===bm){let s=P2+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=G1||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=G1e),s+=31-s%31,Hg(r,s),r.strstart!==0&&(Hg(r,e.adler>>>16),Hg(r,e.adler&65535)),e.adler=1,r.status=nh,sa(e),r.pending!==0)return r.last_flush=-1,Ws}if(r.status===VA){if(e.adler=0,Lr(r,31),Lr(r,139),Lr(r,8),r.gzhead)Lr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Lr(r,r.gzhead.time&255),Lr(r,r.gzhead.time>>8&255),Lr(r,r.gzhead.time>>16&255),Lr(r,r.gzhead.time>>24&255),Lr(r,r.level===9?2:r.strategy>=G1||r.level<2?4:0),Lr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Lr(r,r.gzhead.extra.length&255),Lr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=As(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=yk;else if(Lr(r,0),Lr(r,0),Lr(r,0),Lr(r,0),Lr(r,0),Lr(r,r.level===9?2:r.strategy>=G1||r.level<2?4:0),Lr(r,Y1e),r.status=nh,sa(e),r.pending!==0)return r.last_flush=-1,Ws}if(r.status===yk){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=l,sa(e),r.pending!==0)return r.last_flush=-1,Ws;s=0,i-=l}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=xk}if(r.status===xk){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),sa(e),r.pending!==0)return r.last_flush=-1,Ws;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,Lr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=wk}if(r.status===wk){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),sa(e),r.pending!==0)return r.last_flush=-1,Ws;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,Lr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s))}r.status=bk}if(r.status===bk){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(sa(e),r.pending!==0))return r.last_flush=-1,Ws;Lr(r,e.adler&255),Lr(r,e.adler>>8&255),e.adler=0}if(r.status=nh,sa(e),r.pending!==0)return r.last_flush=-1,Ws}if(e.avail_in!==0||r.lookahead!==0||t!==Ju&&r.status!==lv){let s=r.level===0?lW(r,t):r.strategy===G1?Z1e(r,t):r.strategy===L1e?Q1e(r,t):cv[r.level].func(r,t);if((s===Wh||s===Zm)&&(r.status=lv),s===Ni||s===Wh)return e.avail_out===0&&(r.last_flush=-1),Ws;if(s===Qm&&(t===A1e?E1e(r):t!==_L&&(gk(r,0,0,!1),t===P1e&&(bu(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),sa(e),e.avail_out===0))return r.last_flush=-1,Ws}return t!==Da?Ws:r.wrap<=0?SL:(r.wrap===2?(Lr(r,e.adler&255),Lr(r,e.adler>>8&255),Lr(r,e.adler>>16&255),Lr(r,e.adler>>24&255),Lr(r,e.total_in&255),Lr(r,e.total_in>>8&255),Lr(r,e.total_in>>16&255),Lr(r,e.total_in>>24&255)):(Hg(r,e.adler>>>16),Hg(r,e.adler&65535)),sa(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ws:SL)},sxe=e=>{if(fy(e))return wl;const t=e.state.status;return e.state=null,t===nh?sh(e,T1e):Ws},ixe=(e,t)=>{let r=t.length;if(fy(e))return wl;const n=e.state,s=n.wrap;if(s===2||s===1&&n.status!==bm||n.lookahead)return wl;if(s===1&&(e.adler=y0(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){s===0&&(bu(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const i=e.avail_in,a=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,_m(n);n.lookahead>=pr;){let c=n.strstart,u=n.lookahead-(pr-1);do n.ins_h=Qu(n,n.ins_h,n.window[c+pr-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=pr-1,_m(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=pr-1,n.match_available=0,e.next_in=a,e.input=l,e.avail_in=i,n.wrap=s,Ws};var axe=rxe,oxe=dW,lxe=uW,cxe=cW,uxe=txe,dxe=nxe,hxe=sxe,fxe=ixe,pxe="pako deflate (from Nodeca project)",Av={deflateInit:axe,deflateInit2:oxe,deflateReset:lxe,deflateResetKeep:cxe,deflateSetHeader:uxe,deflate:dxe,deflateEnd:hxe,deflateSetDictionary:fxe,deflateInfo:pxe};const mxe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var gxe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)mxe(r,n)&&(e[n]=r[n])}}return e},vxe=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let a=e[n];r.set(a,s),s+=a.length}return r},T2={assign:gxe,flattenChunks:vxe};let hW=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hW=!1}const x0=new Uint8Array(256);for(let e=0;e<256;e++)x0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;x0[254]=x0[254]=1;var yxe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,a=e.length,l=0;for(s=0;s<a;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const xxe=(e,t)=>{if(t<65534&&e.subarray&&hW)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var wxe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let a=e[n++];if(a<128){i[s++]=a;continue}let l=x0[a];if(l>4){i[s++]=65533,n+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&n<r;)a=a<<6|e[n++]&63,l--;if(l>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return xxe(i,s)},bxe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+x0[e[r]]>t?r:t},w0={string2buf:yxe,buf2string:wxe,utf8border:bxe};function _xe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fW=_xe;const pW=Object.prototype.toString,{Z_NO_FLUSH:Sxe,Z_SYNC_FLUSH:jxe,Z_FULL_FLUSH:Nxe,Z_FINISH:kxe,Z_OK:nb,Z_STREAM_END:Cxe,Z_DEFAULT_COMPRESSION:Exe,Z_DEFAULT_STRATEGY:Axe,Z_DEFLATED:Pxe}=hy;function WA(e){this.options=T2.assign({level:Exe,method:Pxe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Axe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fW,this.strm.avail_out=0;let r=Av.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==nb)throw new Error(wm[r]);if(t.header&&Av.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=w0.string2buf(t.dictionary):pW.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Av.deflateSetDictionary(this.strm,n),r!==nb)throw new Error(wm[r]);this._dict_set=!0}}WA.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?kxe:Sxe,typeof e=="string"?r.input=w0.string2buf(e):pW.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===jxe||i===Nxe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=Av.deflate(r,i),s===Cxe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=Av.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===nb;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};WA.prototype.onData=function(e){this.chunks.push(e)};WA.prototype.onEnd=function(e){e===nb&&(this.result=T2.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Y1=16209,Txe=16191;var Rxe=function(t,r){let n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,b,S,k,T,R,O,D,M,G;const A=t.state;n=t.next_in,M=t.input,s=n+(t.avail_in-5),i=t.next_out,G=t.output,a=i-(r-t.avail_out),l=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,h=A.wnext,p=A.window,f=A.hold,v=A.bits,m=A.lencode,x=A.distcode,g=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{v<15&&(f+=M[n++]<<v,v+=8,f+=M[n++]<<v,v+=8),S=m[f&g];t:for(;;){if(k=S>>>24,f>>>=k,v-=k,k=S>>>16&255,k===0)G[i++]=S&65535;else if(k&16){T=S&65535,k&=15,k&&(v<k&&(f+=M[n++]<<v,v+=8),T+=f&(1<<k)-1,f>>>=k,v-=k),v<15&&(f+=M[n++]<<v,v+=8,f+=M[n++]<<v,v+=8),S=x[f&b];r:for(;;){if(k=S>>>24,f>>>=k,v-=k,k=S>>>16&255,k&16){if(R=S&65535,k&=15,v<k&&(f+=M[n++]<<v,v+=8,v<k&&(f+=M[n++]<<v,v+=8)),R+=f&(1<<k)-1,R>c){t.msg="invalid distance too far back",A.mode=Y1;break e}if(f>>>=k,v-=k,k=i-a,R>k){if(k=R-k,k>d&&A.sane){t.msg="invalid distance too far back",A.mode=Y1;break e}if(O=0,D=p,h===0){if(O+=u-k,k<T){T-=k;do G[i++]=p[O++];while(--k);O=i-R,D=G}}else if(h<k){if(O+=u+h-k,k-=h,k<T){T-=k;do G[i++]=p[O++];while(--k);if(O=0,h<T){k=h,T-=k;do G[i++]=p[O++];while(--k);O=i-R,D=G}}}else if(O+=h-k,k<T){T-=k;do G[i++]=p[O++];while(--k);O=i-R,D=G}for(;T>2;)G[i++]=D[O++],G[i++]=D[O++],G[i++]=D[O++],T-=3;T&&(G[i++]=D[O++],T>1&&(G[i++]=D[O++]))}else{O=i-R;do G[i++]=G[O++],G[i++]=G[O++],G[i++]=G[O++],T-=3;while(T>2);T&&(G[i++]=G[O++],T>1&&(G[i++]=G[O++]))}}else if(k&64){t.msg="invalid distance code",A.mode=Y1;break e}else{S=x[(S&65535)+(f&(1<<k)-1)];continue r}break}}else if(k&64)if(k&32){A.mode=Txe;break e}else{t.msg="invalid literal/length code",A.mode=Y1;break e}else{S=m[(S&65535)+(f&(1<<k)-1)];continue t}break}}while(n<s&&i<l);T=v>>3,n-=T,v-=T<<3,f&=(1<<v)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<l?257+(l-i):257-(i-l),A.hold=f,A.bits=v};const Bf=15,NL=852,kL=592,CL=0,oS=1,EL=2,Oxe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Lxe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Mxe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ixe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Dxe=(e,t,r,n,s,i,a,l)=>{const c=l.bits;let u=0,d=0,h=0,p=0,f=0,v=0,m=0,x=0,g=0,b=0,S,k,T,R,O,D=null,M;const G=new Uint16Array(Bf+1),A=new Uint16Array(Bf+1);let I=null,$,q,ee;for(u=0;u<=Bf;u++)G[u]=0;for(d=0;d<n;d++)G[t[r+d]]++;for(f=c,p=Bf;p>=1&&G[p]===0;p--);if(f>p&&(f=p),p===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&G[h]===0;h++);for(f<h&&(f=h),x=1,u=1;u<=Bf;u++)if(x<<=1,x-=G[u],x<0)return-1;if(x>0&&(e===CL||p!==1))return-1;for(A[1]=0,u=1;u<Bf;u++)A[u+1]=A[u]+G[u];for(d=0;d<n;d++)t[r+d]!==0&&(a[A[t[r+d]]++]=d);if(e===CL?(D=I=a,M=20):e===oS?(D=Oxe,I=Lxe,M=257):(D=Mxe,I=Ixe,M=0),b=0,d=0,u=h,O=i,v=f,m=0,T=-1,g=1<<f,R=g-1,e===oS&&g>NL||e===EL&&g>kL)return 1;for(;;){$=u-m,a[d]+1<M?(q=0,ee=a[d]):a[d]>=M?(q=I[a[d]-M],ee=D[a[d]-M]):(q=96,ee=0),S=1<<u-m,k=1<<v,h=k;do k-=S,s[O+(b>>m)+k]=$<<24|q<<16|ee|0;while(k!==0);for(S=1<<u-1;b&S;)S>>=1;if(S!==0?(b&=S-1,b+=S):b=0,d++,--G[u]===0){if(u===p)break;u=t[r+a[d]]}if(u>f&&(b&R)!==T){for(m===0&&(m=f),O+=h,v=u-m,x=1<<v;v+m<p&&(x-=G[v+m],!(x<=0));)v++,x<<=1;if(g+=1<<v,e===oS&&g>NL||e===EL&&g>kL)return 1;T=b&R,s[T]=f<<24|v<<16|O-i|0}}return b!==0&&(s[O+b]=u-m<<24|64<<16|0),l.bits=f,0};var Pv=Dxe;const Fxe=0,mW=1,gW=2,{Z_FINISH:AL,Z_BLOCK:$xe,Z_TREES:K1,Z_OK:Hh,Z_STREAM_END:Bxe,Z_NEED_DICT:Uxe,Z_STREAM_ERROR:Qa,Z_DATA_ERROR:vW,Z_MEM_ERROR:yW,Z_BUF_ERROR:qxe,Z_DEFLATED:PL}=hy,R2=16180,TL=16181,RL=16182,OL=16183,LL=16184,ML=16185,IL=16186,DL=16187,FL=16188,$L=16189,sb=16190,Xl=16191,lS=16192,BL=16193,cS=16194,UL=16195,qL=16196,zL=16197,VL=16198,J1=16199,Q1=16200,WL=16201,HL=16202,GL=16203,YL=16204,KL=16205,uS=16206,JL=16207,QL=16208,Nn=16209,xW=16210,wW=16211,zxe=852,Vxe=592,Wxe=15,Hxe=Wxe,ZL=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Gxe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const df=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<R2||t.mode>wW?1:0},bW=e=>{if(df(e))return Qa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=R2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(zxe),t.distcode=t.distdyn=new Int32Array(Vxe),t.sane=1,t.back=-1,Hh},_W=e=>{if(df(e))return Qa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,bW(e)},SW=(e,t)=>{let r;if(df(e))return Qa;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Qa:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,_W(e))},jW=(e,t)=>{if(!e)return Qa;const r=new Gxe;e.state=r,r.strm=e,r.window=null,r.mode=R2;const n=SW(e,t);return n!==Hh&&(e.state=null),n},Yxe=e=>jW(e,Hxe);let XL=!0,dS,hS;const Kxe=e=>{if(XL){dS=new Int32Array(512),hS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Pv(mW,e.lens,0,288,dS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Pv(gW,e.lens,0,32,hS,0,e.work,{bits:5}),XL=!1}e.lencode=dS,e.lenbits=9,e.distcode=hS,e.distbits=5},NW=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},Jxe=(e,t)=>{let r,n,s,i,a,l,c,u,d,h,p,f,v,m,x=0,g,b,S,k,T,R,O,D;const M=new Uint8Array(4);let G,A;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(df(e)||!e.output||!e.input&&e.avail_in!==0)return Qa;r=e.state,r.mode===Xl&&(r.mode=lS),a=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,h=l,p=c,D=Hh;e:for(;;)switch(r.mode){case R2:if(r.wrap===0){r.mode=lS;break}for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,M[0]=u&255,M[1]=u>>>8&255,r.check=As(r.check,M,2,0),u=0,d=0,r.mode=TL;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Nn;break}if((u&15)!==PL){e.msg="unknown compression method",r.mode=Nn;break}if(u>>>=4,d-=4,O=(u&15)+8,r.wbits===0&&(r.wbits=O),O>15||O>r.wbits){e.msg="invalid window size",r.mode=Nn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?$L:Xl,u=0,d=0;break;case TL:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==PL){e.msg="unknown compression method",r.mode=Nn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Nn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,r.check=As(r.check,M,2,0)),u=0,d=0,r.mode=RL;case RL:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,M[2]=u>>>16&255,M[3]=u>>>24&255,r.check=As(r.check,M,4,0)),u=0,d=0,r.mode=OL;case OL:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,r.check=As(r.check,M,2,0)),u=0,d=0,r.mode=LL;case LL:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,r.check=As(r.check,M,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=ML;case ML:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+f),O)),r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,f,i)),l-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=IL;case IL:if(r.flags&2048){if(l===0)break e;f=0;do O=n[i+f++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O));while(O&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,f,i)),l-=f,i+=f,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=DL;case DL:if(r.flags&4096){if(l===0)break e;f=0;do O=n[i+f++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O));while(O&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,f,i)),l-=f,i+=f,O)break e}else r.head&&(r.head.comment=null);r.mode=FL;case FL:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Nn;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Xl;break;case $L:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}e.adler=r.check=ZL(u),u=0,d=0,r.mode=sb;case sb:if(r.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,Uxe;e.adler=r.check=1,r.mode=Xl;case Xl:if(t===$xe||t===K1)break e;case lS:if(r.last){u>>>=d&7,d-=d&7,r.mode=uS;break}for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=BL;break;case 1:if(Kxe(r),r.mode=J1,t===K1){u>>>=2,d-=2;break e}break;case 2:r.mode=qL;break;case 3:e.msg="invalid block type",r.mode=Nn}u>>>=2,d-=2;break;case BL:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Nn;break}if(r.length=u&65535,u=0,d=0,r.mode=cS,t===K1)break e;case cS:r.mode=UL;case UL:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;s.set(n.subarray(i,i+f),a),l-=f,i+=f,c-=f,a+=f,r.length-=f;break}r.mode=Xl;break;case qL:for(;d<14;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Nn;break}r.have=0,r.mode=zL;case zL:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.lens[I[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},D=Pv(Fxe,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,D){e.msg="invalid code lengths set",r.mode=Nn;break}r.have=0,r.mode=VL;case VL:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[u&(1<<r.lenbits)-1],g=x>>>24,b=x>>>16&255,S=x&65535,!(g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(S<16)u>>>=g,d-=g,r.lens[r.have++]=S;else{if(S===16){for(A=g+2;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(u>>>=g,d-=g,r.have===0){e.msg="invalid bit length repeat",r.mode=Nn;break}O=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(S===17){for(A=g+3;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=g,d-=g,O=0,f=3+(u&7),u>>>=3,d-=3}else{for(A=g+7;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=g,d-=g,O=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Nn;break}for(;f--;)r.lens[r.have++]=O}}if(r.mode===Nn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Nn;break}if(r.lenbits=9,G={bits:r.lenbits},D=Pv(mW,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,D){e.msg="invalid literal/lengths set",r.mode=Nn;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},D=Pv(gW,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,D){e.msg="invalid distances set",r.mode=Nn;break}if(r.mode=J1,t===K1)break e;case J1:r.mode=Q1;case Q1:if(l>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,Rxe(e,p),a=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===Xl&&(r.back=-1);break}for(r.back=0;x=r.lencode[u&(1<<r.lenbits)-1],g=x>>>24,b=x>>>16&255,S=x&65535,!(g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(b&&!(b&240)){for(k=g,T=b,R=S;x=r.lencode[R+((u&(1<<k+T)-1)>>k)],g=x>>>24,b=x>>>16&255,S=x&65535,!(k+g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=k,d-=k,r.back+=k}if(u>>>=g,d-=g,r.back+=g,r.length=S,b===0){r.mode=KL;break}if(b&32){r.back=-1,r.mode=Xl;break}if(b&64){e.msg="invalid literal/length code",r.mode=Nn;break}r.extra=b&15,r.mode=WL;case WL:if(r.extra){for(A=r.extra;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=HL;case HL:for(;x=r.distcode[u&(1<<r.distbits)-1],g=x>>>24,b=x>>>16&255,S=x&65535,!(g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(!(b&240)){for(k=g,T=b,R=S;x=r.distcode[R+((u&(1<<k+T)-1)>>k)],g=x>>>24,b=x>>>16&255,S=x&65535,!(k+g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=k,d-=k,r.back+=k}if(u>>>=g,d-=g,r.back+=g,b&64){e.msg="invalid distance code",r.mode=Nn;break}r.offset=S,r.extra=b&15,r.mode=GL;case GL:if(r.extra){for(A=r.extra;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Nn;break}r.mode=YL;case YL:if(c===0)break e;if(f=p-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Nn;break}f>r.wnext?(f-=r.wnext,v=r.wsize-f):v=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=s,v=a-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do s[a++]=m[v++];while(--f);r.length===0&&(r.mode=Q1);break;case KL:if(c===0)break e;s[a++]=r.length,c--,r.mode=Q1;break;case uS:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[i++]<<d,d+=8}if(p-=c,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?As(r.check,s,p,a-p):y0(r.check,s,p,a-p)),p=c,r.wrap&4&&(r.flags?u:ZL(u))!==r.check){e.msg="incorrect data check",r.mode=Nn;break}u=0,d=0}r.mode=JL;case JL:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Nn;break}u=0,d=0}r.mode=QL;case QL:D=Bxe;break e;case Nn:D=vW;break e;case xW:return yW;case wW:default:return Qa}return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||p!==e.avail_out&&r.mode<Nn&&(r.mode<uS||t!==AL))&&NW(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?As(r.check,s,p,e.next_out-p):y0(r.check,s,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Xl?128:0)+(r.mode===J1||r.mode===cS?256:0),(h===0&&p===0||t===AL)&&D===Hh&&(D=qxe),D},Qxe=e=>{if(df(e))return Qa;let t=e.state;return t.window&&(t.window=null),e.state=null,Hh},Zxe=(e,t)=>{if(df(e))return Qa;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Hh):Qa},Xxe=(e,t)=>{const r=t.length;let n,s,i;return df(e)||(n=e.state,n.wrap!==0&&n.mode!==sb)?Qa:n.mode===sb&&(s=1,s=y0(s,t,r,0),s!==n.check)?vW:(i=NW(e,t,r,r),i?(n.mode=xW,yW):(n.havedict=1,Hh))};var ewe=_W,twe=SW,rwe=bW,nwe=Yxe,swe=jW,iwe=Jxe,awe=Qxe,owe=Zxe,lwe=Xxe,cwe="pako inflate (from Nodeca project)",lc={inflateReset:ewe,inflateReset2:twe,inflateResetKeep:rwe,inflateInit:nwe,inflateInit2:swe,inflate:iwe,inflateEnd:awe,inflateGetHeader:owe,inflateSetDictionary:lwe,inflateInfo:cwe};function uwe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var dwe=uwe;const kW=Object.prototype.toString,{Z_NO_FLUSH:hwe,Z_FINISH:fwe,Z_OK:b0,Z_STREAM_END:fS,Z_NEED_DICT:pS,Z_STREAM_ERROR:pwe,Z_DATA_ERROR:eM,Z_MEM_ERROR:mwe}=hy;function py(e){this.options=T2.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fW,this.strm.avail_out=0;let r=lc.inflateInit2(this.strm,t.windowBits);if(r!==b0)throw new Error(wm[r]);if(this.header=new dwe,lc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=w0.string2buf(t.dictionary):kW.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=lc.inflateSetDictionary(this.strm,t.dictionary),r!==b0)))throw new Error(wm[r])}py.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,l;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?fwe:hwe,kW.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=lc.inflate(r,a),i===pS&&s&&(i=lc.inflateSetDictionary(r,s),i===b0?i=lc.inflate(r,a):i===eM&&(i=pS));r.avail_in>0&&i===fS&&r.state.wrap>0&&e[r.next_in]!==0;)lc.inflateReset(r),i=lc.inflate(r,a);switch(i){case pwe:case eM:case pS:case mwe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===fS))if(this.options.to==="string"){let c=w0.utf8border(r.output,r.next_out),u=r.next_out-c,d=w0.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===b0&&l===0)){if(i===fS)return i=lc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};py.prototype.onData=function(e){this.chunks.push(e)};py.prototype.onEnd=function(e){e===b0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T2.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function HA(e,t){const r=new py(t);if(r.push(e),r.err)throw r.msg||wm[r.err];return r.result}function gwe(e,t){return t=t||{},t.raw=!0,HA(e,t)}var vwe=py,ywe=HA,xwe=gwe,wwe=HA,bwe=hy,_we={Inflate:vwe,inflate:ywe,inflateRaw:xwe,ungzip:wwe,constants:bwe};const{Inflate:Swe,inflate:jwe,inflateRaw:z2e,ungzip:V2e}=_we;var tM=Swe,Nwe=jwe;const CW=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;CW[e]=t}const rM=4294967295;function kwe(e,t,r){let n=e;for(let s=0;s<r;s++)n=CW[(n^t[s])&255]^n>>>8;return n}function Cwe(e,t){return(kwe(rM,e,t)^rM)>>>0}function nM(e,t,r){const n=e.readUint32(),s=Cwe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function EW(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function AW(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function PW(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function TW(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function RW(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+Ewe(t[i-s],r[i],r[i-s])&255}}function Ewe(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),a=Math.abs(n-r);return s<=i&&s<=a?e:i<=a?t:r}function Awe(e,t,r,n,s,i){switch(e){case 0:EW(t,r,s);break;case 1:AW(t,r,s,i);break;case 2:PW(t,r,n,s);break;case 3:TW(t,r,n,s,i);break;case 4:RW(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Pwe=new Uint16Array([255]),Twe=new Uint8Array(Pwe.buffer),Rwe=Twe[0]===255;function Owe(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const h=a[d],p=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(p<=0||f<=0)continue;const v=p*l,m=new Uint8Array(v);for(let x=0;x<f;x++){const g=t[u++],b=t.subarray(u,u+v);u+=v;const S=new Uint8Array(v);Awe(g,b,S,m,v,l),m.set(S);for(let k=0;k<p;k++){const T=h.x+k*h.xStep,R=h.y+x*h.yStep;if(!(T>=r||R>=n))for(let O=0;O<l;O++)c[(R*r+T)*l+O]=S[k*l+O]}}}if(i===16){const d=new Uint16Array(c.buffer);if(Rwe)for(let h=0;h<d.length;h++)d[h]=Lwe(d[h]);return d}else return c}function Lwe(e){return(e&255)<<8|e>>8&255}const Mwe=new Uint16Array([255]),Iwe=new Uint8Array(Mwe.buffer),Dwe=Iwe[0]===255,Fwe=new Uint8Array(0);function sM(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),c=new Uint8Array(n*l);let u=Fwe,d=0,h,p;for(let f=0;f<n;f++){switch(h=t.subarray(d+1,d+1+l),p=c.subarray(f*l,(f+1)*l),t[d]){case 0:EW(h,p,l);break;case 1:AW(h,p,l,a);break;case 2:PW(h,p,u,l);break;case 3:TW(h,p,u,l,a);break;case 4:RW(h,p,u,l,a);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=p,d+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(Dwe)for(let v=0;v<f.length;v++)f[v]=$we(f[v]);return f}else return c}function $we(e){return(e&255)<<8|e>>8&255}const Mx=Uint8Array.of(137,80,78,71,13,10,26,10);function iM(e){if(!Bwe(e.readBytes(Mx.length)))throw new Error("wrong PNG signature")}function Bwe(e){if(e.length<Mx.length)return!1;for(let t=0;t<Mx.length;t++)if(e[t]!==Mx[t])return!1;return!0}const Uwe="tEXt",qwe=0,OW=new TextDecoder("latin1");function zwe(e){if(Wwe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Vwe=/^[\u0000-\u00FF]*$/;function Wwe(e){if(!Vwe.test(e))throw new Error("invalid latin1 text")}function Hwe(e,t,r){const n=LW(t);e[n]=Gwe(t,r-n.length-1)}function LW(e){for(e.mark();e.readByte()!==qwe;);const t=e.offset;e.reset();const r=OW.decode(e.readBytes(t-e.offset-1));return e.skip(1),zwe(r),r}function Gwe(e,t){return OW.decode(e.readBytes(t))}const ra={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},mS={UNKNOWN:-1,DEFLATE:0},aM={UNKNOWN:-1,ADAPTIVE:0},gS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Z1={NONE:0,BACKGROUND:1,PREVIOUS:2},vS={SOURCE:0,OVER:1};class Ywe extends $A{constructor(r,n={}){super(r);nt(this,"_checkCrc");nt(this,"_inflator");nt(this,"_png");nt(this,"_apng");nt(this,"_end");nt(this,"_hasPalette");nt(this,"_palette");nt(this,"_hasTransparency");nt(this,"_transparency");nt(this,"_compressionMethod");nt(this,"_filterMethod");nt(this,"_interlaceMethod");nt(this,"_colorType");nt(this,"_isAnimated");nt(this,"_numberOfFrames");nt(this,"_numberOfPlays");nt(this,"_frames");nt(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new tM,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=mS.UNKNOWN,this._filterMethod=aM.UNKNOWN,this._interlaceMethod=gS.UNKNOWN,this._colorType=ra.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(iM(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(iM(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Uwe:Hwe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?nM(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?nM(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Kwe(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case ra.GREYSCALE:s=1;break;case ra.TRUECOLOUR:s=3;break;case ra.INDEXED_COLOUR:s=1;break;case ra.GREYSCALE_ALPHA:s=2;break;case ra.TRUECOLOUR_ALPHA:s=4;break;case ra.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==mS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ra.GREYSCALE:case ra.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ra.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ra.UNKNOWN:case ra.GREYSCALE_ALPHA:case ra.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=LW(this),s=this.readUint8();if(s!==mS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Nwe(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=sM({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case Z1.NONE:break;case Z1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const l=(i*r.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case Z1.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(a,l)=>{const c=((a+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(a*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case vS.SOURCE:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(a,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case vS.OVER:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(a,l);for(let d=0;d<this._png.channels;d++){const h=n.data[u+this._png.channels-1]/s,p=d%(this._png.channels-1)===0?1:n.data[u+d],f=Math.floor(h*p+(1-h)*r.data[c+d]);r.data[c+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==aM.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===gS.NO_INTERLACE)this._png.data=sM({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===gS.ADAM7)this._png.data=Owe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Z1.NONE,blendOp:vS.SOURCE,data:r}),this._inflator=new tM,this._writingDataChunks=!1}}function Kwe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var oM;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(oM||(oM={}));function Jwe(e,t){return new Ywe(e,t).decode()}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function yS(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var an={log:yS,warn:function(e){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):yS.call(null,arguments))},error:function(e){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):yS(e))}};function xS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Hd(n.response,t,r)},n.onerror=function(){an.error("could not download file")},n.send()}function lM(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function X1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Hd=Ut.saveAs||((typeof window>"u"?"undefined":Yr(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ut.URL||Ut.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?lM(s.href)?xS(e,t,r):X1(s,s.target="_blank"):X1(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){X1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(lM(e))xS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){X1(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Yr(i)!=="object"&&(an.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return xS(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(Ut.HTMLElement)||Ut.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Yr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Ut.URL||Ut.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function MW(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Ix=Ut.atob.bind(Ut),cM=Ut.btoa.bind(Ut);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function wS(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=Xs(r,n,s,i,t[0],7,-680876936),i=Xs(i,r,n,s,t[1],12,-389564586),s=Xs(s,i,r,n,t[2],17,606105819),n=Xs(n,s,i,r,t[3],22,-1044525330),r=Xs(r,n,s,i,t[4],7,-176418897),i=Xs(i,r,n,s,t[5],12,1200080426),s=Xs(s,i,r,n,t[6],17,-1473231341),n=Xs(n,s,i,r,t[7],22,-45705983),r=Xs(r,n,s,i,t[8],7,1770035416),i=Xs(i,r,n,s,t[9],12,-1958414417),s=Xs(s,i,r,n,t[10],17,-42063),n=Xs(n,s,i,r,t[11],22,-1990404162),r=Xs(r,n,s,i,t[12],7,1804603682),i=Xs(i,r,n,s,t[13],12,-40341101),s=Xs(s,i,r,n,t[14],17,-1502002290),r=ei(r,n=Xs(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=ei(i,r,n,s,t[6],9,-1069501632),s=ei(s,i,r,n,t[11],14,643717713),n=ei(n,s,i,r,t[0],20,-373897302),r=ei(r,n,s,i,t[5],5,-701558691),i=ei(i,r,n,s,t[10],9,38016083),s=ei(s,i,r,n,t[15],14,-660478335),n=ei(n,s,i,r,t[4],20,-405537848),r=ei(r,n,s,i,t[9],5,568446438),i=ei(i,r,n,s,t[14],9,-1019803690),s=ei(s,i,r,n,t[3],14,-187363961),n=ei(n,s,i,r,t[8],20,1163531501),r=ei(r,n,s,i,t[13],5,-1444681467),i=ei(i,r,n,s,t[2],9,-51403784),s=ei(s,i,r,n,t[7],14,1735328473),r=ti(r,n=ei(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=ti(i,r,n,s,t[8],11,-2022574463),s=ti(s,i,r,n,t[11],16,1839030562),n=ti(n,s,i,r,t[14],23,-35309556),r=ti(r,n,s,i,t[1],4,-1530992060),i=ti(i,r,n,s,t[4],11,1272893353),s=ti(s,i,r,n,t[7],16,-155497632),n=ti(n,s,i,r,t[10],23,-1094730640),r=ti(r,n,s,i,t[13],4,681279174),i=ti(i,r,n,s,t[0],11,-358537222),s=ti(s,i,r,n,t[3],16,-722521979),n=ti(n,s,i,r,t[6],23,76029189),r=ti(r,n,s,i,t[9],4,-640364487),i=ti(i,r,n,s,t[12],11,-421815835),s=ti(s,i,r,n,t[15],16,530742520),r=ri(r,n=ti(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=ri(i,r,n,s,t[7],10,1126891415),s=ri(s,i,r,n,t[14],15,-1416354905),n=ri(n,s,i,r,t[5],21,-57434055),r=ri(r,n,s,i,t[12],6,1700485571),i=ri(i,r,n,s,t[3],10,-1894986606),s=ri(s,i,r,n,t[10],15,-1051523),n=ri(n,s,i,r,t[1],21,-2054922799),r=ri(r,n,s,i,t[8],6,1873313359),i=ri(i,r,n,s,t[15],10,-30611744),s=ri(s,i,r,n,t[6],15,-1560198380),n=ri(n,s,i,r,t[13],21,1309151649),r=ri(r,n,s,i,t[4],6,-145523070),i=ri(i,r,n,s,t[11],10,-1120210379),s=ri(s,i,r,n,t[2],15,718787259),n=ri(n,s,i,r,t[9],21,-343485551),e[0]=Iu(r,e[0]),e[1]=Iu(n,e[1]),e[2]=Iu(s,e[2]),e[3]=Iu(i,e[3])}function O2(e,t,r,n,s,i){return t=Iu(Iu(t,e),Iu(n,i)),Iu(t<<s|t>>>32-s,r)}function Xs(e,t,r,n,s,i,a){return O2(t&r|~t&n,e,t,s,i,a)}function ei(e,t,r,n,s,i,a){return O2(t&n|r&~n,e,t,s,i,a)}function ti(e,t,r,n,s,i,a){return O2(t^r^n,e,t,s,i,a)}function ri(e,t,r,n,s,i,a){return O2(r^(t|~n),e,t,s,i,a)}function IW(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)wS(n,Qwe(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(wS(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,wS(n,s),n}function Qwe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var uM="0123456789abcdef".split("");function Zwe(e){for(var t="",r=0;r<4;r++)t+=uM[e>>8*r+4&15]+uM[e>>8*r&15];return t}function Xwe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Sk(e){return IW(e).map(Xwe).join("")}var ebe=function(e){for(var t=0;t<e.length;t++)e[t]=Zwe(e[t]);return e.join("")}(IW("hello"))!="5d41402abc4b2a76b9719d911017c592";function Iu(e,t){if(ebe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function jk(e,t){var r,n,s,i;if(e!==r){for(var a=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+a.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var h=t.length,p=0,f=0,v="";for(c=0;c<h;c++)f=(f+(d=l[p=(p+1)%256]))%256,l[p]=l[f],l[f]=d,a=l[(l[p]+l[f])%256],v+=String.fromCharCode(t.charCodeAt(c)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dM={print:4,modify:8,copy:16,"annot-forms":32};function Yf(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(dM.perm!==void 0)throw new Error("Invalid permission: "+l);s+=dM[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Sk(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=jk(this.encryptionKey,this.padding)}function Kf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function hM(e){if(Yr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var a=t[r][i];try{a[0].apply(e,n)}catch(l){Ut.console&&an.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ib(e){if(!(this instanceof ib))return new ib(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function DW(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Kd(e,t,r,n,s){if(!(this instanceof Kd))return new Kd(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,DW.call(this,n,s)}function dp(e,t,r,n,s){if(!(this instanceof dp))return new dp(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,DW.call(this,n,s)}function Et(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,c=16,u="S",d=null;Yr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=hM;var v="1.3",m=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(N){v=N};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var g=f.__private__.getPageFormat=function(N){return x[N]};s=s||"a4";var b="compat",S="advanced",k=b;function T(){this.saveGraphicsState(),J(new mt(bt,0,0,-bt,0,Nd()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),u="n",k=S}function R(){this.restoreGraphicsState(),u="S",k=b}var O=f.__private__.combineFontStyleAndFontWeight=function(N,z){if(N=="bold"&&z=="normal"||N=="bold"&&z==400||N=="normal"&&z=="italic"||N=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(N=z==400||z==="normal"?N==="italic"?"italic":"normal":z!=700&&z!=="bold"||N!=="normal"?(z==700?"bold":z)+""+N:"bold"),N};f.advancedAPI=function(N){var z=k===b;return z&&T.call(this),typeof N!="function"||(N(this),z&&R.call(this)),this},f.compatAPI=function(N){var z=k===S;return z&&R.call(this),typeof N!="function"||(N(this),z&&T.call(this)),this},f.isAdvancedAPI=function(){return k===S};var D,M=function(N){if(k!==S)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=f.roundToPrecision=f.__private__.roundToPrecision=function(N,z){var oe=t||z;if(isNaN(N)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(oe).replace(/0+$/,"")};D=f.hpf=f.__private__.hpf=typeof c=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,c)}:c==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,16)};var A=f.f2=f.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return G(N,2)},I=f.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return G(N,3)},$=f.scale=f.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return k===b?N*bt:k===S?N:void 0},q=function(N){return $(function(z){return k===b?Nd()-z:k===S?z:void 0}(N))};f.__private__.setPrecision=f.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var ee,ne="00000000000000000000000000000000",te=f.__private__.getFileId=function(){return ne},W=f.__private__.setFileId=function(N){return ne=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ms=new Yf(d.userPermissions,d.userPassword,d.ownerPassword,ne)),ne};f.setFileId=function(N){return W(N),this},f.getFileId=function(){return te()};var Z=f.__private__.convertDateToPDFDate=function(N){var z=N.getTimezoneOffset(),oe=z<0?"+":"-",de=Math.floor(Math.abs(z/60)),we=Math.abs(z%60),Pe=[oe,C(de),"'",C(we),"'"].join("");return["D:",N.getFullYear(),C(N.getMonth()+1),C(N.getDate()),C(N.getHours()),C(N.getMinutes()),C(N.getSeconds()),Pe].join("")},pe=f.__private__.convertPDFDateToDate=function(N){var z=parseInt(N.substr(2,4),10),oe=parseInt(N.substr(6,2),10)-1,de=parseInt(N.substr(8,2),10),we=parseInt(N.substr(10,2),10),Pe=parseInt(N.substr(12,2),10),Fe=parseInt(N.substr(14,2),10);return new Date(z,oe,de,we,Pe,Fe,0)},ve=f.__private__.setCreationDate=function(N){var z;if(N===void 0&&(N=new Date),N instanceof Date)z=Z(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=N}return ee=z},U=f.__private__.getCreationDate=function(N){var z=ee;return N==="jsDate"&&(z=pe(ee)),z};f.setCreationDate=function(N){return ve(N),this},f.getCreationDate=function(N){return U(N)};var _,C=f.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},E=f.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},B=0,F=[],Q=[],se=0,le=[],ue=[],fe=!1,_e=Q;f.__private__.setCustomOutputDestination=function(N){fe=!0,_e=N};var Ie=function(N){fe||(_e=N)};f.__private__.resetCustomOutputDestination=function(){fe=!1,_e=Q};var J=f.__private__.out=function(N){return N=N.toString(),se+=N.length+1,_e.push(N),_e},De=f.__private__.write=function(N){return J(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Ye=f.__private__.getArrayBuffer=function(N){for(var z=N.length,oe=new ArrayBuffer(z),de=new Uint8Array(oe);z--;)de[z]=N.charCodeAt(z);return oe},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ke};var me=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(N){return me=k===S?N/bt:N,this};var re,ce=f.__private__.getFontSize=f.getFontSize=function(){return k===b?me:me*bt},xe=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(N){return xe=N,this},f.__private__.getR2L=f.getR2L=function(){return xe};var Ne,Oe=f.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))re=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');re=N}else re=parseInt(N,10)};f.__private__.getZoomMode=function(){return re};var Ce,Le=f.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ne=N};f.__private__.getPageMode=function(){return Ne};var et=f.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Ce=N};f.__private__.getLayoutMode=function(){return Ce},f.__private__.setDisplayMode=f.setDisplayMode=function(N,z,oe){return Oe(N),et(z),Le(oe),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(N){if(Object.keys(at).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[N]},f.__private__.getDocumentProperties=function(){return at},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(N){for(var z in at)at.hasOwnProperty(z)&&N[z]&&(at[z]=N[z]);return this},f.__private__.setDocumentProperty=function(N,z){if(Object.keys(at).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[N]=z};var Qe,bt,rt,Fr,qt,Ot={},zt={},lr=[],_t={},br={},At={},Dt={},Ur=null,Yt=0,pt=[],mr=new hM(f),Pt=e.hotfixes||[],Ft={},cr={},Dn=[],mt=function N(z,oe,de,we,Pe,Fe){if(!(this instanceof N))return new N(z,oe,de,we,Pe,Fe);isNaN(z)&&(z=1),isNaN(oe)&&(oe=0),isNaN(de)&&(de=0),isNaN(we)&&(we=1),isNaN(Pe)&&(Pe=0),isNaN(Fe)&&(Fe=0),this._matrix=[z,oe,de,we,Pe,Fe]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(N)},mt.prototype.multiply=function(N){var z=N.sx*this.sx+N.shy*this.shx,oe=N.sx*this.shy+N.shy*this.sy,de=N.shx*this.sx+N.sy*this.shx,we=N.shx*this.shy+N.sy*this.sy,Pe=N.tx*this.sx+N.ty*this.shx+this.tx,Fe=N.tx*this.shy+N.ty*this.sy+this.ty;return new mt(z,oe,de,we,Pe,Fe)},mt.prototype.decompose=function(){var N=this.sx,z=this.shy,oe=this.shx,de=this.sy,we=this.tx,Pe=this.ty,Fe=Math.sqrt(N*N+z*z),ft=(N/=Fe)*oe+(z/=Fe)*de;oe-=N*ft,de-=z*ft;var St=Math.sqrt(oe*oe+de*de);return ft/=St,N*(de/=St)<z*(oe/=St)&&(N=-N,z=-z,ft=-ft,Fe=-Fe),{scale:new mt(Fe,0,0,St,0,0),translate:new mt(1,0,0,1,we,Pe),rotate:new mt(N,z,-z,N,0,0),skew:new mt(1,0,ft,1,0,0)}},mt.prototype.toString=function(N){return this.join(" ")},mt.prototype.inversed=function(){var N=this.sx,z=this.shy,oe=this.shx,de=this.sy,we=this.tx,Pe=this.ty,Fe=1/(N*de-z*oe),ft=de*Fe,St=-z*Fe,Vt=-oe*Fe,tr=N*Fe;return new mt(ft,St,Vt,tr,-ft*we-Vt*Pe,-St*we-tr*Pe)},mt.prototype.applyToPoint=function(N){var z=N.x*this.sx+N.y*this.shx+this.tx,oe=N.x*this.shy+N.y*this.sy+this.ty;return new Fl(z,oe)},mt.prototype.applyToRectangle=function(N){var z=this.applyToPoint(N),oe=this.applyToPoint(new Fl(N.x+N.w,N.y+N.h));return new og(z.x,z.y,oe.x-z.x,oe.y-z.y)},mt.prototype.clone=function(){var N=this.sx,z=this.shy,oe=this.shx,de=this.sy,we=this.tx,Pe=this.ty;return new mt(N,z,oe,de,we,Pe)},f.Matrix=mt;var Cs=f.matrixMult=function(N,z){return z.multiply(N)},Ls=new mt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ls;var jn=function(N,z){if(!br[N]){var oe=(z instanceof Kd?"Sh":"P")+(Object.keys(_t).length+1).toString(10);z.id=oe,br[N]=oe,_t[oe]=z,mr.publish("addPattern",z)}};f.ShadingPattern=Kd,f.TilingPattern=dp,f.addShadingPattern=function(N,z){return M("addShadingPattern()"),jn(N,z),this},f.beginTilingPattern=function(N){M("beginTilingPattern()"),lg(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},f.endTilingPattern=function(N,z){M("endTilingPattern()"),z.stream=ue[_].join(`
`),jn(N,z),mr.publish("endTilingPattern",z),Dn.pop().restore()};var Hn,Fn=f.__private__.newObject=function(){var N=Es();return Ms(N,!0),N},Es=f.__private__.newObjectDeferred=function(){return B++,F[B]=function(){return se},B},Ms=function(N,z){return z=typeof z=="boolean"&&z,F[N]=se,z&&J(N+" 0 obj"),N},yd=f.__private__.newAdditionalObject=function(){var N={objId:Es(),content:""};return le.push(N),N},$c=Es(),eo=Es(),Vo=f.__private__.decodeColorString=function(N){var z=N.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var oe=parseFloat(z[0]);z=[oe,oe,oe,"r"]}for(var de="#",we=0;we<3;we++)de+=("0"+Math.floor(255*parseFloat(z[we])).toString(16)).slice(-2);return de},to=f.__private__.encodeColorString=function(N){var z;typeof N=="string"&&(N={ch1:N});var oe=N.ch1,de=N.ch2,we=N.ch3,Pe=N.ch4,Fe=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var ft=new MW(oe);if(ft.ok)oe=ft.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var St=parseInt(oe.substr(1),16);oe=St>>16&255,de=St>>8&255,we=255&St}if(de===void 0||Pe===void 0&&oe===de&&de===we)z=typeof oe=="string"?oe+" "+Fe[0]:N.precision===2?A(oe/255)+" "+Fe[0]:I(oe/255)+" "+Fe[0];else if(Pe===void 0||Yr(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",Fe[1]].join(" ");z=typeof oe=="string"?[oe,de,we,Fe[1]].join(" "):N.precision===2?[A(oe/255),A(de/255),A(we/255),Fe[1]].join(" "):[I(oe/255),I(de/255),I(we/255),Fe[1]].join(" ")}else z=typeof oe=="string"?[oe,de,we,Pe,Fe[2]].join(" "):N.precision===2?[A(oe),A(de),A(we),A(Pe),Fe[2]].join(" "):[I(oe),I(de),I(we),I(Pe),Fe[2]].join(" ");return z},ro=f.__private__.getFilters=function(){return a},ka=f.__private__.putStream=function(N){var z=(N=N||{}).data||"",oe=N.filters||ro(),de=N.alreadyAppliedFilters||[],we=N.addLength1||!1,Pe=z.length,Fe=N.objectId,ft=function(gs){return gs};if(d!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ft=ms.encryptor(Fe,0));var St={};oe===!0&&(oe=["FlateEncode"]);var Vt=N.additionalKeyValues||[],tr=(St=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(z,oe):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(St.data.length!==0&&(Vt.push({key:"Length",value:St.data.length}),we===!0&&Vt.push({key:"Length1",value:Pe})),tr.length!=0)if(tr.split("/").length-1==1)Vt.push({key:"Filter",value:tr});else{Vt.push({key:"Filter",value:"["+tr+"]"});for(var _r=0;_r<Vt.length;_r+=1)if(Vt[_r].key==="DecodeParms"){for(var Tn=[],os=0;os<St.reverseChain.split("/").length-1;os+=1)Tn.push("null");Tn.push(Vt[_r].value),Vt[_r].value="["+Tn.join(" ")+"]"}}J("<<");for(var ln=0;ln<Vt.length;ln++)J("/"+Vt[ln].key+" "+Vt[ln].value);J(">>"),St.data.length!==0&&(J("stream"),J(ft(St.data)),J("endstream"))},xd=f.__private__.putPage=function(N){var z=N.number,oe=N.data,de=N.objId,we=N.contentsObjId;Ms(de,!0),J("<</Type /Page"),J("/Parent "+N.rootDictionaryObjId+" 0 R"),J("/Resources "+N.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(D(N.mediaBox.bottomLeftX))+" "+parseFloat(D(N.mediaBox.bottomLeftY))+" "+D(N.mediaBox.topRightX)+" "+D(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&J("/CropBox ["+D(N.cropBox.bottomLeftX)+" "+D(N.cropBox.bottomLeftY)+" "+D(N.cropBox.topRightX)+" "+D(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&J("/BleedBox ["+D(N.bleedBox.bottomLeftX)+" "+D(N.bleedBox.bottomLeftY)+" "+D(N.bleedBox.topRightX)+" "+D(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&J("/TrimBox ["+D(N.trimBox.bottomLeftX)+" "+D(N.trimBox.bottomLeftY)+" "+D(N.trimBox.topRightX)+" "+D(N.trimBox.topRightY)+"]"),N.artBox!==null&&J("/ArtBox ["+D(N.artBox.bottomLeftX)+" "+D(N.artBox.bottomLeftY)+" "+D(N.artBox.topRightX)+" "+D(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&J("/UserUnit "+N.userUnit),mr.publish("putPage",{objId:de,pageContext:pt[z],pageNumber:z,page:oe}),J("/Contents "+we+" 0 R"),J(">>"),J("endobj");var Pe=oe.join(`
`);return k===S&&(Pe+=`
Q`),Ms(we,!0),ka({data:Pe,filters:ro(),objectId:we}),J("endobj"),de},Wo=f.__private__.putPages=function(){var N,z,oe=[];for(N=1;N<=Yt;N++)pt[N].objId=Es(),pt[N].contentsObjId=Es();for(N=1;N<=Yt;N++)oe.push(xd({number:N,data:ue[N],objId:pt[N].objId,contentsObjId:pt[N].contentsObjId,mediaBox:pt[N].mediaBox,cropBox:pt[N].cropBox,bleedBox:pt[N].bleedBox,trimBox:pt[N].trimBox,artBox:pt[N].artBox,userUnit:pt[N].userUnit,rootDictionaryObjId:$c,resourceDictionaryObjId:eo}));Ms($c,!0),J("<</Type /Pages");var de="/Kids [";for(z=0;z<Yt;z++)de+=oe[z]+" 0 R ";J(de+"]"),J("/Count "+Yt),J(">>"),J("endobj"),mr.publish("postPutPages")},wd=function(N){mr.publish("putFont",{font:N,out:J,newObject:Fn,putStream:ka}),N.isAlreadyPutted!==!0&&(N.objectNumber=Fn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Kf(N.postScriptName)),J("/Subtype /Type1"),typeof N.encoding=="string"&&J("/Encoding /"+N.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},ff=function(N){N.objectNumber=Fn();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[D(N.x),D(N.y),D(N.x+N.width),D(N.y+N.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var oe=N.pages[1].join(`
`);ka({data:oe,additionalKeyValues:z,objectId:N.objectNumber}),J("endobj")},pf=function(N,z){z||(z=21);var oe=Fn(),de=function(Fe,ft){var St,Vt=[],tr=1/(ft-1);for(St=0;St<1;St+=tr)Vt.push(St);if(Vt.push(1),Fe[0].offset!=0){var _r={offset:0,color:Fe[0].color};Fe.unshift(_r)}if(Fe[Fe.length-1].offset!=1){var Tn={offset:1,color:Fe[Fe.length-1].color};Fe.push(Tn)}for(var os="",ln=0,gs=0;gs<Vt.length;gs++){for(St=Vt[gs];St>Fe[ln+1].offset;)ln++;var ls=Fe[ln].offset,Is=(St-ls)/(Fe[ln+1].offset-ls),Ul=Fe[ln].color,so=Fe[ln+1].color;os+=E(Math.round((1-Is)*Ul[0]+Is*so[0]).toString(16))+E(Math.round((1-Is)*Ul[1]+Is*so[1]).toString(16))+E(Math.round((1-Is)*Ul[2]+Is*so[2]).toString(16))}return os.trim()}(N.colors,z),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+z+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ka({data:de,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),J("endobj"),N.objectNumber=Fn(),J("<< /ShadingType "+N.type),J("/ColorSpace /DeviceRGB");var Pe="/Coords ["+D(parseFloat(N.coords[0]))+" "+D(parseFloat(N.coords[1]))+" ";N.type===2?Pe+=D(parseFloat(N.coords[2]))+" "+D(parseFloat(N.coords[3])):Pe+=D(parseFloat(N.coords[2]))+" "+D(parseFloat(N.coords[3]))+" "+D(parseFloat(N.coords[4]))+" "+D(parseFloat(N.coords[5])),J(Pe+="]"),N.matrix&&J("/Matrix ["+N.matrix.toString()+"]"),J("/Function "+oe+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},mf=function(N,z){var oe=Es(),de=Fn();z.push({resourcesOid:oe,objectOid:de}),N.objectNumber=de;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+N.boundingBox.map(D).join(" ")+"]"}),we.push({key:"XStep",value:D(N.xStep)}),we.push({key:"YStep",value:D(N.yStep)}),we.push({key:"Resources",value:oe+" 0 R"}),N.matrix&&we.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),ka({data:N.stream,additionalKeyValues:we,objectId:N.objectNumber}),J("endobj")},M2=function(N){for(var z in N.objectNumber=Fn(),J("<<"),N)switch(z){case"opacity":J("/ca "+A(N[z]));break;case"stroke-opacity":J("/CA "+A(N[z]))}J(">>"),J("endobj")},Xm=function(N){Ms(N.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var z in J("/Font <<"),Ot)Ot.hasOwnProperty(z)&&(h===!1||h===!0&&p.hasOwnProperty(z))&&J("/"+z+" "+Ot[z].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(_t).length>0){for(var z in J("/Shading <<"),_t)_t.hasOwnProperty(z)&&_t[z]instanceof Kd&&_t[z].objectNumber>=0&&J("/"+z+" "+_t[z].objectNumber+" 0 R");mr.publish("putShadingPatternDict"),J(">>")}}(),function(z){if(Object.keys(_t).length>0){for(var oe in J("/Pattern <<"),_t)_t.hasOwnProperty(oe)&&_t[oe]instanceof f.TilingPattern&&_t[oe].objectNumber>=0&&_t[oe].objectNumber<z&&J("/"+oe+" "+_t[oe].objectNumber+" 0 R");mr.publish("putTilingPatternDict"),J(">>")}}(N.objectOid),function(){if(Object.keys(At).length>0){var z;for(z in J("/ExtGState <<"),At)At.hasOwnProperty(z)&&At[z].objectNumber>=0&&J("/"+z+" "+At[z].objectNumber+" 0 R");mr.publish("putGStateDict"),J(">>")}}(),function(){for(var z in J("/XObject <<"),Ft)Ft.hasOwnProperty(z)&&Ft[z].objectNumber>=0&&J("/"+z+" "+Ft[z].objectNumber+" 0 R");mr.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},my=function(N){zt[N.fontName]=zt[N.fontName]||{},zt[N.fontName][N.fontStyle]=N.id},gy=function(N,z,oe,de,we){var Pe={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:N,fontName:z,fontStyle:oe,encoding:de,isStandardFont:we||!1,metadata:{}};return mr.publish("addFont",{font:Pe,instance:this}),Ot[Pe.id]=Pe,my(Pe),Pe.id},Ca=f.__private__.pdfEscape=f.pdfEscape=function(N,z){return function(oe,de){var we,Pe,Fe,ft,St,Vt,tr,_r,Tn;if(Fe=(de=de||{}).sourceEncoding||"Unicode",St=de.outputEncoding,(de.autoencode||St)&&Ot[Qe].metadata&&Ot[Qe].metadata[Fe]&&Ot[Qe].metadata[Fe].encoding&&(ft=Ot[Qe].metadata[Fe].encoding,!St&&Ot[Qe].encoding&&(St=Ot[Qe].encoding),!St&&ft.codePages&&(St=ft.codePages[0]),typeof St=="string"&&(St=ft[St]),St)){for(tr=!1,Vt=[],we=0,Pe=oe.length;we<Pe;we++)(_r=St[oe.charCodeAt(we)])?Vt.push(String.fromCharCode(_r)):Vt.push(oe[we]),Vt[we].charCodeAt(0)>>8&&(tr=!0);oe=Vt.join("")}for(we=oe.length;tr===void 0&&we!==0;)oe.charCodeAt(we-1)>>8&&(tr=!0),we--;if(!tr)return oe;for(Vt=de.noBOM?[]:[254,255],we=0,Pe=oe.length;we<Pe;we++){if((Tn=(_r=oe.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(Tn),Vt.push(_r-(Tn<<8))}return String.fromCharCode.apply(void 0,Vt)}(N,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eg=f.__private__.beginPage=function(N){ue[++Yt]=[],pt[Yt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},yy(Yt),Ie(ue[_])},vy=function(N,z){var oe,de,we;switch(r=z||r,typeof N=="string"&&(oe=g(N.toLowerCase()),Array.isArray(oe)&&(de=oe[0],we=oe[1])),Array.isArray(N)&&(de=N[0]*bt,we=N[1]*bt),isNaN(de)&&(de=s[0],we=s[1]),(de>14400||we>14400)&&(an.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),we=Math.min(14400,we)),s=[de,we],r.substr(0,1)){case"l":we>de&&(s=[we,de]);break;case"p":de>we&&(s=[we,de])}eg(s),Kt(ng),J(xf),ig!==0&&J(ig+" J"),ag!==0&&J(ag+" j"),mr.publish("addPage",{pageNumber:Yt})},tg=function(N){N>0&&N<=Yt&&(ue.splice(N,1),pt.splice(N,1),Yt--,_>Yt&&(_=Yt),this.setPage(_))},yy=function(N){N>0&&N<=Yt&&(_=N)},xy=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ue.length-1},wy=function(N,z,oe){var de,we=void 0;return oe=oe||{},N=N!==void 0?N:Ot[Qe].fontName,z=z!==void 0?z:Ot[Qe].fontStyle,de=N.toLowerCase(),zt[de]!==void 0&&zt[de][z]!==void 0?we=zt[de][z]:zt[N]!==void 0&&zt[N][z]!==void 0?we=zt[N][z]:oe.disableWarning===!1&&an.warn("Unable to look up font label for font '"+N+"', '"+z+"'. Refer to getFontList() for available fonts."),we||oe.noFallback||(we=zt.times[z])==null&&(we=zt.times.normal),we},Ho=f.__private__.putInfo=function(){var N=Fn(),z=function(de){return de};for(var oe in d!==null&&(z=ms.encryptor(N,0)),J("<<"),J("/Producer ("+Ca(z("jsPDF "+Et.version))+")"),at)at.hasOwnProperty(oe)&&at[oe]&&J("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+Ca(z(at[oe]))+")");J("/CreationDate ("+Ca(z(ee))+")"),J(">>"),J("endobj")},gf=f.__private__.putCatalog=function(N){var z=(N=N||{}).rootDictionaryObjId||$c;switch(Fn(),J("<<"),J("/Type /Catalog"),J("/Pages "+z+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+re;oe.substr(oe.length-1)==="%"&&(re=parseInt(re)/100),typeof re=="number"&&J("/OpenAction [3 0 R /XYZ null null "+A(re)+"]")}switch(Ce||(Ce="continuous"),Ce){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Ne&&J("/PageMode /"+Ne),mr.publish("putCatalog"),J(">>"),J("endobj")},I2=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(B+1)),J("/Root "+B+" 0 R"),J("/Info "+(B-1)+" 0 R"),d!==null&&J("/Encrypt "+ms.oid+" 0 R"),J("/ID [ <"+ne+"> <"+ne+"> ]"),J(">>")},as=f.__private__.putHeader=function(){J("%PDF-"+v),J("%")},by=f.__private__.putXRef=function(){var N="0000000000";J("xref"),J("0 "+(B+1)),J("0000000000 65535 f ");for(var z=1;z<=B;z++)typeof F[z]=="function"?J((N+F[z]()).slice(-10)+" 00000 n "):F[z]!==void 0?J((N+F[z]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Go=f.__private__.buildDocument=function(){var N;B=0,se=0,Q=[],F=[],le=[],$c=Es(),eo=Es(),Ie(Q),mr.publish("buildDocument"),as(),Wo(),function(){mr.publish("putAdditionalObjects");for(var oe=0;oe<le.length;oe++){var de=le[oe];Ms(de.objId,!0),J(de.content),J("endobj")}mr.publish("postPutAdditionalObjects")}(),N=[],function(){for(var oe in Ot)Ot.hasOwnProperty(oe)&&(h===!1||h===!0&&p.hasOwnProperty(oe))&&wd(Ot[oe])}(),function(){var oe;for(oe in At)At.hasOwnProperty(oe)&&M2(At[oe])}(),function(){for(var oe in Ft)Ft.hasOwnProperty(oe)&&ff(Ft[oe])}(),function(oe){var de;for(de in _t)_t.hasOwnProperty(de)&&(_t[de]instanceof Kd?pf(_t[de]):_t[de]instanceof dp&&mf(_t[de],oe))}(N),mr.publish("putResources"),N.forEach(Xm),Xm({resourcesOid:eo,objectOid:Number.MAX_SAFE_INTEGER}),mr.publish("postPutResources"),d!==null&&(ms.oid=Fn(),J("<<"),J("/Filter /Standard"),J("/V "+ms.v),J("/R "+ms.r),J("/U <"+ms.toHexString(ms.U)+">"),J("/O <"+ms.toHexString(ms.O)+">"),J("/P "+ms.P),J(">>"),J("endobj")),Ho(),gf();var z=se;return by(),I2(),J("startxref"),J(""+z),J("%%EOF"),Ie(ue[_]),Q.join(`
`)},vf=f.__private__.getBlob=function(N){return new Blob([Ye(N)],{type:"application/pdf"})},_y=f.output=f.__private__.output=(Hn=function(N,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",N){case void 0:return Go();case"save":f.save(z.filename);break;case"arraybuffer":return Ye(Go());case"blob":return vf(Go());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(vf(Go()))||void 0;an.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",de=Go();try{oe=cM(de)}catch{oe=cM(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+z.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(we=z.pdfObjectUrl,Pe="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",ft=Ut.open();return ft!==null&&ft.document.write(Fe),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Vt=Ut.open();if(Vt!==null){Vt.document.write(St);var tr=this;Vt.document.documentElement.querySelector("#pdfViewer").onload=function(){Vt.document.title=z.filename,Vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tr.output("bloburl"))}}return Vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var _r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Tn=Ut.open();if(Tn!==null&&(Tn.document.write(_r),Tn.document.title=z.filename),Tn||typeof safari>"u")return Tn;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",z);default:return null}},Hn.foo=function(){try{return Hn.apply(this,arguments)}catch(oe){var N=oe.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var z="Error in function "+N.split(`
`)[0].split("<")[0]+": "+oe.message;if(!Ut.console)throw new Error(z);Ut.console.error(z,oe),Ut.alert&&alert(z)}},Hn.foo.bar=Hn,Hn.foo),Ea=function(N){return Array.isArray(Pt)===!0&&Pt.indexOf(N)>-1};switch(n){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=Ea("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);bt=n}var ms=null;ve(),W();var Ll=f.__private__.getPageInfo=f.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[N].objId,pageNumber:N,pageContext:pt[N]}},Sy=f.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in pt)if(pt[z].objId===N)break;return Ll(z)},D2=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:pt[_].objId,pageNumber:_,pageContext:pt[_]}};f.addPage=function(){return vy.apply(this,arguments),this},f.setPage=function(){return yy.apply(this,arguments),Ie.call(this,ue[_]),this},f.insertPage=function(N){return this.addPage(),this.movePage(_,N),this},f.movePage=function(N,z){var oe,de;if(N>z){oe=ue[N],de=pt[N];for(var we=N;we>z;we--)ue[we]=ue[we-1],pt[we]=pt[we-1];ue[z]=oe,pt[z]=de,this.setPage(z)}else if(N<z){oe=ue[N],de=pt[N];for(var Pe=N;Pe<z;Pe++)ue[Pe]=ue[Pe+1],pt[Pe]=pt[Pe+1];ue[z]=oe,pt[z]=de,this.setPage(z)}return this},f.deletePage=function(){return tg.apply(this,arguments),this},f.__private__.text=f.text=function(N,z,oe,de,we){var Pe,Fe,ft,St,Vt,tr,_r,Tn,os,ln=(de=de||{}).scope||this;if(typeof N=="number"&&typeof z=="number"&&(typeof oe=="string"||Array.isArray(oe))){var gs=oe;oe=z,z=N,N=gs}if(arguments[3]instanceof mt==0?(ft=arguments[4],St=arguments[5],Yr(_r=arguments[3])==="object"&&_r!==null||(typeof ft=="string"&&(St=ft,ft=null),typeof _r=="string"&&(St=_r,_r=null),typeof _r=="number"&&(ft=_r,_r=null),de={flags:_r,angle:ft,align:St})):(M("The transform parameter of text() with a Matrix value"),os=we),isNaN(z)||isNaN(oe)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return ln;var ls,Is="",Ul=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:_d,so=ln.internal.scaleFactor;function ql($r){return $r=$r.split("	").join(Array(de.TabLen||9).join(" ")),Ca($r,_r)}function ug($r){for(var tn,Yn=$r.concat(),vs=[],Wl=Yn.length;Wl--;)typeof(tn=Yn.shift())=="string"?vs.push(tn):Array.isArray($r)&&(tn.length===1||tn[1]===void 0&&tn[2]===void 0)?vs.push(tn[0]):vs.push([tn[0],tn[1],tn[2]]);return vs}function bf($r,tn){var Yn;if(typeof $r=="string")Yn=tn($r)[0];else if(Array.isArray($r)){for(var vs,Wl,wg=$r.concat(),jf=[],Ly=wg.length;Ly--;)typeof(vs=wg.shift())=="string"?jf.push(tn(vs)[0]):Array.isArray(vs)&&typeof vs[0]=="string"&&(Wl=tn(vs[0],vs[1],vs[2]),jf.push([Wl[0],Wl[1],Wl[2]]));Yn=jf}return Yn}var Bc=!1,kd=!0;if(typeof N=="string")Bc=!0;else if(Array.isArray(N)){var Cd=N.concat();Fe=[];for(var Uc,Ds=Cd.length;Ds--;)(typeof(Uc=Cd.shift())!="string"||Array.isArray(Uc)&&typeof Uc[0]!="string")&&(kd=!1);Bc=kd}if(Bc===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Ed=me/ln.internal.scaleFactor,Ad=Ed*(Ul-1);switch(de.baseline){case"bottom":oe-=Ad;break;case"top":oe+=Ed-Ad;break;case"hanging":oe+=Ed-2*Ad;break;case"middle":oe+=Ed/2-Ad}if((tr=de.maxWidth||0)>0&&(typeof N=="string"?N=ln.splitTextToSize(N,tr):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function($r,tn){return $r.concat(ln.splitTextToSize(tn,tr))},[]))),Pe={text:N,x:z,y:oe,options:de,mutex:{pdfEscape:Ca,activeFontKey:Qe,fonts:Ot,activeFontSize:me}},mr.publish("preProcessText",Pe),N=Pe.text,ft=(de=Pe.options).angle,os instanceof mt==0&&ft&&typeof ft=="number"){ft*=Math.PI/180,de.rotationDirection===0&&(ft=-ft),k===S&&(ft=-ft);var dg=Math.cos(ft),hg=Math.sin(ft);os=new mt(dg,hg,-hg,dg,0,0)}else ft&&ft instanceof mt&&(os=ft);k!==S||os||(os=Ls),(Vt=de.charSpace||Dl)!==void 0&&(Is+=D($(Vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tn=de.horizontalScale)!==void 0&&(Is+=D(100*Tn)+` Tz
`),de.lang;var ui=-1,zl=de.renderingMode!==void 0?de.renderingMode:de.stroke,_f=ln.internal.getCurrentPageInfo().pageContext;switch(zl){case 0:case!1:case"fill":ui=0;break;case 1:case!0:case"stroke":ui=1;break;case 2:case"fillThenStroke":ui=2;break;case 3:case"invisible":ui=3;break;case 4:case"fillAndAddForClipping":ui=4;break;case 5:case"strokeAndAddPathForClipping":ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ui=6;break;case 7:case"addToPathForClipping":ui=7}var Ry=_f.usedRenderingMode!==void 0?_f.usedRenderingMode:-1;ui!==-1?Is+=ui+` Tr
`:Ry!==-1&&(Is+=`0 Tr
`),ui!==-1&&(_f.usedRenderingMode=ui),St=de.align||"left";var Aa,Pd=me*Ul,fg=ln.internal.pageSize.getWidth(),pg=Ot[Qe];Vt=de.charSpace||Dl,tr=de.maxWidth||0,_r=Object.assign({autoencode:!0,noBOM:!0},de.flags);var qc=[],Td=function($r){return ln.getStringUnitWidth($r,{font:pg,charSpace:Vt,fontSize:me,doKerning:!1})*me/so};if(Object.prototype.toString.call(N)==="[object Array]"){var Gi;Fe=ug(N),St!=="left"&&(Aa=Fe.map(Td));var Yi,zc=0;if(St==="right"){z-=Aa[0],N=[],Ds=Fe.length;for(var Vl=0;Vl<Ds;Vl++)Vl===0?(Yi=Ml(z),Gi=Il(oe)):(Yi=$(zc-Aa[Vl]),Gi=-Pd),N.push([Fe[Vl],Yi,Gi]),zc=Aa[Vl]}else if(St==="center"){z-=Aa[0]/2,N=[],Ds=Fe.length;for(var Vc=0;Vc<Ds;Vc++)Vc===0?(Yi=Ml(z),Gi=Il(oe)):(Yi=$((zc-Aa[Vc])/2),Gi=-Pd),N.push([Fe[Vc],Yi,Gi]),zc=Aa[Vc]}else if(St==="left"){N=[],Ds=Fe.length;for(var mg=0;mg<Ds;mg++)N.push(Fe[mg])}else if(St==="justify"&&pg.encoding==="Identity-H"){N=[],Ds=Fe.length,tr=tr!==0?tr:fg;for(var Sf=0,Gn=0;Gn<Ds;Gn++)if(Gi=Gn===0?Il(oe):-Pd,Yi=Gn===0?Ml(z):Sf,Gn<Ds-1){var Oy=$((tr-Aa[Gn])/(Fe[Gn].split(" ").length-1)),Ko=Fe[Gn].split(" ");N.push([Ko[0]+" ",Yi,Gi]),Sf=0;for(var Jo=1;Jo<Ko.length;Jo++){var gg=(Td(Ko[Jo-1]+" "+Ko[Jo])-Td(Ko[Jo]))*so+Oy;Jo==Ko.length-1?N.push([Ko[Jo],gg,0]):N.push([Ko[Jo]+" ",gg,0]),Sf-=gg}}else N.push([Fe[Gn],Yi,Gi]);N.push(["",Sf,0])}else{if(St!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Ds=Fe.length,tr=tr!==0?tr:fg,Gn=0;Gn<Ds;Gn++){Gi=Gn===0?Il(oe):-Pd,Yi=Gn===0?Ml(z):0;var vg=Fe[Gn].split(" ").length-1,yg=vg>0?(tr-Aa[Gn])/vg:0;Gn<Ds-1?qc.push(D($(yg))):qc.push(0),N.push([Fe[Gn],Yi,Gi])}}}(typeof de.R2L=="boolean"?de.R2L:xe)===!0&&(N=bf(N,function($r,tn,Yn){return[$r.split("").reverse().join(""),tn,Yn]})),Pe={text:N,x:z,y:oe,options:de,mutex:{pdfEscape:Ca,activeFontKey:Qe,fonts:Ot,activeFontSize:me}},mr.publish("postProcessText",Pe),N=Pe.text,ls=Pe.mutex.isHex||!1;var xg=Ot[Qe].encoding;xg!=="WinAnsiEncoding"&&xg!=="StandardEncoding"||(N=bf(N,function($r,tn,Yn){return[ql($r),tn,Yn]})),Fe=ug(N),N=[];for(var Wc,Hc,Gc,Rd=Array.isArray(Fe[0])?1:0,Yc="",Od=function($r,tn,Yn){var vs="";return Yn instanceof mt?(Yn=typeof de.angle=="number"?Cs(Yn,new mt(1,0,0,1,$r,tn)):Cs(new mt(1,0,0,1,$r,tn),Yn),k===S&&(Yn=Cs(new mt(1,0,0,-1,0,0),Yn)),vs=Yn.join(" ")+` Tm
`):vs=D($r)+" "+D(tn)+` Td
`,vs},Pa=0;Pa<Fe.length;Pa++){switch(Yc="",Rd){case 1:Gc=(ls?"<":"(")+Fe[Pa][0]+(ls?">":")"),Wc=parseFloat(Fe[Pa][1]),Hc=parseFloat(Fe[Pa][2]);break;case 0:Gc=(ls?"<":"(")+Fe[Pa]+(ls?">":")"),Wc=Ml(z),Hc=Il(oe)}qc!==void 0&&qc[Pa]!==void 0&&(Yc=qc[Pa]+` Tw
`),Pa===0?N.push(Yc+Od(Wc,Hc,os)+Gc):Rd===0?N.push(Yc+Gc):Rd===1&&N.push(Yc+Od(Wc,Hc,os)+Gc)}N=Rd===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Qo=`BT
/`;return Qo+=Qe+" "+me+` Tf
`,Qo+=D(me*Ul)+` TL
`,Qo+=Sd+`
`,Qo+=Is,Qo+=N,J(Qo+="ET"),p[Qe]=!0,ln};var F2=f.__private__.clip=f.clip=function(N){return J(N==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return F2("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var Yo=f.__private__.isValidStyle=function(N){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(z=!0),z};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(N){return Yo(N)&&(u=N),this};var jy=f.__private__.getStyle=f.getStyle=function(N){var z=u;switch(N){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=N}return z},Ny=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(N){return yf("f",N),this},f.fillEvenOdd=function(N){return yf("f*",N),this},f.fillStroke=function(N){return yf("B",N),this},f.fillStrokeEvenOdd=function(N){return yf("B*",N),this};var yf=function(N,z){Yr(z)==="object"?B2(z,N):J(N)},bd=function(N){N===null||k===S&&N===void 0||(N=jy(N),J(N))};function $2(N,z,oe,de,we){var Pe=new dp(z||this.boundingBox,oe||this.xStep,de||this.yStep,this.gState,we||this.matrix);Pe.stream=this.stream;var Fe=N+"$$"+this.cloneIndex+++"$$";return jn(Fe,Pe),Pe}var B2=function(N,z){var oe=br[N.key],de=_t[oe];if(de instanceof Kd)J("q"),J(U2(z)),de.gState&&f.setGState(de.gState),J(N.matrix.toString()+" cm"),J("/"+oe+" sh"),J("Q");else if(de instanceof dp){var we=new mt(1,0,0,-1,0,Nd());N.matrix&&(we=we.multiply(N.matrix||Ls),oe=$2.call(de,N.key,N.boundingBox,N.xStep,N.yStep,we).id),J("q"),J("/Pattern cs"),J("/"+oe+" scn"),de.gState&&f.setGState(de.gState),J(z),J("Q")}},U2=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},rg=f.moveTo=function(N,z){return J(D($(N))+" "+D(q(z))+" m"),this},ky=f.lineTo=function(N,z){return J(D($(N))+" "+D(q(z))+" l"),this},no=f.curveTo=function(N,z,oe,de,we,Pe){return J([D($(N)),D(q(z)),D($(oe)),D(q(de)),D($(we)),D(q(Pe)),"c"].join(" ")),this};f.__private__.line=f.line=function(N,z,oe,de,we){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||!Yo(we))throw new Error("Invalid arguments passed to jsPDF.line");return k===b?this.lines([[oe-N,de-z]],N,z,[1,1],we||"S"):this.lines([[oe-N,de-z]],N,z,[1,1]).stroke()},f.__private__.lines=f.lines=function(N,z,oe,de,we,Pe){var Fe,ft,St,Vt,tr,_r,Tn,os,ln,gs,ls,Is;if(typeof N=="number"&&(Is=oe,oe=z,z=N,N=Is),de=de||[1,1],Pe=Pe||!1,isNaN(z)||isNaN(oe)||!Array.isArray(N)||!Array.isArray(de)||!Yo(we)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rg(z,oe),Fe=de[0],ft=de[1],Vt=N.length,gs=z,ls=oe,St=0;St<Vt;St++)(tr=N[St]).length===2?(gs=tr[0]*Fe+gs,ls=tr[1]*ft+ls,ky(gs,ls)):(_r=tr[0]*Fe+gs,Tn=tr[1]*ft+ls,os=tr[2]*Fe+gs,ln=tr[3]*ft+ls,gs=tr[4]*Fe+gs,ls=tr[5]*ft+ls,no(_r,Tn,os,ln,gs,ls));return Pe&&Ny(),bd(we),this},f.path=function(N){for(var z=0;z<N.length;z++){var oe=N[z],de=oe.c;switch(oe.op){case"m":rg(de[0],de[1]);break;case"l":ky(de[0],de[1]);break;case"c":no.apply(this,de);break;case"h":Ny()}}return this},f.__private__.rect=f.rect=function(N,z,oe,de,we){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||!Yo(we))throw new Error("Invalid arguments passed to jsPDF.rect");return k===b&&(de=-de),J([D($(N)),D(q(z)),D($(oe)),D($(de)),"re"].join(" ")),bd(we),this},f.__private__.triangle=f.triangle=function(N,z,oe,de,we,Pe,Fe){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||isNaN(we)||isNaN(Pe)||!Yo(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-N,de-z],[we-oe,Pe-de],[N-we,z-Pe]],N,z,[1,1],Fe,!0),this},f.__private__.roundedRect=f.roundedRect=function(N,z,oe,de,we,Pe,Fe){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||isNaN(we)||isNaN(Pe)||!Yo(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*oe),Pe=Math.min(Pe,.5*de),this.lines([[oe-2*we,0],[we*ft,0,we,Pe-Pe*ft,we,Pe],[0,de-2*Pe],[0,Pe*ft,-we*ft,Pe,-we,Pe],[2*we-oe,0],[-we*ft,0,-we,-Pe*ft,-we,-Pe],[0,2*Pe-de],[0,-Pe*ft,we*ft,-Pe,we,-Pe]],N+we,z,[1,1],Fe,!0),this},f.__private__.ellipse=f.ellipse=function(N,z,oe,de,we){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||!Yo(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*oe,Fe=4/3*(Math.SQRT2-1)*de;return rg(N+oe,z),no(N+oe,z-Fe,N+Pe,z-de,N,z-de),no(N-Pe,z-de,N-oe,z-Fe,N-oe,z),no(N-oe,z+Fe,N-Pe,z+de,N,z+de),no(N+Pe,z+de,N+oe,z+Fe,N+oe,z),bd(we),this},f.__private__.circle=f.circle=function(N,z,oe,de){if(isNaN(N)||isNaN(z)||isNaN(oe)||!Yo(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,z,oe,oe,de)},f.setFont=function(N,z,oe){return oe&&(z=O(z,oe)),Qe=wy(N,z,{disableWarning:!1}),this};var q2=f.__private__.getFont=f.getFont=function(){return Ot[wy.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var N,z,oe={};for(N in zt)if(zt.hasOwnProperty(N))for(z in oe[N]=[],zt[N])zt[N].hasOwnProperty(z)&&oe[N].push(z);return oe},f.addFont=function(N,z,oe,de,we){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(oe=O(oe,de)),gy.call(this,N,z,oe,we=we||"Identity-H")};var _d,ng=e.lineWidth||.200025,z2=f.__private__.getLineWidth=f.getLineWidth=function(){return ng},Kt=f.__private__.setLineWidth=f.setLineWidth=function(N){return ng=N,J(D($(N))+" w"),this};f.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(N,z){if(N=N||[],z=z||0,isNaN(z)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(oe){return D($(oe))}).join(" "),z=D($(z)),J("["+N+"] "+z+" d"),this};var V2=f.__private__.getLineHeight=f.getLineHeight=function(){return me*_d};f.__private__.getLineHeight=f.getLineHeight=function(){return me*_d};var W2=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(_d=N),this},H2=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return _d};W2(e.lineHeight);var Ml=f.__private__.getHorizontalCoordinate=function(N){return $(N)},Il=f.__private__.getVerticalCoordinate=function(N){return k===S?N:pt[_].mediaBox.topRightY-pt[_].mediaBox.bottomLeftY-$(N)},G2=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(N){return D(Ml(N))},Y2=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(N){return D(Il(N))},xf=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Vo(xf)},f.__private__.setStrokeColor=f.setDrawColor=function(N,z,oe,de){return xf=to({ch1:N,ch2:z,ch3:oe,ch4:de,pdfColorType:"draw",precision:2}),J(xf),this};var sg=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Vo(sg)},f.__private__.setFillColor=f.setFillColor=function(N,z,oe,de){return sg=to({ch1:N,ch2:z,ch3:oe,ch4:de,pdfColorType:"fill",precision:2}),J(sg),this};var Sd=e.textColor||"0 g",K2=f.__private__.getTextColor=f.getTextColor=function(){return Vo(Sd)};f.__private__.setTextColor=f.setTextColor=function(N,z,oe,de){return Sd=to({ch1:N,ch2:z,ch3:oe,ch4:de,pdfColorType:"text",precision:3}),this};var Dl=e.charSpace,J2=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Dl||0)};f.__private__.setCharSpace=f.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Dl=N,this};var ig=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(N){var z=f.CapJoinStyles[N];if(z===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ig=z,J(z+" J"),this};var ag=0;f.__private__.setLineJoin=f.setLineJoin=function(N){var z=f.CapJoinStyles[N];if(z===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ag=z,J(z+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(D($(N))+" M"),this},f.GState=ib,f.setGState=function(N){(N=typeof N=="string"?At[Dt[N]]:Cy(null,N)).equals(Ur)||(J("/"+N.id+" gs"),Ur=N)};var Cy=function(N,z){if(!N||!Dt[N]){var oe=!1;for(var de in At)if(At.hasOwnProperty(de)&&At[de].equals(z)){oe=!0;break}if(oe)z=At[de];else{var we="GS"+(Object.keys(At).length+1).toString(10);At[we]=z,z.id=we}return N&&(Dt[N]=z.id),mr.publish("addGState",z),z}};f.addGState=function(N,z){return Cy(N,z),this},f.saveGraphicsState=function(){return J("q"),lr.push({key:Qe,size:me,color:Sd}),this},f.restoreGraphicsState=function(){J("Q");var N=lr.pop();return Qe=N.key,me=N.size,Sd=N.color,Ur=null,this},f.setCurrentTransformationMatrix=function(N){return J(N.toString()+" cm"),this},f.comment=function(N){return J("#"+N),this};var Fl=function(N,z){var oe=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Pe){isNaN(Pe)||(oe=parseFloat(Pe))}});var de=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Pe){isNaN(Pe)||(de=parseFloat(Pe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Pe){we=Pe.toString()}}),this},og=function(N,z,oe,de){Fl.call(this,N,z),this.type="rect";var we=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Fe){isNaN(Fe)||(we=parseFloat(Fe))}});var Pe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Fe){isNaN(Fe)||(Pe=parseFloat(Fe))}}),this},wf=function(){this.page=Yt,this.currentPage=_,this.pages=ue.slice(0),this.pagesContext=pt.slice(0),this.x=rt,this.y=Fr,this.matrix=qt,this.width=cg(_),this.height=Ay(_),this.outputDestination=_e,this.id="",this.objectNumber=-1};wf.prototype.restore=function(){Yt=this.page,_=this.currentPage,pt=this.pagesContext,ue=this.pages,rt=this.x,Fr=this.y,qt=this.matrix,Ey(_,this.width),$l(_,this.height),_e=this.outputDestination};var lg=function(N,z,oe,de,we){Dn.push(new wf),Yt=_=0,ue=[],rt=N,Fr=z,qt=we,eg([oe,de])};for(var jd in f.beginFormObject=function(N,z,oe,de,we){return lg(N,z,oe,de,we),this},f.endFormObject=function(N){return function(z){if(cr[z])Dn.pop().restore();else{var oe=new wf,de="Xo"+(Object.keys(Ft).length+1).toString(10);oe.id=de,cr[z]=de,Ft[de]=oe,mr.publish("addFormObject",oe),Dn.pop().restore()}}(N),this},f.doFormObject=function(N,z){var oe=Ft[cr[N]];return J("q"),J(z.toString()+" cm"),J("/"+oe.id+" Do"),J("Q"),this},f.getFormObject=function(N){var z=Ft[cr[N]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},f.save=function(N,z){return N=N||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Hd(vf(Go()),N),typeof Hd.unload=="function"&&Ut.setTimeout&&setTimeout(Hd.unload,911),this):new Promise(function(oe,de){try{var we=Hd(vf(Go()),N);typeof Hd.unload=="function"&&Ut.setTimeout&&setTimeout(Hd.unload,911),oe(we)}catch(Pe){de(Pe.message)}})},Et.API)Et.API.hasOwnProperty(jd)&&(jd==="events"&&Et.API.events.length?function(N,z){var oe,de,we;for(we=z.length-1;we!==-1;we--)oe=z[we][0],de=z[we][1],N.subscribe.apply(N,[oe].concat(typeof de=="function"?[de]:de))}(mr,Et.API.events):f[jd]=Et.API[jd]);function cg(N){return pt[N].mediaBox.topRightX-pt[N].mediaBox.bottomLeftX}function Ey(N,z){pt[N].mediaBox.topRightX=z+pt[N].mediaBox.bottomLeftX}function Ay(N){return pt[N].mediaBox.topRightY-pt[N].mediaBox.bottomLeftY}function $l(N,z){pt[N].mediaBox.topRightY=z+pt[N].mediaBox.bottomLeftY}var Bl=f.getPageWidth=function(N){return cg(N=N||_)/bt},Py=f.setPageWidth=function(N,z){Ey(N,z*bt)},Nd=f.getPageHeight=function(N){return Ay(N=N||_)/bt},Ty=f.setPageHeight=function(N,z){$l(N,z*bt)};return f.internal={pdfEscape:Ca,getStyle:jy,getFont:q2,getFontSize:ce,getCharSpace:J2,getTextColor:K2,getLineHeight:V2,getLineHeightFactor:H2,getLineWidth:z2,write:De,getHorizontalCoordinate:Ml,getVerticalCoordinate:Il,getCoordinateString:G2,getVerticalCoordinateString:Y2,collections:{},newObject:Fn,newAdditionalObject:yd,newObjectDeferred:Es,newObjectDeferredBegin:Ms,getFilters:ro,putStream:ka,events:mr,scaleFactor:bt,pageSize:{getWidth:function(){return Bl(_)},setWidth:function(N){Py(_,N)},getHeight:function(){return Nd(_)},setHeight:function(N){Ty(_,N)}},encryptionOptions:d,encryption:ms,getEncryptor:function(N){return d!==null?ms.encryptor(N,0):function(z){return z}},output:_y,getNumberOfPages:xy,get pages(){return ue},out:J,f2:A,f3:I,getPageInfo:Ll,getPageInfoByObjId:Sy,getCurrentPageInfo:D2,getPDFVersion:m,Point:Fl,Rectangle:og,Matrix:mt,hasHotfix:Ea},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Bl(_)},set:function(N){Py(_,N)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Nd(_)},set:function(N){Ty(_,N)},enumerable:!0,configurable:!0}),(function(N){for(var z=0,oe=Ke.length;z<oe;z++){var de=gy.call(this,N[z][0],N[z][1],N[z][2],Ke[z][3],!0);h===!1&&(p[de]=!0);var we=N[z][0].split("-");my({id:de,fontName:we[0],fontStyle:we[1]||""})}mr.publish("addFonts",{fonts:Ot,dictionary:zt})}).call(f,Ke),Qe="F1",vy(s,r),mr.publish("initialized"),f}Yf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Yf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Yf.prototype.processOwnerPassword=function(e,t){return jk(Sk(t).substr(0,5),e)},Yf.prototype.encryptor=function(e,t){var r=Sk(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return jk(r,n)}},ib.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Yr(e)!==Yr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Et.API={events:[]},Et.version="4.0.0";var qn=Et.API,GA=1,hf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(e){return e.toFixed(2)},ou=function(e){return e.toFixed(5)};qn.__acroform__={};var Hi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},fM=function(e){return e*GA},el=function(e){var t=new $W,r=ut.internal.getHeight(e)||0,n=ut.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Jt(n)),Number(Jt(r))],t},tbe=qn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},rbe=qn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},nbe=qn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},es=qn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nbe(e,t-1)},ts=qn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tbe(e,t-1)},rs=qn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rbe(e,t-1)},sbe=qn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+a)||0,c.upperRight_Y=n(i)||0,[Number(Jt(c.lowerLeft_X)),Number(Jt(c.lowerLeft_Y)),Number(Jt(c.upperRight_X)),Number(Jt(c.upperRight_Y))]},ibe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Nk(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Jt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=el(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Nk=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(A){return A.split(`
`)}):s.map(function(A){return[A]});var i=r,a=ut.internal.getHeight(e)||0;a=a<0?-a:a;var l=ut.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(A,I,$){if(A+1<s.length){var q=I+" "+s[A+1][0];return ex(q,e,$).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,h=ex("3",e,i).height,p=e.multiline?a-i:(a-h)/2,f=p+=2,v=0,m=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+ex(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var g="",b=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var k=!1;if(s[S].length!==1&&x!==s[S].length-1){if((h+2)*(b+2)+2>a)continue e;g+=s[S][x],k=!0,m=S,S--}else{g=(g+=s[S][x]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var T=parseInt(S),R=c(T,g,i),O=S>=s.length-1;if(R&&!O){g+=" ",x=0;continue}if(R||O){if(O)m=T;else if(e.multiline&&(h+2)*(b+2)+2>a)continue e}else{if(!e.multiline||(h+2)*(b+2)+2>a)continue e;m=T}}for(var D="",M=v;M<=m;M++){var G=s[M];if(e.multiline){if(M===m){D+=G[x]+" ",x=(x+1)%G.length;continue}if(M===v){D+=G[G.length-1]+" ";continue}}D+=G[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=ex(D,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Jt(u)+" "+Jt(f)+` Td
`,t+="("+hf(D)+`) Tj
`,t+=-Jt(u)+` 0 Td
`,f=-(i+2),d=0,v=k?m:m+1,b++,g=""}break}return n.text=t,n.fontSize=i,n},ex=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},abe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},obe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},lbe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(qo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(abe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");GA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new BW,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&obe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],c=[],u=l.Rect;if(l.Rect&&(l.Rect=sbe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ut.createDefaultAppearanceStream(l),Yr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=ibe(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var f=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var v=f[a];typeof v=="function"&&(v=v.call(s,l)),h+="/"+a+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(s,l)),h+="/"+a+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&function(m,x){for(var g in m)if(m.hasOwnProperty(g)){var b=g,S=m[g];x.internal.newObjectDeferredBegin(S.objId,!0),Yr(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete m[b]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},FW=qn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Yr(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+hf(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},bS=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+hf(n(e))+")"},pl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pl.prototype.toString=function(){return this.objId+" 0 R"},pl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},pl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:FW(s,this.objId,this.scope)}):s instanceof pl?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var $W=function(){pl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Hi($W,pl);var BW=function(){pl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+hf(r(e))+")"}},set:function(r){e=r}})};Hi(BW,pl);var qo=function e(){pl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!es(t,3)},set:function(g){g?this.F=ts(t,3):this.F=rs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof ab)return;i="FieldObject"+e.FieldNum++}var g=function(b){return b};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+hf(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/GA:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof ab||this instanceof _h))return bS(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ts==0?bS(p,this.objId,this.scope):p},set:function(g){g=g.toString(),p=this instanceof Ts==0?g.substr(0,1)==="("?Uf(g.substr(1,g.length-2)):Uf(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ts==1?Uf(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Ts==1?"/"+g:g}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ts==0?bS(f,this.objId,this.scope):f},set:function(g){g=g.toString(),f=this instanceof Ts==0?g.substr(0,1)==="("?Uf(g.substr(1,g.length-2)):Uf(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ts==1?Uf(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof Ts==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,1)},set:function(g){g?this.Ff=ts(this.Ff,1):this.Ff=rs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,2)},set:function(g){g?this.Ff=ts(this.Ff,2):this.Ff=rs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,3)},set:function(g){g?this.Ff=ts(this.Ff,3):this.Ff=rs(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');x=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(x){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Hi(qo,pl);var Ap=function(){qo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return FW(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,l){l||(l=1);for(var c,u=[];c=a.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,18)},set:function(r){r?this.Ff=ts(this.Ff,18):this.Ff=rs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ts(this.Ff,19):this.Ff=rs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,20)},set:function(r){r?(this.Ff=ts(this.Ff,20),t.sort()):this.Ff=rs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,22)},set:function(r){r?this.Ff=ts(this.Ff,22):this.Ff=rs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,23)},set:function(r){r?this.Ff=ts(this.Ff,23):this.Ff=rs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,27)},set:function(r){r?this.Ff=ts(this.Ff,27):this.Ff=rs(this.Ff,27)}}),this.hasAppearanceStream=!1};Hi(Ap,qo);var Pp=function(){Ap.call(this),this.fontName="helvetica",this.combo=!1};Hi(Pp,Ap);var Tp=function(){Pp.call(this),this.combo=!0};Hi(Tp,Pp);var Dx=function(){Tp.call(this),this.edit=!0};Hi(Dx,Tp);var Ts=function(){qo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,15)},set:function(r){r?this.Ff=ts(this.Ff,15):this.Ff=rs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,16)},set:function(r){r?this.Ff=ts(this.Ff,16):this.Ff=rs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,17)},set:function(r){r?this.Ff=ts(this.Ff,17):this.Ff=rs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,26)},set:function(r){r?this.Ff=ts(this.Ff,26):this.Ff=rs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+hf(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Yr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Hi(Ts,qo);var Fx=function(){Ts.call(this),this.pushButton=!0};Hi(Fx,Ts);var Rp=function(){Ts.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Hi(Rp,Ts);var ab=function(){var e,t;qo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+hf(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Yr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hi(ab,qo),Rp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Rp.prototype.createOption=function(e){var t=new ab;return t.Parent=this,t.optionName=e,this.Kids.push(t),cbe.call(this.scope,t),t};var $x=function(){Ts.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ut.CheckBox.createAppearanceStream()};Hi($x,Ts);var _h=function(){qo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,13)},set:function(t){t?this.Ff=ts(this.Ff,13):this.Ff=rs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,21)},set:function(t){t?this.Ff=ts(this.Ff,21):this.Ff=rs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,23)},set:function(t){t?this.Ff=ts(this.Ff,23):this.Ff=rs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,24)},set:function(t){t?this.Ff=ts(this.Ff,24):this.Ff=rs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,25)},set:function(t){t?this.Ff=ts(this.Ff,25):this.Ff=rs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,26)},set:function(t){t?this.Ff=ts(this.Ff,26):this.Ff=rs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hi(_h,qo);var Bx=function(){_h.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,14)},set:function(e){e?this.Ff=ts(this.Ff,14):this.Ff=rs(this.Ff,14)}}),this.password=!0};Hi(Bx,_h);var ut={CheckBox:{createAppearanceStream:function(){return{N:{On:ut.CheckBox.YesNormal},D:{On:ut.CheckBox.YesPushDown,Off:ut.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=el(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Nk(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Jt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=el(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=ut.internal.getHeight(e),a=ut.internal.getWidth(e),l=Nk(e,e.caption);return s.push("1 g"),s.push("0 0 "+Jt(a)+" "+Jt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Jt(a-1)+" "+Jt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Jt(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=el(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ut.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ut.RadioButton.Circle.YesNormal,t.D[e]=ut.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=el(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=ut.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ou(ut.internal.getWidth(e)/2)+" "+ou(ut.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=el(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ut.internal.Bezier_C).toFixed(5)),a=Number((n*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ou(ut.internal.getWidth(e)/2)+" "+ou(ut.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ou(ut.internal.getWidth(e)/2)+" "+ou(ut.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=el(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ou(ut.internal.getWidth(e)/2)+" "+ou(ut.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ut.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ut.RadioButton.Cross.YesNormal,t.D[e]=ut.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=el(e);t.scope=e.scope;var r=[],n=ut.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Jt(ut.internal.getWidth(e)-2)+" "+Jt(ut.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(n.x1.x)+" "+Jt(n.x1.y)+" m"),r.push(Jt(n.x2.x)+" "+Jt(n.x2.y)+" l"),r.push(Jt(n.x4.x)+" "+Jt(n.x4.y)+" m"),r.push(Jt(n.x3.x)+" "+Jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=el(e);t.scope=e.scope;var r=ut.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jt(ut.internal.getWidth(e)-2)+" "+Jt(ut.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),n.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),n.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),n.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=el(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ut.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ut.internal.getWidth(e),r=ut.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ut.internal.getWidth=function(e){var t=0;return Yr(e)==="object"&&(t=fM(e.Rect[2])),t},ut.internal.getHeight=function(e){var t=0;return Yr(e)==="object"&&(t=fM(e.Rect[3])),t};var cbe=qn.addField=function(e){if(lbe(this,e),!(e instanceof qo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};qn.AcroFormChoiceField=Ap,qn.AcroFormListBox=Pp,qn.AcroFormComboBox=Tp,qn.AcroFormEditBox=Dx,qn.AcroFormButton=Ts,qn.AcroFormPushButton=Fx,qn.AcroFormRadioButton=Rp,qn.AcroFormCheckBox=$x,qn.AcroFormTextField=_h,qn.AcroFormPasswordField=Bx,qn.AcroFormAppearance=ut,qn.AcroForm={ChoiceField:Ap,ListBox:Pp,ComboBox:Tp,EditBox:Dx,Button:Ts,PushButton:Fx,RadioButton:Rp,CheckBox:$x,TextField:_h,PasswordField:Bx,Appearance:ut},Et.AcroForm={ChoiceField:Ap,ListBox:Pp,ComboBox:Tp,EditBox:Dx,Button:Ts,PushButton:Fx,RadioButton:Rp,CheckBox:$x,TextField:_h,PasswordField:Bx,Appearance:ut};function UW(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(A,I){var $,q,ee,ne,te,W=r;if((I=I||r)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(R(A))for(te in n)for(ee=n[te],$=0;$<ee.length;$+=1){for(ne=!0,q=0;q<ee[$].length;q+=1)if(ee[$][q]!==void 0&&ee[$][q]!==A[q]){ne=!1;break}if(ne===!0){W=te;break}}else for(te in n)for(ee=n[te],$=0;$<ee.length;$+=1){for(ne=!0,q=0;q<ee[$].length;q+=1)if(ee[$][q]!==void 0&&ee[$][q]!==A.charCodeAt(q)){ne=!1;break}if(ne===!0){W=te;break}}return W===r&&I!==r&&(W=I),W},i=function A(I){for(var $=this.internal.write,q=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:I.width}),ne.push({key:"Height",value:I.height}),I.colorSpace===g.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===g.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var te="",W=0,Z=I.transparency.length;W<Z;W++)te+=I.transparency[W]+" "+I.transparency[W]+" ";ne.push({key:"Mask",value:"["+te+"]"})}I.sMask!==void 0&&ne.push({key:"SMask",value:I.objectId+1+" 0 R"});var pe=I.filter!==void 0?["/"+I.filter]:void 0;if(q({data:I.data,additionalKeyValues:ne,alreadyAppliedFilters:pe,objectId:I.objectId}),$("endobj"),"sMask"in I&&I.sMask!==void 0){var ve,U=(ve=I.sMaskBitsPerComponent)!==null&&ve!==void 0?ve:I.bitsPerComponent,_={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:I.sMask};"filter"in I&&(_.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(I.width),_.filter=I.filter),A.call(this,_)}if(I.colorSpace===g.INDEXED){var C=this.internal.newObject();q({data:D(new Uint8Array(I.palette)),objectId:C}),$("endobj")}},a=function(){var A=this.internal.collections[t+"images"];for(var I in A)i.call(this,A[I])},l=function(){var A,I=this.internal.collections[t+"images"],$=this.internal.write;for(var q in I)$("/I"+(A=I[q]).index,A.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var A=this.internal.collections[t+"images"];return c.call(this),A},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(A){return typeof e["process"+A.toUpperCase()]=="function"},p=function(A){return Yr(A)==="object"&&A.nodeType===1},f=function(A,I){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var $=""+A.getAttribute("src");if($.indexOf("data:image/")===0)return Ix(unescape($).split("base64,").pop());var q=e.loadFile($,!0);if(q!==void 0)return q}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var ee;switch(I){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return Ix(A.toDataURL(ee,1).split("base64,").pop())}},v=function(A){var I=this.internal.collections[t+"images"];if(I){for(var $ in I)if(A===I[$].alias)return I[$]}},m=function(A,I,$){return A||I||(A=-96,I=-96),A<0&&(A=-1*$.width*72/A/this.internal.scaleFactor),I<0&&(I=-1*$.height*72/I/this.internal.scaleFactor),A===0&&(A=I*$.width/$.height),I===0&&(I=A*$.height/$.width),[A,I]},x=function(A,I,$,q,ee,ne){var te=m.call(this,$,q,ee),W=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,pe=u.call(this);if($=te[0],q=te[1],pe[ee.index]=ee,ne){ne*=Math.PI/180;var ve=Math.cos(ne),U=Math.sin(ne),_=function(E){return E.toFixed(4)},C=[_(ve),_(U),_(-1*U),_(ve),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,W(A),Z(I+q),"cm"].join(" ")),this.internal.write(C.join(" ")),this.internal.write([W($),"0","0",W(q),"0","0","cm"].join(" "))):this.internal.write([W($),"0","0",W(q),W(A),Z(I+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(A){var I,$,q=0;if(typeof A=="string")for($=A.length,I=0;I<$;I++)q=(q<<5)-q+A.charCodeAt(I),q|=0;else if(R(A))for($=A.byteLength/2,I=0;I<$;I++)q=(q<<5)-q+A[I],q|=0;return q},k=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var I=!0;return A.length===0&&(I=!1),A.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(I=!1),I},T=e.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var I=A.indexOf(",");return I<0?null:A.substring(0,I).trim().endsWith("base64")?A.substring(I+1):null};e.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var R=e.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},O=e.__addimage__.binaryStringToUint8Array=function(A){for(var I=A.length,$=new Uint8Array(I),q=0;q<I;q++)$[q]=A.charCodeAt(q);return $},D=e.__addimage__.arrayBufferToBinaryString=function(A){for(var I="",$=R(A)?A:new Uint8Array(A),q=0;q<$.length;q+=8192)I+=String.fromCharCode.apply(null,$.subarray(q,q+8192));return I};e.addImage=function(){var A,I,$,q,ee,ne,te,W,Z;if(typeof arguments[1]=="number"?(I=r,$=arguments[1],q=arguments[2],ee=arguments[3],ne=arguments[4],te=arguments[5],W=arguments[6],Z=arguments[7]):(I=arguments[1],$=arguments[2],q=arguments[3],ee=arguments[4],ne=arguments[5],te=arguments[6],W=arguments[7],Z=arguments[8]),Yr(A=arguments[0])==="object"&&!p(A)&&"imageData"in A){var pe=A;A=pe.imageData,I=pe.format||I||r,$=pe.x||$||0,q=pe.y||q||0,ee=pe.w||pe.width||ee,ne=pe.h||pe.height||ne,te=pe.alias||te,W=pe.compression||W,Z=pe.rotation||pe.angle||Z}var ve=this.internal.getFilters();if(W===void 0&&ve.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN($)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=M.call(this,A,I,te,W);return x.call(this,$,q,ee,ne,U,Z),this};var M=function(A,I,$,q){var ee,ne,te;if(typeof A=="string"&&s(A)===r){A=unescape(A);var W=G(A,!1);(W!==""||(W=e.loadFile(A,!0))!==void 0)&&(A=W)}if(p(A)&&(A=f(A,I)),I=s(A,I),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((te=$)==null||te.length===0)&&($=function(Z){return typeof Z=="string"||R(Z)?S(Z):R(Z.data)?S(Z.data):null}(A)),(ee=v.call(this,$))||(A instanceof Uint8Array||I==="RGBA"||(ne=A,A=O(A)),ee=this["process"+I.toUpperCase()](A,d.call(this),$,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in e.image_compression?Z:b.NONE}(q),ne)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},G=e.__addimage__.convertBase64ToBinaryString=function(A,I){I=typeof I!="boolean"||I;var $,q="";if(typeof A=="string"){var ee;$=(ee=T(A))!==null&&ee!==void 0?ee:A;try{q=Ix($)}catch(ne){if(I)throw k($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(A){var I,$,q="";if(p(A)&&(A=f(A)),typeof A=="string"&&s(A)===r&&((q=G(A,!1))===""&&(q=e.loadFile(A)||""),A=q),$=s(A),!h($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(A instanceof Uint8Array||(A=O(A)),!(I=this["process"+$.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=$,I}})(Et.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Et.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(g(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(g(b))+") >>",m.content=i;var S=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(m.objId,"0 R",x.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var T=this.annotations._nameMap[n.options.name];n.options.pageNumber=T.page,n.options.top=T.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var R=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+R+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+i)},options:a,type:"link"})},e.textWithLink=function(r,n,s,i){var a,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;a=Math.ceil(u*d)}else l=c,a=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-u,l,a,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Et.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=e.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&s.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(m){var x=0,g=r,b="",S=0;for(x=0;x<m.length;x+=1)g[m.charCodeAt(x)]!==void 0?(S++,typeof(g=g[m.charCodeAt(x)])=="number"&&(b+=String.fromCharCode(g),g=r,S=0),x===m.length-1&&(g=r,b+=m.charAt(x-(S-1)),x-=S-1,S=0)):(g=r,b+=m.charAt(x-S),x-=S,S=0);return b};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(m,x,g){return a(m)?i(m)===!1?-1:!u(m)||!a(x)&&!a(g)||!a(g)&&l(x)||l(m)&&!a(x)||l(m)&&c(x)||l(m)&&l(x)?0:d(m)&&a(x)&&!l(x)&&a(g)&&u(g)?3:l(m)||!a(g)?1:2:-1},f=function(m){var x=0,g=0,b=0,S="",k="",T="",R=(m=m||"").split("\\s+"),O=[];for(x=0;x<R.length;x+=1){for(O.push(""),g=0;g<R[x].length;g+=1)S=R[x][g],k=R[x][g-1],T=R[x][g+1],a(S)?(b=p(S,k,T),O[x]+=b!==-1?String.fromCharCode(t[S.charCodeAt(0)][b]):S):O[x]+=S;O[x]=h(O[x])}return O.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var m,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(x)){var b=0;for(g=[],b=0;b<x.length;b+=1)Array.isArray(x[b])?g.push([f(x[b][0]),x[b][1],x[b][2]]):g.push([f(x[b])]);m=g}else m=f(x);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",v])}(Et.API),Et.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Et.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,f=0,v=0,m=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=u.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,k){return S.concat(x.splitTextToSize(k,g))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)f<(m=this.getStringUnitWidth(c[b],{font:h})*d)&&(f=m);return f!==0&&(v=c.length),{w:f/=p,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,v,m,x,g=[],b=[],S=[],k={},T={},R=[],O=[],D=(p=p||{}).autoSize||!1,M=p.printHeaders!==!1,G=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,A=p.margins||Object.assign({width:this.getPageWidth()},t),I=typeof p.padding=="number"?p.padding:3,$=p.headerBackgroundColor||"#c8c8c8",q=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=q,this.setFontSize(G),h==null)b=g=Object.keys(d[0]),S=g.map(function(){return"left"});else if(Array.isArray(h)&&Yr(h[0])==="object")for(g=h.map(function(pe){return pe.name}),b=h.map(function(pe){return pe.prompt||pe.name||""}),S=h.map(function(pe){return pe.align||"left"}),f=0;f<h.length;f+=1)T[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(b=g=h,S=g.map(function(){return"left"}));if(D||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<g.length;f+=1){for(k[x=g[f]]=d.map(function(pe){return pe[x]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(b[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=k[x],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)R.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[x]=Math.max.apply(null,R)+I+I,R=[]}if(M){var ee={};for(f=0;f<g.length;f+=1)ee[g[f]]={},ee[g[f]].text=b[f],ee[g[f]].align=S[f];var ne=l.call(this,ee,T);O=g.map(function(pe){return new i(c,u,T[pe],ne,ee[pe].text,void 0,ee[pe].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var te=h.reduce(function(pe,ve){return pe[ve.name]=ve.align,pe},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var W=l.call(this,d[f],T);for(m=0;m<g.length;m+=1){var Z=d[f][g[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:m,data:Z},this),a.call(this,new i(c,u,T[g[m]],W,Z,f+2,te[g[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(f){var v=c[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+d+d},this).reduce(function(f,v){return Math.max(f,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Et.API);var qW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kk=UW(zW),VW=[100,200,300,400,500,600,700,800,900],ube=UW(VW);function _S(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return qW[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof kk[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function pM(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var dbe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gM(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function vM(e){return e.trimLeft()}function hbe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function fbe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var tx,yM,xM,qf,rx,wM,bM,_M,SS=["times"];function SM(e,t,r,n,s){var i=4,a=NM;switch(s){case Et.API.image_compression.FAST:i=1,a=jM;break;case Et.API.image_compression.MEDIUM:i=6,a=kM;break;case Et.API.image_compression.SLOW:i=9,a=CM}e=function(c,u,d,h){for(var p,f=c.length/u,v=new Uint8Array(c.length+f),m=[pbe,jM,NM,kM,CM],x=0;x<f;x+=1){var g=x*u,b=c.subarray(g,g+u);if(h)v.set(h(b,d,p),g+x);else{for(var S=m.length,k=[],T=0;T<S;T+=1)k[T]=m[T](b,d,p);var R=gbe(k.concat());v.set(k[R],g+x)}p=b}return v}(e,t,Math.ceil(r*n/8),a);var l=fk(e,{level:i});return Et.API.__addimage__.arrayBufferToBinaryString(l)}function pbe(e){var t=Array.apply([],e);return t.unshift(0),t}function jM(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function NM(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var a=r&&r[i]||0;s[i+1]=e[i]-a+256&255}return s}function kM(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var a=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(a+l>>>1)&255}return s}function CM(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var a=mbe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-a+256&255}return s}function mbe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function gbe(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function jS(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),a=(1<<r)-1;return WW(e,s)>>i&a}function EM(e,t,r,n){var s=r*n,i=Math.floor(s/8),a=16-(s-8*i+n),l=(1<<n)-1,c=(t&l)<<a;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var p=h>>8&255;u.setUint8(d,p)}})(e,i,WW(e,i)&~(l<<a)&65535|c)}function WW(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function vbe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<1+(7&s);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=a,t+=3*a);var u=!0,d=[],h=0,p=null,f=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&m||(p=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,k=e[t++],T=k>>6&1,R=1<<1+(7&k),O=l,D=c,M=!1;k>>7&&(M=!0,O=t,D=R,t+=3*R);var G=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}d.push({x,y:g,width:b,height:S,has_local_palette:M,palette_offset:O,palette_size:D,data_offset:G,data_length:t-G,transparent_index:p,interlaced:!!T,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,$){var q=this.frameInfo(I),ee=q.width*q.height,ne=new Uint8Array(ee);AM(e,q.data_offset,ne,ee);var te=q.palette_offset,W=q.transparent_index;W===null&&(W=256);var Z=q.width,pe=r-Z,ve=Z,U=4*(q.y*r+q.x),_=4*((q.y+q.height)*r+q.x),C=U,E=4*pe;q.interlaced===!0&&(E+=4*r*7);for(var B=8,F=0,Q=ne.length;F<Q;++F){var se=ne[F];if(ve===0&&(ve=Z,(C+=E)>=_&&(E=4*pe+4*r*(B-1),C=U+(Z+pe)*(B<<1),B>>=1)),se===W)C+=4;else{var le=e[te+3*se],ue=e[te+3*se+1],fe=e[te+3*se+2];$[C++]=fe,$[C++]=ue,$[C++]=le,$[C++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(I,$){var q=this.frameInfo(I),ee=q.width*q.height,ne=new Uint8Array(ee);AM(e,q.data_offset,ne,ee);var te=q.palette_offset,W=q.transparent_index;W===null&&(W=256);var Z=q.width,pe=r-Z,ve=Z,U=4*(q.y*r+q.x),_=4*((q.y+q.height)*r+q.x),C=U,E=4*pe;q.interlaced===!0&&(E+=4*r*7);for(var B=8,F=0,Q=ne.length;F<Q;++F){var se=ne[F];if(ve===0&&(ve=Z,(C+=E)>=_&&(E=4*pe+4*r*(B-1),C=U+(Z+pe)*(B<<1),B>>=1)),se===W)C+=4;else{var le=e[te+3*se],ue=e[te+3*se+1],fe=e[te+3*se+2];$[C++]=le,$[C++]=ue,$[C++]=fe,$[C++]=255}--ve}}}function AM(e,t,r,n){for(var s=e[t++],i=1<<s,a=i+1,l=a+1,c=s+1,u=(1<<c)-1,d=0,h=0,p=0,f=e[t++],v=new Int32Array(4096),m=null;;){for(;d<16&&f!==0;)h|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<c)break;var x=h&u;if(h>>=c,d-=c,x!==i){if(x===a)break;for(var g=x<l?x:m,b=0,S=g;S>i;)S=v[S]>>8,++b;var k=S;if(p+b+(g!==x?1:0)>n)return void an.log("Warning, gif stream longer than expected.");r[p++]=k;var T=p+=b;for(g!==x&&(r[p++]=k),S=g;b--;)S=v[S],r[--T]=255&S,S>>=8;m!==null&&l<4096&&(v[l++]=m<<8|k,l>=u+1&&c<12&&(++c,u=u<<1|1)),m=x}else l=a+1,u=(1<<(c=s+1))-1,m=null}return p!==n&&an.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function NS(e){var t,r,n,s,i,a=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),v=new Array(64),m=[],x=0,g=7,b=new Array(64),S=new Array(64),k=new Array(64),T=new Array(256),R=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(U,_){for(var C=0,E=0,B=new Array,F=1;F<=16;F++){for(var Q=1;Q<=U[F];Q++)B[_[E]]=[],B[_[E]][0]=C,B[_[E]][1]=F,E++,C++;C*=2}return B}function te(U){for(var _=U[0],C=U[1]-1;C>=0;)_&1<<C&&(x|=1<<g),C--,--g<0&&(x==255?(W(255),W(0)):W(x),g=7,x=0)}function W(U){m.push(U)}function Z(U){W(U>>8&255),W(255&U)}function pe(U,_,C,E,B){for(var F,Q=B[0],se=B[240],le=function(me,re){var ce,xe,Ne,Oe,Ce,Le,et,at,Qe,bt,rt=0;for(Qe=0;Qe<8;++Qe){ce=me[rt],xe=me[rt+1],Ne=me[rt+2],Oe=me[rt+3],Ce=me[rt+4],Le=me[rt+5],et=me[rt+6];var Fr=ce+(at=me[rt+7]),qt=ce-at,Ot=xe+et,zt=xe-et,lr=Ne+Le,_t=Ne-Le,br=Oe+Ce,At=Oe-Ce,Dt=Fr+br,Ur=Fr-br,Yt=Ot+lr,pt=Ot-lr;me[rt]=Dt+Yt,me[rt+4]=Dt-Yt;var mr=.707106781*(pt+Ur);me[rt+2]=Ur+mr,me[rt+6]=Ur-mr;var Pt=.382683433*((Dt=At+_t)-(pt=zt+qt)),Ft=.5411961*Dt+Pt,cr=1.306562965*pt+Pt,Dn=.707106781*(Yt=_t+zt),mt=qt+Dn,Cs=qt-Dn;me[rt+5]=Cs+Ft,me[rt+3]=Cs-Ft,me[rt+1]=mt+cr,me[rt+7]=mt-cr,rt+=8}for(rt=0,Qe=0;Qe<8;++Qe){ce=me[rt],xe=me[rt+8],Ne=me[rt+16],Oe=me[rt+24],Ce=me[rt+32],Le=me[rt+40],et=me[rt+48];var Ls=ce+(at=me[rt+56]),jn=ce-at,Hn=xe+et,Fn=xe-et,Es=Ne+Le,Ms=Ne-Le,yd=Oe+Ce,$c=Oe-Ce,eo=Ls+yd,Vo=Ls-yd,to=Hn+Es,ro=Hn-Es;me[rt]=eo+to,me[rt+32]=eo-to;var ka=.707106781*(ro+Vo);me[rt+16]=Vo+ka,me[rt+48]=Vo-ka;var xd=.382683433*((eo=$c+Ms)-(ro=Fn+jn)),Wo=.5411961*eo+xd,wd=1.306562965*ro+xd,ff=.707106781*(to=Ms+Fn),pf=jn+ff,mf=jn-ff;me[rt+40]=mf+Wo,me[rt+24]=mf-Wo,me[rt+8]=pf+wd,me[rt+56]=pf-wd,rt++}for(Qe=0;Qe<64;++Qe)bt=me[Qe]*re[Qe],f[Qe]=bt>0?bt+.5|0:bt-.5|0;return f}(U,_),ue=0;ue<64;++ue)v[O[ue]]=le[ue];var fe=v[0]-C;C=v[0],fe==0?te(E[0]):(te(E[p[F=32767+fe]]),te(h[F]));for(var _e=63;_e>0&&v[_e]==0;)_e--;if(_e==0)return te(Q),C;for(var Ie,J=1;J<=_e;){for(var De=J;v[J]==0&&J<=_e;)++J;var Ye=J-De;if(Ye>=16){Ie=Ye>>4;for(var Ke=1;Ke<=Ie;++Ke)te(se);Ye&=15}F=32767+v[J],te(B[(Ye<<4)+p[F]]),te(h[F]),J++}return _e!=63&&te(Q),C}function ve(U){U=Math.min(Math.max(U,1),100),i!=U&&(function(_){for(var C=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],E=0;E<64;E++){var B=a((C[E]*_+50)/100);B=Math.min(Math.max(B,1),255),l[O[E]]=B}for(var F=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Q=0;Q<64;Q++){var se=a((F[Q]*_+50)/100);se=Math.min(Math.max(se,1),255),c[O[Q]]=se}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ue=0,fe=0;fe<8;fe++)for(var _e=0;_e<8;_e++)u[ue]=1/(l[O[ue]]*le[fe]*le[_e]*8),d[ue]=1/(c[O[ue]]*le[fe]*le[_e]*8),ue++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,_){_&&ve(_),m=new Array,x=0,g=7,Z(65496),Z(65504),Z(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),Z(1),Z(1),W(0),W(0),function(){Z(65499),Z(132),W(0);for(var xe=0;xe<64;xe++)W(l[xe]);W(1);for(var Ne=0;Ne<64;Ne++)W(c[Ne])}(),function(xe,Ne){Z(65472),Z(17),W(8),Z(Ne),Z(xe),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(U.width,U.height),function(){Z(65476),Z(418),W(0);for(var xe=0;xe<16;xe++)W(D[xe+1]);for(var Ne=0;Ne<=11;Ne++)W(M[Ne]);W(16);for(var Oe=0;Oe<16;Oe++)W(G[Oe+1]);for(var Ce=0;Ce<=161;Ce++)W(A[Ce]);W(1);for(var Le=0;Le<16;Le++)W(I[Le+1]);for(var et=0;et<=11;et++)W($[et]);W(17);for(var at=0;at<16;at++)W(q[at+1]);for(var Qe=0;Qe<=161;Qe++)W(ee[Qe])}(),Z(65498),Z(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var C=0,E=0,B=0;x=0,g=7,this.encode.displayName="_encode_";for(var F,Q,se,le,ue,fe,_e,Ie,J,De=U.data,Ye=U.width,Ke=U.height,me=4*Ye,re=0;re<Ke;){for(F=0;F<me;){for(ue=me*re+F,_e=-1,Ie=0,J=0;J<64;J++)fe=ue+(Ie=J>>3)*me+(_e=4*(7&J)),re+Ie>=Ke&&(fe-=me*(re+1+Ie-Ke)),F+_e>=me&&(fe-=F+_e-me+4),Q=De[fe++],se=De[fe++],le=De[fe++],b[J]=(R[Q]+R[se+256|0]+R[le+512|0]>>16)-128,S[J]=(R[Q+768|0]+R[se+1024|0]+R[le+1280|0]>>16)-128,k[J]=(R[Q+1280|0]+R[se+1536|0]+R[le+1792|0]>>16)-128;C=pe(b,u,C,t,n),E=pe(S,d,E,r,s),B=pe(k,d,B,r,s),F+=32}re+=8}if(g>=0){var ce=[];ce[1]=g+1,ce[0]=(1<<g+1)-1,te(ce)}return Z(65497),new Uint8Array(m)},e=e||50,function(){for(var U=String.fromCharCode,_=0;_<256;_++)T[_]=U(_)}(),t=ne(D,M),r=ne(I,$),n=ne(G,A),s=ne(q,ee),function(){for(var U=1,_=2,C=1;C<=15;C++){for(var E=U;E<_;E++)p[32767+E]=C,h[32767+E]=[],h[32767+E][1]=C,h[32767+E][0]=E;for(var B=-(_-1);B<=-U;B++)p[32767+B]=C,h[32767+B]=[],h[32767+B][1]=C,h[32767+B][0]=_-1+B;U<<=1,_<<=1}}(),function(){for(var U=0;U<256;U++)R[U]=19595*U,R[U+256|0]=38470*U,R[U+512|0]=7471*U+32768,R[U+768|0]=-11059*U,R[U+1024|0]=-21709*U,R[U+1280|0]=32768*U+8421375,R[U+1536|0]=-27439*U,R[U+1792|0]=-5329*U}(),ve(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ho(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function PM(e){function t(M){if(!M)throw Error("assert :P")}function r(M,G,A){for(var I=0;4>I;I++)if(M[G+I]!=A.charCodeAt(I))return!0;return!1}function n(M,G,A,I,$){for(var q=0;q<$;q++)M[G+q]=A[I+q]}function s(M,G,A,I){for(var $=0;$<I;$++)M[G+$]=A}function i(M){return new Int32Array(M)}function a(M,G){for(var A=[],I=0;I<M;I++)A.push(new G);return A}function l(M,G){var A=[];return function I($,q,ee){for(var ne=ee[q],te=0;te<ne&&($.push(ee.length>q+1?[]:new G),!(ee.length<q+1));te++)I($[te],q+1,ee)}(A,0,M),A}var c=function(){var M=this;function G(y,j){for(var P=1<<j-1>>>0;y&P;)P>>>=1;return P?(y&P-1)+P:y}function A(y,j,P,L,V){t(!(L%P));do y[j+(L-=P)]=V;while(0<L)}function I(y,j,P,L,V){if(t(2328>=V),512>=V)var H=i(512);else if((H=i(V))==null)return 0;return function(Y,K,X,ie,ge,je){var ae,ye,be=K,Ee=1<<X,Se=i(16),Ae=i(16);for(t(ge!=0),t(ie!=null),t(Y!=null),t(0<X),ye=0;ye<ge;++ye){if(15<ie[ye])return 0;++Se[ie[ye]]}if(Se[0]==ge)return 0;for(Ae[1]=0,ae=1;15>ae;++ae){if(Se[ae]>1<<ae)return 0;Ae[ae+1]=Ae[ae]+Se[ae]}for(ye=0;ye<ge;++ye)ae=ie[ye],0<ie[ye]&&(je[Ae[ae]++]=ye);if(Ae[15]==1)return(ie=new $).g=0,ie.value=je[0],A(Y,be,1,Ee,ie),Ee;var Te,Ue=-1,$e=Ee-1,Nt=0,ct=1,rr=1,vt=1<<X;for(ye=0,ae=1,ge=2;ae<=X;++ae,ge<<=1){if(ct+=rr<<=1,0>(rr-=Se[ae]))return 0;for(;0<Se[ae];--Se[ae])(ie=new $).g=ae,ie.value=je[ye++],A(Y,be+Nt,ge,vt,ie),Nt=G(Nt,ae)}for(ae=X+1,ge=2;15>=ae;++ae,ge<<=1){if(ct+=rr<<=1,0>(rr-=Se[ae]))return 0;for(;0<Se[ae];--Se[ae]){if(ie=new $,(Nt&$e)!=Ue){for(be+=vt,Te=1<<(Ue=ae)-X;15>Ue&&!(0>=(Te-=Se[Ue]));)++Ue,Te<<=1;Ee+=vt=1<<(Te=Ue-X),Y[K+(Ue=Nt&$e)].g=Te+X,Y[K+Ue].value=be-K-Ue}ie.g=ae-X,ie.value=je[ye++],A(Y,be+(Nt>>X),ge,vt,ie),Nt=G(Nt,ae)}}return ct!=2*Ae[15]-1?0:Ee}(y,j,P,L,V,H)}function $(){this.value=this.g=0}function q(){this.value=this.g=0}function ee(){this.G=a(5,$),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Td,q)}function ne(y,j,P,L){t(y!=null),t(j!=null),t(2147483648>L),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=j,y.pa=P,y.Jd=j,y.Yc=P+L,y.Zc=4<=L?P+L-4+1:P,Q(y)}function te(y,j){for(var P=0;0<j--;)P|=le(y,128)<<j;return P}function W(y,j){var P=te(y,j);return se(y)?-P:P}function Z(y,j,P,L){var V,H=0;for(t(y!=null),t(j!=null),t(4294967288>L),y.Sb=L,y.Ra=0,y.u=0,y.h=0,4<L&&(L=4),V=0;V<L;++V)H+=j[P+V]<<8*V;y.Ra=H,y.bb=L,y.oa=j,y.pa=P}function pe(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<zc-8>>>0,++y.bb,y.u-=8;E(y)&&(y.h=1,y.u=0)}function ve(y,j){if(t(0<=j),!y.h&&j<=Yi){var P=C(y)&Gi[j];return y.u+=j,pe(y),P}return y.h=1,y.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function C(y){return y.Ra>>>(y.u&zc-1)>>>0}function E(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>zc}function B(y,j){y.u=j,y.h=E(y)}function F(y){y.u>=Vl&&(t(y.u>=Vl),pe(y))}function Q(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function se(y){return te(y,1)}function le(y,j){var P=y.Ca;0>y.b&&Q(y);var L=y.b,V=P*j>>>8,H=(y.I>>>L>V)+0;for(H?(P-=V,y.I-=V+1<<L>>>0):P=V+1,L=P,V=0;256<=L;)V+=8,L>>=8;return L=7^V+Vc[L],y.b-=L,y.Ca=(P<<L)-1,H}function ue(y,j,P){y[j+0]=P>>24&255,y[j+1]=P>>16&255,y[j+2]=P>>8&255,y[j+3]=255&P}function fe(y,j){return y[j+0]|y[j+1]<<8}function _e(y,j){return fe(y,j)|y[j+2]<<16}function Ie(y,j){return fe(y,j)|fe(y,j+2)<<16}function J(y,j){var P=1<<j;return t(y!=null),t(0<j),y.X=i(P),y.X==null?0:(y.Mb=32-j,y.Xa=j,1)}function De(y,j){t(y!=null),t(j!=null),t(y.Xa==j.Xa),n(j.X,0,y.X,0,1<<j.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function Ke(y,j,P,L){t(P!=null),t(L!=null);var V=P[0],H=L[0];return V==0&&(V=(y*H+j/2)/j),H==0&&(H=(j*V+y/2)/y),0>=V||0>=H?0:(P[0]=V,L[0]=H,1)}function me(y,j){return y+(1<<j)-1>>>j}function re(y,j){return((4278255360&y)+(4278255360&j)>>>0&4278255360)+((16711935&y)+(16711935&j)>>>0&16711935)>>>0}function ce(y,j){M[j]=function(P,L,V,H,Y,K,X){var ie;for(ie=0;ie<Y;++ie){var ge=M[y](K[X+ie-1],V,H+ie);K[X+ie]=re(P[L+ie],ge)}}}function xe(){this.ud=this.hd=this.jd=0}function Ne(y,j){return((4278124286&(y^j))>>>1)+(y&j)>>>0}function Oe(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Ce(y,j){return Oe(y+(y-j+.5>>1))}function Le(y,j,P){return Math.abs(j-P)-Math.abs(y-P)}function et(y,j,P,L,V,H,Y){for(L=H[Y-1],P=0;P<V;++P)H[Y+P]=L=re(y[j+P],L)}function at(y,j,P,L,V){var H;for(H=0;H<P;++H){var Y=y[j+H],K=Y>>8&255,X=16711935&(X=(X=16711935&Y)+((K<<16)+K));L[V+H]=(4278255360&Y)+X>>>0}}function Qe(y,j){j.jd=255&y,j.hd=y>>8&255,j.ud=y>>16&255}function bt(y,j,P,L,V,H){var Y;for(Y=0;Y<L;++Y){var K=j[P+Y],X=K>>>8,ie=K,ge=255&(ge=(ge=K>>>16)+((y.jd<<24>>24)*(X<<24>>24)>>>5));ie=255&(ie=(ie+=(y.hd<<24>>24)*(X<<24>>24)>>>5)+((y.ud<<24>>24)*(ge<<24>>24)>>>5)),V[H+Y]=(4278255360&K)+(ge<<16)+ie}}function rt(y,j,P,L,V){M[j]=function(H,Y,K,X,ie,ge,je,ae,ye){for(X=je;X<ae;++X)for(je=0;je<ye;++je)ie[ge++]=V(K[L(H[Y++])])},M[y]=function(H,Y,K,X,ie,ge,je){var ae=8>>H.b,ye=H.Ea,be=H.K[0],Ee=H.w;if(8>ae)for(H=(1<<H.b)-1,Ee=(1<<ae)-1;Y<K;++Y){var Se,Ae=0;for(Se=0;Se<ye;++Se)Se&H||(Ae=L(X[ie++])),ge[je++]=V(be[Ae&Ee]),Ae>>=ae}else M["VP8LMapColor"+P](X,ie,be,Ee,ge,je,Y,K,ye)}}function Fr(y,j,P,L,V){for(P=j+P;j<P;){var H=y[j++];L[V++]=H>>16&255,L[V++]=H>>8&255,L[V++]=255&H}}function qt(y,j,P,L,V){for(P=j+P;j<P;){var H=y[j++];L[V++]=H>>16&255,L[V++]=H>>8&255,L[V++]=255&H,L[V++]=H>>24&255}}function Ot(y,j,P,L,V){for(P=j+P;j<P;){var H=(Y=y[j++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;L[V++]=H,L[V++]=Y}}function zt(y,j,P,L,V){for(P=j+P;j<P;){var H=(Y=y[j++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;L[V++]=H,L[V++]=Y}}function lr(y,j,P,L,V){for(P=j+P;j<P;){var H=y[j++];L[V++]=255&H,L[V++]=H>>8&255,L[V++]=H>>16&255}}function _t(y,j,P,L,V,H){if(H==0)for(P=j+P;j<P;)ue(L,((H=y[j++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),V+=32;else n(L,V,y,j,P)}function br(y,j){M[j][0]=M[y+"0"],M[j][1]=M[y+"1"],M[j][2]=M[y+"2"],M[j][3]=M[y+"3"],M[j][4]=M[y+"4"],M[j][5]=M[y+"5"],M[j][6]=M[y+"6"],M[j][7]=M[y+"7"],M[j][8]=M[y+"8"],M[j][9]=M[y+"9"],M[j][10]=M[y+"10"],M[j][11]=M[y+"11"],M[j][12]=M[y+"12"],M[j][13]=M[y+"13"],M[j][14]=M[y+"0"],M[j][15]=M[y+"0"]}function At(y){return y==X2||y==e_||y==By||y==t_}function Dt(){this.eb=[],this.size=this.A=this.fb=0}function Ur(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Dt,this.f.kb=new Ur,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function mr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Pt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Ft(y,j){var P=y.T,L=j.ba.f.RGBA,V=L.eb,H=L.fb+y.ka*L.A,Y=Ra[j.ba.S],K=y.y,X=y.O,ie=y.f,ge=y.N,je=y.ea,ae=y.W,ye=j.cc,be=j.dc,Ee=j.Mc,Se=j.Nc,Ae=y.ka,Te=y.ka+y.T,Ue=y.U,$e=Ue+1>>1;for(Ae==0?Y(K,X,null,null,ie,ge,je,ae,ie,ge,je,ae,V,H,null,null,Ue):(Y(j.ec,j.fc,K,X,ye,be,Ee,Se,ie,ge,je,ae,V,H-L.A,V,H,Ue),++P);Ae+2<Te;Ae+=2)ye=ie,be=ge,Ee=je,Se=ae,ge+=y.Rc,ae+=y.Rc,H+=2*L.A,Y(K,(X+=2*y.fa)-y.fa,K,X,ye,be,Ee,Se,ie,ge,je,ae,V,H-L.A,V,H,Ue);return X+=y.fa,y.j+Te<y.o?(n(j.ec,j.fc,K,X,Ue),n(j.cc,j.dc,ie,ge,$e),n(j.Mc,j.Nc,je,ae,$e),P--):1&Te||Y(K,X,null,null,ie,ge,je,ae,ie,ge,je,ae,V,H+L.A,null,null,Ue),P}function cr(y,j,P){var L=y.F,V=[y.J];if(L!=null){var H=y.U,Y=j.ba.S,K=Y==$y||Y==By;j=j.ba.f.RGBA;var X=[0],ie=y.ka;X[0]=y.T,y.Kb&&(ie==0?--X[0]:(--ie,V[0]-=y.width),y.j+y.ka+y.T==y.o&&(X[0]=y.o-y.j-ie));var ge=j.eb;ie=j.fb+ie*j.A,y=t4(L,V[0],y.width,H,X,ge,ie+(K?0:3),j.A),t(P==X),y&&At(Y)&&bg(ge,ie,K,H,X,j.A)}return 0}function Dn(y){var j=y.ma,P=j.ba.S,L=11>P,V=P==Dy||P==Fy||P==$y||P==Z2||P==12||At(P);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!fg(j.Oa,y,V?11:12))return 0;if(V&&At(P)&&ug(),y.da)alert("todo:use_scaling");else{if(L){if(j.Ib=Pt,y.Kb){if(P=y.U+1>>1,j.memory=i(y.U+2*P),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+y.U,j.Mc=j.cc,j.Nc=j.dc+P,j.Ib=Ft,ug()}}else alert("todo:EmitYUV");V&&(j.Jb=cr,L&&so())}if(L&&!y4){for(y=0;256>y;++y)CH[y]=89858*(y-128)+qy>>Uy,PH[y]=-22014*(y-128)+qy,AH[y]=-45773*(y-128),EH[y]=113618*(y-128)+qy>>Uy;for(y=Sg;y<s_;++y)j=76283*(y-16)+qy>>Uy,TH[y-Sg]=Ho(j,255),RH[y-Sg]=Ho(j+8>>4,15);y4=1}return 1}function mt(y){var j=y.ma,P=y.U,L=y.T;return t(!(1&y.ka)),0>=P||0>=L?0:(P=j.Ib(y,j),j.Jb!=null&&j.Jb(y,j,P),j.Dc+=P,1)}function Cs(y){y.ma.memory=null}function Ls(y,j,P,L){return ve(y,8)!=47?0:(j[0]=ve(y,14)+1,P[0]=ve(y,14)+1,L[0]=ve(y,1),ve(y,3)!=0?0:!y.h)}function jn(y,j){if(4>y)return y+1;var P=y-2>>1;return(2+(1&y)<<P)+ve(j,P)+1}function Hn(y,j){return 120<j?j-120:1<=(P=((P=fH[j-1])>>4)*y+(8-(15&P)))?P:1;var P}function Fn(y,j,P){var L=C(P),V=y[j+=255&L].g-8;return 0<V&&(B(P,P.u+8),L=C(P),j+=y[j].value,j+=L&(1<<V)-1),B(P,P.u+y[j].g),y[j].value}function Es(y,j,P){return P.g+=y.g,P.value+=y.value<<j>>>0,t(8>=P.g),y.g}function Ms(y,j,P){var L=y.xc;return t((j=L==0?0:y.vc[y.md*(P>>L)+(j>>L)])<y.Wb),y.Ya[j]}function yd(y,j,P,L){var V=y.ab,H=y.c*j,Y=y.C;j=Y+j;var K=P,X=L;for(L=y.Ta,P=y.Ua;0<V--;){var ie=y.gc[V],ge=Y,je=j,ae=K,ye=X,be=(X=L,K=P,ie.Ea);switch(t(ge<je),t(je<=ie.nc),ie.hc){case 2:Gn(ae,ye,(je-ge)*be,X,K);break;case 0:var Ee=ge,Se=je,Ae=X,Te=K,Ue=(vt=ie).Ea;Ee==0&&(mg(ae,ye,null,null,1,Ae,Te),et(ae,ye+1,0,0,Ue-1,Ae,Te+1),ye+=Ue,Te+=Ue,++Ee);for(var $e=1<<vt.b,Nt=$e-1,ct=me(Ue,vt.b),rr=vt.K,vt=vt.w+(Ee>>vt.b)*ct;Ee<Se;){var ur=rr,ys=vt,nr=1;for(Sf(ae,ye,Ae,Te-Ue,1,Ae,Te);nr<Ue;){var yt=(nr&~Nt)+$e;yt>Ue&&(yt=Ue),(0,vg[ur[ys++]>>8&15])(ae,ye+ +nr,Ae,Te+nr-Ue,yt-nr,Ae,Te+nr),nr=yt}ye+=Ue,Te+=Ue,++Ee&Nt||(vt+=ct)}je!=ie.nc&&n(X,K-be,X,K+(je-ge-1)*be,be);break;case 1:for(be=ae,Se=ye,Ue=(ae=ie.Ea)-(Te=ae&~(Ae=(ye=1<<ie.b)-1)),Ee=me(ae,ie.b),$e=ie.K,ie=ie.w+(ge>>ie.b)*Ee;ge<je;){for(Nt=$e,ct=ie,rr=new xe,vt=Se+Te,ur=Se+ae;Se<vt;)Qe(Nt[ct++],rr),yg(rr,be,Se,ye,X,K),Se+=ye,K+=ye;Se<ur&&(Qe(Nt[ct++],rr),yg(rr,be,Se,Ue,X,K),Se+=Ue,K+=Ue),++ge&Ae||(ie+=Ee)}break;case 3:if(ae==X&&ye==K&&0<ie.b){for(Se=X,ae=be=K+(je-ge)*be-(Te=(je-ge)*me(ie.Ea,ie.b)),ye=X,Ae=K,Ee=[],Te=(Ue=Te)-1;0<=Te;--Te)Ee[Te]=ye[Ae+Te];for(Te=Ue-1;0<=Te;--Te)Se[ae+Te]=Ee[Te];Oy(ie,ge,je,X,be,X,K)}else Oy(ie,ge,je,ae,ye,X,K)}K=L,X=P}X!=P&&n(L,P,K,X,H)}function $c(y,j){var P=y.V,L=y.Ba+y.c*y.C,V=j-y.C;if(t(j<=y.l.o),t(16>=V),0<V){var H=y.l,Y=y.Ta,K=y.Ua,X=H.width;if(yd(y,V,P,L),V=K=[K],t((P=y.C)<(L=j)),t(H.v<H.va),L>H.o&&(L=H.o),P<H.j){var ie=H.j-P;P=H.j,V[0]+=ie*X}if(P>=L?P=0:(V[0]+=4*H.v,H.ka=P-H.j,H.U=H.va-H.v,H.T=L-P,P=1),P){if(K=K[0],11>(P=y.ca).S){var ge=P.f.RGBA,je=(L=P.S,V=H.U,H=H.T,ie=ge.eb,ge.A),ae=H;for(ge=ge.fb+y.Ma*ge.A;0<ae--;){var ye=Y,be=K,Ee=V,Se=ie,Ae=ge;switch(L){case Iy:xg(ye,be,Ee,Se,Ae);break;case Dy:Wc(ye,be,Ee,Se,Ae);break;case X2:Wc(ye,be,Ee,Se,Ae),bg(Se,Ae,0,Ee,1,0);break;case l4:Rd(ye,be,Ee,Se,Ae);break;case Fy:_t(ye,be,Ee,Se,Ae,1);break;case e_:_t(ye,be,Ee,Se,Ae,1),bg(Se,Ae,0,Ee,1,0);break;case $y:_t(ye,be,Ee,Se,Ae,0);break;case By:_t(ye,be,Ee,Se,Ae,0),bg(Se,Ae,1,Ee,1,0);break;case Z2:Hc(ye,be,Ee,Se,Ae);break;case t_:Hc(ye,be,Ee,Se,Ae),e4(Se,Ae,Ee,1,0);break;case c4:Gc(ye,be,Ee,Se,Ae);break;default:t(0)}K+=X,ge+=je}y.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=P.height)}}y.C=j,t(y.C<=y.i)}function eo(y){var j;if(0<y.ua)return 0;for(j=0;j<y.Wb;++j){var P=y.Ya[j].G,L=y.Ya[j].H;if(0<P[1][L[1]+0].g||0<P[2][L[2]+0].g||0<P[3][L[3]+0].g)return 0}return 1}function Vo(y,j,P,L,V,H){if(y.Z!=0){var Y=y.qd,K=y.rd;for(t(Jc[y.Z]!=null);j<P;++j)Jc[y.Z](Y,K,L,V,L,V,H),Y=L,K=V,V+=H;y.qd=Y,y.rd=K}}function to(y,j){var P=y.l.ma,L=P.Z==0||P.Z==1?y.l.j:y.C;if(L=y.C<L?L:y.C,t(j<=y.l.o),j>L){var V=y.l.width,H=P.ca,Y=P.tb+V*L,K=y.V,X=y.Ba+y.c*L,ie=y.gc;t(y.ab==1),t(ie[0].hc==3),Jo(ie[0],L,j,K,X,H,Y),Vo(P,L,j,H,Y,V)}y.C=y.Ma=j}function ro(y,j,P,L,V,H,Y){var K=y.$/L,X=y.$%L,ie=y.m,ge=y.s,je=P+y.$,ae=je;V=P+L*V;var ye=P+L*H,be=280+ge.ua,Ee=y.Pb?K:16777216,Se=0<ge.ua?ge.Wa:null,Ae=ge.wc,Te=je<ye?Ms(ge,X,K):null;t(y.C<H),t(ye<=V);var Ue=!1;e:for(;;){for(;Ue||je<ye;){var $e=0;if(K>=Ee){var Nt=je-P;t((Ee=y).Pb),Ee.wd=Ee.m,Ee.xd=Nt,0<Ee.s.ua&&De(Ee.s.Wa,Ee.s.vb),Ee=K+mH}if(X&Ae||(Te=Ms(ge,X,K)),t(Te!=null),Te.Qb&&(j[je]=Te.qb,Ue=!0),!Ue)if(F(ie),Te.jc){$e=ie,Nt=j;var ct=je,rr=Te.pd[C($e)&Td-1];t(Te.jc),256>rr.g?(B($e,$e.u+rr.g),Nt[ct]=rr.value,$e=0):(B($e,$e.u+rr.g-256),t(256<=rr.value),$e=rr.value),$e==0&&(Ue=!0)}else $e=Fn(Te.G[0],Te.H[0],ie);if(ie.h)break;if(Ue||256>$e){if(!Ue)if(Te.nd)j[je]=(Te.qb|$e<<8)>>>0;else{if(F(ie),Ue=Fn(Te.G[1],Te.H[1],ie),F(ie),Nt=Fn(Te.G[2],Te.H[2],ie),ct=Fn(Te.G[3],Te.H[3],ie),ie.h)break;j[je]=(ct<<24|Ue<<16|$e<<8|Nt)>>>0}if(Ue=!1,++je,++X>=L&&(X=0,++K,Y!=null&&K<=H&&!(K%16)&&Y(y,K),Se!=null))for(;ae<je;)$e=j[ae++],Se.X[(506832829*$e&4294967295)>>>Se.Mb]=$e}else if(280>$e){if($e=jn($e-256,ie),Nt=Fn(Te.G[4],Te.H[4],ie),F(ie),Nt=Hn(L,Nt=jn(Nt,ie)),ie.h)break;if(je-P<Nt||V-je<$e)break e;for(ct=0;ct<$e;++ct)j[je+ct]=j[je+ct-Nt];for(je+=$e,X+=$e;X>=L;)X-=L,++K,Y!=null&&K<=H&&!(K%16)&&Y(y,K);if(t(je<=V),X&Ae&&(Te=Ms(ge,X,K)),Se!=null)for(;ae<je;)$e=j[ae++],Se.X[(506832829*$e&4294967295)>>>Se.Mb]=$e}else{if(!($e<be))break e;for(Ue=$e-280,t(Se!=null);ae<je;)$e=j[ae++],Se.X[(506832829*$e&4294967295)>>>Se.Mb]=$e;$e=je,t(!(Ue>>>(Nt=Se).Xa)),j[$e]=Nt.X[Ue],Ue=!0}Ue||t(ie.h==E(ie))}if(y.Pb&&ie.h&&je<V)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&De(y.s.vb,y.s.Wa);else{if(ie.h)break e;Y!=null&&Y(y,K>H?H:K),y.a=0,y.$=je-P}return 1}return y.a=3,0}function ka(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var j=y.Wa;j!=null&&(j.X=null),y.vb=null,t(y!=null)}function xd(){var y=new Vt;return y==null?null:(y.a=0,y.xb=h4,br("Predictor","VP8LPredictors"),br("Predictor","VP8LPredictors_C"),br("PredictorAdd","VP8LPredictorsAdd"),br("PredictorAdd","VP8LPredictorsAdd_C"),Gn=at,yg=bt,xg=Fr,Wc=qt,Hc=Ot,Gc=zt,Rd=lr,M.VP8LMapColor32b=Ko,M.VP8LMapColor8b=gg,y)}function Wo(y,j,P,L,V){var H=1,Y=[y],K=[j],X=L.m,ie=L.s,ge=null,je=0;e:for(;;){if(P)for(;H&&ve(X,1);){var ae=Y,ye=K,be=L,Ee=1,Se=be.m,Ae=be.gc[be.ab],Te=ve(Se,2);if(be.Oc&1<<Te)H=0;else{switch(be.Oc|=1<<Te,Ae.hc=Te,Ae.Ea=ae[0],Ae.nc=ye[0],Ae.K=[null],++be.ab,t(4>=be.ab),Te){case 0:case 1:Ae.b=ve(Se,3)+2,Ee=Wo(me(Ae.Ea,Ae.b),me(Ae.nc,Ae.b),0,be,Ae.K),Ae.K=Ae.K[0];break;case 3:var Ue,$e=ve(Se,8)+1,Nt=16<$e?0:4<$e?1:2<$e?2:3;if(ae[0]=me(Ae.Ea,Nt),Ae.b=Nt,Ue=Ee=Wo($e,1,0,be,Ae.K)){var ct,rr=$e,vt=Ae,ur=1<<(8>>vt.b),ys=i(ur);if(ys==null)Ue=0;else{var nr=vt.K[0],yt=vt.w;for(ys[0]=vt.K[0][0],ct=1;ct<1*rr;++ct)ys[ct]=re(nr[yt+ct],ys[ct-1]);for(;ct<4*ur;++ct)ys[ct]=0;vt.K[0]=null,vt.K[0]=ys,Ue=1}}Ee=Ue;break;case 2:break;default:t(0)}H=Ee}}if(Y=Y[0],K=K[0],H&&ve(X,1)&&!(H=1<=(je=ve(X,4))&&11>=je)){L.a=3;break e}var Je;if(Je=H)t:{var Kn,er,gr,xn=L,Fs=Y,di=K,$n=je,Js=P,hi=xn.m,xs=xn.s,Sr=[null],qr=1,Bn=0,zr=pH[$n];r:for(;;){if(Js&&ve(hi,1)){var $s=ve(hi,3)+2,ao=me(Fs,$s),Jn=me(di,$s),Pi=ao*Jn;if(!Wo(ao,Jn,0,xn,Sr))break r;for(Sr=Sr[0],xs.xc=$s,Kn=0;Kn<Pi;++Kn){var rn=Sr[Kn]>>8&65535;Sr[Kn]=rn,rn>=qr&&(qr=rn+1)}}if(hi.h)break r;for(er=0;5>er;++er){var ws=u4[er];!er&&0<$n&&(ws+=1<<$n),Bn<ws&&(Bn=ws)}var Ji=a(qr*zr,$),fi=qr,Qi=a(fi,ee);if(Qi==null)var Zi=null;else t(65536>=fi),Zi=Qi;var Ti=i(Bn);if(Zi==null||Ti==null||Ji==null){xn.a=1;break r}var Xi=Ji;for(Kn=gr=0;Kn<qr;++Kn){var cn=Zi[Kn],ea=cn.G,oo=cn.H,Ld=0,Gl=1,Bs=0;for(er=0;5>er;++er){ws=u4[er],ea[er]=Xi,oo[er]=gr,!er&&0<$n&&(ws+=1<<$n);s:{var Vy,i_=ws,Wy=xn,jg=Ti,MH=Xi,IH=gr,a_=0,Qc=Wy.m,DH=ve(Qc,1);if(s(jg,0,0,i_),DH){var FH=ve(Qc,1)+1,$H=ve(Qc,1),b4=ve(Qc,$H==0?1:8);jg[b4]=1,FH==2&&(jg[b4=ve(Qc,8)]=1);var Hy=1}else{var _4=i(19),S4=ve(Qc,4)+4;if(19<S4){Wy.a=3;var Gy=0;break s}for(Vy=0;Vy<S4;++Vy)_4[hH[Vy]]=ve(Qc,3);var o_=void 0,Ng=void 0,j4=Wy,BH=_4,Yy=i_,N4=jg,l_=0,Zc=j4.m,k4=8,C4=a(128,$);n:for(;I(C4,0,7,BH,19);){if(ve(Zc,1)){var UH=2+2*ve(Zc,3);if((o_=2+ve(Zc,UH))>Yy)break n}else o_=Yy;for(Ng=0;Ng<Yy&&o_--;){F(Zc);var E4=C4[0+(127&C(Zc))];B(Zc,Zc.u+E4.g);var Nf=E4.value;if(16>Nf)N4[Ng++]=Nf,Nf!=0&&(k4=Nf);else{var qH=Nf==16,A4=Nf-16,zH=uH[A4],P4=ve(Zc,cH[A4])+zH;if(Ng+P4>Yy)break n;for(var VH=qH?k4:0;0<P4--;)N4[Ng++]=VH}}l_=1;break n}l_||(j4.a=3),Hy=l_}(Hy=Hy&&!Qc.h)&&(a_=I(MH,IH,8,jg,i_)),Hy&&a_!=0?Gy=a_:(Wy.a=3,Gy=0)}if(Gy==0)break r;if(Gl&&dH[er]==1&&(Gl=Xi[gr].g==0),Ld+=Xi[gr].g,gr+=Gy,3>=er){var kg,c_=Ti[0];for(kg=1;kg<ws;++kg)Ti[kg]>c_&&(c_=Ti[kg]);Bs+=c_}}if(cn.nd=Gl,cn.Qb=0,Gl&&(cn.qb=(ea[3][oo[3]+0].value<<24|ea[1][oo[1]+0].value<<16|ea[2][oo[2]+0].value)>>>0,Ld==0&&256>ea[0][oo[0]+0].value&&(cn.Qb=1,cn.qb+=ea[0][oo[0]+0].value<<8)),cn.jc=!cn.Qb&&6>Bs,cn.jc){var Ky,Yl=cn;for(Ky=0;Ky<Td;++Ky){var Xc=Ky,eu=Yl.pd[Xc],Jy=Yl.G[0][Yl.H[0]+Xc];256<=Jy.value?(eu.g=Jy.g+256,eu.value=Jy.value):(eu.g=0,eu.value=0,Xc>>=Es(Jy,8,eu),Xc>>=Es(Yl.G[1][Yl.H[1]+Xc],16,eu),Xc>>=Es(Yl.G[2][Yl.H[2]+Xc],0,eu),Es(Yl.G[3][Yl.H[3]+Xc],24,eu))}}}xs.vc=Sr,xs.Wb=qr,xs.Ya=Zi,xs.yc=Ji,Je=1;break t}Je=0}if(!(H=Je)){L.a=3;break e}if(0<je){if(ie.ua=1<<je,!J(ie.Wa,je)){L.a=1,H=0;break e}}else ie.ua=0;var u_=L,T4=Y,WH=K,d_=u_.s,h_=d_.xc;if(u_.c=T4,u_.i=WH,d_.md=me(T4,h_),d_.wc=h_==0?-1:(1<<h_)-1,P){L.xb=_H;break e}if((ge=i(Y*K))==null){L.a=1,H=0;break e}H=(H=ro(L,ge,0,Y,K,K,null))&&!X.h;break e}return H?(V!=null?V[0]=ge:(t(ge==null),t(P)),L.$=0,P||ka(ie)):ka(ie),H}function wd(y,j){var P=y.c*y.i,L=P+j+16*j;return t(y.c<=j),y.V=i(L),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+P+j,1)}function ff(y,j){var P=y.C,L=j-P,V=y.V,H=y.Ba+y.c*P;for(t(j<=y.l.o);0<L;){var Y=16<L?16:L,K=y.l.ma,X=y.l.width,ie=X*Y,ge=K.ca,je=K.tb+X*P,ae=y.Ta,ye=y.Ua;yd(y,Y,V,H),r4(ae,ye,ge,je,ie),Vo(K,P,P+Y,ge,je,X),L-=Y,V+=Y*y.c,P+=Y}t(P==j),y.C=y.Ma=j}function pf(){this.ub=this.yd=this.td=this.Rb=0}function mf(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function M2(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Xm(){this.Yb=function(){var y=[];return function j(P,L,V){for(var H=V[L],Y=0;Y<H&&(P.push(V.length>L+1?[]:0),!(V.length<L+1));Y++)j(P[Y],L+1,V)}(y,0,[3,11]),y}()}function my(){this.jb=i(3),this.Wc=l([4,8],Xm),this.Xc=l([4,17],Xm)}function gy(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ca(){this.ld=this.La=this.dd=this.tc=0}function eg(){this.Na=this.la=0}function vy(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function tg(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yy(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ca),this.Y=0,this.ya=Array(new tg),this.aa=0,this.l=new gf}function xy(){this.y=i(16),this.f=i(8),this.ea=i(8)}function wy(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new pf,this.Kc=new mf,this.ed=new gy,this.Qa=new M2,this.Ic=this.$c=this.Aa=0,this.D=new yy,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,U),this.ia=0,this.pb=a(4,vy),this.Pa=new my,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xy),this.Hd=0,this.rb=Array(new eg),this.sb=0,this.wa=Array(new Ca),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new tg),this.L=this.aa=0,this.gd=l([4,2],Ca),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ho(y,j){return 0>y?0:y>j?j:y}function gf(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function I2(){var y=new wy;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,_g||(_g=vf)),y}function as(y,j,P){return y.a==0&&(y.a=j,y.sc=P,y.cb=0),0}function by(y,j,P){return 3<=P&&y[j+0]==157&&y[j+1]==1&&y[j+2]==42}function Go(y,j){if(y==null)return 0;if(y.a=0,y.sc="OK",j==null)return as(y,2,"null VP8Io passed to VP8GetHeaders()");var P=j.data,L=j.w,V=j.ha;if(4>V)return as(y,7,"Truncated header.");var H=P[L+0]|P[L+1]<<8|P[L+2]<<16,Y=y.Od;if(Y.Rb=!(1&H),Y.td=H>>1&7,Y.yd=H>>4&1,Y.ub=H>>5,3<Y.td)return as(y,3,"Incorrect keyframe parameters.");if(!Y.yd)return as(y,4,"Frame not displayable.");L+=3,V-=3;var K=y.Kc;if(Y.Rb){if(7>V)return as(y,7,"cannot parse picture header");if(!by(P,L,V))return as(y,3,"Bad code word");K.c=16383&(P[L+4]<<8|P[L+3]),K.Td=P[L+4]>>6,K.i=16383&(P[L+6]<<8|P[L+5]),K.Ud=P[L+6]>>6,L+=7,V-=7,y.za=K.c+15>>4,y.Ub=K.i+15>>4,j.width=K.c,j.height=K.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,s((H=y.Pa).jb,0,255,H.jb.length),t((H=y.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if(Y.ub>V)return as(y,7,"bad partition length");ne(H=y.m,P,L,Y.ub),L+=Y.ub,V-=Y.ub,Y.Rb&&(K.Ld=se(H),K.Kd=se(H)),K=y.Qa;var X,ie=y.Pa;if(t(H!=null),t(K!=null),K.Cb=se(H),K.Cb){if(K.Bb=se(H),se(H)){for(K.Fb=se(H),X=0;4>X;++X)K.Zb[X]=se(H)?W(H,7):0;for(X=0;4>X;++X)K.Lb[X]=se(H)?W(H,6):0}if(K.Bb)for(X=0;3>X;++X)ie.jb[X]=se(H)?te(H,8):255}else K.Bb=0;if(H.Ka)return as(y,3,"cannot parse segment header");if((K=y.ed).zd=se(H),K.Tb=te(H,6),K.wb=te(H,3),K.Pc=se(H),K.Pc&&se(H)){for(ie=0;4>ie;++ie)se(H)&&(K.vd[ie]=W(H,6));for(ie=0;4>ie;++ie)se(H)&&(K.od[ie]=W(H,6))}if(y.L=K.Tb==0?0:K.zd?1:2,H.Ka)return as(y,3,"cannot parse filter header");var ge=V;if(V=X=L,L=X+ge,K=ge,y.Xb=(1<<te(y.m,2))-1,ge<3*(ie=y.Xb))P=7;else{for(X+=3*ie,K-=3*ie,ge=0;ge<ie;++ge){var je=P[V+0]|P[V+1]<<8|P[V+2]<<16;je>K&&(je=K),ne(y.Jc[+ge],P,X,je),X+=je,K-=je,V+=3}ne(y.Jc[+ie],P,X,K),P=X<L?0:5}if(P!=0)return as(y,P,"cannot parse partitions");for(P=te(X=y.m,7),V=se(X)?W(X,4):0,L=se(X)?W(X,4):0,K=se(X)?W(X,4):0,ie=se(X)?W(X,4):0,X=se(X)?W(X,4):0,ge=y.Qa,je=0;4>je;++je){if(ge.Cb){var ae=ge.Zb[je];ge.Fb||(ae+=P)}else{if(0<je){y.pb[je]=y.pb[0];continue}ae=P}var ye=y.pb[je];ye.Sc[0]=r_[Ho(ae+V,127)],ye.Sc[1]=n_[Ho(ae+0,127)],ye.Eb[0]=2*r_[Ho(ae+L,127)],ye.Eb[1]=101581*n_[Ho(ae+K,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=r_[Ho(ae+ie,117)],ye.Qc[1]=n_[Ho(ae+X,127)],ye.lc=ae+X}if(!Y.Rb)return as(y,4,"Not a key frame.");for(se(H),Y=y.Pa,P=0;4>P;++P){for(V=0;8>V;++V)for(L=0;3>L;++L)for(K=0;11>K;++K)ie=le(H,wH[P][V][L][K])?te(H,8):yH[P][V][L][K],Y.Wc[P][V].Yb[L][K]=ie;for(V=0;17>V;++V)Y.Xc[P][V]=Y.Wc[P][bH[V]]}return y.kc=se(H),y.kc&&(y.Bd=te(H,8)),y.cb=1}function vf(y,j,P,L,V,H,Y){var K=j[V].Yb[P];for(P=0;16>V;++V){if(!le(y,K[P+0]))return V;for(;!le(y,K[P+1]);)if(K=j[++V].Yb[0],P=0,V==16)return 16;var X=j[V+1].Yb;if(le(y,K[P+2])){var ie=y,ge=0;if(le(ie,(ae=K)[(je=P)+3]))if(le(ie,ae[je+6])){for(K=0,je=2*(ge=le(ie,ae[je+8]))+(ae=le(ie,ae[je+9+ge])),ge=0,ae=gH[je];ae[K];++K)ge+=ge+le(ie,ae[K]);ge+=3+(8<<je)}else le(ie,ae[je+7])?(ge=7+2*le(ie,165),ge+=le(ie,145)):ge=5+le(ie,159);else ge=le(ie,ae[je+4])?3+le(ie,ae[je+5]):2;K=X[2]}else ge=1,K=X[1];X=Y+vH[V],0>(ie=y).b&&Q(ie);var je,ae=ie.b,ye=(je=ie.Ca>>1)-(ie.I>>ae)>>31;--ie.b,ie.Ca+=ye,ie.Ca|=1,ie.I-=(je+1&ye)<<ae,H[X]=((ge^ye)-ye)*L[(0<V)+0]}return 16}function _y(y){var j=y.rb[y.sb-1];j.la=0,j.Na=0,s(y.zc,0,0,y.zc.length),y.ja=0}function Ea(y,j,P,L,V){V=y[j+P+32*L]+(V>>3),y[j+P+32*L]=-256&V?0>V?0:255:V}function ms(y,j,P,L,V,H){Ea(y,j,0,P,L+V),Ea(y,j,1,P,L+H),Ea(y,j,2,P,L-H),Ea(y,j,3,P,L-V)}function Ll(y){return(20091*y>>16)+y}function Sy(y,j,P,L){var V,H=0,Y=i(16);for(V=0;4>V;++V){var K=y[j+0]+y[j+8],X=y[j+0]-y[j+8],ie=(35468*y[j+4]>>16)-Ll(y[j+12]),ge=Ll(y[j+4])+(35468*y[j+12]>>16);Y[H+0]=K+ge,Y[H+1]=X+ie,Y[H+2]=X-ie,Y[H+3]=K-ge,H+=4,j++}for(V=H=0;4>V;++V)K=(y=Y[H+0]+4)+Y[H+8],X=y-Y[H+8],ie=(35468*Y[H+4]>>16)-Ll(Y[H+12]),Ea(P,L,0,0,K+(ge=Ll(Y[H+4])+(35468*Y[H+12]>>16))),Ea(P,L,1,0,X+ie),Ea(P,L,2,0,X-ie),Ea(P,L,3,0,K-ge),H++,L+=32}function D2(y,j,P,L){var V=y[j+0]+4,H=35468*y[j+4]>>16,Y=Ll(y[j+4]),K=35468*y[j+1]>>16;ms(P,L,0,V+Y,y=Ll(y[j+1]),K),ms(P,L,1,V+H,y,K),ms(P,L,2,V-H,y,K),ms(P,L,3,V-Y,y,K)}function F2(y,j,P,L,V){Sy(y,j,P,L),V&&Sy(y,j+16,P,L+4)}function Yo(y,j,P,L){Od(y,j+0,P,L,1),Od(y,j+32,P,L+128,1)}function jy(y,j,P,L){var V;for(y=y[j+0]+4,V=0;4>V;++V)for(j=0;4>j;++j)Ea(P,L,j,V,y)}function Ny(y,j,P,L){y[j+0]&&$r(y,j+0,P,L),y[j+16]&&$r(y,j+16,P,L+4),y[j+32]&&$r(y,j+32,P,L+128),y[j+48]&&$r(y,j+48,P,L+128+4)}function yf(y,j,P,L){var V,H=i(16);for(V=0;4>V;++V){var Y=y[j+0+V]+y[j+12+V],K=y[j+4+V]+y[j+8+V],X=y[j+4+V]-y[j+8+V],ie=y[j+0+V]-y[j+12+V];H[0+V]=Y+K,H[8+V]=Y-K,H[4+V]=ie+X,H[12+V]=ie-X}for(V=0;4>V;++V)Y=(y=H[0+4*V]+3)+H[3+4*V],K=H[1+4*V]+H[2+4*V],X=H[1+4*V]-H[2+4*V],ie=y-H[3+4*V],P[L+0]=Y+K>>3,P[L+16]=ie+X>>3,P[L+32]=Y-K>>3,P[L+48]=ie-X>>3,L+=64}function bd(y,j,P){var L,V=j-32,H=Ki,Y=255-y[V-1];for(L=0;L<P;++L){var K,X=H,ie=Y+y[j-1];for(K=0;K<P;++K)y[j+K]=X[ie+y[V+K]];j+=32}}function $2(y,j){bd(y,j,4)}function B2(y,j){bd(y,j,8)}function U2(y,j){bd(y,j,16)}function rg(y,j){var P;for(P=0;16>P;++P)n(y,j+32*P,y,j-32,16)}function ky(y,j){var P;for(P=16;0<P;--P)s(y,j,y[j-1],16),j+=32}function no(y,j,P){var L;for(L=0;16>L;++L)s(j,P+32*L,y,16)}function q2(y,j){var P,L=16;for(P=0;16>P;++P)L+=y[j-1+32*P]+y[j+P-32];no(L>>5,y,j)}function _d(y,j){var P,L=8;for(P=0;16>P;++P)L+=y[j-1+32*P];no(L>>4,y,j)}function ng(y,j){var P,L=8;for(P=0;16>P;++P)L+=y[j+P-32];no(L>>4,y,j)}function z2(y,j){no(128,y,j)}function Kt(y,j,P){return y+2*j+P+2>>2}function V2(y,j){var P,L=j-32;for(L=new Uint8Array([Kt(y[L-1],y[L+0],y[L+1]),Kt(y[L+0],y[L+1],y[L+2]),Kt(y[L+1],y[L+2],y[L+3]),Kt(y[L+2],y[L+3],y[L+4])]),P=0;4>P;++P)n(y,j+32*P,L,0,L.length)}function W2(y,j){var P=y[j-1],L=y[j-1+32],V=y[j-1+64],H=y[j-1+96];ue(y,j+0,16843009*Kt(y[j-1-32],P,L)),ue(y,j+32,16843009*Kt(P,L,V)),ue(y,j+64,16843009*Kt(L,V,H)),ue(y,j+96,16843009*Kt(V,H,H))}function H2(y,j){var P,L=4;for(P=0;4>P;++P)L+=y[j+P-32]+y[j-1+32*P];for(L>>=3,P=0;4>P;++P)s(y,j+32*P,L,4)}function Ml(y,j){var P=y[j-1+0],L=y[j-1+32],V=y[j-1+64],H=y[j-1-32],Y=y[j+0-32],K=y[j+1-32],X=y[j+2-32],ie=y[j+3-32];y[j+0+96]=Kt(L,V,y[j-1+96]),y[j+1+96]=y[j+0+64]=Kt(P,L,V),y[j+2+96]=y[j+1+64]=y[j+0+32]=Kt(H,P,L),y[j+3+96]=y[j+2+64]=y[j+1+32]=y[j+0+0]=Kt(Y,H,P),y[j+3+64]=y[j+2+32]=y[j+1+0]=Kt(K,Y,H),y[j+3+32]=y[j+2+0]=Kt(X,K,Y),y[j+3+0]=Kt(ie,X,K)}function Il(y,j){var P=y[j+1-32],L=y[j+2-32],V=y[j+3-32],H=y[j+4-32],Y=y[j+5-32],K=y[j+6-32],X=y[j+7-32];y[j+0+0]=Kt(y[j+0-32],P,L),y[j+1+0]=y[j+0+32]=Kt(P,L,V),y[j+2+0]=y[j+1+32]=y[j+0+64]=Kt(L,V,H),y[j+3+0]=y[j+2+32]=y[j+1+64]=y[j+0+96]=Kt(V,H,Y),y[j+3+32]=y[j+2+64]=y[j+1+96]=Kt(H,Y,K),y[j+3+64]=y[j+2+96]=Kt(Y,K,X),y[j+3+96]=Kt(K,X,X)}function G2(y,j){var P=y[j-1+0],L=y[j-1+32],V=y[j-1+64],H=y[j-1-32],Y=y[j+0-32],K=y[j+1-32],X=y[j+2-32],ie=y[j+3-32];y[j+0+0]=y[j+1+64]=H+Y+1>>1,y[j+1+0]=y[j+2+64]=Y+K+1>>1,y[j+2+0]=y[j+3+64]=K+X+1>>1,y[j+3+0]=X+ie+1>>1,y[j+0+96]=Kt(V,L,P),y[j+0+64]=Kt(L,P,H),y[j+0+32]=y[j+1+96]=Kt(P,H,Y),y[j+1+32]=y[j+2+96]=Kt(H,Y,K),y[j+2+32]=y[j+3+96]=Kt(Y,K,X),y[j+3+32]=Kt(K,X,ie)}function Y2(y,j){var P=y[j+0-32],L=y[j+1-32],V=y[j+2-32],H=y[j+3-32],Y=y[j+4-32],K=y[j+5-32],X=y[j+6-32],ie=y[j+7-32];y[j+0+0]=P+L+1>>1,y[j+1+0]=y[j+0+64]=L+V+1>>1,y[j+2+0]=y[j+1+64]=V+H+1>>1,y[j+3+0]=y[j+2+64]=H+Y+1>>1,y[j+0+32]=Kt(P,L,V),y[j+1+32]=y[j+0+96]=Kt(L,V,H),y[j+2+32]=y[j+1+96]=Kt(V,H,Y),y[j+3+32]=y[j+2+96]=Kt(H,Y,K),y[j+3+64]=Kt(Y,K,X),y[j+3+96]=Kt(K,X,ie)}function xf(y,j){var P=y[j-1+0],L=y[j-1+32],V=y[j-1+64],H=y[j-1+96];y[j+0+0]=P+L+1>>1,y[j+2+0]=y[j+0+32]=L+V+1>>1,y[j+2+32]=y[j+0+64]=V+H+1>>1,y[j+1+0]=Kt(P,L,V),y[j+3+0]=y[j+1+32]=Kt(L,V,H),y[j+3+32]=y[j+1+64]=Kt(V,H,H),y[j+3+64]=y[j+2+64]=y[j+0+96]=y[j+1+96]=y[j+2+96]=y[j+3+96]=H}function sg(y,j){var P=y[j-1+0],L=y[j-1+32],V=y[j-1+64],H=y[j-1+96],Y=y[j-1-32],K=y[j+0-32],X=y[j+1-32],ie=y[j+2-32];y[j+0+0]=y[j+2+32]=P+Y+1>>1,y[j+0+32]=y[j+2+64]=L+P+1>>1,y[j+0+64]=y[j+2+96]=V+L+1>>1,y[j+0+96]=H+V+1>>1,y[j+3+0]=Kt(K,X,ie),y[j+2+0]=Kt(Y,K,X),y[j+1+0]=y[j+3+32]=Kt(P,Y,K),y[j+1+32]=y[j+3+64]=Kt(L,P,Y),y[j+1+64]=y[j+3+96]=Kt(V,L,P),y[j+1+96]=Kt(H,V,L)}function Sd(y,j){var P;for(P=0;8>P;++P)n(y,j+32*P,y,j-32,8)}function K2(y,j){var P;for(P=0;8>P;++P)s(y,j,y[j-1],8),j+=32}function Dl(y,j,P){var L;for(L=0;8>L;++L)s(j,P+32*L,y,8)}function J2(y,j){var P,L=8;for(P=0;8>P;++P)L+=y[j+P-32]+y[j-1+32*P];Dl(L>>4,y,j)}function ig(y,j){var P,L=4;for(P=0;8>P;++P)L+=y[j+P-32];Dl(L>>3,y,j)}function ag(y,j){var P,L=4;for(P=0;8>P;++P)L+=y[j-1+32*P];Dl(L>>3,y,j)}function Cy(y,j){Dl(128,y,j)}function Fl(y,j,P){var L=y[j-P],V=y[j+0],H=3*(V-L)+Q2[1020+y[j-2*P]-y[j+P]],Y=My[112+(H+4>>3)];y[j-P]=Ki[255+L+My[112+(H+3>>3)]],y[j+0]=Ki[255+V-Y]}function og(y,j,P,L){var V=y[j+0],H=y[j+P];return Ta[255+y[j-2*P]-y[j-P]]>L||Ta[255+H-V]>L}function wf(y,j,P,L){return 4*Ta[255+y[j-P]-y[j+0]]+Ta[255+y[j-2*P]-y[j+P]]<=L}function lg(y,j,P,L,V){var H=y[j-3*P],Y=y[j-2*P],K=y[j-P],X=y[j+0],ie=y[j+P],ge=y[j+2*P],je=y[j+3*P];return 4*Ta[255+K-X]+Ta[255+Y-ie]>L?0:Ta[255+y[j-4*P]-H]<=V&&Ta[255+H-Y]<=V&&Ta[255+Y-K]<=V&&Ta[255+je-ge]<=V&&Ta[255+ge-ie]<=V&&Ta[255+ie-X]<=V}function jd(y,j,P,L){var V=2*L+1;for(L=0;16>L;++L)wf(y,j+L,P,V)&&Fl(y,j+L,P)}function cg(y,j,P,L){var V=2*L+1;for(L=0;16>L;++L)wf(y,j+L*P,1,V)&&Fl(y,j+L*P,1)}function Ey(y,j,P,L){var V;for(V=3;0<V;--V)jd(y,j+=4*P,P,L)}function Ay(y,j,P,L){var V;for(V=3;0<V;--V)cg(y,j+=4,P,L)}function $l(y,j,P,L,V,H,Y,K){for(H=2*H+1;0<V--;){if(lg(y,j,P,H,Y))if(og(y,j,P,K))Fl(y,j,P);else{var X=y,ie=j,ge=P,je=X[ie-2*ge],ae=X[ie-ge],ye=X[ie+0],be=X[ie+ge],Ee=X[ie+2*ge],Se=27*(Te=Q2[1020+3*(ye-ae)+Q2[1020+je-be]])+63>>7,Ae=18*Te+63>>7,Te=9*Te+63>>7;X[ie-3*ge]=Ki[255+X[ie-3*ge]+Te],X[ie-2*ge]=Ki[255+je+Ae],X[ie-ge]=Ki[255+ae+Se],X[ie+0]=Ki[255+ye-Se],X[ie+ge]=Ki[255+be-Ae],X[ie+2*ge]=Ki[255+Ee-Te]}j+=L}}function Bl(y,j,P,L,V,H,Y,K){for(H=2*H+1;0<V--;){if(lg(y,j,P,H,Y))if(og(y,j,P,K))Fl(y,j,P);else{var X=y,ie=j,ge=P,je=X[ie-ge],ae=X[ie+0],ye=X[ie+ge],be=My[112+(4+(Ee=3*(ae-je))>>3)],Ee=My[112+(Ee+3>>3)],Se=be+1>>1;X[ie-2*ge]=Ki[255+X[ie-2*ge]+Se],X[ie-ge]=Ki[255+je+Ee],X[ie+0]=Ki[255+ae-be],X[ie+ge]=Ki[255+ye-Se]}j+=L}}function Py(y,j,P,L,V,H){$l(y,j,P,1,16,L,V,H)}function Nd(y,j,P,L,V,H){$l(y,j,1,P,16,L,V,H)}function Ty(y,j,P,L,V,H){var Y;for(Y=3;0<Y;--Y)Bl(y,j+=4*P,P,1,16,L,V,H)}function N(y,j,P,L,V,H){var Y;for(Y=3;0<Y;--Y)Bl(y,j+=4,1,P,16,L,V,H)}function z(y,j,P,L,V,H,Y,K){$l(y,j,V,1,8,H,Y,K),$l(P,L,V,1,8,H,Y,K)}function oe(y,j,P,L,V,H,Y,K){$l(y,j,1,V,8,H,Y,K),$l(P,L,1,V,8,H,Y,K)}function de(y,j,P,L,V,H,Y,K){Bl(y,j+4*V,V,1,8,H,Y,K),Bl(P,L+4*V,V,1,8,H,Y,K)}function we(y,j,P,L,V,H,Y,K){Bl(y,j+4,1,V,8,H,Y,K),Bl(P,L+4,1,V,8,H,Y,K)}function Pe(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new mr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ft(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function St(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new $}function Vt(){this.xb=this.a=0,this.l=new gf,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new St,this.ab=0,this.gc=a(4,ft),this.Oc=0}function tr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new gf,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _r(y,j,P,L,V,H,Y){for(y=y==null?0:y[j+0],j=0;j<Y;++j)V[H+j]=y+P[L+j]&255,y=V[H+j]}function Tn(y,j,P,L,V,H,Y){var K;if(y==null)_r(null,null,P,L,V,H,Y);else for(K=0;K<Y;++K)V[H+K]=y[j+K]+P[L+K]&255}function os(y,j,P,L,V,H,Y){if(y==null)_r(null,null,P,L,V,H,Y);else{var K,X=y[j+0],ie=X,ge=X;for(K=0;K<Y;++K)ie=ge+(X=y[j+K])-ie,ge=P[L+K]+(-256&ie?0>ie?0:255:ie)&255,ie=X,V[H+K]=ge}}function ln(y,j,P,L){var V=j.width,H=j.o;if(t(y!=null&&j!=null),0>P||0>=L||P+L>H)return null;if(!y.Cc){if(y.ga==null){var Y;if(y.ga=new tr,(Y=y.ga==null)||(Y=j.width*j.o,t(y.Gb.length==0),y.Gb=i(Y),y.Uc=0,y.Gb==null?Y=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,Y=1),Y=!Y),!Y){Y=y.ga;var K=y.Fa,X=y.P,ie=y.qc,ge=y.mb,je=y.nb,ae=X+1,ye=ie-1,be=Y.l;if(t(K!=null&&ge!=null&&j!=null),Jc[0]=null,Jc[1]=_r,Jc[2]=Tn,Jc[3]=os,Y.ca=ge,Y.tb=je,Y.c=j.width,Y.i=j.height,t(0<Y.c&&0<Y.i),1>=ie)j=0;else if(Y.$a=3&K[X+0],Y.Z=K[X+0]>>2&3,Y.Lc=K[X+0]>>4&3,X=K[X+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||X)j=0;else if(be.put=mt,be.ac=Dn,be.bc=Cs,be.ma=Y,be.width=j.width,be.height=j.height,be.Da=j.Da,be.v=j.v,be.va=j.va,be.j=j.j,be.o=j.o,Y.$a)e:{t(Y.$a==1),j=xd();t:for(;;){if(j==null){j=0;break e}if(t(Y!=null),Y.mc=j,j.c=Y.c,j.i=Y.i,j.l=Y.l,j.l.ma=Y,j.l.width=Y.c,j.l.height=Y.i,j.a=0,Z(j.m,K,ae,ye),!Wo(Y.c,Y.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&eo(j.s)?(Y.ic=1,K=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(K),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(Y.ic=0,j=wd(j,Y.c)),!j))break t;j=1;break e}Y.mc=null,j=0}else j=ye>=Y.c*Y.i;Y=!j}if(Y)return null;y.ga.Lc!=1?y.Ga=0:L=H-P}t(y.ga!=null),t(P+L<=H);e:{if(j=(K=y.ga).c,H=K.l.o,K.$a==0){if(ae=y.rc,ye=y.Vc,be=y.Fa,X=y.P+1+P*j,ie=y.mb,ge=y.nb+P*j,t(X<=y.P+y.qc),K.Z!=0)for(t(Jc[K.Z]!=null),Y=0;Y<L;++Y)Jc[K.Z](ae,ye,be,X,ie,ge,j),ae=ie,ye=ge,ge+=j,X+=j;else for(Y=0;Y<L;++Y)n(ie,ge,be,X,j),ae=ie,ye=ge,ge+=j,X+=j;y.rc=ae,y.Vc=ye}else{if(t(K.mc!=null),j=P+L,t((Y=K.mc)!=null),t(j<=Y.i),Y.C>=j)j=1;else if(K.ic||so(),K.ic){K=Y.V,ae=Y.Ba,ye=Y.c;var Ee=Y.i,Se=(be=1,X=Y.$/ye,ie=Y.$%ye,ge=Y.m,je=Y.s,Y.$),Ae=ye*Ee,Te=ye*j,Ue=je.wc,$e=Se<Te?Ms(je,ie,X):null;t(Se<=Ae),t(j<=Ee),t(eo(je));t:for(;;){for(;!ge.h&&Se<Te;){if(ie&Ue||($e=Ms(je,ie,X)),t($e!=null),F(ge),256>(Ee=Fn($e.G[0],$e.H[0],ge)))K[ae+Se]=Ee,++Se,++ie>=ye&&(ie=0,++X<=j&&!(X%16)&&to(Y,X));else{if(!(280>Ee)){be=0;break t}Ee=jn(Ee-256,ge);var Nt,ct=Fn($e.G[4],$e.H[4],ge);if(F(ge),!(Se>=(ct=Hn(ye,ct=jn(ct,ge)))&&Ae-Se>=Ee)){be=0;break t}for(Nt=0;Nt<Ee;++Nt)K[ae+Se+Nt]=K[ae+Se+Nt-ct];for(Se+=Ee,ie+=Ee;ie>=ye;)ie-=ye,++X<=j&&!(X%16)&&to(Y,X);Se<Te&&ie&Ue&&($e=Ms(je,ie,X))}t(ge.h==E(ge))}to(Y,X>j?j:X);break t}!be||ge.h&&Se<Ae?(be=0,Y.a=ge.h?5:3):Y.$=Se,j=be}else j=ro(Y,Y.V,Y.Ba,Y.c,Y.i,j,ff);if(!j){L=0;break e}}P+L>=H&&(y.Cc=1),L=1}if(!L)return null;if(y.Cc&&((L=y.ga)!=null&&(L.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+P*V}function gs(y,j,P,L,V,H){for(;0<V--;){var Y,K=y,X=j+(P?1:0),ie=y,ge=j+(P?0:3);for(Y=0;Y<L;++Y){var je=ie[ge+4*Y];je!=255&&(je*=32897,K[X+4*Y+0]=K[X+4*Y+0]*je>>23,K[X+4*Y+1]=K[X+4*Y+1]*je>>23,K[X+4*Y+2]=K[X+4*Y+2]*je>>23)}j+=H}}function ls(y,j,P,L,V){for(;0<L--;){var H;for(H=0;H<P;++H){var Y=y[j+2*H+0],K=15&(ie=y[j+2*H+1]),X=4369*K,ie=(240&ie|ie>>4)*X>>16;y[j+2*H+0]=(240&Y|Y>>4)*X>>16&240|(15&Y|Y<<4)*X>>16>>4&15,y[j+2*H+1]=240&ie|K}j+=V}}function Is(y,j,P,L,V,H,Y,K){var X,ie,ge=255;for(ie=0;ie<V;++ie){for(X=0;X<L;++X){var je=y[j+X];H[Y+4*X]=je,ge&=je}j+=P,Y+=K}return ge!=255}function Ul(y,j,P,L,V){var H;for(H=0;H<V;++H)P[L+H]=y[j+H]>>8}function so(){bg=gs,e4=ls,t4=Is,r4=Ul}function ql(y,j,P){M[y]=function(L,V,H,Y,K,X,ie,ge,je,ae,ye,be,Ee,Se,Ae,Te,Ue){var $e,Nt=Ue-1>>1,ct=K[X+0]|ie[ge+0]<<16,rr=je[ae+0]|ye[be+0]<<16;t(L!=null);var vt=3*ct+rr+131074>>2;for(j(L[V+0],255&vt,vt>>16,Ee,Se),H!=null&&(vt=3*rr+ct+131074>>2,j(H[Y+0],255&vt,vt>>16,Ae,Te)),$e=1;$e<=Nt;++$e){var ur=K[X+$e]|ie[ge+$e]<<16,ys=je[ae+$e]|ye[be+$e]<<16,nr=ct+ur+rr+ys+524296,yt=nr+2*(ur+rr)>>3;vt=yt+ct>>1,ct=(nr=nr+2*(ct+ys)>>3)+ur>>1,j(L[V+2*$e-1],255&vt,vt>>16,Ee,Se+(2*$e-1)*P),j(L[V+2*$e-0],255&ct,ct>>16,Ee,Se+(2*$e-0)*P),H!=null&&(vt=nr+rr>>1,ct=yt+ys>>1,j(H[Y+2*$e-1],255&vt,vt>>16,Ae,Te+(2*$e-1)*P),j(H[Y+2*$e+0],255&ct,ct>>16,Ae,Te+(2*$e+0)*P)),ct=ur,rr=ys}1&Ue||(vt=3*ct+rr+131074>>2,j(L[V+Ue-1],255&vt,vt>>16,Ee,Se+(Ue-1)*P),H!=null&&(vt=3*rr+ct+131074>>2,j(H[Y+Ue-1],255&vt,vt>>16,Ae,Te+(Ue-1)*P)))}}function ug(){Ra[Iy]=SH,Ra[Dy]=f4,Ra[l4]=jH,Ra[Fy]=p4,Ra[$y]=m4,Ra[Z2]=g4,Ra[c4]=NH,Ra[X2]=f4,Ra[e_]=p4,Ra[By]=m4,Ra[t_]=g4}function bf(y){return y&~kH?0>y?0:255:y>>v4}function Bc(y,j){return bf((19077*y>>8)+(26149*j>>8)-14234)}function kd(y,j,P){return bf((19077*y>>8)-(6419*j>>8)-(13320*P>>8)+8708)}function Cd(y,j){return bf((19077*y>>8)+(33050*j>>8)-17685)}function Uc(y,j,P,L,V){L[V+0]=Bc(y,P),L[V+1]=kd(y,j,P),L[V+2]=Cd(y,j)}function Ds(y,j,P,L,V){L[V+0]=Cd(y,j),L[V+1]=kd(y,j,P),L[V+2]=Bc(y,P)}function Ed(y,j,P,L,V){var H=kd(y,j,P);j=H<<3&224|Cd(y,j)>>3,L[V+0]=248&Bc(y,P)|H>>5,L[V+1]=j}function Ad(y,j,P,L,V){var H=240&Cd(y,j)|15;L[V+0]=240&Bc(y,P)|kd(y,j,P)>>4,L[V+1]=H}function dg(y,j,P,L,V){L[V+0]=255,Uc(y,j,P,L,V+1)}function hg(y,j,P,L,V){Ds(y,j,P,L,V),L[V+3]=255}function ui(y,j,P,L,V){Uc(y,j,P,L,V),L[V+3]=255}function zl(y,j,P){M[y]=function(L,V,H,Y,K,X,ie,ge,je){for(var ae=ge+(-2&je)*P;ge!=ae;)j(L[V+0],H[Y+0],K[X+0],ie,ge),j(L[V+1],H[Y+0],K[X+0],ie,ge+P),V+=2,++Y,++X,ge+=2*P;1&je&&j(L[V+0],H[Y+0],K[X+0],ie,ge)}}function _f(y,j,P){return P==0?y==0?j==0?6:5:j==0?4:0:P}function Ry(y,j,P,L,V){switch(y>>>30){case 3:Od(j,P,L,V,0);break;case 2:Pa(j,P,L,V);break;case 1:$r(j,P,L,V)}}function Aa(y,j){var P,L,V=j.M,H=j.Nb,Y=y.oc,K=y.pc+40,X=y.oc,ie=y.pc+584,ge=y.oc,je=y.pc+600;for(P=0;16>P;++P)Y[K+32*P-1]=129;for(P=0;8>P;++P)X[ie+32*P-1]=129,ge[je+32*P-1]=129;for(0<V?Y[K-1-32]=X[ie-1-32]=ge[je-1-32]=129:(s(Y,K-32-1,127,21),s(X,ie-32-1,127,9),s(ge,je-32-1,127,9)),L=0;L<y.za;++L){var ae=j.ya[j.aa+L];if(0<L){for(P=-1;16>P;++P)n(Y,K+32*P-4,Y,K+32*P+12,4);for(P=-1;8>P;++P)n(X,ie+32*P-4,X,ie+32*P+4,4),n(ge,je+32*P-4,ge,je+32*P+4,4)}var ye=y.Gd,be=y.Hd+L,Ee=ae.ad,Se=ae.Hc;if(0<V&&(n(Y,K-32,ye[be].y,0,16),n(X,ie-32,ye[be].f,0,8),n(ge,je-32,ye[be].ea,0,8)),ae.Za){var Ae=Y,Te=K-32+16;for(0<V&&(L>=y.za-1?s(Ae,Te,ye[be].y[15],4):n(Ae,Te,ye[be+1].y,0,4)),P=0;4>P;P++)Ae[Te+128+P]=Ae[Te+256+P]=Ae[Te+384+P]=Ae[Te+0+P];for(P=0;16>P;++P,Se<<=2)Ae=Y,Te=K+x4[P],io[ae.Ob[P]](Ae,Te),Ry(Se,Ee,16*+P,Ae,Te)}else if(Ae=_f(L,V,ae.Ob[0]),Kc[Ae](Y,K),Se!=0)for(P=0;16>P;++P,Se<<=2)Ry(Se,Ee,16*+P,Y,K+x4[P]);for(P=ae.Gc,Ae=_f(L,V,ae.Dd),Hl[Ae](X,ie),Hl[Ae](ge,je),Se=Ee,Ae=X,Te=ie,255&(ae=0|P)&&(170&ae?Qo(Se,256,Ae,Te):tn(Se,256,Ae,Te)),ae=ge,Se=je,255&(P>>=8)&&(170&P?Qo(Ee,320,ae,Se):tn(Ee,320,ae,Se)),V<y.Ub-1&&(n(ye[be].y,0,Y,K+480,16),n(ye[be].f,0,X,ie+224,8),n(ye[be].ea,0,ge,je+224,8)),P=8*H*y.B,ye=y.sa,be=y.ta+16*L+16*H*y.R,Ee=y.qa,ae=y.ra+8*L+P,Se=y.Ha,Ae=y.Ia+8*L+P,P=0;16>P;++P)n(ye,be+P*y.R,Y,K+32*P,16);for(P=0;8>P;++P)n(Ee,ae+P*y.B,X,ie+32*P,8),n(Se,Ae+P*y.B,ge,je+32*P,8)}}function Pd(y,j,P,L,V,H,Y,K,X){var ie=[0],ge=[0],je=0,ae=X!=null?X.kd:0,ye=X??new Fe;if(y==null||12>P)return 7;ye.data=y,ye.w=j,ye.ha=P,j=[j],P=[P],ye.gb=[ye.gb];e:{var be=j,Ee=P,Se=ye.gb;if(t(y!=null),t(Ee!=null),t(Se!=null),Se[0]=0,12<=Ee[0]&&!r(y,be[0],"RIFF")){if(r(y,be[0]+8,"WEBP")){Se=3;break e}var Ae=Ie(y,be[0]+4);if(12>Ae||4294967286<Ae){Se=3;break e}if(ae&&Ae>Ee[0]-8){Se=7;break e}Se[0]=Ae,be[0]+=12,Ee[0]-=12}Se=0}if(Se!=0)return Se;for(Ae=0<ye.gb[0],P=P[0];;){e:{var Te=y;Ee=j,Se=P;var Ue=ie,$e=ge,Nt=be=[0];if((vt=je=[je])[0]=0,8>Se[0])Se=7;else{if(!r(Te,Ee[0],"VP8X")){if(Ie(Te,Ee[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var ct=Ie(Te,Ee[0]+8),rr=1+_e(Te,Ee[0]+12);if(2147483648<=rr*(Te=1+_e(Te,Ee[0]+15))){Se=3;break e}Nt!=null&&(Nt[0]=ct),Ue!=null&&(Ue[0]=rr),$e!=null&&($e[0]=Te),Ee[0]+=18,Se[0]-=18,vt[0]=1}Se=0}}if(je=je[0],be=be[0],Se!=0)return Se;if(Ee=!!(2&be),!Ae&&je)return 3;if(H!=null&&(H[0]=!!(16&be)),Y!=null&&(Y[0]=Ee),K!=null&&(K[0]=0),Y=ie[0],be=ge[0],je&&Ee&&X==null){Se=0;break}if(4>P){Se=7;break}if(Ae&&je||!Ae&&!je&&!r(y,j[0],"ALPH")){P=[P],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{ct=y,Se=j,Ae=P;var vt=ye.gb;Ue=ye.na,$e=ye.P,Nt=ye.Sa,rr=22,t(ct!=null),t(Ae!=null),Te=Se[0];var ur=Ae[0];for(t(Ue!=null),t(Nt!=null),Ue[0]=null,$e[0]=null,Nt[0]=0;;){if(Se[0]=Te,Ae[0]=ur,8>ur){Se=7;break e}var ys=Ie(ct,Te+4);if(4294967286<ys){Se=3;break e}var nr=8+ys+1&-2;if(rr+=nr,0<vt&&rr>vt){Se=3;break e}if(!r(ct,Te,"VP8 ")||!r(ct,Te,"VP8L")){Se=0;break e}if(ur[0]<nr){Se=7;break e}r(ct,Te,"ALPH")||(Ue[0]=ct,$e[0]=Te+8,Nt[0]=ys),Te+=nr,ur-=nr}}if(P=P[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],Se!=0)break}P=[P],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(vt=y,Se=j,Ae=P,Ue=ye.gb[0],$e=ye.Ja,Nt=ye.xa,ct=Se[0],Te=!r(vt,ct,"VP8 "),rr=!r(vt,ct,"VP8L"),t(vt!=null),t(Ae!=null),t($e!=null),t(Nt!=null),8>Ae[0])Se=7;else{if(Te||rr){if(vt=Ie(vt,ct+4),12<=Ue&&vt>Ue-12){Se=3;break e}if(ae&&vt>Ae[0]-8){Se=7;break e}$e[0]=vt,Se[0]+=8,Ae[0]-=8,Nt[0]=rr}else Nt[0]=5<=Ae[0]&&vt[ct+0]==47&&!(vt[ct+4]>>5),$e[0]=Ae[0];Se=0}if(P=P[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],j=j[0],Se!=0)break;if(4294967286<ye.Ja)return 3;if(K==null||Ee||(K[0]=ye.xa?2:1),Y=[Y],be=[be],ye.xa){if(5>P){Se=7;break}K=Y,ae=be,Ee=H,y==null||5>P?y=0:5<=P&&y[j+0]==47&&!(y[j+4]>>5)?(Ae=[0],vt=[0],Ue=[0],Z($e=new _,y,j,P),Ls($e,Ae,vt,Ue)?(K!=null&&(K[0]=Ae[0]),ae!=null&&(ae[0]=vt[0]),Ee!=null&&(Ee[0]=Ue[0]),y=1):y=0):y=0}else{if(10>P){Se=7;break}K=be,y==null||10>P||!by(y,j+3,P-3)?y=0:(ae=y[j+0]|y[j+1]<<8|y[j+2]<<16,Ee=16383&(y[j+7]<<8|y[j+6]),y=16383&(y[j+9]<<8|y[j+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=ye.Ja||!Ee||!y?y=0:(Y&&(Y[0]=Ee),K&&(K[0]=y),y=1))}if(!y||(Y=Y[0],be=be[0],je&&(ie[0]!=Y||ge[0]!=be)))return 3;X!=null&&(X[0]=ye,X.offset=j-X.w,t(4294967286>j-X.w),t(X.offset==X.ha-P));break}return Se==0||Se==7&&je&&X==null?(H!=null&&(H[0]|=ye.na!=null&&0<ye.na.length),L!=null&&(L[0]=Y),V!=null&&(V[0]=be),0):Se}function fg(y,j,P){var L=j.width,V=j.height,H=0,Y=0,K=L,X=V;if(j.Da=y!=null&&0<y.Da,j.Da&&(K=y.cd,X=y.bd,H=y.v,Y=y.j,11>P||(H&=-2,Y&=-2),0>H||0>Y||0>=K||0>=X||H+K>L||Y+X>V))return 0;if(j.v=H,j.j=Y,j.va=H+K,j.o=Y+X,j.U=K,j.T=X,j.da=y!=null&&0<y.da,j.da){if(!Ke(K,X,P=[y.ib],H=[y.hb]))return 0;j.ib=P[0],j.hb=H[0]}return j.ob=y!=null&&y.ob,j.Kb=y==null||!y.Sd,j.da&&(j.ob=j.ib<3*L/4&&j.hb<3*V/4,j.Kb=0),1}function pg(y){if(y==null)return 2;if(11>y.S){var j=y.f.RGBA;j.fb+=(y.height-1)*j.A,j.A=-j.A}else j=y.f.kb,y=y.height,j.O+=(y-1)*j.fa,j.fa=-j.fa,j.N+=(y-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(y-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(y-1)*j.lb,j.lb=-j.lb);return 0}function qc(y,j,P,L){if(L==null||0>=y||0>=j)return 2;if(P!=null){if(P.Da){var V=P.cd,H=P.bd,Y=-2&P.v,K=-2&P.j;if(0>Y||0>K||0>=V||0>=H||Y+V>y||K+H>j)return 2;y=V,j=H}if(P.da){if(!Ke(y,j,V=[P.ib],H=[P.hb]))return 2;y=V[0],j=H[0]}}L.width=y,L.height=j;e:{var X=L.width,ie=L.height;if(y=L.S,0>=X||0>=ie||!(y>=Iy&&13>y))y=2;else{if(0>=L.Rd&&L.sd==null){Y=H=V=j=0;var ge=(K=X*w4[y])*ie;if(11>y||(H=(ie+1)/2*(j=(X+1)/2),y==12&&(Y=(V=X)*ie)),(ie=i(ge+2*H+Y))==null){y=1;break e}L.sd=ie,11>y?((X=L.f.RGBA).eb=ie,X.fb=0,X.A=K,X.size=ge):((X=L.f.kb).y=ie,X.O=0,X.fa=K,X.Fd=ge,X.f=ie,X.N=0+ge,X.Ab=j,X.Cd=H,X.ea=ie,X.W=0+ge+H,X.Db=j,X.Ed=H,y==12&&(X.F=ie,X.J=0+ge+2*H),X.Tc=Y,X.lb=V)}if(j=1,V=L.S,H=L.width,Y=L.height,V>=Iy&&13>V)if(11>V)y=L.f.RGBA,j&=(K=Math.abs(y.A))*(Y-1)+H<=y.size,j&=K>=H*w4[V],j&=y.eb!=null;else{y=L.f.kb,K=(H+1)/2,ge=(Y+1)/2,X=Math.abs(y.fa),ie=Math.abs(y.Ab);var je=Math.abs(y.Db),ae=Math.abs(y.lb),ye=ae*(Y-1)+H;j&=X*(Y-1)+H<=y.Fd,j&=ie*(ge-1)+K<=y.Cd,j=(j&=je*(ge-1)+K<=y.Ed)&X>=H&ie>=K&je>=K,j&=y.y!=null,j&=y.f!=null,j&=y.ea!=null,V==12&&(j&=ae>=H,j&=ye<=y.Tc,j&=y.F!=null)}else j=0;y=j?0:2}}return y!=0||P!=null&&P.fd&&(y=pg(L)),y}var Td=64,Gi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yi=24,zc=32,Vl=8,Vc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ce("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(y){return y},M.Predictor2=function(y,j,P){return j[P+0]},M.Predictor3=function(y,j,P){return j[P+1]},M.Predictor4=function(y,j,P){return j[P-1]},M.Predictor5=function(y,j,P){return Ne(Ne(y,j[P+1]),j[P+0])},M.Predictor6=function(y,j,P){return Ne(y,j[P-1])},M.Predictor7=function(y,j,P){return Ne(y,j[P+0])},M.Predictor8=function(y,j,P){return Ne(j[P-1],j[P+0])},M.Predictor9=function(y,j,P){return Ne(j[P+0],j[P+1])},M.Predictor10=function(y,j,P){return Ne(Ne(y,j[P-1]),Ne(j[P+0],j[P+1]))},M.Predictor11=function(y,j,P){var L=j[P+0];return 0>=Le(L>>24&255,y>>24&255,(j=j[P-1])>>24&255)+Le(L>>16&255,y>>16&255,j>>16&255)+Le(L>>8&255,y>>8&255,j>>8&255)+Le(255&L,255&y,255&j)?L:y},M.Predictor12=function(y,j,P){var L=j[P+0];return(Oe((y>>24&255)+(L>>24&255)-((j=j[P-1])>>24&255))<<24|Oe((y>>16&255)+(L>>16&255)-(j>>16&255))<<16|Oe((y>>8&255)+(L>>8&255)-(j>>8&255))<<8|Oe((255&y)+(255&L)-(255&j)))>>>0},M.Predictor13=function(y,j,P){var L=j[P-1];return(Ce((y=Ne(y,j[P+0]))>>24&255,L>>24&255)<<24|Ce(y>>16&255,L>>16&255)<<16|Ce(y>>8&255,L>>8&255)<<8|Ce(255&y,255&L))>>>0};var mg=M.PredictorAdd0;M.PredictorAdd1=et,ce("Predictor2","PredictorAdd2"),ce("Predictor3","PredictorAdd3"),ce("Predictor4","PredictorAdd4"),ce("Predictor5","PredictorAdd5"),ce("Predictor6","PredictorAdd6"),ce("Predictor7","PredictorAdd7"),ce("Predictor8","PredictorAdd8"),ce("Predictor9","PredictorAdd9"),ce("Predictor10","PredictorAdd10"),ce("Predictor11","PredictorAdd11"),ce("Predictor12","PredictorAdd12"),ce("Predictor13","PredictorAdd13");var Sf=M.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Gn,Oy=M.ColorIndexInverseTransform,Ko=M.MapARGB,Jo=M.VP8LColorIndexInverseTransformAlpha,gg=M.MapAlpha,vg=M.VP8LPredictorsAdd=[];vg.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var yg,xg,Wc,Hc,Gc,Rd,Yc,Od,Pa,Qo,$r,tn,Yn,vs,Wl,wg,jf,Ly,YA,KA,JA,QA,ZA,XA,bg,e4,t4,r4,n4=i(511),s4=i(2041),i4=i(225),a4=i(767),o4=0,Q2=s4,My=i4,Ki=a4,Ta=n4,Iy=0,Dy=1,l4=2,Fy=3,$y=4,Z2=5,c4=6,X2=7,e_=8,By=9,t_=10,cH=[2,3,7],uH=[3,3,11],u4=[280,256,256,256,40],dH=[0,1,1,1,0],hH=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fH=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pH=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mH=8,r_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],n_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_g=null,gH=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vH=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],d4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yH=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xH=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wH=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bH=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Kc=[],io=[],Hl=[],_H=1,h4=2,Jc=[],Ra=[];ql("UpsampleRgbLinePair",Uc,3),ql("UpsampleBgrLinePair",Ds,3),ql("UpsampleRgbaLinePair",ui,4),ql("UpsampleBgraLinePair",hg,4),ql("UpsampleArgbLinePair",dg,4),ql("UpsampleRgba4444LinePair",Ad,2),ql("UpsampleRgb565LinePair",Ed,2);var SH=M.UpsampleRgbLinePair,jH=M.UpsampleBgrLinePair,f4=M.UpsampleRgbaLinePair,p4=M.UpsampleBgraLinePair,m4=M.UpsampleArgbLinePair,g4=M.UpsampleRgba4444LinePair,NH=M.UpsampleRgb565LinePair,Uy=16,qy=1<<Uy-1,Sg=-227,s_=482,v4=6,kH=(256<<v4)-1,y4=0,CH=i(256),EH=i(256),AH=i(256),PH=i(256),TH=i(s_-Sg),RH=i(s_-Sg);zl("YuvToRgbRow",Uc,3),zl("YuvToBgrRow",Ds,3),zl("YuvToRgbaRow",ui,4),zl("YuvToBgraRow",hg,4),zl("YuvToArgbRow",dg,4),zl("YuvToRgba4444Row",Ad,2),zl("YuvToRgb565Row",Ed,2);var x4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zy=[0,2,8],OH=[8,7,6,4,4,2,2,2,1,1,1,1],LH=1;this.WebPDecodeRGBA=function(y,j,P,L,V){var H=Dy,Y=new Pe,K=new Yt;Y.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var X=K.width,ie=K.height,ge=new pt;if(ge==null||y==null)var je=2;else t(ge!=null),je=Pd(y,j,P,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(je!=0?X=0:(X!=null&&(X[0]=ge.width[0]),ie!=null&&(ie[0]=ge.height[0]),X=1),X){K.width=K.width[0],K.height=K.height[0],L!=null&&(L[0]=K.width),V!=null&&(V[0]=K.height);e:{if(L=new gf,(V=new Fe).data=y,V.w=j,V.ha=P,V.kd=1,j=[0],t(V!=null),((y=Pd(V.data,V.w,V.ha,null,null,null,j,null,V))==0||y==7)&&j[0]&&(y=4),(j=y)==0){if(t(Y!=null),L.data=V.data,L.w=V.w+V.offset,L.ha=V.ha-V.offset,L.put=mt,L.ac=Dn,L.bc=Cs,L.ma=Y,V.xa){if((y=xd())==null){Y=1;break e}if(function(ae,ye){var be=[0],Ee=[0],Se=[0];t:for(;;){if(ae==null)return 0;if(ye==null)return ae.a=2,0;if(ae.l=ye,ae.a=0,Z(ae.m,ye.data,ye.w,ye.ha),!Ls(ae.m,be,Ee,Se)){ae.a=3;break t}if(ae.xb=h4,ye.width=be[0],ye.height=Ee[0],!Wo(be[0],Ee[0],1,ae,null))break t;return 1}return t(ae.a!=0),0}(y,L)){if(L=(j=qc(L.width,L.height,Y.Oa,Y.ba))==0){t:{L=y;r:for(;;){if(L==null){L=0;break t}if(t(L.s.yc!=null),t(L.s.Ya!=null),t(0<L.s.Wb),t((P=L.l)!=null),t((V=P.ma)!=null),L.xb!=0){if(L.ca=V.ba,L.tb=V.tb,t(L.ca!=null),!fg(V.Oa,P,Fy)){L.a=2;break r}if(!wd(L,P.width)||P.da)break r;if((P.da||At(L.ca.S))&&so(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&so()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!J(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!ro(L,L.V,L.Ba,L.c,L.i,P.o,$c))break r;V.Dc=L.Ma,L=1;break t}t(L.a!=0),L=0}L=!L}L&&(j=y.a)}else j=y.a}else{if((y=new I2)==null){Y=1;break e}if(y.Fa=V.na,y.P=V.P,y.qc=V.Sa,Go(y,L)){if((j=qc(L.width,L.height,Y.Oa,Y.ba))==0){if(y.Aa=0,P=Y.Oa,t((V=y)!=null),P!=null){if(0<(X=0>(X=P.Md)?0:100<X?255:255*X/100)){for(ie=ge=0;4>ie;++ie)12>(je=V.pb[ie]).lc&&(je.ia=X*OH[0>je.lc?0:je.lc]>>3),ge|=je.ia;ge&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=P.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ae,ye){if(ae==null)return 0;if(ye==null)return as(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!Go(ae,ye))return 0;if(t(ae.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(ae.L=0);var be=zy[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=ye.v-be>>4,ae.zb=ye.j-be>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=ye.o+15+be>>4,ae.Hb=ye.va+15+be>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Ee=ae.ed;for(be=0;4>be;++be){var Se;if(ae.Qa.Cb){var Ae=ae.Qa.Lb[be];ae.Qa.Fb||(Ae+=Ee.Tb)}else Ae=Ee.Tb;for(Se=0;1>=Se;++Se){var Te=ae.gd[be][Se],Ue=Ae;if(Ee.Pc&&(Ue+=Ee.vd[0],Se&&(Ue+=Ee.od[0])),0<(Ue=0>Ue?0:63<Ue?63:Ue)){var $e=Ue;0<Ee.wb&&($e=4<Ee.wb?$e>>2:$e>>1)>9-Ee.wb&&($e=9-Ee.wb),1>$e&&($e=1),Te.dd=$e,Te.tc=2*Ue+$e,Te.ld=40<=Ue?2:15<=Ue?1:0}else Te.tc=0;Te.La=Se}}}be=0}else as(ae,6,"Frame setup failed"),be=ae.a;if(be=be==0){if(be){ae.$c=0,0<ae.Aa||(ae.Ic=LH);t:{be=ae.Ic,Ee=4*($e=ae.za);var Nt=32*$e,ct=$e+1,rr=0<ae.L?$e*(0<ae.Aa?2:1):0,vt=(ae.Aa==2?2:1)*$e;if((Te=Ee+832+(Se=3*(16*be+zy[ae.L])/2*Nt)+(Ae=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=Te)be=0;else{if(Te>ae.Vb){if(ae.Vb=0,ae.Ec=i(Te),ae.Fc=0,ae.Ec==null){be=as(ae,1,"no memory during frame initialization.");break t}ae.Vb=Te}Te=ae.Ec,Ue=ae.Fc,ae.Ac=Te,ae.Bc=Ue,Ue+=Ee,ae.Gd=a(Nt,xy),ae.Hd=0,ae.rb=a(ct+1,eg),ae.sb=1,ae.wa=rr?a(rr,Ca):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=$e),t(!0),ae.oc=Te,ae.pc=Ue,Ue+=832,ae.ya=a(vt,tg),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=$e),ae.R=16*$e,ae.B=8*$e,$e=(Nt=zy[ae.L])*ae.R,Nt=Nt/2*ae.B,ae.sa=Te,ae.ta=Ue+$e,ae.qa=ae.sa,ae.ra=ae.ta+16*be*ae.R+Nt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*be*ae.B+Nt,ae.$c=0,Ue+=Se,ae.mb=Ae?Te:null,ae.nb=Ae?Ue:null,t(Ue+Ae<=ae.Fc+ae.Vb),_y(ae),s(ae.Ac,ae.Bc,0,Ee),be=1}}if(be){if(ye.ka=0,ye.y=ae.sa,ye.O=ae.ta,ye.f=ae.qa,ye.N=ae.ra,ye.ea=ae.Ha,ye.Vd=ae.Ia,ye.fa=ae.R,ye.Rc=ae.B,ye.F=null,ye.J=0,!o4){for(be=-255;255>=be;++be)n4[255+be]=0>be?-be:be;for(be=-1020;1020>=be;++be)s4[1020+be]=-128>be?-128:127<be?127:be;for(be=-112;112>=be;++be)i4[112+be]=-16>be?-16:15<be?15:be;for(be=-255;510>=be;++be)a4[255+be]=0>be?0:255<be?255:be;o4=1}Yc=yf,Od=F2,Qo=Yo,$r=jy,tn=Ny,Pa=D2,Yn=Py,vs=Nd,Wl=z,wg=oe,jf=Ty,Ly=N,YA=de,KA=we,JA=jd,QA=cg,ZA=Ey,XA=Ay,io[0]=H2,io[1]=$2,io[2]=V2,io[3]=W2,io[4]=Ml,io[5]=G2,io[6]=Il,io[7]=Y2,io[8]=sg,io[9]=xf,Kc[0]=q2,Kc[1]=U2,Kc[2]=rg,Kc[3]=ky,Kc[4]=_d,Kc[5]=ng,Kc[6]=z2,Hl[0]=J2,Hl[1]=B2,Hl[2]=Sd,Hl[3]=K2,Hl[4]=ag,Hl[5]=ig,Hl[6]=Cy,be=1}else be=0}be&&(be=function(ur,ys){for(ur.M=0;ur.M<ur.Va;++ur.M){var nr,yt=ur.Jc[ur.M&ur.Xb],Je=ur.m,Kn=ur;for(nr=0;nr<Kn.za;++nr){var er=Je,gr=Kn,xn=gr.Ac,Fs=gr.Bc+4*nr,di=gr.zc,$n=gr.ya[gr.aa+nr];if(gr.Qa.Bb?$n.$b=le(er,gr.Pa.jb[0])?2+le(er,gr.Pa.jb[2]):le(er,gr.Pa.jb[1]):$n.$b=0,gr.kc&&($n.Ad=le(er,gr.Bd)),$n.Za=!le(er,145)+0,$n.Za){var Js=$n.Ob,hi=0;for(gr=0;4>gr;++gr){var xs,Sr=di[0+gr];for(xs=0;4>xs;++xs){Sr=xH[xn[Fs+xs]][Sr];for(var qr=d4[le(er,Sr[0])];0<qr;)qr=d4[2*qr+le(er,Sr[qr])];Sr=-qr,xn[Fs+xs]=Sr}n(Js,hi,xn,Fs,4),hi+=4,di[0+gr]=Sr}}else Sr=le(er,156)?le(er,128)?1:3:le(er,163)?2:0,$n.Ob[0]=Sr,s(xn,Fs,Sr,4),s(di,0,Sr,4);$n.Dd=le(er,142)?le(er,114)?le(er,183)?1:3:2:0}if(Kn.m.Ka)return as(ur,7,"Premature end-of-partition0 encountered.");for(;ur.ja<ur.za;++ur.ja){if(Kn=yt,er=(Je=ur).rb[Je.sb-1],xn=Je.rb[Je.sb+Je.ja],nr=Je.ya[Je.aa+Je.ja],Fs=Je.kc?nr.Ad:0)er.la=xn.la=0,nr.Za||(er.Na=xn.Na=0),nr.Hc=0,nr.Gc=0,nr.ia=0;else{var Bn,zr;if(er=xn,xn=Kn,Fs=Je.Pa.Xc,di=Je.ya[Je.aa+Je.ja],$n=Je.pb[di.$b],gr=di.ad,Js=0,hi=Je.rb[Je.sb-1],Sr=xs=0,s(gr,Js,0,384),di.Za)var $s=0,ao=Fs[3];else{qr=i(16);var Jn=er.Na+hi.Na;if(Jn=_g(xn,Fs[1],Jn,$n.Eb,0,qr,0),er.Na=hi.Na=(0<Jn)+0,1<Jn)Yc(qr,0,gr,Js);else{var Pi=qr[0]+3>>3;for(qr=0;256>qr;qr+=16)gr[Js+qr]=Pi}$s=1,ao=Fs[0]}var rn=15&er.la,ws=15&hi.la;for(qr=0;4>qr;++qr){var Ji=1&ws;for(Pi=zr=0;4>Pi;++Pi)rn=rn>>1|(Ji=(Jn=_g(xn,ao,Jn=Ji+(1&rn),$n.Sc,$s,gr,Js))>$s)<<7,zr=zr<<2|(3<Jn?3:1<Jn?2:gr[Js+0]!=0),Js+=16;rn>>=4,ws=ws>>1|Ji<<7,xs=(xs<<8|zr)>>>0}for(ao=rn,$s=ws>>4,Bn=0;4>Bn;Bn+=2){for(zr=0,rn=er.la>>4+Bn,ws=hi.la>>4+Bn,qr=0;2>qr;++qr){for(Ji=1&ws,Pi=0;2>Pi;++Pi)Jn=Ji+(1&rn),rn=rn>>1|(Ji=0<(Jn=_g(xn,Fs[2],Jn,$n.Qc,0,gr,Js)))<<3,zr=zr<<2|(3<Jn?3:1<Jn?2:gr[Js+0]!=0),Js+=16;rn>>=2,ws=ws>>1|Ji<<5}Sr|=zr<<4*Bn,ao|=rn<<4<<Bn,$s|=(240&ws)<<Bn}er.la=ao,hi.la=$s,di.Hc=xs,di.Gc=Sr,di.ia=43690&Sr?0:$n.ia,Fs=!(xs|Sr)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[nr.$b][nr.Za],Je.wa[Je.Y+Je.ja].La|=!Fs),Kn.Ka)return as(ur,7,"Premature end-of-file encountered.")}if(_y(ur),Je=ys,Kn=1,nr=(yt=ur).D,er=0<yt.L&&yt.M>=yt.zb&&yt.M<=yt.Va,yt.Aa==0)t:{if(nr.M=yt.M,nr.uc=er,Aa(yt,nr),Kn=1,nr=(zr=yt.D).Nb,er=(Sr=zy[yt.L])*yt.R,xn=Sr/2*yt.B,qr=16*nr*yt.R,Pi=8*nr*yt.B,Fs=yt.sa,di=yt.ta-er+qr,$n=yt.qa,gr=yt.ra-xn+Pi,Js=yt.Ha,hi=yt.Ia-xn+Pi,ws=(rn=zr.M)==0,xs=rn>=yt.Va-1,yt.Aa==2&&Aa(yt,zr),zr.uc)for(Ji=(Jn=yt).D.M,t(Jn.D.uc),zr=Jn.yb;zr<Jn.Hb;++zr){$s=zr,ao=Ji;var fi=(Qi=(Bs=Jn).D).Nb;Bn=Bs.R;var Qi=Qi.wa[Qi.Y+$s],Zi=Bs.sa,Ti=Bs.ta+16*fi*Bn+16*$s,Xi=Qi.dd,cn=Qi.tc;if(cn!=0)if(t(3<=cn),Bs.L==1)0<$s&&QA(Zi,Ti,Bn,cn+4),Qi.La&&XA(Zi,Ti,Bn,cn),0<ao&&JA(Zi,Ti,Bn,cn+4),Qi.La&&ZA(Zi,Ti,Bn,cn);else{var ea=Bs.B,oo=Bs.qa,Ld=Bs.ra+8*fi*ea+8*$s,Gl=Bs.Ha,Bs=Bs.Ia+8*fi*ea+8*$s;fi=Qi.ld,0<$s&&(vs(Zi,Ti,Bn,cn+4,Xi,fi),wg(oo,Ld,Gl,Bs,ea,cn+4,Xi,fi)),Qi.La&&(Ly(Zi,Ti,Bn,cn,Xi,fi),KA(oo,Ld,Gl,Bs,ea,cn,Xi,fi)),0<ao&&(Yn(Zi,Ti,Bn,cn+4,Xi,fi),Wl(oo,Ld,Gl,Bs,ea,cn+4,Xi,fi)),Qi.La&&(jf(Zi,Ti,Bn,cn,Xi,fi),YA(oo,Ld,Gl,Bs,ea,cn,Xi,fi))}}if(yt.ia&&alert("todo:DitherRow"),Je.put!=null){if(zr=16*rn,rn=16*(rn+1),ws?(Je.y=yt.sa,Je.O=yt.ta+qr,Je.f=yt.qa,Je.N=yt.ra+Pi,Je.ea=yt.Ha,Je.W=yt.Ia+Pi):(zr-=Sr,Je.y=Fs,Je.O=di,Je.f=$n,Je.N=gr,Je.ea=Js,Je.W=hi),xs||(rn-=Sr),rn>Je.o&&(rn=Je.o),Je.F=null,Je.J=null,yt.Fa!=null&&0<yt.Fa.length&&zr<rn&&(Je.J=ln(yt,Je,zr,rn-zr),Je.F=yt.mb,Je.F==null&&Je.F.length==0)){Kn=as(yt,3,"Could not decode alpha data.");break t}zr<Je.j&&(Sr=Je.j-zr,zr=Je.j,t(!(1&Sr)),Je.O+=yt.R*Sr,Je.N+=yt.B*(Sr>>1),Je.W+=yt.B*(Sr>>1),Je.F!=null&&(Je.J+=Je.width*Sr)),zr<rn&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=zr-Je.j,Je.U=Je.va-Je.v,Je.T=rn-zr,Kn=Je.put(Je))}nr+1!=yt.Ic||xs||(n(yt.sa,yt.ta-er,Fs,di+16*yt.R,er),n(yt.qa,yt.ra-xn,$n,gr+8*yt.B,xn),n(yt.Ha,yt.Ia-xn,Js,hi+8*yt.B,xn))}if(!Kn)return as(ur,6,"Output aborted.")}return 1}(ae,ye)),ye.bc!=null&&ye.bc(ye),be&=1}return be?(ae.cb=0,be):0})(y,L)||(j=y.a)}}else j=y.a}j==0&&Y.Oa!=null&&Y.Oa.fd&&(j=pg(Y.ba))}Y=j}H=Y!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var w4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(M,G){for(var A="",I=0;I<4;I++)A+=String.fromCharCode(M[G++]);return A}function d(M,G){return M[G+0]|M[G+1]<<8}function h(M,G){return(M[G+0]|M[G+1]<<8|M[G+2]<<16)>>>0}function p(M,G){return(M[G+0]|M[G+1]<<8|M[G+2]<<16|M[G+3]<<24)>>>0}new c;var f=[0],v=[0],m=[],x=new c,g=e,b=function(M,G){var A={},I=0,$=!1,q=0,ee=0;if(A.frames=[],!function(U,_){for(var C=0;C<4;C++)if(U[_+C]!="RIFF".charCodeAt(C))return!0;return!1}(M,G)){for(p(M,G+=4),G+=8;G<M.length;){var ne=u(M,G),te=p(M,G+=4);G+=4;var W=te+(1&te);switch(ne){case"VP8 ":case"VP8L":A.frames[I]===void 0&&(A.frames[I]={}),(ve=A.frames[I]).src_off=$?ee:G-8,ve.src_size=q+te+8,I++,$&&($=!1,q=0,ee=0);break;case"VP8X":(ve=A.header={}).feature_flags=M[G];var Z=G+4;ve.canvas_width=1+h(M,Z),Z+=3,ve.canvas_height=1+h(M,Z),Z+=3;break;case"ALPH":$=!0,q=W+8,ee=G-8;break;case"ANIM":(ve=A.header).bgcolor=p(M,G),Z=G+4,ve.loop_count=d(M,Z),Z+=2;break;case"ANMF":var pe,ve;(ve=A.frames[I]={}).offset_x=2*h(M,G),G+=3,ve.offset_y=2*h(M,G),G+=3,ve.width=1+h(M,G),G+=3,ve.height=1+h(M,G),G+=3,ve.duration=h(M,G),G+=3,pe=M[G++],ve.dispose=1&pe,ve.blend=pe>>1&1}ne!="ANMF"&&(G+=W)}return A}}(g,0);b.response=g,b.rgbaoutput=!0,b.dataurl=!1;var S=b.header?b.header:null,k=b.frames?b.frames:null;if(S){S.loop_counter=S.loop_count,f=[S.canvas_height],v=[S.canvas_width];for(var T=0;T<k.length&&k[T].blend!=0;T++);}var R=k[0],O=x.WebPDecodeRGBA(g,R.src_off,R.src_size,v,f);R.rgba=O,R.imgwidth=v[0],R.imgheight=f[0];for(var D=0;D<v[0]*f[0]*4;D++)m[D]=O[D];return this.width=v,this.height=f,this.data=m,this}(function(e){var t,r,n,s,i,a,l,c,u,d=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new a,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new a,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var _=U;Object.defineProperty(this,"pdf",{get:function(){return _}});var C=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return C},set:function(J){C=!!J}});var E=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return E},set:function(J){E=!!J}});var B=0;Object.defineProperty(this,"posX",{get:function(){return B},set:function(J){isNaN(J)||(B=J)}});var F=0;Object.defineProperty(this,"posY",{get:function(){return F},set:function(J){isNaN(J)||(F=J)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(J){var De;typeof J=="number"?De=[J,J,J,J]:((De=new Array(4))[0]=J[0],De[1]=J.length>=2?J[1]:De[0],De[2]=J.length>=3?J[2]:De[0],De[3]=J.length>=4?J[3]:De[1]),u.margin=De}});var Q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Q},set:function(J){Q=J}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(J){se=J}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(J){le=J}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(J){J instanceof d&&(u=J)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(J){u.path=J}});var ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return ue},set:function(J){ue=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var De;De=p(J),this.ctx.fillStyle=De.style,this.ctx.isFillTransparent=De.a===0,this.ctx.fillOpacity=De.a,this.pdf.setFillColor(De.r,De.g,De.b,{a:De.a}),this.pdf.setTextColor(De.r,De.g,De.b,{a:De.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var De=p(J);this.ctx.strokeStyle=De.style,this.ctx.isStrokeTransparent=De.a===0,this.ctx.strokeOpacity=De.a,De.a===0?this.pdf.setDrawColor(255,255,255):(De.a,this.pdf.setDrawColor(De.r,De.g,De.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var fe=null,_e=null,Ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ie},set:function(J){fe=null,_e=null,Ie=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var De;if(this.ctx.font=J,(De=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var Ye=De[1];De[2];var Ke=De[3],me=De[4];De[5];var re=De[6],ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(me)[2];me=Math.floor(ce==="px"?parseFloat(me)*this.pdf.internal.scaleFactor:ce==="em"?parseFloat(me)*this.pdf.getFontSize():parseFloat(me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(me);var xe=function(rt){var Fr,qt,Ot=[],zt=rt.trim();if(zt==="")return SS;if(zt in mM)return[mM[zt]];for(;zt!=="";){switch(qt=null,Fr=(zt=vM(zt)).charAt(0)){case'"':case"'":qt=hbe(zt.substring(1),Fr);break;default:qt=fbe(zt)}if(qt===null||(Ot.push(qt[0]),(zt=vM(qt[1]))!==""&&zt.charAt(0)!==","))return SS;zt=zt.replace(/^,/,"")}return Ot}(re);if(this.fontFaces){var Ne=function(rt,Fr){var qt=rt.getFontList(),Ot=JSON.stringify(qt);if(fe===null||_e!==Ot){var zt=function(lr){var _t=[];return Object.keys(lr).forEach(function(br){lr[br].forEach(function(At){var Dt=null;switch(At){case"bold":Dt={family:br,weight:"bold"};break;case"italic":Dt={family:br,style:"italic"};break;case"bolditalic":Dt={family:br,weight:"bold",style:"italic"};break;case"":case"normal":Dt={family:br}}Dt!==null&&(Dt.ref={name:br,style:At},_t.push(Dt))})}),_t}(qt);fe=function(lr){for(var _t={},br=0;br<lr.length;++br){var At=_S(lr[br]),Dt=At.family,Ur=At.stretch,Yt=At.style,pt=At.weight;_t[Dt]=_t[Dt]||{},_t[Dt][Ur]=_t[Dt][Ur]||{},_t[Dt][Ur][Yt]=_t[Dt][Ur][Yt]||{},_t[Dt][Ur][Yt][pt]=At}return _t}(zt.concat(Fr)),_e=Ot}return fe}(this.pdf,this.fontFaces),Oe=xe.map(function(rt){return{family:rt,stretch:"normal",weight:Ke,style:Ye}}),Ce=function(rt,Fr,qt){for(var Ot=(qt=qt||{}).defaultFontFamily||"times",zt=Object.assign({},dbe,qt.genericFontFamilies||{}),lr=null,_t=null,br=0;br<Fr.length;++br)if(zt[(lr=_S(Fr[br])).family]&&(lr.family=zt[lr.family]),rt.hasOwnProperty(lr.family)){_t=rt[lr.family];break}if(!(_t=_t||rt[Ot]))throw new Error("Could not find a font-family for the rule '"+gM(lr)+"' and default family '"+Ot+"'.");if(_t=function(At,Dt){if(Dt[At])return Dt[At];var Ur=kk[At],Yt=Ur<=kk.normal?-1:1,pt=pM(Dt,zW,Ur,Yt);if(!pt)throw new Error("Could not find a matching font-stretch value for "+At);return pt}(lr.stretch,_t),_t=function(At,Dt){if(Dt[At])return Dt[At];for(var Ur=qW[At],Yt=0;Yt<Ur.length;++Yt)if(Dt[Ur[Yt]])return Dt[Ur[Yt]];throw new Error("Could not find a matching font-style for "+At)}(lr.style,_t),!(_t=function(At,Dt){if(Dt[At])return Dt[At];if(At===400&&Dt[500])return Dt[500];if(At===500&&Dt[400])return Dt[400];var Ur=ube[At],Yt=pM(Dt,VW,Ur,At<400?-1:1);if(!Yt)throw new Error("Could not find a matching font-weight for value "+At);return Yt}(lr.weight,_t)))throw new Error("Failed to resolve a font for the rule '"+gM(lr)+"'.");return _t}(Ne,Oe);this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var Le="";(Ke==="bold"||parseInt(Ke,10)>=700||Ye==="bold")&&(Le="bold"),Ye==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var et="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<xe.length;Qe++){if(this.pdf.internal.getFont(xe[Qe],Le,{noFallback:!0,disableWarning:!0})!==void 0){et=xe[Qe];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(xe[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)et=xe[Qe],Le="bold";else if(this.pdf.internal.getFont(xe[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){et=xe[Qe],Le="normal";break}}if(et===""){for(var bt=0;bt<xe.length;bt++)if(at[xe[bt]]){et=at[xe[bt]];break}}et=et===""?"Times":et,this.pdf.setFont(et,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(U){this.lineDash=U},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(U,_){if(isNaN(U)||isNaN(_))throw an.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var C=this.ctx.transform.applyToPoint(new a(U,_));this.path.push({type:"mt",x:C.x,y:C.y}),this.ctx.lastPoint=new a(U,_)},h.prototype.closePath=function(){var U=new a(0,0),_=0;for(_=this.path.length-1;_!==-1;_--)if(this.path[_].type==="begin"&&Yr(this.path[_+1])==="object"&&typeof this.path[_+1].x=="number"){U=new a(this.path[_+1].x,this.path[_+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(U.x,U.y)},h.prototype.lineTo=function(U,_){if(isNaN(U)||isNaN(_))throw an.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var C=this.ctx.transform.applyToPoint(new a(U,_));this.path.push({type:"lt",x:C.x,y:C.y}),this.ctx.lastPoint=new a(C.x,C.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(U,_,C,E){if(isNaN(C)||isNaN(E)||isNaN(U)||isNaN(_))throw an.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var B=this.ctx.transform.applyToPoint(new a(C,E)),F=this.ctx.transform.applyToPoint(new a(U,_));this.path.push({type:"qct",x1:F.x,y1:F.y,x:B.x,y:B.y}),this.ctx.lastPoint=new a(B.x,B.y)},h.prototype.bezierCurveTo=function(U,_,C,E,B,F){if(isNaN(B)||isNaN(F)||isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E))throw an.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Q=this.ctx.transform.applyToPoint(new a(B,F)),se=this.ctx.transform.applyToPoint(new a(U,_)),le=this.ctx.transform.applyToPoint(new a(C,E));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:le.x,y2:le.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(Q.x,Q.y)},h.prototype.arc=function(U,_,C,E,B,F){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E)||isNaN(B))throw an.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(F=!!F,!this.ctx.transform.isIdentity){var Q=this.ctx.transform.applyToPoint(new a(U,_));U=Q.x,_=Q.y;var se=this.ctx.transform.applyToPoint(new a(0,C)),le=this.ctx.transform.applyToPoint(new a(0,0));C=Math.sqrt(Math.pow(se.x-le.x,2)+Math.pow(se.y-le.y,2))}Math.abs(B-E)>=2*Math.PI&&(E=0,B=2*Math.PI),this.path.push({type:"arc",x:U,y:_,radius:C,startAngle:E,endAngle:B,counterclockwise:F})},h.prototype.arcTo=function(U,_,C,E,B){throw new Error("arcTo not implemented.")},h.prototype.rect=function(U,_,C,E){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E))throw an.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,_),this.lineTo(U+C,_),this.lineTo(U+C,_+E),this.lineTo(U,_+E),this.lineTo(U,_),this.lineTo(U+C,_),this.lineTo(U,_)},h.prototype.fillRect=function(U,_,C,E){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E))throw an.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var B={};this.lineCap!=="butt"&&(B.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(B.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,_,C,E),this.fill(),B.hasOwnProperty("lineCap")&&(this.lineCap=B.lineCap),B.hasOwnProperty("lineJoin")&&(this.lineJoin=B.lineJoin)}},h.prototype.strokeRect=function(U,_,C,E){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E))throw an.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(U,_,C,E),this.stroke())},h.prototype.clearRect=function(U,_,C,E){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E))throw an.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,_,C,E))},h.prototype.save=function(U){U=typeof U!="boolean"||U;for(var _=this.pdf.internal.getCurrentPageInfo().pageNumber,C=0;C<this.pdf.internal.getNumberOfPages();C++)this.pdf.setPage(C+1),this.pdf.internal.out("q");if(this.pdf.setPage(_),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var E=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=E}},h.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var _=this.pdf.internal.getCurrentPageInfo().pageNumber,C=0;C<this.pdf.internal.getNumberOfPages();C++)this.pdf.setPage(C+1),this.pdf.internal.out("Q");this.pdf.setPage(_),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(U){var _,C,E,B;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))_=0,C=0,E=0,B=0;else{var F=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(F!==null)_=parseInt(F[1]),C=parseInt(F[2]),E=parseInt(F[3]),B=1;else if((F=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)_=parseInt(F[1]),C=parseInt(F[2]),E=parseInt(F[3]),B=parseFloat(F[4]);else{if(B=1,typeof U=="string"&&U.charAt(0)!=="#"){var Q=new MW(U);U=Q.ok?Q.toHex():"#000000"}U.length===4?(_=U.substring(1,2),_+=_,C=U.substring(2,3),C+=C,E=U.substring(3,4),E+=E):(_=U.substring(1,3),C=U.substring(3,5),E=U.substring(5,7)),_=parseInt(_,16),C=parseInt(C,16),E=parseInt(E,16)}}return{r:_,g:C,b:E,a:B,style:U}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(U,_,C,E){if(isNaN(_)||isNaN(C)||typeof U!="string")throw an.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(E=isNaN(E)?void 0:E,!f.call(this)){var B=W(this.ctx.transform.rotation),F=this.ctx.transform.scaleX;I.call(this,{text:U,x:_,y:C,scale:F,angle:B,align:this.textAlign,maxWidth:E})}},h.prototype.strokeText=function(U,_,C,E){if(isNaN(_)||isNaN(C)||typeof U!="string")throw an.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){E=isNaN(E)?void 0:E;var B=W(this.ctx.transform.rotation),F=this.ctx.transform.scaleX;I.call(this,{text:U,x:_,y:C,scale:F,renderingMode:"stroke",angle:B,align:this.textAlign,maxWidth:E})}},h.prototype.measureText=function(U){if(typeof U!="string")throw an.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var _=this.pdf,C=this.pdf.internal.scaleFactor,E=_.internal.getFontSize(),B=_.getStringUnitWidth(U)*E/_.internal.scaleFactor;return new function(F){var Q=(F=F||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Q}}),this}({width:B*=Math.round(96*C/72*1e4)/1e4})},h.prototype.scale=function(U,_){if(isNaN(U)||isNaN(_))throw an.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var C=new c(U,0,0,_,0,0);this.ctx.transform=this.ctx.transform.multiply(C)},h.prototype.rotate=function(U){if(isNaN(U))throw an.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var _=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(_)},h.prototype.translate=function(U,_){if(isNaN(U)||isNaN(_))throw an.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var C=new c(1,0,0,1,U,_);this.ctx.transform=this.ctx.transform.multiply(C)},h.prototype.transform=function(U,_,C,E,B,F){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E)||isNaN(B)||isNaN(F))throw an.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Q=new c(U,_,C,E,B,F);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.setTransform=function(U,_,C,E,B,F){U=isNaN(U)?1:U,_=isNaN(_)?0:_,C=isNaN(C)?0:C,E=isNaN(E)?1:E,B=isNaN(B)?0:B,F=isNaN(F)?0:F,this.ctx.transform=new c(U,_,C,E,B,F)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(U,_,C,E,B,F,Q,se,le){var ue=this.pdf.getImageProperties(U),fe=1,_e=1,Ie=1,J=1;E!==void 0&&se!==void 0&&(Ie=se/E,J=le/B,fe=ue.width/E*se/E,_e=ue.height/B*le/B),F===void 0&&(F=_,Q=C,_=0,C=0),E!==void 0&&se===void 0&&(se=E,le=B),E===void 0&&se===void 0&&(se=ue.width,le=ue.height);var De=this.ctx.transform.decompose(),Ye=W(De.rotate.shx),Ke=new c,me=(Ke=(Ke=(Ke=Ke.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new l(F-_*Ie,Q-C*J,E*fe,B*_e));if(this.autoPaging){for(var re,ce=x.call(this,me),xe=[],Ne=0;Ne<ce.length;Ne+=1)xe.indexOf(ce[Ne])===-1&&xe.push(ce[Ne]);S(xe);for(var Oe=xe[0],Ce=xe[xe.length-1],Le=Oe;Le<Ce+1;Le++){this.pdf.setPage(Le);var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=Le===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Le===1?0:Qe+(Le-2)*bt;if(this.ctx.clip_path.length!==0){var Fr=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(re,this.posX+this.margin[3],-rt+at+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=Fr}var qt=JSON.parse(JSON.stringify(me));qt=b([qt],this.posX+this.margin[3],-rt+at+this.ctx.prevPageLastElemOffset)[0];var Ot=(Le>Oe||Le<Ce)&&m.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,bt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,Ye),Ot&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(U,"JPEG",me.x,me.y,me.w,me.h,null,null,Ye)};var x=function(U,_,C){var E=[];_=_||this.pdf.internal.pageSize.width,C=C||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var B=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":E.push(Math.floor((U.y+B)/C)+1);break;case"arc":E.push(Math.floor((U.y+B-U.radius)/C)+1),E.push(Math.floor((U.y+B+U.radius)/C)+1);break;case"qct":var F=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);E.push(Math.floor((F.y+B)/C)+1),E.push(Math.floor((F.y+F.h+B)/C)+1);break;case"bct":var Q=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);E.push(Math.floor((Q.y+B)/C)+1),E.push(Math.floor((Q.y+Q.h+B)/C)+1);break;case"rect":E.push(Math.floor((U.y+B)/C)+1),E.push(Math.floor((U.y+U.h+B)/C)+1)}for(var se=0;se<E.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<E[se];)g.call(this);return E},g=function(){var U=this.fillStyle,_=this.strokeStyle,C=this.font,E=this.lineCap,B=this.lineWidth,F=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=_,this.font=C,this.lineCap=E,this.lineWidth=B,this.lineJoin=F},b=function(U,_,C){for(var E=0;E<U.length;E++)switch(U[E].type){case"bct":U[E].x2+=_,U[E].y2+=C;case"qct":U[E].x1+=_,U[E].y1+=C;default:U[E].x+=_,U[E].y+=C}return U},S=function(U){return U.sort(function(_,C){return _-C})},k=function(U,_){var C=this.fillStyle,E=this.strokeStyle,B=this.lineCap,F=this.lineWidth,Q=Math.abs(F*this.ctx.transform.scaleX),se=this.lineJoin;if(this.autoPaging){for(var le,ue,fe=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),Ie=[],J=0;J<_e.length;J++)if(_e[J].x!==void 0)for(var De=x.call(this,_e[J]),Ye=0;Ye<De.length;Ye+=1)Ie.indexOf(De[Ye])===-1&&Ie.push(De[Ye]);for(var Ke=0;Ke<Ie.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<Ie[Ke];)g.call(this);S(Ie);for(var me=Ie[0],re=Ie[Ie.length-1],ce=me;ce<re+1;ce++){this.pdf.setPage(ce),this.fillStyle=C,this.strokeStyle=E,this.lineCap=B,this.lineWidth=Q,this.lineJoin=se;var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ne=ce===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Le=ce===1?0:Oe+(ce-2)*Ce;if(this.ctx.clip_path.length!==0){var et=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(le,this.posX+this.margin[3],-Le+Ne+this.ctx.prevPageLastElemOffset),T.call(this,U,!0),this.path=et}if(ue=JSON.parse(JSON.stringify(fe)),this.path=b(ue,this.posX+this.margin[3],-Le+Ne+this.ctx.prevPageLastElemOffset),_===!1||ce===0){var at=(ce>me||ce<re)&&m.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,Ce,null).clip().discardPath()),T.call(this,U,_),at&&this.pdf.restoreGraphicsState()}this.lineWidth=F}this.path=fe}else this.lineWidth=Q,T.call(this,U,_),this.lineWidth=F},T=function(U,_){if((U!=="stroke"||_||!v.call(this))&&(U==="stroke"||_||!f.call(this))){for(var C,E,B=[],F=this.path,Q=0;Q<F.length;Q++){var se=F[Q];switch(se.type){case"begin":B.push({begin:!0});break;case"close":B.push({close:!0});break;case"mt":B.push({start:se,deltas:[],abs:[]});break;case"lt":var le=B.length;if(F[Q-1]&&!isNaN(F[Q-1].x)&&(C=[se.x-F[Q-1].x,se.y-F[Q-1].y],le>0)){for(;le>=0;le--)if(B[le-1].close!==!0&&B[le-1].begin!==!0){B[le-1].deltas.push(C),B[le-1].abs.push(se);break}}break;case"bct":C=[se.x1-F[Q-1].x,se.y1-F[Q-1].y,se.x2-F[Q-1].x,se.y2-F[Q-1].y,se.x-F[Q-1].x,se.y-F[Q-1].y],B[B.length-1].deltas.push(C);break;case"qct":var ue=F[Q-1].x+2/3*(se.x1-F[Q-1].x),fe=F[Q-1].y+2/3*(se.y1-F[Q-1].y),_e=se.x+2/3*(se.x1-se.x),Ie=se.y+2/3*(se.y1-se.y),J=se.x,De=se.y;C=[ue-F[Q-1].x,fe-F[Q-1].y,_e-F[Q-1].x,Ie-F[Q-1].y,J-F[Q-1].x,De-F[Q-1].y],B[B.length-1].deltas.push(C);break;case"arc":B.push({deltas:[],abs:[],arc:!0}),Array.isArray(B[B.length-1].abs)&&B[B.length-1].abs.push(se)}}E=_?null:U==="stroke"?"stroke":"fill";for(var Ye=!1,Ke=0;Ke<B.length;Ke++)if(B[Ke].arc)for(var me=B[Ke].abs,re=0;re<me.length;re++){var ce=me[re];ce.type==="arc"?D.call(this,ce.x,ce.y,ce.radius,ce.startAngle,ce.endAngle,ce.counterclockwise,void 0,_,!Ye):$.call(this,ce.x,ce.y),Ye=!0}else if(B[Ke].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(B[Ke].begin!==!0){var xe=B[Ke].start.x,Ne=B[Ke].start.y;q.call(this,B[Ke].deltas,xe,Ne),Ye=!0}E&&M.call(this,E),_&&G.call(this)}},R=function(U){var _=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,C=_*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-C;case"top":return U+_-C;case"hanging":return U+_-2*C;case"middle":return U+_/2-C;default:return U}},O=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(_,C){this.colorStops.push([_,C])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(U,_,C,E,B,F,Q,se,le){for(var ue=ne.call(this,C,E,B,F),fe=0;fe<ue.length;fe++){var _e=ue[fe];fe===0&&(le?A.call(this,_e.x1+U,_e.y1+_):$.call(this,_e.x1+U,_e.y1+_)),ee.call(this,U,_,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}se?G.call(this):M.call(this,Q)},M=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(U,_){this.pdf.internal.out(r(U)+" "+n(_)+" m")},I=function(U){var _;switch(U.align){case"right":case"end":_="right";break;case"center":_="center";break;default:_="left"}var C,E,B,F=this.pdf.getTextDimensions(U.text),Q=R.call(this,U.y),se=O.call(this,Q)-F.h,le=this.ctx.transform.applyToPoint(new a(U.x,Q));if(this.autoPaging){var ue=this.ctx.transform.decompose(),fe=new c;fe=(fe=(fe=fe.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var _e=this.ctx.transform.applyToRectangle(new l(U.x,Q,F.w,F.h)),Ie=fe.applyToRectangle(new l(U.x,se,F.w,F.h)),J=x.call(this,Ie),De=[],Ye=0;Ye<J.length;Ye+=1)De.indexOf(J[Ye])===-1&&De.push(J[Ye]);S(De);for(var Ke=De[0],me=De[De.length-1],re=Ke;re<me+1;re++){this.pdf.setPage(re);var ce=re===1?this.posY+this.margin[0]:this.margin[0],xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[2],Oe=Ne-this.margin[0],Ce=this.pdf.internal.pageSize.width-this.margin[1],Le=Ce-this.margin[3],et=re===1?0:xe+(re-2)*Oe;if(this.ctx.clip_path.length!==0){var at=this.path;C=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(C,this.posX+this.margin[3],-1*et+ce),T.call(this,"fill",!0),this.path=at}var Qe=b([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-et+ce+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(E=this.pdf.internal.getFontSize(),this.pdf.setFontSize(E*U.scale),B=this.lineWidth,this.lineWidth=B*U.scale);var bt=this.autoPaging!=="text";if(bt||Qe.y+Qe.h<=Ne){if(bt||Qe.y>=ce&&Qe.x<=Ce){var rt=bt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Ce-Qe.x)[0],Fr=b([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-et+ce+this.ctx.prevPageLastElemOffset)[0],qt=bt&&(re>Ke||re<me)&&m.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,Oe,null).clip().discardPath()),this.pdf.text(rt,Fr.x,Fr.y,{angle:U.angle,align:_,renderingMode:U.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else Qe.y<Ne&&(this.ctx.prevPageLastElemOffset+=Ne-Qe.y);U.scale>=.01&&(this.pdf.setFontSize(E),this.lineWidth=B)}}else U.scale>=.01&&(E=this.pdf.internal.getFontSize(),this.pdf.setFontSize(E*U.scale),B=this.lineWidth,this.lineWidth=B*U.scale),this.pdf.text(U.text,le.x+this.posX,le.y+this.posY,{angle:U.angle,align:_,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(E),this.lineWidth=B)},$=function(U,_,C,E){C=C||0,E=E||0,this.pdf.internal.out(r(U+C)+" "+n(_+E)+" l")},q=function(U,_,C){return this.pdf.lines(U,_,C,null,null)},ee=function(U,_,C,E,B,F,Q,se){this.pdf.internal.out([t(s(C+U)),t(i(E+_)),t(s(B+U)),t(i(F+_)),t(s(Q+U)),t(i(se+_)),"c"].join(" "))},ne=function(U,_,C,E){for(var B=2*Math.PI,F=Math.PI/2;_>C;)_-=B;var Q=Math.abs(C-_);Q<B&&E&&(Q=B-Q);for(var se=[],le=E?-1:1,ue=_;Q>1e-5;){var fe=ue+le*Math.min(Q,F);se.push(te.call(this,U,ue,fe)),Q-=Math.abs(fe-ue),ue=fe}return se},te=function(U,_,C){var E=(C-_)/2,B=U*Math.cos(E),F=U*Math.sin(E),Q=B,se=-F,le=Q*Q+se*se,ue=le+Q*B+se*F,fe=4/3*(Math.sqrt(2*le*ue)-ue)/(Q*F-se*B),_e=Q-fe*se,Ie=se+fe*Q,J=_e,De=-Ie,Ye=E+_,Ke=Math.cos(Ye),me=Math.sin(Ye);return{x1:U*Math.cos(_),y1:U*Math.sin(_),x2:_e*Ke-Ie*me,y2:_e*me+Ie*Ke,x3:J*Ke-De*me,y3:J*me+De*Ke,x4:U*Math.cos(C),y4:U*Math.sin(C)}},W=function(U){return 180*U/Math.PI},Z=function(U,_,C,E,B,F){var Q=U+.5*(C-U),se=_+.5*(E-_),le=B+.5*(C-B),ue=F+.5*(E-F),fe=Math.min(U,B,Q,le),_e=Math.max(U,B,Q,le),Ie=Math.min(_,F,se,ue),J=Math.max(_,F,se,ue);return new l(fe,Ie,_e-fe,J-Ie)},pe=function(U,_,C,E,B,F,Q,se){var le,ue,fe,_e,Ie,J,De,Ye,Ke,me,re,ce,xe,Ne,Oe=C-U,Ce=E-_,Le=B-C,et=F-E,at=Q-B,Qe=se-F;for(ue=0;ue<41;ue++)Ke=(De=(fe=U+(le=ue/40)*Oe)+le*((Ie=C+le*Le)-fe))+le*(Ie+le*(B+le*at-Ie)-De),me=(Ye=(_e=_+le*Ce)+le*((J=E+le*et)-_e))+le*(J+le*(F+le*Qe-J)-Ye),ue==0?(re=Ke,ce=me,xe=Ke,Ne=me):(re=Math.min(re,Ke),ce=Math.min(ce,me),xe=Math.max(xe,Ke),Ne=Math.max(Ne,me));return new l(Math.round(re),Math.round(ce),Math.round(xe-re),Math.round(Ne-ce))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,_,C=(U=this.ctx.lineDash,_=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:_}));this.prevLineDash!==C&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=C)}}})(Et.API),function(e){var t=function(a){var l,c,u,d,h,p,f,v,m,x;for(c=[],u=0,d=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(h=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(x=h%85))/85)-(m=h%85))/85)-(v=h%85))/85)-(f=h%85))/85)%85,c.push(p+33,f+33,v+33,m+33,x+33)):c.push(122);return function(g,b){for(var S=b;S>0;S--)g.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(a){var l,c,u,d,h,p=String,f="length",v=255,m="charCodeAt",x="slice",g="replace";for(a[x](-2),a=a[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),u=[],d=0,h=(a+=l="uuuuu"[x](a[f]%5||5))[f];h>d;d+=5)c=52200625*(a[m](d)-33)+614125*(a[m](d+1)-33)+7225*(a[m](d+2)-33)+85*(a[m](d+3)-33)+(a[m](d+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(b,S){for(var k=S;k>0;k--)b.pop()}(u,l[f]),p.fromCharCode.apply(p,u)},n=function(a){return a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},i=function(a){for(var l=new Uint8Array(a.length),c=a.length;c--;)l[c]=a.charCodeAt(c);return(l=fk(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,l){var c=0,u=a||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Et.API),function(e){e.loadFile=function(t,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,p=0,f=function(v){var m=v.length,x=[],g=String.fromCharCode;for(p=0;p<m;p+=1)x.push(g(255&v.charCodeAt(p)));return x.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(s,i,a)}catch{}return l}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(Et.API),function(e){function t(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):Z5(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):Z5(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Yr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,c){return l.__proto__=c||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var v=d[f],m=v.src.find(function(x){return x.format==="truetype"});m&&u.addFont(m.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},a.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(l,c){return this.then(function(){var u=l in a.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},a.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,h).then(function(p){return u.updateProgress(1),p})})},a.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),p=u.call(h,l,c);return a.convert(p,d.__proto__)},a.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},a.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return a.convert(c,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Et.getPageSize=function(l,c,u){if(Yr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var v,m=0,x=0;if(f.hasOwnProperty(p))m=f[p][1]/h,x=f[p][0]/h;else try{m=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",x>m&&(v=x,x=m,m=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",m>x&&(v=x,x=m,m=v)}return{width:x,height:m,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(_S):null;var u=new a(c);return c.worker?u:u.from(l).doCallback()}}(Et.API),Et.API.addJS=function(e){return xM=e,this.internal.events.subscribe("postPutResources",function(){tx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(tx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),yM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){tx!==void 0&&yM!==void 0&&this.internal.out("/Names <</JavaScript "+tx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=n.exec(a);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var h=r.internal.newObject();d.push(h);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Et.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,a,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,m={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=f,t.indexOf(h.charCodeAt(x+1))!==-1){p=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),m={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:p,numcomponents:h.charCodeAt(x+9)};break}f=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:s}}return d}}(Et.API),Et.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=Jwe(e,{checkCrc:!0}),a=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;s=u&&c===1?function(D){for(var M=D.width,G=D.height,A=D.data,I=D.palette,$=D.depth,q=!1,ee=[],ne=[],te=void 0,W=!1,Z=0,pe=0;pe<I.length;pe++){var ve=fL(I[pe],4),U=ve[0],_=ve[1],C=ve[2],E=ve[3];ee.push(U,_,C),E!=null&&(E===0?(Z++,ne.length<1&&ne.push(pe)):E<255&&(W=!0))}if(W||Z>1){q=!0,ne=void 0;var B=M*G;te=new Uint8Array(B);for(var F=new DataView(A.buffer),Q=0;Q<B;Q++){var se=jS(F,Q,$),le=fL(I[se],4)[3];te[Q]=le}}else Z===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:A,alphaBytes:te,needSMask:q,palette:ee,mask:ne}}(i):c===2||c===4?function(D){for(var M=D.data,G=D.width,A=D.height,I=D.channels,$=D.depth,q=I===2?"DeviceGray":"DeviceRGB",ee=I-1,ne=G*A,te=ee,W=ne*te,Z=1*ne,pe=Math.ceil(W*$/8),ve=Math.ceil(Z*$/8),U=new Uint8Array(pe),_=new Uint8Array(ve),C=new DataView(M.buffer),E=new DataView(U.buffer),B=new DataView(_.buffer),F=!1,Q=0;Q<ne;Q++){for(var se=Q*I,le=0;le<te;le++)EM(E,jS(C,se+le,$),Q*te+le,$);var ue=jS(C,se+te,$);ue<(1<<$)-1&&(F=!0),EM(B,ue,1*Q,$)}return{colorSpace:q,colorsPerPixel:ee,sMaskBitsPerComponent:F?$:void 0,colorBytes:U,alphaBytes:_,needSMask:F}}(i):function(D){var M=D.data,G=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?function(A){for(var I=A.length,$=new Uint8Array(2*I),q=new DataView($.buffer,$.byteOffset,$.byteLength),ee=0;ee<I;ee++)q.setUint16(2*ee,A[ee],!1);return $}(M):M,needSMask:!1}}(i);var h,p,f,v=s,m=v.colorSpace,x=v.colorsPerPixel,g=v.sMaskBitsPerComponent,b=v.colorBytes,S=v.alphaBytes,k=v.needSMask,T=v.palette,R=v.mask,O=null;return n!==Et.API.image_compression.NONE&&typeof fk=="function"?(O=function(D){var M;switch(D){case Et.API.image_compression.FAST:M=11;break;case Et.API.image_compression.MEDIUM:M=13;break;case Et.API.image_compression.SLOW:M=14;break;default:M=12}return M}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(O," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(a),e=SM(b,Math.ceil(a*x*d/8),x,d,n),k&&(f=SM(S,Math.ceil(a*g/8),1,g,n))):(h=void 0,p=void 0,e=b,k&&(f=S)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:h,decodeParameters:p,transparency:R,palette:T,sMask:f,predictor:O,width:a,height:l,bitsPerComponent:d,sMaskBitsPerComponent:g,colorSpace:m}}},function(e){e.processGIF89A=function(t,r,n,s){var i=new vbe(t),a=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:l},d=new NS(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)},e.processGIF87A=e.processGIF89A}(Et.API),ho.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ho.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){an.log("bit decode error:"+r)}},ho.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ho.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},ho.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ho.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=u}this.pos+=e}},ho.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&r)/r*255|0,u=(a>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},ho.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},ho.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=a}},ho.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new ho(t,!1),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new NS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(Et.API),PM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new PM(t),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new NS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(Et.API),Et.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=n[u],h=n[u+1],p=n[u+2],f=n[u+3];i[l++]=d,i[l++]=h,i[l++]=p,a[c++]=f}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Et.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qf=Et.API,rx=qf.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,p=0,f=e.length,v=0,m=l[0]||c,x=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?x.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(p=h&&Yr(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,x.push((l[n]||m)/c+p)),v=n;return x},wM=qf.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return qf.processArabic&&(e=qf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:rx.apply(this,arguments).reduce(function(i,a){return i+a},0)},bM=function(e,t,r,n){for(var s=[],i=0,a=e.length,l=0;i!==a&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==a;)l+t[i]>n&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},_M=function(e,t,r){r||(r={});var n,s,i,a,l,c,u,d=[],h=[d],p=r.textIndent||0,f=0,v=0,m=e.split(" "),x=rx.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),b=[];m.map(function(k){(k=k.split(/\s*\n/)).length>1?b=b.concat(k.map(function(T,R){return(R&&T.length?`
`:"")+T})):b.push(k[0])}),m=b,c=wM.apply(this,[g,r])}for(i=0,a=m.length;i<a;i++){var S=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),S=1),p+f+(v=(s=rx.apply(this,[n,r])).reduce(function(k,T){return k+T},0))>t||S){if(v>t){for(l=bM.apply(this,[n,s,t-(p+f),t]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);v=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(k,T){return k+T},0)}else d=[n];h.push(d),p=v+c,f=x}else d.push(n),p+=f+v,f=x}return u=c?function(k,T){return(T?g:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(u)},qf.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(_M.apply(this,[n[l],a,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},l=e.__fontmetrics__.compress=function(p){var f,v,m,x,g=["{"];for(var b in p){if(f=p[b],isNaN(parseInt(b,10))?v="'"+b+"'":(b=parseInt(b,10),v=(v=a(b).slice(2)).slice(0,-1)+s[v.slice(-1)]),typeof f=="number")f<0?(m=a(f).slice(3),x="-"):(m=a(f).slice(2),x=""),m=x+m.slice(0,-1)+s[m.slice(-1)];else{if(Yr(f)!=="object")throw new Error("Don't know what to do with value type "+Yr(f)+".");m=l(f)}g.push(v+m)}return g.push("}"),g.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,v,m,x,g={},b=1,S=g,k=[],T="",R="",O=p.length-1,D=1;D<O;D+=1)(x=p[D])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(k.push([S,m]),S={},m=void 0):x=="}"?((v=k.pop())[0][v[1]]=S,m=void 0,S=v[0]):x=="-"?b=-1:m===void 0?n.hasOwnProperty(x)?(T+=n[x],m=parseInt(T,16)*b,b=1,T=""):T+=x:n.hasOwnProperty(x)?(R+=n[x],S[m]=parseInt(R,16)*b,b=1,m=void 0,R=""):R+=x;return g},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var f=p.font,v=h.Unicode[f.postScriptName];v&&(f.metadata.Unicode={},f.metadata.Unicode.widths=v.widths,f.metadata.Unicode.kerning=v.kerning);var m=d.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(Et.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Ix(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(Et),Et.API.addSvgAsImage=function(e,t,r,n,s,i,a,l){if(isNaN(t)||isNaN(r))throw an.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw an.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Ut.canvg?Promise.resolve(Ut.canvg):Z5(()=>import("./index.es-CNrISDdc.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,n,s,a,l)})},Et.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Et.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],u=0,d=0,h=0;function p(v,m){var x,g=!1;for(x=0;x<v.length;x+=1)v[x]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(h=0;h<f;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Yr(e)==="object"){for(s in e)if(i=e[s],p(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&p(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?m.push("/"+v+" /"+r[v].value):m.push("/"+v+" "+r[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Et.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,a){for(var l,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,p=i.length;h<p;++h){if(l=a.metadata.characterToGlyph(i.charCodeAt(h)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var a,l,c,u,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(l=Object.keys(i).sort(function(f,v){return f-v})).length;h<p;h++)a=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",v=0;v<p.length;v++)f+=String.fromCharCode(p[v]);var m=u();d({data:f,addLength1:!0,objectId:m}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Kf(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Kf(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+Kf(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var m=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Kf(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Kf(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",c=i.x,u=i.y,d=i.options||{},h=i.mutex||{},p=h.pdfEscape,f=h.activeFontKey,v=h.fonts,m=f,x="",g=0,b="",S=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(b=l,m=f,Array.isArray(l)&&(b=l[0]),g=0;g<b.length;g+=1)v[m].metadata.hasOwnProperty("cmap")&&(a=v[m].metadata.cmap.unicode.codeMap[b[g].charCodeAt(0)]),a||b[g].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?x+=b[g]:x+="";var k="";return parseInt(m.slice(1))<14||S==="WinAnsiEncoding"?k=p(x,m).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(k=r(x,v[m])),h.isHex=!0,{text:k,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(i){var a=i.text||"",l=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?l.push([s(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):l.push(s(Object.assign({},c,{text:a[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:a})).text}])}(Et),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Et.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,a,l,c,u,d,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var k=function(A){var I=A.charCodeAt(),$=I>>8,q=m[$];return q!==void 0?h[256*q+(255&I)]:$===252||$===253?"AL":g.test($)?"L":$===8?"R":"N"},T=function(A){for(var I,$=0;$<A.length;$++){if((I=k(A.charAt($)))==="L")return!1;if(I==="R")return!0}return!1},R=function(A,I,$,q){var ee,ne,te,W,Z=I[q];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(Z="AN");break;case"AL":b=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":q<1||q+1>=I.length||(ee=$[q-1])!=="EN"&&ee!=="AN"||(ne=I[q+1])!=="EN"&&ne!=="AN"?Z="N":b&&(ne="AN"),Z=ne===ee?ne:"N";break;case"ES":Z=(ee=q>0?$[q-1]:"B")==="EN"&&q+1<I.length&&I[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&$[q-1]==="EN"){Z="EN";break}if(b){Z="N";break}for(te=q+1,W=I.length;te<W&&I[te]==="ET";)te++;Z=te<W&&I[te]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(W=I.length,te=q+1;te<W&&I[te]==="NSM";)te++;if(te<W){var pe=A[q],ve=pe>=1425&&pe<=2303||pe===64286;if(ee=I[te],ve&&(ee==="R"||ee==="AL")){Z="R";break}}}Z=q<1||(ee=I[q-1])==="B"?"N":$[q-1];break;case"B":b=!1,s=!0,Z=S;break;case"S":i=!0,Z="N"}return Z},O=function(A,I,$){var q=A.split("");return $&&D(q,$,{hiLevel:S}),q.reverse(),I&&I.reverse(),q.join("")},D=function(A,I,$){var q,ee,ne,te,W,Z=-1,pe=A.length,ve=0,U=[],_=S?f:p,C=[];for(b=!1,s=!1,i=!1,ee=0;ee<pe;ee++)C[ee]=k(A[ee]);for(ne=0;ne<pe;ne++){if(W=ve,U[ne]=R(A,C,U,ne),q=240&(ve=_[W][v[U[ne]]]),ve&=15,I[ne]=te=_[ve][5],q>0)if(q===16){for(ee=Z;ee<ne;ee++)I[ee]=1;Z=-1}else Z=-1;if(_[ve][6])Z===-1&&(Z=ne);else if(Z>-1){for(ee=Z;ee<ne;ee++)I[ee]=te;Z=-1}C[ne]==="B"&&(I[ne]=0),$.hiLevel|=te}i&&function(E,B,F){for(var Q=0;Q<F;Q++)if(E[Q]==="S"){B[Q]=S;for(var se=Q-1;se>=0&&E[se]==="WS";se--)B[se]=S}}(C,I,pe)},M=function(A,I,$,q,ee){if(!(ee.hiLevel<A)){if(A===1&&S===1&&!s)return I.reverse(),void($&&$.reverse());for(var ne,te,W,Z,pe=I.length,ve=0;ve<pe;){if(q[ve]>=A){for(W=ve+1;W<pe&&q[W]>=A;)W++;for(Z=ve,te=W-1;Z<te;Z++,te--)ne=I[Z],I[Z]=I[te],I[te]=ne,$&&(ne=$[Z],$[Z]=$[te],$[te]=ne);ve=W}ve++}}},G=function(A,I,$){var q=A.split(""),ee={hiLevel:S};return $||($=[]),D(q,$,ee),function(ne,te,W){if(W.hiLevel!==0&&d)for(var Z,pe=0;pe<ne.length;pe++)te[pe]===1&&(Z=x.indexOf(ne[pe]))>=0&&(ne[pe]=x[Z+1])}(q,$,ee),M(2,q,I,$,ee),M(1,q,I,$,ee),q.join("")};return this.__bidiEngine__.doBidiReorder=function(A,I,$){if(function(ee,ne){if(ne)for(var te=0;te<ee.length;te++)ne[te]=te;l===void 0&&(l=T(ee)),u===void 0&&(u=T(ee))}(A,I),a||!c||u)if(a&&c&&l^u)S=l?1:0,A=O(A,I,$);else if(!a&&c&&u)S=l?1:0,A=G(A,I,$),A=O(A,I);else if(!a||l||c||u){if(a&&!c&&l^u)A=O(A,I),l?(S=0,A=G(A,I,$)):(S=1,A=G(A,I,$),A=O(A,I));else if(a&&l&&!c&&u)S=1,A=G(A,I,$),A=O(A,I);else if(!a&&!c&&l^u){var q=d;l?(S=1,A=G(A,I,$),S=0,d=!1,A=G(A,I,$),d=q):(S=0,A=G(A,I,$),A=O(A,I),S=1,d=!1,A=G(A,I,$),d=q,A=O(A,I))}}else S=0,A=G(A,I,$);else S=l?1:0,A=G(A,I,$);return A},this.__bidiEngine__.setOptions=function(A){A&&(a=A.isInputVisual,c=A.isOutputVisual,l=A.isInputRtl,u=A.isOutputRtl,d=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([r.doBidiReorder(s[l])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Et),Et.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new ld(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Rbe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new ybe(this.contents),this.head=new wbe(this),this.name=new Nbe(this),this.cmap=new HW(this),this.toUnicode={},this.hhea=new bbe(this),this.maxp=new kbe(this),this.hmtx=new Cbe(this),this.post=new Sbe(this),this.os2=new _be(this),this.loca=new Tbe(this),this.glyf=new Ebe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,u;for(u=[],a=0,l=(c=this.bbox).length;a<l;a++)t=c[a],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,a,l;for(a=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var zo,ld=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,a,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),ybe=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,a,l,c,u,d,h,p,f,v,m;for(m in f=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),a=Math.floor(h/c),d=16*f-h,(s=new ld).writeInt(this.scalarType),s.writeShort(f),s.writeShort(h),s.writeShort(a),s.writeShort(d),i=16*f,u=s.pos+i,l=null,v=[],r)for(p=r[m],s.writeString(m),s.writeInt(e(p)),s.writeInt(u),s.writeInt(p.length),v=v.concat(p),m==="head"&&(l=u),u+=p.length;u%4;)v.push(0),u++;return s.write(v),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,a;for(r=GW.call(r);r.length%4;)r.push(0);for(i=new ld(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),xbe={}.hasOwnProperty,Ol=function(e,t){for(var r in t)xbe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};zo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var wbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,zo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new ld).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),TM=function(){function e(t,r){var n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,b,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,i=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),t.pos+=2,m=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),u=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),d=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),s=(this.length-t.pos+this.offset)/2,l=function(){var k,T;for(T=[],c=k=0;0<=s?k<s:k>s;c=0<=s?++k:--k)T.push(t.readUInt16());return T}(),c=g=0,S=i.length;g<S;c=++g)for(x=i[c],n=b=v=m[c];v<=x?b<=x:b>=x;n=v<=x?++b:--b)d[c]===0?a=n+u[c]:(a=l[d[c]/2+(n-v)-(p-c)]||0)!==0&&(a+=u[c]),this.codeMap[n]=65535&a}t.pos=h}return e.encode=function(t,r){var n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,b,S,k,T,R,O,D,M,G,A,I,$,q,ee,ne,te,W,Z,pe,ve,U,_,C,E,B,F,Q,se,le,ue,fe;switch(q=new ld,a=Object.keys(t).sort(function(_e,Ie){return _e-Ie}),r){case"macroman":for(m=0,x=function(){var _e=[];for(v=0;v<256;++v)_e.push(0);return _e}(),b={0:0},i={},ee=0,Z=a.length;ee<Z;ee++)b[se=t[s=a[ee]]]==null&&(b[se]=++m),i[s]={old:t[s],new:b[t[s]]},x[s]=b[t[s]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(x),{charMap:i,subtable:q.data,maxGlyphID:m+1};case"unicode":for(I=[],h=[],S=0,b={},n={},g=u=null,ne=0,pe=a.length;ne<pe;ne++)b[T=t[s=a[ne]]]==null&&(b[T]=++S),n[s]={old:T,new:b[T]},l=b[T]-s,g!=null&&l===u||(g&&h.push(g),I.push(s),u=l),g=s;for(g&&h.push(g),h.push(65535),I.push(65535),G=2*(M=I.length),D=2*Math.pow(Math.log(M)/Math.LN2,2),p=Math.log(D/2)/Math.LN2,O=2*M-D,c=[],R=[],f=[],v=te=0,ve=I.length;te<ve;v=++te){if(A=I[v],d=h[v],A===65535){c.push(0),R.push(0);break}if(A-($=n[A].new)>=32768)for(c.push(0),R.push(2*(f.length+M-v)),s=W=A;A<=d?W<=d:W>=d;s=A<=d?++W:--W)f.push(n[s].new);else c.push($-A),R.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*M+2*f.length),q.writeUInt16(0),q.writeUInt16(G),q.writeUInt16(D),q.writeUInt16(p),q.writeUInt16(O),F=0,U=h.length;F<U;F++)s=h[F],q.writeUInt16(s);for(q.writeUInt16(0),Q=0,_=I.length;Q<_;Q++)s=I[Q],q.writeUInt16(s);for(le=0,C=c.length;le<C;le++)l=c[le],q.writeUInt16(l);for(ue=0,E=R.length;ue<E;ue++)k=R[ue],q.writeUInt16(k);for(fe=0,B=f.length;fe<B;fe++)m=f[fe],q.writeUInt16(m);return{charMap:n,subtable:q.data,maxGlyphID:S+1}}},e}(),HW=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,zo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new TM(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=TM.encode(t,r),(s=new ld).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),bbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,zo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),_be=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,zo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Sbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,zo),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var a,l,c;for(c=[],i=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;i=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),jbe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Nbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,zo),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,a,l,c,u,d,h,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=d=0,h=n.length;d<h;i=++d)s=n[i],t.pos=s.offset,u=t.readString(s.length),a=new jbe(u,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),kbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,zo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Cbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,zo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,h,p;for(p=[],u=0,d=(h=this.metrics).length;u<d;u++)i=h[u],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),GW=[].slice,Ebe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,zo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,a,l,c,u,d,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,a=(l=new ld(r.read(s))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=a===-1?new Pbe(l,u,h,c,d):new Abe(l,a,u,h,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,a,l,c;for(a=[],i=[],l=0,c=r.length;l<c;l++)s=t[r[l]],i.push(a.length),s&&(a=a.concat(s.encode(n)));return i.push(a.length),{table:a,offsets:i}},e}(),Abe=function(){function e(t,r,n,s,i,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Pbe=function(){function e(t,r,n,s,i){var a,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new ld(GW.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Tbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ol(e,zo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<n.length;++a)if(n[a]=s,i<r.length&&r[i]==a){++i,n[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),Rbe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,a,l,c;for(s={},a=0,l=t.length;a<l;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,a,l,c,u,d,h,p,f,v,m,x,g;for(s in n=HW.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),f={0:0},g=n.charMap)f[(c=g[s]).old]=c.new;for(v in p=n.maxGlyphID,a)v in f||(f[v]=p++);return d=function(b){var S,k;for(S in k={},b)k[b[S]]=S;return k}(f),h=Object.keys(d).sort(function(b,S){return b-S}),m=function(){var b,S,k;for(k=[],b=0,S=h.length;b<S;b++)l=h[b],k.push(d[l]);return k}(),i=this.font.glyf.encode(a,m,f),u=this.font.loca.encode(i.offsets,m),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Et.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+r},t}();function YW(e,t,r,n,s){n=n||{};var i=1.15,a=s.internal.scaleFactor,l=s.internal.getFontSize()/a,c=s.getLineHeightFactor?s.getLineHeightFactor():i,u=l*c,d=/\r\n|\r|\n/g,h="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof e=="string"?e.split(d):e,p=h.length||1),r+=l*(2-i),n.valign==="middle"?r-=p/2*u:n.valign==="bottom"&&(r-=p*u),n.halign==="center"||n.halign==="right"){var f=l;if(n.halign==="center"&&(f*=.5),h&&p>=1){for(var v=0;v<h.length;v++)s.text(h[v],t-s.getStringUnitWidth(h[v])*f,r),r+=u;return s}t-=s.getStringUnitWidth(e)*f}return n.halign==="justify"?s.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(e,t,r),s}var RM={},Op=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:RM=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,s,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),l=a.fontStyle,c=a.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=e.unifyColor(t.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,s,i){return this.jsPDFDocument.rect(t,r,n,s,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return RM||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Ck=function(e,t){return Ck=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ck(e,t)};function KW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ck(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var JW=function(e){KW(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Obe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Lbe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function ob(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],s=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,a){return Math.max(i,a)},0);return s}function QW(e,t,r,n){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var a=ZW(s,!1);a&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,a)}function ZW(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function L2(e,t){var r,n,s,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function XW(e,t){var r=L2(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Mbe(e,t,r,n,s){var i={},a=1.3333333333333333,l=kS(t,function(S){return s.getComputedStyle(S).backgroundColor});l!=null&&(i.fillColor=l);var c=kS(t,function(S){return s.getComputedStyle(S).color});c!=null&&(i.textColor=c);var u=Dbe(n,r);u&&(i.cellPadding=u);var d="borderTopColor",h=a*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var f=(parseFloat(p)||0)/h;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var v=kS(t,function(S){return s.getComputedStyle(S)[d]});v!=null&&(i.lineColor=v);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var x=parseInt(n.fontSize||"");isNaN(x)||(i.fontSize=x/a);var g=Ibe(n);g&&(i.fontStyle=g);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function Ibe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function kS(e,t){var r=eH(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function eH(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:eH(e.parentElement,t):r}function Dbe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(l){return parseInt(l||"0")/n}),a=L2(i,0);return s>a.top&&(a.top=s),s>a.bottom&&(a.bottom=s),a}function tH(e,t,r,n,s){var i,a;n===void 0&&(n=!1),s===void 0&&(s=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],h=[],p=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:h,foot:p};for(var f=0;f<l.rows.length;f++){var v=l.rows[f],m=(a=(i=v==null?void 0:v.parentElement)===null||i===void 0?void 0:i.tagName)===null||a===void 0?void 0:a.toLowerCase(),x=Fbe(c,u,r,v,n,s);x&&(m==="thead"?d.push(x):m==="tfoot"?p.push(x):h.push(x))}return{head:d,body:h,foot:p}}function Fbe(e,t,r,n,s,i){for(var a=new JW(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(s||u.display!=="none"){var d=void 0;i&&(d=Mbe(e,c,t,u,r)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:$be(c)})}}var h=r.getComputedStyle(n);if(a.length>0&&(s||h.display!=="none"))return a}function $be(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Bbe(e,t,r){for(var n=0,s=[e,t,r];n<s.length;n++){var i=s[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function vc(e,t,r,n,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function rH(e,t){var r=new Op(e),n=r.getDocumentOptions(),s=r.getGlobalOptions();Bbe(s,n,t);var i=vc({},s,n,t),a;typeof window<"u"&&(a=window);var l=Ube(s,n,t),c=qbe(s,n,t),u=zbe(r,i),d=Wbe(r,i,a);return{id:t.tableId,content:d,hooks:c,styles:l,settings:u}}function Ube(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],h=r[c];n.columnStyles=vc({},u,d,h)}else{var p=[e,t,r],f=p.map(function(v){return v[c]||{}});n[c]=vc({},f[0],f[1],f[2])}},i=0,a=Object.keys(n);i<a.length;i++){var l=a[i];s(l)}return n}function qbe(e,t,r){for(var n=[e,t,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,a=n;i<a.length;i++){var l=a[i];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function zbe(e,t){var r,n,s,i,a,l,c,u,d,h,p,f,v=L2(t.margin,40/e.scaleFactor()),m=(r=Vbe(e,t.startY))!==null&&r!==void 0?r:v.top,x;t.showFoot===!0?x="everyPage":t.showFoot===!1?x="never":x=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var g;t.showHead===!0?g="everyPage":t.showHead===!1?g="never":g=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,S=t.theme||(b?"plain":"striped"),k=!!t.horizontalPageBreak,T=(a=t.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:b,theme:S,startY:m,margin:v,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:g,showFoot:x,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:k,horizontalPageBreakRepeat:T,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Vbe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),s=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;i=a===s}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Wbe(e,t,r){var n=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(r){var l=tH(e,t.html,r,a,t.useCss)||{};n=l.head||n,s=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Hbe(n,s,i);return{columns:c,head:n,body:s,foot:i}}function Hbe(e,t,r){var n=e[0]||t[0]||r[0]||[],s=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var a=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(a=(l==null?void 0:l.colSpan)||1);for(var c=0;c<a;c++){var u=void 0;Array.isArray(n)?u=s.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};s.push(d)}}),s}var Ek=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),Gbe=function(e){KW(t,e);function t(r,n,s,i,a,l){var c=e.call(this,r,n,l)||this;return c.cell=s,c.row=i,c.column=a,c.section=i.section,c}return t}(Ek),Ybe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,s,i,a){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new Gbe(t,this,n,s,i,a),h=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var i=s[n];i(new Ek(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var i=s[n];i(new Ek(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),nH=function(){function e(t,r,n,s,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof JW&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,s){var i;return Math.max(n,((i=r.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(s,i){var a=n.cells[i.index];if(!a)return 0;var l=r.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),u=c+l;return u>s?u:s},0)},e}(),sH=function(){function e(t,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var a=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=a.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*r,i=n*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=L2(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),Kbe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,s=t.allRows();n<s.length;n++){var i=s[n],a=i.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},e}();function Jbe(e,t){Qbe(e,t);var r=[],n=0;t.columns.forEach(function(i){var a=i.getMaxCustomCellWidth(t);a?i.width=a:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var s=t.getWidth(e.pageSize().width)-n;s&&(s=Ak(r,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=Ak(r,s,function(i){return i.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),Xbe(t),e2e(t,e),Zbe(t)}function Qbe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,s=XW(e,t);t.allRows().forEach(function(i){for(var a=0,l=t.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,i,c,null);var h=u.padding("horizontal");u.contentWidth=ob(u.text,u.styles,e)+h;var p=ob(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=p+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/r;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var a=0,l=t.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function Ak(e,t,r){for(var n=t,s=e.reduce(function(f,v){return f+v.wrappedWidth},0),i=0;i<e.length;i++){var a=e[i],l=a.wrappedWidth/s,c=n*l,u=a.width+c,d=r(a),h=u<d?d:u;t-=h-a.width,a.width=h}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(f){return t<0?f.width>r(f):!0});p.length&&(t=Ak(p,t,r))}return t}function Zbe(e){for(var t={},r=1,n=e.allRows(),s=0;s<n.length;s++)for(var i=n[s],a=0,l=e.columns;a<l.length;a++){var c=l[a],u=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var h=n.length-s,p=d.rowSpan>h?h:d.rowSpan;t[c.index]={cell:d,left:p,row:i}}}}}function Xbe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],s=null,i=0,a=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(a-=1,a>1&&e.columns[l+1])i+=c.width,delete n.cells[c.index];else if(s){var u=s;delete n.cells[c.index],s=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(a=u.colSpan,i=0,u.colSpan>1){s=u,i+=c.width;continue}u.width=c.width+i}}}function e2e(e,t){for(var r={count:0,height:0},n=0,s=e.allRows();n<s.length;n++){for(var i=s[n],a=0,l=e.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=OM(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=OM(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,d);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<p*u.rowSpan?r={height:p,count:u.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>i.height&&(i.height=p)}}r.count--}}function OM(e,t,r,n,s){return e.map(function(i){return t2e(i,t,r,n,s)})}function t2e(e,t,r,n,s){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=ob(e,r,n))return e;for(;t<ob(e+s,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function iH(e,t){var r=new Op(e),n=r2e(t,r.scaleFactor()),s=new Ybe(t,n);return Jbe(r,s),r.applyStyles(r.userStyles),s}function r2e(e,t){var r=e.content,n=s2e(r.columns);if(r.head.length===0){var s=LM(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=LM(n,"foot");s&&r.foot.push(s)}var i=e.settings.theme,a=e.styles;return{columns:n,head:CS("head",r.head,n,a,i,t),body:CS("body",r.body,n,a,i,t),foot:CS("foot",r.foot,n,a,i,t)}}function CS(e,t,r,n,s,i){var a={},l=t.map(function(c,u){for(var d=0,h={},p=0,f=0,v=0,m=r;v<m.length;v++){var x=m[v];if(a[x.index]==null||a[x.index].left===0)if(f===0){var g=void 0;Array.isArray(c)?g=c[x.index-p-d]:g=c[x.dataKey];var b={};typeof g=="object"&&!Array.isArray(g)&&(b=(g==null?void 0:g.styles)||{});var S=i2e(e,x,u,s,n,i,b),k=new sH(g,S,e);h[x.dataKey]=k,h[x.index]=k,f=k.colSpan-1,a[x.index]={left:k.rowSpan-1,times:f}}else f--,p++;else a[x.index].left--,f=a[x.index].times,d++}return new nH(c,u,e,h)});return l}function LM(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var s=n2e(t,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function n2e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function s2e(e){return e.map(function(t,r){var n,s;return typeof t=="object"?s=(n=t.dataKey)!==null&&n!==void 0?n:r:s=r,new Kbe(s,t,r)})}function i2e(e,t,r,n,s,i,a){var l=Lbe(n),c;e==="head"?c=s.headStyles:e==="body"?c=s.bodyStyles:e==="foot"&&(c=s.footStyles);var u=vc({},l.table,l[e],s.styles,c),d=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},h=e==="body"?d:{},p=e==="body"&&r%2===0?vc({},l.alternateRow,s.alternateRowStyles):{},f=Obe(i),v=vc({},f,u,p,h);return vc(v,a)}function a2e(e,t,r){var n;r===void 0&&(r={});var s=XW(e,t),i=new Map,a=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var f=t.columns.find(function(v){return v.dataKey===p||v.index===p});f&&!i.has(f.index)&&(i.set(f.index,!0),a.push(f.index),l.push(t.columns[f.index]),s-=f.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(i.has(d)){d++;continue}var h=t.columns[d].wrappedWidth;if(u||s>=h)u=!1,a.push(d),l.push(t.columns[d]),s-=h;else break;d++}return{colIndexes:a,columns:l,lastIndex:d-1}}function o2e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var s=a2e(e,t,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function aH(e,t){var r=t.settings,n=r.startY,s=r.margin,i={x:s.left,y:n},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+s.bottom+a;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(p,f){return p+f.height},0);l+=u}var d=new Op(e);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(lH(d),i.y=s.top),t.callWillDrawPageHooks(d,i);var h=vc({},i);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?l2e(d,t,h,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(p){return Lc(d,t,p,i,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(p,f){var v=f===t.body.length-1;lb(d,t,p,v,h,i,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(p){return Lc(d,t,p,i,t.columns)})),QW(d,t,h,i),t.callEndPageHooks(d,i),t.finalY=i.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function l2e(e,t,r,n){var s=o2e(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?Tv(e,t,r,n,u.columns,!0):MM(e,t,n,u.columns),c2e(e,t,r,n,u.columns),ES(e,t,n,u.columns)});else for(var a=-1,l=s[0],c=function(){var u=a;if(l){e.applyStyles(e.userStyles);var d=l.columns;a>=0?Tv(e,t,r,n,d,!0):MM(e,t,n,d),u=IM(e,t,a+1,n,d),ES(e,t,n,d)}var h=u-a;s.slice(1).forEach(function(p){e.applyStyles(e.userStyles),Tv(e,t,r,n,p.columns,!0),IM(e,t,a+1,n,p.columns,h),ES(e,t,n,p.columns)}),a=u};a<t.body.length-1;)c()}function MM(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(i){return Lc(e,t,i,r,n)})}function c2e(e,t,r,n,s){e.applyStyles(e.userStyles),t.body.forEach(function(i,a){var l=a===t.body.length-1;lb(e,t,i,l,r,n,s)})}function IM(e,t,r,n,s,i){e.applyStyles(e.userStyles),i=i??t.body.length;var a=Math.min(r+i,t.body.length),l=-1;return t.body.slice(r,a).forEach(function(c,u){var d=r+u===t.body.length-1,h=oH(e,t,d,n);c.canEntireRowFit(h,s)&&(Lc(e,t,c,n,s),l=r+u)}),l}function ES(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(i){return Lc(e,t,i,r,n)})}function u2e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),i=Math.floor((t-s)/n);return Math.max(0,i)}function d2e(e,t,r,n){var s={};e.spansMultiplePages=!0,e.height=0;for(var i=0,a=0,l=r.columns;a<l.length;a++){var c=l[a],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new sH(u.raw,u.styles,u.section);d=vc(d,u),d.text=[];var h=u2e(u,t,n);u.text.length>h&&(d.text=u.text.splice(h,u.text.length));var p=n.scaleFactor(),f=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(p,f),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(p,f),d.contentHeight>i&&(i=d.contentHeight),s[c.index]=d}}var v=new nH(e.raw,-1,e.section,s,!0);v.height=i;for(var m=0,x=r.columns;m<x.length;m++){var c=x[m],d=v.cells[c.index];d&&(d.height=v.height);var u=e.cells[c.index];u&&(u.height=e.height)}return v}function h2e(e,t,r,n){var s=e.pageSize().height,i=n.settings.margin,a=i.top+i.bottom,l=s-a;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>l)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),h=t.getMaxCellHeight(n.columns)>l;return h?(d&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function lb(e,t,r,n,s,i,a){var l=oH(e,t,n,i);if(r.canEntireRowFit(l,a))Lc(e,t,r,i,a);else if(h2e(e,r,l,t)){var c=d2e(r,l,t,e);Lc(e,t,r,i,a),Tv(e,t,s,i,a),lb(e,t,c,n,s,i,a)}else Tv(e,t,s,i,a),lb(e,t,r,n,s,i,a)}function Lc(e,t,r,n,s){n.x=t.settings.margin.left;for(var i=0,a=s;i<a.length;i++){var l=a[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}f2e(e,c,n);var d=c.getTextPos();YW(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function f2e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=ZW(n.lineWidth,n.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),p2e(e,t,r,n.lineWidth))}function p2e(e,t,r,n){var s,i,a,l;n.top&&(s=r.x,i=r.y,a=r.x+t.width,l=r.y,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),c(n.top,s,i,a,l)),n.bottom&&(s=r.x,i=r.y+t.height,a=r.x+t.width,l=r.y+t.height,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),c(n.bottom,s,i,a,l)),n.left&&(s=r.x,i=r.y,a=r.x,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,s,i,a,l)),n.right&&(s=r.x+t.width,i=r.y,a=r.x+t.width,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,s,i,a,l));function c(u,d,h,p,f){e.getDocument().setLineWidth(u),e.getDocument().line(d,h,p,f,"S")}}function oH(e,t,r,n){var s=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-s}function Tv(e,t,r,n,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(l){return Lc(e,t,l,n,s)}),t.callEndPageHooks(e,n);var a=t.settings.margin;QW(e,t,r,n),lH(e),t.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Lc(e,t,l,n,s)}),e.applyStyles(e.userStyles))}function lH(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function m2e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],s=rH(this,n),i=iH(this,s);return aH(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,s){YW(t,r,n,s,this)},e.API.autoTableSetDefaults=function(t){return Op.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Op.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Op(this),i=tH(s,t,window,r,!1),a=i.head,l=i.body,c=((n=a[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var AS;function g2e(e,t){var r=rH(e,t),n=iH(e,r);aH(e,n)}try{if(typeof window<"u"&&window){var DM=window,FM=DM.jsPDF||((AS=DM.jspdf)===null||AS===void 0?void 0:AS.jsPDF);FM&&m2e(FM)}}catch(e){console.error("Could not apply autoTable plugin",e)}const v2e=()=>{const e=Pn(),[t,r]=w.useState(null),[n,s]=w.useState(""),[i,a]=w.useState(!1),{data:l=[],isLoading:c}=fn({queryKey:["staff-salaries"],queryFn:async()=>{const{data:m}=await Ve.from("profiles").select("*"),{data:x}=await Ve.from("user_roles").select("*"),{data:g}=await Ve.from("staff_approval_requests").select("*");let b=[];try{const{data:M,error:G}=await Ve.from("staff_salaries").select("*");if(G)throw G.code==="42P01"&&a(!0),G;b=M||[]}catch(M){console.warn("Could not fetch salaries:",M),M.code==="42P01"&&a(!0)}const S=new Map((x||[]).map(M=>[M.user_id,M.role])),k=new Map((m||[]).map(M=>[M.user_id,M])),T=new Map((g||[]).map(M=>[M.user_id,M])),R=new Map(b.map(M=>[M.user_id,M])),O=new Set([...(m||[]).map(M=>M.user_id),...(x||[]).map(M=>M.user_id),...(g||[]).map(M=>M.user_id)]),D=[];return O.forEach(M=>{const G=S.get(M),A=T.get(M);if(!G&&!A||G==="patient")return;const I=k.get(M),$=R.get(M),q=(I==null?void 0:I.full_name)||(A==null?void 0:A.full_name)||"Unknown Staff",ee=(I==null?void 0:I.email)||(A==null?void 0:A.email)||"No Email";let ne=G||(A?`pending-${A.requested_role}`:"unknown");D.push({id:M,name:q,email:ee,role:ne,salary:($==null?void 0:$.salary)||0,salary_record_id:$==null?void 0:$.id})}),D}}),u=Qr({mutationFn:async({userId:m,salary:x})=>{const{error:g}=await Ve.from("staff_salaries").upsert({user_id:m,salary:x,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(g)throw g},onSuccess:()=>{qe.success("Salary updated successfully"),r(null),e.invalidateQueries({queryKey:["staff-salaries"]})},onError:m=>{qe.error("Failed to update salary: "+m.message)}}),d=Qr({mutationFn:async m=>{i||await Ve.from("staff_salaries").delete().eq("user_id",m),await Ve.from("user_roles").delete().eq("user_id",m),await Ve.from("staff_approval_requests").delete().eq("user_id",m),await Ve.from("profiles").delete().eq("user_id",m)},onSuccess:()=>{qe.success("Staff member removed successfully"),e.invalidateQueries({queryKey:["staff-salaries"]}),e.invalidateQueries({queryKey:["admin-user-directory"]})},onError:m=>{qe.error("Failed to remove staff member: "+m.message)}}),h=m=>{r(m.id),s(m.salary.toString())},p=m=>{u.mutate({userId:m,salary:parseFloat(n)||0})},f=()=>{if(!l.length){qe.warning("No data to export");return}const m=new Et;m.setFontSize(18),m.setTextColor(0,128,0),m.text("Star Hospital - Staff Directory",14,22),m.setFontSize(11),m.setTextColor(100),m.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30);const x=["Name","Email","Role","Monthly Salary"],g=[];l.forEach(b=>{const S=[b.name,b.email,b.role.toUpperCase(),`Rs. ${b.salary.toLocaleString()}`];g.push(S)}),g2e(m,{head:[x],body:g,startY:40,theme:"grid",headStyles:{fillColor:[22,163,74]}}),m.save("star_hospital_staff_list.pdf"),qe.success("Staff list exported to PDF")},v=m=>{const x={admin:"bg-purple-100 text-purple-800 border-purple-200",doctor:"bg-blue-100 text-blue-800 border-blue-200",nurse:"bg-pink-100 text-pink-800 border-pink-200",cashier:"bg-emerald-100 text-emerald-800 border-emerald-200",receptionist:"bg-orange-100 text-orange-800 border-orange-200"},g=m.replace("pending-",""),b=x[g]||"bg-gray-100 text-gray-800 border-gray-200";return o.jsx(Wt,{variant:"outline",className:b,children:m.toUpperCase()})};return o.jsxs(An,{title:"Staff Salaries",subtitle:"Manage salaries for all staff members",children:[i&&o.jsxs(E2,{variant:"destructive",className:"mb-6 bg-yellow-50 border-yellow-200 text-yellow-800",children:[o.jsx(fw,{className:"h-4 w-4 text-yellow-600"}),o.jsx(MA,{children:"Salary Database Missing"}),o.jsxs(A2,{className:"flex items-center justify-between",children:[o.jsx("span",{children:'The "staff_salaries" table does not exist. You cannot save salaries until this table is created.'}),o.jsxs(fs,{children:[o.jsx(yl,{asChild:!0,children:o.jsxs(ke,{size:"sm",variant:"outline",className:"ml-4 h-8 bg-white border-yellow-300 hover:bg-yellow-100 text-yellow-900",children:[o.jsx(KD,{className:"w-3 h-3 mr-2"})," Fix with SQL"]})}),o.jsxs(ns,{className:"max-w-2xl",children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Create Salaries Table"}),o.jsx(Gs,{children:"Run this SQL in your Supabase Dashboard to create the necessary table."})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-slate-950 text-slate-50 p-4 rounded-md font-mono text-xs overflow-x-auto relative group",children:[o.jsx("pre",{children:`CREATE TABLE IF NOT EXISTS public.staff_salaries (
    id uuid DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id uuid REFERENCES auth.users(id) NOT NULL UNIQUE,
    salary numeric DEFAULT 0,
    created_at timestamptz DEFAULT now(),
    updated_at timestamptz DEFAULT now()
);

ALTER TABLE public.staff_salaries ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Admins can manage salaries" ON public.staff_salaries
    FOR ALL
    USING (
      EXISTS (
        SELECT 1 FROM public.user_roles 
        WHERE user_id = auth.uid() AND role = 'admin'
      )
    );`}),o.jsxs(ke,{size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>navigator.clipboard.writeText("CREATE TABLE IF NOT EXISTS public.staff_salaries..."),children:[o.jsx(vx,{className:"w-3 h-3"})," Copy"]})]})})]})]})]})]}),o.jsxs(jt,{children:[o.jsxs(Ht,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(BD,{className:"h-6 w-6 text-green-600"}),"Staff Payroll"]}),o.jsxs(Ar,{children:["Total Monthly Payroll: ",l.reduce((m,x)=>m+x.salary,0).toLocaleString()]})]}),o.jsxs(ke,{onClick:f,variant:"outline",className:"gap-2 border-green-200 text-green-700 hover:bg-green-50",children:[o.jsx(qa,{className:"h-4 w-4"})," Export PDF"]})]}),o.jsx(Tt,{children:o.jsxs(sy,{children:[o.jsx(iy,{children:o.jsxs($a,{children:[o.jsx(kn,{children:"Staff Name"}),o.jsx(kn,{children:"Role"}),o.jsx(kn,{children:"Monthly Salary"}),o.jsx(kn,{className:"w-[120px] text-right",children:"Actions"})]})}),o.jsx(ay,{children:l.length===0?o.jsx($a,{children:o.jsx(on,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No staff members found."})}):l.map(m=>o.jsxs($a,{children:[o.jsx(on,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:m.name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:m.email})]})}),o.jsx(on,{children:v(m.role)}),o.jsx(on,{className:"text-right",children:t===m.id?o.jsx(ht,{type:"number",value:n,onChange:x=>s(x.target.value),className:"w-32",placeholder:" 0"}):o.jsx("span",{className:m.salary>0?"font-medium":"text-muted-foreground italic",children:m.salary>0?`${m.salary.toLocaleString()}`:"Not Set"})}),o.jsx(on,{className:"text-right",children:t===m.id?o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>p(m.id),className:"h-8 w-8 p-0 text-green-600",children:o.jsx(FJ,{className:"h-4 w-4"})}),o.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>r(null),className:"h-8 w-8 p-0 text-destructive",children:o.jsx(Pm,{className:"h-4 w-4"})})]}):o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsxs(fs,{children:[o.jsx(yl,{asChild:!0,children:o.jsx(ke,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"Manage Credentials",children:o.jsx(MC,{className:"h-4 w-4"})})}),o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Reset Staff Password"}),o.jsxs(Gs,{children:["Set a new password for ",o.jsx("strong",{children:m.name}),".",o.jsx("br",{}),o.jsx("span",{className:"text-red-500 text-xs",children:"This will immediately invalidate their old password."})]})]}),o.jsxs("form",{onSubmit:async x=>{x.preventDefault();const b=new FormData(x.currentTarget).get("newPassword");if(!b||b.length<6){qe.error("Password must be at least 6 characters");return}try{const{error:S}=await Ve.rpc("admin_reset_password",{target_user_id:m.id,new_password:b});if(S)throw S;qe.success(`Password updated for ${m.name}`),x.target.reset()}catch(S){qe.error("Failed to reset: "+S.message)}},className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"staffNewPassword",className:"text-sm font-medium",children:"New Password"}),o.jsx(ht,{id:"staffNewPassword",name:"newPassword",type:"text",placeholder:"Enter new password",minLength:6,required:!0})]}),o.jsx(ke,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Update Password"})]})]})]}),o.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>h(m),className:"h-8 w-8 p-0",disabled:i,children:o.jsx(LJ,{className:"h-4 w-4"})}),o.jsxs(Gm,{children:[o.jsx(lq,{asChild:!0,children:o.jsx(ke,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-destructive hover:bg-destructive/10 hover:text-destructive",children:o.jsx(Am,{className:"h-4 w-4"})})}),o.jsxs(tf,{children:[o.jsxs(rf,{children:[o.jsx(sf,{children:"Remove Staff Member?"}),o.jsxs(af,{children:["This will remove ",o.jsx("strong",{children:m.name})," from the staff directory and revoke their access. This action cannot be undone."]})]}),o.jsxs(nf,{children:[o.jsx(lf,{children:"Cancel"}),o.jsx(of,{onClick:()=>d.mutate(m.id),className:"bg-destructive hover:bg-destructive/90",children:"Remove Staff"})]})]})]})]})})]},m.id))})]})})]})]})},y2e=new YX,x2e=()=>o.jsx(XX,{client:y2e,children:o.jsx(_se,{children:o.jsx(Jce,{defaultTheme:"light",storageKey:"vite-ui-theme",children:o.jsxs(TX,{children:[o.jsx(NQ,{}),o.jsx(nZ,{}),o.jsxs(Tte,{children:[o.jsxs(ote,{children:[o.jsx(jr,{path:"/",element:o.jsx(x5,{})}),o.jsx(jr,{path:"/patient/login",element:o.jsx(_ge,{})}),o.jsx(jr,{path:"/patient/register",element:o.jsx(Sge,{})}),o.jsx(jr,{path:"/patient/dashboard",element:o.jsx(Sse,{children:o.jsx(vye,{})})}),o.jsx(jr,{path:"/admin/login",element:o.jsx(_ye,{})}),o.jsx(jr,{path:"/staff/login",element:o.jsx(yye,{})}),o.jsx(jr,{path:"/staff/register",element:o.jsx(wye,{})}),o.jsx(jr,{path:"/staff/pending",element:o.jsx(bye,{})}),o.jsx(jr,{path:"/dashboard",element:o.jsx(cs,{children:o.jsx(Zpe,{})})}),o.jsx(jr,{path:"/staff/dashboard/doctor",element:o.jsx(cs,{children:o.jsx(Sye,{})})}),o.jsx(jr,{path:"/staff/dashboard/reception",element:o.jsx(cs,{children:o.jsx(jye,{})})}),o.jsx(jr,{path:"/staff/dashboard/nurse",element:o.jsx(cs,{children:o.jsx(Nye,{})})}),o.jsx(jr,{path:"/staff/dashboard/cashier",element:o.jsx(cs,{children:o.jsx(aL,{})})}),o.jsx(jr,{path:"/admin/ai-tools",element:o.jsx(cs,{requiredRole:"admin",children:o.jsx(Eye,{})})}),o.jsx(jr,{path:"/cashier/calculations",element:o.jsx(cs,{children:o.jsx(aL,{})})}),o.jsx(jr,{path:"/admin/info",element:o.jsx(cs,{requiredRole:"admin",children:o.jsx(Aye,{})})}),o.jsx(jr,{path:"/nurse/rounds",element:o.jsx(cs,{children:o.jsx(kye,{})})}),o.jsx(jr,{path:"/patients",element:o.jsx(cs,{children:o.jsx(Hme,{})})}),o.jsx(jr,{path:"/salaries",element:o.jsx(cs,{requiredRole:"admin",children:o.jsx(v2e,{})})}),o.jsx(jr,{path:"/doctors",element:o.jsx(cs,{children:o.jsx(rge,{})})}),o.jsx(jr,{path:"/appointments",element:o.jsx(cs,{children:o.jsx(age,{})})}),o.jsx(jr,{path:"/departments",element:o.jsx(cs,{children:o.jsx(cge,{})})}),o.jsx(jr,{path:"/beds",element:o.jsx(cs,{children:o.jsx(pge,{})})}),o.jsx(jr,{path:"/callbacks",element:o.jsx(cs,{children:o.jsx(vge,{})})}),o.jsx(jr,{path:"/reports",element:o.jsx(cs,{children:o.jsx(yge,{})})}),o.jsx(jr,{path:"/staff/approvals",element:o.jsx(cs,{requiredRole:"admin",children:o.jsx(iL,{})})}),o.jsx(jr,{path:"/staff-approvals",element:o.jsx(cs,{requiredRole:"admin",children:o.jsx(iL,{})})}),o.jsx(jr,{path:"/settings",element:o.jsx(cs,{children:o.jsx(wge,{})})}),o.jsx(jr,{path:"/login",element:o.jsx(x5,{})}),o.jsx(jr,{path:"/register",element:o.jsx(x5,{})}),o.jsx(jr,{path:"/social-coming-soon",element:o.jsx(bge,{})}),o.jsx(jr,{path:"*",element:o.jsx(xge,{})})]}),o.jsx(DV,{})]})]})})})});cD(document.getElementById("root")).render(o.jsx(x2e,{}));export{Yr as _,O4 as c,KM as g};
