var HH=Object.defineProperty;var O4=e=>{throw TypeError(e)};var GH=(e,t,r)=>t in e?HH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nt=(e,t,r)=>GH(e,typeof t!="symbol"?t+"":t,r),p_=(e,t,r)=>t.has(e)||O4("Cannot "+r);var he=(e,t,r)=>(p_(e,t,"read from private field"),r?r.call(e):t.get(e)),Rt=(e,t,r)=>t.has(e)?O4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),st=(e,t,r,n)=>(p_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ir=(e,t,r)=>(p_(e,t,"access private method"),r);var Zy=(e,t,r,n)=>({set _(s){st(e,t,s,r)},get _(){return he(e,t,n)}});function YH(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var L4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function KH(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var ZI={exports:{}},ub={},XI={exports:{}},or={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=Symbol.for("react.element"),JH=Symbol.for("react.portal"),QH=Symbol.for("react.fragment"),ZH=Symbol.for("react.strict_mode"),XH=Symbol.for("react.profiler"),eG=Symbol.for("react.provider"),tG=Symbol.for("react.context"),rG=Symbol.for("react.forward_ref"),nG=Symbol.for("react.suspense"),sG=Symbol.for("react.memo"),iG=Symbol.for("react.lazy"),I4=Symbol.iterator;function aG(e){return e===null||typeof e!="object"?null:(e=I4&&e[I4]||e["@@iterator"],typeof e=="function"?e:null)}var eM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tM=Object.assign,rM={};function jm(e,t,r){this.props=e,this.context=t,this.refs=rM,this.updater=r||eM}jm.prototype.isReactComponent={};jm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nM(){}nM.prototype=jm.prototype;function Tk(e,t,r){this.props=e,this.context=t,this.refs=rM,this.updater=r||eM}var Rk=Tk.prototype=new nM;Rk.constructor=Tk;tM(Rk,jm.prototype);Rk.isPureReactComponent=!0;var M4=Array.isArray,sM=Object.prototype.hasOwnProperty,Ok={current:null},iM={key:!0,ref:!0,__self:!0,__source:!0};function aM(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)sM.call(t,n)&&!iM.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:C0,type:e,key:i,ref:a,props:s,_owner:Ok.current}}function oG(e,t){return{$$typeof:C0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lk(e){return typeof e=="object"&&e!==null&&e.$$typeof===C0}function lG(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var D4=/\/+/g;function m_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lG(""+e.key):t.toString(36)}function sx(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case C0:case JH:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+m_(a,0):n,M4(s)?(r="",e!=null&&(r=e.replace(D4,"$&/")+"/"),sx(s,t,r,"",function(u){return u})):s!=null&&(Lk(s)&&(s=oG(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(D4,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",M4(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+m_(i,l);a+=sx(i,t,r,c,s)}else if(c=aG(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+m_(i,l++),a+=sx(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Xy(e,t,r){if(e==null)return e;var n=[],s=0;return sx(e,n,"","",function(i){return t.call(r,i,s++)}),n}function cG(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ei={current:null},ix={transition:null},uG={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:ix,ReactCurrentOwner:Ok};function oM(){throw Error("act(...) is not supported in production builds of React.")}or.Children={map:Xy,forEach:function(e,t,r){Xy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xy(e,function(){t++}),t},toArray:function(e){return Xy(e,function(t){return t})||[]},only:function(e){if(!Lk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};or.Component=jm;or.Fragment=QH;or.Profiler=XH;or.PureComponent=Tk;or.StrictMode=ZH;or.Suspense=nG;or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uG;or.act=oM;or.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=tM({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ok.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)sM.call(t,c)&&!iM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:C0,type:e.type,key:s,ref:i,props:n,_owner:a}};or.createContext=function(e){return e={$$typeof:tG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eG,_context:e},e.Consumer=e};or.createElement=aM;or.createFactory=function(e){var t=aM.bind(null,e);return t.type=e,t};or.createRef=function(){return{current:null}};or.forwardRef=function(e){return{$$typeof:rG,render:e}};or.isValidElement=Lk;or.lazy=function(e){return{$$typeof:iG,_payload:{_status:-1,_result:e},_init:cG}};or.memo=function(e,t){return{$$typeof:sG,type:e,compare:t===void 0?null:t}};or.startTransition=function(e){var t=ix.transition;ix.transition={};try{e()}finally{ix.transition=t}};or.unstable_act=oM;or.useCallback=function(e,t){return Ei.current.useCallback(e,t)};or.useContext=function(e){return Ei.current.useContext(e)};or.useDebugValue=function(){};or.useDeferredValue=function(e){return Ei.current.useDeferredValue(e)};or.useEffect=function(e,t){return Ei.current.useEffect(e,t)};or.useId=function(){return Ei.current.useId()};or.useImperativeHandle=function(e,t,r){return Ei.current.useImperativeHandle(e,t,r)};or.useInsertionEffect=function(e,t){return Ei.current.useInsertionEffect(e,t)};or.useLayoutEffect=function(e,t){return Ei.current.useLayoutEffect(e,t)};or.useMemo=function(e,t){return Ei.current.useMemo(e,t)};or.useReducer=function(e,t,r){return Ei.current.useReducer(e,t,r)};or.useRef=function(e){return Ei.current.useRef(e)};or.useState=function(e){return Ei.current.useState(e)};or.useSyncExternalStore=function(e,t,r){return Ei.current.useSyncExternalStore(e,t,r)};or.useTransition=function(){return Ei.current.useTransition()};or.version="18.3.1";XI.exports=or;var w=XI.exports;const Re=QI(w),Ik=YH({__proto__:null,default:Re},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dG=w,hG=Symbol.for("react.element"),fG=Symbol.for("react.fragment"),pG=Object.prototype.hasOwnProperty,mG=dG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gG={key:!0,ref:!0,__self:!0,__source:!0};function lM(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)pG.call(t,n)&&!gG.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:hG,type:e,key:i,ref:a,props:s,_owner:mG.current}}ub.Fragment=fG;ub.jsx=lM;ub.jsxs=lM;ZI.exports=ub;var o=ZI.exports,cM={exports:{}},ba={},uM={exports:{}},dM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,Z){var pe=W.length;W.push(Z);e:for(;0<pe;){var ge=pe-1>>>1,U=W[ge];if(0<s(U,Z))W[ge]=Z,W[pe]=U,pe=ge;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var Z=W[0],pe=W.pop();if(pe!==Z){W[0]=pe;e:for(var ge=0,U=W.length,_=U>>>1;ge<_;){var C=2*(ge+1)-1,E=W[C],B=C+1,F=W[B];if(0>s(E,pe))B<U&&0>s(F,E)?(W[ge]=F,W[B]=pe,ge=B):(W[ge]=E,W[C]=pe,ge=C);else if(B<U&&0>s(F,pe))W[ge]=F,W[B]=pe,ge=B;else break e}}return Z}function s(W,Z){var pe=W.sortIndex-Z.sortIndex;return pe!==0?pe:W.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,v=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=W)n(u),Z.sortIndex=Z.expirationTime,t(c,Z);else break;Z=r(u)}}function k(W){if(m=!1,S(W),!v)if(r(c)!==null)v=!0,re(T);else{var Z=r(u);Z!==null&&te(k,Z.startTime-W)}}function T(W,Z){v=!1,m&&(m=!1,g(D),D=-1),f=!0;var pe=p;try{for(S(Z),h=r(c);h!==null&&(!(h.expirationTime>Z)||W&&!A());){var ge=h.callback;if(typeof ge=="function"){h.callback=null,p=h.priorityLevel;var U=ge(h.expirationTime<=Z);Z=e.unstable_now(),typeof U=="function"?h.callback=U:h===r(c)&&n(c),S(Z)}else n(c);h=r(c)}if(h!==null)var _=!0;else{var C=r(u);C!==null&&te(k,C.startTime-Z),_=!1}return _}finally{h=null,p=pe,f=!1}}var R=!1,O=null,D=-1,I=5,G=-1;function A(){return!(e.unstable_now()-G<I)}function M(){if(O!==null){var W=e.unstable_now();G=W;var Z=!0;try{Z=O(!0,W)}finally{Z?$():(R=!1,O=null)}}else R=!1}var $;if(typeof b=="function")$=function(){b(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ee=q.port2;q.port1.onmessage=M,$=function(){ee.postMessage(null)}}else $=function(){x(M,0)};function re(W){O=W,R||(R=!0,$())}function te(W,Z){D=x(function(){W(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,re(T))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(W){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var pe=p;p=Z;try{return W()}finally{p=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=p;p=W;try{return Z()}finally{p=pe}},e.unstable_scheduleCallback=function(W,Z,pe){var ge=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ge+pe:ge):pe=ge,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=pe+U,W={id:d++,callback:Z,priorityLevel:W,startTime:pe,expirationTime:U,sortIndex:-1},pe>ge?(W.sortIndex=pe,t(u,W),r(c)===null&&W===r(u)&&(m?(g(D),D=-1):m=!0,te(k,pe-ge))):(W.sortIndex=U,t(c,W),v||f||(v=!0,re(T))),W},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(W){var Z=p;return function(){var pe=p;p=Z;try{return W.apply(this,arguments)}finally{p=pe}}}})(dM);uM.exports=dM;var vG=uM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yG=w,va=vG;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hM=new Set,Ov={};function Yh(e,t){Gp(e,t),Gp(e+"Capture",t)}function Gp(e,t){for(Ov[e]=t,e=0;e<t.length;e++)hM.add(t[e])}var _c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TS=Object.prototype.hasOwnProperty,xG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F4={},$4={};function wG(e){return TS.call($4,e)?!0:TS.call(F4,e)?!1:xG.test(e)?$4[e]=!0:(F4[e]=!0,!1)}function bG(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _G(e,t,r,n){if(t===null||typeof t>"u"||bG(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ai(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ks={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ks[e]=new Ai(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ks[t]=new Ai(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ks[e]=new Ai(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ks[e]=new Ai(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ks[e]=new Ai(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ks[e]=new Ai(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ks[e]=new Ai(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ks[e]=new Ai(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ks[e]=new Ai(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mk=/[\-:]([a-z])/g;function Dk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mk,Dk);Ks[t]=new Ai(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mk,Dk);Ks[t]=new Ai(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mk,Dk);Ks[t]=new Ai(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ks[e]=new Ai(e,1,!1,e.toLowerCase(),null,!1,!1)});Ks.xlinkHref=new Ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ks[e]=new Ai(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fk(e,t,r,n){var s=Ks.hasOwnProperty(t)?Ks[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_G(t,r,s,n)&&(r=null),n||s===null?wG(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Mc=yG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,e1=Symbol.for("react.element"),Qf=Symbol.for("react.portal"),Zf=Symbol.for("react.fragment"),$k=Symbol.for("react.strict_mode"),RS=Symbol.for("react.profiler"),fM=Symbol.for("react.provider"),pM=Symbol.for("react.context"),Bk=Symbol.for("react.forward_ref"),OS=Symbol.for("react.suspense"),LS=Symbol.for("react.suspense_list"),Uk=Symbol.for("react.memo"),fu=Symbol.for("react.lazy"),mM=Symbol.for("react.offscreen"),B4=Symbol.iterator;function Eg(e){return e===null||typeof e!="object"?null:(e=B4&&e[B4]||e["@@iterator"],typeof e=="function"?e:null)}var Ln=Object.assign,g_;function Yg(e){if(g_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);g_=t&&t[1]||""}return`
`+g_+e}var v_=!1;function y_(e,t){if(!e||v_)return"";v_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{v_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Yg(e):""}function SG(e){switch(e.tag){case 5:return Yg(e.type);case 16:return Yg("Lazy");case 13:return Yg("Suspense");case 19:return Yg("SuspenseList");case 0:case 2:case 15:return e=y_(e.type,!1),e;case 11:return e=y_(e.type.render,!1),e;case 1:return e=y_(e.type,!0),e;default:return""}}function IS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zf:return"Fragment";case Qf:return"Portal";case RS:return"Profiler";case $k:return"StrictMode";case OS:return"Suspense";case LS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pM:return(e.displayName||"Context")+".Consumer";case fM:return(e._context.displayName||"Context")+".Provider";case Bk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uk:return t=e.displayName||null,t!==null?t:IS(e.type)||"Memo";case fu:t=e._payload,e=e._init;try{return IS(e(t))}catch{}}return null}function jG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return IS(t);case 8:return t===$k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NG(e){var t=gM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function t1(e){e._valueTracker||(e._valueTracker=NG(e))}function vM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function MS(e,t){var r=t.checked;return Ln({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function U4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yM(e,t){t=t.checked,t!=null&&Fk(e,"checked",t,!1)}function DS(e,t){yM(e,t);var r=Xu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?FS(e,t.type,r):t.hasOwnProperty("defaultValue")&&FS(e,t.type,Xu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function q4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function FS(e,t,r){(t!=="number"||qx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kg=Array.isArray;function fp(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xu(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $S(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Ln({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function z4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ve(92));if(Kg(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xu(r)}}function xM(e,t){var r=Xu(t.value),n=Xu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function V4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function BS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var r1,bM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(r1=r1||document.createElement("div"),r1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=r1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kG=["Webkit","ms","Moz","O"];Object.keys(dv).forEach(function(e){kG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dv[t]=dv[e]})});function _M(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dv.hasOwnProperty(e)&&dv[e]?(""+t).trim():t+"px"}function SM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=_M(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var CG=Ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function US(e,t){if(t){if(CG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function qS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zS=null;function qk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var VS=null,pp=null,mp=null;function W4(e){if(e=P0(e)){if(typeof VS!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=mb(t),VS(e.stateNode,e.type,t))}}function jM(e){pp?mp?mp.push(e):mp=[e]:pp=e}function NM(){if(pp){var e=pp,t=mp;if(mp=pp=null,W4(e),t)for(e=0;e<t.length;e++)W4(t[e])}}function kM(e,t){return e(t)}function CM(){}var x_=!1;function EM(e,t,r){if(x_)return e(t,r);x_=!0;try{return kM(e,t,r)}finally{x_=!1,(pp!==null||mp!==null)&&(CM(),NM())}}function Iv(e,t){var r=e.stateNode;if(r===null)return null;var n=mb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ve(231,t,typeof r));return r}var WS=!1;if(_c)try{var Ag={};Object.defineProperty(Ag,"passive",{get:function(){WS=!0}}),window.addEventListener("test",Ag,Ag),window.removeEventListener("test",Ag,Ag)}catch{WS=!1}function EG(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var hv=!1,zx=null,Vx=!1,HS=null,AG={onError:function(e){hv=!0,zx=e}};function PG(e,t,r,n,s,i,a,l,c){hv=!1,zx=null,EG.apply(AG,arguments)}function TG(e,t,r,n,s,i,a,l,c){if(PG.apply(this,arguments),hv){if(hv){var u=zx;hv=!1,zx=null}else throw Error(Ve(198));Vx||(Vx=!0,HS=u)}}function Kh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function AM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function H4(e){if(Kh(e)!==e)throw Error(Ve(188))}function RG(e){var t=e.alternate;if(!t){if(t=Kh(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return H4(s),e;if(i===n)return H4(s),t;i=i.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?e:t}function PM(e){return e=RG(e),e!==null?TM(e):null}function TM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=TM(e);if(t!==null)return t;e=e.sibling}return null}var RM=va.unstable_scheduleCallback,G4=va.unstable_cancelCallback,OG=va.unstable_shouldYield,LG=va.unstable_requestPaint,Xn=va.unstable_now,IG=va.unstable_getCurrentPriorityLevel,zk=va.unstable_ImmediatePriority,OM=va.unstable_UserBlockingPriority,Wx=va.unstable_NormalPriority,MG=va.unstable_LowPriority,LM=va.unstable_IdlePriority,db=null,gl=null;function DG(e){if(gl&&typeof gl.onCommitFiberRoot=="function")try{gl.onCommitFiberRoot(db,e,void 0,(e.current.flags&128)===128)}catch{}}var Co=Math.clz32?Math.clz32:BG,FG=Math.log,$G=Math.LN2;function BG(e){return e>>>=0,e===0?32:31-(FG(e)/$G|0)|0}var n1=64,s1=4194304;function Jg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Jg(l):(i&=a,i!==0&&(n=Jg(i)))}else a=r&~s,a!==0?n=Jg(a):i!==0&&(n=Jg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Co(t),s=1<<r,n|=e[r],t&=~s;return n}function UG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Co(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=UG(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function GS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function IM(){var e=n1;return n1<<=1,!(n1&4194240)&&(n1=64),e}function w_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function E0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Co(t),e[t]=r}function zG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Co(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Vk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Co(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Jr=0;function MM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var DM,Wk,FM,$M,BM,YS=!1,i1=[],Fu=null,$u=null,Bu=null,Mv=new Map,Dv=new Map,yu=[],VG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y4(e,t){switch(e){case"focusin":case"focusout":Fu=null;break;case"dragenter":case"dragleave":$u=null;break;case"mouseover":case"mouseout":Bu=null;break;case"pointerover":case"pointerout":Mv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dv.delete(t.pointerId)}}function Pg(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=P0(t),t!==null&&Wk(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function WG(e,t,r,n,s){switch(t){case"focusin":return Fu=Pg(Fu,e,t,r,n,s),!0;case"dragenter":return $u=Pg($u,e,t,r,n,s),!0;case"mouseover":return Bu=Pg(Bu,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Mv.set(i,Pg(Mv.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Dv.set(i,Pg(Dv.get(i)||null,e,t,r,n,s)),!0}return!1}function UM(e){var t=Qd(e.target);if(t!==null){var r=Kh(t);if(r!==null){if(t=r.tag,t===13){if(t=AM(r),t!==null){e.blockedOn=t,BM(e.priority,function(){FM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ax(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=KS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zS=n,r.target.dispatchEvent(n),zS=null}else return t=P0(r),t!==null&&Wk(t),e.blockedOn=r,!1;t.shift()}return!0}function K4(e,t,r){ax(e)&&r.delete(t)}function HG(){YS=!1,Fu!==null&&ax(Fu)&&(Fu=null),$u!==null&&ax($u)&&($u=null),Bu!==null&&ax(Bu)&&(Bu=null),Mv.forEach(K4),Dv.forEach(K4)}function Tg(e,t){e.blockedOn===t&&(e.blockedOn=null,YS||(YS=!0,va.unstable_scheduleCallback(va.unstable_NormalPriority,HG)))}function Fv(e){function t(s){return Tg(s,e)}if(0<i1.length){Tg(i1[0],e);for(var r=1;r<i1.length;r++){var n=i1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fu!==null&&Tg(Fu,e),$u!==null&&Tg($u,e),Bu!==null&&Tg(Bu,e),Mv.forEach(t),Dv.forEach(t),r=0;r<yu.length;r++)n=yu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yu.length&&(r=yu[0],r.blockedOn===null);)UM(r),r.blockedOn===null&&yu.shift()}var gp=Mc.ReactCurrentBatchConfig,Gx=!0;function GG(e,t,r,n){var s=Jr,i=gp.transition;gp.transition=null;try{Jr=1,Hk(e,t,r,n)}finally{Jr=s,gp.transition=i}}function YG(e,t,r,n){var s=Jr,i=gp.transition;gp.transition=null;try{Jr=4,Hk(e,t,r,n)}finally{Jr=s,gp.transition=i}}function Hk(e,t,r,n){if(Gx){var s=KS(e,t,r,n);if(s===null)P_(e,t,n,Yx,r),Y4(e,n);else if(WG(s,e,t,r,n))n.stopPropagation();else if(Y4(e,n),t&4&&-1<VG.indexOf(e)){for(;s!==null;){var i=P0(s);if(i!==null&&DM(i),i=KS(e,t,r,n),i===null&&P_(e,t,n,Yx,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else P_(e,t,n,null,r)}}var Yx=null;function KS(e,t,r,n){if(Yx=null,e=qk(n),e=Qd(e),e!==null)if(t=Kh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=AM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yx=e,null}function qM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IG()){case zk:return 1;case OM:return 4;case Wx:case MG:return 16;case LM:return 536870912;default:return 16}default:return 16}}var Ou=null,Gk=null,ox=null;function zM(){if(ox)return ox;var e,t=Gk,r=t.length,n,s="value"in Ou?Ou.value:Ou.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ox=s.slice(e,1<n?1-n:void 0)}function lx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function a1(){return!0}function J4(){return!1}function _a(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?a1:J4,this.isPropagationStopped=J4,this}return Ln(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=a1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=a1)},persist:function(){},isPersistent:a1}),t}var Nm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yk=_a(Nm),A0=Ln({},Nm,{view:0,detail:0}),KG=_a(A0),b_,__,Rg,hb=Ln({},A0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rg&&(Rg&&e.type==="mousemove"?(b_=e.screenX-Rg.screenX,__=e.screenY-Rg.screenY):__=b_=0,Rg=e),b_)},movementY:function(e){return"movementY"in e?e.movementY:__}}),Q4=_a(hb),JG=Ln({},hb,{dataTransfer:0}),QG=_a(JG),ZG=Ln({},A0,{relatedTarget:0}),S_=_a(ZG),XG=Ln({},Nm,{animationName:0,elapsedTime:0,pseudoElement:0}),eY=_a(XG),tY=Ln({},Nm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rY=_a(tY),nY=Ln({},Nm,{data:0}),Z4=_a(nY),sY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aY[e])?!!t[e]:!1}function Kk(){return oY}var lY=Ln({},A0,{key:function(e){if(e.key){var t=sY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kk,charCode:function(e){return e.type==="keypress"?lx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cY=_a(lY),uY=Ln({},hb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X4=_a(uY),dY=Ln({},A0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kk}),hY=_a(dY),fY=Ln({},Nm,{propertyName:0,elapsedTime:0,pseudoElement:0}),pY=_a(fY),mY=Ln({},hb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gY=_a(mY),vY=[9,13,27,32],Jk=_c&&"CompositionEvent"in window,fv=null;_c&&"documentMode"in document&&(fv=document.documentMode);var yY=_c&&"TextEvent"in window&&!fv,VM=_c&&(!Jk||fv&&8<fv&&11>=fv),eP=" ",tP=!1;function WM(e,t){switch(e){case"keyup":return vY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xf=!1;function xY(e,t){switch(e){case"compositionend":return HM(t);case"keypress":return t.which!==32?null:(tP=!0,eP);case"textInput":return e=t.data,e===eP&&tP?null:e;default:return null}}function wY(e,t){if(Xf)return e==="compositionend"||!Jk&&WM(e,t)?(e=zM(),ox=Gk=Ou=null,Xf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VM&&t.locale!=="ko"?null:t.data;default:return null}}var bY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bY[e.type]:t==="textarea"}function GM(e,t,r,n){jM(n),t=Kx(t,"onChange"),0<t.length&&(r=new Yk("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pv=null,$v=null;function _Y(e){s6(e,0)}function fb(e){var t=rp(e);if(vM(t))return e}function SY(e,t){if(e==="change")return t}var YM=!1;if(_c){var j_;if(_c){var N_="oninput"in document;if(!N_){var nP=document.createElement("div");nP.setAttribute("oninput","return;"),N_=typeof nP.oninput=="function"}j_=N_}else j_=!1;YM=j_&&(!document.documentMode||9<document.documentMode)}function sP(){pv&&(pv.detachEvent("onpropertychange",KM),$v=pv=null)}function KM(e){if(e.propertyName==="value"&&fb($v)){var t=[];GM(t,$v,e,qk(e)),EM(_Y,t)}}function jY(e,t,r){e==="focusin"?(sP(),pv=t,$v=r,pv.attachEvent("onpropertychange",KM)):e==="focusout"&&sP()}function NY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fb($v)}function kY(e,t){if(e==="click")return fb(t)}function CY(e,t){if(e==="input"||e==="change")return fb(t)}function EY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ro=typeof Object.is=="function"?Object.is:EY;function Bv(e,t){if(Ro(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!TS.call(t,s)||!Ro(e[s],t[s]))return!1}return!0}function iP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aP(e,t){var r=iP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iP(r)}}function JM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?JM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function QM(){for(var e=window,t=qx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qx(e.document)}return t}function Qk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AY(e){var t=QM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&JM(r.ownerDocument.documentElement,r)){if(n!==null&&Qk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=aP(r,i);var a=aP(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PY=_c&&"documentMode"in document&&11>=document.documentMode,ep=null,JS=null,mv=null,QS=!1;function oP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;QS||ep==null||ep!==qx(n)||(n=ep,"selectionStart"in n&&Qk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mv&&Bv(mv,n)||(mv=n,n=Kx(JS,"onSelect"),0<n.length&&(t=new Yk("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ep)))}function o1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var tp={animationend:o1("Animation","AnimationEnd"),animationiteration:o1("Animation","AnimationIteration"),animationstart:o1("Animation","AnimationStart"),transitionend:o1("Transition","TransitionEnd")},k_={},ZM={};_c&&(ZM=document.createElement("div").style,"AnimationEvent"in window||(delete tp.animationend.animation,delete tp.animationiteration.animation,delete tp.animationstart.animation),"TransitionEvent"in window||delete tp.transitionend.transition);function pb(e){if(k_[e])return k_[e];if(!tp[e])return e;var t=tp[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ZM)return k_[e]=t[r];return e}var XM=pb("animationend"),e6=pb("animationiteration"),t6=pb("animationstart"),r6=pb("transitionend"),n6=new Map,lP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ud(e,t){n6.set(e,t),Yh(t,[e])}for(var C_=0;C_<lP.length;C_++){var E_=lP[C_],TY=E_.toLowerCase(),RY=E_[0].toUpperCase()+E_.slice(1);ud(TY,"on"+RY)}ud(XM,"onAnimationEnd");ud(e6,"onAnimationIteration");ud(t6,"onAnimationStart");ud("dblclick","onDoubleClick");ud("focusin","onFocus");ud("focusout","onBlur");ud(r6,"onTransitionEnd");Gp("onMouseEnter",["mouseout","mouseover"]);Gp("onMouseLeave",["mouseout","mouseover"]);Gp("onPointerEnter",["pointerout","pointerover"]);Gp("onPointerLeave",["pointerout","pointerover"]);Yh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qg));function cP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TG(n,t,void 0,e),e.currentTarget=null}function s6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;cP(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;cP(s,l,u),i=c}}}if(Vx)throw e=HS,Vx=!1,HS=null,e}function wn(e,t){var r=t[rj];r===void 0&&(r=t[rj]=new Set);var n=e+"__bubble";r.has(n)||(i6(t,e,2,!1),r.add(n))}function A_(e,t,r){var n=0;t&&(n|=4),i6(r,e,n,t)}var l1="_reactListening"+Math.random().toString(36).slice(2);function Uv(e){if(!e[l1]){e[l1]=!0,hM.forEach(function(r){r!=="selectionchange"&&(OY.has(r)||A_(r,!1,e),A_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[l1]||(t[l1]=!0,A_("selectionchange",!1,t))}}function i6(e,t,r,n){switch(qM(t)){case 1:var s=GG;break;case 4:s=YG;break;default:s=Hk}r=s.bind(null,t,r,e),s=void 0,!WS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function P_(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Qd(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}EM(function(){var u=i,d=qk(r),h=[];e:{var p=n6.get(e);if(p!==void 0){var f=Yk,v=e;switch(e){case"keypress":if(lx(r)===0)break e;case"keydown":case"keyup":f=cY;break;case"focusin":v="focus",f=S_;break;case"focusout":v="blur",f=S_;break;case"beforeblur":case"afterblur":f=S_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Q4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=QG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=hY;break;case XM:case e6:case t6:f=eY;break;case r6:f=pY;break;case"scroll":f=KG;break;case"wheel":f=gY;break;case"copy":case"cut":case"paste":f=rY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=X4}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?p!==null?p+"Capture":null:p;m=[];for(var b=u,S;b!==null;){S=b;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,g!==null&&(k=Iv(b,g),k!=null&&m.push(qv(b,k,S)))),x)break;b=b.return}0<m.length&&(p=new f(p,v,null,r,d),h.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==zS&&(v=r.relatedTarget||r.fromElement)&&(Qd(v)||v[Sc]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=u,v=v?Qd(v):null,v!==null&&(x=Kh(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(m=Q4,k="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=X4,k="onPointerLeave",g="onPointerEnter",b="pointer"),x=f==null?p:rp(f),S=v==null?p:rp(v),p=new m(k,b+"leave",f,r,d),p.target=x,p.relatedTarget=S,k=null,Qd(d)===u&&(m=new m(g,b+"enter",v,r,d),m.target=S,m.relatedTarget=x,k=m),x=k,f&&v)t:{for(m=f,g=v,b=0,S=m;S;S=Cf(S))b++;for(S=0,k=g;k;k=Cf(k))S++;for(;0<b-S;)m=Cf(m),b--;for(;0<S-b;)g=Cf(g),S--;for(;b--;){if(m===g||g!==null&&m===g.alternate)break t;m=Cf(m),g=Cf(g)}m=null}else m=null;f!==null&&uP(h,p,f,m,!1),v!==null&&x!==null&&uP(h,x,v,m,!0)}}e:{if(p=u?rp(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var T=SY;else if(rP(p))if(YM)T=CY;else{T=NY;var R=jY}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=kY);if(T&&(T=T(e,u))){GM(h,T,r,d);break e}R&&R(e,p,u),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&FS(p,"number",p.value)}switch(R=u?rp(u):window,e){case"focusin":(rP(R)||R.contentEditable==="true")&&(ep=R,JS=u,mv=null);break;case"focusout":mv=JS=ep=null;break;case"mousedown":QS=!0;break;case"contextmenu":case"mouseup":case"dragend":QS=!1,oP(h,r,d);break;case"selectionchange":if(PY)break;case"keydown":case"keyup":oP(h,r,d)}var O;if(Jk)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Xf?WM(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(VM&&r.locale!=="ko"&&(Xf||D!=="onCompositionStart"?D==="onCompositionEnd"&&Xf&&(O=zM()):(Ou=d,Gk="value"in Ou?Ou.value:Ou.textContent,Xf=!0)),R=Kx(u,D),0<R.length&&(D=new Z4(D,e,null,r,d),h.push({event:D,listeners:R}),O?D.data=O:(O=HM(r),O!==null&&(D.data=O)))),(O=yY?xY(e,r):wY(e,r))&&(u=Kx(u,"onBeforeInput"),0<u.length&&(d=new Z4("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=O))}s6(h,t)})}function qv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kx(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Iv(e,r),i!=null&&n.unshift(qv(e,i,s)),i=Iv(e,t),i!=null&&n.push(qv(e,i,s))),e=e.return}return n}function Cf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uP(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Iv(r,i),c!=null&&a.unshift(qv(r,c,l))):s||(c=Iv(r,i),c!=null&&a.push(qv(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var LY=/\r\n?/g,IY=/\u0000|\uFFFD/g;function dP(e){return(typeof e=="string"?e:""+e).replace(LY,`
`).replace(IY,"")}function c1(e,t,r){if(t=dP(t),dP(e)!==t&&r)throw Error(Ve(425))}function Jx(){}var ZS=null,XS=null;function ej(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tj=typeof setTimeout=="function"?setTimeout:void 0,MY=typeof clearTimeout=="function"?clearTimeout:void 0,hP=typeof Promise=="function"?Promise:void 0,DY=typeof queueMicrotask=="function"?queueMicrotask:typeof hP<"u"?function(e){return hP.resolve(null).then(e).catch(FY)}:tj;function FY(e){setTimeout(function(){throw e})}function T_(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Fv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Fv(t)}function Uu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var km=Math.random().toString(36).slice(2),cl="__reactFiber$"+km,zv="__reactProps$"+km,Sc="__reactContainer$"+km,rj="__reactEvents$"+km,$Y="__reactListeners$"+km,BY="__reactHandles$"+km;function Qd(e){var t=e[cl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sc]||r[cl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fP(e);e!==null;){if(r=e[cl])return r;e=fP(e)}return t}e=r,r=e.parentNode}return null}function P0(e){return e=e[cl]||e[Sc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function mb(e){return e[zv]||null}var nj=[],np=-1;function dd(e){return{current:e}}function _n(e){0>np||(e.current=nj[np],nj[np]=null,np--)}function fn(e,t){np++,nj[np]=e.current,e.current=t}var ed={},ci=dd(ed),Ui=dd(!1),jh=ed;function Yp(e,t){var r=e.type.contextTypes;if(!r)return ed;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qi(e){return e=e.childContextTypes,e!=null}function Qx(){_n(Ui),_n(ci)}function pP(e,t,r){if(ci.current!==ed)throw Error(Ve(168));fn(ci,t),fn(Ui,r)}function a6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Ve(108,jG(e)||"Unknown",s));return Ln({},r,n)}function Zx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ed,jh=ci.current,fn(ci,e),fn(Ui,Ui.current),!0}function mP(e,t,r){var n=e.stateNode;if(!n)throw Error(Ve(169));r?(e=a6(e,t,jh),n.__reactInternalMemoizedMergedChildContext=e,_n(Ui),_n(ci),fn(ci,e)):_n(Ui),fn(Ui,r)}var ic=null,gb=!1,R_=!1;function o6(e){ic===null?ic=[e]:ic.push(e)}function UY(e){gb=!0,o6(e)}function hd(){if(!R_&&ic!==null){R_=!0;var e=0,t=Jr;try{var r=ic;for(Jr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ic=null,gb=!1}catch(s){throw ic!==null&&(ic=ic.slice(e+1)),RM(zk,hd),s}finally{Jr=t,R_=!1}}return null}var sp=[],ip=0,Xx=null,ew=0,Ma=[],Da=0,Nh=null,dc=1,hc="";function qd(e,t){sp[ip++]=ew,sp[ip++]=Xx,Xx=e,ew=t}function l6(e,t,r){Ma[Da++]=dc,Ma[Da++]=hc,Ma[Da++]=Nh,Nh=e;var n=dc;e=hc;var s=32-Co(n)-1;n&=~(1<<s),r+=1;var i=32-Co(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,dc=1<<32-Co(t)+s|r<<s|n,hc=i+e}else dc=1<<i|r<<s|n,hc=e}function Zk(e){e.return!==null&&(qd(e,1),l6(e,1,0))}function Xk(e){for(;e===Xx;)Xx=sp[--ip],sp[ip]=null,ew=sp[--ip],sp[ip]=null;for(;e===Nh;)Nh=Ma[--Da],Ma[Da]=null,hc=Ma[--Da],Ma[Da]=null,dc=Ma[--Da],Ma[Da]=null}var ma=null,da=null,kn=!1,So=null;function c6(e,t){var r=$a(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ma=e,da=Uu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ma=e,da=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nh!==null?{id:dc,overflow:hc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$a(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ma=e,da=null,!0):!1;default:return!1}}function sj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ij(e){if(kn){var t=da;if(t){var r=t;if(!gP(e,t)){if(sj(e))throw Error(Ve(418));t=Uu(r.nextSibling);var n=ma;t&&gP(e,t)?c6(n,r):(e.flags=e.flags&-4097|2,kn=!1,ma=e)}}else{if(sj(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,kn=!1,ma=e}}}function vP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ma=e}function u1(e){if(e!==ma)return!1;if(!kn)return vP(e),kn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ej(e.type,e.memoizedProps)),t&&(t=da)){if(sj(e))throw u6(),Error(Ve(418));for(;t;)c6(e,t),t=Uu(t.nextSibling)}if(vP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){da=Uu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}da=null}}else da=ma?Uu(e.stateNode.nextSibling):null;return!0}function u6(){for(var e=da;e;)e=Uu(e.nextSibling)}function Kp(){da=ma=null,kn=!1}function eC(e){So===null?So=[e]:So.push(e)}var qY=Mc.ReactCurrentBatchConfig;function Og(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,e))}return e}function d1(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yP(e){var t=e._init;return t(e._payload)}function d6(e){function t(g,b){if(e){var S=g.deletions;S===null?(g.deletions=[b],g.flags|=16):S.push(b)}}function r(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function n(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function s(g,b){return g=Wu(g,b),g.index=0,g.sibling=null,g}function i(g,b,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<b?(g.flags|=2,b):S):(g.flags|=2,b)):(g.flags|=1048576,b)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,b,S,k){return b===null||b.tag!==6?(b=$_(S,g.mode,k),b.return=g,b):(b=s(b,S),b.return=g,b)}function c(g,b,S,k){var T=S.type;return T===Zf?d(g,b,S.props.children,k,S.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===fu&&yP(T)===b.type)?(k=s(b,S.props),k.ref=Og(g,b,S),k.return=g,k):(k=mx(S.type,S.key,S.props,null,g.mode,k),k.ref=Og(g,b,S),k.return=g,k)}function u(g,b,S,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=B_(S,g.mode,k),b.return=g,b):(b=s(b,S.children||[]),b.return=g,b)}function d(g,b,S,k,T){return b===null||b.tag!==7?(b=gh(S,g.mode,k,T),b.return=g,b):(b=s(b,S),b.return=g,b)}function h(g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=$_(""+b,g.mode,S),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case e1:return S=mx(b.type,b.key,b.props,null,g.mode,S),S.ref=Og(g,null,b),S.return=g,S;case Qf:return b=B_(b,g.mode,S),b.return=g,b;case fu:var k=b._init;return h(g,k(b._payload),S)}if(Kg(b)||Eg(b))return b=gh(b,g.mode,S,null),b.return=g,b;d1(g,b)}return null}function p(g,b,S,k){var T=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:l(g,b,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case e1:return S.key===T?c(g,b,S,k):null;case Qf:return S.key===T?u(g,b,S,k):null;case fu:return T=S._init,p(g,b,T(S._payload),k)}if(Kg(S)||Eg(S))return T!==null?null:d(g,b,S,k,null);d1(g,S)}return null}function f(g,b,S,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(S)||null,l(b,g,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case e1:return g=g.get(k.key===null?S:k.key)||null,c(b,g,k,T);case Qf:return g=g.get(k.key===null?S:k.key)||null,u(b,g,k,T);case fu:var R=k._init;return f(g,b,S,R(k._payload),T)}if(Kg(k)||Eg(k))return g=g.get(S)||null,d(b,g,k,T,null);d1(b,k)}return null}function v(g,b,S,k){for(var T=null,R=null,O=b,D=b=0,I=null;O!==null&&D<S.length;D++){O.index>D?(I=O,O=null):I=O.sibling;var G=p(g,O,S[D],k);if(G===null){O===null&&(O=I);break}e&&O&&G.alternate===null&&t(g,O),b=i(G,b,D),R===null?T=G:R.sibling=G,R=G,O=I}if(D===S.length)return r(g,O),kn&&qd(g,D),T;if(O===null){for(;D<S.length;D++)O=h(g,S[D],k),O!==null&&(b=i(O,b,D),R===null?T=O:R.sibling=O,R=O);return kn&&qd(g,D),T}for(O=n(g,O);D<S.length;D++)I=f(O,g,D,S[D],k),I!==null&&(e&&I.alternate!==null&&O.delete(I.key===null?D:I.key),b=i(I,b,D),R===null?T=I:R.sibling=I,R=I);return e&&O.forEach(function(A){return t(g,A)}),kn&&qd(g,D),T}function m(g,b,S,k){var T=Eg(S);if(typeof T!="function")throw Error(Ve(150));if(S=T.call(S),S==null)throw Error(Ve(151));for(var R=T=null,O=b,D=b=0,I=null,G=S.next();O!==null&&!G.done;D++,G=S.next()){O.index>D?(I=O,O=null):I=O.sibling;var A=p(g,O,G.value,k);if(A===null){O===null&&(O=I);break}e&&O&&A.alternate===null&&t(g,O),b=i(A,b,D),R===null?T=A:R.sibling=A,R=A,O=I}if(G.done)return r(g,O),kn&&qd(g,D),T;if(O===null){for(;!G.done;D++,G=S.next())G=h(g,G.value,k),G!==null&&(b=i(G,b,D),R===null?T=G:R.sibling=G,R=G);return kn&&qd(g,D),T}for(O=n(g,O);!G.done;D++,G=S.next())G=f(O,g,D,G.value,k),G!==null&&(e&&G.alternate!==null&&O.delete(G.key===null?D:G.key),b=i(G,b,D),R===null?T=G:R.sibling=G,R=G);return e&&O.forEach(function(M){return t(g,M)}),kn&&qd(g,D),T}function x(g,b,S,k){if(typeof S=="object"&&S!==null&&S.type===Zf&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case e1:e:{for(var T=S.key,R=b;R!==null;){if(R.key===T){if(T=S.type,T===Zf){if(R.tag===7){r(g,R.sibling),b=s(R,S.props.children),b.return=g,g=b;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===fu&&yP(T)===R.type){r(g,R.sibling),b=s(R,S.props),b.ref=Og(g,R,S),b.return=g,g=b;break e}r(g,R);break}else t(g,R);R=R.sibling}S.type===Zf?(b=gh(S.props.children,g.mode,k,S.key),b.return=g,g=b):(k=mx(S.type,S.key,S.props,null,g.mode,k),k.ref=Og(g,b,S),k.return=g,g=k)}return a(g);case Qf:e:{for(R=S.key;b!==null;){if(b.key===R)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(g,b.sibling),b=s(b,S.children||[]),b.return=g,g=b;break e}else{r(g,b);break}else t(g,b);b=b.sibling}b=B_(S,g.mode,k),b.return=g,g=b}return a(g);case fu:return R=S._init,x(g,b,R(S._payload),k)}if(Kg(S))return v(g,b,S,k);if(Eg(S))return m(g,b,S,k);d1(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(g,b.sibling),b=s(b,S),b.return=g,g=b):(r(g,b),b=$_(S,g.mode,k),b.return=g,g=b),a(g)):r(g,b)}return x}var Jp=d6(!0),h6=d6(!1),tw=dd(null),rw=null,ap=null,tC=null;function rC(){tC=ap=rw=null}function nC(e){var t=tw.current;_n(tw),e._currentValue=t}function aj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vp(e,t){rw=e,tC=ap=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fi=!0),e.firstContext=null)}function Ya(e){var t=e._currentValue;if(tC!==e)if(e={context:e,memoizedValue:t,next:null},ap===null){if(rw===null)throw Error(Ve(308));ap=e,rw.dependencies={lanes:0,firstContext:e}}else ap=ap.next=e;return t}var Zd=null;function sC(e){Zd===null?Zd=[e]:Zd.push(e)}function f6(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,sC(t)):(r.next=s.next,s.next=r),t.interleaved=r,jc(e,n)}function jc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pu=!1;function iC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Er&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,jc(e,r)}return s=n.interleaved,s===null?(t.next=t,sC(n)):(t.next=s.next,s.next=t),n.interleaved=t,jc(e,r)}function cx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vk(e,r)}}function xP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function nw(e,t,r,n){var s=e.updateQueue;pu=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(p=t,f=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){h=v.call(f,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,p=typeof v=="function"?v.call(f,h,p):v,p==null)break e;h=Ln({},h,p);break e;case 2:pu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ch|=a,e.lanes=a,e.memoizedState=h}}function wP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ve(191,s));s.call(n)}}}var T0={},vl=dd(T0),Vv=dd(T0),Wv=dd(T0);function Xd(e){if(e===T0)throw Error(Ve(174));return e}function aC(e,t){switch(fn(Wv,t),fn(Vv,e),fn(vl,T0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:BS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=BS(t,e)}_n(vl),fn(vl,t)}function Qp(){_n(vl),_n(Vv),_n(Wv)}function m6(e){Xd(Wv.current);var t=Xd(vl.current),r=BS(t,e.type);t!==r&&(fn(Vv,e),fn(vl,r))}function oC(e){Vv.current===e&&(_n(vl),_n(Vv))}var Tn=dd(0);function sw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var O_=[];function lC(){for(var e=0;e<O_.length;e++)O_[e]._workInProgressVersionPrimary=null;O_.length=0}var ux=Mc.ReactCurrentDispatcher,L_=Mc.ReactCurrentBatchConfig,kh=0,On=null,Ss=null,Ps=null,iw=!1,gv=!1,Hv=0,zY=0;function Zs(){throw Error(Ve(321))}function cC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ro(e[r],t[r]))return!1;return!0}function uC(e,t,r,n,s,i){if(kh=i,On=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ux.current=e===null||e.memoizedState===null?GY:YY,e=r(n,s),gv){i=0;do{if(gv=!1,Hv=0,25<=i)throw Error(Ve(301));i+=1,Ps=Ss=null,t.updateQueue=null,ux.current=KY,e=r(n,s)}while(gv)}if(ux.current=aw,t=Ss!==null&&Ss.next!==null,kh=0,Ps=Ss=On=null,iw=!1,t)throw Error(Ve(300));return e}function dC(){var e=Hv!==0;return Hv=0,e}function rl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ps===null?On.memoizedState=Ps=e:Ps=Ps.next=e,Ps}function Ka(){if(Ss===null){var e=On.alternate;e=e!==null?e.memoizedState:null}else e=Ss.next;var t=Ps===null?On.memoizedState:Ps.next;if(t!==null)Ps=t,Ss=e;else{if(e===null)throw Error(Ve(310));Ss=e,e={memoizedState:Ss.memoizedState,baseState:Ss.baseState,baseQueue:Ss.baseQueue,queue:Ss.queue,next:null},Ps===null?On.memoizedState=Ps=e:Ps=Ps.next=e}return Ps}function Gv(e,t){return typeof t=="function"?t(e):t}function I_(e){var t=Ka(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=Ss,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((kh&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,On.lanes|=d,Ch|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,Ro(n,t.memoizedState)||(Fi=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,On.lanes|=i,Ch|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function M_(e){var t=Ka(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Ro(i,t.memoizedState)||(Fi=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function g6(){}function v6(e,t){var r=On,n=Ka(),s=t(),i=!Ro(n.memoizedState,s);if(i&&(n.memoizedState=s,Fi=!0),n=n.queue,hC(w6.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ps!==null&&Ps.memoizedState.tag&1){if(r.flags|=2048,Yv(9,x6.bind(null,r,n,s,t),void 0,null),Os===null)throw Error(Ve(349));kh&30||y6(r,t,s)}return s}function y6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=On.updateQueue,t===null?(t={lastEffect:null,stores:null},On.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function x6(e,t,r,n){t.value=r,t.getSnapshot=n,b6(t)&&_6(e)}function w6(e,t,r){return r(function(){b6(t)&&_6(e)})}function b6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ro(e,r)}catch{return!0}}function _6(e){var t=jc(e,1);t!==null&&Eo(t,e,1,-1)}function bP(e){var t=rl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gv,lastRenderedState:e},t.queue=e,e=e.dispatch=HY.bind(null,On,e),[t.memoizedState,e]}function Yv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=On.updateQueue,t===null?(t={lastEffect:null,stores:null},On.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function S6(){return Ka().memoizedState}function dx(e,t,r,n){var s=rl();On.flags|=e,s.memoizedState=Yv(1|t,r,void 0,n===void 0?null:n)}function vb(e,t,r,n){var s=Ka();n=n===void 0?null:n;var i=void 0;if(Ss!==null){var a=Ss.memoizedState;if(i=a.destroy,n!==null&&cC(n,a.deps)){s.memoizedState=Yv(t,r,i,n);return}}On.flags|=e,s.memoizedState=Yv(1|t,r,i,n)}function _P(e,t){return dx(8390656,8,e,t)}function hC(e,t){return vb(2048,8,e,t)}function j6(e,t){return vb(4,2,e,t)}function N6(e,t){return vb(4,4,e,t)}function k6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function C6(e,t,r){return r=r!=null?r.concat([e]):null,vb(4,4,k6.bind(null,t,e),r)}function fC(){}function E6(e,t){var r=Ka();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function A6(e,t){var r=Ka();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function P6(e,t,r){return kh&21?(Ro(r,t)||(r=IM(),On.lanes|=r,Ch|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fi=!0),e.memoizedState=r)}function VY(e,t){var r=Jr;Jr=r!==0&&4>r?r:4,e(!0);var n=L_.transition;L_.transition={};try{e(!1),t()}finally{Jr=r,L_.transition=n}}function T6(){return Ka().memoizedState}function WY(e,t,r){var n=Vu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},R6(e))O6(t,r);else if(r=f6(e,t,r,n),r!==null){var s=Ci();Eo(r,e,n,s),L6(r,t,n)}}function HY(e,t,r){var n=Vu(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(R6(e))O6(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Ro(l,a)){var c=t.interleaved;c===null?(s.next=s,sC(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=f6(e,t,s,n),r!==null&&(s=Ci(),Eo(r,e,n,s),L6(r,t,n))}}function R6(e){var t=e.alternate;return e===On||t!==null&&t===On}function O6(e,t){gv=iw=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function L6(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vk(e,r)}}var aw={readContext:Ya,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useInsertionEffect:Zs,useLayoutEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useMutableSource:Zs,useSyncExternalStore:Zs,useId:Zs,unstable_isNewReconciler:!1},GY={readContext:Ya,useCallback:function(e,t){return rl().memoizedState=[e,t===void 0?null:t],e},useContext:Ya,useEffect:_P,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,dx(4194308,4,k6.bind(null,t,e),r)},useLayoutEffect:function(e,t){return dx(4194308,4,e,t)},useInsertionEffect:function(e,t){return dx(4,2,e,t)},useMemo:function(e,t){var r=rl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=WY.bind(null,On,e),[n.memoizedState,e]},useRef:function(e){var t=rl();return e={current:e},t.memoizedState=e},useState:bP,useDebugValue:fC,useDeferredValue:function(e){return rl().memoizedState=e},useTransition:function(){var e=bP(!1),t=e[0];return e=VY.bind(null,e[1]),rl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=On,s=rl();if(kn){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=t(),Os===null)throw Error(Ve(349));kh&30||y6(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,_P(w6.bind(null,n,i,e),[e]),n.flags|=2048,Yv(9,x6.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=rl(),t=Os.identifierPrefix;if(kn){var r=hc,n=dc;r=(n&~(1<<32-Co(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YY={readContext:Ya,useCallback:E6,useContext:Ya,useEffect:hC,useImperativeHandle:C6,useInsertionEffect:j6,useLayoutEffect:N6,useMemo:A6,useReducer:I_,useRef:S6,useState:function(){return I_(Gv)},useDebugValue:fC,useDeferredValue:function(e){var t=Ka();return P6(t,Ss.memoizedState,e)},useTransition:function(){var e=I_(Gv)[0],t=Ka().memoizedState;return[e,t]},useMutableSource:g6,useSyncExternalStore:v6,useId:T6,unstable_isNewReconciler:!1},KY={readContext:Ya,useCallback:E6,useContext:Ya,useEffect:hC,useImperativeHandle:C6,useInsertionEffect:j6,useLayoutEffect:N6,useMemo:A6,useReducer:M_,useRef:S6,useState:function(){return M_(Gv)},useDebugValue:fC,useDeferredValue:function(e){var t=Ka();return Ss===null?t.memoizedState=e:P6(t,Ss.memoizedState,e)},useTransition:function(){var e=M_(Gv)[0],t=Ka().memoizedState;return[e,t]},useMutableSource:g6,useSyncExternalStore:v6,useId:T6,unstable_isNewReconciler:!1};function vo(e,t){if(e&&e.defaultProps){t=Ln({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function oj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ln({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yb={isMounted:function(e){return(e=e._reactInternals)?Kh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ci(),s=Vu(e),i=vc(n,s);i.payload=t,r!=null&&(i.callback=r),t=qu(e,i,s),t!==null&&(Eo(t,e,s,n),cx(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ci(),s=Vu(e),i=vc(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=qu(e,i,s),t!==null&&(Eo(t,e,s,n),cx(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ci(),n=Vu(e),s=vc(r,n);s.tag=2,t!=null&&(s.callback=t),t=qu(e,s,n),t!==null&&(Eo(t,e,n,r),cx(t,e,n))}};function SP(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Bv(r,n)||!Bv(s,i):!0}function I6(e,t,r){var n=!1,s=ed,i=t.contextType;return typeof i=="object"&&i!==null?i=Ya(i):(s=qi(t)?jh:ci.current,n=t.contextTypes,i=(n=n!=null)?Yp(e,s):ed),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function jP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yb.enqueueReplaceState(t,t.state,null)}function lj(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},iC(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ya(i):(i=qi(t)?jh:ci.current,s.context=Yp(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(oj(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yb.enqueueReplaceState(s,s.state,null),nw(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zp(e,t){try{var r="",n=t;do r+=SG(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function D_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var JY=typeof WeakMap=="function"?WeakMap:Map;function M6(e,t,r){r=vc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){lw||(lw=!0,xj=n),cj(e,t)},r}function D6(e,t,r){r=vc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){cj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cj(e,t),typeof n!="function"&&(zu===null?zu=new Set([this]):zu.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function NP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new JY;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=uK.bind(null,e,t,r),t.then(e,e))}function kP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function CP(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vc(-1,1),t.tag=2,qu(r,t,1))),r.lanes|=1),e)}var QY=Mc.ReactCurrentOwner,Fi=!1;function xi(e,t,r,n){t.child=e===null?h6(t,null,r,n):Jp(t,e.child,r,n)}function EP(e,t,r,n,s){r=r.render;var i=t.ref;return vp(t,s),n=uC(e,t,r,n,i,s),r=dC(),e!==null&&!Fi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nc(e,t,s)):(kn&&r&&Zk(t),t.flags|=1,xi(e,t,n,s),t.child)}function AP(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!bC(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,F6(e,t,i,n,s)):(e=mx(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Bv,r(a,n)&&e.ref===t.ref)return Nc(e,t,s)}return t.flags|=1,e=Wu(i,n),e.ref=t.ref,e.return=t,t.child=e}function F6(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Bv(i,n)&&e.ref===t.ref)if(Fi=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Fi=!0);else return t.lanes=e.lanes,Nc(e,t,s)}return uj(e,t,r,n,s)}function $6(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fn(lp,aa),aa|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fn(lp,aa),aa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,fn(lp,aa),aa|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,fn(lp,aa),aa|=n;return xi(e,t,s,r),t.child}function B6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uj(e,t,r,n,s){var i=qi(r)?jh:ci.current;return i=Yp(t,i),vp(t,s),r=uC(e,t,r,n,i,s),n=dC(),e!==null&&!Fi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nc(e,t,s)):(kn&&n&&Zk(t),t.flags|=1,xi(e,t,r,s),t.child)}function PP(e,t,r,n,s){if(qi(r)){var i=!0;Zx(t)}else i=!1;if(vp(t,s),t.stateNode===null)hx(e,t),I6(t,r,n),lj(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ya(u):(u=qi(r)?jh:ci.current,u=Yp(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&jP(t,a,n,u),pu=!1;var p=t.memoizedState;a.state=p,nw(t,n,a,s),c=t.memoizedState,l!==n||p!==c||Ui.current||pu?(typeof d=="function"&&(oj(t,r,d,n),c=t.memoizedState),(l=pu||SP(t,r,l,n,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,p6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:vo(t.type,l),a.props=u,h=t.pendingProps,p=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ya(c):(c=qi(r)?jh:ci.current,c=Yp(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==c)&&jP(t,a,n,c),pu=!1,p=t.memoizedState,a.state=p,nw(t,n,a,s);var v=t.memoizedState;l!==h||p!==v||Ui.current||pu?(typeof f=="function"&&(oj(t,r,f,n),v=t.memoizedState),(u=pu||SP(t,r,u,n,p,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return dj(e,t,r,n,i,s)}function dj(e,t,r,n,s,i){B6(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&mP(t,r,!1),Nc(e,t,i);n=t.stateNode,QY.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Jp(t,e.child,null,i),t.child=Jp(t,null,l,i)):xi(e,t,l,i),t.memoizedState=n.state,s&&mP(t,r,!0),t.child}function U6(e){var t=e.stateNode;t.pendingContext?pP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pP(e,t.context,!1),aC(e,t.containerInfo)}function TP(e,t,r,n,s){return Kp(),eC(s),t.flags|=256,xi(e,t,r,n),t.child}var hj={dehydrated:null,treeContext:null,retryLane:0};function fj(e){return{baseLanes:e,cachePool:null,transitions:null}}function q6(e,t,r){var n=t.pendingProps,s=Tn.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),fn(Tn,s&1),e===null)return ij(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=bb(a,n,0,null),e=gh(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fj(r),t.memoizedState=hj,e):pC(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ZY(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Wu(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Wu(l,i):(i=gh(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?fj(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=hj,n}return i=e.child,e=i.sibling,n=Wu(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pC(e,t){return t=bb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function h1(e,t,r,n){return n!==null&&eC(n),Jp(t,e.child,null,r),e=pC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZY(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=D_(Error(Ve(422))),h1(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=bb({mode:"visible",children:n.children},s,0,null),i=gh(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Jp(t,e.child,null,a),t.child.memoizedState=fj(a),t.memoizedState=hj,i);if(!(t.mode&1))return h1(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ve(419)),n=D_(i,n,void 0),h1(e,t,a,n)}if(l=(a&e.childLanes)!==0,Fi||l){if(n=Os,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jc(e,s),Eo(n,e,s,-1))}return wC(),n=D_(Error(Ve(421))),h1(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=dK.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,da=Uu(s.nextSibling),ma=t,kn=!0,So=null,e!==null&&(Ma[Da++]=dc,Ma[Da++]=hc,Ma[Da++]=Nh,dc=e.id,hc=e.overflow,Nh=t),t=pC(t,n.children),t.flags|=4096,t)}function RP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),aj(e.return,t,r)}function F_(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function z6(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(xi(e,t,n.children,r),n=Tn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RP(e,r,t);else if(e.tag===19)RP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fn(Tn,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&sw(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),F_(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&sw(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}F_(t,!0,r,null,i);break;case"together":F_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ch|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,r=Wu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function XY(e,t,r){switch(t.tag){case 3:U6(t),Kp();break;case 5:m6(t);break;case 1:qi(t.type)&&Zx(t);break;case 4:aC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;fn(tw,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fn(Tn,Tn.current&1),t.flags|=128,null):r&t.child.childLanes?q6(e,t,r):(fn(Tn,Tn.current&1),e=Nc(e,t,r),e!==null?e.sibling:null);fn(Tn,Tn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return z6(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fn(Tn,Tn.current),n)break;return null;case 22:case 23:return t.lanes=0,$6(e,t,r)}return Nc(e,t,r)}var V6,pj,W6,H6;V6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pj=function(){};W6=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Xd(vl.current);var i=null;switch(r){case"input":s=MS(e,s),n=MS(e,n),i=[];break;case"select":s=Ln({},s,{value:void 0}),n=Ln({},n,{value:void 0}),i=[];break;case"textarea":s=$S(e,s),n=$S(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Jx)}US(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ov.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ov.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&wn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};H6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Lg(e,t){if(!kn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function eK(e,t,r){var n=t.pendingProps;switch(Xk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:return qi(t.type)&&Qx(),Xs(t),null;case 3:return n=t.stateNode,Qp(),_n(Ui),_n(ci),lC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(u1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,So!==null&&(_j(So),So=null))),pj(e,t),Xs(t),null;case 5:oC(t);var s=Xd(Wv.current);if(r=t.type,e!==null&&t.stateNode!=null)W6(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ve(166));return Xs(t),null}if(e=Xd(vl.current),u1(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[cl]=t,n[zv]=i,e=(t.mode&1)!==0,r){case"dialog":wn("cancel",n),wn("close",n);break;case"iframe":case"object":case"embed":wn("load",n);break;case"video":case"audio":for(s=0;s<Qg.length;s++)wn(Qg[s],n);break;case"source":wn("error",n);break;case"img":case"image":case"link":wn("error",n),wn("load",n);break;case"details":wn("toggle",n);break;case"input":U4(n,i),wn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},wn("invalid",n);break;case"textarea":z4(n,i),wn("invalid",n)}US(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&c1(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&c1(n.textContent,l,e),s=["children",""+l]):Ov.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&wn("scroll",n)}switch(r){case"input":t1(n),q4(n,i,!0);break;case"textarea":t1(n),V4(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Jx)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[cl]=t,e[zv]=n,V6(e,t,!1,!1),t.stateNode=e;e:{switch(a=qS(r,n),r){case"dialog":wn("cancel",e),wn("close",e),s=n;break;case"iframe":case"object":case"embed":wn("load",e),s=n;break;case"video":case"audio":for(s=0;s<Qg.length;s++)wn(Qg[s],e);s=n;break;case"source":wn("error",e),s=n;break;case"img":case"image":case"link":wn("error",e),wn("load",e),s=n;break;case"details":wn("toggle",e),s=n;break;case"input":U4(e,n),s=MS(e,n),wn("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ln({},n,{value:void 0}),wn("invalid",e);break;case"textarea":z4(e,n),s=$S(e,n),wn("invalid",e);break;default:s=n}US(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?SM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Lv(e,c):typeof c=="number"&&Lv(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ov.hasOwnProperty(i)?c!=null&&i==="onScroll"&&wn("scroll",e):c!=null&&Fk(e,i,c,a))}switch(r){case"input":t1(e),q4(e,n,!1);break;case"textarea":t1(e),V4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xu(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?fp(e,!!n.multiple,i,!1):n.defaultValue!=null&&fp(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Jx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&t.stateNode!=null)H6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ve(166));if(r=Xd(Wv.current),Xd(vl.current),u1(t)){if(n=t.stateNode,r=t.memoizedProps,n[cl]=t,(i=n.nodeValue!==r)&&(e=ma,e!==null))switch(e.tag){case 3:c1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&c1(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cl]=t,t.stateNode=n}return Xs(t),null;case 13:if(_n(Tn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kn&&da!==null&&t.mode&1&&!(t.flags&128))u6(),Kp(),t.flags|=98560,i=!1;else if(i=u1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ve(317));i[cl]=t}else Kp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xs(t),i=!1}else So!==null&&(_j(So),So=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Tn.current&1?Ns===0&&(Ns=3):wC())),t.updateQueue!==null&&(t.flags|=4),Xs(t),null);case 4:return Qp(),pj(e,t),e===null&&Uv(t.stateNode.containerInfo),Xs(t),null;case 10:return nC(t.type._context),Xs(t),null;case 17:return qi(t.type)&&Qx(),Xs(t),null;case 19:if(_n(Tn),i=t.memoizedState,i===null)return Xs(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Lg(i,!1);else{if(Ns!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=sw(e),a!==null){for(t.flags|=128,Lg(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fn(Tn,Tn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xn()>Xp&&(t.flags|=128,n=!0,Lg(i,!1),t.lanes=4194304)}else{if(!n)if(e=sw(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Lg(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!kn)return Xs(t),null}else 2*Xn()-i.renderingStartTime>Xp&&r!==1073741824&&(t.flags|=128,n=!0,Lg(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xn(),t.sibling=null,r=Tn.current,fn(Tn,n?r&1|2:r&1),t):(Xs(t),null);case 22:case 23:return xC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?aa&1073741824&&(Xs(t),t.subtreeFlags&6&&(t.flags|=8192)):Xs(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function tK(e,t){switch(Xk(t),t.tag){case 1:return qi(t.type)&&Qx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qp(),_n(Ui),_n(ci),lC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return oC(t),null;case 13:if(_n(Tn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));Kp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _n(Tn),null;case 4:return Qp(),null;case 10:return nC(t.type._context),null;case 22:case 23:return xC(),null;case 24:return null;default:return null}}var f1=!1,ii=!1,rK=typeof WeakSet=="function"?WeakSet:Set,ot=null;function op(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Wn(e,t,n)}else r.current=null}function mj(e,t,r){try{r()}catch(n){Wn(e,t,n)}}var OP=!1;function nK(e,t){if(ZS=Gx,e=QM(),Qk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++u===s&&(l=a),p===i&&++d===n&&(c=a),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(XS={focusedElem:e,selectionRange:r},Gx=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,x=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:vo(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(k){Wn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return v=OP,OP=!1,v}function vv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mj(t,r,i)}s=s.next}while(s!==n)}}function xb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function G6(e){var t=e.alternate;t!==null&&(e.alternate=null,G6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cl],delete t[zv],delete t[rj],delete t[$Y],delete t[BY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Y6(e){return e.tag===5||e.tag===3||e.tag===4}function LP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Y6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jx));else if(n!==4&&(e=e.child,e!==null))for(vj(e,t,r),e=e.sibling;e!==null;)vj(e,t,r),e=e.sibling}function yj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yj(e,t,r),e=e.sibling;e!==null;)yj(e,t,r),e=e.sibling}var Vs=null,bo=!1;function ru(e,t,r){for(r=r.child;r!==null;)K6(e,t,r),r=r.sibling}function K6(e,t,r){if(gl&&typeof gl.onCommitFiberUnmount=="function")try{gl.onCommitFiberUnmount(db,r)}catch{}switch(r.tag){case 5:ii||op(r,t);case 6:var n=Vs,s=bo;Vs=null,ru(e,t,r),Vs=n,bo=s,Vs!==null&&(bo?(e=Vs,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vs.removeChild(r.stateNode));break;case 18:Vs!==null&&(bo?(e=Vs,r=r.stateNode,e.nodeType===8?T_(e.parentNode,r):e.nodeType===1&&T_(e,r),Fv(e)):T_(Vs,r.stateNode));break;case 4:n=Vs,s=bo,Vs=r.stateNode.containerInfo,bo=!0,ru(e,t,r),Vs=n,bo=s;break;case 0:case 11:case 14:case 15:if(!ii&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&mj(r,t,a),s=s.next}while(s!==n)}ru(e,t,r);break;case 1:if(!ii&&(op(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Wn(r,t,l)}ru(e,t,r);break;case 21:ru(e,t,r);break;case 22:r.mode&1?(ii=(n=ii)||r.memoizedState!==null,ru(e,t,r),ii=n):ru(e,t,r);break;default:ru(e,t,r)}}function IP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new rK),t.forEach(function(n){var s=hK.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function co(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Vs=l.stateNode,bo=!1;break e;case 3:Vs=l.stateNode.containerInfo,bo=!0;break e;case 4:Vs=l.stateNode.containerInfo,bo=!0;break e}l=l.return}if(Vs===null)throw Error(Ve(160));K6(i,a,s),Vs=null,bo=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Wn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)J6(t,e),t=t.sibling}function J6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(co(t,e),Xo(e),n&4){try{vv(3,e,e.return),xb(3,e)}catch(m){Wn(e,e.return,m)}try{vv(5,e,e.return)}catch(m){Wn(e,e.return,m)}}break;case 1:co(t,e),Xo(e),n&512&&r!==null&&op(r,r.return);break;case 5:if(co(t,e),Xo(e),n&512&&r!==null&&op(r,r.return),e.flags&32){var s=e.stateNode;try{Lv(s,"")}catch(m){Wn(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&yM(s,i),qS(l,a);var u=qS(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?SM(s,h):d==="dangerouslySetInnerHTML"?bM(s,h):d==="children"?Lv(s,h):Fk(s,d,h,u)}switch(l){case"input":DS(s,i);break;case"textarea":xM(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?fp(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?fp(s,!!i.multiple,i.defaultValue,!0):fp(s,!!i.multiple,i.multiple?[]:"",!1))}s[zv]=i}catch(m){Wn(e,e.return,m)}}break;case 6:if(co(t,e),Xo(e),n&4){if(e.stateNode===null)throw Error(Ve(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Wn(e,e.return,m)}}break;case 3:if(co(t,e),Xo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fv(t.containerInfo)}catch(m){Wn(e,e.return,m)}break;case 4:co(t,e),Xo(e);break;case 13:co(t,e),Xo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vC=Xn())),n&4&&IP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ii=(u=ii)||d,co(t,e),ii=u):co(t,e),Xo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ot=e,d=e.child;d!==null;){for(h=ot=d;ot!==null;){switch(p=ot,f=p.child,p.tag){case 0:case 11:case 14:case 15:vv(4,p,p.return);break;case 1:op(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Wn(n,r,m)}}break;case 5:op(p,p.return);break;case 22:if(p.memoizedState!==null){DP(h);continue}}f!==null?(f.return=p,ot=f):DP(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=_M("display",a))}catch(m){Wn(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Wn(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:co(t,e),Xo(e),n&4&&IP(e);break;case 21:break;default:co(t,e),Xo(e)}}function Xo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Y6(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Lv(s,""),n.flags&=-33);var i=LP(e);yj(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=LP(e);vj(e,l,a);break;default:throw Error(Ve(161))}}catch(c){Wn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sK(e,t,r){ot=e,Q6(e)}function Q6(e,t,r){for(var n=(e.mode&1)!==0;ot!==null;){var s=ot,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||f1;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ii;l=f1;var u=ii;if(f1=a,(ii=c)&&!u)for(ot=s;ot!==null;)a=ot,c=a.child,a.tag===22&&a.memoizedState!==null?FP(s):c!==null?(c.return=a,ot=c):FP(s);for(;i!==null;)ot=i,Q6(i),i=i.sibling;ot=s,f1=l,ii=u}MP(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ot=i):MP(e)}}function MP(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ii||xb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ii)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:vo(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wP(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wP(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Fv(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}ii||t.flags&512&&gj(t)}catch(p){Wn(t,t.return,p)}}if(t===e){ot=null;break}if(r=t.sibling,r!==null){r.return=t.return,ot=r;break}ot=t.return}}function DP(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ot=r;break}ot=t.return}}function FP(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xb(4,t)}catch(c){Wn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Wn(t,s,c)}}var i=t.return;try{gj(t)}catch(c){Wn(t,i,c)}break;case 5:var a=t.return;try{gj(t)}catch(c){Wn(t,a,c)}}}catch(c){Wn(t,t.return,c)}if(t===e){ot=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ot=l;break}ot=t.return}}var iK=Math.ceil,ow=Mc.ReactCurrentDispatcher,mC=Mc.ReactCurrentOwner,qa=Mc.ReactCurrentBatchConfig,Er=0,Os=null,hs=null,Gs=0,aa=0,lp=dd(0),Ns=0,Kv=null,Ch=0,wb=0,gC=0,yv=null,Di=null,vC=0,Xp=1/0,tc=null,lw=!1,xj=null,zu=null,p1=!1,Lu=null,cw=0,xv=0,wj=null,fx=-1,px=0;function Ci(){return Er&6?Xn():fx!==-1?fx:fx=Xn()}function Vu(e){return e.mode&1?Er&2&&Gs!==0?Gs&-Gs:qY.transition!==null?(px===0&&(px=IM()),px):(e=Jr,e!==0||(e=window.event,e=e===void 0?16:qM(e.type)),e):1}function Eo(e,t,r,n){if(50<xv)throw xv=0,wj=null,Error(Ve(185));E0(e,r,n),(!(Er&2)||e!==Os)&&(e===Os&&(!(Er&2)&&(wb|=r),Ns===4&&xu(e,Gs)),zi(e,n),r===1&&Er===0&&!(t.mode&1)&&(Xp=Xn()+500,gb&&hd()))}function zi(e,t){var r=e.callbackNode;qG(e,t);var n=Hx(e,e===Os?Gs:0);if(n===0)r!==null&&G4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&G4(r),t===1)e.tag===0?UY($P.bind(null,e)):o6($P.bind(null,e)),DY(function(){!(Er&6)&&hd()}),r=null;else{switch(MM(n)){case 1:r=zk;break;case 4:r=OM;break;case 16:r=Wx;break;case 536870912:r=LM;break;default:r=Wx}r=iD(r,Z6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Z6(e,t){if(fx=-1,px=0,Er&6)throw Error(Ve(327));var r=e.callbackNode;if(yp()&&e.callbackNode!==r)return null;var n=Hx(e,e===Os?Gs:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=uw(e,n);else{t=n;var s=Er;Er|=2;var i=eD();(Os!==e||Gs!==t)&&(tc=null,Xp=Xn()+500,mh(e,t));do try{lK();break}catch(l){X6(e,l)}while(!0);rC(),ow.current=i,Er=s,hs!==null?t=0:(Os=null,Gs=0,t=Ns)}if(t!==0){if(t===2&&(s=GS(e),s!==0&&(n=s,t=bj(e,s))),t===1)throw r=Kv,mh(e,0),xu(e,n),zi(e,Xn()),r;if(t===6)xu(e,n);else{if(s=e.current.alternate,!(n&30)&&!aK(s)&&(t=uw(e,n),t===2&&(i=GS(e),i!==0&&(n=i,t=bj(e,i))),t===1))throw r=Kv,mh(e,0),xu(e,n),zi(e,Xn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Ve(345));case 2:zd(e,Di,tc);break;case 3:if(xu(e,n),(n&130023424)===n&&(t=vC+500-Xn(),10<t)){if(Hx(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ci(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tj(zd.bind(null,e,Di,tc),t);break}zd(e,Di,tc);break;case 4:if(xu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Co(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Xn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*iK(n/1960))-n,10<n){e.timeoutHandle=tj(zd.bind(null,e,Di,tc),n);break}zd(e,Di,tc);break;case 5:zd(e,Di,tc);break;default:throw Error(Ve(329))}}}return zi(e,Xn()),e.callbackNode===r?Z6.bind(null,e):null}function bj(e,t){var r=yv;return e.current.memoizedState.isDehydrated&&(mh(e,t).flags|=256),e=uw(e,t),e!==2&&(t=Di,Di=r,t!==null&&_j(t)),e}function _j(e){Di===null?Di=e:Di.push.apply(Di,e)}function aK(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ro(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xu(e,t){for(t&=~gC,t&=~wb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Co(t),n=1<<r;e[r]=-1,t&=~n}}function $P(e){if(Er&6)throw Error(Ve(327));yp();var t=Hx(e,0);if(!(t&1))return zi(e,Xn()),null;var r=uw(e,t);if(e.tag!==0&&r===2){var n=GS(e);n!==0&&(t=n,r=bj(e,n))}if(r===1)throw r=Kv,mh(e,0),xu(e,t),zi(e,Xn()),r;if(r===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zd(e,Di,tc),zi(e,Xn()),null}function yC(e,t){var r=Er;Er|=1;try{return e(t)}finally{Er=r,Er===0&&(Xp=Xn()+500,gb&&hd())}}function Eh(e){Lu!==null&&Lu.tag===0&&!(Er&6)&&yp();var t=Er;Er|=1;var r=qa.transition,n=Jr;try{if(qa.transition=null,Jr=1,e)return e()}finally{Jr=n,qa.transition=r,Er=t,!(Er&6)&&hd()}}function xC(){aa=lp.current,_n(lp)}function mh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,MY(r)),hs!==null)for(r=hs.return;r!==null;){var n=r;switch(Xk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qx();break;case 3:Qp(),_n(Ui),_n(ci),lC();break;case 5:oC(n);break;case 4:Qp();break;case 13:_n(Tn);break;case 19:_n(Tn);break;case 10:nC(n.type._context);break;case 22:case 23:xC()}r=r.return}if(Os=e,hs=e=Wu(e.current,null),Gs=aa=t,Ns=0,Kv=null,gC=wb=Ch=0,Di=yv=null,Zd!==null){for(t=0;t<Zd.length;t++)if(r=Zd[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Zd=null}return e}function X6(e,t){do{var r=hs;try{if(rC(),ux.current=aw,iw){for(var n=On.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}iw=!1}if(kh=0,Ps=Ss=On=null,gv=!1,Hv=0,mC.current=null,r===null||r.return===null){Ns=1,Kv=t,hs=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=Gs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=kP(a);if(f!==null){f.flags&=-257,CP(f,a,l,i,t),f.mode&1&&NP(i,u,t),t=f,c=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){NP(i,u,t),wC();break e}c=Error(Ve(426))}}else if(kn&&l.mode&1){var x=kP(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),CP(x,a,l,i,t),eC(Zp(c,l));break e}}i=c=Zp(c,l),Ns!==4&&(Ns=2),yv===null?yv=[i]:yv.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=M6(i,c,t);xP(i,g);break e;case 1:l=c;var b=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(zu===null||!zu.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=D6(i,l,t);xP(i,k);break e}}i=i.return}while(i!==null)}rD(r)}catch(T){t=T,hs===r&&r!==null&&(hs=r=r.return);continue}break}while(!0)}function eD(){var e=ow.current;return ow.current=aw,e===null?aw:e}function wC(){(Ns===0||Ns===3||Ns===2)&&(Ns=4),Os===null||!(Ch&268435455)&&!(wb&268435455)||xu(Os,Gs)}function uw(e,t){var r=Er;Er|=2;var n=eD();(Os!==e||Gs!==t)&&(tc=null,mh(e,t));do try{oK();break}catch(s){X6(e,s)}while(!0);if(rC(),Er=r,ow.current=n,hs!==null)throw Error(Ve(261));return Os=null,Gs=0,Ns}function oK(){for(;hs!==null;)tD(hs)}function lK(){for(;hs!==null&&!OG();)tD(hs)}function tD(e){var t=sD(e.alternate,e,aa);e.memoizedProps=e.pendingProps,t===null?rD(e):hs=t,mC.current=null}function rD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=tK(r,t),r!==null){r.flags&=32767,hs=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ns=6,hs=null;return}}else if(r=eK(r,t,aa),r!==null){hs=r;return}if(t=t.sibling,t!==null){hs=t;return}hs=t=e}while(t!==null);Ns===0&&(Ns=5)}function zd(e,t,r){var n=Jr,s=qa.transition;try{qa.transition=null,Jr=1,cK(e,t,r,n)}finally{qa.transition=s,Jr=n}return null}function cK(e,t,r,n){do yp();while(Lu!==null);if(Er&6)throw Error(Ve(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(zG(e,i),e===Os&&(hs=Os=null,Gs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||p1||(p1=!0,iD(Wx,function(){return yp(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qa.transition,qa.transition=null;var a=Jr;Jr=1;var l=Er;Er|=4,mC.current=null,nK(e,r),J6(r,e),AY(XS),Gx=!!ZS,XS=ZS=null,e.current=r,sK(r),LG(),Er=l,Jr=a,qa.transition=i}else e.current=r;if(p1&&(p1=!1,Lu=e,cw=s),i=e.pendingLanes,i===0&&(zu=null),DG(r.stateNode),zi(e,Xn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(lw)throw lw=!1,e=xj,xj=null,e;return cw&1&&e.tag!==0&&yp(),i=e.pendingLanes,i&1?e===wj?xv++:(xv=0,wj=e):xv=0,hd(),null}function yp(){if(Lu!==null){var e=MM(cw),t=qa.transition,r=Jr;try{if(qa.transition=null,Jr=16>e?16:e,Lu===null)var n=!1;else{if(e=Lu,Lu=null,cw=0,Er&6)throw Error(Ve(331));var s=Er;for(Er|=4,ot=e.current;ot!==null;){var i=ot,a=i.child;if(ot.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ot=u;ot!==null;){var d=ot;switch(d.tag){case 0:case 11:case 15:vv(8,d,i)}var h=d.child;if(h!==null)h.return=d,ot=h;else for(;ot!==null;){d=ot;var p=d.sibling,f=d.return;if(G6(d),d===u){ot=null;break}if(p!==null){p.return=f,ot=p;break}ot=f}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}ot=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ot=a;else e:for(;ot!==null;){if(i=ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vv(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ot=g;break e}ot=i.return}}var b=e.current;for(ot=b;ot!==null;){a=ot;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ot=S;else e:for(a=b;ot!==null;){if(l=ot,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xb(9,l)}}catch(T){Wn(l,l.return,T)}if(l===a){ot=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ot=k;break e}ot=l.return}}if(Er=s,hd(),gl&&typeof gl.onPostCommitFiberRoot=="function")try{gl.onPostCommitFiberRoot(db,e)}catch{}n=!0}return n}finally{Jr=r,qa.transition=t}}return!1}function BP(e,t,r){t=Zp(r,t),t=M6(e,t,1),e=qu(e,t,1),t=Ci(),e!==null&&(E0(e,1,t),zi(e,t))}function Wn(e,t,r){if(e.tag===3)BP(e,e,r);else for(;t!==null;){if(t.tag===3){BP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zu===null||!zu.has(n))){e=Zp(r,e),e=D6(t,e,1),t=qu(t,e,1),e=Ci(),t!==null&&(E0(t,1,e),zi(t,e));break}}t=t.return}}function uK(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ci(),e.pingedLanes|=e.suspendedLanes&r,Os===e&&(Gs&r)===r&&(Ns===4||Ns===3&&(Gs&130023424)===Gs&&500>Xn()-vC?mh(e,0):gC|=r),zi(e,t)}function nD(e,t){t===0&&(e.mode&1?(t=s1,s1<<=1,!(s1&130023424)&&(s1=4194304)):t=1);var r=Ci();e=jc(e,t),e!==null&&(E0(e,t,r),zi(e,r))}function dK(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),nD(e,r)}function hK(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(t),nD(e,r)}var sD;sD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ui.current)Fi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Fi=!1,XY(e,t,r);Fi=!!(e.flags&131072)}else Fi=!1,kn&&t.flags&1048576&&l6(t,ew,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hx(e,t),e=t.pendingProps;var s=Yp(t,ci.current);vp(t,r),s=uC(null,t,n,e,s,r);var i=dC();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qi(n)?(i=!0,Zx(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,iC(t),s.updater=yb,t.stateNode=s,s._reactInternals=t,lj(t,n,e,r),t=dj(null,t,n,!0,i,r)):(t.tag=0,kn&&i&&Zk(t),xi(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hx(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=pK(n),e=vo(n,e),s){case 0:t=uj(null,t,n,e,r);break e;case 1:t=PP(null,t,n,e,r);break e;case 11:t=EP(null,t,n,e,r);break e;case 14:t=AP(null,t,n,vo(n.type,e),r);break e}throw Error(Ve(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vo(n,s),uj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vo(n,s),PP(e,t,n,s,r);case 3:e:{if(U6(t),e===null)throw Error(Ve(387));n=t.pendingProps,i=t.memoizedState,s=i.element,p6(e,t),nw(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Zp(Error(Ve(423)),t),t=TP(e,t,n,r,s);break e}else if(n!==s){s=Zp(Error(Ve(424)),t),t=TP(e,t,n,r,s);break e}else for(da=Uu(t.stateNode.containerInfo.firstChild),ma=t,kn=!0,So=null,r=h6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kp(),n===s){t=Nc(e,t,r);break e}xi(e,t,n,r)}t=t.child}return t;case 5:return m6(t),e===null&&ij(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,ej(n,s)?a=null:i!==null&&ej(n,i)&&(t.flags|=32),B6(e,t),xi(e,t,a,r),t.child;case 6:return e===null&&ij(t),null;case 13:return q6(e,t,r);case 4:return aC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Jp(t,null,n,r):xi(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vo(n,s),EP(e,t,n,s,r);case 7:return xi(e,t,t.pendingProps,r),t.child;case 8:return xi(e,t,t.pendingProps.children,r),t.child;case 12:return xi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,fn(tw,n._currentValue),n._currentValue=a,i!==null)if(Ro(i.value,a)){if(i.children===s.children&&!Ui.current){t=Nc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=vc(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),aj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ve(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),aj(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}xi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,vp(t,r),s=Ya(s),n=n(s),t.flags|=1,xi(e,t,n,r),t.child;case 14:return n=t.type,s=vo(n,t.pendingProps),s=vo(n.type,s),AP(e,t,n,s,r);case 15:return F6(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vo(n,s),hx(e,t),t.tag=1,qi(n)?(e=!0,Zx(t)):e=!1,vp(t,r),I6(t,n,s),lj(t,n,s,r),dj(null,t,n,!0,e,r);case 19:return z6(e,t,r);case 22:return $6(e,t,r)}throw Error(Ve(156,t.tag))};function iD(e,t){return RM(e,t)}function fK(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $a(e,t,r,n){return new fK(e,t,r,n)}function bC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pK(e){if(typeof e=="function")return bC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bk)return 11;if(e===Uk)return 14}return 2}function Wu(e,t){var r=e.alternate;return r===null?(r=$a(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function mx(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")bC(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Zf:return gh(r.children,s,i,t);case $k:a=8,s|=8;break;case RS:return e=$a(12,r,t,s|2),e.elementType=RS,e.lanes=i,e;case OS:return e=$a(13,r,t,s),e.elementType=OS,e.lanes=i,e;case LS:return e=$a(19,r,t,s),e.elementType=LS,e.lanes=i,e;case mM:return bb(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fM:a=10;break e;case pM:a=9;break e;case Bk:a=11;break e;case Uk:a=14;break e;case fu:a=16,n=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=$a(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function gh(e,t,r,n){return e=$a(7,e,n,t),e.lanes=r,e}function bb(e,t,r,n){return e=$a(22,e,n,t),e.elementType=mM,e.lanes=r,e.stateNode={isHidden:!1},e}function $_(e,t,r){return e=$a(6,e,null,t),e.lanes=r,e}function B_(e,t,r){return t=$a(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mK(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w_(0),this.expirationTimes=w_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w_(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _C(e,t,r,n,s,i,a,l,c){return e=new mK(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$a(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iC(i),e}function gK(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function aD(e){if(!e)return ed;e=e._reactInternals;e:{if(Kh(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var r=e.type;if(qi(r))return a6(e,r,t)}return t}function oD(e,t,r,n,s,i,a,l,c){return e=_C(r,n,!0,e,s,i,a,l,c),e.context=aD(null),r=e.current,n=Ci(),s=Vu(r),i=vc(n,s),i.callback=t??null,qu(r,i,s),e.current.lanes=s,E0(e,s,n),zi(e,n),e}function _b(e,t,r,n){var s=t.current,i=Ci(),a=Vu(s);return r=aD(r),t.context===null?t.context=r:t.pendingContext=r,t=vc(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qu(s,t,a),e!==null&&(Eo(e,s,a,i),cx(e,s,a)),a}function dw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function UP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function SC(e,t){UP(e,t),(e=e.alternate)&&UP(e,t)}function vK(){return null}var lD=typeof reportError=="function"?reportError:function(e){console.error(e)};function jC(e){this._internalRoot=e}Sb.prototype.render=jC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));_b(e,t,null,null)};Sb.prototype.unmount=jC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eh(function(){_b(null,e,null,null)}),t[Sc]=null}};function Sb(e){this._internalRoot=e}Sb.prototype.unstable_scheduleHydration=function(e){if(e){var t=$M();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yu.length&&t!==0&&t<yu[r].priority;r++);yu.splice(r,0,e),r===0&&UM(e)}};function NC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qP(){}function yK(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=dw(a);i.call(u)}}var a=oD(t,n,e,0,null,!1,!1,"",qP);return e._reactRootContainer=a,e[Sc]=a.current,Uv(e.nodeType===8?e.parentNode:e),Eh(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=dw(c);l.call(u)}}var c=_C(e,0,!1,null,null,!1,!1,"",qP);return e._reactRootContainer=c,e[Sc]=c.current,Uv(e.nodeType===8?e.parentNode:e),Eh(function(){_b(t,c,r,n)}),c}function Nb(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=dw(a);l.call(c)}}_b(t,a,e,s)}else a=yK(r,t,e,s,n);return dw(a)}DM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Jg(t.pendingLanes);r!==0&&(Vk(t,r|1),zi(t,Xn()),!(Er&6)&&(Xp=Xn()+500,hd()))}break;case 13:Eh(function(){var n=jc(e,1);if(n!==null){var s=Ci();Eo(n,e,1,s)}}),SC(e,1)}};Wk=function(e){if(e.tag===13){var t=jc(e,134217728);if(t!==null){var r=Ci();Eo(t,e,134217728,r)}SC(e,134217728)}};FM=function(e){if(e.tag===13){var t=Vu(e),r=jc(e,t);if(r!==null){var n=Ci();Eo(r,e,t,n)}SC(e,t)}};$M=function(){return Jr};BM=function(e,t){var r=Jr;try{return Jr=e,t()}finally{Jr=r}};VS=function(e,t,r){switch(t){case"input":if(DS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=mb(n);if(!s)throw Error(Ve(90));vM(n),DS(n,s)}}}break;case"textarea":xM(e,r);break;case"select":t=r.value,t!=null&&fp(e,!!r.multiple,t,!1)}};kM=yC;CM=Eh;var xK={usingClientEntryPoint:!1,Events:[P0,rp,mb,jM,NM,yC]},Ig={findFiberByHostInstance:Qd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wK={bundleType:Ig.bundleType,version:Ig.version,rendererPackageName:Ig.rendererPackageName,rendererConfig:Ig.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=PM(e),e===null?null:e.stateNode},findFiberByHostInstance:Ig.findFiberByHostInstance||vK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var m1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!m1.isDisabled&&m1.supportsFiber)try{db=m1.inject(wK),gl=m1}catch{}}ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xK;ba.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NC(t))throw Error(Ve(200));return gK(e,t,null,r)};ba.createRoot=function(e,t){if(!NC(e))throw Error(Ve(299));var r=!1,n="",s=lD;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_C(e,1,!1,null,null,r,!1,n,s),e[Sc]=t.current,Uv(e.nodeType===8?e.parentNode:e),new jC(t)};ba.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=PM(t),e=e===null?null:e.stateNode,e};ba.flushSync=function(e){return Eh(e)};ba.hydrate=function(e,t,r){if(!jb(t))throw Error(Ve(200));return Nb(null,e,t,!0,r)};ba.hydrateRoot=function(e,t,r){if(!NC(e))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=lD;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=oD(t,null,e,1,r??null,s,!1,i,a),e[Sc]=t.current,Uv(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Sb(t)};ba.render=function(e,t,r){if(!jb(t))throw Error(Ve(200));return Nb(null,e,t,!1,r)};ba.unmountComponentAtNode=function(e){if(!jb(e))throw Error(Ve(40));return e._reactRootContainer?(Eh(function(){Nb(null,null,e,!1,function(){e._reactRootContainer=null,e[Sc]=null})}),!0):!1};ba.unstable_batchedUpdates=yC;ba.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jb(r))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return Nb(e,t,r,!1,n)};ba.version="18.3.1-next-f1338f8080-20240426";function cD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cD)}catch(e){console.error(e)}}cD(),cM.exports=ba;var Jh=cM.exports;const uD=QI(Jh);var dD,zP=Jh;dD=zP.createRoot,zP.hydrateRoot;const bK=1,_K=1e6;let U_=0;function SK(){return U_=(U_+1)%Number.MAX_SAFE_INTEGER,U_.toString()}const q_=new Map,VP=e=>{if(q_.has(e))return;const t=setTimeout(()=>{q_.delete(e),wv({type:"REMOVE_TOAST",toastId:e})},_K);q_.set(e,t)},jK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,bK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?VP(r):e.toasts.forEach(n=>{VP(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},gx=[];let vx={toasts:[]};function wv(e){vx=jK(vx,e),gx.forEach(t=>{t(vx)})}function Qr({...e}){const t=SK(),r=s=>wv({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>wv({type:"DISMISS_TOAST",toastId:t});return wv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function R0(){const[e,t]=w.useState(vx);return w.useEffect(()=>(gx.push(t),()=>{const r=gx.indexOf(t);r>-1&&gx.splice(r,1)}),[e]),{...e,toast:Qr,dismiss:r=>wv({type:"DISMISS_TOAST",toastId:r})}}function dt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function WP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function O0(...e){return t=>{let r=!1;const n=e.map(s=>{const i=WP(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():WP(e[s],null)}}}}function wt(...e){return w.useCallback(O0(...e),e)}function hD(e,t){const r=w.createContext(t),n=i=>{const{children:a,...l}=i,c=w.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(i){const a=w.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function is(e,t=[]){let r=[];function n(i,a){const l=w.createContext(a),c=r.length;r=[...r,a];const u=h=>{var g;const{scope:p,children:f,...v}=h,m=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,x=w.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:x,children:f})};u.displayName=i+"Provider";function d(h,p){var m;const f=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,v=w.useContext(f);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>w.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,NK(s,...t)]}function NK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function kc(e){const t=kK(e),r=w.forwardRef((n,s)=>{const{children:i,...a}=n,l=w.Children.toArray(i),c=l.find(CK);if(c){const u=c.props.children,d=l.map(h=>h===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var fD=kc("Slot");function kK(e){const t=w.forwardRef((r,n)=>{const{children:s,...i}=r;if(w.isValidElement(s)){const a=AK(s),l=EK(i,s.props);return s.type!==w.Fragment&&(l.ref=n?O0(n,a):a),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pD=Symbol("radix.slottable");function mD(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=pD,t}function CK(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pD}function EK(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function AK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Cm(e){const t=e+"CollectionProvider",[r,n]=is(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:x,children:g}=m,b=Re.useRef(null),S=Re.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:S,collectionRef:b,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=kc(l),u=Re.forwardRef((m,x)=>{const{scope:g,children:b}=m,S=i(l,g),k=wt(x,S.collectionRef);return o.jsx(c,{ref:k,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=kc(d),f=Re.forwardRef((m,x)=>{const{scope:g,children:b,...S}=m,k=Re.useRef(null),T=wt(x,k),R=i(d,g);return Re.useEffect(()=>(R.itemMap.set(k,{ref:k,...S}),()=>void R.itemMap.delete(k))),o.jsx(p,{[h]:"",ref:T,children:b})});f.displayName=d;function v(m){const x=i(e+"CollectionConsumer",m);return Re.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((R,O)=>S.indexOf(R.ref.current)-S.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:f},v,n]}var PK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=PK.reduce((e,t)=>{const r=kc(`Primitive.${t}`),n=w.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function L0(e,t){e&&Jh.flushSync(()=>e.dispatchEvent(t))}function Kr(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function kC(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e);w.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var TK="DismissableLayer",Sj="dismissableLayer.update",RK="dismissableLayer.pointerDownOutside",OK="dismissableLayer.focusOutside",HP,gD=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Em=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=w.useContext(gD),[d,h]=w.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=w.useState({}),v=wt(t,O=>h(O)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),b=d?m.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=b>=g,T=IK(O=>{const D=O.target,I=[...u.branches].some(G=>G.contains(D));!k||I||(s==null||s(O),a==null||a(O),O.defaultPrevented||l==null||l())},p),R=MK(O=>{const D=O.target;[...u.branches].some(G=>G.contains(D))||(i==null||i(O),a==null||a(O),O.defaultPrevented||l==null||l())},p);return kC(O=>{b===u.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(HP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),GP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=HP)}},[d,p,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),GP())},[d,u]),w.useEffect(()=>{const O=()=>f({});return document.addEventListener(Sj,O),()=>document.removeEventListener(Sj,O)},[]),o.jsx(Xe.div,{...c,ref:v,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,R.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,T.onPointerDownCapture)})});Em.displayName=TK;var LK="DismissableLayerBranch",vD=w.forwardRef((e,t)=>{const r=w.useContext(gD),n=w.useRef(null),s=wt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Xe.div,{...e,ref:s})});vD.displayName=LK;function IK(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){yD(RK,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function MK(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!n.current&&yD(OK,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function GP(){const e=new CustomEvent(Sj);document.dispatchEvent(e)}function yD(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?L0(s,i):s.dispatchEvent(i)}var DK=Em,FK=vD,Zr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},$K="Portal",Qh=w.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=w.useState(!1);Zr(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?uD.createPortal(o.jsx(Xe.div,{...n,ref:t}),a):null});Qh.displayName=$K;function BK(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var Sa=e=>{const{present:t,children:r}=e,n=UK(t),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=wt(n.ref,qK(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:i}):null};Sa.displayName="Presence";function UK(e){const[t,r]=w.useState(),n=w.useRef(null),s=w.useRef(e),i=w.useRef("none"),a=e?"mounted":"unmounted",[l,c]=BK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=g1(n.current);i.current=l==="mounted"?u:"none"},[l]),Zr(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=g1(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Zr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=g1(n.current).includes(f.animationName);if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=f=>{f.target===t&&(i.current=g1(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function g1(e){return(e==null?void 0:e.animationName)||"none"}function qK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zK=Ik[" useInsertionEffect ".trim().toString()]||Zr;function ya({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,a]=VK({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=w.useCallback(d=>{var h;if(l){const p=WK(d)?d(e):d;p!==e&&((h=a.current)==null||h.call(a,p))}else i(d)},[l,e,i,a]);return[c,u]}function VK({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),s=w.useRef(r),i=w.useRef(t);return zK(()=>{i.current=t},[t]),w.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,n,i]}function WK(e){return typeof e=="function"}var xD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HK="VisuallyHidden",kb=w.forwardRef((e,t)=>o.jsx(Xe.span,{...e,ref:t,style:{...xD,...e.style}}));kb.displayName=HK;var GK=kb,CC="ToastProvider",[EC,YK,KK]=Cm("Toast"),[wD,k2e]=is("Toast",[KK]),[JK,Cb]=wD(CC),bD=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),h=w.useRef(!1),p=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${CC}\`. Expected non-empty \`string\`.`),o.jsx(EC.Provider,{scope:t,children:o.jsx(JK,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(f=>f+1),[]),onToastRemove:w.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:a})})};bD.displayName=CC;var _D="ToastViewport",QK=["F8"],jj="toast.viewportPause",Nj="toast.viewportResume",SD=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=QK,label:s="Notifications ({hotkey})",...i}=e,a=Cb(_D,r),l=YK(r),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),h=w.useRef(null),p=wt(t,h,a.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;w.useEffect(()=>{const x=g=>{var S;n.length!==0&&n.every(k=>g[k]||g.code===k)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),w.useEffect(()=>{const x=c.current,g=h.current;if(v&&x&&g){const b=()=>{if(!a.isClosePausedRef.current){const R=new CustomEvent(jj);g.dispatchEvent(R),a.isClosePausedRef.current=!0}},S=()=>{if(a.isClosePausedRef.current){const R=new CustomEvent(Nj);g.dispatchEvent(R),a.isClosePausedRef.current=!1}},k=R=>{!x.contains(R.relatedTarget)&&S()},T=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",b),x.addEventListener("focusout",k),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",k),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",S)}}},[v,a.isClosePausedRef]);const m=w.useCallback(({tabbingDirection:x})=>{const b=l().map(S=>{const k=S.ref.current,T=[k,...uJ(k)];return x==="forwards"?T:T.reverse()});return(x==="forwards"?b.reverse():b).flat()},[l]);return w.useEffect(()=>{const x=h.current;if(x){const g=b=>{var T,R,O;const S=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!S){const D=document.activeElement,I=b.shiftKey;if(b.target===x&&I){(T=u.current)==null||T.focus();return}const M=m({tabbingDirection:I?"backwards":"forwards"}),$=M.findIndex(q=>q===D);z_(M.slice($+1))?b.preventDefault():I?(R=u.current)==null||R.focus():(O=d.current)==null||O.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[l,m]),o.jsxs(FK,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(kj,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});z_(x)}}),o.jsx(EC.Slot,{scope:r,children:o.jsx(Xe.ol,{tabIndex:-1,...i,ref:p})}),v&&o.jsx(kj,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});z_(x)}})]})});SD.displayName=_D;var jD="ToastFocusProxy",kj=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Cb(jD,r);return o.jsx(kb,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});kj.displayName=jD;var I0="Toast",ZK="toast.swipeStart",XK="toast.swipeMove",eJ="toast.swipeCancel",tJ="toast.swipeEnd",ND=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=e,[l,c]=ya({prop:n,defaultProp:s??!0,onChange:i,caller:I0});return o.jsx(Sa,{present:r||l,children:o.jsx(sJ,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Kr(e.onPause),onResume:Kr(e.onResume),onSwipeStart:dt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:dt(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:dt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:dt(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});ND.displayName=I0;var[rJ,nJ]=wD(I0,{onClose(){}}),sJ=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...v}=e,m=Cb(I0,r),[x,g]=w.useState(null),b=wt(t,q=>g(q)),S=w.useRef(null),k=w.useRef(null),T=s||m.duration,R=w.useRef(0),O=w.useRef(T),D=w.useRef(0),{onToastAdd:I,onToastRemove:G}=m,A=Kr(()=>{var ee;(x==null?void 0:x.contains(document.activeElement))&&((ee=m.viewport)==null||ee.focus()),a()}),M=w.useCallback(q=>{!q||q===1/0||(window.clearTimeout(D.current),R.current=new Date().getTime(),D.current=window.setTimeout(A,q))},[A]);w.useEffect(()=>{const q=m.viewport;if(q){const ee=()=>{M(O.current),u==null||u()},re=()=>{const te=new Date().getTime()-R.current;O.current=O.current-te,window.clearTimeout(D.current),c==null||c()};return q.addEventListener(jj,re),q.addEventListener(Nj,ee),()=>{q.removeEventListener(jj,re),q.removeEventListener(Nj,ee)}}},[m.viewport,T,c,u,M]),w.useEffect(()=>{i&&!m.isClosePausedRef.current&&M(T)},[i,T,m.isClosePausedRef,M]),w.useEffect(()=>(I(),()=>G()),[I,G]);const $=w.useMemo(()=>x?RD(x):null,[x]);return m.viewport?o.jsxs(o.Fragment,{children:[$&&o.jsx(iJ,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),o.jsx(rJ,{scope:r,onClose:A,children:Jh.createPortal(o.jsx(EC.ItemSlot,{scope:r,children:o.jsx(DK,{asChild:!0,onEscapeKeyDown:dt(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:dt(e.onKeyDown,q=>{q.key==="Escape"&&(l==null||l(q.nativeEvent),q.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:dt(e.onPointerDown,q=>{q.button===0&&(S.current={x:q.clientX,y:q.clientY})}),onPointerMove:dt(e.onPointerMove,q=>{if(!S.current)return;const ee=q.clientX-S.current.x,re=q.clientY-S.current.y,te=!!k.current,W=["left","right"].includes(m.swipeDirection),Z=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,pe=W?Z(0,ee):0,ge=W?0:Z(0,re),U=q.pointerType==="touch"?10:2,_={x:pe,y:ge},C={originalEvent:q,delta:_};te?(k.current=_,v1(XK,h,C,{discrete:!1})):YP(_,m.swipeDirection,U)?(k.current=_,v1(ZK,d,C,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ee)>U||Math.abs(re)>U)&&(S.current=null)}),onPointerUp:dt(e.onPointerUp,q=>{const ee=k.current,re=q.target;if(re.hasPointerCapture(q.pointerId)&&re.releasePointerCapture(q.pointerId),k.current=null,S.current=null,ee){const te=q.currentTarget,W={originalEvent:q,delta:ee};YP(ee,m.swipeDirection,m.swipeThreshold)?v1(tJ,f,W,{discrete:!0}):v1(eJ,p,W,{discrete:!0}),te.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),iJ=e=>{const{__scopeToast:t,children:r,...n}=e,s=Cb(I0,t),[i,a]=w.useState(!1),[l,c]=w.useState(!1);return lJ(()=>a(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Qh,{asChild:!0,children:o.jsx(kb,{...n,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},aJ="ToastTitle",kD=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Xe.div,{...n,ref:t})});kD.displayName=aJ;var oJ="ToastDescription",CD=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Xe.div,{...n,ref:t})});CD.displayName=oJ;var ED="ToastAction",AD=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(TD,{altText:r,asChild:!0,children:o.jsx(AC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ED}\`. Expected non-empty \`string\`.`),null)});AD.displayName=ED;var PD="ToastClose",AC=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=nJ(PD,r);return o.jsx(TD,{asChild:!0,children:o.jsx(Xe.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,s.onClose)})})});AC.displayName=PD;var TD=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function RD(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),cJ(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...RD(n))}}),t}function v1(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?L0(s,i):s.dispatchEvent(i)}var YP=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function lJ(e=()=>{}){const t=Kr(e);Zr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function cJ(e){return e.nodeType===e.ELEMENT_NODE}function uJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function z_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var dJ=bD,OD=SD,LD=ND,ID=kD,MD=CD,DD=AD,FD=AC;function $D(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=$D(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function BD(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=$D(e))&&(n&&(n+=" "),n+=t);return n}const KP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,JP=BD,Am=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return JP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const p=KP(d)||KP(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(v=>{let[m,x]=v;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...u,h,p]:u},[]);return JP(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>w.createElement("svg",{ref:c,...fJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:UD("lucide",s),...l},[...a.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=w.forwardRef(({className:n,...s},i)=>w.createElement(pJ,{ref:i,iconNode:t,className:UD(`lucide-${hJ(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=ze("Ambulance",[["path",{d:"M10 10H6",key:"1bsnug"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14",key:"lrkjwd"}],["path",{d:"M8 8v4",key:"1fwk8c"}],["path",{d:"M9 18h6",key:"x1upvd"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=ze("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=ze("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ze("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=ze("Bone",[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=ze("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=ze("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=ze("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=ze("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=ze("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=ze("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=ze("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=ze("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ze("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=ze("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=ze("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=ze("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=ze("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=ze("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=ze("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=ze("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=ze("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=ze("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=ze("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=ze("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ze("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=ze("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=ze("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=ze("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=ze("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=ze("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ze("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=ze("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=ze("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=ze("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),BC="-",WJ=e=>{const t=GJ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(BC);return l[0]===""&&l.length!==1&&l.shift(),ZD(l,t)||HJ(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},ZD=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?ZD(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(BC);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},iT=/^\[(.+)\]$/,HJ=e=>{if(iT.test(e)){const t=iT.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},GJ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return KJ(Object.entries(e.classGroups),r).forEach(([i,a])=>{Pj(a,n,i,t)}),n},Pj=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:aT(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(YJ(s)){Pj(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{Pj(a,aT(t,i),r,n)})})},aT=(e,t)=>{let r=e;return t.split(BC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},YJ=e=>e.isThemeGetter,KJ=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[r,s]}):e,JJ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},XD="!",QJ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let g=l[x];if(u===0){if(g===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(g==="/"){h=x;continue}}g==="["?u++:g==="]"&&u--}const p=c.length===0?l:l.substring(d),f=p.startsWith(XD),v=f?p.substring(1):p,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:a}):a},ZJ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},XJ=e=>({cache:JJ(e.cacheSize),parseClassName:QJ(e),...WJ(e)}),eQ=/\s+/,tQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(eQ);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(u);let v=!!f,m=n(v?p.substring(0,f):p);if(!m){if(!v){l=u+(l.length>0?" "+l:l);continue}if(m=n(p),!m){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=ZJ(d).join(":"),g=h?x+XD:x,b=g+m;if(i.includes(b))continue;i.push(b);const S=s(m,v);for(let k=0;k<S.length;++k){const T=S[k];i.push(g+T)}l=u+(l.length>0?" "+l:l)}return l};function rQ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=e8(t))&&(n&&(n+=" "),n+=r);return n}const e8=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=e8(e[n]))&&(r&&(r+=" "),r+=t);return r};function nQ(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=XJ(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=tQ(c,r);return s(c,d),d}return function(){return i(rQ.apply(null,arguments))}}const xn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},t8=/^\[(?:([a-z-]+):)?(.+)\]$/i,sQ=/^\d+\/\d+$/,iQ=new Set(["px","full","screen"]),aQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yl=e=>xp(e)||iQ.has(e)||sQ.test(e),nu=e=>Rm(e,"length",yQ),xp=e=>!!e&&!Number.isNaN(Number(e)),H_=e=>Rm(e,"number",xp),Mg=e=>!!e&&Number.isInteger(Number(e)),dQ=e=>e.endsWith("%")&&xp(e.slice(0,-1)),sr=e=>t8.test(e),su=e=>aQ.test(e),hQ=new Set(["length","size","percentage"]),fQ=e=>Rm(e,hQ,r8),pQ=e=>Rm(e,"position",r8),mQ=new Set(["image","url"]),gQ=e=>Rm(e,mQ,wQ),vQ=e=>Rm(e,"",xQ),Dg=()=>!0,Rm=(e,t,r)=>{const n=t8.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},yQ=e=>oQ.test(e)&&!lQ.test(e),r8=()=>!1,xQ=e=>cQ.test(e),wQ=e=>uQ.test(e),bQ=()=>{const e=xn("colors"),t=xn("spacing"),r=xn("blur"),n=xn("brightness"),s=xn("borderColor"),i=xn("borderRadius"),a=xn("borderSpacing"),l=xn("borderWidth"),c=xn("contrast"),u=xn("grayscale"),d=xn("hueRotate"),h=xn("invert"),p=xn("gap"),f=xn("gradientColorStops"),v=xn("gradientColorStopPositions"),m=xn("inset"),x=xn("margin"),g=xn("opacity"),b=xn("padding"),S=xn("saturate"),k=xn("scale"),T=xn("sepia"),R=xn("skew"),O=xn("space"),D=xn("translate"),I=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",sr,t],M=()=>[sr,t],$=()=>["",Yl,nu],q=()=>["auto",xp,sr],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",sr],pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[xp,sr];return{cacheSize:500,separator:":",theme:{colors:[Dg],spacing:[Yl,nu],blur:["none","",su,sr],brightness:ge(),borderColor:[e],borderRadius:["none","","full",su,sr],borderSpacing:M(),borderWidth:$(),contrast:ge(),grayscale:Z(),hueRotate:ge(),invert:Z(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[dQ,nu],inset:A(),margin:A(),opacity:ge(),padding:M(),saturate:ge(),scale:ge(),sepia:Z(),skew:ge(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",sr]}],container:["container"],columns:[{columns:[su]}],"break-after":[{"break-after":pe()}],"break-before":[{"break-before":pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),sr]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mg,sr]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",sr]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Mg,sr]}],"grid-cols":[{"grid-cols":[Dg]}],"col-start-end":[{col:["auto",{span:["full",Mg,sr]},sr]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Dg]}],"row-start-end":[{row:["auto",{span:[Mg,sr]},sr]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",sr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",sr]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",sr,t]}],"min-w":[{"min-w":[sr,t,"min","max","fit"]}],"max-w":[{"max-w":[sr,t,"none","full","min","max","fit","prose",{screen:[su]},su]}],h:[{h:[sr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[sr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[sr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[sr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",su,nu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",H_]}],"font-family":[{font:[Dg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",sr]}],"line-clamp":[{"line-clamp":["none",xp,H_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yl,sr]}],"list-image":[{"list-image":["none",sr]}],"list-style-type":[{list:["none","disc","decimal",sr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yl,nu]}],"underline-offset":[{"underline-offset":["auto",Yl,sr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",sr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",sr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),pQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gQ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:re()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Yl,sr]}],"outline-w":[{outline:[Yl,nu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Yl,nu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",su,vQ]}],"shadow-color":[{shadow:[Dg]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",su,sr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",sr]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",sr]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",sr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Mg,sr]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",sr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",sr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",sr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yl,nu,H_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_Q=nQ(bQ);function Ie(...e){return _Q(BD(e))}const SQ=dJ,n8=w.forwardRef(({className:e,...t},r)=>o.jsx(OD,{ref:r,className:Ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));n8.displayName=OD.displayName;const jQ=Am("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),s8=w.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(LD,{ref:n,className:Ie(jQ({variant:t}),e),...r}));s8.displayName=LD.displayName;const NQ=w.forwardRef(({className:e,...t},r)=>o.jsx(DD,{ref:r,className:Ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));NQ.displayName=DD.displayName;const i8=w.forwardRef(({className:e,...t},r)=>o.jsx(FD,{ref:r,className:Ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Tm,{className:"h-4 w-4"})}));i8.displayName=FD.displayName;const a8=w.forwardRef(({className:e,...t},r)=>o.jsx(ID,{ref:r,className:Ie("text-sm font-semibold",e),...t}));a8.displayName=ID.displayName;const o8=w.forwardRef(({className:e,...t},r)=>o.jsx(MD,{ref:r,className:Ie("text-sm opacity-90",e),...t}));o8.displayName=MD.displayName;function kQ(){const{toasts:e}=R0();return o.jsxs(SQ,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return o.jsxs(s8,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(a8,{children:r}),n&&o.jsx(o8,{children:n})]}),s,o.jsx(i8,{})]},t)}),o.jsx(n8,{})]})}var oT=["light","dark"],CQ="(prefers-color-scheme: dark)",EQ=w.createContext(void 0),AQ={setTheme:e=>{},themes:[]},PQ=()=>{var e;return(e=w.useContext(EQ))!=null?e:AQ};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?oT.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,m=!1,x=!0)=>{let g=a?a[v]:v,b=m?v+"|| ''":`'${g}'`,S="";return s&&x&&!m&&oT.includes(v)&&(S+=`d.style.colorScheme = '${v}';`),r==="class"?m||g?S+=`c.add(${b})`:S+="null":g&&(S+=`d[s](n,${b})`),S},f=e?`!function(){${d}${p(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${CQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var TQ=e=>{switch(e){case"success":return LQ;case"info":return MQ;case"warning":return IQ;case"error":return DQ;default:return null}},RQ=Array(12).fill(0),OQ=({visible:e,className:t})=>Re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Re.createElement("div",{className:"sonner-spinner"},RQ.map((r,n)=>Re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),LQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),IQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),MQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),DQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FQ=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$Q=()=>{let[e,t]=Re.useState(document.hidden);return Re.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Tj=1,BQ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Tj++,a=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=t instanceof Promise?t:t(),i=n!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],Re.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(qQ(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:h})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||Tj++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mi=new BQ,UQ=(e,t)=>{let r=(t==null?void 0:t.id)||Tj++;return Mi.addToast({title:e,...t,id:r}),r},qQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zQ=UQ,VQ=()=>Mi.toasts,WQ=()=>Mi.getActiveToasts(),qe=Object.assign(zQ,{success:Mi.success,info:Mi.info,warning:Mi.warning,error:Mi.error,custom:Mi.custom,message:Mi.message,promise:Mi.promise,dismiss:Mi.dismiss,loading:Mi.loading},{getHistory:VQ,getToasts:WQ});function HQ(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}HQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function y1(e){return e.label!==void 0}var GQ=3,YQ="32px",KQ="16px",lT=4e3,JQ=356,QQ=14,ZQ=20,XQ=200;function uo(...e){return e.filter(Boolean).join(" ")}function eZ(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var tZ=e=>{var t,r,n,s,i,a,l,c,u,d,h;let{invert:p,toast:f,unstyled:v,interacting:m,setHeights:x,visibleToasts:g,heights:b,index:S,toasts:k,expanded:T,removeToast:R,defaultRichColors:O,closeButton:D,style:I,cancelButtonStyle:G,actionButtonStyle:A,className:M="",descriptionClassName:$="",duration:q,position:ee,gap:re,loadingIcon:te,expandByDefault:W,classNames:Z,icons:pe,closeButtonAriaLabel:ge="Close toast",pauseWhenPageIsHidden:U}=e,[_,C]=Re.useState(null),[E,B]=Re.useState(null),[F,Q]=Re.useState(!1),[ne,le]=Re.useState(!1),[ue,fe]=Re.useState(!1),[_e,Me]=Re.useState(!1),[J,De]=Re.useState(!1),[Ge,Ye]=Re.useState(0),[ve,se]=Re.useState(0),ce=Re.useRef(f.duration||q||lT),xe=Re.useRef(null),Ne=Re.useRef(null),Oe=S===0,Ce=S+1<=g,Le=f.type,et=f.dismissible!==!1,at=f.className||"",Je=f.descriptionClassName||"",bt=Re.useMemo(()=>b.findIndex(Pt=>Pt.toastId===f.id)||0,[b,f.id]),rt=Re.useMemo(()=>{var Pt;return(Pt=f.closeButton)!=null?Pt:D},[f.closeButton,D]),Fr=Re.useMemo(()=>f.duration||q||lT,[f.duration,q]),qt=Re.useRef(0),Ot=Re.useRef(0),zt=Re.useRef(0),lr=Re.useRef(null),[_t,br]=ee.split("-"),At=Re.useMemo(()=>b.reduce((Pt,Ft,cr)=>cr>=bt?Pt:Pt+Ft.height,0),[b,bt]),Dt=$Q(),Ur=f.invert||p,Gt=Le==="loading";Ot.current=Re.useMemo(()=>bt*re+At,[bt,At]),Re.useEffect(()=>{ce.current=Fr},[Fr]),Re.useEffect(()=>{Q(!0)},[]),Re.useEffect(()=>{let Pt=Ne.current;if(Pt){let Ft=Pt.getBoundingClientRect().height;return se(Ft),x(cr=>[{toastId:f.id,height:Ft,position:f.position},...cr]),()=>x(cr=>cr.filter(Dn=>Dn.toastId!==f.id))}},[x,f.id]),Re.useLayoutEffect(()=>{if(!F)return;let Pt=Ne.current,Ft=Pt.style.height;Pt.style.height="auto";let cr=Pt.getBoundingClientRect().height;Pt.style.height=Ft,se(cr),x(Dn=>Dn.find(mt=>mt.toastId===f.id)?Dn.map(mt=>mt.toastId===f.id?{...mt,height:cr}:mt):[{toastId:f.id,height:cr,position:f.position},...Dn])},[F,f.title,f.description,x,f.id]);let pt=Re.useCallback(()=>{le(!0),Ye(Ot.current),x(Pt=>Pt.filter(Ft=>Ft.toastId!==f.id)),setTimeout(()=>{R(f)},XQ)},[f,R,x,Ot]);Re.useEffect(()=>{if(f.promise&&Le==="loading"||f.duration===1/0||f.type==="loading")return;let Pt;return T||m||U&&Dt?(()=>{if(zt.current<qt.current){let Ft=new Date().getTime()-qt.current;ce.current=ce.current-Ft}zt.current=new Date().getTime()})():ce.current!==1/0&&(qt.current=new Date().getTime(),Pt=setTimeout(()=>{var Ft;(Ft=f.onAutoClose)==null||Ft.call(f,f),pt()},ce.current)),()=>clearTimeout(Pt)},[T,m,f,Le,U,Dt,pt]),Re.useEffect(()=>{f.delete&&pt()},[pt,f.delete]);function mr(){var Pt,Ft,cr;return pe!=null&&pe.loading?Re.createElement("div",{className:uo(Z==null?void 0:Z.loader,(Pt=f==null?void 0:f.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":Le==="loading"},pe.loading):te?Re.createElement("div",{className:uo(Z==null?void 0:Z.loader,(Ft=f==null?void 0:f.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":Le==="loading"},te):Re.createElement(OQ,{className:uo(Z==null?void 0:Z.loader,(cr=f==null?void 0:f.classNames)==null?void 0:cr.loader),visible:Le==="loading"})}return Re.createElement("li",{tabIndex:0,ref:Ne,className:uo(M,at,Z==null?void 0:Z.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[Le],(r=f==null?void 0:f.classNames)==null?void 0:r[Le]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:O,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":F,"data-promise":!!f.promise,"data-swiped":J,"data-removed":ne,"data-visible":Ce,"data-y-position":_t,"data-x-position":br,"data-index":S,"data-front":Oe,"data-swiping":ue,"data-dismissible":et,"data-type":Le,"data-invert":Ur,"data-swipe-out":_e,"data-swipe-direction":E,"data-expanded":!!(T||W&&F),style:{"--index":S,"--toasts-before":S,"--z-index":k.length-S,"--offset":`${ne?Ge:Ot.current}px`,"--initial-height":W?"auto":`${ve}px`,...I,...f.style},onDragEnd:()=>{fe(!1),C(null),lr.current=null},onPointerDown:Pt=>{Gt||!et||(xe.current=new Date,Ye(Ot.current),Pt.target.setPointerCapture(Pt.pointerId),Pt.target.tagName!=="BUTTON"&&(fe(!0),lr.current={x:Pt.clientX,y:Pt.clientY}))},onPointerUp:()=>{var Pt,Ft,cr,Dn;if(_e||!et)return;lr.current=null;let mt=Number(((Pt=Ne.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cs=Number(((Ft=Ne.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ls=new Date().getTime()-((cr=xe.current)==null?void 0:cr.getTime()),Sn=_==="x"?mt:Cs,Hn=Math.abs(Sn)/Ls;if(Math.abs(Sn)>=ZQ||Hn>.11){Ye(Ot.current),(Dn=f.onDismiss)==null||Dn.call(f,f),B(_==="x"?mt>0?"right":"left":Cs>0?"down":"up"),pt(),Me(!0),De(!1);return}fe(!1),C(null)},onPointerMove:Pt=>{var Ft,cr,Dn,mt;if(!lr.current||!et||((Ft=window.getSelection())==null?void 0:Ft.toString().length)>0)return;let Cs=Pt.clientY-lr.current.y,Ls=Pt.clientX-lr.current.x,Sn=(cr=e.swipeDirections)!=null?cr:eZ(ee);!_&&(Math.abs(Ls)>1||Math.abs(Cs)>1)&&C(Math.abs(Ls)>Math.abs(Cs)?"x":"y");let Hn={x:0,y:0};_==="y"?(Sn.includes("top")||Sn.includes("bottom"))&&(Sn.includes("top")&&Cs<0||Sn.includes("bottom")&&Cs>0)&&(Hn.y=Cs):_==="x"&&(Sn.includes("left")||Sn.includes("right"))&&(Sn.includes("left")&&Ls<0||Sn.includes("right")&&Ls>0)&&(Hn.x=Ls),(Math.abs(Hn.x)>0||Math.abs(Hn.y)>0)&&De(!0),(Dn=Ne.current)==null||Dn.style.setProperty("--swipe-amount-x",`${Hn.x}px`),(mt=Ne.current)==null||mt.style.setProperty("--swipe-amount-y",`${Hn.y}px`)}},rt&&!f.jsx?Re.createElement("button",{"aria-label":ge,"data-disabled":Gt,"data-close-button":!0,onClick:Gt||!et?()=>{}:()=>{var Pt;pt(),(Pt=f.onDismiss)==null||Pt.call(f,f)},className:uo(Z==null?void 0:Z.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=pe==null?void 0:pe.close)!=null?i:FQ):null,f.jsx||w.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Re.createElement(Re.Fragment,null,Le||f.icon||f.promise?Re.createElement("div",{"data-icon":"",className:uo(Z==null?void 0:Z.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||mr():null,f.type!=="loading"?f.icon||(pe==null?void 0:pe[Le])||TQ(Le):null):null,Re.createElement("div",{"data-content":"",className:uo(Z==null?void 0:Z.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},Re.createElement("div",{"data-title":"",className:uo(Z==null?void 0:Z.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?Re.createElement("div",{"data-description":"",className:uo($,Je,Z==null?void 0:Z.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),w.isValidElement(f.cancel)?f.cancel:f.cancel&&y1(f.cancel)?Re.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||G,onClick:Pt=>{var Ft,cr;y1(f.cancel)&&et&&((cr=(Ft=f.cancel).onClick)==null||cr.call(Ft,Pt),pt())},className:uo(Z==null?void 0:Z.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,w.isValidElement(f.action)?f.action:f.action&&y1(f.action)?Re.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:Pt=>{var Ft,cr;y1(f.action)&&((cr=(Ft=f.action).onClick)==null||cr.call(Ft,Pt),!Pt.defaultPrevented&&pt())},className:uo(Z==null?void 0:Z.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function cT(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function rZ(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?KQ:YQ;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var nZ=w.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:v=GQ,toastOptions:m,dir:x=cT(),gap:g=QQ,loadingIcon:b,icons:S,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:T}=e,[R,O]=Re.useState([]),D=Re.useMemo(()=>Array.from(new Set([n].concat(R.filter(U=>U.position).map(U=>U.position)))),[R,n]),[I,G]=Re.useState([]),[A,M]=Re.useState(!1),[$,q]=Re.useState(!1),[ee,re]=Re.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=Re.useRef(null),W=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=Re.useRef(null),pe=Re.useRef(!1),ge=Re.useCallback(U=>{O(_=>{var C;return(C=_.find(E=>E.id===U.id))!=null&&C.delete||Mi.dismiss(U.id),_.filter(({id:E})=>E!==U.id)})},[]);return Re.useEffect(()=>Mi.subscribe(U=>{if(U.dismiss){O(_=>_.map(C=>C.id===U.id?{...C,delete:!0}:C));return}setTimeout(()=>{uD.flushSync(()=>{O(_=>{let C=_.findIndex(E=>E.id===U.id);return C!==-1?[..._.slice(0,C),{..._[C],...U},..._.slice(C+1)]:[U,..._]})})})}),[]),Re.useEffect(()=>{if(d!=="system"){re(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:_})=>{re(_?"dark":"light")})}catch{U.addListener(({matches:C})=>{try{re(C?"dark":"light")}catch(E){console.error(E)}})}},[d]),Re.useEffect(()=>{R.length<=1&&M(!1)},[R]),Re.useEffect(()=>{let U=_=>{var C,E;s.every(B=>_[B]||_.code===B)&&(M(!0),(C=te.current)==null||C.focus()),_.code==="Escape"&&(document.activeElement===te.current||(E=te.current)!=null&&E.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[s]),Re.useEffect(()=>{if(te.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,pe.current=!1)}},[te.current]),Re.createElement("section",{ref:t,"aria-label":`${k} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((U,_)=>{var C;let[E,B]=U.split("-");return R.length?Re.createElement("ol",{key:U,dir:x==="auto"?cT():x,tabIndex:-1,ref:te,className:l,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":E,"data-lifted":A&&R.length>1&&!i,"data-x-position":B,style:{"--front-toast-height":`${((C=I[0])==null?void 0:C.height)||0}px`,"--width":`${JQ}px`,"--gap":`${g}px`,...f,...rZ(c,u)},onBlur:F=>{pe.current&&!F.currentTarget.contains(F.relatedTarget)&&(pe.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||pe.current||(pe.current=!0,Z.current=F.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{$||M(!1)},onDragEnd:()=>M(!1),onPointerDown:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},R.filter(F=>!F.position&&_===0||F.position===U).map((F,Q)=>{var ne,le;return Re.createElement(tZ,{key:F.id,icons:S,index:Q,toast:F,defaultRichColors:h,duration:(ne=m==null?void 0:m.duration)!=null?ne:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:v,closeButton:(le=m==null?void 0:m.closeButton)!=null?le:a,interacting:$,position:U,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ge,toasts:R.filter(ue=>ue.position==F.position),heights:I.filter(ue=>ue.position==F.position),setHeights:G,expandByDefault:i,gap:g,loadingIcon:b,expanded:A,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const sZ=({...e})=>{const{theme:t="system"}=PQ();return o.jsx(nZ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var iZ=Ik[" useId ".trim().toString()]||(()=>{}),aZ=0;function li(e){const[t,r]=w.useState(iZ());return Zr(()=>{r(n=>n??String(aZ++))},[e]),t?`radix-${t}`:""}const oZ=["top","right","bottom","left"],td=Math.min,la=Math.max,gw=Math.round,x1=Math.floor,yl=e=>({x:e,y:e}),lZ={left:"right",right:"left",bottom:"top",top:"bottom"},cZ={start:"end",end:"start"};function Rj(e,t,r){return la(e,td(t,r))}function Pc(e,t){return typeof e=="function"?e(t):e}function Tc(e){return e.split("-")[0]}function Om(e){return e.split("-")[1]}function UC(e){return e==="x"?"y":"x"}function qC(e){return e==="y"?"height":"width"}const uZ=new Set(["top","bottom"]);function hl(e){return uZ.has(Tc(e))?"y":"x"}function zC(e){return UC(hl(e))}function dZ(e,t,r){r===void 0&&(r=!1);const n=Om(e),s=zC(e),i=qC(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=vw(a)),[a,vw(a)]}function hZ(e){const t=vw(e);return[Oj(e),t,Oj(t)]}function Oj(e){return e.replace(/start|end/g,t=>cZ[t])}const uT=["left","right"],dT=["right","left"],fZ=["top","bottom"],pZ=["bottom","top"];function mZ(e,t,r){switch(e){case"top":case"bottom":return r?t?dT:uT:t?uT:dT;case"left":case"right":return t?fZ:pZ;default:return[]}}function gZ(e,t,r,n){const s=Om(e);let i=mZ(Tc(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(Oj)))),i}function vw(e){return e.replace(/left|right|bottom|top/g,t=>lZ[t])}function vZ(e){return{top:0,right:0,bottom:0,left:0,...e}}function l8(e){return typeof e!="number"?vZ(e):{top:e,right:e,bottom:e,left:e}}function yw(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function hT(e,t,r){let{reference:n,floating:s}=e;const i=hl(t),a=zC(t),l=qC(a),c=Tc(t),u=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Om(t)){case"start":f[a]-=p*(r&&u?-1:1);break;case"end":f[a]+=p*(r&&u?-1:1);break}return f}const yZ=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=hT(u,n,c),p=n,f={},v=0;for(let m=0;m<l.length;m++){const{name:x,fn:g}=l[m],{x:b,y:S,data:k,reset:T}=await g({x:d,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:f,rects:u,platform:a,elements:{reference:e,floating:t}});d=b??d,h=S??h,f={...f,[x]:{...f[x],...k}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(u=T.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):T.rects),{x:d,y:h}=hT(u,p,c)),m=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:f}};async function Jv(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Pc(t,e),v=l8(f),x=l[p?h==="floating"?"reference":"floating":h],g=yw(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},T=yw(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:S,strategy:c}):b);return{top:(g.top-T.top+v.top)/k.y,bottom:(T.bottom-g.bottom+v.bottom)/k.y,left:(g.left-T.left+v.left)/k.x,right:(T.right-g.right+v.right)/k.x}}const xZ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Pc(e,t)||{};if(u==null)return{};const h=l8(d),p={x:r,y:n},f=zC(s),v=qC(f),m=await a.getDimensions(u),x=f==="y",g=x?"top":"left",b=x?"bottom":"right",S=x?"clientHeight":"clientWidth",k=i.reference[v]+i.reference[f]-p[f]-i.floating[v],T=p[f]-i.reference[f],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let O=R?R[S]:0;(!O||!await(a.isElement==null?void 0:a.isElement(R)))&&(O=l.floating[S]||i.floating[v]);const D=k/2-T/2,I=O/2-m[v]/2-1,G=td(h[g],I),A=td(h[b],I),M=G,$=O-m[v]-A,q=O/2-m[v]/2+D,ee=Rj(M,q,$),re=!c.arrow&&Om(s)!=null&&q!==ee&&i.reference[v]/2-(q<M?G:A)-m[v]/2<0,te=re?q<M?q-M:q-$:0;return{[f]:p[f]+te,data:{[f]:ee,centerOffset:q-ee-te,...re&&{alignmentOffset:te}},reset:re}}}),wZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...x}=Pc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Tc(s),b=hl(l),S=Tc(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=p||(S||!m?[vw(l)]:hZ(l)),R=v!=="none";!p&&R&&T.push(...gZ(l,m,v,k));const O=[l,...T],D=await Jv(t,x),I=[];let G=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&I.push(D[g]),h){const q=dZ(s,a,k);I.push(D[q[0]],D[q[1]])}if(G=[...G,{placement:s,overflows:I}],!I.every(q=>q<=0)){var A,M;const q=(((A=i.flip)==null?void 0:A.index)||0)+1,ee=O[q];if(ee&&(!(h==="alignment"?b!==hl(ee):!1)||G.every(W=>W.overflows[0]>0&&hl(W.placement)===b)))return{data:{index:q,overflows:G},reset:{placement:ee}};let re=(M=G.filter(te=>te.overflows[0]<=0).sort((te,W)=>te.overflows[1]-W.overflows[1])[0])==null?void 0:M.placement;if(!re)switch(f){case"bestFit":{var $;const te=($=G.filter(W=>{if(R){const Z=hl(W.placement);return Z===b||Z==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(Z=>Z>0).reduce((Z,pe)=>Z+pe,0)]).sort((W,Z)=>W[1]-Z[1])[0])==null?void 0:$[0];te&&(re=te);break}case"initialPlacement":re=l;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function fT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function pT(e){return oZ.some(t=>e[t]>=0)}const bZ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Pc(e,t);switch(n){case"referenceHidden":{const i=await Jv(t,{...s,elementContext:"reference"}),a=fT(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:pT(a)}}}case"escaped":{const i=await Jv(t,{...s,altBoundary:!0}),a=fT(i,r.floating);return{data:{escapedOffsets:a,escaped:pT(a)}}}default:return{}}}}},c8=new Set(["left","top"]);async function _Z(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Tc(r),l=Om(r),c=hl(r)==="y",u=c8.has(a)?-1:1,d=i&&c?-1:1,h=Pc(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(f=l==="end"?v*-1:v),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const SZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await _Z(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},jZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:g,y:b}=x;return{x:g,y:b}}},...c}=Pc(e,t),u={x:r,y:n},d=await Jv(t,c),h=hl(Tc(s)),p=UC(h);let f=u[p],v=u[h];if(i){const x=p==="y"?"top":"left",g=p==="y"?"bottom":"right",b=f+d[x],S=f-d[g];f=Rj(b,f,S)}if(a){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",b=v+d[x],S=v-d[g];v=Rj(b,v,S)}const m=l.fn({...t,[p]:f,[h]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[h]:a}}}}}},NZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Pc(e,t),d={x:r,y:n},h=hl(s),p=UC(h);let f=d[p],v=d[h];const m=Pc(l,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const S=p==="y"?"height":"width",k=i.reference[p]-i.floating[S]+x.mainAxis,T=i.reference[p]+i.reference[S]-x.mainAxis;f<k?f=k:f>T&&(f=T)}if(u){var g,b;const S=p==="y"?"width":"height",k=c8.has(Tc(s)),T=i.reference[h]-i.floating[S]+(k&&((g=a.offset)==null?void 0:g[h])||0)+(k?0:x.crossAxis),R=i.reference[h]+i.reference[S]+(k?0:((b=a.offset)==null?void 0:b[h])||0)-(k?x.crossAxis:0);v<T?v=T:v>R&&(v=R)}return{[p]:f,[h]:v}}}},kZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Pc(e,t),d=await Jv(t,u),h=Tc(s),p=Om(s),f=hl(s)==="y",{width:v,height:m}=i.floating;let x,g;h==="top"||h==="bottom"?(x=h,g=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,x=p==="end"?"top":"bottom");const b=m-d.top-d.bottom,S=v-d.left-d.right,k=td(m-d[x],b),T=td(v-d[g],S),R=!t.middlewareData.shift;let O=k,D=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=b),R&&!p){const G=la(d.left,0),A=la(d.right,0),M=la(d.top,0),$=la(d.bottom,0);f?D=v-2*(G!==0||A!==0?G+A:la(d.left,d.right)):O=m-2*(M!==0||$!==0?M+$:la(d.top,d.bottom))}await c({...t,availableWidth:D,availableHeight:O});const I=await a.getDimensions(l.floating);return v!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function Tb(){return typeof window<"u"}function Lm(e){return u8(e)?(e.nodeName||"").toLowerCase():"#document"}function ga(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function El(e){var t;return(t=(u8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function u8(e){return Tb()?e instanceof Node||e instanceof ga(e).Node:!1}function Oo(e){return Tb()?e instanceof Element||e instanceof ga(e).Element:!1}function jl(e){return Tb()?e instanceof HTMLElement||e instanceof ga(e).HTMLElement:!1}function mT(e){return!Tb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ga(e).ShadowRoot}const CZ=new Set(["inline","contents"]);function F0(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Lo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!CZ.has(s)}const EZ=new Set(["table","td","th"]);function AZ(e){return EZ.has(Lm(e))}const PZ=[":popover-open",":modal"];function Rb(e){return PZ.some(t=>{try{return e.matches(t)}catch{return!1}})}const TZ=["transform","translate","scale","rotate","perspective"],RZ=["transform","translate","scale","rotate","perspective","filter"],OZ=["paint","layout","strict","content"];function VC(e){const t=WC(),r=Oo(e)?Lo(e):e;return TZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||RZ.some(n=>(r.willChange||"").includes(n))||OZ.some(n=>(r.contain||"").includes(n))}function LZ(e){let t=rd(e);for(;jl(t)&&!rm(t);){if(VC(t))return t;if(Rb(t))return null;t=rd(t)}return null}function WC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IZ=new Set(["html","body","#document"]);function rm(e){return IZ.has(Lm(e))}function Lo(e){return ga(e).getComputedStyle(e)}function Ob(e){return Oo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rd(e){if(Lm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mT(e)&&e.host||El(e);return mT(t)?t.host:t}function d8(e){const t=rd(e);return rm(t)?e.ownerDocument?e.ownerDocument.body:e.body:jl(t)&&F0(t)?t:d8(t)}function Qv(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=d8(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=ga(s);if(i){const l=Lj(a);return t.concat(a,a.visualViewport||[],F0(s)?s:[],l&&r?Qv(l):[])}return t.concat(s,Qv(s,[],r))}function Lj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function h8(e){const t=Lo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=jl(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=gw(r)!==i||gw(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function HC(e){return Oo(e)?e:e.contextElement}function wp(e){const t=HC(e);if(!jl(t))return yl(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=h8(t);let a=(i?gw(r.width):r.width)/n,l=(i?gw(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const MZ=yl(0);function f8(e){const t=ga(e);return!WC()||!t.visualViewport?MZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DZ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ga(e)?!1:t}function Ah(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=HC(e);let a=yl(1);t&&(n?Oo(n)&&(a=wp(n)):a=wp(e));const l=DZ(i,r,n)?f8(i):yl(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const p=ga(i),f=n&&Oo(n)?ga(n):n;let v=p,m=Lj(v);for(;m&&n&&f!==v;){const x=wp(m),g=m.getBoundingClientRect(),b=Lo(m),S=g.left+(m.clientLeft+parseFloat(b.paddingLeft))*x.x,k=g.top+(m.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=S,u+=k,v=ga(m),m=Lj(v)}}return yw({width:d,height:h,x:c,y:u})}function GC(e,t){const r=Ob(e).scrollLeft;return t?t.left+r:Ah(El(e)).left+r}function p8(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:GC(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function FZ(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=El(n),l=t?Rb(t.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=yl(1);const d=yl(0),h=jl(n);if((h||!h&&!i)&&((Lm(n)!=="body"||F0(a))&&(c=Ob(n)),jl(n))){const f=Ah(n);u=wp(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=a&&!h&&!i?p8(a,c,!0):yl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function $Z(e){return Array.from(e.getClientRects())}function BZ(e){const t=El(e),r=Ob(e),n=e.ownerDocument.body,s=la(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=la(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+GC(e);const l=-r.scrollTop;return Lo(n).direction==="rtl"&&(a+=la(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:l}}function UZ(e,t){const r=ga(e),n=El(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=WC();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const qZ=new Set(["absolute","fixed"]);function zZ(e,t){const r=Ah(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=jl(e)?wp(e):yl(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:l,x:c,y:u}}function gT(e,t,r){let n;if(t==="viewport")n=UZ(e,r);else if(t==="document")n=BZ(El(e));else if(Oo(t))n=zZ(t,r);else{const s=f8(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return yw(n)}function m8(e,t){const r=rd(e);return r===t||!Oo(r)||rm(r)?!1:Lo(r).position==="fixed"||m8(r,t)}function VZ(e,t){const r=t.get(e);if(r)return r;let n=Qv(e,[],!1).filter(l=>Oo(l)&&Lm(l)!=="body"),s=null;const i=Lo(e).position==="fixed";let a=i?rd(e):e;for(;Oo(a)&&!rm(a);){const l=Lo(a),c=VC(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&qZ.has(s.position)||F0(a)&&!c&&m8(e,a))?n=n.filter(d=>d!==a):s=l,a=rd(a)}return t.set(e,n),n}function WZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?Rb(t)?[]:VZ(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const h=gT(t,d,s);return u.top=la(h.top,u.top),u.right=td(h.right,u.right),u.bottom=td(h.bottom,u.bottom),u.left=la(h.left,u.left),u},gT(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function HZ(e){const{width:t,height:r}=h8(e);return{width:t,height:r}}function GZ(e,t,r){const n=jl(t),s=El(t),i=r==="fixed",a=Ah(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=yl(0);function u(){c.x=GC(s)}if(n||!n&&!i)if((Lm(t)!=="body"||F0(s))&&(l=Ob(t)),n){const f=Ah(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?p8(s,l):yl(0),h=a.left+l.scrollLeft-c.x-d.x,p=a.top+l.scrollTop-c.y-d.y;return{x:h,y:p,width:a.width,height:a.height}}function G_(e){return Lo(e).position==="static"}function vT(e,t){if(!jl(e)||Lo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return El(e)===r&&(r=r.ownerDocument.body),r}function g8(e,t){const r=ga(e);if(Rb(e))return r;if(!jl(e)){let s=rd(e);for(;s&&!rm(s);){if(Oo(s)&&!G_(s))return s;s=rd(s)}return r}let n=vT(e,t);for(;n&&AZ(n)&&G_(n);)n=vT(n,t);return n&&rm(n)&&G_(n)&&!VC(n)?r:n||LZ(e)||r}const YZ=async function(e){const t=this.getOffsetParent||g8,r=this.getDimensions,n=await r(e.floating);return{reference:GZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function KZ(e){return Lo(e).direction==="rtl"}const JZ={convertOffsetParentRelativeRectToViewportRelativeRect:FZ,getDocumentElement:El,getClippingRect:WZ,getOffsetParent:g8,getElementRects:YZ,getClientRects:$Z,getDimensions:HZ,getScale:wp,isElement:Oo,isRTL:KZ};function v8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function QZ(e,t){let r=null,n;const s=El(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(l||t(),!p||!f)return;const v=x1(h),m=x1(s.clientWidth-(d+p)),x=x1(s.clientHeight-(h+f)),g=x1(d),S={rootMargin:-v+"px "+-m+"px "+-x+"px "+-g+"px",threshold:la(0,td(1,c))||1};let k=!0;function T(R){const O=R[0].intersectionRatio;if(O!==c){if(!k)return a();O?a(!1,O):n=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!v8(u,e.getBoundingClientRect())&&a(),k=!1}try{r=new IntersectionObserver(T,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(T,S)}r.observe(e)}return a(!0),i}function y8(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=HC(e),d=s||i?[...u?Qv(u):[],...Qv(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const h=u&&l?QZ(u,r):null;let p=-1,f=null;a&&(f=new ResizeObserver(g=>{let[b]=g;b&&b.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let v,m=c?Ah(e):null;c&&x();function x(){const g=Ah(e);m&&!v8(m,g)&&r(),m=g,v=requestAnimationFrame(x)}return r(),()=>{var g;d.forEach(b=>{s&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),h==null||h(),(g=f)==null||g.disconnect(),f=null,c&&cancelAnimationFrame(v)}}const ZZ=SZ,XZ=jZ,eX=wZ,tX=kZ,rX=bZ,yT=xZ,nX=NZ,sX=(e,t,r)=>{const n=new Map,s={platform:JZ,...r},i={...s.platform,_c:n};return yZ(e,t,{...s,platform:i})};var iX=typeof document<"u",aX=function(){},xx=iX?w.useLayoutEffect:aX;function xw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!xw(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!xw(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function x8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xT(e,t){const r=x8(e);return Math.round(t*r)/r}function Y_(e){const t=w.useRef(e);return xx(()=>{t.current=e}),t}function w8(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=w.useState(n);xw(p,n)||f(n);const[v,m]=w.useState(null),[x,g]=w.useState(null),b=w.useCallback(W=>{W!==R.current&&(R.current=W,m(W))},[]),S=w.useCallback(W=>{W!==O.current&&(O.current=W,g(W))},[]),k=i||v,T=a||x,R=w.useRef(null),O=w.useRef(null),D=w.useRef(d),I=c!=null,G=Y_(c),A=Y_(s),M=Y_(u),$=w.useCallback(()=>{if(!R.current||!O.current)return;const W={placement:t,strategy:r,middleware:p};A.current&&(W.platform=A.current),sX(R.current,O.current,W).then(Z=>{const pe={...Z,isPositioned:M.current!==!1};q.current&&!xw(D.current,pe)&&(D.current=pe,Jh.flushSync(()=>{h(pe)}))})},[p,t,r,A,M]);xx(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(W=>({...W,isPositioned:!1})))},[u]);const q=w.useRef(!1);xx(()=>(q.current=!0,()=>{q.current=!1}),[]),xx(()=>{if(k&&(R.current=k),T&&(O.current=T),k&&T){if(G.current)return G.current(k,T,$);$()}},[k,T,$,G,I]);const ee=w.useMemo(()=>({reference:R,floating:O,setReference:b,setFloating:S}),[b,S]),re=w.useMemo(()=>({reference:k,floating:T}),[k,T]),te=w.useMemo(()=>{const W={position:r,left:0,top:0};if(!re.floating)return W;const Z=xT(re.floating,d.x),pe=xT(re.floating,d.y);return l?{...W,transform:"translate("+Z+"px, "+pe+"px)",...x8(re.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:pe}},[r,l,re.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:$,refs:ee,elements:re,floatingStyles:te}),[d,$,ee,re,te])}const oX=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?yT({element:n.current,padding:s}).fn(r):{}:n?yT({element:n,padding:s}).fn(r):{}}}},b8=(e,t)=>({...ZZ(e),options:[e,t]}),_8=(e,t)=>({...XZ(e),options:[e,t]}),S8=(e,t)=>({...nX(e),options:[e,t]}),j8=(e,t)=>({...eX(e),options:[e,t]}),N8=(e,t)=>({...tX(e),options:[e,t]}),k8=(e,t)=>({...rX(e),options:[e,t]}),C8=(e,t)=>({...oX(e),options:[e,t]});var lX="Arrow",E8=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return o.jsx(Xe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});E8.displayName=lX;var A8=E8;function Lb(e){const[t,r]=w.useState(void 0);return Zr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var YC="Popper",[P8,Im]=is(YC),[cX,T8]=P8(YC),R8=e=>{const{__scopePopper:t,children:r}=e,[n,s]=w.useState(null);return o.jsx(cX,{scope:t,anchor:n,onAnchorChange:s,children:r})};R8.displayName=YC;var O8="PopperAnchor",L8=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=T8(O8,r),a=w.useRef(null),l=wt(t,a);return w.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(Xe.div,{...s,ref:l})});L8.displayName=O8;var KC="PopperContent",[uX,dX]=P8(KC),I8=w.forwardRef((e,t)=>{var F,Q,ne,le,ue,fe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...m}=e,x=T8(KC,r),[g,b]=w.useState(null),S=wt(t,_e=>b(_e)),[k,T]=w.useState(null),R=Lb(k),O=(R==null?void 0:R.width)??0,D=(R==null?void 0:R.height)??0,I=n+(i!=="center"?"-"+i:""),G=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],M=A.length>0,$={padding:G,boundary:A.filter(fX),altBoundary:M},{refs:q,floatingStyles:ee,placement:re,isPositioned:te,middlewareData:W}=w8({strategy:"fixed",placement:I,whileElementsMounted:(..._e)=>y8(..._e,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[b8({mainAxis:s+D,alignmentAxis:a}),c&&_8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?S8():void 0,...$}),c&&j8({...$}),N8({...$,apply:({elements:_e,rects:Me,availableWidth:J,availableHeight:De})=>{const{width:Ge,height:Ye}=Me.reference,ve=_e.floating.style;ve.setProperty("--radix-popper-available-width",`${J}px`),ve.setProperty("--radix-popper-available-height",`${De}px`),ve.setProperty("--radix-popper-anchor-width",`${Ge}px`),ve.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),k&&C8({element:k,padding:l}),pX({arrowWidth:O,arrowHeight:D}),p&&k8({strategy:"referenceHidden",...$})]}),[Z,pe]=F8(re),ge=Kr(v);Zr(()=>{te&&(ge==null||ge())},[te,ge]);const U=(F=W.arrow)==null?void 0:F.x,_=(Q=W.arrow)==null?void 0:Q.y,C=((ne=W.arrow)==null?void 0:ne.centerOffset)!==0,[E,B]=w.useState();return Zr(()=>{g&&B(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:te?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(le=W.transformOrigin)==null?void 0:le.x,(ue=W.transformOrigin)==null?void 0:ue.y].join(" "),...((fe=W.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(uX,{scope:r,placedSide:Z,onArrowChange:T,arrowX:U,arrowY:_,shouldHideArrow:C,children:o.jsx(Xe.div,{"data-side":Z,"data-align":pe,...m,ref:S,style:{...m.style,animation:te?void 0:"none"}})})})});I8.displayName=KC;var M8="PopperArrow",hX={top:"bottom",right:"left",bottom:"top",left:"right"},D8=w.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=dX(M8,n),a=hX[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(A8,{...s,ref:r,style:{...s.style,display:"block"}})})});D8.displayName=M8;function fX(e){return e!==null}var pX=e=>({name:"transformOrigin",options:e,fn(t){var x,g,b;const{placement:r,rects:n,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=F8(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,f=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=a?h:`${p}px`,m=`${-c}px`):u==="top"?(v=a?h:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=a?h:`${f}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=a?h:`${f}px`),{data:{x:v,y:m}}}});function F8(e){const[t,r="center"]=e.split("-");return[t,r]}var $8=R8,Ib=L8,JC=I8,QC=D8,[Mb,E2e]=is("Tooltip",[Im]),ZC=Im(),B8="TooltipProvider",mX=700,wT="tooltip.open",[gX,U8]=Mb(B8),q8=e=>{const{__scopeTooltip:t,delayDuration:r=mX,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,a=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(gX,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};q8.displayName=B8;var z8="Tooltip",[A2e,Db]=Mb(z8),Ij="TooltipTrigger",vX=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Db(Ij,r),i=U8(Ij,r),a=ZC(r),l=w.useRef(null),c=wt(t,l,s.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),h=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(Ib,{asChild:!0,...a,children:o.jsx(Xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:dt(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:dt(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:dt(e.onBlur,s.onClose),onClick:dt(e.onClick,s.onClose)})})});vX.displayName=Ij;var yX="TooltipPortal",[P2e,xX]=Mb(yX,{forceMount:void 0}),nm="TooltipContent",V8=w.forwardRef((e,t)=>{const r=xX(nm,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,a=Db(nm,e.__scopeTooltip);return o.jsx(Sa,{present:n||a.open,children:a.disableHoverableContent?o.jsx(W8,{side:s,...i,ref:t}):o.jsx(wX,{side:s,...i,ref:t})})}),wX=w.forwardRef((e,t)=>{const r=Db(nm,e.__scopeTooltip),n=U8(nm,e.__scopeTooltip),s=w.useRef(null),i=wt(t,s),[a,l]=w.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,p=w.useCallback(()=>{l(null),h(!1)},[h]),f=w.useCallback((v,m)=>{const x=v.currentTarget,g={x:v.clientX,y:v.clientY},b=NX(g,x.getBoundingClientRect()),S=kX(g,b),k=CX(m.getBoundingClientRect()),T=AX([...S,...k]);l(T),h(!0)},[h]);return w.useEffect(()=>()=>p(),[p]),w.useEffect(()=>{if(c&&d){const v=x=>f(x,d),m=x=>f(x,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[c,d,f,p]),w.useEffect(()=>{if(a){const v=m=>{const x=m.target,g={x:m.clientX,y:m.clientY},b=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),S=!EX(g,a);b?p():S&&(p(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,p]),o.jsx(W8,{...e,ref:i})}),[bX,_X]=Mb(z8,{isInside:!1}),SX=mD("TooltipContent"),W8=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Db(nm,r),u=ZC(r),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(wT,d),()=>document.removeEventListener(wT,d)),[d]),w.useEffect(()=>{if(c.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(Em,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(JC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(SX,{children:n}),o.jsx(bX,{scope:r,isInside:!0,children:o.jsx(GK,{id:c.contentId,role:"tooltip",children:s||n})})]})})});V8.displayName=nm;var H8="TooltipArrow",jX=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=ZC(r);return _X(H8,r).isInside?null:o.jsx(QC,{...s,...n,ref:t})});jX.displayName=H8;function NX(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function kX(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function CX(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function EX(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function AX(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),PX(t)}function PX(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var TX=q8,G8=V8;const RX=TX,OX=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(G8,{ref:n,sideOffset:t,className:Ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));OX.displayName=G8.displayName;var Mm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ph=typeof window>"u"||"Deno"in globalThis;function wi(){}function LX(e,t){return typeof e=="function"?e(t):e}function Mj(e){return typeof e=="number"&&e>=0&&e!==1/0}function Y8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hu(e,t){return typeof e=="function"?e(t):e}function Ia(e,t){return typeof e=="function"?e(t):e}function bT(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==XC(a,t.options))return!1}else if(!Zv(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function _T(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Th(t.options.mutationKey)!==Th(i))return!1}else if(!Zv(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function XC(e,t){return((t==null?void 0:t.queryKeyHashFn)||Th)(e)}function Th(e){return JSON.stringify(e,(t,r)=>Dj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Zv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Zv(e[r],t[r])):!1}function K8(e,t){if(e===t)return e;const r=ST(e)&&ST(t);if(r||Dj(e)&&Dj(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<a;d++){const h=r?d:i[d];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=K8(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return s===a&&u===s?e:l}return t}function ww(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ST(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Dj(e){if(!jT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jT(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jT(e){return Object.prototype.toString.call(e)==="[object Object]"}function IX(e){return new Promise(t=>{setTimeout(t,e)})}function Fj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?K8(e,t):t}function MX(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function DX(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var eE=Symbol();function J8(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===eE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Q8(e,t){return typeof e=="function"?e(...t):!!e}var ah,Su,Ip,UI,FX=(UI=class extends Mm{constructor(){super();Rt(this,ah);Rt(this,Su);Rt(this,Ip);st(this,Ip,t=>{if(!Ph&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){he(this,Su)||this.setEventListener(he(this,Ip))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,Su))==null||t.call(this),st(this,Su,void 0))}setEventListener(t){var r;st(this,Ip,t),(r=he(this,Su))==null||r.call(this),st(this,Su,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){he(this,ah)!==t&&(st(this,ah,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof he(this,ah)=="boolean"?he(this,ah):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ah=new WeakMap,Su=new WeakMap,Ip=new WeakMap,UI),tE=new FX,Mp,ju,Dp,qI,$X=(qI=class extends Mm{constructor(){super();Rt(this,Mp,!0);Rt(this,ju);Rt(this,Dp);st(this,Dp,t=>{if(!Ph&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){he(this,ju)||this.setEventListener(he(this,Dp))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,ju))==null||t.call(this),st(this,ju,void 0))}setEventListener(t){var r;st(this,Dp,t),(r=he(this,ju))==null||r.call(this),st(this,ju,t(this.setOnline.bind(this)))}setOnline(t){he(this,Mp)!==t&&(st(this,Mp,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return he(this,Mp)}},Mp=new WeakMap,ju=new WeakMap,Dp=new WeakMap,qI),bw=new $X;function $j(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function BX(e){return Math.min(1e3*2**e,3e4)}function Z8(e){return(e??"online")==="online"?bw.isOnline():!0}var X8=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function K_(e){return e instanceof X8}function eF(e){let t=!1,r=0,n=!1,s;const i=$j(),a=m=>{var x;n||(p(new X8(m)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>tE.isFocused()&&(e.networkMode==="always"||bw.isOnline())&&e.canRun(),d=()=>Z8(e.networkMode)&&e.canRun(),h=m=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,m),s==null||s(),i.resolve(m))},p=m=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,m),s==null||s(),i.reject(m))},f=()=>new Promise(m=>{var x;s=g=>{(n||u())&&m(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),v=()=>{if(n)return;let m;const x=r===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(h).catch(g=>{var R;if(n)return;const b=e.retry??(Ph?0:3),S=e.retryDelay??BX,k=typeof S=="function"?S(r,g):S,T=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,g);if(t||!T){p(g);return}r++,(R=e.onFail)==null||R.call(e,r,g),IX(k).then(()=>u()?void 0:f()).then(()=>{t?p(g):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():f().then(v),i)}}var UX=e=>setTimeout(e,0);function qX(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=UX;const i=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var js=qX(),oh,zI,tF=(zI=class{constructor(){Rt(this,oh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mj(this.gcTime)&&st(this,oh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ph?1/0:5*60*1e3))}clearGcTimeout(){he(this,oh)&&(clearTimeout(he(this,oh)),st(this,oh,void 0))}},oh=new WeakMap,zI),Fp,lh,La,ch,si,S0,uh,xo,Xl,VI,zX=(VI=class extends tF{constructor(t){super();Rt(this,xo);Rt(this,Fp);Rt(this,lh);Rt(this,La);Rt(this,ch);Rt(this,si);Rt(this,S0);Rt(this,uh);st(this,uh,!1),st(this,S0,t.defaultOptions),this.setOptions(t.options),this.observers=[],st(this,ch,t.client),st(this,La,he(this,ch).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,st(this,Fp,VX(this.options)),this.state=t.state??he(this,Fp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=he(this,si))==null?void 0:t.promise}setOptions(t){this.options={...he(this,S0),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,La).remove(this)}setData(t,r){const n=Fj(this.state.data,t,this.options);return ir(this,xo,Xl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ir(this,xo,Xl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=he(this,si))==null?void 0:n.promise;return(s=he(this,si))==null||s.cancel(t),r?r.then(wi).catch(wi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,Fp))}isActive(){return this.observers.some(t=>Ia(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Y8(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=he(this,si))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=he(this,si))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),he(this,La).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(he(this,si)&&(he(this,uh)?he(this,si).cancel({revert:!0}):he(this,si).cancelRetry()),this.scheduleGc()),he(this,La).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ir(this,xo,Xl).call(this,{type:"invalidate"})}fetch(t,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(he(this,si))return he(this,si).continueRetry(),he(this,si).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(st(this,uh,!0),n.signal)})},i=()=>{const p=J8(this.options,r),v=(()=>{const m={client:he(this,ch),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return st(this,uh,!1),this.options.persister?this.options.persister(p,v,this):p(v)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:he(this,ch),state:this.state,fetchFn:i};return s(p),p})();(u=this.options.behavior)==null||u.onFetch(l,this),st(this,lh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ir(this,xo,Xl).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=p=>{var f,v,m,x;K_(p)&&p.silent||ir(this,xo,Xl).call(this,{type:"error",error:p}),K_(p)||((v=(f=he(this,La).config).onError)==null||v.call(f,p,this),(x=(m=he(this,La).config).onSettled)==null||x.call(m,this.state.data,p,this)),this.scheduleGc()};return st(this,si,eF({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var f,v,m,x;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(g){c(g);return}(v=(f=he(this,La).config).onSuccess)==null||v.call(f,p,this),(x=(m=he(this,La).config).onSettled)==null||x.call(m,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,f)=>{ir(this,xo,Xl).call(this,{type:"failed",failureCount:p,error:f})},onPause:()=>{ir(this,xo,Xl).call(this,{type:"pause"})},onContinue:()=>{ir(this,xo,Xl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),he(this,si).start()}},Fp=new WeakMap,lh=new WeakMap,La=new WeakMap,ch=new WeakMap,si=new WeakMap,S0=new WeakMap,uh=new WeakMap,xo=new WeakSet,Xl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...rF(n.data,this.options),fetchMeta:t.meta??null};case"success":return st(this,lh,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return K_(s)&&s.revert&&he(this,lh)?{...he(this,lh),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),js.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),he(this,La).notify({query:this,type:"updated",action:t})})},VI);function rF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Z8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function VX(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var il,WI,WX=(WI=class extends Mm{constructor(t={}){super();Rt(this,il);this.config=t,st(this,il,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??XC(s,r);let a=this.get(i);return a||(a=new zX({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){he(this,il).has(t.queryHash)||(he(this,il).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=he(this,il).get(t.queryHash);r&&(t.destroy(),r===t&&he(this,il).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){js.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return he(this,il).get(t)}getAll(){return[...he(this,il).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>bT(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>bT(t,n)):r}notify(t){js.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){js.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){js.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},il=new WeakMap,WI),al,vi,dh,ol,cu,HI,HX=(HI=class extends tF{constructor(t){super();Rt(this,ol);Rt(this,al);Rt(this,vi);Rt(this,dh);this.mutationId=t.mutationId,st(this,vi,t.mutationCache),st(this,al,[]),this.state=t.state||nF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){he(this,al).includes(t)||(he(this,al).push(t),this.clearGcTimeout(),he(this,vi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){st(this,al,he(this,al).filter(r=>r!==t)),this.scheduleGc(),he(this,vi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){he(this,al).length||(this.state.status==="pending"?this.scheduleGc():he(this,vi).remove(this))}continue(){var t;return((t=he(this,dh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,l,c,u,d,h,p,f,v,m,x,g,b,S,k,T,R,O,D;const r=()=>{ir(this,ol,cu).call(this,{type:"continue"})};st(this,dh,eF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,G)=>{ir(this,ol,cu).call(this,{type:"failed",failureCount:I,error:G})},onPause:()=>{ir(this,ol,cu).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,vi).canRun(this)}));const n=this.state.status==="pending",s=!he(this,dh).canStart();try{if(n)r();else{ir(this,ol,cu).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=he(this,vi).config).onMutate)==null?void 0:a.call(i,t,this));const G=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));G!==this.state.context&&ir(this,ol,cu).call(this,{type:"pending",context:G,variables:t,isPaused:s})}const I=await he(this,dh).start();return await((d=(u=he(this,vi).config).onSuccess)==null?void 0:d.call(u,I,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,I,t,this.state.context)),await((v=(f=he(this,vi).config).onSettled)==null?void 0:v.call(f,I,null,this.state.variables,this.state.context,this)),await((x=(m=this.options).onSettled)==null?void 0:x.call(m,I,null,t,this.state.context)),ir(this,ol,cu).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(g=he(this,vi).config).onError)==null?void 0:b.call(g,I,t,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,I,t,this.state.context)),await((R=(T=he(this,vi).config).onSettled)==null?void 0:R.call(T,void 0,I,this.state.variables,this.state.context,this)),await((D=(O=this.options).onSettled)==null?void 0:D.call(O,void 0,I,t,this.state.context)),I}finally{ir(this,ol,cu).call(this,{type:"error",error:I})}}finally{he(this,vi).runNext(this)}}},al=new WeakMap,vi=new WeakMap,dh=new WeakMap,ol=new WeakSet,cu=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),js.batch(()=>{he(this,al).forEach(n=>{n.onMutationUpdate(t)}),he(this,vi).notify({mutation:this,type:"updated",action:t})})},HI);function nF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var lc,wo,j0,GI,GX=(GI=class extends Mm{constructor(t={}){super();Rt(this,lc);Rt(this,wo);Rt(this,j0);this.config=t,st(this,lc,new Set),st(this,wo,new Map),st(this,j0,0)}build(t,r,n){const s=new HX({mutationCache:this,mutationId:++Zy(this,j0)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){he(this,lc).add(t);const r=w1(t);if(typeof r=="string"){const n=he(this,wo).get(r);n?n.push(t):he(this,wo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(he(this,lc).delete(t)){const r=w1(t);if(typeof r=="string"){const n=he(this,wo).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&he(this,wo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=w1(t);if(typeof r=="string"){const n=he(this,wo).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=w1(t);if(typeof r=="string"){const s=(n=he(this,wo).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){js.batch(()=>{he(this,lc).forEach(t=>{this.notify({type:"removed",mutation:t})}),he(this,lc).clear(),he(this,wo).clear()})}getAll(){return Array.from(he(this,lc))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>_T(r,n))}findAll(t={}){return this.getAll().filter(r=>_T(t,r))}notify(t){js.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return js.batch(()=>Promise.all(t.map(r=>r.continue().catch(wi))))}},lc=new WeakMap,wo=new WeakMap,j0=new WeakMap,GI);function w1(e){var t;return(t=e.options.scope)==null?void 0:t.id}function NT(e){return{onFetch:(t,r)=>{var d,h,p,f,v;const n=t.options,s=(p=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},g=J8(t.options,t.fetchOptions),b=async(S,k,T)=>{if(m)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const O=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:k,direction:T?"backward":"forward",meta:t.options.meta};return x(A),A})(),D=await g(O),{maxPages:I}=t.options,G=T?DX:MX;return{pages:G(S.pages,D,I),pageParams:G(S.pageParams,k,I)}};if(s&&i.length){const S=s==="backward",k=S?YX:kT,T={pages:i,pageParams:a},R=k(n,T);l=await b(T,R,S)}else{const S=e??i.length;do{const k=c===0?a[0]??n.initialPageParam:kT(n,l);if(c>0&&k==null)break;l=await b(l,k),c++}while(c<S)}return l};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function kT(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function YX(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Un,Nu,ku,$p,Bp,Cu,Up,qp,YI,KX=(YI=class{constructor(e={}){Rt(this,Un);Rt(this,Nu);Rt(this,ku);Rt(this,$p);Rt(this,Bp);Rt(this,Cu);Rt(this,Up);Rt(this,qp);st(this,Un,e.queryCache||new WX),st(this,Nu,e.mutationCache||new GX),st(this,ku,e.defaultOptions||{}),st(this,$p,new Map),st(this,Bp,new Map),st(this,Cu,0)}mount(){Zy(this,Cu)._++,he(this,Cu)===1&&(st(this,Up,tE.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Un).onFocus())})),st(this,qp,bw.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Un).onOnline())})))}unmount(){var e,t;Zy(this,Cu)._--,he(this,Cu)===0&&((e=he(this,Up))==null||e.call(this),st(this,Up,void 0),(t=he(this,qp))==null||t.call(this),st(this,qp,void 0))}isFetching(e){return he(this,Un).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return he(this,Nu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=he(this,Un).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=he(this,Un).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Hu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return he(this,Un).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=he(this,Un).get(n.queryHash),i=s==null?void 0:s.state.data,a=LX(t,i);if(a!==void 0)return he(this,Un).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return js.batch(()=>he(this,Un).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=he(this,Un).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=he(this,Un);js.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=he(this,Un);return js.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=js.batch(()=>he(this,Un).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(wi).catch(wi)}invalidateQueries(e,t={}){return js.batch(()=>(he(this,Un).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=js.batch(()=>he(this,Un).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(wi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(wi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=he(this,Un).build(this,t);return r.isStaleByTime(Hu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wi).catch(wi)}fetchInfiniteQuery(e){return e.behavior=NT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wi).catch(wi)}ensureInfiniteQueryData(e){return e.behavior=NT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bw.isOnline()?he(this,Nu).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,Un)}getMutationCache(){return he(this,Nu)}getDefaultOptions(){return he(this,ku)}setDefaultOptions(e){st(this,ku,e)}setQueryDefaults(e,t){he(this,$p).set(Th(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...he(this,$p).values()],r={};return t.forEach(n=>{Zv(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){he(this,Bp).set(Th(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...he(this,Bp).values()],r={};return t.forEach(n=>{Zv(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...he(this,ku).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=XC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===eE&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...he(this,ku).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){he(this,Un).clear(),he(this,Nu).clear()}},Un=new WeakMap,Nu=new WeakMap,ku=new WeakMap,$p=new WeakMap,Bp=new WeakMap,Cu=new WeakMap,Up=new WeakMap,qp=new WeakMap,YI),Oi,hr,N0,yi,hh,zp,Eu,Au,k0,Vp,Wp,fh,ph,Pu,Hp,Br,Zg,Bj,Uj,qj,zj,Vj,Wj,Hj,sF,KI,JX=(KI=class extends Mm{constructor(t,r){super();Rt(this,Br);Rt(this,Oi);Rt(this,hr);Rt(this,N0);Rt(this,yi);Rt(this,hh);Rt(this,zp);Rt(this,Eu);Rt(this,Au);Rt(this,k0);Rt(this,Vp);Rt(this,Wp);Rt(this,fh);Rt(this,ph);Rt(this,Pu);Rt(this,Hp,new Set);this.options=r,st(this,Oi,t),st(this,Au,null),st(this,Eu,$j()),this.options.experimental_prefetchInRender||he(this,Eu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(he(this,hr).addObserver(this),CT(he(this,hr),this.options)?ir(this,Br,Zg).call(this):this.updateResult(),ir(this,Br,zj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Gj(he(this,hr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Gj(he(this,hr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ir(this,Br,Vj).call(this),ir(this,Br,Wj).call(this),he(this,hr).removeObserver(this)}setOptions(t){const r=this.options,n=he(this,hr);if(this.options=he(this,Oi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ia(this.options.enabled,he(this,hr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ir(this,Br,Hj).call(this),he(this,hr).setOptions(this.options),r._defaulted&&!ww(this.options,r)&&he(this,Oi).getQueryCache().notify({type:"observerOptionsUpdated",query:he(this,hr),observer:this});const s=this.hasListeners();s&&ET(he(this,hr),n,this.options,r)&&ir(this,Br,Zg).call(this),this.updateResult(),s&&(he(this,hr)!==n||Ia(this.options.enabled,he(this,hr))!==Ia(r.enabled,he(this,hr))||Hu(this.options.staleTime,he(this,hr))!==Hu(r.staleTime,he(this,hr)))&&ir(this,Br,Bj).call(this);const i=ir(this,Br,Uj).call(this);s&&(he(this,hr)!==n||Ia(this.options.enabled,he(this,hr))!==Ia(r.enabled,he(this,hr))||i!==he(this,Pu))&&ir(this,Br,qj).call(this,i)}getOptimisticResult(t){const r=he(this,Oi).getQueryCache().build(he(this,Oi),t),n=this.createResult(r,t);return ZX(this,n)&&(st(this,yi,n),st(this,zp,this.options),st(this,hh,he(this,hr).state)),n}getCurrentResult(){return he(this,yi)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){he(this,Hp).add(t)}getCurrentQuery(){return he(this,hr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=he(this,Oi).defaultQueryOptions(t),n=he(this,Oi).getQueryCache().build(he(this,Oi),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ir(this,Br,Zg).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),he(this,yi)))}createResult(t,r){var I;const n=he(this,hr),s=this.options,i=he(this,yi),a=he(this,hh),l=he(this,zp),u=t!==n?t.state:he(this,N0),{state:d}=t;let h={...d},p=!1,f;if(r._optimisticResults){const G=this.hasListeners(),A=!G&&CT(t,r),M=G&&ET(t,n,r,s);(A||M)&&(h={...h,...rF(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:x}=h;f=h.data;let g=!1;if(r.placeholderData!==void 0&&f===void 0&&x==="pending"){let G;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(G=i.data,g=!0):G=typeof r.placeholderData=="function"?r.placeholderData((I=he(this,Wp))==null?void 0:I.state.data,he(this,Wp)):r.placeholderData,G!==void 0&&(x="success",f=Fj(i==null?void 0:i.data,G,r),p=!0)}if(r.select&&f!==void 0&&!g)if(i&&f===(a==null?void 0:a.data)&&r.select===he(this,k0))f=he(this,Vp);else try{st(this,k0,r.select),f=r.select(f),f=Fj(i==null?void 0:i.data,f,r),st(this,Vp,f),st(this,Au,null)}catch(G){st(this,Au,G)}he(this,Au)&&(v=he(this,Au),f=he(this,Vp),m=Date.now(),x="error");const b=h.fetchStatus==="fetching",S=x==="pending",k=x==="error",T=S&&b,R=f!==void 0,D={status:x,fetchStatus:h.fetchStatus,isPending:S,isSuccess:x==="success",isError:k,isInitialLoading:T,isLoading:T,data:f,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!S,isLoadingError:k&&!R,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:k&&R,isStale:rE(t,r),refetch:this.refetch,promise:he(this,Eu),isEnabled:Ia(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const G=$=>{D.status==="error"?$.reject(D.error):D.data!==void 0&&$.resolve(D.data)},A=()=>{const $=st(this,Eu,D.promise=$j());G($)},M=he(this,Eu);switch(M.status){case"pending":t.queryHash===n.queryHash&&G(M);break;case"fulfilled":(D.status==="error"||D.data!==M.value)&&A();break;case"rejected":(D.status!=="error"||D.error!==M.reason)&&A();break}}return D}updateResult(){const t=he(this,yi),r=this.createResult(he(this,hr),this.options);if(st(this,hh,he(this,hr).state),st(this,zp,this.options),he(this,hh).data!==void 0&&st(this,Wp,he(this,hr)),ww(r,t))return;st(this,yi,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!he(this,Hp).size)return!0;const a=new Set(i??he(this,Hp));return this.options.throwOnError&&a.add("error"),Object.keys(he(this,yi)).some(l=>{const c=l;return he(this,yi)[c]!==t[c]&&a.has(c)})};ir(this,Br,sF).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ir(this,Br,zj).call(this)}},Oi=new WeakMap,hr=new WeakMap,N0=new WeakMap,yi=new WeakMap,hh=new WeakMap,zp=new WeakMap,Eu=new WeakMap,Au=new WeakMap,k0=new WeakMap,Vp=new WeakMap,Wp=new WeakMap,fh=new WeakMap,ph=new WeakMap,Pu=new WeakMap,Hp=new WeakMap,Br=new WeakSet,Zg=function(t){ir(this,Br,Hj).call(this);let r=he(this,hr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(wi)),r},Bj=function(){ir(this,Br,Vj).call(this);const t=Hu(this.options.staleTime,he(this,hr));if(Ph||he(this,yi).isStale||!Mj(t))return;const n=Y8(he(this,yi).dataUpdatedAt,t)+1;st(this,fh,setTimeout(()=>{he(this,yi).isStale||this.updateResult()},n))},Uj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(he(this,hr)):this.options.refetchInterval)??!1},qj=function(t){ir(this,Br,Wj).call(this),st(this,Pu,t),!(Ph||Ia(this.options.enabled,he(this,hr))===!1||!Mj(he(this,Pu))||he(this,Pu)===0)&&st(this,ph,setInterval(()=>{(this.options.refetchIntervalInBackground||tE.isFocused())&&ir(this,Br,Zg).call(this)},he(this,Pu)))},zj=function(){ir(this,Br,Bj).call(this),ir(this,Br,qj).call(this,ir(this,Br,Uj).call(this))},Vj=function(){he(this,fh)&&(clearTimeout(he(this,fh)),st(this,fh,void 0))},Wj=function(){he(this,ph)&&(clearInterval(he(this,ph)),st(this,ph,void 0))},Hj=function(){const t=he(this,Oi).getQueryCache().build(he(this,Oi),this.options);if(t===he(this,hr))return;const r=he(this,hr);st(this,hr,t),st(this,N0,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},sF=function(t){js.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(he(this,yi))}),he(this,Oi).getQueryCache().notify({query:he(this,hr),type:"observerResultsUpdated"})})},KI);function QX(e,t){return Ia(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function CT(e,t){return QX(e,t)||e.state.data!==void 0&&Gj(e,t,t.refetchOnMount)}function Gj(e,t,r){if(Ia(t.enabled,e)!==!1&&Hu(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&rE(e,t)}return!1}function ET(e,t,r,n){return(e!==t||Ia(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&rE(e,r)}function rE(e,t){return Ia(t.enabled,e)!==!1&&e.isStaleByTime(Hu(t.staleTime,e))}function ZX(e,t){return!ww(e.getCurrentResult(),t)}var Tu,Ru,Li,cc,bc,wx,Yj,JI,XX=(JI=class extends Mm{constructor(r,n){super();Rt(this,bc);Rt(this,Tu);Rt(this,Ru);Rt(this,Li);Rt(this,cc);st(this,Tu,r),this.setOptions(n),this.bindMethods(),ir(this,bc,wx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=he(this,Tu).defaultMutationOptions(r),ww(this.options,n)||he(this,Tu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:he(this,Li),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Th(n.mutationKey)!==Th(this.options.mutationKey)?this.reset():((s=he(this,Li))==null?void 0:s.state.status)==="pending"&&he(this,Li).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=he(this,Li))==null||r.removeObserver(this)}onMutationUpdate(r){ir(this,bc,wx).call(this),ir(this,bc,Yj).call(this,r)}getCurrentResult(){return he(this,Ru)}reset(){var r;(r=he(this,Li))==null||r.removeObserver(this),st(this,Li,void 0),ir(this,bc,wx).call(this),ir(this,bc,Yj).call(this)}mutate(r,n){var s;return st(this,cc,n),(s=he(this,Li))==null||s.removeObserver(this),st(this,Li,he(this,Tu).getMutationCache().build(he(this,Tu),this.options)),he(this,Li).addObserver(this),he(this,Li).execute(r)}},Tu=new WeakMap,Ru=new WeakMap,Li=new WeakMap,cc=new WeakMap,bc=new WeakSet,wx=function(){var n;const r=((n=he(this,Li))==null?void 0:n.state)??nF();st(this,Ru,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Yj=function(r){js.batch(()=>{var n,s,i,a,l,c,u,d;if(he(this,cc)&&this.hasListeners()){const h=he(this,Ru).variables,p=he(this,Ru).context;(r==null?void 0:r.type)==="success"?((s=(n=he(this,cc)).onSuccess)==null||s.call(n,r.data,h,p),(a=(i=he(this,cc)).onSettled)==null||a.call(i,r.data,null,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=he(this,cc)).onError)==null||c.call(l,r.error,h,p),(d=(u=he(this,cc)).onSettled)==null||d.call(u,void 0,r.error,h,p))}this.listeners.forEach(h=>{h(he(this,Ru))})})},JI),iF=w.createContext(void 0),Mn=e=>{const t=w.useContext(iF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},eee=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(iF.Provider,{value:e,children:t})),aF=w.createContext(!1),tee=()=>w.useContext(aF);aF.Provider;function ree(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nee=w.createContext(ree()),see=()=>w.useContext(nee),iee=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},aee=e=>{w.useEffect(()=>{e.clearReset()},[e])},oee=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Q8(r,[e.error,n])),lee=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},cee=(e,t)=>e.isLoading&&e.isFetching&&!t,uee=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,AT=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function dee(e,t,r){var h,p,f,v,m;const n=tee(),s=see(),i=Mn(),a=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,a),a._optimisticResults=n?"isRestoring":"optimistic",lee(a),iee(a,s),aee(s);const l=!i.getQueryCache().get(a.queryHash),[c]=w.useState(()=>new t(i,a)),u=c.getOptimisticResult(a),d=!n&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(x=>{const g=d?c.subscribe(js.batchCalls(x)):wi;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(a)},[a,c]),uee(a,u))throw AT(a,c,s);if(oee({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((v=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||v.call(f,a,u),a.experimental_prefetchInRender&&!Ph&&cee(u,n)){const x=l?AT(a,c,s):(m=i.getQueryCache().get(a.queryHash))==null?void 0:m.promise;x==null||x.catch(wi).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Cn(e,t){return dee(e,JX)}function Xr(e,t){const r=Mn(),[n]=w.useState(()=>new XX(r,e));w.useEffect(()=>{n.setOptions(e)},[n,e]);const s=w.useSyncExternalStore(w.useCallback(a=>n.subscribe(js.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=w.useCallback((a,l)=>{n.mutate(a,l).catch(wi)},[n]);if(s.error&&Q8(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PT="popstate";function hee(e={}){function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return Kj("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Xv(s)}return pee(t,r,null,e)}function En(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ja(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fee(){return Math.random().toString(36).substring(2,10)}function TT(e,t){return{usr:e.state,key:e.key,idx:t}}function Kj(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Dm(t):t,state:r,key:t&&t.key||n||fee()}}function Xv({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Dm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function pee(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let x=d(),g=x==null?null:x-u;u=x,c&&c({action:l,location:m.location,delta:g})}function p(x,g){l="PUSH";let b=Kj(m.location,x,g);u=d()+1;let S=TT(b,u),k=m.createHref(b);try{a.pushState(S,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(k)}i&&c&&c({action:l,location:m.location,delta:1})}function f(x,g){l="REPLACE";let b=Kj(m.location,x,g);u=d();let S=TT(b,u),k=m.createHref(b);a.replaceState(S,"",k),i&&c&&c({action:l,location:m.location,delta:0})}function v(x){return mee(x)}let m={get action(){return l},get location(){return e(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(PT,h),c=x,()=>{s.removeEventListener(PT,h),c=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:f,go(x){return a.go(x)}};return m}function mee(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),En(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Xv(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function oF(e,t,r="/"){return gee(e,t,r,!1)}function gee(e,t,r,n){let s=typeof t=="string"?Dm(t):t,i=Rc(s.pathname||"/",r);if(i==null)return null;let a=lF(e);vee(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Eee(i);l=kee(a[c],u,n)}return l}function lF(e,t=[],r=[],n="",s=!1){let i=(a,l,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;En(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=yc([n,d.relativePath]),p=r.concat(d);a.children&&a.children.length>0&&(En(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),lF(a.children,t,p,h,c)),!(a.path==null&&!a.index)&&t.push({path:h,score:jee(h,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let u of cF(a.path))i(a,l,!0,u)}),t}function cF(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=cF(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function vee(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Nee(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var yee=/^:[\w-]+$/,xee=3,wee=2,bee=1,_ee=10,See=-2,RT=e=>e==="*";function jee(e,t){let r=e.split("/"),n=r.length;return r.some(RT)&&(n+=See),t&&(n+=wee),r.filter(s=>!RT(s)).reduce((s,i)=>s+(yee.test(i)?xee:i===""?bee:_ee),n)}function Nee(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function kee(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=_w({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=_w({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:yc([i,h.pathname]),pathnameBase:Ree(yc([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=yc([i,h.pathnameBase]))}return a}function _w(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Cee(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},p)=>{if(d==="*"){let v=l[p]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const f=l[p];return h&&!f?u[d]=void 0:u[d]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Cee(e,t=!1,r=!0){Ja(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Eee(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ja(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Rc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var uF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aee=e=>uF.test(e);function Pee(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Dm(e):e,i;if(r)if(Aee(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Ja(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=OT(r.substring(1),"/"):i=OT(r,t)}else i=t;return{pathname:i,search:Oee(n),hash:Lee(s)}}function OT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function J_(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tee(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nE(e){let t=Tee(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function sE(e,t,r,n=!1){let s;typeof e=="string"?s=Dm(e):(s={...e},En(!s.pathname||!s.pathname.includes("?"),J_("?","pathname","search",s)),En(!s.pathname||!s.pathname.includes("#"),J_("#","pathname","hash",s)),En(!s.search||!s.search.includes("#"),J_("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=Pee(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var yc=e=>e.join("/").replace(/\/\/+/g,"/"),Ree=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Oee=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Lee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Iee=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Mee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Dee(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var dF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hF(e,t){let r=e;if(typeof r!="string"||!uF.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,s=!1;if(dF)try{let i=new URL(window.location.href),a=r.startsWith("//")?new URL(i.protocol+r):new URL(r),l=Rc(a.pathname,t);a.origin===i.origin&&l!=null?r=l+a.search+a.hash:s=!0}catch{Ja(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fF=["POST","PUT","PATCH","DELETE"];new Set(fF);var Fee=["GET",...fF];new Set(Fee);var Fm=w.createContext(null);Fm.displayName="DataRouter";var Fb=w.createContext(null);Fb.displayName="DataRouterState";var $ee=w.createContext(!1),pF=w.createContext({isTransitioning:!1});pF.displayName="ViewTransition";var Bee=w.createContext(new Map);Bee.displayName="Fetchers";var Uee=w.createContext(null);Uee.displayName="Await";var ja=w.createContext(null);ja.displayName="Navigation";var $0=w.createContext(null);$0.displayName="Location";var Al=w.createContext({outlet:null,matches:[],isDataRoute:!1});Al.displayName="Route";var iE=w.createContext(null);iE.displayName="RouteError";var mF="REACT_ROUTER_ERROR",qee="REDIRECT",zee="ROUTE_ERROR_RESPONSE";function Vee(e){if(e.startsWith(`${mF}:${qee}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Wee(e){if(e.startsWith(`${mF}:${zee}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Iee(t.status,t.statusText,t.data)}catch{}}function Hee(e,{relative:t}={}){En($m(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(ja),{hash:s,pathname:i,search:a}=B0(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:yc([r,i])),n.createHref({pathname:l,search:a,hash:s})}function $m(){return w.useContext($0)!=null}function Pl(){return En($m(),"useLocation() may be used only in the context of a <Router> component."),w.useContext($0).location}var gF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vF(e){w.useContext(ja).static||w.useLayoutEffect(e)}function Js(){let{isDataRoute:e}=w.useContext(Al);return e?ite():Gee()}function Gee(){En($m(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Fm),{basename:t,navigator:r}=w.useContext(ja),{matches:n}=w.useContext(Al),{pathname:s}=Pl(),i=JSON.stringify(nE(n)),a=w.useRef(!1);return vF(()=>{a.current=!0}),w.useCallback((c,u={})=>{if(Ja(a.current,gF),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=sE(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:yc([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}w.createContext(null);function B0(e,{relative:t}={}){let{matches:r}=w.useContext(Al),{pathname:n}=Pl(),s=JSON.stringify(nE(r));return w.useMemo(()=>sE(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function Yee(e,t){return yF(e,t)}function yF(e,t,r,n,s){var b;En($m(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(ja),{matches:a}=w.useContext(Al),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let S=h&&h.path||"";wF(u,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Pl(),f;if(t){let S=typeof t=="string"?Dm(t):t;En(d==="/"||((b=S.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),f=S}else f=p;let v=f.pathname||"/",m=v;if(d!=="/"){let S=d.replace(/^\//,"").split("/");m="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=oF(e,{pathname:m});Ja(h||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Ja(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=Xee(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:yc([d,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:yc([d,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),a,r,n,s);return t&&g?w.createElement($0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},g):g}function Kee(){let e=ste(),t=Mee(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,a)}var Jee=w.createElement(Kee,null),xF=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=Wee(e.digest);r&&(e=r)}let t=e!==void 0?w.createElement(Al.Provider,{value:this.props.routeContext},w.createElement(iE.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?w.createElement(Qee,{error:e},t):t}};xF.contextType=$ee;var Q_=new WeakMap;function Qee({children:e,error:t}){let{basename:r}=w.useContext(ja);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=Vee(t.digest);if(n){let s=Q_.get(t);if(s)throw s;let i=hF(n.location,r);if(dF&&!Q_.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw Q_.set(t,a),a}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function Zee({routeContext:e,match:t,children:r}){let n=w.useContext(Fm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Al.Provider,{value:e},r)}function Xee(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);En(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:f}=r,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var p,f;n(d,{location:r.location,params:((f=(p=r.matches)==null?void 0:p[0])==null?void 0:f.params)??{},unstable_pattern:Dee(r.matches),errorInfo:h})}:void 0;return i.reduceRight((d,h,p)=>{let f,v=!1,m=null,x=null;r&&(f=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||Jee,l&&(c<0&&p===0?(wF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,p+1)),b=()=>{let S;return f?S=m:v?S=x:h.route.Component?S=w.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,w.createElement(Zee,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:S})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?w.createElement(xF,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):b()},null)}function aE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ete(e){let t=w.useContext(Fm);return En(t,aE(e)),t}function tte(e){let t=w.useContext(Fb);return En(t,aE(e)),t}function rte(e){let t=w.useContext(Al);return En(t,aE(e)),t}function oE(e){let t=rte(e),r=t.matches[t.matches.length-1];return En(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function nte(){return oE("useRouteId")}function ste(){var n;let e=w.useContext(iE),t=tte("useRouteError"),r=oE("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function ite(){let{router:e}=ete("useNavigate"),t=oE("useNavigate"),r=w.useRef(!1);return vF(()=>{r.current=!0}),w.useCallback(async(s,i={})=>{Ja(r.current,gF),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var LT={};function wF(e,t,r){!t&&!LT[e]&&(LT[e]=!0,Ja(!1,r))}w.memo(ate);function ate({routes:e,future:t,state:r,onError:n}){return yF(e,void 0,r,n,t)}function bx({to:e,replace:t,state:r,relative:n}){En($m(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(ja);Ja(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(Al),{pathname:a}=Pl(),l=Js(),c=sE(e,nE(i),a,n==="path"),u=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function jr(e){En(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ote({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){En(!$m(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[l,s,i,a]);typeof r=="string"&&(r=Dm(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,v=w.useMemo(()=>{let m=Rc(u,l);return m==null?null:{location:{pathname:m,search:d,hash:h,state:p,key:f},navigationType:n}},[l,u,d,h,p,f,n]);return Ja(v!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:w.createElement(ja.Provider,{value:c},w.createElement($0.Provider,{children:t,value:v}))}function lte({children:e,location:t}){return Yee(Jj(e),t)}function Jj(e,t=[]){let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,Jj(n.props.children,i));return}En(n.type===jr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),En(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Jj(n.props.children,i)),r.push(a)}),r}var _x="get",Sx="application/x-www-form-urlencoded";function $b(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function cte(e){return $b(e)&&e.tagName.toLowerCase()==="button"}function ute(e){return $b(e)&&e.tagName.toLowerCase()==="form"}function dte(e){return $b(e)&&e.tagName.toLowerCase()==="input"}function hte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fte(e,t){return e.button===0&&(!t||t==="_self")&&!hte(e)}var b1=null;function pte(){if(b1===null)try{new FormData(document.createElement("form"),0),b1=!1}catch{b1=!0}return b1}var mte=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Z_(e){return e!=null&&!mte.has(e)?(Ja(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sx}"`),null):e}function gte(e,t){let r,n,s,i,a;if(ute(e)){let l=e.getAttribute("action");n=l?Rc(l,t):null,r=e.getAttribute("method")||_x,s=Z_(e.getAttribute("enctype"))||Sx,i=new FormData(e)}else if(cte(e)||dte(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Rc(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||_x,s=Z_(e.getAttribute("formenctype"))||Z_(l.getAttribute("enctype"))||Sx,i=new FormData(l,e),!pte()){let{name:u,type:d,value:h}=e;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,h)}}else{if($b(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_x,n=null,s=Sx,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vte(e,t,r,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:t&&Rc(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function yte(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xte(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wte(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await yte(i,r);return a.links?a.links():[]}return[]}));return jte(n.flat(1).filter(xte).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function IT(e,t,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function bte(e,t,{includeHydrateFallback:r}={}){return _te(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function _te(e){return[...new Set(e)]}function Ste(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function jte(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(Ste(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function bF(){let e=w.useContext(Fm);return lE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Nte(){let e=w.useContext(Fb);return lE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cE=w.createContext(void 0);cE.displayName="FrameworkContext";function _F(){let e=w.useContext(cE);return lE(e,"You must render this element inside a <HydratedRouter> element"),e}function kte(e,t){let r=w.useContext(cE),[n,s]=w.useState(!1),[i,a]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=w.useRef(null);w.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let m=g=>{g.forEach(b=>{a(b.isIntersecting)})},x=new IntersectionObserver(m,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[e]),w.useEffect(()=>{if(n){let m=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(m)}}},[n]);let f=()=>{s(!0)},v=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:Fg(l,f),onBlur:Fg(c,v),onMouseEnter:Fg(u,f),onMouseLeave:Fg(d,v),onTouchStart:Fg(h,f)}]:[!1,p,{}]}function Fg(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Cte({page:e,...t}){let{router:r}=bF(),n=w.useMemo(()=>oF(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(Ate,{page:e,matches:n,...t}):null}function Ete(e){let{manifest:t,routeModules:r}=_F(),[n,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return wte(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function Ate({page:e,matches:t,...r}){let n=Pl(),{future:s,manifest:i,routeModules:a}=_F(),{basename:l}=bF(),{loaderData:c,matches:u}=Nte(),d=w.useMemo(()=>IT(e,t,u,i,n,"data"),[e,t,u,i,n]),h=w.useMemo(()=>IT(e,t,u,i,n,"assets"),[e,t,u,i,n]),p=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,x=!1;if(t.forEach(b=>{var k;let S=i.routes[b.route.id];!S||!S.hasLoader||(!d.some(T=>T.route.id===b.route.id)&&b.route.id in c&&((k=a[b.route.id])!=null&&k.shouldRevalidate)||S.hasClientLoader?x=!0:m.add(b.route.id))}),m.size===0)return[];let g=vte(e,l,s.unstable_trailingSlashAwareDataRequests,"data");return x&&m.size>0&&g.searchParams.set("_routes",t.filter(b=>m.has(b.route.id)).map(b=>b.route.id).join(",")),[g.pathname+g.search]},[l,s.unstable_trailingSlashAwareDataRequests,c,n,i,d,t,e,a]),f=w.useMemo(()=>bte(h,i),[h,i]),v=Ete(h);return w.createElement(w.Fragment,null,p.map(m=>w.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),f.map(m=>w.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),v.map(({key:m,link:x})=>w.createElement("link",{key:m,nonce:r.nonce,...x})))}function Pte(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Tte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tte&&(window.__reactRouterVersion="7.12.0")}catch{}function Rte({basename:e,children:t,unstable_useTransitions:r,window:n}){let s=w.useRef();s.current==null&&(s.current=hee({window:n,v5Compat:!0}));let i=s.current,[a,l]=w.useState({action:i.action,location:i.location}),c=w.useCallback(u=>{r===!1?l(u):w.startTransition(()=>l(u))},[r]);return w.useLayoutEffect(()=>i.listen(c),[i,c]),w.createElement(ote,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:r})}var SF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hr=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:p,...f},v){let{basename:m,unstable_useTransitions:x}=w.useContext(ja),g=typeof u=="string"&&SF.test(u),b=hF(u,m);u=b.to;let S=Hee(u,{relative:s}),[k,T,R]=kte(n,f),O=Mte(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:x});function D(G){t&&t(G),G.defaultPrevented||O(G)}let I=w.createElement("a",{...f,...R,href:b.absoluteURL||S,onClick:b.isExternal||i?t:D,ref:Pte(v,T),target:c,"data-discover":!g&&r==="render"?"true":void 0});return k&&!g?w.createElement(w.Fragment,null,I,w.createElement(Cte,{page:S})):I});Hr.displayName="Link";var Ote=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let h=B0(a,{relative:u.relative}),p=Pl(),f=w.useContext(Fb),{navigator:v,basename:m}=w.useContext(ja),x=f!=null&&Ute(h)&&l===!0,g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,b=p.pathname,S=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(b=b.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&m&&(S=Rc(S,m)||S);const k=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let T=b===g||!s&&b.startsWith(g)&&b.charAt(k)==="/",R=S!=null&&(S===g||!s&&S.startsWith(g)&&S.charAt(g.length)==="/"),O={isActive:T,isPending:R,isTransitioning:x},D=T?t:void 0,I;typeof n=="function"?I=n(O):I=[n,T?"active":null,R?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(O):i;return w.createElement(Hr,{...u,"aria-current":D,className:I,ref:d,style:G,to:a,viewTransition:l},typeof c=="function"?c(O):c)});Ote.displayName="NavLink";var Lte=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=_x,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:p,...f},v)=>{let{unstable_useTransitions:m}=w.useContext(ja),x=$te(),g=Bte(l,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&SF.test(l),k=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let R=T.nativeEvent.submitter,O=(R==null?void 0:R.getAttribute("formmethod"))||a,D=()=>x(R||T.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:p});m&&r!==!1?w.startTransition(()=>D()):D()};return w.createElement("form",{ref:v,method:b,action:g,onSubmit:n?c:k,...f,"data-discover":!S&&e==="render"?"true":void 0})});Lte.displayName="Form";function Ite(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jF(e){let t=w.useContext(Fm);return En(t,Ite(e)),t}function Mte(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=Js(),d=Pl(),h=B0(e,{relative:i});return w.useCallback(p=>{if(fte(p,t)){p.preventDefault();let f=r!==void 0?r:Xv(d)===Xv(h),v=()=>u(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:l});c?w.startTransition(()=>v()):v()}},[d,u,h,r,n,t,e,s,i,a,l,c])}var Dte=0,Fte=()=>`__${String(++Dte)}__`;function $te(){let{router:e}=jF("useSubmit"),{basename:t}=w.useContext(ja),r=nte(),n=e.fetch,s=e.navigate;return w.useCallback(async(i,a={})=>{let{action:l,method:c,encType:u,formData:d,body:h}=gte(i,t);if(a.navigate===!1){let p=a.fetcherKey||Fte();await n(p,r,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await s(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,s,t,r])}function Bte(e,{relative:t}={}){let{basename:r}=w.useContext(ja),n=w.useContext(Al);En(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...B0(e||".",{relative:t})},a=Pl();if(e==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:yc([r,i.pathname])),Xv(i)}function Ute(e,{relative:t}={}){let r=w.useContext(pF);En(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=jF("useViewTransitionState"),s=B0(e,{relative:t});if(!r.isTransitioning)return!1;let i=Rc(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Rc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _w(s.pathname,a)!=null||_w(s.pathname,i)!=null}const qte=()=>{const e="http://localhost:5000";return!e.startsWith("http")&&!e.includes("localhost")?`https://${e}`:e},MT=qte(),Hs={getToken:()=>localStorage.getItem("auth_token"),setToken:e=>localStorage.setItem("auth_token",e),clearToken:()=>localStorage.removeItem("auth_token"),get:async e=>{try{const t=localStorage.getItem("auth_token"),r=await fetch(`${MT}${e}`,{headers:{Authorization:t?`Bearer ${t}`:""}});if(!r.ok){const n=await r.json();throw new Error(n.error||"Network response was not ok")}return await r.json()}catch(t){throw console.error("API Get Error:",t),qe.error(t.message||"Failed to fetch data"),t}},post:async(e,t)=>{try{const r=localStorage.getItem("auth_token"),n=await fetch(`${MT}${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:r?`Bearer ${r}`:""},body:JSON.stringify(t)});if(!n.ok){const s=await n.json();throw new Error(s.error||"Network response was not ok")}return await n.json()}catch(r){throw console.error("API Post Error:",r),qe.error(r.message||"Failed to send data"),r}}},NF=w.createContext(void 0),ui=()=>{const e=w.useContext(NF);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},zte=({children:e})=>{const[t,r]=w.useState(null),[n,s]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!Hs.getToken()){s(!1);return}try{const h=await Hs.get("/api/auth/me");r(h)}catch{Hs.clearToken(),r(null)}finally{s(!1)}})()},[]);const c={user:t,loading:n,signIn:async(u,d)=>{try{const h=await Hs.post("/api/auth/login",{email:u,password:d});return Hs.setToken(h.token),r(h.user),{user:h.user,error:null}}catch(h){return{user:null,error:h}}},signUp:async(u,d,h,p="patient")=>{try{const f=await Hs.post("/api/auth/register",{email:u,password:d,fullName:h,role:p});return Hs.setToken(f.token),r(f.user),{user:f.user,error:null}}catch(f){return{user:null,error:f}}},signOut:()=>{Hs.clearToken(),r(null)}};return o.jsx(NF.Provider,{value:c,children:e})},Vte=({children:e})=>{const{user:t,loading:r}=ui();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(bx,{to:"/patient/login",replace:!0})};var ul=function(){return ul=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ul.apply(this,arguments)};function Bm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Wte(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Hte(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const Gte=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class uE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Yte extends uE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class DT extends uE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class FT extends uE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qj||(Qj={}));class Kte{constructor(t,{headers:r={},customFetch:n,region:s=Qj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Gte(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Wte(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let p={},{region:f}=n;f||(f=this.region);const v=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(p["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(p["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let x=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:m,signal:x}).catch(T=>{throw new Yte(T)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new DT(g);if(!g.ok)throw new FT(g);let S=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return S==="application/json"?k=yield g.json():S==="application/octet-stream"||S==="application/pdf"?k=yield g.blob():S==="text/event-stream"?k=g:S==="multipart/form-data"?k=yield g.formData():k=yield g.text(),{data:k,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof FT||l instanceof DT?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Jte=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Qte=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,p;if(r.method!=="HEAD"){var f;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const m=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");m&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const m=await i.text();try{a=JSON.parse(m),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):a={message:m}}if(a&&r.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new Jte(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,p;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${v}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var f;l=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Zte=class extends Qte{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const $T=new RegExp("[,()]");var Vf=class extends Zte{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&$T.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&$T.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Xte=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new Vf({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Vf({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new Vf({method:a,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Vf({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Vf({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},ere=class kF{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Xte(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new kF(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),h=n&&Object.values(r).some(d);h?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,v])=>v!==void 0).map(([f,v])=>[f,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([f,v])=>{c.searchParams.append(f,v)})):(l="POST",u=r);const p=new Headers(this.headers);return h?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new Vf({method:l,url:c,headers:p,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class tre{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const rre="2.90.1",nre=`realtime-js/${rre}`,CF="1.0.0",sre="2.0.0",BT=CF,Zj=1e4,ire=1e3,are=100;var mu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(mu||(mu={}));var bs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(bs||(bs={}));var _o;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_o||(_o={}));var Xj;(function(e){e.websocket="websocket"})(Xj||(Xj={}));var Yd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yd||(Yd={}));class ore{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(f),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,c.length),v.setUint8(m++,l.length),v.setUint8(m++,a.length),v.setUint8(m++,u.length),v.setUint8(m++,h.length),v.setUint8(m++,r),Array.from(c,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(l,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(h,g=>v.setUint8(m++,g.charCodeAt(0)));var x=new Uint8Array(f.byteLength+n.byteLength);return x.set(new Uint8Array(f),0),x.set(new Uint8Array(n),f.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+a));c=c+a;const p=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST_EVENT,event:d,payload:f};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class EF{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var un;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(un||(un={}));const UT=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=lre(a,e,t,s),i),{}):{}},lre=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?AF(i,a):eN(a)},AF=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return hre(t,r)}switch(e){case un.bool:return cre(t);case un.float4:case un.float8:case un.int2:case un.int4:case un.int8:case un.numeric:case un.oid:return ure(t);case un.json:case un.jsonb:return dre(t);case un.timestamp:return fre(t);case un.abstime:case un.date:case un.daterange:case un.int4range:case un.int8range:case un.money:case un.reltime:case un.text:case un.time:case un.timestamptz:case un.timetz:case un.tsrange:case un.tstzrange:return eN(t);default:return eN(t)}},eN=e=>e,cre=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ure=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dre=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},hre=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>AF(t,l))}return e},fre=e=>typeof e=="string"?e.replace(" ","T"):e,PF=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class X_{constructor(t,r,n={},s=Zj){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qT||(qT={}));class bv{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bv.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=bv.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=bv.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const p=d.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),v=d.filter(x=>f.indexOf(x.presence_ref)<0),m=h.filter(x=>p.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zT||(zT={}));var _v;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_v||(_v={}));var rc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rc||(rc={}));class up{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=bs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new X_(this,_o.join,this.params,this.timeout),this.rejoinTimer=new EF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_o.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new bv(this),this.broadcastEndpointURL=PF(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==bs.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[_v.PRESENCE]&&this.bindings[_v.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(rc.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(rc.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(rc.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,x=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,g=[];for(let b=0;b<x;b++){const S=m[b],{filter:{event:k,schema:T,table:R,filter:O}}=S,D=f&&f[b];if(D&&D.event===k&&up.isFilterValueEqual(D.schema,T)&&up.isFilterValueEqual(D.table,R)&&up.isFilterValueEqual(D.filter,O))g.push(Object.assign(Object.assign({},S),{id:D.id}));else{this.unsubscribe(),this.state=bs.errored,t==null||t(rc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(rc.SUBSCRIBED);return}}).receive("error",f=>{this.state=bs.errored,t==null||t(rc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===bs.joined&&t===_v.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_o.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new X_(this,_o.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bs.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new X_(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>are){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=_o;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var v,m,x;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(m=f.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(f=>f.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var v,m,x,g,b,S,k,T;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const R=f.id,O=(v=f.filter)===null||v===void 0?void 0:v.event;return R&&((m=r.ids)===null||m===void 0?void 0:m.includes(R))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((g=f.filter)===null||g===void 0)&&g.table)||f.filter.table===((b=r.data)===null||b===void 0?void 0:b.table))}else{const R=(k=(S=f==null?void 0:f.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return R==="*"||R===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:m,table:x,commit_timestamp:g,type:b,errors:S}=v;p=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:g,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(v))}f.callback(p,n)})}_isClosed(){return this.state===bs.closed}_isJoined(){return this.state===bs.joined}_isJoining(){return this.state===bs.joining}_isLeaving(){return this.state===bs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&up.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_o.close,{},t)}_onError(t){this._on(_o.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=UT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=UT(t.columns,t.old_record)),r}}const e5=()=>{},_1={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pre=[1e3,2e3,5e3,1e4],mre=1e4,gre=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vre{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zj,this.transport=null,this.heartbeatIntervalMs=_1.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=e5,this.ref=0,this.reconnectTimer=null,this.vsn=BT,this.logger=e5,this.conn=null,this.sendBuffer=[],this.serializer=new ore,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Xj.websocket}`,this.httpEndpoint=PF(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tre.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case mu.connecting:return Yd.Connecting;case mu.open:return Yd.Open;case mu.closing:return Yd.Closing;default:return Yd.Closed}}isConnected(){return this.connectionState()===Yd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new up(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ire,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_1.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===mu.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===mu.open||this.conn.readyState===mu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(_o.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([gre],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:nre};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(_o.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new EF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_1.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,d,h,p,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Zj,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:_1.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:e5,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:BT,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>pre[v-1]||mre,this.vsn){case CF:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,m)=>m(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,m)=>m(JSON.parse(v));break;case sre:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var e0=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yre(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function xre(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function wre(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=yre(e.baseUrl,n,s),c=await xre(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?p:void 0,v=f==null?void 0:f.error;throw new e0((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:f})}return{status:u.status,headers:u.headers,data:p}}}}function S1(e){return e.join("")}var bre=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:S1(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${S1(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${S1(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${S1(e.namespace)}`}),!0}catch(t){if(t instanceof e0&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof e0&&r.status===409)return;throw r}}};function Ef(e){return e.join("")}var _re=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ef(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ef(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ef(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ef(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ef(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ef(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof e0&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof e0&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Sre=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=wre({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new bre(this.client,t),this.tableOps=new _re(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Bb=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Pn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var jre=class extends Bb{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tN=class extends Bb{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const dE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Nre=()=>Response,rN=e=>{if(Array.isArray(e))return e.map(r=>rN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=rN(n)}),t},kre=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Cre=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}function Ere(e,t){if(t0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Are(e){var t=Ere(e,"string");return t0(t)=="symbol"?t:t+""}function Pre(e,t,r){return(t=Are(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){Pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const t5=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Tre=async(e,t,r)=>{e instanceof await Nre()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new jre(t5(n),s,i))}).catch(n=>{t(new tN(t5(n),n))}):t(new tN(t5(e),e))},Rre=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(kre(n)?(s.headers=It({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),It(It({},s),r))};async function U0(e,t,r,n,s,i){return new Promise((a,l)=>{e(r,Rre(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Tre(c,l,n))})}async function r0(e,t,r,n){return U0(e,"GET",t,r,n)}async function yo(e,t,r,n,s){return U0(e,"POST",t,n,s,r)}async function nN(e,t,r,n,s){return U0(e,"PUT",t,n,s,r)}async function Ore(e,t,r,n){return U0(e,"HEAD",t,It(It({},r),{},{noResolveJson:!0}),n)}async function hE(e,t,r,n,s){return U0(e,"DELETE",t,n,s,r)}var Lre=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}}};let TF;TF=Symbol.toStringTag;var Ire=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[TF]="BlobDownloadBuilder",this.promise=null}asStream(){return new Lre(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pn(t))return{data:null,error:t};throw t}}};const Mre={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},WT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Dre=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=dE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const a=It(It({},WT),n);let l=It(It({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=It(It({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?nN:yo)(s.fetch,`${s.url}/object/${d}`,i,It({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Pn(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let c;const u=It({upsert:WT.upsert},n),d=It(It({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await nN(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Pn(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=It({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await yo(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new Bb("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await yo(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await yo(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await yo(n.fetch,`${n.url}/object/sign/${s}`,It({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await yo(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>It(It({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>r0(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Ire(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:rN(await r0(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Ore(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Pn(n)&&n instanceof tN){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await hE(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=It(It(It({},Mre),t),{},{prefix:e||""});return{data:await yo(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=It({},e);return{data:await yo(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const RF="2.90.1",OF={"X-Client-Info":`storage-js/${RF}`};var Fre=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=It(It({},OF),t),this.fetch=dE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await r0(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await r0(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await yo(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await nN(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await yo(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await hE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},$re=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=It(It({},OF),t),this.fetch=dE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await yo(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await r0(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await hE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Cre(e))throw new Bb("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Sre({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const fE={"X-Client-Info":`storage-js/${RF}`,"Content-Type":"application/json"};var LF=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ca(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var r5=class extends LF{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Bre=class extends LF{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const pE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ure=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qre=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new r5(HT(i),n,a))}).catch(()=>{const i=n+"";t(new r5(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new r5(s.statusText||`HTTP ${n} error`,n,i))}}else t(new Bre(HT(e),e))},zre=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Ure(n)?(s.headers=It({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,It(It({},s),r)):s};async function Vre(e,t,r,n,s,i){return new Promise((a,l)=>{e(r,zre(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>qre(c,l,n))})}async function ua(e,t,r,n,s){return Vre(e,"POST",t,n,s,r)}var Wre=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=It(It({},fE),t),this.fetch=pE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ua(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ca(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await ua(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ca(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await ua(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ca(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await ua(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ca(n))return{data:null,error:n};throw n}}},Hre=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=It(It({},fE),t),this.fetch=pE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ua(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ca(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await ua(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ca(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ua(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ca(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await ua(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ca(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ua(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ca(r))return{data:null,error:r};throw r}}},Gre=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=It(It({},fE),t),this.fetch=pE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ua(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ca(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ua(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ca(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await ua(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ca(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ua(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ca(r))return{data:null,error:r};throw r}}},Yre=class extends Gre{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Kre(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Kre=class extends Wre{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Jre(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Jre=class extends Hre{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,It(It({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Qre=class extends Fre{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Dre(this.url,this.headers,e,this.fetch)}get vectors(){return new Yre(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $re(this.url+"/iceberg",this.headers,this.fetch)}};const IF="2.90.1",Wf=30*1e3,sN=3,n5=sN*Wf,Zre="http://localhost:9999",Xre="supabase.auth.token",ene={"X-Client-Info":`gotrue-js/${IF}`},iN="X-Supabase-Api-Version",MF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rne=10*60*1e3;class n0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function kt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class nne extends n0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sne(e){return kt(e)&&e.name==="AuthApiError"}class Kd extends n0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Dc extends n0{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class sa extends Dc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ine(e){return kt(e)&&e.name==="AuthSessionMissingError"}class Af extends Dc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class j1 extends Dc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class N1 extends Dc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ane(e){return kt(e)&&e.name==="AuthImplicitGrantRedirectError"}class GT extends Dc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class one extends Dc{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class aN extends Dc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function s5(e){return kt(e)&&e.name==="AuthRetryableFetchError"}class YT extends Dc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class oN extends Dc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),KT=` 	
\r=`.split(""),lne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<KT.length;t+=1)e[KT[t].charCodeAt(0)]=-2;for(let t=0;t<Sw.length;t+=1)e[Sw[t].charCodeAt(0)]=t;return e})();function JT(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sw[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sw[n]),t.queuedBits-=6}}function DF(e,t,r){const n=lne[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function QT(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{dne(a,n,r)};for(let a=0;a<e.length;a+=1)DF(e.charCodeAt(a),s,i);return t.join("")}function cne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function une(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}cne(n,t)}}function dne(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function bp(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)DF(e.charCodeAt(s),r,n);return new Uint8Array(t)}function hne(e){const t=[];return une(e,r=>t.push(r)),new Uint8Array(t)}function eh(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>JT(s,r,n)),JT(null,r,n),t.join("")}function fne(e){return Math.round(Date.now()/1e3)+e}function pne(){return Symbol("auth-callback")}const zs=()=>typeof window<"u"&&typeof document<"u",Md={tested:!1,writable:!1},FF=()=>{if(!zs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Md.tested)return Md.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Md.tested=!0,Md.writable=!0}catch{Md.tested=!0,Md.writable=!1}return Md.writable};function mne(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const $F=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gne=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Dd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Us=async(e,t)=>{await e.removeItem(t)};class Ub{constructor(){this.promise=new Ub.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ub.promiseConstructor=Promise;function i5(e){const t=e.split(".");if(t.length!==3)throw new oN("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!tne.test(t[n]))throw new oN("JWT not in base64url format");return{header:JSON.parse(QT(t[0])),payload:JSON.parse(QT(t[1])),signature:bp(t[2]),raw:{header:t[0],payload:t[1]}}}async function vne(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yne(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function xne(e){return("0"+e.toString(16)).substr(-2)}function wne(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,xne).join("")}async function bne(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function _ne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await bne(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pf(e,t,r=!1){const n=wne();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Hf(e,`${t}-code-verifier`,s);const i=await _ne(n);return[i,n===i?"plain":"s256"]}const Sne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jne(e){const t=e.headers.get(iN);if(!t||!t.match(Sne))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Nne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kne(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tf(e){if(!Cne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function a5(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ene(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function ZT(e){return JSON.parse(JSON.stringify(e))}const Vd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ane=[502,503,504];async function XT(e){var t;if(!gne(e))throw new aN(Vd(e),0);if(Ane.includes(e.status))throw new aN(Vd(e),e.status);let r;try{r=await e.json()}catch(i){throw new Kd(Vd(i),i)}let n;const s=jne(e);if(s&&s.getTime()>=MF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new YT(Vd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new sa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new YT(Vd(r),e.status,r.weak_password.reasons);throw new nne(Vd(r),e.status||500,n)}const Pne=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Lt(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[iN]||(i[iN]=MF["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Tne(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Tne(e,t,r,n,s,i){const a=Pne(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new aN(Vd(c),0)}if(l.ok||await XT(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await XT(c)}}function po(e){var t;let r=null;Lne(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=fne(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function e3(e){const t=po(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wu(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Rne(e){return{data:e,error:null}}function One(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Bm(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function t3(e){return e}function Lne(e){return e.access_token&&e.refresh_token&&e.expires_in}const o5=["global","local","others"];class Ine{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$F(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=o5[0]){if(o5.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${o5.join(", ")}`);try{return await Lt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wu})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Bm(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:One,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(kt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Lt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wu})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:t3});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(kt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Tf(t);try{return await Lt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wu})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Tf(t);try{return await Lt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:wu})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Tf(t);try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:wu})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Tf(t.userId);try{const{data:r,error:n}=await Lt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Tf(t.userId),Tf(t.id);try{return{data:await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Lt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:t3});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(kt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Lt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Lt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Lt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Lt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}}function r3(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Rf={debug:!!(globalThis&&FF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class BF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Mne extends BF{}async function Dne(e,t,r){Rf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Rf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Mne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rf.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Fne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function UF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $ne(e){return parseInt(e,16)}function Bne(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Une(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=UF(e.address),v=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${f}

${m}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);b+=`
- ${S}`}g+=b}return`${x}
${g}`}class ds extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class jw extends ds{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function qne({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ds({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ds({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ds({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ds({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ds({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ds({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ds({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ds({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(qF(a)){if(i.rp.id!==a)return new ds({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ds({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ds({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ds({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ds({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function zne({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ds({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ds({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(qF(n)){if(r.rpId!==n)return new ds({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ds({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ds({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ds({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Vne{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Wne=new Vne;function Hne(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Bm(e,["challenge","user","excludeCredentials"]),i=bp(t).buffer,a=Object.assign(Object.assign({},r),{id:bp(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:bp(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Gne(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Bm(e,["challenge","allowCredentials"]),s=bp(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:bp(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Yne(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:eh(new Uint8Array(e.response.attestationObject)),clientDataJSON:eh(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Kne(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:eh(new Uint8Array(s.authenticatorData)),clientDataJSON:eh(new Uint8Array(s.clientDataJSON)),signature:eh(new Uint8Array(s.signature)),userHandle:s.userHandle?eh(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function qF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function n3(){var e,t;return!!(zs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Jne(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jw("Browser returned unexpected credential type",t)}:{data:null,error:new jw("Empty credential response",t)}}catch(t){return{data:null,error:qne({error:t,options:e})}}}async function Qne(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jw("Browser returned unexpected credential type",t)}:{data:null,error:new jw("Empty credential response",t)}}catch(t){return{data:null,error:zne({error:t,options:e})}}}const Zne={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Xne={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nw(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=Nw(l,a):n[i]=Nw(a)}else n[i]=a}return n}function ese(e,t){return Nw(Zne,e,t||{})}function tse(e,t){return Nw(Xne,e,t||{})}class rse{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??Wne.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=ese(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await Jne({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=tse(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Qne(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return kt(a)?{data:null,error:a}:{data:null,error:new Kd("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new n0("rpId is required for WebAuthn authentication")};try{if(!n3())return{data:null,error:new Kd("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return kt(a)?{data:null,error:a}:{data:null,error:new Kd("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new n0("rpId is required for WebAuthn registration")};try{if(!n3())return{data:null,error:new Kd("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return kt(a)?{data:null,error:a}:{data:null,error:new Kd("Unexpected error in register",a)}}}}Fne();const nse={url:Zre,storageKey:Xre,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ene,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function s3(e,t,r){return await r()}const Of={};class s0{get jwks(){var t,r;return(r=(t=Of[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Of[this.storageKey]=Object.assign(Object.assign({},Of[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Of[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Of[this.storageKey]=Object.assign(Object.assign({},Of[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},nse),t);if(this.storageKey=i.storageKey,this.instanceID=(r=s0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,s0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&zs()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ine({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$F(i.fetch),this.lock=i.lock||s3,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&zs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Dne:this.lock=s3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rse(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:FF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=r3(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=r3(this.memoryStorage)),zs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${IF}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(zs()&&(r=mne(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),zs()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ane(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return kt(r)?this._returnResult({error:r}):this._returnResult({error:new Kd("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:po}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(kt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Pf(this.storage,this.storageKey)),i=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:v},xform:po})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:po})}else throw new j1("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await Us(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:e3})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:e3})}else throw new j1("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Af;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,d,h,p;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:m,wallet:x,statement:g,options:b}=t;let S;if(zs())if(typeof x=="object")S=x;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")S=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const k=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),T=await S.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=UF(T[0]);let O=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const I=await S.request({method:"eth_chainId"});O=$ne(I)}const D={domain:k.host,address:R,statement:g,uri:k.href,version:"1",chainId:O,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=Une(D),v=await S.request({method:"personal_sign",params:[Bne(f),R]})}try{const{data:m,error:x}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:po});if(x)throw x;if(!m||!m.session||!m.user){const g=new Af;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:x})}catch(m){if(kt(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,h,p,f;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:x,wallet:g,statement:b,options:S}=t;let k;if(zs())if(typeof g=="object")k=g;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))k=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const T=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const R=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),b?{statement:b}:null));let O;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")O=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)O=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)v=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),m=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const R=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=R}}try{const{data:x,error:g}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:eh(m)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:po});if(g)throw g;if(!x||!x.session||!x.user){const b=new Af;return this._returnResult({data:{user:null,session:null},error:b})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(kt(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Dd(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new one;const{data:i,error:a}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:po});if(await Us(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Af;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:po}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Af;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Pf(this.storage,this.storageKey));const{error:h}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new j1("You must provide either an email or phone number.")}catch(l){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:po});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(kt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Pf(this.storage,this.storageKey));const u=await Lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Rne});return!((i=u.data)===null||i===void 0)&&i.url&&zs()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new sa;const{error:s}=await Lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(kt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await Lt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await Lt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new j1("You must provide either an email or phone number and a type")}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Dd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<n5:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Dd(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=a5()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Ene(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wu}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sa}:await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wu})})}catch(r){if(kt(r))return ine(r)&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new sa;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Pf(this.storage,this.storageKey));const{data:u,error:d}=await Lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:wu});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new sa;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=i5(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(kt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new sa;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!zs())throw new N1("No browser detected.");if(t.error||t.error_description||t.error_code)throw new N1(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new GT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new N1("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new GT("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new N1("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const f=p-d;f*1e3<=Wf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:m,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(kt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Dd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(sne(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=pne(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Pf(this.storage,this.storageKey,!0));try{return await Lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Lt(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return zs()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(kt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:po}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Af}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(await Us(this.storage,`${this.storageKey}-code-verifier`),kt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Lt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yne(async s=>(s>0&&await vne(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:po})),(s,i)=>{const a=200*Math.pow(2,s);return i&&s5(i)&&Date.now()+a-n<Wf})}catch(n){if(this._debug(r,"error",n),kt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),zs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Dd(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Dd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Hf(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:a5()}else if(s&&!s.user&&!s.user){const a=await Dd(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Us(this.storage,this.storageKey+"-user"),await Hf(this.storage,this.storageKey,s)):s.user=a5()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<n5;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${n5}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),s5(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ub;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new sa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),kt(i)){const a={data:null,error:i};return s5(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Us(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Hf(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=ZT(s);await Hf(this.storage,this.storageKey,i)}else{const s=ZT(r);await Hf(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Us(this.storage,this.storageKey),await Us(this.storage,this.storageKey+"-code-verifier"),await Us(this.storage,this.storageKey+"-user"),this.userStorage&&await Us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Wf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wf}ms, refresh threshold is ${sN} ticks`),s<=sN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof BF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Pf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Lt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Lt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Yne(t.webauthn.credential_response):Kne(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await Lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Hne(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Gne(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=i5(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Lt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new sa})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new sa});const a=await Lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&zs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(kt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new sa});const a=await Lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&zs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(kt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Lt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new sa})})}catch(t){if(kt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Lt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new sa})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+rne>s)return n;const{data:i,error:a}=await Lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=i5(n);r!=null&&r.allowExpired||Nne(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const d=kne(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,hne(`${l}.${c}`)))throw new oN("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(kt(n))return this._returnResult({data:null,error:n});throw n}}}s0.nextInstanceID={};const sse=s0,ise="2.90.1";let Xg="";typeof Deno<"u"?Xg="deno":typeof document<"u"?Xg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xg="react-native":Xg="node";const ase={"X-Client-Info":`supabase-js-${Xg}/${ise}`},ose={headers:ase},lse={schema:"public"},cse={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},use={};function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}function dse(e,t){if(i0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hse(e){var t=dse(e,"string");return i0(t)=="symbol"?t:t+""}function fse(e,t,r){return(t=hse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(r),!0).forEach(function(n){fse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const pse=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mse=()=>Headers,gse=(e,t,r)=>{const n=pse(r),s=mse();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,zn(zn({},a),{},{headers:u}))}};function vse(e){return e.endsWith("/")?e:e+"/"}function yse(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:zn(zn({},c),s),auth:zn(zn({},u),i),realtime:zn(zn({},d),a),storage:{},global:zn(zn(zn({},h),l),{},{headers:zn(zn({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function xse(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vse(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var wse=class extends sse{constructor(e){super(e)}},bse=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=xse(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:lse,realtime:use,auth:zn(zn({},cse),{},{storageKey:a}),global:ose},c=yse(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=gse(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(zn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new ere(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Qre(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Kte(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wse({url:this.authUrl.href,headers:zn(zn({},p),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vre(this.realtimeUrl.href,zn(zn({},e),{},{params:zn(zn({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const _se=(e,t,r)=>new bse(e,t,r);function Sse(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Sse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jse="https://fjwwkjtfwlomvuqpochk.supabase.co",Nse="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqd3dranRmd2xvbXZ1cXBvY2hrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxODk0NzcsImV4cCI6MjA4Mzc2NTQ3N30.9ZWpneOBq84flxmTv1td3Y0EfA-WvMIskWaI4ux_ccc",Qe=_se(jse,Nse,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),cs=({children:e,requiredRole:t})=>{const{user:r,loading:n}=ui(),[s,i]=w.useState(null),[a,l]=w.useState(null),[c,u]=w.useState(!0);return w.useEffect(()=>{n||(async()=>{if(!r){i(!1),u(!1);return}const{data:h}=await Qe.from("user_roles").select("role").eq("user_id",r.id).maybeSingle();h?(i(!0),l(h.role)):i(!1),u(!1)})()},[r,n]),n||c?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r?s?t&&a!==t&&a!=="admin"?o.jsx(bx,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:e}):o.jsx(bx,{to:"/staff/pending",replace:!0}):o.jsx(bx,{to:"/staff/login",replace:!0})},jt=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));jt.displayName="Card";const Wt=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ie("flex flex-col space-y-1.5 p-6",e),...t}));Wt.displayName="CardHeader";const Mt=w.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:Ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));Mt.displayName="CardTitle";const Ar=w.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:Ie("text-sm text-muted-foreground",e),...t}));Ar.displayName="CardDescription";const Tt=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ie("p-6 pt-0",e),...t}));Tt.displayName="CardContent";const Nl=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ie("flex items-center p-6 pt-0",e),...t}));Nl.displayName="CardFooter";const a0=Am("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ke=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const a=n?fD:"button";return o.jsx(a,{className:Ie(a0({variant:t,size:r,className:e})),ref:i,...s})});ke.displayName="Button";const kse=Am("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Kt({className:e,variant:t,...r}){return o.jsx("div",{className:Ie(kse({variant:t}),e),...r})}function wr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Cse=w.createContext(void 0);function fd(e){const t=w.useContext(Cse);return e||t||"ltr"}var Ese="DismissableLayer",lN="dismissableLayer.update",Ase="dismissableLayer.pointerDownOutside",Pse="dismissableLayer.focusOutside",a3,zF=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VF=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=w.useContext(zF),[d,h]=w.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=w.useState({}),v=wt(t,O=>h(O)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),b=d?m.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=b>=g,T=Ose(O=>{const D=O.target,I=[...u.branches].some(G=>G.contains(D));!k||I||(s==null||s(O),a==null||a(O),O.defaultPrevented||l==null||l())},p),R=Lse(O=>{const D=O.target;[...u.branches].some(G=>G.contains(D))||(i==null||i(O),a==null||a(O),O.defaultPrevented||l==null||l())},p);return kC(O=>{b===u.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(a3=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),o3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=a3)}},[d,p,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),o3())},[d,u]),w.useEffect(()=>{const O=()=>f({});return document.addEventListener(lN,O),()=>document.removeEventListener(lN,O)},[]),o.jsx(Xe.div,{...c,ref:v,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:wr(e.onFocusCapture,R.onFocusCapture),onBlurCapture:wr(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:wr(e.onPointerDownCapture,T.onPointerDownCapture)})});VF.displayName=Ese;var Tse="DismissableLayerBranch",Rse=w.forwardRef((e,t)=>{const r=w.useContext(zF),n=w.useRef(null),s=wt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Xe.div,{...e,ref:s})});Rse.displayName=Tse;function Ose(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){WF(Ase,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Lse(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!n.current&&WF(Pse,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function o3(){const e=new CustomEvent(lN);document.dispatchEvent(e)}function WF(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?L0(s,i):s.dispatchEvent(i)}var l5=0;function Ise(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??l3()),document.body.insertAdjacentElement("beforeend",e[1]??l3()),l5++,()=>{l5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),l5--}},[])}function l3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var c5="focusScope.autoFocusOnMount",u5="focusScope.autoFocusOnUnmount",c3={bubbles:!1,cancelable:!0},Mse="FocusScope",Um=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=w.useState(null),u=Kr(s),d=Kr(i),h=w.useRef(null),p=wt(t,m=>c(m)),f=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let m=function(S){if(f.paused||!l)return;const k=S.target;l.contains(k)?h.current=k:uu(h.current,{select:!0})},x=function(S){if(f.paused||!l)return;const k=S.relatedTarget;k!==null&&(l.contains(k)||uu(h.current,{select:!0}))},g=function(S){if(document.activeElement===document.body)for(const T of S)T.removedNodes.length>0&&uu(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const b=new MutationObserver(g);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),b.disconnect()}}},[n,l,f.paused]),w.useEffect(()=>{if(l){d3.add(f);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(c5,c3);l.addEventListener(c5,u),l.dispatchEvent(g),g.defaultPrevented||(Dse(qse(HF(l)),{select:!0}),document.activeElement===m&&uu(l))}return()=>{l.removeEventListener(c5,u),setTimeout(()=>{const g=new CustomEvent(u5,c3);l.addEventListener(u5,d),l.dispatchEvent(g),g.defaultPrevented||uu(m??document.body,{select:!0}),l.removeEventListener(u5,d),d3.remove(f)},0)}}},[l,u,d,f]);const v=w.useCallback(m=>{if(!r&&!n||f.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(x&&g){const b=m.currentTarget,[S,k]=Fse(b);S&&k?!m.shiftKey&&g===k?(m.preventDefault(),r&&uu(S,{select:!0})):m.shiftKey&&g===S&&(m.preventDefault(),r&&uu(k,{select:!0})):g===b&&m.preventDefault()}},[r,n,f.paused]);return o.jsx(Xe.div,{tabIndex:-1,...a,ref:p,onKeyDown:v})});Um.displayName=Mse;function Dse(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(uu(n,{select:t}),document.activeElement!==r)return}function Fse(e){const t=HF(e),r=u3(t,e),n=u3(t.reverse(),e);return[r,n]}function HF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function u3(e,t){for(const r of e)if(!$se(r,{upTo:t}))return r}function $se(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Bse(e){return e instanceof HTMLInputElement&&"select"in e}function uu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Bse(e)&&t&&e.select()}}var d3=Use();function Use(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=h3(e,t),e.unshift(t)},remove(t){var r;e=h3(e,t),(r=e[0])==null||r.resume()}}}function h3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function qse(e){return e.filter(t=>t.tagName!=="A")}var mE="Popper",[GF,YF]=is(mE),[zse,KF]=GF(mE),JF=e=>{const{__scopePopper:t,children:r}=e,[n,s]=w.useState(null);return o.jsx(zse,{scope:t,anchor:n,onAnchorChange:s,children:r})};JF.displayName=mE;var QF="PopperAnchor",ZF=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=KF(QF,r),a=w.useRef(null),l=wt(t,a),c=w.useRef(null);return w.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||a.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:o.jsx(Xe.div,{...s,ref:l})});ZF.displayName=QF;var gE="PopperContent",[Vse,Wse]=GF(gE),XF=w.forwardRef((e,t)=>{var F,Q,ne,le,ue,fe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...m}=e,x=KF(gE,r),[g,b]=w.useState(null),S=wt(t,_e=>b(_e)),[k,T]=w.useState(null),R=Lb(k),O=(R==null?void 0:R.width)??0,D=(R==null?void 0:R.height)??0,I=n+(i!=="center"?"-"+i:""),G=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],M=A.length>0,$={padding:G,boundary:A.filter(Gse),altBoundary:M},{refs:q,floatingStyles:ee,placement:re,isPositioned:te,middlewareData:W}=w8({strategy:"fixed",placement:I,whileElementsMounted:(..._e)=>y8(..._e,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[b8({mainAxis:s+D,alignmentAxis:a}),c&&_8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?S8():void 0,...$}),c&&j8({...$}),N8({...$,apply:({elements:_e,rects:Me,availableWidth:J,availableHeight:De})=>{const{width:Ge,height:Ye}=Me.reference,ve=_e.floating.style;ve.setProperty("--radix-popper-available-width",`${J}px`),ve.setProperty("--radix-popper-available-height",`${De}px`),ve.setProperty("--radix-popper-anchor-width",`${Ge}px`),ve.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),k&&C8({element:k,padding:l}),Yse({arrowWidth:O,arrowHeight:D}),p&&k8({strategy:"referenceHidden",...$})]}),[Z,pe]=r7(re),ge=Kr(v);Zr(()=>{te&&(ge==null||ge())},[te,ge]);const U=(F=W.arrow)==null?void 0:F.x,_=(Q=W.arrow)==null?void 0:Q.y,C=((ne=W.arrow)==null?void 0:ne.centerOffset)!==0,[E,B]=w.useState();return Zr(()=>{g&&B(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:te?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(le=W.transformOrigin)==null?void 0:le.x,(ue=W.transformOrigin)==null?void 0:ue.y].join(" "),...((fe=W.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Vse,{scope:r,placedSide:Z,onArrowChange:T,arrowX:U,arrowY:_,shouldHideArrow:C,children:o.jsx(Xe.div,{"data-side":Z,"data-align":pe,...m,ref:S,style:{...m.style,animation:te?void 0:"none"}})})})});XF.displayName=gE;var e7="PopperArrow",Hse={top:"bottom",right:"left",bottom:"top",left:"right"},t7=w.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=Wse(e7,n),a=Hse[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(A8,{...s,ref:r,style:{...s.style,display:"block"}})})});t7.displayName=e7;function Gse(e){return e!==null}var Yse=e=>({name:"transformOrigin",options:e,fn(t){var x,g,b;const{placement:r,rects:n,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=r7(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,f=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=a?h:`${p}px`,m=`${-c}px`):u==="top"?(v=a?h:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=a?h:`${f}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=a?h:`${f}px`),{data:{x:v,y:m}}}});function r7(e){const[t,r="center"]=e.split("-");return[t,r]}var Kse=JF,Jse=ZF,Qse=XF,Zse=t7;function Xse(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var q0=e=>{const{present:t,children:r}=e,n=eie(t),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=wt(n.ref,tie(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:i}):null};q0.displayName="Presence";function eie(e){const[t,r]=w.useState(),n=w.useRef(null),s=w.useRef(e),i=w.useRef("none"),a=e?"mounted":"unmounted",[l,c]=Xse(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=k1(n.current);i.current=l==="mounted"?u:"none"},[l]),Zr(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=k1(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Zr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=k1(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=f=>{f.target===t&&(i.current=k1(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function k1(e){return(e==null?void 0:e.animationName)||"none"}function tie(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var d5="rovingFocusGroup.onEntryFocus",rie={bubbles:!1,cancelable:!0},z0="RovingFocusGroup",[cN,n7,nie]=Cm(z0),[sie,s7]=is(z0,[nie]),[iie,aie]=sie(z0),i7=w.forwardRef((e,t)=>o.jsx(cN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(cN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(oie,{...e,ref:t})})}));i7.displayName=z0;var oie=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=w.useRef(null),f=wt(t,p),v=fd(i),[m,x]=ya({prop:a,defaultProp:l??null,onChange:c,caller:z0}),[g,b]=w.useState(!1),S=Kr(u),k=n7(r),T=w.useRef(!1),[R,O]=w.useState(0);return w.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(d5,S),()=>D.removeEventListener(d5,S)},[S]),o.jsx(iie,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:w.useCallback(D=>x(D),[x]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:w.useCallback(()=>O(D=>D-1),[]),children:o.jsx(Xe.div,{tabIndex:g||R===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:wr(e.onMouseDown,()=>{T.current=!0}),onFocus:wr(e.onFocus,D=>{const I=!T.current;if(D.target===D.currentTarget&&I&&!g){const G=new CustomEvent(d5,rie);if(D.currentTarget.dispatchEvent(G),!G.defaultPrevented){const A=k().filter(re=>re.focusable),M=A.find(re=>re.active),$=A.find(re=>re.id===m),ee=[M,$,...A].filter(Boolean).map(re=>re.ref.current);l7(ee,d)}}T.current=!1}),onBlur:wr(e.onBlur,()=>b(!1))})})}),a7="RovingFocusGroupItem",o7=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=li(),u=i||c,d=aie(a7,r),h=d.currentTabStopId===u,p=n7(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return w.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),o.jsx(cN.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(Xe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:wr(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:wr(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:wr(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=uie(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(k=>k.focusable).map(k=>k.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const k=S.indexOf(x.currentTarget);S=d.loop?die(S,k+1):S.slice(k+1)}setTimeout(()=>l7(S))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:m!=null}):a})})});o7.displayName=a7;var lie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cie(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function uie(e,t,r){const n=cie(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return lie[n]}function l7(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function die(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var hie=i7,fie=o7,pie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Lf=new WeakMap,C1=new WeakMap,E1={},h5=0,c7=function(e){return e&&(e.host||c7(e.parentNode))},mie=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=c7(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},gie=function(e,t,r,n){var s=mie(t,Array.isArray(e)?e:[e]);E1[r]||(E1[r]=new WeakMap);var i=E1[r],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var f=p.getAttribute(n),v=f!==null&&f!=="false",m=(Lf.get(p)||0)+1,x=(i.get(p)||0)+1;Lf.set(p,m),i.set(p,x),a.push(p),m===1&&v&&C1.set(p,!0),x===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return d(t),l.clear(),h5++,function(){a.forEach(function(h){var p=Lf.get(h)-1,f=i.get(h)-1;Lf.set(h,p),i.set(h,f),p||(C1.has(h)||h.removeAttribute(n),C1.delete(h)),f||h.removeAttribute(r)}),h5--,h5||(Lf=new WeakMap,Lf=new WeakMap,C1=new WeakMap,E1={})}},V0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=pie(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),gie(n,s,r,"aria-hidden")):function(){return null}},jx="right-scroll-bar-position",Nx="width-before-scroll-bar",vie="with-scroll-bars-hidden",yie="--removed-body-scroll-bar-size";function f5(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xie(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var wie=typeof window<"u"?w.useLayoutEffect:w.useEffect,f3=new WeakMap;function bie(e,t){var r=xie(null,function(n){return e.forEach(function(s){return f5(s,n)})});return wie(function(){var n=f3.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(l){i.has(l)||f5(l,null)}),i.forEach(function(l){s.has(l)||f5(l,a)})}f3.set(r,e)},[e]),r}function _ie(e){return e}function Sie(e,t){t===void 0&&(t=_ie);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function jie(e){e===void 0&&(e={});var t=Sie(null);return t.options=ul({async:!0,ssr:!1},e),t}var u7=function(e){var t=e.sideCar,r=Bm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,ul({},r))};u7.isSideCarExport=!0;function Nie(e,t){return e.useMedium(t),u7}var d7=jie(),p5=function(){},qb=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:p5,onWheelCapture:p5,onTouchMoveCapture:p5}),s=n[0],i=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,v=e.noIsolation,m=e.inert,x=e.allowPinchZoom,g=e.as,b=g===void 0?"div":g,S=e.gapMode,k=Bm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=p,R=bie([r,t]),O=ul(ul({},k),s);return w.createElement(w.Fragment,null,d&&w.createElement(T,{sideCar:d7,removeScrollBar:u,shards:h,noRelative:f,noIsolation:v,inert:m,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:S}),a?w.cloneElement(w.Children.only(l),ul(ul({},O),{ref:R})):w.createElement(b,ul({},O,{className:c,ref:R}),l))});qb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qb.classNames={fullWidth:Nx,zeroRight:jx};var kie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kie();return t&&e.setAttribute("nonce",t),e}function Eie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Aie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Pie=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Cie())&&(Eie(t,r),Aie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Tie=function(){var e=Pie();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},h7=function(){var e=Tie(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},Rie={left:0,top:0,right:0,gap:0},m5=function(e){return parseInt(e||"",10)||0},Oie=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[m5(r),m5(n),m5(s)]},Lie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Rie;var t=Oie(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Iie=h7(),_p="data-scroll-locked",Mie=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(vie,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(_p,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jx,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Nx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(jx," .").concat(jx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Nx," .").concat(Nx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_p,`] {
    `).concat(yie,": ").concat(l,`px;
  }
`)},p3=function(){var e=parseInt(document.body.getAttribute(_p)||"0",10);return isFinite(e)?e:0},Die=function(){w.useEffect(function(){return document.body.setAttribute(_p,(p3()+1).toString()),function(){var e=p3()-1;e<=0?document.body.removeAttribute(_p):document.body.setAttribute(_p,e.toString())}},[])},Fie=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;Die();var i=w.useMemo(function(){return Lie(s)},[s]);return w.createElement(Iie,{styles:Mie(i,!t,s,r?"":"!important")})},uN=!1;if(typeof window<"u")try{var A1=Object.defineProperty({},"passive",{get:function(){return uN=!0,!0}});window.addEventListener("test",A1,A1),window.removeEventListener("test",A1,A1)}catch{uN=!1}var If=uN?{passive:!1}:!1,$ie=function(e){return e.tagName==="TEXTAREA"},f7=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!$ie(e)&&r[t]==="visible")},Bie=function(e){return f7(e,"overflowY")},Uie=function(e){return f7(e,"overflowX")},m3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=p7(e,n);if(s){var i=m7(e,n),a=i[1],l=i[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},qie=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},zie=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},p7=function(e,t){return e==="v"?Bie(t):Uie(t)},m7=function(e,t){return e==="v"?qie(t):zie(t)},Vie=function(e,t){return e==="h"&&t==="rtl"?-1:1},Wie=function(e,t,r,n,s){var i=Vie(e,window.getComputedStyle(t).direction),a=i*n,l=r.target,c=t.contains(l),u=!1,d=a>0,h=0,p=0;do{if(!l)break;var f=m7(e,l),v=f[0],m=f[1],x=f[2],g=m-x-i*v;(v||g)&&p7(e,l)&&(h+=g,p+=v);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},P1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},g3=function(e){return[e.deltaX,e.deltaY]},v3=function(e){return e&&"current"in e?e.current:e},Hie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Gie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Yie=0,Mf=[];function Kie(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),s=w.useState(Yie++)[0],i=w.useState(h7)[0],a=w.useRef(e);w.useEffect(function(){a.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Hte([e.lockRef.current],(e.shards||[]).map(v3),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var g=P1(m),b=r.current,S="deltaX"in m?m.deltaX:b[0]-g[0],k="deltaY"in m?m.deltaY:b[1]-g[1],T,R=m.target,O=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in m&&O==="h"&&R.type==="range")return!1;var D=m3(O,R);if(!D)return!0;if(D?T=O:(T=O==="v"?"h":"v",D=m3(O,R)),!D)return!1;if(!n.current&&"changedTouches"in m&&(S||k)&&(n.current=T),!T)return!0;var I=n.current||T;return Wie(I,x,m,I==="h"?S:k,!0)},[]),c=w.useCallback(function(m){var x=m;if(!(!Mf.length||Mf[Mf.length-1]!==i)){var g="deltaY"in x?g3(x):P1(x),b=t.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&Hie(T.delta,g)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var S=(a.current.shards||[]).map(v3).filter(Boolean).filter(function(T){return T.contains(x.target)}),k=S.length>0?l(x,S[0]):!a.current.noIsolation;k&&x.cancelable&&x.preventDefault()}}},[]),u=w.useCallback(function(m,x,g,b){var S={name:m,delta:x,target:g,should:b,shadowParent:Jie(g)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(k){return k!==S})},1)},[]),d=w.useCallback(function(m){r.current=P1(m),n.current=void 0},[]),h=w.useCallback(function(m){u(m.type,g3(m),m.target,l(m,e.lockRef.current))},[]),p=w.useCallback(function(m){u(m.type,P1(m),m.target,l(m,e.lockRef.current))},[]);w.useEffect(function(){return Mf.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,If),document.addEventListener("touchmove",c,If),document.addEventListener("touchstart",d,If),function(){Mf=Mf.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,If),document.removeEventListener("touchmove",c,If),document.removeEventListener("touchstart",d,If)}},[]);var f=e.removeScrollBar,v=e.inert;return w.createElement(w.Fragment,null,v?w.createElement(i,{styles:Gie(s)}):null,f?w.createElement(Fie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Jie(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Qie=Nie(d7,Kie);var qm=w.forwardRef(function(e,t){return w.createElement(qb,ul({},e,{ref:t,sideCar:Qie}))});qm.classNames=qb.classNames;var dN=["Enter"," "],Zie=["ArrowDown","PageUp","Home"],g7=["ArrowUp","PageDown","End"],Xie=[...Zie,...g7],eae={ltr:[...dN,"ArrowRight"],rtl:[...dN,"ArrowLeft"]},tae={ltr:["ArrowLeft"],rtl:["ArrowRight"]},W0="Menu",[o0,rae,nae]=Cm(W0),[ef,v7]=is(W0,[nae,YF,s7]),zb=YF(),y7=s7(),[sae,tf]=ef(W0),[iae,H0]=ef(W0),x7=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:a=!0}=e,l=zb(t),[c,u]=w.useState(null),d=w.useRef(!1),h=Kr(i),p=fd(s);return w.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(Kse,{...l,children:o.jsx(sae,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(iae,{scope:t,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:a,children:n})})})};x7.displayName=W0;var aae="MenuAnchor",vE=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=zb(r);return o.jsx(Jse,{...s,...n,ref:t})});vE.displayName=aae;var yE="MenuPortal",[oae,w7]=ef(yE,{forceMount:void 0}),b7=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=tf(yE,t);return o.jsx(oae,{scope:t,forceMount:r,children:o.jsx(q0,{present:r||i.open,children:o.jsx(Qh,{asChild:!0,container:s,children:n})})})};b7.displayName=yE;var Ha="MenuContent",[lae,xE]=ef(Ha),_7=w.forwardRef((e,t)=>{const r=w7(Ha,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=tf(Ha,e.__scopeMenu),a=H0(Ha,e.__scopeMenu);return o.jsx(o0.Provider,{scope:e.__scopeMenu,children:o.jsx(q0,{present:n||i.open,children:o.jsx(o0.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(cae,{...s,ref:t}):o.jsx(uae,{...s,ref:t})})})})}),cae=w.forwardRef((e,t)=>{const r=tf(Ha,e.__scopeMenu),n=w.useRef(null),s=wt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return V0(i)},[]),o.jsx(wE,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:wr(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),uae=w.forwardRef((e,t)=>{const r=tf(Ha,e.__scopeMenu);return o.jsx(wE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),dae=kc("MenuContent.ScrollLock"),wE=w.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,disableOutsideScroll:v,...m}=e,x=tf(Ha,r),g=H0(Ha,r),b=zb(r),S=y7(r),k=rae(r),[T,R]=w.useState(null),O=w.useRef(null),D=wt(t,O,x.onContentChange),I=w.useRef(0),G=w.useRef(""),A=w.useRef(0),M=w.useRef(null),$=w.useRef("right"),q=w.useRef(0),ee=v?qm:w.Fragment,re=v?{as:dae,allowPinchZoom:!0}:void 0,te=Z=>{var F,Q;const pe=G.current+Z,ge=k().filter(ne=>!ne.disabled),U=document.activeElement,_=(F=ge.find(ne=>ne.ref.current===U))==null?void 0:F.textValue,C=ge.map(ne=>ne.textValue),E=Sae(C,pe,_),B=(Q=ge.find(ne=>ne.textValue===E))==null?void 0:Q.ref.current;(function ne(le){G.current=le,window.clearTimeout(I.current),le!==""&&(I.current=window.setTimeout(()=>ne(""),1e3))})(pe),B&&setTimeout(()=>B.focus())};w.useEffect(()=>()=>window.clearTimeout(I.current),[]),Ise();const W=w.useCallback(Z=>{var ge,U;return $.current===((ge=M.current)==null?void 0:ge.side)&&Nae(Z,(U=M.current)==null?void 0:U.area)},[]);return o.jsx(lae,{scope:r,searchRef:G,onItemEnter:w.useCallback(Z=>{W(Z)&&Z.preventDefault()},[W]),onItemLeave:w.useCallback(Z=>{var pe;W(Z)||((pe=O.current)==null||pe.focus(),R(null))},[W]),onTriggerLeave:w.useCallback(Z=>{W(Z)&&Z.preventDefault()},[W]),pointerGraceTimerRef:A,onPointerGraceIntentChange:w.useCallback(Z=>{M.current=Z},[]),children:o.jsx(ee,{...re,children:o.jsx(Um,{asChild:!0,trapped:s,onMountAutoFocus:wr(i,Z=>{var pe;Z.preventDefault(),(pe=O.current)==null||pe.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(VF,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,children:o.jsx(hie,{asChild:!0,...S,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:R,onEntryFocus:wr(c,Z=>{g.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Qse,{role:"menu","aria-orientation":"vertical","data-state":F7(x.open),"data-radix-menu-content":"",dir:g.dir,...b,...m,ref:D,style:{outline:"none",...m.style},onKeyDown:wr(m.onKeyDown,Z=>{const ge=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,U=Z.ctrlKey||Z.altKey||Z.metaKey,_=Z.key.length===1;ge&&(Z.key==="Tab"&&Z.preventDefault(),!U&&_&&te(Z.key));const C=O.current;if(Z.target!==C||!Xie.includes(Z.key))return;Z.preventDefault();const B=k().filter(F=>!F.disabled).map(F=>F.ref.current);g7.includes(Z.key)&&B.reverse(),bae(B)}),onBlur:wr(e.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(I.current),G.current="")}),onPointerMove:wr(e.onPointerMove,l0(Z=>{const pe=Z.target,ge=q.current!==Z.clientX;if(Z.currentTarget.contains(pe)&&ge){const U=Z.clientX>q.current?"right":"left";$.current=U,q.current=Z.clientX}}))})})})})})})});_7.displayName=Ha;var hae="MenuGroup",bE=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Xe.div,{role:"group",...n,ref:t})});bE.displayName=hae;var fae="MenuLabel",S7=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Xe.div,{...n,ref:t})});S7.displayName=fae;var kw="MenuItem",y3="menu.itemSelect",Vb=w.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=w.useRef(null),a=H0(kw,e.__scopeMenu),l=xE(kw,e.__scopeMenu),c=wt(t,i),u=w.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const p=new CustomEvent(y3,{bubbles:!0,cancelable:!0});h.addEventListener(y3,f=>n==null?void 0:n(f),{once:!0}),L0(h,p),p.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(j7,{...s,ref:c,disabled:r,onClick:wr(e.onClick,d),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),u.current=!0},onPointerUp:wr(e.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:wr(e.onKeyDown,h=>{const p=l.searchRef.current!=="";r||p&&h.key===" "||dN.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Vb.displayName=kw;var j7=w.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,a=xE(kw,r),l=y7(r),c=w.useRef(null),u=wt(t,c),[d,h]=w.useState(!1),[p,f]=w.useState("");return w.useEffect(()=>{const v=c.current;v&&f((v.textContent??"").trim())},[i.children]),o.jsx(o0.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:o.jsx(fie,{asChild:!0,...l,focusable:!n,children:o.jsx(Xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:wr(e.onPointerMove,l0(v=>{n?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:wr(e.onPointerLeave,l0(v=>a.onItemLeave(v))),onFocus:wr(e.onFocus,()=>h(!0)),onBlur:wr(e.onBlur,()=>h(!1))})})})}),pae="MenuCheckboxItem",N7=w.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(P7,{scope:e.__scopeMenu,checked:r,children:o.jsx(Vb,{role:"menuitemcheckbox","aria-checked":Cw(r)?"mixed":r,...s,ref:t,"data-state":SE(r),onSelect:wr(s.onSelect,()=>n==null?void 0:n(Cw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});N7.displayName=pae;var k7="MenuRadioGroup",[mae,gae]=ef(k7,{value:void 0,onValueChange:()=>{}}),C7=w.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Kr(n);return o.jsx(mae,{scope:e.__scopeMenu,value:r,onValueChange:i,children:o.jsx(bE,{...s,ref:t})})});C7.displayName=k7;var E7="MenuRadioItem",A7=w.forwardRef((e,t)=>{const{value:r,...n}=e,s=gae(E7,e.__scopeMenu),i=r===s.value;return o.jsx(P7,{scope:e.__scopeMenu,checked:i,children:o.jsx(Vb,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":SE(i),onSelect:wr(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});A7.displayName=E7;var _E="MenuItemIndicator",[P7,vae]=ef(_E,{checked:!1}),T7=w.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=vae(_E,r);return o.jsx(q0,{present:n||Cw(i.checked)||i.checked===!0,children:o.jsx(Xe.span,{...s,ref:t,"data-state":SE(i.checked)})})});T7.displayName=_E;var yae="MenuSeparator",R7=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});R7.displayName=yae;var xae="MenuArrow",O7=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=zb(r);return o.jsx(Zse,{...s,...n,ref:t})});O7.displayName=xae;var wae="MenuSub",[R2e,L7]=ef(wae),ev="MenuSubTrigger",I7=w.forwardRef((e,t)=>{const r=tf(ev,e.__scopeMenu),n=H0(ev,e.__scopeMenu),s=L7(ev,e.__scopeMenu),i=xE(ev,e.__scopeMenu),a=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(vE,{asChild:!0,...u,children:o.jsx(j7,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":F7(r.open),...e,ref:O0(t,s.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:wr(e.onPointerMove,l0(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:wr(e.onPointerLeave,l0(h=>{var f,v;d();const p=(f=r.content)==null?void 0:f.getBoundingClientRect();if(p){const m=(v=r.content)==null?void 0:v.dataset.side,x=m==="right",g=x?-5:5,b=p[x?"left":"right"],S=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:b,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:b,y:p.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:wr(e.onKeyDown,h=>{var f;const p=i.searchRef.current!=="";e.disabled||p&&h.key===" "||eae[n.dir].includes(h.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),h.preventDefault())})})})});I7.displayName=ev;var M7="MenuSubContent",D7=w.forwardRef((e,t)=>{const r=w7(Ha,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=tf(Ha,e.__scopeMenu),a=H0(Ha,e.__scopeMenu),l=L7(M7,e.__scopeMenu),c=w.useRef(null),u=wt(t,c);return o.jsx(o0.Provider,{scope:e.__scopeMenu,children:o.jsx(q0,{present:n||i.open,children:o.jsx(o0.Slot,{scope:e.__scopeMenu,children:o.jsx(wE,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:wr(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:wr(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:wr(e.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),p=tae[a.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),d.preventDefault())})})})})})});D7.displayName=M7;function F7(e){return e?"open":"closed"}function Cw(e){return e==="indeterminate"}function SE(e){return Cw(e)?"indeterminate":e?"checked":"unchecked"}function bae(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function _ae(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Sae(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=_ae(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function jae(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function Nae(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return jae(r,t)}function l0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var kae=x7,Cae=vE,Eae=b7,Aae=_7,Pae=bE,Tae=S7,Rae=Vb,Oae=N7,Lae=C7,Iae=A7,Mae=T7,Dae=R7,Fae=O7,$ae=I7,Bae=D7,Wb="DropdownMenu",[Uae,O2e]=is(Wb,[v7]),Pi=v7(),[qae,$7]=Uae(Wb),B7=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,c=Pi(t),u=w.useRef(null),[d,h]=ya({prop:s,defaultProp:i??!1,onChange:a,caller:Wb});return o.jsx(qae,{scope:t,triggerId:li(),triggerRef:u,contentId:li(),open:d,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(p=>!p),[h]),modal:l,children:o.jsx(kae,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};B7.displayName=Wb;var U7="DropdownMenuTrigger",q7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=$7(U7,r),a=Pi(r);return o.jsx(Cae,{asChild:!0,...a,children:o.jsx(Xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:O0(t,i.triggerRef),onPointerDown:wr(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:wr(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});q7.displayName=U7;var zae="DropdownMenuPortal",z7=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Pi(t);return o.jsx(Eae,{...n,...r})};z7.displayName=zae;var V7="DropdownMenuContent",W7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$7(V7,r),i=Pi(r),a=w.useRef(!1);return o.jsx(Aae,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:wr(e.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:wr(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});W7.displayName=V7;var Vae="DropdownMenuGroup",Wae=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pi(r);return o.jsx(Pae,{...s,...n,ref:t})});Wae.displayName=Vae;var Hae="DropdownMenuLabel",H7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pi(r);return o.jsx(Tae,{...s,...n,ref:t})});H7.displayName=Hae;var Gae="DropdownMenuItem",G7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pi(r);return o.jsx(Rae,{...s,...n,ref:t})});G7.displayName=Gae;var Yae="DropdownMenuCheckboxItem",Y7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pi(r);return o.jsx(Oae,{...s,...n,ref:t})});Y7.displayName=Yae;var Kae="DropdownMenuRadioGroup",Jae=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pi(r);return o.jsx(Lae,{...s,...n,ref:t})});Jae.displayName=Kae;var Qae="DropdownMenuRadioItem",K7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pi(r);return o.jsx(Iae,{...s,...n,ref:t})});K7.displayName=Qae;var Zae="DropdownMenuItemIndicator",J7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pi(r);return o.jsx(Mae,{...s,...n,ref:t})});J7.displayName=Zae;var Xae="DropdownMenuSeparator",Q7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pi(r);return o.jsx(Dae,{...s,...n,ref:t})});Q7.displayName=Xae;var eoe="DropdownMenuArrow",toe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pi(r);return o.jsx(Fae,{...s,...n,ref:t})});toe.displayName=eoe;var roe="DropdownMenuSubTrigger",Z7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pi(r);return o.jsx($ae,{...s,...n,ref:t})});Z7.displayName=roe;var noe="DropdownMenuSubContent",X7=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pi(r);return o.jsx(Bae,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});X7.displayName=noe;var soe=B7,ioe=q7,aoe=z7,e$=W7,t$=H7,r$=G7,n$=Y7,s$=K7,i$=J7,a$=Q7,o$=Z7,l$=X7;const nd=soe,sd=ioe,ooe=w.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(o$,{ref:s,className:Ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(cp,{className:"ml-auto h-4 w-4"})]}));ooe.displayName=o$.displayName;const loe=w.forwardRef(({className:e,...t},r)=>o.jsx(l$,{ref:r,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));loe.displayName=l$.displayName;const Oc=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(aoe,{children:o.jsx(e$,{ref:n,sideOffset:t,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Oc.displayName=e$.displayName;const hn=w.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(r$,{ref:n,className:Ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));hn.displayName=r$.displayName;const coe=w.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(n$,{ref:s,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(i$,{children:o.jsx(PC,{className:"h-4 w-4"})})}),t]}));coe.displayName=n$.displayName;const uoe=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(s$,{ref:n,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(i$,{children:o.jsx(HD,{className:"h-2 w-2 fill-current"})})}),t]}));uoe.displayName=s$.displayName;const jE=w.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(t$,{ref:n,className:Ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));jE.displayName=t$.displayName;const sm=w.forwardRef(({className:e,...t},r)=>o.jsx(a$,{ref:r,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));sm.displayName=a$.displayName;function Gu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var doe="DismissableLayer",hN="dismissableLayer.update",hoe="dismissableLayer.pointerDownOutside",foe="dismissableLayer.focusOutside",x3,c$=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),u$=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=w.useContext(c$),[d,h]=w.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=w.useState({}),v=wt(t,O=>h(O)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),b=d?m.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=b>=g,T=goe(O=>{const D=O.target,I=[...u.branches].some(G=>G.contains(D));!k||I||(s==null||s(O),a==null||a(O),O.defaultPrevented||l==null||l())},p),R=voe(O=>{const D=O.target;[...u.branches].some(G=>G.contains(D))||(i==null||i(O),a==null||a(O),O.defaultPrevented||l==null||l())},p);return kC(O=>{b===u.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(x3=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),w3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=x3)}},[d,p,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),w3())},[d,u]),w.useEffect(()=>{const O=()=>f({});return document.addEventListener(hN,O),()=>document.removeEventListener(hN,O)},[]),o.jsx(Xe.div,{...c,ref:v,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:Gu(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Gu(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Gu(e.onPointerDownCapture,T.onPointerDownCapture)})});u$.displayName=doe;var poe="DismissableLayerBranch",moe=w.forwardRef((e,t)=>{const r=w.useContext(c$),n=w.useRef(null),s=wt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Xe.div,{...e,ref:s})});moe.displayName=poe;function goe(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){d$(hoe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function voe(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!n.current&&d$(foe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function w3(){const e=new CustomEvent(hN);document.dispatchEvent(e)}function d$(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?L0(s,i):s.dispatchEvent(i)}function yoe(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var Hb=e=>{const{present:t,children:r}=e,n=xoe(t),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=wt(n.ref,woe(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:i}):null};Hb.displayName="Presence";function xoe(e){const[t,r]=w.useState(),n=w.useRef(null),s=w.useRef(e),i=w.useRef("none"),a=e?"mounted":"unmounted",[l,c]=yoe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=T1(n.current);i.current=l==="mounted"?u:"none"},[l]),Zr(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=T1(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Zr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=T1(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=f=>{f.target===t&&(i.current=T1(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function T1(e){return(e==null?void 0:e.animationName)||"none"}function woe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var g5=0;function boe(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??b3()),document.body.insertAdjacentElement("beforeend",e[1]??b3()),g5++,()=>{g5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),g5--}},[])}function b3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gb="Dialog",[h$,L2e]=is(Gb),[_oe,Uo]=h$(Gb),f$=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=ya({prop:n,defaultProp:s??!1,onChange:i,caller:Gb});return o.jsx(_oe,{scope:t,triggerRef:l,contentRef:c,contentId:li(),titleId:li(),descriptionId:li(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};f$.displayName=Gb;var p$="DialogTrigger",m$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Uo(p$,r),i=wt(t,s.triggerRef);return o.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":CE(s.open),...n,ref:i,onClick:Gu(e.onClick,s.onOpenToggle)})});m$.displayName=p$;var NE="DialogPortal",[Soe,g$]=h$(NE,{forceMount:void 0}),v$=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Uo(NE,t);return o.jsx(Soe,{scope:t,forceMount:r,children:w.Children.map(n,a=>o.jsx(Hb,{present:r||i.open,children:o.jsx(Qh,{asChild:!0,container:s,children:a})}))})};v$.displayName=NE;var Ew="DialogOverlay",y$=w.forwardRef((e,t)=>{const r=g$(Ew,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Uo(Ew,e.__scopeDialog);return i.modal?o.jsx(Hb,{present:n||i.open,children:o.jsx(Noe,{...s,ref:t})}):null});y$.displayName=Ew;var joe=kc("DialogOverlay.RemoveScroll"),Noe=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Uo(Ew,r);return o.jsx(qm,{as:joe,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Xe.div,{"data-state":CE(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Rh="DialogContent",x$=w.forwardRef((e,t)=>{const r=g$(Rh,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Uo(Rh,e.__scopeDialog);return o.jsx(Hb,{present:n||i.open,children:i.modal?o.jsx(koe,{...s,ref:t}):o.jsx(Coe,{...s,ref:t})})});x$.displayName=Rh;var koe=w.forwardRef((e,t)=>{const r=Uo(Rh,e.__scopeDialog),n=w.useRef(null),s=wt(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return V0(i)},[]),o.jsx(w$,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Gu(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Gu(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:Gu(e.onFocusOutside,i=>i.preventDefault())})}),Coe=w.forwardRef((e,t)=>{const r=Uo(Rh,e.__scopeDialog),n=w.useRef(!1),s=w.useRef(!1);return o.jsx(w$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),w$=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=Uo(Rh,r),c=w.useRef(null),u=wt(t,c);return boe(),o.jsxs(o.Fragment,{children:[o.jsx(Um,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(u$,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":CE(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Eoe,{titleId:l.titleId}),o.jsx(Poe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),kE="DialogTitle",b$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Uo(kE,r);return o.jsx(Xe.h2,{id:s.titleId,...n,ref:t})});b$.displayName=kE;var _$="DialogDescription",S$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Uo(_$,r);return o.jsx(Xe.p,{id:s.descriptionId,...n,ref:t})});S$.displayName=_$;var j$="DialogClose",N$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Uo(j$,r);return o.jsx(Xe.button,{type:"button",...n,ref:t,onClick:Gu(e.onClick,()=>s.onOpenChange(!1))})});N$.displayName=j$;function CE(e){return e?"open":"closed"}var k$="DialogTitleWarning",[I2e,C$]=hD(k$,{contentName:Rh,titleName:kE,docsSlug:"dialog"}),Eoe=({titleId:e})=>{const t=C$(k$),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Aoe="DialogDescriptionWarning",Poe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${C$(Aoe).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},E$=f$,A$=m$,P$=v$,Yb=y$,Kb=x$,Jb=b$,Qb=S$,T$=N$;const fs=E$,xl=A$,Toe=P$,R$=w.forwardRef(({className:e,...t},r)=>o.jsx(Yb,{ref:r,className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));R$.displayName=Yb.displayName;const ns=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Toe,{children:[o.jsx(R$,{}),o.jsxs(Kb,{ref:n,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(T$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Tm,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ns.displayName=Kb.displayName;const ks=({className:e,...t})=>o.jsx("div",{className:Ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ks.displayName="DialogHeader";const zm=({className:e,...t})=>o.jsx("div",{className:Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});zm.displayName="DialogFooter";const ps=w.forwardRef(({className:e,...t},r)=>o.jsx(Jb,{ref:r,className:Ie("text-lg font-semibold leading-none tracking-tight",e),...t}));ps.displayName=Jb.displayName;const Ys=w.forwardRef(({className:e,...t},r)=>o.jsx(Qb,{ref:r,className:Ie("text-sm text-muted-foreground",e),...t}));Ys.displayName=Qb.displayName;const ht=w.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ht.displayName="Input";var Roe="Label",O$=w.forwardRef((e,t)=>o.jsx(Xe.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));O$.displayName=Roe;var L$=O$;const Ooe=Am("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),lt=w.forwardRef(({className:e,...t},r)=>o.jsx(L$,{ref:r,className:Ie(Ooe(),e),...t}));lt.displayName=L$.displayName;const Ao=w.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:Ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ao.displayName="Textarea";function fN(e,[t,r]){return Math.min(r,Math.max(t,e))}var v5=0;function EE(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_3()),document.body.insertAdjacentElement("beforeend",e[1]??_3()),v5++,()=>{v5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),v5--}},[])}function _3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function AE(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Loe=[" ","Enter","ArrowUp","ArrowDown"],Ioe=[" ","Enter"],Oh="Select",[Zb,Xb,Moe]=Cm(Oh),[Vm,M2e]=is(Oh,[Moe,Im]),e2=Im(),[Doe,pd]=Vm(Oh),[Foe,$oe]=Vm(Oh),I$=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:v}=e,m=e2(t),[x,g]=w.useState(null),[b,S]=w.useState(null),[k,T]=w.useState(!1),R=fd(u),[O,D]=ya({prop:n,defaultProp:s??!1,onChange:i,caller:Oh}),[I,G]=ya({prop:a,defaultProp:l,onChange:c,caller:Oh}),A=w.useRef(null),M=x?v||!!x.closest("form"):!0,[$,q]=w.useState(new Set),ee=Array.from($).map(re=>re.props.value).join(";");return o.jsx($8,{...m,children:o.jsxs(Doe,{required:f,scope:t,trigger:x,onTriggerChange:g,valueNode:b,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:T,contentId:li(),value:I,onValueChange:G,open:O,onOpenChange:D,dir:R,triggerPointerDownPosRef:A,disabled:p,children:[o.jsx(Zb.Provider,{scope:t,children:o.jsx(Foe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(re=>{q(te=>new Set(te).add(re))},[]),onNativeOptionRemove:w.useCallback(re=>{q(te=>{const W=new Set(te);return W.delete(re),W})},[]),children:r})}),M?o.jsxs(i9,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:re=>G(re.target.value),disabled:p,form:v,children:[I===void 0?o.jsx("option",{value:""}):null,Array.from($)]},ee):null]})})};I$.displayName=Oh;var M$="SelectTrigger",D$=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=e2(r),a=pd(M$,r),l=a.disabled||n,c=wt(t,a.onTriggerChange),u=Xb(r),d=w.useRef("touch"),[h,p,f]=o9(m=>{const x=u().filter(S=>!S.disabled),g=x.find(S=>S.value===a.value),b=l9(x,m,g);b!==void 0&&a.onValueChange(b.value)}),v=m=>{l||(a.onOpenChange(!0),f()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(Ib,{asChild:!0,...i,children:o.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":a9(a.value)?"":void 0,...s,ref:c,onClick:dt(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:dt(s.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:dt(s.onKeyDown,m=>{const x=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(x&&m.key===" ")&&Loe.includes(m.key)&&(v(),m.preventDefault())})})})});D$.displayName=M$;var F$="SelectValue",$$=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...l}=e,c=pd(F$,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=wt(t,c.onValueNodeChange);return Zr(()=>{u(d)},[u,d]),o.jsx(Xe.span,{...l,ref:h,style:{pointerEvents:"none"},children:a9(c.value)?o.jsx(o.Fragment,{children:a}):i})});$$.displayName=F$;var Boe="SelectIcon",B$=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(Xe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});B$.displayName=Boe;var Uoe="SelectPortal",U$=e=>o.jsx(Qh,{asChild:!0,...e});U$.displayName=Uoe;var Lh="SelectContent",q$=w.forwardRef((e,t)=>{const r=pd(Lh,e.__scopeSelect),[n,s]=w.useState();if(Zr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Jh.createPortal(o.jsx(z$,{scope:e.__scopeSelect,children:o.jsx(Zb.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(V$,{...e,ref:t})});q$.displayName=Lh;var mo=10,[z$,md]=Vm(Lh),qoe="SelectContentImpl",zoe=kc("SelectContent.RemoveScroll"),V$=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:x,...g}=e,b=pd(Lh,r),[S,k]=w.useState(null),[T,R]=w.useState(null),O=wt(t,F=>k(F)),[D,I]=w.useState(null),[G,A]=w.useState(null),M=Xb(r),[$,q]=w.useState(!1),ee=w.useRef(!1);w.useEffect(()=>{if(S)return V0(S)},[S]),EE();const re=w.useCallback(F=>{const[Q,...ne]=M().map(fe=>fe.ref.current),[le]=ne.slice(-1),ue=document.activeElement;for(const fe of F)if(fe===ue||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===Q&&T&&(T.scrollTop=0),fe===le&&T&&(T.scrollTop=T.scrollHeight),fe==null||fe.focus(),document.activeElement!==ue))return},[M,T]),te=w.useCallback(()=>re([D,S]),[re,D,S]);w.useEffect(()=>{$&&te()},[$,te]);const{onOpenChange:W,triggerPointerDownPosRef:Z}=b;w.useEffect(()=>{if(S){let F={x:0,y:0};const Q=le=>{var ue,fe;F={x:Math.abs(Math.round(le.pageX)-(((ue=Z.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(le.pageY)-(((fe=Z.current)==null?void 0:fe.y)??0))}},ne=le=>{F.x<=10&&F.y<=10?le.preventDefault():S.contains(le.target)||W(!1),document.removeEventListener("pointermove",Q),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",ne,{capture:!0})}}},[S,W,Z]),w.useEffect(()=>{const F=()=>W(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[W]);const[pe,ge]=o9(F=>{const Q=M().filter(ue=>!ue.disabled),ne=Q.find(ue=>ue.ref.current===document.activeElement),le=l9(Q,F,ne);le&&setTimeout(()=>le.ref.current.focus())}),U=w.useCallback((F,Q,ne)=>{const le=!ee.current&&!ne;(b.value!==void 0&&b.value===Q||le)&&(I(F),le&&(ee.current=!0))},[b.value]),_=w.useCallback(()=>S==null?void 0:S.focus(),[S]),C=w.useCallback((F,Q,ne)=>{const le=!ee.current&&!ne;(b.value!==void 0&&b.value===Q||le)&&A(F)},[b.value]),E=n==="popper"?pN:W$,B=E===pN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:x}:{};return o.jsx(z$,{scope:r,content:S,viewport:T,onViewportChange:R,itemRefCallback:U,selectedItem:D,onItemLeave:_,itemTextRefCallback:C,focusSelectedItem:te,selectedItemText:G,position:n,isPositioned:$,searchRef:pe,children:o.jsx(qm,{as:zoe,allowPinchZoom:!0,children:o.jsx(Um,{asChild:!0,trapped:b.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:dt(s,F=>{var Q;(Q=b.trigger)==null||Q.focus({preventScroll:!0}),F.preventDefault()}),children:o.jsx(Em,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(E,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:F=>F.preventDefault(),...g,...B,onPlaced:()=>q(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:dt(g.onKeyDown,F=>{const Q=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!Q&&F.key.length===1&&ge(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let le=M().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(F.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const ue=F.target,fe=le.indexOf(ue);le=le.slice(fe+1)}setTimeout(()=>re(le)),F.preventDefault()}})})})})})})});V$.displayName=qoe;var Voe="SelectItemAlignedPosition",W$=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=pd(Lh,r),a=md(Lh,r),[l,c]=w.useState(null),[u,d]=w.useState(null),h=wt(t,O=>d(O)),p=Xb(r),f=w.useRef(!1),v=w.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:g,focusSelectedItem:b}=a,S=w.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&x&&g){const O=i.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),G=g.getBoundingClientRect();if(i.dir!=="rtl"){const ue=G.left-D.left,fe=I.left-ue,_e=O.left-fe,Me=O.width+_e,J=Math.max(Me,D.width),De=window.innerWidth-mo,Ge=fN(fe,[mo,Math.max(mo,De-J)]);l.style.minWidth=Me+"px",l.style.left=Ge+"px"}else{const ue=D.right-G.right,fe=window.innerWidth-I.right-ue,_e=window.innerWidth-O.right-fe,Me=O.width+_e,J=Math.max(Me,D.width),De=window.innerWidth-mo,Ge=fN(fe,[mo,Math.max(mo,De-J)]);l.style.minWidth=Me+"px",l.style.right=Ge+"px"}const A=p(),M=window.innerHeight-mo*2,$=m.scrollHeight,q=window.getComputedStyle(u),ee=parseInt(q.borderTopWidth,10),re=parseInt(q.paddingTop,10),te=parseInt(q.borderBottomWidth,10),W=parseInt(q.paddingBottom,10),Z=ee+re+$+W+te,pe=Math.min(x.offsetHeight*5,Z),ge=window.getComputedStyle(m),U=parseInt(ge.paddingTop,10),_=parseInt(ge.paddingBottom,10),C=O.top+O.height/2-mo,E=M-C,B=x.offsetHeight/2,F=x.offsetTop+B,Q=ee+re+F,ne=Z-Q;if(Q<=C){const ue=A.length>0&&x===A[A.length-1].ref.current;l.style.bottom="0px";const fe=u.clientHeight-m.offsetTop-m.offsetHeight,_e=Math.max(E,B+(ue?_:0)+fe+te),Me=Q+_e;l.style.height=Me+"px"}else{const ue=A.length>0&&x===A[0].ref.current;l.style.top="0px";const _e=Math.max(C,ee+m.offsetTop+(ue?U:0)+B)+ne;l.style.height=_e+"px",m.scrollTop=Q-C+m.offsetTop}l.style.margin=`${mo}px 0`,l.style.minHeight=pe+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,l,u,m,x,g,i.dir,n]);Zr(()=>S(),[S]);const[k,T]=w.useState();Zr(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const R=w.useCallback(O=>{O&&v.current===!0&&(S(),b==null||b(),v.current=!1)},[S,b]);return o.jsx(Hoe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:o.jsx(Xe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});W$.displayName=Voe;var Woe="SelectPopperPosition",pN=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=mo,...i}=e,a=e2(r);return o.jsx(JC,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});pN.displayName=Woe;var[Hoe,PE]=Vm(Lh,{}),mN="SelectViewport",H$=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=md(mN,r),a=PE(mN,r),l=wt(t,i.onViewportChange),c=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Zb.Slot,{scope:r,children:o.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:dt(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const v=window.innerHeight-mo*2,m=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),g=Math.max(m,x);if(g<v){const b=g+f,S=Math.min(v,b),k=b-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});H$.displayName=mN;var G$="SelectGroup",[Goe,Yoe]=Vm(G$),Koe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=li();return o.jsx(Goe,{scope:r,id:s,children:o.jsx(Xe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Koe.displayName=G$;var Y$="SelectLabel",K$=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Yoe(Y$,r);return o.jsx(Xe.div,{id:s.id,...n,ref:t})});K$.displayName=Y$;var Aw="SelectItem",[Joe,J$]=Vm(Aw),Q$=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,l=pd(Aw,r),c=md(Aw,r),u=l.value===n,[d,h]=w.useState(i??""),[p,f]=w.useState(!1),v=wt(t,b=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,b,n,s)}),m=li(),x=w.useRef("touch"),g=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Joe,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:w.useCallback(b=>{h(S=>S||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(Zb.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(Xe.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:dt(a.onFocus,()=>f(!0)),onBlur:dt(a.onBlur,()=>f(!1)),onClick:dt(a.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:dt(a.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:dt(a.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:dt(a.onPointerMove,b=>{var S;x.current=b.pointerType,s?(S=c.onItemLeave)==null||S.call(c):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(a.onPointerLeave,b=>{var S;b.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:dt(a.onKeyDown,b=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&b.key===" "||(Ioe.includes(b.key)&&g(),b.key===" "&&b.preventDefault())})})})})});Q$.displayName=Aw;var tv="SelectItemText",Z$=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=pd(tv,r),l=md(tv,r),c=J$(tv,r),u=$oe(tv,r),[d,h]=w.useState(null),p=wt(t,g=>h(g),c.onItemTextChange,g=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,g,c.value,c.disabled)}),f=d==null?void 0:d.textContent,v=w.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return Zr(()=>(m(v),()=>x(v)),[m,x,v]),o.jsxs(o.Fragment,{children:[o.jsx(Xe.span,{id:c.textId,...i,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Jh.createPortal(i.children,a.valueNode):null]})});Z$.displayName=tv;var X$="SelectItemIndicator",e9=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return J$(X$,r).isSelected?o.jsx(Xe.span,{"aria-hidden":!0,...n,ref:t}):null});e9.displayName=X$;var gN="SelectScrollUpButton",t9=w.forwardRef((e,t)=>{const r=md(gN,e.__scopeSelect),n=PE(gN,e.__scopeSelect),[s,i]=w.useState(!1),a=wt(t,n.onScrollButtonChange);return Zr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(n9,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});t9.displayName=gN;var vN="SelectScrollDownButton",r9=w.forwardRef((e,t)=>{const r=md(vN,e.__scopeSelect),n=PE(vN,e.__scopeSelect),[s,i]=w.useState(!1),a=wt(t,n.onScrollButtonChange);return Zr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(n9,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});r9.displayName=vN;var n9=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=md("SelectScrollButton",r),a=w.useRef(null),l=Xb(r),c=w.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Zr(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Xe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:dt(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:dt(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:dt(s.onPointerLeave,()=>{c()})})}),Qoe="SelectSeparator",s9=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Xe.div,{"aria-hidden":!0,...n,ref:t})});s9.displayName=Qoe;var yN="SelectArrow",Zoe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=e2(r),i=pd(yN,r),a=md(yN,r);return i.open&&a.position==="popper"?o.jsx(QC,{...s,...n,ref:t}):null});Zoe.displayName=yN;var Xoe="SelectBubbleInput",i9=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=w.useRef(null),i=wt(n,s),a=AE(t);return w.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[a,t]),o.jsx(Xe.select,{...r,style:{...xD,...r.style},ref:i,defaultValue:t})});i9.displayName=Xoe;function a9(e){return e===""||e===void 0}function o9(e){const t=Kr(e),r=w.useRef(""),n=w.useRef(0),s=w.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function l9(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=ele(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function ele(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var tle=I$,c9=D$,rle=$$,nle=B$,sle=U$,u9=q$,ile=H$,d9=K$,h9=Q$,ale=Z$,ole=e9,f9=t9,p9=r9,m9=s9;const Ir=tle,Mr=rle,Tr=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(c9,{ref:n,className:Ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(nle,{asChild:!0,children:o.jsx(TC,{className:"h-4 w-4 opacity-50"})})]}));Tr.displayName=c9.displayName;const g9=w.forwardRef(({className:e,...t},r)=>o.jsx(f9,{ref:r,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(_J,{className:"h-4 w-4"})}));g9.displayName=f9.displayName;const v9=w.forwardRef(({className:e,...t},r)=>o.jsx(p9,{ref:r,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(TC,{className:"h-4 w-4"})}));v9.displayName=p9.displayName;const Rr=w.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(sle,{children:o.jsxs(u9,{ref:s,className:Ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(g9,{}),o.jsx(ile,{className:Ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(v9,{})]})}));Rr.displayName=u9.displayName;const lle=w.forwardRef(({className:e,...t},r)=>o.jsx(d9,{ref:r,className:Ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));lle.displayName=d9.displayName;const We=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(h9,{ref:n,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(ole,{children:o.jsx(PC,{className:"h-4 w-4"})})}),o.jsx(ale,{children:t})]}));We.displayName=h9.displayName;const cle=w.forwardRef(({className:e,...t},r)=>o.jsx(m9,{ref:r,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));cle.displayName=m9.displayName;const ule=({delaySeconds:e=10})=>{const[t,r]=w.useState(!1),[n,s]=w.useState(!1),i=Js();w.useEffect(()=>{if(sessionStorage.getItem("loginPromptShown")){s(!0);return}const c=setTimeout(()=>{n||(r(!0),s(!0),sessionStorage.setItem("loginPromptShown","true"))},e*1e3);return()=>clearTimeout(c)},[e,n]);const a=l=>{r(!1),i(l)};return o.jsx(fs,{open:t,onOpenChange:r,children:o.jsxs(ns,{className:"sm:max-w-[500px] border-none shadow-2xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-md p-0 overflow-hidden rounded-2xl",children:[o.jsx("button",{onClick:()=>r(!1),className:"absolute right-4 top-4 z-50 p-2 bg-black/5 dark:bg-white/10 rounded-full hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:o.jsx(Tm,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-600/10 to-purple-600/10 p-8 text-center pb-6",children:[o.jsx("div",{className:"w-16 h-16 mx-auto bg-white rounded-2xl shadow-lg flex items-center justify-center mb-4 transition-transform hover:scale-105 duration-300",children:o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"w-10 h-10 object-contain"})}),o.jsx(ps,{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-600 to-teal-600 dark:from-emerald-400 dark:to-teal-400 mb-2",children:"Welcome to Medicare"}),o.jsx(Ys,{className:"text-muted-foreground max-w-sm mx-auto",children:"Access personalized care, view reports, or manage hospital operations securely."})]}),o.jsxs("div",{className:"p-6 grid grid-cols-2 gap-4",children:[o.jsxs("div",{onClick:()=>a("/patient/login"),className:"group cursor-pointer relative p-5 rounded-2xl border border-border/50 bg-card hover:bg-blue-50/50 dark:hover:bg-blue-900/20 hover:border-blue-200 dark:hover:border-blue-700 transition-all duration-300 hover:shadow-md",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:o.jsx(Wa,{className:"h-6 w-6"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Patient Portal"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-snug mb-3",children:"Book appointments & view medical records"}),o.jsxs("div",{className:"flex items-center text-xs font-medium text-blue-600 dark:text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity -translate-x-2 group-hover:translate-x-0 duration-300",children:["Sign In ",o.jsx(em,{className:"h-3 w-3 ml-1"})]})]}),o.jsxs("div",{onClick:()=>a("/staff/login"),className:"group cursor-pointer relative p-5 rounded-2xl border border-border/50 bg-card hover:bg-emerald-50/50 dark:hover:bg-emerald-900/20 hover:border-emerald-200 dark:hover:border-emerald-700 transition-all duration-300 hover:shadow-md",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:o.jsx(Vi,{className:"h-6 w-6"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Staff Portal"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-snug mb-3",children:"For doctors, nurses & hospital staff"}),o.jsxs("div",{className:"flex items-center text-xs font-medium text-emerald-600 dark:text-emerald-400 opacity-0 group-hover:opacity-100 transition-opacity -translate-x-2 group-hover:translate-x-0 duration-300",children:["Staff Login ",o.jsx(em,{className:"h-3 w-3 ml-1"})]})]})]}),o.jsx("div",{className:"pb-6 text-center",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["New patient?"," ",o.jsx(Hr,{to:"/patient/register",onClick:()=>r(!1),className:"text-primary font-medium hover:underline hover:text-primary/80 transition-colors",children:"Create an account"})]})})]})]})})},dle=({name:e,specialty:t,experience:r,rating:n=4.5,available:s=!0})=>o.jsx(jt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:o.jsx(Tt,{className:"p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary/20 to-primary/40 flex items-center justify-center flex-shrink-0",children:o.jsx(ko,{className:"h-8 w-8 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-lg truncate",children:e}),o.jsx("p",{className:"text-primary font-medium text-sm",children:t}),r&&o.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:r}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(DC,{className:"h-4 w-4 text-amber-500 fill-amber-500"}),o.jsx("span",{className:"text-sm font-medium",children:n.toFixed(1)})]}),o.jsx(Kt,{variant:s?"default":"secondary",className:"text-xs",children:s?"Available":"Busy"})]})]})]})})}),hle=[{icon:$C,title:"Create Account",description:"Sign up for a patient account using your email address and phone number.",color:"bg-blue-100 text-blue-600"},{icon:xh,title:"Book Appointment",description:"Choose your preferred department, doctor, date, and time for your visit.",color:"bg-emerald-100 text-emerald-600"},{icon:Xh,title:"Get Confirmation",description:"Receive instant confirmation via call or message with appointment details.",color:"bg-purple-100 text-purple-600"},{icon:RJ,title:"Use AI Assistant",description:"Chat with Maya, our AI assistant, for quick answers and guidance.",color:"bg-amber-100 text-amber-600"},{icon:Ec,title:"Visit Hospital",description:"Arrive at your scheduled time with your confirmation details.",color:"bg-rose-100 text-rose-600"}],fle=()=>{const e=t=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const r=new SpeechSynthesisUtterance(t),s=window.speechSynthesis.getVoices().find(i=>i.name.includes("Female")||i.name.includes("Samantha")||i.name.includes("Google US English"));s&&(r.voice=s),r.pitch=1,r.rate=1,window.speechSynthesis.speak(r)}};return o.jsx("section",{className:"py-16 px-4 bg-gradient-to-b from-muted/30 to-background",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"How to Use Our Services"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Getting started is easy. Follow these simple steps to book your appointment and access our healthcare services."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:hle.map((t,r)=>o.jsxs(jt,{className:"relative overflow-hidden cursor-pointer hover:scale-105 hover:shadow-lg transition-all duration-300 group",onClick:()=>e(`${t.title}. ${t.description}`),children:[o.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 bg-primary text-primary-foreground flex items-center justify-center font-bold text-sm rounded-br-lg z-10",children:r+1}),o.jsx("div",{className:"absolute inset-0 bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),o.jsxs(Wt,{className:"pt-10 pb-2",children:[o.jsx("div",{className:`w-12 h-12 rounded-full ${t.color} flex items-center justify-center mb-3 group-hover:animate-bounce`,children:o.jsx(t.icon,{className:"h-6 w-6"})}),o.jsx(Mt,{className:"text-lg",children:t.title})]}),o.jsxs(Tt,{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:t.description}),o.jsx("p",{className:"text-xs text-primary mt-2 opacity-0 group-hover:opacity-100 transition-opacity font-medium",children:"Click to listen"})]})]},t.title))})]})})},ple={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function mle(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function gle(e,t){const r=e.rootNode();return t&&t(r)||r}function TE(e={}){let t,r,n,s,i=null,a=0,l=!1,c=!1,u=!1,d=!1;function h(q,ee){r=q;const{mergeOptions:re,optionsAtMedia:te}=ee,W=re(ple,TE.globalOptions),Z=re(W,e);if(t=te(Z),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,s=mle(r,t.delay);const{eventStore:pe,ownerDocument:ge}=r.internalEngine(),U=!!r.internalEngine().options.watchDrag,_=gle(r,t.rootNode);pe.add(ge,"visibilitychange",g),U&&r.on("pointerDown",S),U&&!t.stopOnInteraction&&r.on("pointerUp",k),t.stopOnMouseEnter&&pe.add(_,"mouseenter",T),t.stopOnMouseEnter&&!t.stopOnInteraction&&pe.add(_,"mouseleave",R),t.stopOnFocusIn&&r.on("slideFocusStart",x),t.stopOnFocusIn&&!t.stopOnInteraction&&pe.add(r.containerNode(),"focusout",m),t.playOnInit&&m()}function p(){r.off("pointerDown",S).off("pointerUp",k).off("slideFocusStart",x),x(),n=!0,l=!1}function f(){const{ownerWindow:q}=r.internalEngine();q.clearTimeout(a),a=q.setTimeout(A,s[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function v(){const{ownerWindow:q}=r.internalEngine();q.clearTimeout(a),a=0,i=null,r.emit("autoplay:timerstopped")}function m(){if(!n){if(b()){u=!0;return}l||r.emit("autoplay:play"),f(),l=!0}}function x(){n||(l&&r.emit("autoplay:stop"),v(),l=!1)}function g(){if(b())return u=l,x();u&&m()}function b(){const{ownerDocument:q}=r.internalEngine();return q.visibilityState==="hidden"}function S(){c||x()}function k(){c||m()}function T(){c=!0,x()}function R(){c=!1,m()}function O(q){typeof q<"u"&&(d=q),m()}function D(){l&&x()}function I(){l&&m()}function G(){return l}function A(){const{index:q}=r.internalEngine(),ee=q.clone().add(1).get(),re=r.scrollSnapList().length-1,te=t.stopOnLastSnap&&ee===re;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),te)return x();m()}function M(){if(!i)return null;const q=s[r.selectedScrollSnap()],ee=new Date().getTime()-i;return q-ee}return{name:"autoplay",options:e,init:h,destroy:p,play:O,stop:D,reset:I,isPlaying:G,timeUntilNext:M}}TE.globalOptions=void 0;function vle(e){return Object.prototype.toString.call(e)==="[object Object]"}function S3(e){return vle(e)||Array.isArray(e)}function yle(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function RE(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:r.every(a=>{const l=e[a],c=t[a];return typeof l=="function"?`${l}`==`${c}`:!S3(l)||!S3(c)?l===c:RE(l,c)})}function j3(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function xle(e,t){if(e.length!==t.length)return!1;const r=j3(e),n=j3(t);return r.every((s,i)=>{const a=n[i];return RE(s,a)})}function OE(e){return typeof e=="number"}function xN(e){return typeof e=="string"}function t2(e){return typeof e=="boolean"}function N3(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rn(e){return Math.abs(e)}function LE(e){return Math.sign(e)}function Sv(e,t){return Rn(e-t)}function wle(e,t){if(e===0||t===0||Rn(e)<=Rn(t))return 0;const r=Sv(Rn(e),Rn(t));return Rn(r/e)}function ble(e){return Math.round(e*100)/100}function c0(e){return u0(e).map(Number)}function Po(e){return e[G0(e)]}function G0(e){return Math.max(0,e.length-1)}function IE(e,t){return t===G0(e)}function k3(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function u0(e){return Object.keys(e)}function y9(e,t){return[e,t].reduce((r,n)=>(u0(n).forEach(s=>{const i=r[s],a=n[s],l=N3(i)&&N3(a);r[s]=l?y9(i,a):a}),r),{})}function wN(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function _le(e,t){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return t-c}function a(c,u){return xN(e)?r[e](c):e(t,c,u)}return{measure:a}}function d0(){let e=[];function t(s,i,a,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,a,l),c=()=>s.removeEventListener(i,a,l);else{const u=s;u.addListener(a),c=()=>u.removeListener(a)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function Sle(e,t,r,n){const s=d0(),i=1e3/60;let a=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&v()})}function d(){f(),s.clear()}function h(x){if(!c)return;a||(a=x,r(),r());const g=x-a;for(a=x,l+=g;l>=i;)r(),l-=i;const b=l/i;n(b),c&&(c=t.requestAnimationFrame(h))}function p(){c||(c=t.requestAnimationFrame(h))}function f(){t.cancelAnimationFrame(c),a=null,l=0,c=0}function v(){a=null,l=0}return{init:u,destroy:d,start:p,stop:f,update:r,render:n}}function jle(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",i=n?"x":"y",a=!n&&r?-1:1,l=d(),c=h();function u(v){const{height:m,width:x}=v;return n?m:x}function d(){return n?"top":r?"right":"left"}function h(){return n?"bottom":r?"left":"right"}function p(v){return v*a}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:p}}function Ih(e=0,t=0){const r=Rn(e-t);function n(u){return u<e}function s(u){return u>t}function i(u){return n(u)||s(u)}function a(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:a,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:l}}function x9(e,t,r){const{constrain:n}=Ih(0,e),s=e+1;let i=a(t);function a(p){return r?Rn((s+p)%s):n(p)}function l(){return i}function c(p){return i=a(p),h}function u(p){return d().set(l()+p)}function d(){return x9(e,l(),r)}const h={get:l,set:c,add:u,clone:d};return h}function Nle(e,t,r,n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,b){const{cross:S,direction:k}=e,T=["INPUT","SELECT","TEXTAREA"],R={passive:!1},O=d0(),D=d0(),I=Ih(50,225).constrain(f.measure(20)),G={mouse:300,touch:400},A={mouse:500,touch:600},M=v?43:25;let $=!1,q=0,ee=0,re=!1,te=!1,W=!1,Z=!1;function pe(fe){if(!b)return;function _e(J){(t2(b)||b(fe,J))&&B(J)}const Me=t;O.add(Me,"dragstart",J=>J.preventDefault(),R).add(Me,"touchmove",()=>{},R).add(Me,"touchend",()=>{}).add(Me,"touchstart",_e).add(Me,"mousedown",_e).add(Me,"touchcancel",Q).add(Me,"contextmenu",Q).add(Me,"click",ne,!0)}function ge(){O.clear(),D.clear()}function U(){const fe=Z?r:t;D.add(fe,"touchmove",F,R).add(fe,"touchend",Q).add(fe,"mousemove",F,R).add(fe,"mouseup",Q)}function _(fe){const _e=fe.nodeName||"";return T.includes(_e)}function C(){return(v?A:G)[Z?"mouse":"touch"]}function E(fe,_e){const Me=h.add(LE(fe)*-1),J=d.byDistance(fe,!v).distance;return v||Rn(fe)<I?J:x&&_e?J*.5:d.byIndex(Me.get(),0).distance}function B(fe){const _e=wN(fe,n);Z=_e,W=v&&_e&&!fe.buttons&&$,$=Sv(s.get(),a.get())>=2,!(_e&&fe.button!==0)&&(_(fe.target)||(re=!0,i.pointerDown(fe),u.useFriction(0).useDuration(0),s.set(a),U(),q=i.readPoint(fe),ee=i.readPoint(fe,S),p.emit("pointerDown")))}function F(fe){if(!wN(fe,n)&&fe.touches.length>=2)return Q(fe);const Me=i.readPoint(fe),J=i.readPoint(fe,S),De=Sv(Me,q),Ge=Sv(J,ee);if(!te&&!Z&&(!fe.cancelable||(te=De>Ge,!te)))return Q(fe);const Ye=i.pointerMove(fe);De>m&&(W=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(k(Ye)),fe.preventDefault()}function Q(fe){const Me=d.byDistance(0,!1).index!==h.get(),J=i.pointerUp(fe)*C(),De=E(k(J),Me),Ge=wle(J,De),Ye=M-10*Ge,ve=g+Ge/50;te=!1,re=!1,D.clear(),u.useDuration(Ye).useFriction(ve),c.distance(De,!v),Z=!1,p.emit("pointerUp")}function ne(fe){W&&(fe.stopPropagation(),fe.preventDefault(),W=!1)}function le(){return re}return{init:pe,destroy:ge,pointerDown:le}}function kle(e,t){let n,s;function i(h){return h.timeStamp}function a(h,p){const v=`client${(p||e.scroll)==="x"?"X":"Y"}`;return(wN(h,t)?h:h.touches[0])[v]}function l(h){return n=h,s=h,a(h)}function c(h){const p=a(h)-a(s),f=i(h)-i(n)>170;return s=h,f&&(n=h),p}function u(h){if(!n||!s)return 0;const p=a(s)-a(n),f=i(h)-i(n),v=i(h)-i(s)>170,m=p/f;return f&&!v&&Rn(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function Cle(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:a}=r;return{top:n,right:s+i,bottom:n+a,left:s,width:i,height:a}}return{measure:e}}function Ele(e){function t(n){return e*(n/100)}return{measure:t}}function Ale(e,t,r,n,s,i,a){const l=[e].concat(n);let c,u,d=[],h=!1;function p(x){return s.measureSize(a.measure(x))}function f(x){if(!i)return;u=p(e),d=n.map(p);function g(b){for(const S of b){if(h)return;const k=S.target===e,T=n.indexOf(S.target),R=k?u:d[T],O=p(k?e:n[T]);if(Rn(O-R)>=.5){x.reInit(),t.emit("resize");break}}}c=new ResizeObserver(b=>{(t2(i)||i(x,b))&&g(b)}),r.requestAnimationFrame(()=>{l.forEach(b=>c.observe(b))})}function v(){h=!0,c&&c.disconnect()}return{init:f,destroy:v}}function Ple(e,t,r,n,s,i){let a=0,l=0,c=s,u=i,d=e.get(),h=0;function p(){const R=n.get()-e.get(),O=!c;let D=0;return O?(a=0,r.set(n),e.set(n),D=R):(r.set(e),a+=R/c,a*=u,d+=a,e.add(a),D=d-h),l=LE(D),h=d,T}function f(){const R=n.get()-t.get();return Rn(R)<.001}function v(){return c}function m(){return l}function x(){return a}function g(){return S(s)}function b(){return k(i)}function S(R){return c=R,T}function k(R){return u=R,T}const T={direction:m,duration:v,velocity:x,seek:p,settled:f,useBaseFriction:b,useBaseDuration:g,useFriction:k,useDuration:S};return T}function Tle(e,t,r,n,s){const i=s.measure(10),a=s.measure(50),l=Ih(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(f){if(!u())return;const v=e.reachedMin(t.get())?"min":"max",m=Rn(e[v]-t.get()),x=r.get()-t.get(),g=l.constrain(m/a);r.subtract(x*g),!f&&Rn(x)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function h(f){c=!f}return{shouldConstrain:u,constrain:d,toggleActive:h}}function Rle(e,t,r,n,s){const i=Ih(-t+e,0),a=h(),l=d(),c=p();function u(v,m){return Sv(v,m)<=1}function d(){const v=a[0],m=Po(a),x=a.lastIndexOf(v),g=a.indexOf(m)+1;return Ih(x,g)}function h(){return r.map((v,m)=>{const{min:x,max:g}=i,b=i.constrain(v),S=!m,k=IE(r,m);return S?g:k||u(x,b)?x:u(g,b)?g:b}).map(v=>parseFloat(v.toFixed(3)))}function p(){if(t<=e+s)return[i.max];if(n==="keepSnaps")return a;const{min:v,max:m}=l;return a.slice(v,m)}return{snapsContained:c,scrollContainLimit:l}}function Ole(e,t,r){const n=t[0],s=r?n-e:Po(t);return{limit:Ih(s,n)}}function Lle(e,t,r,n){const i=t.min+.1,a=t.max+.1,{reachedMin:l,reachedMax:c}=Ih(i,a);function u(p){return p===1?c(r.get()):p===-1?l(r.get()):!1}function d(p){if(!u(p))return;const f=e*(p*-1);n.forEach(v=>v.add(f))}return{loop:d}}function Ile(e){const{max:t,length:r}=e;function n(i){const a=i-t;return r?a/-r:0}return{get:n}}function Mle(e,t,r,n,s){const{startEdge:i,endEdge:a}=e,{groupSlides:l}=s,c=h().map(t.measure),u=p(),d=f();function h(){return l(n).map(m=>Po(m)[a]-m[0][i]).map(Rn)}function p(){return n.map(m=>r[i]-m[i]).map(m=>-Rn(m))}function f(){return l(u).map(m=>m[0]).map((m,x)=>m+c[x])}return{snaps:u,snapsAligned:d}}function Dle(e,t,r,n,s,i){const{groupSlides:a}=s,{min:l,max:c}=n,u=d();function d(){const p=a(i),f=!e||t==="keepSnaps";return r.length===1?[i]:f?p:p.slice(l,c).map((v,m,x)=>{const g=!m,b=IE(x,m);if(g){const S=Po(x[0])+1;return k3(S)}if(b){const S=G0(i)-Po(x)[0]+1;return k3(S,Po(x)[0])}return v})}return{slideRegistry:u}}function Fle(e,t,r,n,s){const{reachedAny:i,removeOffset:a,constrain:l}=n;function c(v){return v.concat().sort((m,x)=>Rn(m)-Rn(x))[0]}function u(v){const m=e?a(v):l(v),x=t.map((b,S)=>({diff:d(b-m,0),index:S})).sort((b,S)=>Rn(b.diff)-Rn(S.diff)),{index:g}=x[0];return{index:g,distance:m}}function d(v,m){const x=[v,v+r,v-r];if(!e)return v;if(!m)return c(x);const g=x.filter(b=>LE(b)===m);return g.length?c(g):Po(x)-r}function h(v,m){const x=t[v]-s.get(),g=d(x,m);return{index:v,distance:g}}function p(v,m){const x=s.get()+v,{index:g,distance:b}=u(x),S=!e&&i(x);if(!m||S)return{index:g,distance:v};const k=t[g]-b,T=v+d(k,0);return{index:g,distance:T}}return{byDistance:p,byIndex:h,shortcut:d}}function $le(e,t,r,n,s,i,a){function l(h){const p=h.distance,f=h.index!==t.get();i.add(p),p&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),f&&(r.set(t.get()),t.set(h.index),a.emit("select"))}function c(h,p){const f=s.byDistance(h,p);l(f)}function u(h,p){const f=t.clone().set(h),v=s.byIndex(f.get(),p);l(v)}return{distance:c,index:u}}function Ble(e,t,r,n,s,i,a,l){const c={passive:!0,capture:!0};let u=0;function d(f){if(!l)return;function v(m){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const b=r.findIndex(S=>S.includes(m));OE(b)&&(s.useDuration(0),n.index(b,0),a.emit("slideFocus"))}i.add(document,"keydown",h,!1),t.forEach((m,x)=>{i.add(m,"focus",g=>{(t2(l)||l(f,g))&&v(x)},c)})}function h(f){f.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function rv(e){let t=e;function r(){return t}function n(c){t=a(c)}function s(c){t+=a(c)}function i(c){t-=a(c)}function a(c){return OE(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function w9(e,t){const r=e.scroll==="x"?a:l,n=t.style;let s=null,i=!1;function a(p){return`translate3d(${p}px,0px,0px)`}function l(p){return`translate3d(0px,${p}px,0px)`}function c(p){if(i)return;const f=ble(e.direction(p));f!==s&&(n.transform=r(f),s=f)}function u(p){i=!p}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function Ule(e,t,r,n,s,i,a,l,c){const d=c0(s),h=c0(s).reverse(),p=g().concat(b());function f(O,D){return O.reduce((I,G)=>I-s[G],D)}function v(O,D){return O.reduce((I,G)=>f(I,D)>0?I.concat([G]):I,[])}function m(O){return i.map((D,I)=>({start:D-n[I]+.5+O,end:D+t-.5+O}))}function x(O,D,I){const G=m(D);return O.map(A=>{const M=I?0:-r,$=I?r:0,q=I?"end":"start",ee=G[A][q];return{index:A,loopPoint:ee,slideLocation:rv(-1),translate:w9(e,c[A]),target:()=>l.get()>ee?M:$}})}function g(){const O=a[0],D=v(h,O);return x(D,r,!1)}function b(){const O=t-a[0]-1,D=v(d,O);return x(D,-r,!0)}function S(){return p.every(({index:O})=>{const D=d.filter(I=>I!==O);return f(D,t)<=.1})}function k(){p.forEach(O=>{const{target:D,translate:I,slideLocation:G}=O,A=D();A!==G.get()&&(I.to(A),G.set(A))})}function T(){p.forEach(O=>O.translate.clear())}return{canLoop:S,clear:T,loop:k,loopPoints:p}}function qle(e,t,r){let n,s=!1;function i(c){if(!r)return;function u(d){for(const h of d)if(h.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(t2(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function a(){n&&n.disconnect(),s=!0}return{init:i,destroy:a}}function zle(e,t,r,n){const s={};let i=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(v=>{c||(v.forEach(m=>{const x=t.indexOf(m.target);s[x]=m}),i=null,a=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(v=>l.observe(v))}function d(){l&&l.disconnect(),c=!0}function h(v){return u0(s).reduce((m,x)=>{const g=parseInt(x),{isIntersecting:b}=s[g];return(v&&b||!v&&!b)&&m.push(g),m},[])}function p(v=!0){if(v&&i)return i;if(!v&&a)return a;const m=h(v);return v&&(i=m),v||(a=m),m}return{init:u,destroy:d,get:p}}function Vle(e,t,r,n,s,i){const{measureSize:a,startEdge:l,endEdge:c}=e,u=r[0]&&s,d=v(),h=m(),p=r.map(a),f=x();function v(){if(!u)return 0;const b=r[0];return Rn(t[l]-b[l])}function m(){if(!u)return 0;const b=i.getComputedStyle(Po(n));return parseFloat(b.getPropertyValue(`margin-${c}`))}function x(){return r.map((b,S,k)=>{const T=!S,R=IE(k,S);return T?p[S]+d:R?p[S]+h:k[S+1][l]-b[l]}).map(Rn)}return{slideSizes:p,slideSizesWithGaps:f,startGap:d,endGap:h}}function Wle(e,t,r,n,s,i,a,l,c){const{startEdge:u,endEdge:d,direction:h}=e,p=OE(r);function f(g,b){return c0(g).filter(S=>S%b===0).map(S=>g.slice(S,S+b))}function v(g){return g.length?c0(g).reduce((b,S,k)=>{const T=Po(b)||0,R=T===0,O=S===G0(g),D=s[u]-i[T][u],I=s[u]-i[S][d],G=!n&&R?h(a):0,A=!n&&O?h(l):0,M=Rn(I-A-(D+G));return k&&M>t+c&&b.push(S),O&&b.push(g.length),b},[]).map((b,S,k)=>{const T=Math.max(k[S-1]||0);return g.slice(T,b)}):[]}function m(g){return p?f(g,r):v(g)}return{groupSlides:m}}function Hle(e,t,r,n,s,i,a){const{align:l,axis:c,direction:u,startIndex:d,loop:h,duration:p,dragFree:f,dragThreshold:v,inViewThreshold:m,slidesToScroll:x,skipSnaps:g,containScroll:b,watchResize:S,watchSlides:k,watchDrag:T,watchFocus:R}=i,O=2,D=Cle(),I=D.measure(t),G=r.map(D.measure),A=jle(c,u),M=A.measureSize(I),$=Ele(M),q=_le(l,M),ee=!h&&!!b,re=h||!!b,{slideSizes:te,slideSizesWithGaps:W,startGap:Z,endGap:pe}=Vle(A,I,G,r,re,s),ge=Wle(A,M,x,h,I,G,Z,pe,O),{snaps:U,snapsAligned:_}=Mle(A,q,I,G,ge),C=-Po(U)+Po(W),{snapsContained:E,scrollContainLimit:B}=Rle(M,C,_,b,O),F=ee?E:_,{limit:Q}=Ole(C,F,h),ne=x9(G0(F),d,h),le=ne.clone(),ue=c0(r),fe=({dragHandler:bt,scrollBody:rt,scrollBounds:Fr,options:{loop:qt}})=>{qt||Fr.constrain(bt.pointerDown()),rt.seek()},_e=({scrollBody:bt,translate:rt,location:Fr,offsetLocation:qt,previousLocation:Ot,scrollLooper:zt,slideLooper:lr,dragHandler:_t,animation:br,eventHandler:At,scrollBounds:Dt,options:{loop:Ur}},Gt)=>{const pt=bt.settled(),mr=!Dt.shouldConstrain(),Pt=Ur?pt:pt&&mr,Ft=Pt&&!_t.pointerDown();Ft&&br.stop();const cr=Fr.get()*Gt+Ot.get()*(1-Gt);qt.set(cr),Ur&&(zt.loop(bt.direction()),lr.loop()),rt.to(qt.get()),Ft&&At.emit("settle"),Pt||At.emit("scroll")},Me=Sle(n,s,()=>fe(Je),bt=>_e(Je,bt)),J=.68,De=F[ne.get()],Ge=rv(De),Ye=rv(De),ve=rv(De),se=rv(De),ce=Ple(Ge,ve,Ye,se,p,J),xe=Fle(h,F,C,Q,se),Ne=$le(Me,ne,le,ce,xe,se,a),Oe=Ile(Q),Ce=d0(),Le=zle(t,r,a,m),{slideRegistry:et}=Dle(ee,b,F,B,ge,ue),at=Ble(e,r,et,Ne,ce,Ce,a,R),Je={ownerDocument:n,ownerWindow:s,eventHandler:a,containerRect:I,slideRects:G,animation:Me,axis:A,dragHandler:Nle(A,e,n,s,se,kle(A,s),Ge,Me,Ne,ce,xe,ne,a,$,f,v,g,J,T),eventStore:Ce,percentOfView:$,index:ne,indexPrevious:le,limit:Q,location:Ge,offsetLocation:ve,previousLocation:Ye,options:i,resizeHandler:Ale(t,a,s,r,A,S,D),scrollBody:ce,scrollBounds:Tle(Q,ve,se,ce,$),scrollLooper:Lle(C,Q,ve,[Ge,ve,Ye,se]),scrollProgress:Oe,scrollSnapList:F.map(Oe.get),scrollSnaps:F,scrollTarget:xe,scrollTo:Ne,slideLooper:Ule(A,M,C,te,W,U,F,ve,r),slideFocus:at,slidesHandler:qle(t,a,k),slidesInView:Le,slideIndexes:ue,slideRegistry:et,slidesToScroll:ge,target:se,translate:w9(A,t)};return Je}function Gle(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function a(u,d){return e[u]=n(u).filter(h=>h!==d),c}function l(){e={}}const c={init:r,emit:s,off:a,on:i,clear:l};return c}const Yle={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Kle(e){function t(i,a){return y9(i,a||{})}function r(i){const a=i.breakpoints||{},l=u0(a).filter(c=>e.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(a=>u0(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function Jle(e){let t=[];function r(i,a){return t=a.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function Pw(e,t,r){const n=e.ownerDocument,s=n.defaultView,i=Kle(s),a=Jle(i),l=d0(),c=Gle(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:h}=i,{on:p,off:f,emit:v}=c,m=A;let x=!1,g,b=u(Yle,Pw.globalOptions),S=u(b),k=[],T,R,O;function D(){const{container:ue,slides:fe}=S;R=(xN(ue)?e.querySelector(ue):ue)||e.children[0];const Me=xN(fe)?R.querySelectorAll(fe):fe;O=[].slice.call(Me||R.children)}function I(ue){const fe=Hle(e,R,O,n,s,ue,c);if(ue.loop&&!fe.slideLooper.canLoop()){const _e=Object.assign({},ue,{loop:!1});return I(_e)}return fe}function G(ue,fe){x||(b=u(b,ue),S=d(b),k=fe||k,D(),g=I(S),h([b,...k.map(({options:_e})=>_e)]).forEach(_e=>l.add(_e,"change",A)),S.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(le),g.eventHandler.init(le),g.resizeHandler.init(le),g.slidesHandler.init(le),g.options.loop&&g.slideLooper.loop(),R.offsetParent&&O.length&&g.dragHandler.init(le),T=a.init(le,k)))}function A(ue,fe){const _e=ge();M(),G(u({startIndex:_e},ue),fe),c.emit("reInit")}function M(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),a.destroy(),l.clear()}function $(){x||(x=!0,l.clear(),M(),c.emit("destroy"),c.clear())}function q(ue,fe,_e){!S.active||x||(g.scrollBody.useBaseFriction().useDuration(fe===!0?0:S.duration),g.scrollTo.index(ue,_e||0))}function ee(ue){const fe=g.index.add(1).get();q(fe,ue,-1)}function re(ue){const fe=g.index.add(-1).get();q(fe,ue,1)}function te(){return g.index.add(1).get()!==ge()}function W(){return g.index.add(-1).get()!==ge()}function Z(){return g.scrollSnapList}function pe(){return g.scrollProgress.get(g.offsetLocation.get())}function ge(){return g.index.get()}function U(){return g.indexPrevious.get()}function _(){return g.slidesInView.get()}function C(){return g.slidesInView.get(!1)}function E(){return T}function B(){return g}function F(){return e}function Q(){return R}function ne(){return O}const le={canScrollNext:te,canScrollPrev:W,containerNode:Q,internalEngine:B,destroy:$,off:f,on:p,emit:v,plugins:E,previousScrollSnap:U,reInit:m,rootNode:F,scrollNext:ee,scrollPrev:re,scrollProgress:pe,scrollSnapList:Z,scrollTo:q,selectedScrollSnap:ge,slideNodes:ne,slidesInView:_,slidesNotInView:C};return G(t,r),setTimeout(()=>c.emit("init"),0),le}Pw.globalOptions=void 0;function ME(e={},t=[]){const r=w.useRef(e),n=w.useRef(t),[s,i]=w.useState(),[a,l]=w.useState(),c=w.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return w.useEffect(()=>{RE(r.current,e)||(r.current=e,c())},[e,c]),w.useEffect(()=>{xle(n.current,t)||(n.current=t,c())},[t,c]),w.useEffect(()=>{if(yle()&&a){Pw.globalOptions=ME.globalOptions;const u=Pw(a,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),[l,s]}ME.globalOptions=void 0;const b9=w.createContext(null);function r2(){const e=w.useContext(b9);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const _9=w.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:i,...a},l)=>{const[c,u]=ME({...t,axis:e==="horizontal"?"x":"y"},n),[d,h]=w.useState(!1),[p,f]=w.useState(!1),v=w.useCallback(b=>{b&&(h(b.canScrollPrev()),f(b.canScrollNext()))},[]),m=w.useCallback(()=>{u==null||u.scrollPrev()},[u]),x=w.useCallback(()=>{u==null||u.scrollNext()},[u]),g=w.useCallback(b=>{b.key==="ArrowLeft"?(b.preventDefault(),m()):b.key==="ArrowRight"&&(b.preventDefault(),x())},[m,x]);return w.useEffect(()=>{!u||!r||r(u)},[u,r]),w.useEffect(()=>{if(u)return v(u),u.on("reInit",v),u.on("select",v),()=>{u==null||u.off("select",v)}},[u,v]),o.jsx(b9.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:x,canScrollPrev:d,canScrollNext:p},children:o.jsx("div",{ref:l,onKeyDownCapture:g,className:Ie("relative",s),role:"region","aria-roledescription":"carousel",...a,children:i})})});_9.displayName="Carousel";const S9=w.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=r2();return o.jsx("div",{ref:n,className:"overflow-hidden",children:o.jsx("div",{ref:r,className:Ie("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});S9.displayName="CarouselContent";const j9=w.forwardRef(({className:e,...t},r)=>{const{orientation:n}=r2();return o.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:Ie("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});j9.displayName="CarouselItem";const N9=w.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollPrev:a,canScrollPrev:l}=r2();return o.jsxs(ke,{ref:s,variant:t,size:r,className:Ie("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:a,...n,children:[o.jsx(Zh,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Previous slide"})]})});N9.displayName="CarouselPrevious";const k9=w.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollNext:a,canScrollNext:l}=r2();return o.jsxs(ke,{ref:s,variant:t,size:r,className:Ie("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:a,...n,children:[o.jsx(em,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Next slide"})]})});k9.displayName="CarouselNext";function Qle(e,t=[]){let r=[];function n(i,a){const l=w.createContext(a);l.displayName=i+"Context";const c=r.length;r=[...r,a];const u=h=>{var g;const{scope:p,children:f,...v}=h,m=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,x=w.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:x,children:f})};u.displayName=i+"Provider";function d(h,p){var m;const f=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,v=w.useContext(f);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>w.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Zle(s,...t)]}function Zle(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Xle=Symbol.for("react.lazy"),Tw=Ik[" use ".trim().toString()];function ece(e){return typeof e=="object"&&e!==null&&"then"in e}function C9(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Xle&&"_payload"in e&&ece(e._payload)}function tce(e){const t=rce(e),r=w.forwardRef((n,s)=>{let{children:i,...a}=n;C9(i)&&typeof Tw=="function"&&(i=Tw(i._payload));const l=w.Children.toArray(i),c=l.find(sce);if(c){const u=c.props.children,d=l.map(h=>h===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function rce(e){const t=w.forwardRef((r,n)=>{let{children:s,...i}=r;if(C9(s)&&typeof Tw=="function"&&(s=Tw(s._payload)),w.isValidElement(s)){const a=ace(s),l=ice(i,s.props);return s.type!==w.Fragment&&(l.ref=n?O0(n,a):a),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nce=Symbol("radix.slottable");function sce(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nce}function ice(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function ace(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var oce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DE=oce.reduce((e,t)=>{const r=tce(`Primitive.${t}`),n=w.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),E9={exports:{}},A9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=w;function lce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cce=typeof Object.is=="function"?Object.is:lce,uce=im.useState,dce=im.useEffect,hce=im.useLayoutEffect,fce=im.useDebugValue;function pce(e,t){var r=t(),n=uce({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return hce(function(){s.value=r,s.getSnapshot=t,y5(s)&&i({inst:s})},[e,r,t]),dce(function(){return y5(s)&&i({inst:s}),e(function(){y5(s)&&i({inst:s})})},[e]),fce(r),r}function y5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!cce(e,r)}catch{return!0}}function mce(e,t){return t()}var gce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mce:pce;A9.useSyncExternalStore=im.useSyncExternalStore!==void 0?im.useSyncExternalStore:gce;E9.exports=A9;var vce=E9.exports;function yce(){return vce.useSyncExternalStore(xce,()=>!0,()=>!1)}function xce(){return()=>{}}var FE="Avatar",[wce,D2e]=Qle(FE),[bce,P9]=wce(FE),T9=w.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=w.useState("idle");return o.jsx(bce,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(DE.span,{...n,ref:t})})});T9.displayName=FE;var R9="AvatarImage",O9=w.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,a=P9(R9,r),l=_ce(n,i),c=Kr(u=>{s(u),a.onImageLoadingStatusChange(u)});return Zr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(DE.img,{...i,ref:t,src:n}):null});O9.displayName=R9;var L9="AvatarFallback",I9=w.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=P9(L9,r),[a,l]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(DE.span,{...s,ref:t}):null});I9.displayName=L9;function C3(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _ce(e,{referrerPolicy:t,crossOrigin:r}){const n=yce(),s=w.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[a,l]=w.useState(()=>C3(i,e));return Zr(()=>{l(C3(i,e))},[i,e]),Zr(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),a}var M9=T9,D9=O9,F9=I9;const Io=w.forwardRef(({className:e,...t},r)=>o.jsx(M9,{ref:r,className:Ie("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Io.displayName=M9.displayName;const n2=w.forwardRef(({className:e,...t},r)=>o.jsx(D9,{ref:r,className:Ie("aspect-square h-full w-full",e),...t}));n2.displayName=D9.displayName;const Mo=w.forwardRef(({className:e,...t},r)=>o.jsx(F9,{ref:r,className:Ie("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Mo.displayName=F9.displayName;const Sce=[{name:"Rahul Sharma",role:"Patient",content:"The care I received at Star Hospital was exceptional. The doctors were attentive and the nursing staff was incredibly supportive during my recovery.",rating:5,avatar:"RS"},{name:"Priya Patel",role:"Regular Checkups",content:"I've been using their health packages for 3 years now. The process is seamless, reports are digital, and the advice is very practical.",rating:5,avatar:"PP"},{name:"David Wilson",role:"Emergency Care",content:"Rushed here for an emergency late at night. The response time was phenomenal. Literally saved a life. Forever grateful.",rating:5,avatar:"DW"},{name:"Anita Desai",role:"Maternity Care",content:"The maternity ward is world-class. Dr. Sarah Johnson guided me through a complex pregnancy with so much patience and expertise.",rating:4,avatar:"AD"}];function jce(){const e=w.useRef(TE({delay:4e3,stopOnInteraction:!0}));return o.jsx("section",{className:"py-20 px-4 bg-muted/30",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Patient Stories"}),o.jsx("p",{className:"text-muted-foreground",children:"What our community says about their experience with us."})]}),o.jsxs(_9,{plugins:[e.current],className:"w-full max-w-5xl mx-auto",opts:{align:"start",loop:!0},children:[o.jsx(S9,{children:Sce.map((t,r)=>o.jsx(j9,{className:"md:basis-1/2 lg:basis-1/3 pl-4",children:o.jsx(jt,{className:"h-full border-none shadow-md bg-card/50 hover:bg-card transition-colors",children:o.jsxs(Tt,{className:"p-6 flex flex-col h-full",children:[o.jsx(MJ,{className:"h-8 w-8 text-primary/20 mb-4"}),o.jsxs("p",{className:"text-muted-foreground mb-6 flex-1 italic",children:['"',t.content,'"']}),o.jsxs("div",{className:"flex items-center gap-4 mt-auto",children:[o.jsxs(Io,{children:[o.jsx(n2,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${t.avatar}`}),o.jsx(Mo,{children:t.avatar})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-sm",children:t.name}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((n,s)=>o.jsx(DC,{className:`h-3 w-3 ${s<t.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},s))})]})]})]})})},r))}),o.jsx(N9,{className:"hidden md:flex"}),o.jsx(k9,{className:"hidden md:flex"})]})]})})}function xc(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var x5="rovingFocusGroup.onEntryFocus",Nce={bubbles:!1,cancelable:!0},Y0="RovingFocusGroup",[bN,$9,kce]=Cm(Y0),[Cce,B9]=is(Y0,[kce]),[Ece,Ace]=Cce(Y0),U9=w.forwardRef((e,t)=>o.jsx(bN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(bN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Pce,{...e,ref:t})})}));U9.displayName=Y0;var Pce=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=w.useRef(null),f=wt(t,p),v=fd(i),[m,x]=ya({prop:a,defaultProp:l??null,onChange:c,caller:Y0}),[g,b]=w.useState(!1),S=Kr(u),k=$9(r),T=w.useRef(!1),[R,O]=w.useState(0);return w.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(x5,S),()=>D.removeEventListener(x5,S)},[S]),o.jsx(Ece,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:w.useCallback(D=>x(D),[x]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:w.useCallback(()=>O(D=>D-1),[]),children:o.jsx(Xe.div,{tabIndex:g||R===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:xc(e.onMouseDown,()=>{T.current=!0}),onFocus:xc(e.onFocus,D=>{const I=!T.current;if(D.target===D.currentTarget&&I&&!g){const G=new CustomEvent(x5,Nce);if(D.currentTarget.dispatchEvent(G),!G.defaultPrevented){const A=k().filter(re=>re.focusable),M=A.find(re=>re.active),$=A.find(re=>re.id===m),ee=[M,$,...A].filter(Boolean).map(re=>re.ref.current);V9(ee,d)}}T.current=!1}),onBlur:xc(e.onBlur,()=>b(!1))})})}),q9="RovingFocusGroupItem",z9=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=li(),u=i||c,d=Ace(q9,r),h=d.currentTabStopId===u,p=$9(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return w.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),o.jsx(bN.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(Xe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:xc(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:xc(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:xc(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=Oce(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(k=>k.focusable).map(k=>k.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const k=S.indexOf(x.currentTarget);S=d.loop?Lce(S,k+1):S.slice(k+1)}setTimeout(()=>V9(S))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:m!=null}):a})})});z9.displayName=q9;var Tce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Rce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Oce(e,t,r){const n=Rce(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Tce[n]}function V9(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Lce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ice=U9,Mce=z9;function Dce(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var W9=e=>{const{present:t,children:r}=e,n=Fce(t),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=wt(n.ref,$ce(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:i}):null};W9.displayName="Presence";function Fce(e){const[t,r]=w.useState(),n=w.useRef(null),s=w.useRef(e),i=w.useRef("none"),a=e?"mounted":"unmounted",[l,c]=Dce(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=R1(n.current);i.current=l==="mounted"?u:"none"},[l]),Zr(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=R1(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Zr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const m=R1(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=f=>{f.target===t&&(i.current=R1(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function R1(e){return(e==null?void 0:e.animationName)||"none"}function $ce(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $E="Radio",[Bce,H9]=is($E),[Uce,qce]=Bce($E),G9=w.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:a,value:l="on",onCheck:c,form:u,...d}=e,[h,p]=w.useState(null),f=wt(t,x=>p(x)),v=w.useRef(!1),m=h?u||!!h.closest("form"):!0;return o.jsxs(Uce,{scope:r,checked:s,disabled:a,children:[o.jsx(Xe.button,{type:"button",role:"radio","aria-checked":s,"data-state":Q9(s),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:f,onClick:xc(e.onClick,x=>{s||c==null||c(),m&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),m&&o.jsx(J9,{control:h,bubbles:!v.current,name:n,value:l,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});G9.displayName=$E;var Y9="RadioIndicator",K9=w.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=qce(Y9,r);return o.jsx(W9,{present:n||i.checked,children:o.jsx(Xe.span,{"data-state":Q9(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});K9.displayName=Y9;var zce="RadioBubbleInput",J9=w.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=w.useRef(null),l=wt(a,i),c=AE(r),u=Lb(t);return w.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const v=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(v)}},[c,r,n]),o.jsx(Xe.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});J9.displayName=zce;function Q9(e){return e?"checked":"unchecked"}var Vce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],s2="RadioGroup",[Wce,F2e]=is(s2,[B9,H9]),Z9=B9(),X9=H9(),[Hce,Gce]=Wce(s2),eB=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...p}=e,f=Z9(r),v=fd(u),[m,x]=ya({prop:i,defaultProp:s??null,onChange:h,caller:s2});return o.jsx(Hce,{scope:r,name:n,required:a,disabled:l,value:m,onValueChange:x,children:o.jsx(Ice,{asChild:!0,...f,orientation:c,dir:v,loop:d,children:o.jsx(Xe.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...p,ref:t})})})});eB.displayName=s2;var tB="RadioGroupItem",rB=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=Gce(tB,r),a=i.disabled||n,l=Z9(r),c=X9(r),u=w.useRef(null),d=wt(t,u),h=i.value===s.value,p=w.useRef(!1);return w.useEffect(()=>{const f=m=>{Vce.includes(m.key)&&(p.current=!0)},v=()=>p.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",v)}},[]),o.jsx(Mce,{asChild:!0,...l,focusable:!a,active:h,children:o.jsx(G9,{disabled:a,required:i.required,checked:h,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:xc(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:xc(s.onFocus,()=>{var f;p.current&&((f=u.current)==null||f.click())})})})});rB.displayName=tB;var Yce="RadioGroupIndicator",nB=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=X9(r);return o.jsx(K9,{...s,...n,ref:t})});nB.displayName=Yce;var sB=eB,iB=rB,Kce=nB;const _N=w.forwardRef(({className:e,...t},r)=>o.jsx(sB,{className:Ie("grid gap-2",e),...t,ref:r}));_N.displayName=sB.displayName;const nv=w.forwardRef(({className:e,...t},r)=>o.jsx(iB,{ref:r,className:Ie("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(Kce,{className:"flex items-center justify-center",children:o.jsx(HD,{className:"h-2.5 w-2.5 fill-current text-current"})})}));nv.displayName=iB.displayName;const E3=[{id:"headache",label:"Headache / Dizziness",department:"Neurology"},{id:"chest_pain",label:"Chest Pain / Palpitations",department:"Cardiology"},{id:"stomach",label:"Stomach Pain / Nausea",department:"Gastroenterology"},{id:"joint",label:"Joint Pain / Fracture",department:"Orthopedics"},{id:"skin",label:"Skin Rash / Itching",department:"Dermatology"},{id:"child",label:"Child Health Issue",department:"Pediatrics"}];function Jce(){const[e,t]=w.useState(!1),[r,n]=w.useState(1),[s,i]=w.useState(""),[a,l]=w.useState(""),c=()=>{if(r===1&&!s){qe.error("Please select a primary symptom");return}if(r===2&&!a){qe.error("Please select severity");return}n(r+1)},u=()=>{n(1),i(""),l("")},d=()=>{const h=E3.find(p=>p.id===s);return h?h.department:"General Medicine"};return w.useEffect(()=>{e||u()},[e]),o.jsxs(fs,{open:e,onOpenChange:t,children:[o.jsx(xl,{asChild:!0,children:o.jsxs(ke,{variant:"default",size:"lg",className:"h-16 px-8 rounded-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(vh,{className:"h-6 w-6 mr-2 animate-pulse"}),"AI Symptom Checker"]})}),o.jsxs(ns,{className:"sm:max-w-[500px] border-none shadow-2xl",children:[o.jsxs(Wt,{children:[o.jsxs(Mt,{className:"text-slate-900 flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(vh,{className:"h-5 w-5 text-blue-600"}),"Symptom Checker"]}),r<3&&o.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Step ",r,"/2"]})]}),r<3&&o.jsx(Ar,{children:"Select what describes your condition best."})]}),o.jsxs(Tt,{children:[r===1&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(lt,{className:"text-base",children:"What represents your main symptom?"}),o.jsx(_N,{value:s,onValueChange:i,className:"grid grid-cols-1 gap-3",children:E3.map(h=>o.jsxs("div",{className:`flex items-center space-x-3 border rounded-lg p-3 cursor-pointer transition-colors ${s===h.id?"border-primary bg-primary/5":"hover:bg-slate-50"}`,children:[o.jsx(nv,{value:h.id,id:h.id}),o.jsx(lt,{htmlFor:h.id,className:"cursor-pointer flex-1",children:h.label})]},h.id))})]}),r===2&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(lt,{className:"text-base",children:"How severe is the pain/discomfort?"}),o.jsxs(_N,{value:a,onValueChange:l,className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-3 cursor-pointer hover:bg-slate-50",children:[o.jsx(nv,{value:"mild",id:"mild"}),o.jsx(lt,{htmlFor:"mild",className:"cursor-pointer flex-1",children:"Mild - Annoying but bearable"})]}),o.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-3 cursor-pointer hover:bg-slate-50",children:[o.jsx(nv,{value:"moderate",id:"moderate"}),o.jsx(lt,{htmlFor:"moderate",className:"cursor-pointer flex-1",children:"Moderate - Affects daily activities"})]}),o.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-3 cursor-pointer hover:bg-red-50 border-red-200",children:[o.jsx(nv,{value:"severe",id:"severe",className:"text-red-600"}),o.jsx(lt,{htmlFor:"severe",className:"cursor-pointer flex-1 text-red-700 font-medium",children:"Severe - Unbearable / Emergency"})]})]}),a==="severe"&&o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 text-red-700 text-sm rounded-lg",children:[o.jsx(SJ,{className:"h-5 w-5 shrink-0"}),o.jsx("p",{children:"For severe symptoms, please visit the Emergency Department immediately or call an ambulance."})]})]}),r===3&&o.jsxs("div",{className:"text-center py-4 space-y-4 animation-fade-in",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(vh,{className:"h-8 w-8"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Recommended Department"}),o.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[o.jsx("p",{className:"text-lg font-semibold text-blue-700",children:d()}),o.jsx("p",{className:"text-sm text-blue-600/80 mt-1",children:"Based on your symptoms"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Please note: This is an AI suggestion, not a medical diagnosis."})]})]}),o.jsx(Nl,{children:r<3?o.jsxs("div",{className:"flex w-full gap-3",children:[r>1&&o.jsx(ke,{variant:"outline",onClick:()=>n(r-1),className:"flex-1",children:"Back"}),o.jsxs(ke,{onClick:c,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:["Next ",o.jsx(em,{className:"ml-2 h-4 w-4"})]})]}):o.jsxs(ke,{onClick:u,variant:"outline",className:"w-full",children:[o.jsx(MC,{className:"mr-2 h-4 w-4"})," Check Another Symptom"]})})]})]})}const Qce={theme:"system",setTheme:()=>null},aB=w.createContext(Qce);function Zce({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"}){const[n,s]=w.useState(()=>localStorage.getItem(r)||t);w.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),n==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(n)},[n]);const i={theme:n,setTheme:a=>{localStorage.setItem(r,a),s(a)}};return o.jsx(aB.Provider,{value:i,children:e})}const Xce=()=>{const e=w.useContext(aB);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function eue(){const{setTheme:e}=Xce();return o.jsxs(nd,{children:[o.jsx(sd,{asChild:!0,children:o.jsxs(ke,{variant:"outline",size:"icon",className:"rounded-full shadow-sm hover:shadow-md transition-all",children:[o.jsx(qJ,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0 text-orange-500"}),o.jsx(LJ,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100 text-blue-400"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),o.jsxs(Oc,{align:"end",children:[o.jsx(hn,{onClick:()=>e("light"),children:"Light"}),o.jsx(hn,{onClick:()=>e("dark"),children:"Dark"}),o.jsx(hn,{onClick:()=>e("system"),children:"System"})]})]})}const w5=()=>{const e=Js(),[t,r]=w.useState(!1),[n,s]=w.useState(""),[i,a]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState(""),[h,p]=w.useState(""),f=Xr({mutationFn:async()=>{if(!n||!i)throw new Error("Please provide your name and phone number");return await Hs.post("/api/callbacks",{fullName:n,phone:i,time:u||null,reason:h||null})},onSuccess:()=>{qe.success("Callback request submitted! Our AI agent will call you shortly."),r(!1),s(""),a(""),c(""),d(""),p("")},onError:x=>{qe.error(x.message)}});w.useEffect(()=>{(async()=>{try{await Hs.get("/"),console.log("Connected to Local Backend!")}catch(g){console.error("Backend connection failed",g)}})()},[]);const v=[{id:"101",name:"Dr. Sarah Johnson",specialty:"Cardiology",experience:"15 years",rating:4.9,available:!0},{id:"102",name:"Dr. James Smith",specialty:"Neurology",experience:"12 years",rating:4.8,available:!0},{id:"103",name:"Dr. Emily Chen",specialty:"Pediatrics",experience:"10 years",rating:4.9,available:!0},{id:"104",name:"Dr. Michael Brown",specialty:"Orthopedics",experience:"18 years",rating:4.7,available:!0}],m=[{id:"1",name:"Cardiology",doctors_count:5},{id:"2",name:"Neurology",doctors_count:4},{id:"3",name:"Orthopedics",doctors_count:6},{id:"4",name:"Oncology",doctors_count:3},{id:"5",name:"Pediatrics",doctors_count:4},{id:"6",name:"Emergency",doctors_count:10}];return o.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[o.jsx(ule,{delaySeconds:5}),o.jsx("header",{className:"bg-card shadow-md sticky top-0 z-50 border-b border-border/40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center shadow-lg shadow-primary/20",children:o.jsx("img",{src:"/logo.png",alt:"Medicare Hospital Logo",className:"w-8 h-8 object-contain"})}),o.jsxs("div",{children:[o.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-blue-600",children:"Medicare Hospital"}),o.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block tracking-wide",children:"Excellence in Healthcare"})]})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("div",{className:"mr-2",children:o.jsx(eue,{})}),o.jsx("div",{className:"hidden lg:flex items-center gap-4 border-r pr-6 border-border",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#0077b5] transition-colors",children:o.jsx(rT,{className:"h-5 w-5"})}),o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#E4405F] transition-colors",children:o.jsx(tT,{className:"h-5 w-5"})}),o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#1DA1F2] transition-colors",children:o.jsx(sT,{className:"h-5 w-5"})}),o.jsx(Hr,{to:"/social-coming-soon",className:"text-muted-foreground hover:text-[#1877F2] transition-colors",children:o.jsx(XP,{className:"h-5 w-5"})})]})}),o.jsxs(nd,{children:[o.jsx(sd,{asChild:!0,children:o.jsxs(ke,{size:"lg",className:"gap-2 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsx(PJ,{className:"w-4 h-4"}),"Login"]})}),o.jsxs(Oc,{align:"end",className:"w-56 p-2",children:[o.jsxs(hn,{onClick:()=>e("/patient/login"),className:"cursor-pointer py-3 px-3 focus:bg-primary/10",children:[o.jsx(Wa,{className:"mr-2 h-4 w-4 text-primary"}),o.jsx("span",{className:"font-medium",children:"Patient Login"})]}),o.jsxs(hn,{onClick:()=>e("/staff/login"),className:"cursor-pointer py-3 px-3 focus:bg-emerald-50 text-emerald-700",children:[o.jsx(Vi,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Staff Login"})]}),o.jsxs(hn,{onClick:()=>e("/admin/login"),className:"cursor-pointer py-3 px-3 focus:bg-purple-50 text-purple-700",children:[o.jsx(D0,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Admin Login"})]})]})]})]})]})})}),o.jsxs("section",{className:"relative bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 py-24 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?q=80&w=2600&auto=format&fit=crop')] bg-cover bg-center opacity-5"}),o.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[o.jsx(Kt,{className:"mb-6 bg-primary/10 text-primary border-primary/20 text-sm px-6 py-2 rounded-full uppercase tracking-wider font-semibold",children:"Trusted by 50,000+ Patients"}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 dark:text-white mb-8 leading-tight tracking-tight",children:["Your Health, Our ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-blue-600",children:"Commitment"})]}),o.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-10 max-w-3xl mx-auto leading-relaxed",children:"Experience world-class healthcare at Medicare Hospital. Our expert team and advanced technology ensure the best care for you and your family."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[o.jsxs(ke,{size:"lg",className:"h-16 px-10 text-xl rounded-full shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300",onClick:()=>e("/patient/register"),children:[o.jsx(Wa,{className:"h-6 w-6 mr-2"}),"Book Appointment"]}),o.jsx(ke,{variant:"outline",size:"lg",className:"h-16 px-10 text-xl rounded-full border-2 bg-transparent hover:scale-95 hover:bg-gradient-to-r hover:from-red-500 hover:via-yellow-500 hover:to-green-500 hover:text-white hover:border-transparent hover:shadow-2xl transition-all duration-300 transform",asChild:!0,children:o.jsxs("a",{href:"#contact",children:[o.jsx(Va,{className:"h-6 w-6 mr-2 animate-bounce"}),"Contact Us"]})})]})]})]}),o.jsx(fle,{}),o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-12",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Our Expert Doctors"}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Meet our team of experienced healthcare professionals"})]}),o.jsxs(ke,{variant:"outline",className:"hidden md:flex gap-2",onClick:()=>e("/patient/login"),children:["View All Doctors ",o.jsx(em,{className:"h-4 w-4"})]})]}),v.length>0?o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:v.map(x=>o.jsx(dle,{name:x.name,specialty:x.specialty,experience:x.experience||void 0,rating:x.rating||4.5,available:x.available??!0},x.id))}):o.jsxs(jt,{className:"p-12 text-center border-dashed",children:[o.jsx(Vi,{className:"h-16 w-16 text-muted-foreground/30 mx-auto mb-6"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Doctors Directory Updating"}),o.jsx("p",{className:"text-muted-foreground",children:"We are currently updating our doctor profiles. Please check back shortly."})]})]})}),o.jsx("section",{className:"py-20 px-4 bg-blue-50/50 dark:bg-gray-900/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Center of Excellence"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Specialized departments equipped with advanced technology and staffed by leading specialists."})]}),m.length>0?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:m.map(x=>o.jsxs(jt,{className:"text-center p-6 hover:shadow-xl transition-all duration-300 cursor-pointer border-transparent hover:border-primary/20 group bg-card/50 hover:bg-card",onClick:()=>{window.open(`https://en.wikipedia.org/wiki/${x.name}`,"_blank")},children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/5 group-hover:bg-primary/10 flex items-center justify-center mx-auto mb-4 transition-colors",children:o.jsx(yh,{className:"h-8 w-8 text-primary"})}),o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:x.name}),x.doctors_count&&x.doctors_count>0&&o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[x.doctors_count," Specialists"]})]},x.id))}):o.jsxs("div",{className:"text-center p-12 border-2 border-dashed border-primary/20 rounded-3xl bg-white/50",children:[o.jsx(yh,{className:"w-16 h-16 mx-auto text-primary/30 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-primary/60",children:"Departments Coming Soon"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"We are currently updating our department list."})]})]})}),o.jsx("section",{className:"py-16 px-4 bg-gradient-to-r from-blue-600/5 to-indigo-600/5",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Unsure about your symptoms?"}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Use our AI-powered tool to find the right specialist for you."})]}),o.jsx(Jce,{})]})}),o.jsx(jce,{}),o.jsxs("section",{id:"contact",className:"py-20 px-4 bg-slate-900 text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 pointer-events-none"}),o.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 lg:gap-16 items-center",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 text-sm font-medium mb-6 backdrop-blur-sm",children:[o.jsx(Iu,{className:"h-4 w-4 text-blue-400"}),o.jsx("span",{className:"text-blue-100",children:"Visit Us Today"})]}),o.jsx("h2",{className:"text-4xl font-bold mb-8 text-white",children:"Contact & Location"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-start gap-6 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/5 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-500/20 transition-colors border border-white/5",children:o.jsx(Iu,{className:"h-6 w-6 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Main Campus"}),o.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["123 Healthcare Avenue, Koregaon Park",o.jsx("br",{}),"Pune, Maharashtra 411001"]})]})]}),o.jsxs("div",{className:"flex items-start gap-6 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/5 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-500/20 transition-colors border border-white/5",children:o.jsx(Va,{className:"h-6 w-6 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"24/7 Support"}),o.jsxs("p",{className:"text-slate-300 mb-1",children:["Emergency: ",o.jsx("span",{className:"text-white font-mono font-medium",children:"+91 98765 43210"})]}),o.jsxs("p",{className:"text-slate-300",children:["Appointments: ",o.jsx("span",{className:"text-white font-mono font-medium",children:"+91 88888 88888"})]})]})]}),o.jsxs("div",{className:"flex items-start gap-6 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/5 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-500/20 transition-colors border border-white/5",children:o.jsx(xa,{className:"h-6 w-6 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Working Hours"}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-slate-300",children:[o.jsx("span",{children:"Mon - Sat:"}),o.jsx("span",{className:"text-white",children:"9:00 AM - 8:00 PM"}),o.jsx("span",{children:"Sunday:"}),o.jsx("span",{className:"text-white",children:"10:00 AM - 2:00 PM"}),o.jsx("span",{children:"Emergency:"}),o.jsxs("span",{className:"text-green-400 font-bold flex items-center gap-2",children:[o.jsx(jJ,{className:"w-3 h-3"})," 24 / 7 Open"]})]})]})]})]}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-white/10",children:[o.jsxs(fs,{open:t,onOpenChange:r,children:[o.jsx(xl,{asChild:!0,children:o.jsxs(ke,{size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-6 text-lg shadow-lg hover:shadow-blue-500/25 transition-all duration-300 border border-white/10",children:[o.jsx(Xh,{className:"mr-3 h-5 w-5 animate-pulse"}),"Request a Free Callback"]})}),o.jsxs(ns,{className:"sm:max-w-md bg-white text-slate-900 border-none",children:[o.jsxs(ks,{children:[o.jsx(ps,{className:"text-xl font-bold text-slate-900",children:"Request a Callback"}),o.jsx(Ys,{className:"text-slate-500",children:"Leave your details and our team will contact you shortly."})]}),o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Full Name *"}),o.jsx(ht,{placeholder:"Enter your name",className:"bg-slate-50 border-slate-200 focus:border-blue-500",value:n,onChange:x=>s(x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Phone Number *"}),o.jsx(ht,{placeholder:"Enter your phone number",className:"bg-slate-50 border-slate-200 focus:border-blue-500",value:i,onChange:x=>a(x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Preferred Time"}),o.jsxs(Ir,{value:u,onValueChange:d,children:[o.jsx(Tr,{className:"bg-slate-50 border-slate-200",children:o.jsx(Mr,{placeholder:"Select best time to call"})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"morning",children:"Morning (9 AM - 12 PM)"}),o.jsx(We,{value:"afternoon",children:"Afternoon (12 PM - 5 PM)"}),o.jsx(We,{value:"evening",children:"Evening (5 PM - 8 PM)"}),o.jsx(We,{value:"anytime",children:"Anytime"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{className:"text-slate-700",children:"Reason (Optional)"}),o.jsx(Ao,{placeholder:"How can we help?",className:"bg-slate-50 border-slate-200 focus:border-blue-500",value:h,onChange:x=>p(x.target.value)})]}),o.jsx(ke,{onClick:()=>f.mutate(),disabled:f.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white mt-2",children:f.isPending?"Submitting...":"Submit Request"})]})]})]}),o.jsxs("p",{className:"text-center text-slate-400 text-xs mt-3 flex items-center justify-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Typical response time: 10-15 mins"]})]})]}),o.jsx("div",{className:"w-full h-[350px] bg-slate-800 rounded-3xl overflow-hidden shadow-2xl border border-white/10 relative z-20",children:o.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-slate-800/50 backdrop-blur-sm p-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4",children:o.jsx(Iu,{className:"w-8 h-8 text-blue-400 opacity-50"})}),o.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Location Map"}),o.jsx("p",{className:"text-slate-400",children:"Interactive hospital map coming soon."}),o.jsxs("div",{className:"mt-6 flex flex-col gap-2 text-sm text-slate-500",children:[o.jsx("p",{children:"123 Healthcare Avenue, Koregaon Park"}),o.jsx("p",{children:"Pune, Maharashtra 411001"})]})]})})]})})]}),o.jsx("footer",{className:"bg-slate-950 text-slate-200 border-t border-slate-800 pt-16 pb-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center text-white shadow-lg shadow-blue-900/20",children:o.jsx(yh,{className:"w-6 h-6"})}),o.jsx("span",{className:"text-2xl font-bold text-white",children:"Medicare Hospital"})]}),o.jsx("p",{className:"text-slate-400 leading-relaxed",children:"Excellence in healthcare since 2001. We are committed to providing world-class medical services with compassion and advanced technology."}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx(ke,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-blue-600 hover:text-white hover:border-blue-600 transition-all duration-300",onClick:()=>{},children:o.jsx(XP,{className:"h-4 w-4"})}),o.jsx(ke,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-sky-500 hover:text-white hover:border-sky-500 transition-all duration-300",onClick:()=>{},children:o.jsx(sT,{className:"h-4 w-4"})}),o.jsx(ke,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-pink-600 hover:text-white hover:border-pink-600 transition-all duration-300",onClick:()=>{},children:o.jsx(tT,{className:"h-4 w-4"})}),o.jsx(ke,{variant:"outline",size:"icon",className:"rounded-full border-slate-700 bg-slate-900 hover:bg-blue-700 hover:text-white hover:border-blue-700 transition-all duration-300",onClick:()=>{},children:o.jsx(rT,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsxs(Hr,{to:"/patient/login",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(cp,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Patient Portal"]})}),o.jsx("li",{children:o.jsxs(Hr,{to:"/staff/login",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(cp,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Staff Portal"]})}),o.jsx("li",{children:o.jsxs("a",{href:"#contact",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(cp,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Contact Us"]})}),o.jsx("li",{children:o.jsxs(Hr,{to:"/admin/login",className:"text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 group",children:[o.jsx(cp,{className:"h-4 w-4 text-slate-600 group-hover:text-blue-400 transition-colors"}),"Administration"]})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:"Departments"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Cardiology"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Neurology"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Orthopedics"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Pediatrics"})}),o.jsx("li",{children:o.jsx(Hr,{to:"#",className:"text-slate-400 hover:text-blue-400 transition-colors",children:"Emergency Care"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-white mb-6",children:"Get In Touch"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Iu,{className:"h-5 w-5 text-blue-500 mt-1"}),o.jsx("span",{className:"text-slate-400 text-sm",children:"Pune, Maharashtra 411001"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Pb,{className:"h-5 w-5 text-blue-500"}),o.jsx("a",{href:"mailto:info@medicarehospital.com",className:"text-slate-400 text-sm hover:text-blue-400",children:"info@medicarehospital.com"})]}),o.jsxs("div",{className:"mt-6 p-4 bg-slate-900 rounded-xl border border-slate-800",children:[o.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Subscribe to our newsletter"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"email",placeholder:"Email address",className:"bg-slate-950 border border-slate-800 rounded-lg px-3 py-2 text-sm w-full focus:outline-none focus:border-blue-500 text-white"}),o.jsx(ke,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:o.jsx(em,{className:"h-4 w-4"})})]})]})]})]})]}),o.jsxs("div",{className:"border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-slate-500",children:[o.jsx("p",{children:" 2026 Medicare Hospital. All rights reserved."}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookie Policy"})]})]})]})})]})},oB=({className:e,onLinkClick:t})=>{const r=Pl(),n=Js(),{user:s,signOut:i}=ui(),{data:a=!1}=Cn({queryKey:["is-admin",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Qe.rpc("has_role",{_user_id:s.id,_role:"admin"});return m?!1:v},enabled:!!s}),{data:l=!1}=Cn({queryKey:["is-nurse",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Qe.rpc("has_role",{_user_id:s.id,_role:"nurse"});return m?!1:v},enabled:!!s}),{data:c=!1}=Cn({queryKey:["is-cashier",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Qe.rpc("has_role",{_user_id:s.id,_role:"cashier"});return m?!1:v},enabled:!!s}),{data:u=!1}=Cn({queryKey:["is-receptionist",s==null?void 0:s.id],queryFn:async()=>{if(!s)return!1;const{data:v,error:m}=await Qe.rpc("has_role",{_user_id:s.id,_role:"receptionist"});return m?!1:v},enabled:!!s}),{data:d=0}=Cn({queryKey:["pending-approvals-count"],queryFn:async()=>{const{count:v,error:m}=await Qe.from("staff_approval_requests").select("*",{count:"exact",head:!0}).eq("status","pending");return m?0:v||0},enabled:a}),{data:h=0}=Cn({queryKey:["pending-callbacks-count"],queryFn:async()=>{const{count:v,error:m}=await Qe.from("callback_requests").select("*",{count:"exact",head:!0}).eq("status","pending");return m?0:v||0}}),p=async()=>{await i(),n("/"),t==null||t()};let f=[{icon:W_,label:"Dashboard",path:"/dashboard"},{icon:Wa,label:"Patients",path:"/patients"},{icon:Vi,label:"Doctors",path:"/doctors"},{icon:Cj,label:"Appointments",path:"/appointments"},{icon:yh,label:"Departments",path:"/departments"},{icon:Cc,label:"Bed Management",path:"/beds"},...a||u||c?[{icon:nT,label:"Callbacks",path:"/callbacks",badge:h}]:[],{icon:hw,label:"Reports",path:"/reports"},...a?[{icon:QD,label:"Staff Approvals",path:"/staff/approvals",badge:d},{icon:Sl,label:"AI Tools",path:"/admin/ai-tools"},{icon:qD,label:"Manage Salaries",path:"/salaries"},{icon:LC,label:"System Info",path:"/admin/info"}]:[]];return l&&!a&&(f=[{icon:W_,label:"Dashboard",path:"/dashboard"},{icon:Wa,label:"Patients",path:"/patients"},{icon:Vi,label:"Doctors",path:"/doctors"},{icon:Cc,label:"Bed Management",path:"/beds"},{icon:hw,label:"Reports",path:"/reports"},{icon:RC,label:"Rounds & Advice",path:"/nurse/rounds"}]),c&&!a&&(f=[{icon:W_,label:"Dashboard",path:"/staff/dashboard/cashier"},{icon:nT,label:"Callbacks",path:"/callbacks",badge:h},{icon:Wa,label:"Patients",path:"/patients"},{icon:Vi,label:"Doctors",path:"/doctors"}]),o.jsxs("aside",{className:Ie("h-full w-64 bg-sidebar flex flex-col",e),children:[o.jsxs("div",{className:"flex items-center gap-3 px-6 py-6 border-b border-sidebar-border shrink-0",children:[o.jsx("img",{src:"/logo.png",alt:"MediCare Logo",className:"w-10 h-10 object-contain rounded-xl"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-heading font-bold text-sidebar-foreground",children:"MediCare"}),o.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Hospital Management"})]})]}),o.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto",children:f.map(v=>{const m=r.pathname===v.path;return o.jsxs(Hr,{to:v.path,onClick:t,className:Ie("flex items-center justify-between px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200",m?"bg-sidebar-primary text-sidebar-primary-foreground shadow-md":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-foreground"),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(v.icon,{className:"w-5 h-5"}),v.label]}),"badge"in v&&v.badge>0&&o.jsx(Kt,{variant:"destructive",className:"text-xs px-1.5 py-0.5 min-w-[20px] h-5",children:v.badge})]},v.path)})}),o.jsxs("div",{className:"px-3 py-4 border-t border-sidebar-border space-y-1 shrink-0",children:[o.jsxs(Hr,{to:"/settings",onClick:t,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-foreground transition-all duration-200",children:[o.jsx(BJ,{className:"w-5 h-5"}),"Settings"]}),o.jsxs("button",{onClick:p,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-sidebar-foreground/70 hover:bg-destructive/20 hover:text-destructive transition-all duration-200",children:[o.jsx(IC,{className:"w-5 h-5"}),"Logout"]})]})]})},tue=E$,rue=A$,nue=P$,lB=w.forwardRef(({className:e,...t},r)=>o.jsx(Yb,{className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));lB.displayName=Yb.displayName;const sue=Am("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),cB=w.forwardRef(({side:e="right",className:t,children:r,...n},s)=>o.jsxs(nue,{children:[o.jsx(lB,{}),o.jsxs(Kb,{ref:s,className:Ie(sue({side:e}),t),...n,children:[r,o.jsxs(T$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Tm,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cB.displayName=Kb.displayName;const iue=w.forwardRef(({className:e,...t},r)=>o.jsx(Jb,{ref:r,className:Ie("text-lg font-semibold text-foreground",e),...t}));iue.displayName=Jb.displayName;const aue=w.forwardRef(({className:e,...t},r)=>o.jsx(Qb,{ref:r,className:Ie("text-sm text-muted-foreground",e),...t}));aue.displayName=Qb.displayName;function oue(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var BE="ScrollArea",[uB,$2e]=is(BE),[lue,Xa]=uB(BE),dB=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=w.useState(null),[u,d]=w.useState(null),[h,p]=w.useState(null),[f,v]=w.useState(null),[m,x]=w.useState(null),[g,b]=w.useState(0),[S,k]=w.useState(0),[T,R]=w.useState(!1),[O,D]=w.useState(!1),I=wt(t,A=>c(A)),G=fd(s);return o.jsx(lue,{scope:r,type:n,dir:G,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:T,onScrollbarXEnabledChange:R,scrollbarY:m,onScrollbarYChange:x,scrollbarYEnabled:O,onScrollbarYEnabledChange:D,onCornerWidthChange:b,onCornerHeightChange:k,children:o.jsx(Xe.div,{dir:G,...a,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});dB.displayName=BE;var hB="ScrollAreaViewport",fB=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,a=Xa(hB,r),l=w.useRef(null),c=wt(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});fB.displayName=hB;var Tl="ScrollAreaScrollbar",UE=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Xa(Tl,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return w.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(cue,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(uue,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(pB,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(qE,{...n,ref:t}):null});UE.displayName=Tl;var cue=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Xa(Tl,e.__scopeScrollArea),[i,a]=w.useState(!1);return w.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Sa,{present:r||i,children:o.jsx(pB,{"data-state":i?"visible":"hidden",...n,ref:t})})}),uue=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Xa(Tl,e.__scopeScrollArea),i=e.orientation==="horizontal",a=a2(()=>c("SCROLL_END"),100),[l,c]=oue("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),w.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const f=u[d];h!==f&&(c("SCROLL"),a()),h=f};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,c,a]),o.jsx(Sa,{present:r||l!=="hidden",children:o.jsx(qE,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:dt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:dt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),pB=w.forwardRef((e,t)=>{const r=Xa(Tl,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,a]=w.useState(!1),l=e.orientation==="horizontal",c=a2(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:d)}},10);return am(r.viewport,c),am(r.content,c),o.jsx(Sa,{present:n||i,children:o.jsx(qE,{"data-state":i?"visible":"hidden",...s,ref:t})})}),qE=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Xa(Tl,e.__scopeScrollArea),i=w.useRef(null),a=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=xB(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function h(p,f){return gue(p,a.current,l,f)}return r==="horizontal"?o.jsx(due,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,f=A3(p,l,s.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):r==="vertical"?o.jsx(hue,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,f=A3(p,l);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),due=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Xa(Tl,e.__scopeScrollArea),[a,l]=w.useState(),c=w.useRef(null),u=wt(t,c,i.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(gB,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":i2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),bB(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ow(a.paddingLeft),paddingEnd:Ow(a.paddingRight)}})}})}),hue=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Xa(Tl,e.__scopeScrollArea),[a,l]=w.useState(),c=w.useRef(null),u=wt(t,c,i.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(gB,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":i2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),bB(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ow(a.paddingTop),paddingEnd:Ow(a.paddingBottom)}})}})}),[fue,mB]=uB(Tl),gB=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,f=Xa(Tl,r),[v,m]=w.useState(null),x=wt(t,I=>m(I)),g=w.useRef(null),b=w.useRef(""),S=f.viewport,k=n.content-n.viewport,T=Kr(d),R=Kr(c),O=a2(h,10);function D(I){if(g.current){const G=I.clientX-g.current.left,A=I.clientY-g.current.top;u({x:G,y:A})}}return w.useEffect(()=>{const I=G=>{const A=G.target;(v==null?void 0:v.contains(A))&&T(G,k)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[S,v,k,T]),w.useEffect(R,[n,R]),am(v,O),am(f.content,O),o.jsx(fue,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Kr(i),onThumbPointerUp:Kr(a),onThumbPositionChange:R,onThumbPointerDown:Kr(l),children:o.jsx(Xe.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:dt(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),g.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),D(I))}),onPointerMove:dt(e.onPointerMove,D),onPointerUp:dt(e.onPointerUp,I=>{const G=I.target;G.hasPointerCapture(I.pointerId)&&G.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),g.current=null})})})}),Rw="ScrollAreaThumb",vB=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mB(Rw,e.__scopeScrollArea);return o.jsx(Sa,{present:r||s.hasThumb,children:o.jsx(pue,{ref:t,...n})})}),pue=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Xa(Rw,r),a=mB(Rw,r),{onThumbPositionChange:l}=a,c=wt(t,h=>a.onThumbChange(h)),u=w.useRef(void 0),d=a2(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!u.current){const f=vue(h,l);u.current=f,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,l]),o.jsx(Xe.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:dt(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),v=h.clientX-f.left,m=h.clientY-f.top;a.onThumbPointerDown({x:v,y:m})}),onPointerUp:dt(e.onPointerUp,a.onThumbPointerUp)})});vB.displayName=Rw;var zE="ScrollAreaCorner",yB=w.forwardRef((e,t)=>{const r=Xa(zE,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(mue,{...e,ref:t}):null});yB.displayName=zE;var mue=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Xa(zE,r),[i,a]=w.useState(0),[l,c]=w.useState(0),u=!!(i&&l);return am(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),am(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?o.jsx(Xe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ow(e){return e?parseInt(e,10):0}function xB(e,t){const r=e/t;return isNaN(r)?0:r}function i2(e){const t=xB(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function gue(e,t,r,n="ltr"){const s=i2(r),i=s/2,a=t||i,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return wB([c,u],h)(e)}function A3(e,t,r="ltr"){const n=i2(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,a]:[a*-1,0],u=fN(e,c);return wB([0,a],[0,l])(u)}function wB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function bB(e,t){return e>0&&e<t}var vue=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,l=r.top!==i.top;(a||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function a2(e,t){const r=Kr(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function am(e,t){const r=Kr(t);Zr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var _B=dB,yue=fB,xue=yB;const Sp=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(_B,{ref:n,className:Ie("relative overflow-hidden",e),...r,children:[o.jsx(yue,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(SB,{}),o.jsx(xue,{})]}));Sp.displayName=_B.displayName;const SB=w.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(UE,{ref:n,orientation:t,className:Ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(vB,{className:"relative flex-1 rounded-full bg-border"})}));SB.displayName=UE.displayName;const wue=()=>{const e=Mn();return w.useEffect(()=>{const t=Qe.channel("notifications-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications"},r=>{e.invalidateQueries({queryKey:["notifications"]});const n=r.new;Qr({title:n.title,description:n.message})}).subscribe();return()=>{Qe.removeChannel(t)}},[e]),Cn({queryKey:["notifications"],queryFn:async()=>{const{data:t,error:r}=await Qe.from("notifications").select("*").order("created_at",{ascending:!1}).limit(50);if(r)throw r;return t}})},bue=()=>Cn({queryKey:["notifications","unread-count"],queryFn:async()=>{const{count:e,error:t}=await Qe.from("notifications").select("*",{count:"exact",head:!0}).eq("is_read",!1);if(t)throw t;return e||0}}),_ue=()=>{const e=Mn();return Xr({mutationFn:async t=>{const{error:r}=await Qe.from("notifications").update({is_read:!0}).eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]})}})},Sue=()=>{const e=Mn();return Xr({mutationFn:async()=>{const{error:t}=await Qe.from("notifications").update({is_read:!0}).eq("is_read",!1);if(t)throw t},onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]}),Qr({title:"Success",description:"All notifications marked as read"})}})},jue=()=>{const e=Mn();return Xr({mutationFn:async t=>{const{error:r}=await Qe.from("notifications").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]})}})};function Ht(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Hi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function bi(e,t){const r=Ht(e);return isNaN(t)?Hi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Do(e,t){const r=Ht(e);if(isNaN(t))return Hi(e,NaN);if(!t)return r;const n=r.getDate(),s=Hi(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const VE=6048e5,Nue=864e5,O1=43200,P3=1440;let kue={};function Wm(){return kue}function kl(e,t){var l,c,u,d;const r=Wm(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ht(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Mh(e){return kl(e,{weekStartsOn:1})}function jB(e){const t=Ht(e),r=t.getFullYear(),n=Hi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Mh(n),i=Hi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=Mh(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function om(e){const t=Ht(e);return t.setHours(0,0,0,0),t}function lm(e){const t=Ht(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function fl(e,t){const r=om(e),n=om(t),s=+r-lm(r),i=+n-lm(n);return Math.round((s-i)/Nue)}function Cue(e){const t=jB(e),r=Hi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Mh(r)}function SN(e,t){const r=t*7;return bi(e,r)}function Eue(e,t){return Do(e,t*12)}function Aue(e){let t;return e.forEach(function(r){const n=Ht(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Pue(e){let t;return e.forEach(r=>{const n=Ht(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function kx(e,t){const r=Ht(e),n=Ht(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Tue(e){return Hi(e,Date.now())}function $i(e,t){const r=om(e),n=om(t);return+r==+n}function WE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rue(e){if(!WE(e)&&typeof e!="number")return!1;const t=Ht(e);return!isNaN(Number(t))}function cm(e,t){const r=Ht(e),n=Ht(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Oue(e,t,r){const n=kl(e,r),s=kl(t,r),i=+n-lm(n),a=+s-lm(s);return Math.round((i-a)/VE)}function Lue(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Iue(e,t){return+Ht(e)-+Ht(t)}function Mue(e){const t=Ht(e);return t.setHours(23,59,59,999),t}function o2(e){const t=Ht(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Due(e){const t=Ht(e);return+Mue(t)==+o2(t)}function Fue(e,t){const r=Ht(e),n=Ht(t),s=kx(r,n),i=Math.abs(cm(r,n));let a;if(i<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=kx(r,n)===-s;Due(Ht(e))&&i===1&&kx(e,n)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function $ue(e,t,r){const n=Iue(e,t)/1e3;return Lue(r==null?void 0:r.roundingMethod)(n)}function Wi(e){const t=Ht(e);return t.setDate(1),t.setHours(0,0,0,0),t}function NB(e){const t=Ht(e),r=Hi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function HE(e,t){var l,c,u,d;const r=Wm(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ht(e),i=s.getDay(),a=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function kB(e){return HE(e,{weekStartsOn:1})}const Bue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Uue=(e,t,r)=>{let n;const s=Bue[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function b5(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const que={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wue={date:b5({formats:que,defaultWidth:"full"}),time:b5({formats:zue,defaultWidth:"full"}),dateTime:b5({formats:Vue,defaultWidth:"full"})},Hue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gue=(e,t,r,n)=>Hue[e];function $g(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Yue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Que={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ede=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tde={ordinalNumber:ede,era:$g({values:Yue,defaultWidth:"wide"}),quarter:$g({values:Kue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$g({values:Jue,defaultWidth:"wide"}),day:$g({values:Que,defaultWidth:"wide"}),dayPeriod:$g({values:Zue,defaultWidth:"wide",formattingValues:Xue,defaultFormattingWidth:"wide"})};function Bg(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?nde(l,h=>h.test(a)):rde(l,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function rde(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function nde(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function sde(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const ide=/^(\d+)(th|st|nd|rd)?/i,ade=/\d+/i,ode={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lde={any:[/^b/i,/^(a|c)/i]},cde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ude={any:[/1/i,/2/i,/3/i,/4/i]},dde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vde={ordinalNumber:sde({matchPattern:ide,parsePattern:ade,valueCallback:e=>parseInt(e,10)}),era:Bg({matchPatterns:ode,defaultMatchWidth:"wide",parsePatterns:lde,defaultParseWidth:"any"}),quarter:Bg({matchPatterns:cde,defaultMatchWidth:"wide",parsePatterns:ude,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bg({matchPatterns:dde,defaultMatchWidth:"wide",parsePatterns:hde,defaultParseWidth:"any"}),day:Bg({matchPatterns:fde,defaultMatchWidth:"wide",parsePatterns:pde,defaultParseWidth:"any"}),dayPeriod:Bg({matchPatterns:mde,defaultMatchWidth:"any",parsePatterns:gde,defaultParseWidth:"any"})},GE={code:"en-US",formatDistance:Uue,formatLong:Wue,formatRelative:Gue,localize:tde,match:vde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yde(e){const t=Ht(e);return fl(t,NB(t))+1}function CB(e){const t=Ht(e),r=+Mh(t)-+Cue(t);return Math.round(r/VE)+1}function EB(e,t){var d,h,p,f;const r=Ht(e),n=r.getFullYear(),s=Wm(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(p=s.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=Hi(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const l=kl(a,t),c=Hi(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=kl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function xde(e,t){var l,c,u,d;const r=Wm(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=EB(e,t),i=Hi(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),kl(i,t)}function AB(e,t){const r=Ht(e),n=+kl(r,t)-+xde(r,t);return Math.round(n/VE)+1}function Wr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const iu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Wr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Wr(r+1,2)},d(e,t){return Wr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Wr(e.getHours()%12||12,t.length)},H(e,t){return Wr(e.getHours(),t.length)},m(e,t){return Wr(e.getMinutes(),t.length)},s(e,t){return Wr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Wr(s,t.length)}},Df={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},T3={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return iu.y(e,t)},Y:function(e,t,r,n){const s=EB(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Wr(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Wr(i,t.length)},R:function(e,t){const r=jB(e);return Wr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Wr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Wr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Wr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return iu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Wr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=AB(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Wr(s,t.length)},I:function(e,t,r){const n=CB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Wr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):iu.d(e,t)},D:function(e,t,r){const n=yde(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Wr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Wr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Wr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Wr(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Df.noon:n===0?s=Df.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Df.evening:n>=12?s=Df.afternoon:n>=4?s=Df.morning:s=Df.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return iu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):iu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Wr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Wr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):iu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):iu.s(e,t)},S:function(e,t){return iu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return O3(n);case"XXXX":case"XX":return Wd(n);case"XXXXX":case"XXX":default:return Wd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return O3(n);case"xxxx":case"xx":return Wd(n);case"xxxxx":case"xxx":default:return Wd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+R3(n,":");case"OOOO":default:return"GMT"+Wd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+R3(n,":");case"zzzz":default:return"GMT"+Wd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Wr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Wr(n,t.length)}};function R3(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Wr(i,2)}function O3(e,t){return e%60===0?(e>0?"-":"+")+Wr(Math.abs(e)/60,2):Wd(e,t)}function Wd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Wr(Math.trunc(n/60),2),i=Wr(n%60,2);return r+s+t+i}const L3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},PB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wde=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return L3(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",L3(n,t)).replace("{{time}}",PB(s,t))},bde={p:PB,P:wde},_de=/^D+$/,Sde=/^Y+$/,jde=["D","DD","YY","YYYY"];function Nde(e){return _de.test(e)}function kde(e){return Sde.test(e)}function Cde(e,t,r){const n=Ede(e,t,r);if(console.warn(n),jde.includes(e))throw new RangeError(n)}function Ede(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ade=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tde=/^'([^]*?)'?$/,Rde=/''/g,Ode=/[a-zA-Z]/;function gn(e,t,r){var d,h,p,f,v,m,x,g;const n=Wm(),s=(r==null?void 0:r.locale)??n.locale??GE,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((g=(x=n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,l=Ht(e);if(!Rue(l))throw new RangeError("Invalid time value");let c=t.match(Pde).map(b=>{const S=b[0];if(S==="p"||S==="P"){const k=bde[S];return k(b,s.formatLong)}return b}).join("").match(Ade).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const S=b[0];if(S==="'")return{isToken:!1,value:Lde(b)};if(T3[S])return{isToken:!0,value:b};if(S.match(Ode))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const S=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&kde(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Nde(S))&&Cde(S,t,String(e));const k=T3[S[0]];return k(l,S,s.localize,u)}).join("")}function Lde(e){const t=e.match(Tde);return t?t[1].replace(Rde,"'"):e}function Ide(e,t,r){const n=Wm(),s=(r==null?void 0:r.locale)??n.locale??GE,i=2520,a=kx(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,u;a>0?(c=Ht(t),u=Ht(e)):(c=Ht(e),u=Ht(t));const d=$ue(u,c),h=(lm(u)-lm(c))/1e3,p=Math.round((d-h)/60);let f;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<P3){const v=Math.round(p/60);return s.formatDistance("aboutXHours",v,l)}else{if(p<i)return s.formatDistance("xDays",1,l);if(p<O1){const v=Math.round(p/P3);return s.formatDistance("xDays",v,l)}else if(p<O1*2)return f=Math.round(p/O1),s.formatDistance("aboutXMonths",f,l)}if(f=Fue(u,c),f<12){const v=Math.round(p/O1);return s.formatDistance("xMonths",v,l)}else{const v=f%12,m=Math.trunc(f/12);return v<3?s.formatDistance("aboutXYears",m,l):v<9?s.formatDistance("overXYears",m,l):s.formatDistance("almostXYears",m+1,l)}}function Mde(e,t){return Ide(e,Tue(e),t)}function Dde(e){const t=Ht(e),r=t.getFullYear(),n=t.getMonth(),s=Hi(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Fde(e){return Math.trunc(+Ht(e)/1e3)}function $de(e){const t=Ht(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Bde(e,t){return Oue($de(e),Wi(e),t)+1}function jN(e,t){const r=Ht(e),n=Ht(t);return r.getTime()>n.getTime()}function TB(e,t){const r=Ht(e),n=Ht(t);return+r<+n}function YE(e,t){const r=Ht(e),n=Ht(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Ude(e,t){const r=Ht(e),n=Ht(t);return r.getFullYear()===n.getFullYear()}function _5(e,t){return bi(e,-t)}function S5(e,t){const r=Ht(e),n=r.getFullYear(),s=r.getDate(),i=Hi(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const a=Dde(i);return r.setMonth(t,Math.min(s,a)),r}function I3(e,t){const r=Ht(e);return isNaN(+r)?Hi(e,NaN):(r.setFullYear(t),r)}const qde=e=>{switch(e){case"success":return o.jsx(Ec,{className:"w-4 h-4 text-success"});case"warning":return o.jsx(pw,{className:"w-4 h-4 text-warning"});case"error":return o.jsx(tm,{className:"w-4 h-4 text-destructive"});default:return o.jsx(LC,{className:"w-4 h-4 text-info"})}},zde=({notification:e})=>{const t=_ue(),r=jue();return o.jsx("div",{className:Ie("p-3 border-b border-border last:border-0 hover:bg-muted/50 transition-colors",!e.is_read&&"bg-primary/5"),children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-0.5",children:qde(e.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:Ie("text-sm font-medium",!e.is_read&&"font-semibold"),children:e.title}),o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:e.message}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Mde(new Date(e.created_at),{addSuffix:!0})})]}),o.jsxs("div",{className:"flex gap-1",children:[!e.is_read&&o.jsx(ke,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:n=>{n.stopPropagation(),t.mutate(e.id)},children:o.jsx(PC,{className:"w-3 h-3"})}),o.jsx(ke,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive",onClick:n=>{n.stopPropagation(),r.mutate(e.id)},children:o.jsx(Pm,{className:"w-3 h-3"})})]})]})})},Vde=()=>{const{data:e,isLoading:t}=wue(),{data:r}=bue(),n=Sue();return o.jsxs(nd,{children:[o.jsx(sd,{asChild:!0,children:o.jsxs(ke,{variant:"ghost",size:"icon",className:"relative",children:[o.jsx(zD,{className:"w-5 h-5 text-muted-foreground"}),(r??0)>0&&o.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 bg-destructive text-destructive-foreground text-xs font-medium rounded-full flex items-center justify-center",children:r>99?"99+":r})]})}),o.jsxs(Oc,{align:"end",className:"w-80",children:[o.jsxs(jE,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Notifications"}),(r??0)>0&&o.jsxs(ke,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>n.mutate(),children:[o.jsx(wJ,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),o.jsx(sm,{}),o.jsx(Sp,{className:"h-[300px]",children:t?o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Loading notifications..."}):e&&e.length>0?e.map(s=>o.jsx(zde,{notification:s},s.id)):o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications yet"})})]})]})},Wde=({title:e,subtitle:t})=>{const{user:r,signOut:n}=ui(),[s,i]=w.useState(!1),{data:a}=Cn({queryKey:["user-role-header",r==null?void 0:r.id],queryFn:async()=>{if(!r)return null;const h=["admin","doctor","nurse","receptionist","cashier"];for(const p of h){const{data:f}=await Qe.rpc("has_role",{_user_id:r.id,_role:p});if(f)return p}return"patient"},enabled:!!r}),l=h=>{switch(h){case"admin":return"bg-purple-100 text-purple-800 hover:bg-purple-200";case"doctor":return"bg-blue-100 text-blue-800 hover:bg-blue-200";case"nurse":return"bg-pink-100 text-pink-800 hover:bg-pink-200";case"cashier":return"bg-emerald-100 text-emerald-800 hover:bg-emerald-200";case"receptionist":return"bg-orange-100 text-orange-800 hover:bg-orange-200";default:return"bg-gray-100 text-gray-800"}},c=async()=>{await n(),qe.success("Signed out successfully")},u=()=>r!=null&&r.email?r.email.charAt(0).toUpperCase():"U",d=()=>{var p;const h=(p=r==null?void 0:r.user_metadata)==null?void 0:p.full_name;return h||(r!=null&&r.email?r.email.split("@")[0]:"User")};return o.jsxs("header",{className:"h-16 bg-card border-b border-border flex items-center justify-between px-4 lg:px-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(tue,{open:s,onOpenChange:i,children:[o.jsx(rue,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",className:"lg:hidden",children:o.jsx(TJ,{className:"h-6 w-6"})})}),o.jsx(cB,{side:"left",className:"p-0 border-r-0 w-64",children:o.jsx(oB,{className:"h-full border-r-0",onLinkClick:()=>i(!1)})})]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-heading font-semibold text-foreground",children:e}),t&&o.jsx("p",{className:"text-sm text-muted-foreground hidden sm:block",children:t})]})]}),o.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[o.jsxs("div",{className:"relative w-full max-w-[200px] hidden md:block",children:[o.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search...",className:"pl-10 bg-secondary border-0 h-9"})]}),o.jsx(Vde,{}),o.jsxs(nd,{children:[o.jsx(sd,{asChild:!0,children:o.jsxs(ke,{variant:"ghost",className:"flex items-center gap-2 px-2",children:[o.jsxs("div",{className:"text-right hidden md:block mr-2",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:d()}),a&&o.jsx(Kt,{className:`mt-1 text-[10px] h-4 px-1.5 ${l(a)}`,children:a.toUpperCase()})]}),o.jsxs(Io,{className:"w-8 h-8",children:[o.jsx(n2,{src:""}),o.jsx(Mo,{className:"bg-primary text-primary-foreground text-sm",children:u()})]}),o.jsx(TC,{className:"w-4 h-4 text-muted-foreground"})]})}),o.jsxs(Oc,{align:"end",className:"w-48",children:[o.jsx(jE,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:d()}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:r==null?void 0:r.email}),a&&o.jsx(Kt,{className:`w-fit mt-1 ${l(a)}`,children:a})]})}),o.jsx(sm,{}),o.jsx(hn,{onClick:()=>window.location.href="/settings",children:"Profile"}),o.jsx(hn,{onClick:()=>window.location.href="/settings",children:"Settings"}),o.jsx(sm,{}),o.jsx(hn,{className:"text-destructive",onClick:c,children:"Logout"})]})]})]})]})},In=({children:e,title:t,subtitle:r})=>o.jsxs("div",{className:"min-h-screen bg-background flex",children:[o.jsx("div",{className:"hidden lg:block fixed inset-y-0 left-0 z-50 w-64 border-r bg-sidebar",children:o.jsx(oB,{className:"h-full w-full border-r-0"})}),o.jsxs("div",{className:"flex-1 flex flex-col lg:pl-64 w-full transition-all duration-300",children:[o.jsx(Wde,{title:t,subtitle:r}),o.jsx("main",{className:"flex-1 p-4 lg:p-6 overflow-x-hidden",children:e})]})]}),Hde={primary:"bg-primary/10 text-primary",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning",info:"bg-info/10 text-info",destructive:"bg-destructive/10 text-destructive"},Ni=({title:e,value:t,change:r,changeType:n="neutral",icon:s,iconColor:i="primary"})=>o.jsx("div",{className:"bg-card rounded-xl p-6 card-shadow animate-fade-in border border-border/50",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),o.jsx("p",{className:"mt-2 text-3xl font-heading font-bold text-foreground",children:t}),r&&o.jsx("p",{className:Ie("mt-2 text-sm font-medium",n==="positive"&&"text-success",n==="negative"&&"text-destructive",n==="neutral"&&"text-muted-foreground"),children:r})]}),o.jsx("div",{className:Ie("p-3 rounded-xl",Hde[i]),children:o.jsx(s,{className:"w-6 h-6"})})]})}),Hm=()=>Cn({queryKey:["patients"],queryFn:async()=>{const{data:e,error:t}=await Qe.from("patients").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}}),Gde=()=>{const e=Mn();return Xr({mutationFn:async t=>{const{data:r,error:n}=await Qe.from("patients").insert([{...t,patient_id:""}]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["patients"]}),Qr({title:"Success",description:"Patient added successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})},Yde=()=>{const e=Mn();return Xr({mutationFn:async t=>{const{error:r}=await Qe.from("patients").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["patients"]}),Qr({title:"Success",description:"Patient deleted successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})},Gm=()=>Cn({queryKey:["doctors"],queryFn:async()=>{const{data:e,error:t}=await Qe.from("doctors").select("*").order("name");if(t)throw t;return e}}),Kde=()=>{const e=Mn();return Xr({mutationFn:async t=>{const{data:r,error:n}=await Qe.from("doctors").insert([t]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["doctors"]}),Qr({title:"Success",description:"Doctor added successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})},Jde=()=>{const e=Mn();return Xr({mutationFn:async({id:t,...r})=>{const{data:n,error:s}=await Qe.from("doctors").update(r).eq("id",t).select().single();if(s)throw s;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["doctors"]}),Qr({title:"Success",description:"Doctor updated successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})},Qde=()=>{const e=Mn();return Xr({mutationFn:async t=>{const{error:r}=await Qe.from("doctors").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["doctors"]}),Qr({title:"Success",description:"Doctor deleted successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})},l2=e=>Cn({queryKey:["appointments",e],queryFn:async()=>{let t=Qe.from("appointments").select(`
          *,
          patients (name, patient_id),
          doctors (name, specialty)
        `).order("appointment_time");e&&(t=t.eq("appointment_date",e));const{data:r,error:n}=await t;if(n)throw n;return r}}),Zde=()=>{const e=Mn();return Xr({mutationFn:async t=>{const{data:r,error:n}=await Qe.from("appointments").insert([t]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["appointments"]}),Qr({title:"Success",description:"Appointment scheduled successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})},Xde=()=>{const e=Mn();return Xr({mutationFn:async({id:t,...r})=>{const{data:n,error:s}=await Qe.from("appointments").update(r).eq("id",t).select().single();if(s)throw s;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["appointments"]}),Qr({title:"Success",description:"Appointment updated successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})},ehe=()=>{const e=Mn();return Xr({mutationFn:async t=>{const{error:r}=await Qe.from("appointments").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["appointments"]}),Qr({title:"Success",description:"Appointment cancelled successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})},gd=()=>Cn({queryKey:["departments"],queryFn:async()=>{const{data:e,error:t}=await Qe.from("departments").select("*").order("name");if(t)throw t;return e}}),the=()=>{const e=Mn();return Xr({mutationFn:async t=>{const{error:r}=await Qe.from("departments").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["departments"]}),Qr({title:"Success",description:"Department deleted successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})};var KE="Progress",JE=100,[rhe,B2e]=is(KE),[nhe,she]=rhe(KE),RB=w.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=ihe,...a}=e;(s||s===0)&&!M3(s)&&console.error(ahe(`${s}`,"Progress"));const l=M3(s)?s:JE;n!==null&&!D3(n,l)&&console.error(ohe(`${n}`,"Progress"));const c=D3(n,l)?n:null,u=Lw(c)?i(c,l):void 0;return o.jsx(nhe,{scope:r,value:c,max:l,children:o.jsx(Xe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Lw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":IB(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});RB.displayName=KE;var OB="ProgressIndicator",LB=w.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=she(OB,r);return o.jsx(Xe.div,{"data-state":IB(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});LB.displayName=OB;function ihe(e,t){return`${Math.round(e/t*100)}%`}function IB(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Lw(e){return typeof e=="number"}function M3(e){return Lw(e)&&!isNaN(e)&&e>0}function D3(e,t){return Lw(e)&&!isNaN(e)&&e<=t&&e>=0}function ahe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${JE}\`.`}function ohe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${JE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MB=RB,lhe=LB;const c2=w.forwardRef(({className:e,value:t,...r},n)=>o.jsx(MB,{ref:n,className:Ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(lhe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));c2.displayName=MB.displayName;var K0=e=>e.type==="checkbox",th=e=>e instanceof Date,_i=e=>e==null;const DB=e=>typeof e=="object";var ss=e=>!_i(e)&&!Array.isArray(e)&&DB(e)&&!th(e),FB=e=>ss(e)&&e.target?K0(e.target)?e.target.checked:e.target.value:e,che=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,$B=(e,t)=>e.has(che(t)),uhe=e=>{const t=e.constructor&&e.constructor.prototype;return ss(t)&&t.hasOwnProperty("isPrototypeOf")},QE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _s(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(QE&&(e instanceof Blob||n))&&(r||ss(e)))if(t=r?[]:{},!r&&!uhe(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=_s(e[s]));else return e;return t}var u2=e=>/^\w*$/.test(e),Zn=e=>e===void 0,ZE=e=>Array.isArray(e)?e.filter(Boolean):[],XE=e=>ZE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ze=(e,t,r)=>{if(!t||!ss(e))return r;const n=(u2(t)?[t]:XE(t)).reduce((s,i)=>_i(s)?s:s[i],e);return Zn(n)||n===e?Zn(e[t])?r:e[t]:n},oa=e=>typeof e=="boolean",Vr=(e,t,r)=>{let n=-1;const s=u2(t)?[t]:XE(t),i=s.length,a=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==a){const u=e[l];c=ss(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Iw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},jo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eA=Re.createContext(null);eA.displayName="HookFormContext";const d2=()=>Re.useContext(eA),dhe=e=>{const{children:t,...r}=e;return Re.createElement(eA.Provider,{value:r},t)};var BB=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==jo.all&&(t._proxyFormState[a]=!n||jo.all),r&&(r[a]=!0),e[a]}});return s};const tA=typeof window<"u"?Re.useLayoutEffect:Re.useEffect;function hhe(e){const t=d2(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[a,l]=Re.useState(r._formState),c=Re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return tA(()=>r._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,i]),Re.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Re.useMemo(()=>BB(a,r,c.current,!1),[a,r])}var pl=e=>typeof e=="string",UB=(e,t,r,n,s)=>pl(e)?(n&&t.watch.add(e),Ze(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ze(r,i))):(n&&(t.watchAll=!0),r),NN=e=>_i(e)||!DB(e);function uc(e,t,r=new WeakSet){if(NN(e)||NN(t))return e===t;if(th(e)&&th(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(th(a)&&th(l)||ss(a)&&ss(l)||Array.isArray(a)&&Array.isArray(l)?!uc(a,l,r):a!==l)return!1}}return!0}function fhe(e){const t=d2(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:a,compute:l}=e||{},c=Re.useRef(s),u=Re.useRef(l),d=Re.useRef(void 0);u.current=l;const h=Re.useMemo(()=>r._getWatch(n,c.current),[r,n]),[p,f]=Re.useState(u.current?u.current(h):h);return tA(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:v=>{if(!i){const m=UB(n,r._names,v.values||r._formValues,!1,c.current);if(u.current){const x=u.current(m);uc(x,d.current)||(f(x),d.current=x)}else f(m)}}}),[r,i,n,a]),Re.useEffect(()=>r._removeUnmounted()),p}function phe(e){const t=d2(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i,defaultValue:a}=e,l=$B(s._names.array,r),c=Re.useMemo(()=>Ze(s._formValues,r,Ze(s._defaultValues,r,a)),[s,r,a]),u=fhe({control:s,name:r,defaultValue:c,exact:!0}),d=hhe({control:s,name:r,exact:!0}),h=Re.useRef(e),p=Re.useRef(s.register(r,{...e.rules,value:u,...oa(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const f=Re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ze(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ze(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ze(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ze(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ze(d.errors,r)}}),[d,r]),v=Re.useCallback(b=>p.current.onChange({target:{value:FB(b),name:r},type:Iw.CHANGE}),[r]),m=Re.useCallback(()=>p.current.onBlur({target:{value:Ze(s._formValues,r),name:r},type:Iw.BLUR}),[r,s._formValues]),x=Re.useCallback(b=>{const S=Ze(s._fields,r);S&&b&&(S._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:k=>b.setCustomValidity(k),reportValidity:()=>b.reportValidity()})},[s._fields,r]),g=Re.useMemo(()=>({name:r,value:u,...oa(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:v,onBlur:m,ref:x}),[r,n,d.disabled,v,m,x,u]);return Re.useEffect(()=>{const b=s._options.shouldUnregister||i;s.register(r,{...h.current.rules,...oa(h.current.disabled)?{disabled:h.current.disabled}:{}});const S=(k,T)=>{const R=Ze(s._fields,k);R&&R._f&&(R._f.mount=T)};if(S(r,!0),b){const k=_s(Ze(s._options.defaultValues,r));Vr(s._defaultValues,r,k),Zn(Ze(s._formValues,r))&&Vr(s._formValues,r,k)}return!l&&s.register(r),()=>{(l?b&&!s._state.action:b)?s.unregister(r):S(r,!1)}},[r,s,l,i]),Re.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),Re.useMemo(()=>({field:g,formState:d,fieldState:f}),[g,d,f])}const mhe=e=>e.render(phe(e));var qB=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},jv=e=>Array.isArray(e)?e:[e],F3=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Ii=e=>ss(e)&&!Object.keys(e).length,rA=e=>e.type==="file",No=e=>typeof e=="function",Mw=e=>{if(!QE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},zB=e=>e.type==="select-multiple",nA=e=>e.type==="radio",ghe=e=>nA(e)||K0(e),j5=e=>Mw(e)&&e.isConnected;function vhe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Zn(e)?n++:e[t[n++]];return e}function yhe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Zn(e[t]))return!1;return!0}function us(e,t){const r=Array.isArray(t)?t:u2(t)?[t]:XE(t),n=r.length===1?e:vhe(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(ss(n)&&Ii(n)||Array.isArray(n)&&yhe(n))&&us(e,r.slice(0,-1)),e}var VB=e=>{for(const t in e)if(No(e[t]))return!0;return!1};function Dw(e,t={}){const r=Array.isArray(e);if(ss(e)||r)for(const n in e)Array.isArray(e[n])||ss(e[n])&&!VB(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Dw(e[n],t[n])):_i(e[n])||(t[n]=!0);return t}function WB(e,t,r){const n=Array.isArray(e);if(ss(e)||n)for(const s in e)Array.isArray(e[s])||ss(e[s])&&!VB(e[s])?Zn(t)||NN(r[s])?r[s]=Array.isArray(e[s])?Dw(e[s],[]):{...Dw(e[s])}:WB(e[s],_i(t)?{}:t[s],r[s]):r[s]=!uc(e[s],t[s]);return r}var Ug=(e,t)=>WB(e,t,Dw(t));const $3={value:!1,isValid:!1},B3={value:!0,isValid:!0};var HB=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Zn(e[0].attributes.value)?Zn(e[0].value)||e[0].value===""?B3:{value:e[0].value,isValid:!0}:B3:$3}return $3},GB=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Zn(e)?e:t?e===""?NaN:e&&+e:r&&pl(e)?new Date(e):n?n(e):e;const U3={isValid:!1,value:null};var YB=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,U3):U3;function q3(e){const t=e.ref;return rA(t)?t.files:nA(t)?YB(e.refs).value:zB(t)?[...t.selectedOptions].map(({value:r})=>r):K0(t)?HB(e.refs).value:GB(Zn(t.value)?e.ref.value:t.value,e)}var xhe=(e,t,r,n)=>{const s={};for(const i of e){const a=Ze(t,i);a&&Vr(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Fw=e=>e instanceof RegExp,qg=e=>Zn(e)?e:Fw(e)?e.source:ss(e)?Fw(e.value)?e.value.source:e.value:e,z3=e=>({isOnSubmit:!e||e===jo.onSubmit,isOnBlur:e===jo.onBlur,isOnChange:e===jo.onChange,isOnAll:e===jo.all,isOnTouch:e===jo.onTouched});const V3="AsyncFunction";var whe=e=>!!e&&!!e.validate&&!!(No(e.validate)&&e.validate.constructor.name===V3||ss(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===V3)),bhe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),W3=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Nv=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Ze(e,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Nv(l,t))break}else if(ss(l)&&Nv(l,t))break}}};function H3(e,t,r){const n=Ze(e,r);if(n||u2(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=Ze(t,i),l=Ze(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var _he=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Ii(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||jo.all))},She=(e,t,r)=>!e||!t||e===t||jv(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),jhe=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Nhe=(e,t)=>!ZE(Ze(e,t)).length&&us(e,t),khe=(e,t,r)=>{const n=jv(Ze(e,r));return Vr(n,"root",t[r]),Vr(e,r,n),e},Cx=e=>pl(e);function G3(e,t,r="validate"){if(Cx(e)||Array.isArray(e)&&e.every(Cx)||oa(e)&&!e)return{type:r,message:Cx(e)?e:"",ref:t}}var Ff=e=>ss(e)&&!Fw(e)?e:{value:e,message:""},Y3=async(e,t,r,n,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:h,max:p,pattern:f,validate:v,name:m,valueAsNumber:x,mount:g}=e._f,b=Ze(r,m);if(!g||t.has(m))return{};const S=l?l[0]:a,k=M=>{s&&S.reportValidity&&(S.setCustomValidity(oa(M)?"":M||""),S.reportValidity())},T={},R=nA(a),O=K0(a),D=R||O,I=(x||rA(a))&&Zn(a.value)&&Zn(b)||Mw(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,G=qB.bind(null,m,n,T),A=(M,$,q,ee=Kl.maxLength,re=Kl.minLength)=>{const te=M?$:q;T[m]={type:M?ee:re,message:te,ref:a,...G(M?ee:re,te)}};if(i?!Array.isArray(b)||!b.length:c&&(!D&&(I||_i(b))||oa(b)&&!b||O&&!HB(l).isValid||R&&!YB(l).isValid)){const{value:M,message:$}=Cx(c)?{value:!!c,message:c}:Ff(c);if(M&&(T[m]={type:Kl.required,message:$,ref:S,...G(Kl.required,$)},!n))return k($),T}if(!I&&(!_i(h)||!_i(p))){let M,$;const q=Ff(p),ee=Ff(h);if(!_i(b)&&!isNaN(b)){const re=a.valueAsNumber||b&&+b;_i(q.value)||(M=re>q.value),_i(ee.value)||($=re<ee.value)}else{const re=a.valueAsDate||new Date(b),te=pe=>new Date(new Date().toDateString()+" "+pe),W=a.type=="time",Z=a.type=="week";pl(q.value)&&b&&(M=W?te(b)>te(q.value):Z?b>q.value:re>new Date(q.value)),pl(ee.value)&&b&&($=W?te(b)<te(ee.value):Z?b<ee.value:re<new Date(ee.value))}if((M||$)&&(A(!!M,q.message,ee.message,Kl.max,Kl.min),!n))return k(T[m].message),T}if((u||d)&&!I&&(pl(b)||i&&Array.isArray(b))){const M=Ff(u),$=Ff(d),q=!_i(M.value)&&b.length>+M.value,ee=!_i($.value)&&b.length<+$.value;if((q||ee)&&(A(q,M.message,$.message),!n))return k(T[m].message),T}if(f&&!I&&pl(b)){const{value:M,message:$}=Ff(f);if(Fw(M)&&!b.match(M)&&(T[m]={type:Kl.pattern,message:$,ref:a,...G(Kl.pattern,$)},!n))return k($),T}if(v){if(No(v)){const M=await v(b,r),$=G3(M,S);if($&&(T[m]={...$,...G(Kl.validate,$.message)},!n))return k($.message),T}else if(ss(v)){let M={};for(const $ in v){if(!Ii(M)&&!n)break;const q=G3(await v[$](b,r),S,$);q&&(M={...q,...G($,q.message)},k(q.message),n&&(T[m]=M))}if(!Ii(M)&&(T[m]={ref:S,...M},!n))return T}}return k(!0),T};const Che={mode:jo.onSubmit,reValidateMode:jo.onChange,shouldFocusError:!0};function Ehe(e={}){let t={...Che,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:No(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=ss(t.defaultValues)||ss(t.values)?_s(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:_s(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:F3(),state:F3()},f=t.criteriaMode===jo.all,v=se=>ce=>{clearTimeout(u),u=setTimeout(se,ce)},m=async se=>{if(!t.disabled&&(d.isValid||h.isValid||se)){const ce=t.resolver?Ii((await O()).errors):await I(n,!0);ce!==r.isValid&&p.state.next({isValid:ce})}},x=(se,ce)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((se||Array.from(l.mount)).forEach(xe=>{xe&&(ce?Vr(r.validatingFields,xe,ce):us(r.validatingFields,xe))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Ii(r.validatingFields)}))},g=(se,ce=[],xe,Ne,Oe=!0,Ce=!0)=>{if(Ne&&xe&&!t.disabled){if(a.action=!0,Ce&&Array.isArray(Ze(n,se))){const Le=xe(Ze(n,se),Ne.argA,Ne.argB);Oe&&Vr(n,se,Le)}if(Ce&&Array.isArray(Ze(r.errors,se))){const Le=xe(Ze(r.errors,se),Ne.argA,Ne.argB);Oe&&Vr(r.errors,se,Le),Nhe(r.errors,se)}if((d.touchedFields||h.touchedFields)&&Ce&&Array.isArray(Ze(r.touchedFields,se))){const Le=xe(Ze(r.touchedFields,se),Ne.argA,Ne.argB);Oe&&Vr(r.touchedFields,se,Le)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Ug(s,i)),p.state.next({name:se,isDirty:A(se,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Vr(i,se,ce)},b=(se,ce)=>{Vr(r.errors,se,ce),p.state.next({errors:r.errors})},S=se=>{r.errors=se,p.state.next({errors:r.errors,isValid:!1})},k=(se,ce,xe,Ne)=>{const Oe=Ze(n,se);if(Oe){const Ce=Ze(i,se,Zn(xe)?Ze(s,se):xe);Zn(Ce)||Ne&&Ne.defaultChecked||ce?Vr(i,se,ce?Ce:q3(Oe._f)):q(se,Ce),a.mount&&m()}},T=(se,ce,xe,Ne,Oe)=>{let Ce=!1,Le=!1;const et={name:se};if(!t.disabled){if(!xe||Ne){(d.isDirty||h.isDirty)&&(Le=r.isDirty,r.isDirty=et.isDirty=A(),Ce=Le!==et.isDirty);const at=uc(Ze(s,se),ce);Le=!!Ze(r.dirtyFields,se),at?us(r.dirtyFields,se):Vr(r.dirtyFields,se,!0),et.dirtyFields=r.dirtyFields,Ce=Ce||(d.dirtyFields||h.dirtyFields)&&Le!==!at}if(xe){const at=Ze(r.touchedFields,se);at||(Vr(r.touchedFields,se,xe),et.touchedFields=r.touchedFields,Ce=Ce||(d.touchedFields||h.touchedFields)&&at!==xe)}Ce&&Oe&&p.state.next(et)}return Ce?et:{}},R=(se,ce,xe,Ne)=>{const Oe=Ze(r.errors,se),Ce=(d.isValid||h.isValid)&&oa(ce)&&r.isValid!==ce;if(t.delayError&&xe?(c=v(()=>b(se,xe)),c(t.delayError)):(clearTimeout(u),c=null,xe?Vr(r.errors,se,xe):us(r.errors,se)),(xe?!uc(Oe,xe):Oe)||!Ii(Ne)||Ce){const Le={...Ne,...Ce&&oa(ce)?{isValid:ce}:{},errors:r.errors,name:se};r={...r,...Le},p.state.next(Le)}},O=async se=>{x(se,!0);const ce=await t.resolver(i,t.context,xhe(se||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(se),ce},D=async se=>{const{errors:ce}=await O(se);if(se)for(const xe of se){const Ne=Ze(ce,xe);Ne?Vr(r.errors,xe,Ne):us(r.errors,xe)}else r.errors=ce;return ce},I=async(se,ce,xe={valid:!0})=>{for(const Ne in se){const Oe=se[Ne];if(Oe){const{_f:Ce,...Le}=Oe;if(Ce){const et=l.array.has(Ce.name),at=Oe._f&&whe(Oe._f);at&&d.validatingFields&&x([Ne],!0);const Je=await Y3(Oe,l.disabled,i,f,t.shouldUseNativeValidation&&!ce,et);if(at&&d.validatingFields&&x([Ne]),Je[Ce.name]&&(xe.valid=!1,ce))break;!ce&&(Ze(Je,Ce.name)?et?khe(r.errors,Je,Ce.name):Vr(r.errors,Ce.name,Je[Ce.name]):us(r.errors,Ce.name))}!Ii(Le)&&await I(Le,ce,xe)}}return xe.valid},G=()=>{for(const se of l.unMount){const ce=Ze(n,se);ce&&(ce._f.refs?ce._f.refs.every(xe=>!j5(xe)):!j5(ce._f.ref))&&F(se)}l.unMount=new Set},A=(se,ce)=>!t.disabled&&(se&&ce&&Vr(i,se,ce),!uc(pe(),s)),M=(se,ce,xe)=>UB(se,l,{...a.mount?i:Zn(ce)?s:pl(se)?{[se]:ce}:ce},xe,ce),$=se=>ZE(Ze(a.mount?i:s,se,t.shouldUnregister?Ze(s,se,[]):[])),q=(se,ce,xe={})=>{const Ne=Ze(n,se);let Oe=ce;if(Ne){const Ce=Ne._f;Ce&&(!Ce.disabled&&Vr(i,se,GB(ce,Ce)),Oe=Mw(Ce.ref)&&_i(ce)?"":ce,zB(Ce.ref)?[...Ce.ref.options].forEach(Le=>Le.selected=Oe.includes(Le.value)):Ce.refs?K0(Ce.ref)?Ce.refs.forEach(Le=>{(!Le.defaultChecked||!Le.disabled)&&(Array.isArray(Oe)?Le.checked=!!Oe.find(et=>et===Le.value):Le.checked=Oe===Le.value||!!Oe)}):Ce.refs.forEach(Le=>Le.checked=Le.value===Oe):rA(Ce.ref)?Ce.ref.value="":(Ce.ref.value=Oe,Ce.ref.type||p.state.next({name:se,values:_s(i)})))}(xe.shouldDirty||xe.shouldTouch)&&T(se,Oe,xe.shouldTouch,xe.shouldDirty,!0),xe.shouldValidate&&Z(se)},ee=(se,ce,xe)=>{for(const Ne in ce){if(!ce.hasOwnProperty(Ne))return;const Oe=ce[Ne],Ce=se+"."+Ne,Le=Ze(n,Ce);(l.array.has(se)||ss(Oe)||Le&&!Le._f)&&!th(Oe)?ee(Ce,Oe,xe):q(Ce,Oe,xe)}},re=(se,ce,xe={})=>{const Ne=Ze(n,se),Oe=l.array.has(se),Ce=_s(ce);Vr(i,se,Ce),Oe?(p.array.next({name:se,values:_s(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&xe.shouldDirty&&p.state.next({name:se,dirtyFields:Ug(s,i),isDirty:A(se,Ce)})):Ne&&!Ne._f&&!_i(Ce)?ee(se,Ce,xe):q(se,Ce,xe),W3(se,l)&&p.state.next({...r,name:se}),p.state.next({name:a.mount?se:void 0,values:_s(i)})},te=async se=>{a.mount=!0;const ce=se.target;let xe=ce.name,Ne=!0;const Oe=Ze(n,xe),Ce=at=>{Ne=Number.isNaN(at)||th(at)&&isNaN(at.getTime())||uc(at,Ze(i,xe,at))},Le=z3(t.mode),et=z3(t.reValidateMode);if(Oe){let at,Je;const bt=ce.type?q3(Oe._f):FB(se),rt=se.type===Iw.BLUR||se.type===Iw.FOCUS_OUT,Fr=!bhe(Oe._f)&&!t.resolver&&!Ze(r.errors,xe)&&!Oe._f.deps||jhe(rt,Ze(r.touchedFields,xe),r.isSubmitted,et,Le),qt=W3(xe,l,rt);Vr(i,xe,bt),rt?(Oe._f.onBlur&&Oe._f.onBlur(se),c&&c(0)):Oe._f.onChange&&Oe._f.onChange(se);const Ot=T(xe,bt,rt),zt=!Ii(Ot)||qt;if(!rt&&p.state.next({name:xe,type:se.type,values:_s(i)}),Fr)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?rt&&m():rt||m()),zt&&p.state.next({name:xe,...qt?{}:Ot});if(!rt&&qt&&p.state.next({...r}),t.resolver){const{errors:lr}=await O([xe]);if(Ce(bt),Ne){const _t=H3(r.errors,n,xe),br=H3(lr,n,_t.name||xe);at=br.error,xe=br.name,Je=Ii(lr)}}else x([xe],!0),at=(await Y3(Oe,l.disabled,i,f,t.shouldUseNativeValidation))[xe],x([xe]),Ce(bt),Ne&&(at?Je=!1:(d.isValid||h.isValid)&&(Je=await I(n,!0)));Ne&&(Oe._f.deps&&Z(Oe._f.deps),R(xe,Je,at,Ot))}},W=(se,ce)=>{if(Ze(r.errors,ce)&&se.focus)return se.focus(),1},Z=async(se,ce={})=>{let xe,Ne;const Oe=jv(se);if(t.resolver){const Ce=await D(Zn(se)?se:Oe);xe=Ii(Ce),Ne=se?!Oe.some(Le=>Ze(Ce,Le)):xe}else se?(Ne=(await Promise.all(Oe.map(async Ce=>{const Le=Ze(n,Ce);return await I(Le&&Le._f?{[Ce]:Le}:Le)}))).every(Boolean),!(!Ne&&!r.isValid)&&m()):Ne=xe=await I(n);return p.state.next({...!pl(se)||(d.isValid||h.isValid)&&xe!==r.isValid?{}:{name:se},...t.resolver||!se?{isValid:xe}:{},errors:r.errors}),ce.shouldFocus&&!Ne&&Nv(n,W,se?Oe:l.mount),Ne},pe=se=>{const ce={...a.mount?i:s};return Zn(se)?ce:pl(se)?Ze(ce,se):se.map(xe=>Ze(ce,xe))},ge=(se,ce)=>({invalid:!!Ze((ce||r).errors,se),isDirty:!!Ze((ce||r).dirtyFields,se),error:Ze((ce||r).errors,se),isValidating:!!Ze(r.validatingFields,se),isTouched:!!Ze((ce||r).touchedFields,se)}),U=se=>{se&&jv(se).forEach(ce=>us(r.errors,ce)),p.state.next({errors:se?r.errors:{}})},_=(se,ce,xe)=>{const Ne=(Ze(n,se,{_f:{}})._f||{}).ref,Oe=Ze(r.errors,se)||{},{ref:Ce,message:Le,type:et,...at}=Oe;Vr(r.errors,se,{...at,...ce,ref:Ne}),p.state.next({name:se,errors:r.errors,isValid:!1}),xe&&xe.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},C=(se,ce)=>No(se)?p.state.subscribe({next:xe=>"values"in xe&&se(M(void 0,ce),xe)}):M(se,ce,!0),E=se=>p.state.subscribe({next:ce=>{She(se.name,ce.name,se.exact)&&_he(ce,se.formState||d,Ge,se.reRenderRoot)&&se.callback({values:{...i},...r,...ce,defaultValues:s})}}).unsubscribe,B=se=>(a.mount=!0,h={...h,...se.formState},E({...se,formState:h})),F=(se,ce={})=>{for(const xe of se?jv(se):l.mount)l.mount.delete(xe),l.array.delete(xe),ce.keepValue||(us(n,xe),us(i,xe)),!ce.keepError&&us(r.errors,xe),!ce.keepDirty&&us(r.dirtyFields,xe),!ce.keepTouched&&us(r.touchedFields,xe),!ce.keepIsValidating&&us(r.validatingFields,xe),!t.shouldUnregister&&!ce.keepDefaultValue&&us(s,xe);p.state.next({values:_s(i)}),p.state.next({...r,...ce.keepDirty?{isDirty:A()}:{}}),!ce.keepIsValid&&m()},Q=({disabled:se,name:ce})=>{(oa(se)&&a.mount||se||l.disabled.has(ce))&&(se?l.disabled.add(ce):l.disabled.delete(ce))},ne=(se,ce={})=>{let xe=Ze(n,se);const Ne=oa(ce.disabled)||oa(t.disabled);return Vr(n,se,{...xe||{},_f:{...xe&&xe._f?xe._f:{ref:{name:se}},name:se,mount:!0,...ce}}),l.mount.add(se),xe?Q({disabled:oa(ce.disabled)?ce.disabled:t.disabled,name:se}):k(se,!0,ce.value),{...Ne?{disabled:ce.disabled||t.disabled}:{},...t.progressive?{required:!!ce.required,min:qg(ce.min),max:qg(ce.max),minLength:qg(ce.minLength),maxLength:qg(ce.maxLength),pattern:qg(ce.pattern)}:{},name:se,onChange:te,onBlur:te,ref:Oe=>{if(Oe){ne(se,ce),xe=Ze(n,se);const Ce=Zn(Oe.value)&&Oe.querySelectorAll&&Oe.querySelectorAll("input,select,textarea")[0]||Oe,Le=ghe(Ce),et=xe._f.refs||[];if(Le?et.find(at=>at===Ce):Ce===xe._f.ref)return;Vr(n,se,{_f:{...xe._f,...Le?{refs:[...et.filter(j5),Ce,...Array.isArray(Ze(s,se))?[{}]:[]],ref:{type:Ce.type,name:se}}:{ref:Ce}}}),k(se,!1,void 0,Ce)}else xe=Ze(n,se,{}),xe._f&&(xe._f.mount=!1),(t.shouldUnregister||ce.shouldUnregister)&&!($B(l.array,se)&&a.action)&&l.unMount.add(se)}}},le=()=>t.shouldFocusError&&Nv(n,W,l.mount),ue=se=>{oa(se)&&(p.state.next({disabled:se}),Nv(n,(ce,xe)=>{const Ne=Ze(n,xe);Ne&&(ce.disabled=Ne._f.disabled||se,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(Oe=>{Oe.disabled=Ne._f.disabled||se}))},0,!1))},fe=(se,ce)=>async xe=>{let Ne;xe&&(xe.preventDefault&&xe.preventDefault(),xe.persist&&xe.persist());let Oe=_s(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Ce,values:Le}=await O();r.errors=Ce,Oe=_s(Le)}else await I(n);if(l.disabled.size)for(const Ce of l.disabled)us(Oe,Ce);if(us(r.errors,"root"),Ii(r.errors)){p.state.next({errors:{}});try{await se(Oe,xe)}catch(Ce){Ne=Ce}}else ce&&await ce({...r.errors},xe),le(),setTimeout(le);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ii(r.errors)&&!Ne,submitCount:r.submitCount+1,errors:r.errors}),Ne)throw Ne},_e=(se,ce={})=>{Ze(n,se)&&(Zn(ce.defaultValue)?re(se,_s(Ze(s,se))):(re(se,ce.defaultValue),Vr(s,se,_s(ce.defaultValue))),ce.keepTouched||us(r.touchedFields,se),ce.keepDirty||(us(r.dirtyFields,se),r.isDirty=ce.defaultValue?A(se,_s(Ze(s,se))):A()),ce.keepError||(us(r.errors,se),d.isValid&&m()),p.state.next({...r}))},Me=(se,ce={})=>{const xe=se?_s(se):s,Ne=_s(xe),Oe=Ii(se),Ce=Oe?s:Ne;if(ce.keepDefaultValues||(s=xe),!ce.keepValues){if(ce.keepDirtyValues){const Le=new Set([...l.mount,...Object.keys(Ug(s,i))]);for(const et of Array.from(Le))Ze(r.dirtyFields,et)?Vr(Ce,et,Ze(i,et)):re(et,Ze(Ce,et))}else{if(QE&&Zn(se))for(const Le of l.mount){const et=Ze(n,Le);if(et&&et._f){const at=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(Mw(at)){const Je=at.closest("form");if(Je){Je.reset();break}}}}if(ce.keepFieldsRef)for(const Le of l.mount)re(Le,Ze(Ce,Le));else n={}}i=t.shouldUnregister?ce.keepDefaultValues?_s(s):{}:_s(Ce),p.array.next({values:{...Ce}}),p.state.next({values:{...Ce}})}l={mount:ce.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,a.watch=!!t.shouldUnregister,p.state.next({submitCount:ce.keepSubmitCount?r.submitCount:0,isDirty:Oe?!1:ce.keepDirty?r.isDirty:!!(ce.keepDefaultValues&&!uc(se,s)),isSubmitted:ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Oe?{}:ce.keepDirtyValues?ce.keepDefaultValues&&i?Ug(s,i):r.dirtyFields:ce.keepDefaultValues&&se?Ug(s,se):ce.keepDirty?r.dirtyFields:{},touchedFields:ce.keepTouched?r.touchedFields:{},errors:ce.keepErrors?r.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},J=(se,ce)=>Me(No(se)?se(i):se,ce),De=(se,ce={})=>{const xe=Ze(n,se),Ne=xe&&xe._f;if(Ne){const Oe=Ne.refs?Ne.refs[0]:Ne.ref;Oe.focus&&(Oe.focus(),ce.shouldSelect&&No(Oe.select)&&Oe.select())}},Ge=se=>{r={...r,...se}},ve={control:{register:ne,unregister:F,getFieldState:ge,handleSubmit:fe,setError:_,_subscribe:E,_runSchema:O,_focusError:le,_getWatch:M,_getDirty:A,_setValid:m,_setFieldArray:g,_setDisabledField:Q,_setErrors:S,_getFieldArray:$,_reset:Me,_resetDefaultValues:()=>No(t.defaultValues)&&t.defaultValues().then(se=>{J(se,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:ue,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(se){a=se},get _defaultValues(){return s},get _names(){return l},set _names(se){l=se},get _formState(){return r},get _options(){return t},set _options(se){t={...t,...se}}},subscribe:B,trigger:Z,register:ne,handleSubmit:fe,watch:C,setValue:re,getValues:pe,reset:J,resetField:_e,clearErrors:U,unregister:F,setError:_,setFocus:De,getFieldState:ge};return{...ve,formControl:ve}}function J0(e={}){const t=Re.useRef(void 0),r=Re.useRef(void 0),[n,s]=Re.useState({isDirty:!1,isValidating:!1,isLoading:No(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:No(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!No(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...l}=Ehe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,tA(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),Re.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Re.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Re.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Re.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Re.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),Re.useEffect(()=>{e.values&&!uc(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),Re.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=BB(n,i),t.current}const K3=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ze(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},KB=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?K3(n.ref,r,e):n.refs&&n.refs.forEach(s=>K3(s,r,e))}},Ahe=(e,t)=>{t.shouldUseNativeValidation&&KB(e,t);const r={};for(const n in e){const s=Ze(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(Phe(t.names||Object.keys(e),n)){const a=Object.assign({},Ze(r,n));Vr(a,"root",i),Vr(r,n,a)}else Vr(r,n,i)}return r},Phe=(e,t)=>e.some(r=>r.startsWith(t+"."));var The=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=r[a].types,u=c&&c[n.code];r[a]=qB(a,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},Q0=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&KB({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:Ahe(The(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},Or;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Or||(Or={}));var J3;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(J3||(J3={}));const gt=Or.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gu=e=>{switch(typeof e){case"undefined":return gt.undefined;case"string":return gt.string;case"number":return Number.isNaN(e)?gt.nan:gt.number;case"boolean":return gt.boolean;case"function":return gt.function;case"bigint":return gt.bigint;case"symbol":return gt.symbol;case"object":return Array.isArray(e)?gt.array:e===null?gt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?gt.promise:typeof Map<"u"&&e instanceof Map?gt.map:typeof Set<"u"&&e instanceof Set?gt.set:typeof Date<"u"&&e instanceof Date?gt.date:gt.object;default:return gt.unknown}},He=Or.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Lc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Lc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Or.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Lc.create=e=>new Lc(e);const kN=(e,t)=>{let r;switch(e.code){case He.invalid_type:e.received===gt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case He.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Or.jsonStringifyReplacer)}`;break;case He.unrecognized_keys:r=`Unrecognized key(s) in object: ${Or.joinValues(e.keys,", ")}`;break;case He.invalid_union:r="Invalid input";break;case He.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Or.joinValues(e.options)}`;break;case He.invalid_enum_value:r=`Invalid enum value. Expected ${Or.joinValues(e.options)}, received '${e.received}'`;break;case He.invalid_arguments:r="Invalid function arguments";break;case He.invalid_return_type:r="Invalid function return type";break;case He.invalid_date:r="Invalid date";break;case He.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Or.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case He.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case He.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case He.custom:r="Invalid input";break;case He.invalid_intersection_types:r="Intersection results could not be merged";break;case He.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case He.not_finite:r="Number must be finite";break;default:r=t.defaultError,Or.assertNever(e)}return{message:r}};let Rhe=kN;function Ohe(){return Rhe}const Lhe=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function it(e,t){const r=Ohe(),n=Lhe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===kN?void 0:kN].filter(s=>!!s)});e.common.issues.push(n)}class wa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Zt;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return wa.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Zt;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}}const Zt=Object.freeze({status:"aborted"}),sv=e=>({status:"dirty",value:e}),eo=e=>({status:"valid",value:e}),Q3=e=>e.status==="aborted",Z3=e=>e.status==="dirty",um=e=>e.status==="valid",$w=e=>typeof Promise<"u"&&e instanceof Promise;var xt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xt||(xt={}));class id{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const X3=(e,t)=>{if(um(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Lc(e.common.issues);return this._error=r,this._error}}};function ar(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,l)=>{const{message:c}=e;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Pr{get description(){return this._def.description}_getType(t){return gu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:gu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new wa,ctx:{common:t.parent.common,data:t.data,parsedType:gu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if($w(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gu(t)},s=this._parseSync({data:t,path:n.path,parent:n});return X3(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gu(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return um(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>um(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gu(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await($w(s)?s:Promise.resolve(s));return X3(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=t(s),l=()=>i.addIssue({code:He.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new fm({schema:this,typeName:Xt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Yu.create(this,this._def)}nullable(){return pm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wl.create(this)}promise(){return zw.create(this,this._def)}or(t){return Uw.create([this,t],this._def)}and(t){return qw.create(this,t,this._def)}transform(t){return new fm({...ar(this._def),schema:this,typeName:Xt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new PN({...ar(this._def),innerType:this,defaultValue:r,typeName:Xt.ZodDefault})}brand(){return new nfe({typeName:Xt.ZodBranded,type:this,...ar(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new TN({...ar(this._def),innerType:this,catchValue:r,typeName:Xt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return sA.create(this,t)}readonly(){return RN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ihe=/^c[^\s-]{8,}$/i,Mhe=/^[0-9a-z]+$/,Dhe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Fhe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$he=/^[a-z0-9_-]{21}$/i,Bhe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Uhe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qhe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zhe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let N5;const Vhe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Whe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hhe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ghe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Yhe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Khe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,JB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Jhe=new RegExp(`^${JB}$`);function QB(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Qhe(e){return new RegExp(`^${QB(e)}$`)}function Zhe(e){let t=`${JB}T${QB(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Xhe(e,t){return!!((t==="v4"||!t)&&Vhe.test(e)||(t==="v6"||!t)&&Hhe.test(e))}function efe(e,t){if(!Bhe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function tfe(e,t){return!!((t==="v4"||!t)&&Whe.test(e)||(t==="v6"||!t)&&Ghe.test(e))}class fc extends Pr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==gt.string){const i=this._getOrReturnCtx(t);return it(i,{code:He.invalid_type,expected:gt.string,received:i.parsedType}),Zt}const n=new wa;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),it(s,{code:He.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),it(s,{code:He.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(t,s),a?it(s,{code:He.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&it(s,{code:He.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")qhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"email",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")N5||(N5=new RegExp(zhe,"u")),N5.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"emoji",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Fhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"uuid",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")$he.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"nanoid",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Ihe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"cuid",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Mhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"cuid2",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Dhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"ulid",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),it(s,{validation:"url",code:He.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"regex",code:He.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),it(s,{code:He.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),it(s,{code:He.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),it(s,{code:He.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Zhe(i).test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{code:He.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Jhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{code:He.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Qhe(i).test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{code:He.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Uhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"duration",code:He.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Xhe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"ip",code:He.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?efe(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"jwt",code:He.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?tfe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"cidr",code:He.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Yhe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"base64",code:He.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Khe.test(t.data)||(s=this._getOrReturnCtx(t,s),it(s,{validation:"base64url",code:He.invalid_string,message:i.message}),n.dirty()):Or.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:He.invalid_string,...xt.errToObj(n)})}_addCheck(t){return new fc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...xt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...xt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...xt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...xt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...xt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...xt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...xt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...xt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...xt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...xt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...xt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...xt.errToObj(r)})}nonempty(t){return this.min(1,xt.errToObj(t))}trim(){return new fc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}fc.create=e=>new fc({checks:[],typeName:Xt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ar(e)});function rfe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}class Dh extends Pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==gt.number){const i=this._getOrReturnCtx(t);return it(i,{code:He.invalid_type,expected:gt.number,received:i.parsedType}),Zt}let n;const s=new wa;for(const i of this._def.checks)i.kind==="int"?Or.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:He.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:He.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:He.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?rfe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),it(n,{code:He.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:He.not_finite,message:i.message}),s.dirty()):Or.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,xt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,xt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,xt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,xt.toString(r))}setLimit(t,r,n,s){return new Dh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:xt.toString(s)}]})}_addCheck(t){return new Dh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:xt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Or.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Dh.create=e=>new Dh({checks:[],typeName:Xt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ar(e)});class Fh extends Pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==gt.bigint)return this._getInvalidInput(t);let n;const s=new wa;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:He.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:He.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),it(n,{code:He.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Or.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return it(r,{code:He.invalid_type,expected:gt.bigint,received:r.parsedType}),Zt}gte(t,r){return this.setLimit("min",t,!0,xt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,xt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,xt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,xt.toString(r))}setLimit(t,r,n,s){return new Fh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:xt.toString(s)}]})}_addCheck(t){return new Fh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Fh.create=e=>new Fh({checks:[],typeName:Xt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ar(e)});class Bw extends Pr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==gt.boolean){const n=this._getOrReturnCtx(t);return it(n,{code:He.invalid_type,expected:gt.boolean,received:n.parsedType}),Zt}return eo(t.data)}}Bw.create=e=>new Bw({typeName:Xt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ar(e)});class dm extends Pr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==gt.date){const i=this._getOrReturnCtx(t);return it(i,{code:He.invalid_type,expected:gt.date,received:i.parsedType}),Zt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return it(i,{code:He.invalid_date}),Zt}const n=new wa;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),it(s,{code:He.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),it(s,{code:He.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Or.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dm({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:xt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:xt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}dm.create=e=>new dm({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Xt.ZodDate,...ar(e)});class eR extends Pr{_parse(t){if(this._getType(t)!==gt.symbol){const n=this._getOrReturnCtx(t);return it(n,{code:He.invalid_type,expected:gt.symbol,received:n.parsedType}),Zt}return eo(t.data)}}eR.create=e=>new eR({typeName:Xt.ZodSymbol,...ar(e)});class tR extends Pr{_parse(t){if(this._getType(t)!==gt.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:He.invalid_type,expected:gt.undefined,received:n.parsedType}),Zt}return eo(t.data)}}tR.create=e=>new tR({typeName:Xt.ZodUndefined,...ar(e)});class rR extends Pr{_parse(t){if(this._getType(t)!==gt.null){const n=this._getOrReturnCtx(t);return it(n,{code:He.invalid_type,expected:gt.null,received:n.parsedType}),Zt}return eo(t.data)}}rR.create=e=>new rR({typeName:Xt.ZodNull,...ar(e)});class CN extends Pr{constructor(){super(...arguments),this._any=!0}_parse(t){return eo(t.data)}}CN.create=e=>new CN({typeName:Xt.ZodAny,...ar(e)});class nR extends Pr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return eo(t.data)}}nR.create=e=>new nR({typeName:Xt.ZodUnknown,...ar(e)});class ad extends Pr{_parse(t){const r=this._getOrReturnCtx(t);return it(r,{code:He.invalid_type,expected:gt.never,received:r.parsedType}),Zt}}ad.create=e=>new ad({typeName:Xt.ZodNever,...ar(e)});class sR extends Pr{_parse(t){if(this._getType(t)!==gt.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:He.invalid_type,expected:gt.void,received:n.parsedType}),Zt}return eo(t.data)}}sR.create=e=>new sR({typeName:Xt.ZodVoid,...ar(e)});class wl extends Pr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==gt.array)return it(r,{code:He.invalid_type,expected:gt.array,received:r.parsedType}),Zt;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(it(r,{code:a?He.too_big:He.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(it(r,{code:He.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(it(r,{code:He.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new id(r,a,r.path,l)))).then(a=>wa.mergeArray(n,a));const i=[...r.data].map((a,l)=>s.type._parseSync(new id(r,a,r.path,l)));return wa.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new wl({...this._def,minLength:{value:t,message:xt.toString(r)}})}max(t,r){return new wl({...this._def,maxLength:{value:t,message:xt.toString(r)}})}length(t,r){return new wl({...this._def,exactLength:{value:t,message:xt.toString(r)}})}nonempty(t){return this.min(1,t)}}wl.create=(e,t)=>new wl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Xt.ZodArray,...ar(t)});function Gf(e){if(e instanceof Vn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Yu.create(Gf(n))}return new Vn({...e._def,shape:()=>t})}else return e instanceof wl?new wl({...e._def,type:Gf(e.element)}):e instanceof Yu?Yu.create(Gf(e.unwrap())):e instanceof pm?pm.create(Gf(e.unwrap())):e instanceof $h?$h.create(e.items.map(t=>Gf(t))):e}class Vn extends Pr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Or.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==gt.object){const u=this._getOrReturnCtx(t);return it(u,{code:He.invalid_type,expected:gt.object,received:u.parsedType}),Zt}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof ad&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new id(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ad){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(it(s,{code:He.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new id(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>wa.mergeObjectSync(n,u)):wa.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return xt.errToObj,new Vn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:xt.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Vn({...this._def,unknownKeys:"strip"})}passthrough(){return new Vn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Vn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Vn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Xt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Vn({...this._def,catchall:t})}pick(t){const r={};for(const n of Or.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Vn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Or.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Vn({...this._def,shape:()=>r})}deepPartial(){return Gf(this)}partial(t){const r={};for(const n of Or.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Vn({...this._def,shape:()=>r})}required(t){const r={};for(const n of Or.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Yu;)i=i._def.innerType;r[n]=i}return new Vn({...this._def,shape:()=>r})}keyof(){return ZB(Or.objectKeys(this.shape))}}Vn.create=(e,t)=>new Vn({shape:()=>e,unknownKeys:"strip",catchall:ad.create(),typeName:Xt.ZodObject,...ar(t)});Vn.strictCreate=(e,t)=>new Vn({shape:()=>e,unknownKeys:"strict",catchall:ad.create(),typeName:Xt.ZodObject,...ar(t)});Vn.lazycreate=(e,t)=>new Vn({shape:e,unknownKeys:"strip",catchall:ad.create(),typeName:Xt.ZodObject,...ar(t)});class Uw extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new Lc(l.ctx.common.issues));return it(r,{code:He.invalid_union,unionErrors:a}),Zt}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new Lc(c));return it(r,{code:He.invalid_union,unionErrors:l}),Zt}}get options(){return this._def.options}}Uw.create=(e,t)=>new Uw({options:e,typeName:Xt.ZodUnion,...ar(t)});function EN(e,t){const r=gu(e),n=gu(t);if(e===t)return{valid:!0,data:e};if(r===gt.object&&n===gt.object){const s=Or.objectKeys(t),i=Or.objectKeys(e).filter(l=>s.indexOf(l)!==-1),a={...e,...t};for(const l of i){const c=EN(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===gt.array&&n===gt.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],c=EN(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===gt.date&&n===gt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class qw extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,a)=>{if(Q3(i)||Q3(a))return Zt;const l=EN(i.value,a.value);return l.valid?((Z3(i)||Z3(a))&&r.dirty(),{status:r.value,value:l.data}):(it(n,{code:He.invalid_intersection_types}),Zt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}qw.create=(e,t,r)=>new qw({left:e,right:t,typeName:Xt.ZodIntersection,...ar(r)});class $h extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.array)return it(n,{code:He.invalid_type,expected:gt.array,received:n.parsedType}),Zt;if(n.data.length<this._def.items.length)return it(n,{code:He.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Zt;!this._def.rest&&n.data.length>this._def.items.length&&(it(n,{code:He.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new id(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>wa.mergeArray(r,a)):wa.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new $h({...this._def,rest:t})}}$h.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $h({items:e,typeName:Xt.ZodTuple,rest:null,...ar(t)})};class iR extends Pr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.map)return it(n,{code:He.invalid_type,expected:gt.map,received:n.parsedType}),Zt;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new id(n,l,n.path,[u,"key"])),value:i._parse(new id(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Zt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Zt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}iR.create=(e,t,r)=>new iR({valueType:t,keyType:e,typeName:Xt.ZodMap,...ar(r)});class h0 extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.set)return it(n,{code:He.invalid_type,expected:gt.set,received:n.parsedType}),Zt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(it(n,{code:He.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(it(n,{code:He.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Zt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new id(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new h0({...this._def,minSize:{value:t,message:xt.toString(r)}})}max(t,r){return new h0({...this._def,maxSize:{value:t,message:xt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}h0.create=(e,t)=>new h0({valueType:e,minSize:null,maxSize:null,typeName:Xt.ZodSet,...ar(t)});class aR extends Pr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}aR.create=(e,t)=>new aR({getter:e,typeName:Xt.ZodLazy,...ar(t)});class AN extends Pr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return it(r,{received:r.data,code:He.invalid_literal,expected:this._def.value}),Zt}return{status:"valid",value:t.data}}get value(){return this._def.value}}AN.create=(e,t)=>new AN({value:e,typeName:Xt.ZodLiteral,...ar(t)});function ZB(e,t){return new hm({values:e,typeName:Xt.ZodEnum,...ar(t)})}class hm extends Pr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{expected:Or.joinValues(n),received:r.parsedType,code:He.invalid_type}),Zt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{received:r.data,code:He.invalid_enum_value,options:n}),Zt}return eo(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return hm.create(t,{...this._def,...r})}exclude(t,r=this._def){return hm.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}hm.create=ZB;class oR extends Pr{_parse(t){const r=Or.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==gt.string&&n.parsedType!==gt.number){const s=Or.objectValues(r);return it(n,{expected:Or.joinValues(s),received:n.parsedType,code:He.invalid_type}),Zt}if(this._cache||(this._cache=new Set(Or.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Or.objectValues(r);return it(n,{received:n.data,code:He.invalid_enum_value,options:s}),Zt}return eo(t.data)}get enum(){return this._def.values}}oR.create=(e,t)=>new oR({values:e,typeName:Xt.ZodNativeEnum,...ar(t)});class zw extends Pr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==gt.promise&&r.common.async===!1)return it(r,{code:He.invalid_type,expected:gt.promise,received:r.parsedType}),Zt;const n=r.parsedType===gt.promise?r.data:Promise.resolve(r.data);return eo(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}zw.create=(e,t)=>new zw({type:e,typeName:Xt.ZodPromise,...ar(t)});class fm extends Pr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{it(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return Zt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Zt:c.status==="dirty"||r.value==="dirty"?sv(c.value):c});{if(r.value==="aborted")return Zt;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?Zt:l.status==="dirty"||r.value==="dirty"?sv(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Zt:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Zt:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!um(a))return Zt;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>um(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:r.value,value:l})):Zt);Or.assertNever(s)}}fm.create=(e,t,r)=>new fm({schema:e,typeName:Xt.ZodEffects,effect:t,...ar(r)});fm.createWithPreprocess=(e,t,r)=>new fm({schema:t,effect:{type:"preprocess",transform:e},typeName:Xt.ZodEffects,...ar(r)});class Yu extends Pr{_parse(t){return this._getType(t)===gt.undefined?eo(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yu.create=(e,t)=>new Yu({innerType:e,typeName:Xt.ZodOptional,...ar(t)});class pm extends Pr{_parse(t){return this._getType(t)===gt.null?eo(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}pm.create=(e,t)=>new pm({innerType:e,typeName:Xt.ZodNullable,...ar(t)});class PN extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===gt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}PN.create=(e,t)=>new PN({innerType:e,typeName:Xt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ar(t)});class TN extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return $w(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Lc(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Lc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}TN.create=(e,t)=>new TN({innerType:e,typeName:Xt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ar(t)});class lR extends Pr{_parse(t){if(this._getType(t)!==gt.nan){const n=this._getOrReturnCtx(t);return it(n,{code:He.invalid_type,expected:gt.nan,received:n.parsedType}),Zt}return{status:"valid",value:t.data}}}lR.create=e=>new lR({typeName:Xt.ZodNaN,...ar(e)});class nfe extends Pr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class sA extends Pr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Zt:i.status==="dirty"?(r.dirty(),sv(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Zt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new sA({in:t,out:r,typeName:Xt.ZodPipeline})}}class RN extends Pr{_parse(t){const r=this._def.innerType._parse(t),n=s=>(um(s)&&(s.value=Object.freeze(s.value)),s);return $w(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}RN.create=(e,t)=>new RN({innerType:e,typeName:Xt.ZodReadonly,...ar(t)});Vn.lazycreate;var Xt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Xt||(Xt={}));const Gr=fc.create;Dh.create;Fh.create;const sfe=Bw.create,ife=dm.create,afe=CN.create;ad.create;wl.create;const Z0=Vn.create;Vn.strictCreate;Uw.create;qw.create;$h.create;const XB=AN.create;hm.create;zw.create;Yu.create;pm.create;const iA={string:e=>fc.create({...e,coerce:!0}),number:e=>Dh.create({...e,coerce:!0}),boolean:e=>Bw.create({...e,coerce:!0}),bigint:e=>Fh.create({...e,coerce:!0}),date:e=>dm.create({...e,coerce:!0})},X0=dhe,eU=w.createContext({}),Nr=({...e})=>o.jsx(eU.Provider,{value:{name:e.name},children:o.jsx(mhe,{...e})}),h2=()=>{const e=w.useContext(eU),t=w.useContext(tU),{getFieldState:r,formState:n}=d2(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},tU=w.createContext({}),vr=w.forwardRef(({className:e,...t},r)=>{const n=w.useId();return o.jsx(tU.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:Ie("space-y-2",e),...t})})});vr.displayName="FormItem";const yr=w.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=h2();return o.jsx(lt,{ref:r,className:Ie(n&&"text-destructive",e),htmlFor:s,...t})});yr.displayName="FormLabel";const xr=w.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=h2();return o.jsx(fD,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});xr.displayName="FormControl";const rU=w.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=h2();return o.jsx("p",{ref:r,id:n,className:Ie("text-sm text-muted-foreground",e),...t})});rU.displayName="FormDescription";const kr=w.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=h2(),a=s?String(s==null?void 0:s.message):t;return a?o.jsx("p",{ref:n,id:i,className:Ie("text-sm font-medium text-destructive",e),...r,children:a}):null});kr.displayName="FormMessage";const ofe=Z0({name:Gr().min(2,"Name must be at least 2 characters"),age:iA.number().min(0).max(150),gender:Gr().min(1,"Please select gender"),phone:Gr().optional(),email:Gr().email().optional().or(XB("")),address:Gr().optional(),condition:Gr().optional(),status:Gr().optional(),department_id:Gr().optional(),doctor_id:Gr().optional()}),aA=({open:e,onOpenChange:t})=>{const r=Gde(),{data:n}=gd(),{data:s}=Gm(),i=J0({resolver:Q0(ofe),defaultValues:{name:"",age:0,gender:"",phone:"",email:"",address:"",condition:"",status:"outpatient"}}),a=async l=>{await r.mutateAsync({name:l.name,age:l.age,gender:l.gender,phone:l.phone||void 0,email:l.email||void 0,address:l.address||void 0,condition:l.condition||void 0,status:l.status||void 0,department_id:l.department_id||void 0,doctor_id:l.doctor_id||void 0}),i.reset(),t(!1)};return o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ks,{children:o.jsx(ps,{className:"font-heading",children:"Add New Patient"})}),o.jsx(X0,{...i,children:o.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:i.control,name:"name",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Full Name *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"John Smith",...l})}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(Nr,{control:i.control,name:"age",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Age *"}),o.jsx(xr,{children:o.jsx(ht,{type:"number",placeholder:"30",...l})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:i.control,name:"gender",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Gender *"}),o.jsxs(Ir,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select"})})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"Male",children:"Male"}),o.jsx(We,{value:"Female",children:"Female"}),o.jsx(We,{value:"Other",children:"Other"})]})]}),o.jsx(kr,{})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:i.control,name:"phone",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Phone"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"+1 234-567-8900",...l})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:i.control,name:"email",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Email"}),o.jsx(xr,{children:o.jsx(ht,{type:"email",placeholder:"john@email.com",...l})}),o.jsx(kr,{})]})})]}),o.jsx(Nr,{control:i.control,name:"address",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Address"}),o.jsx(xr,{children:o.jsx(Ao,{placeholder:"123 Main St, City, State",...l})}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:i.control,name:"department_id",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Department"}),o.jsxs(Ir,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select department"})})}),o.jsx(Rr,{children:n==null?void 0:n.map(c=>o.jsx(We,{value:c.id,children:c.name},c.id))})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:i.control,name:"doctor_id",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Assigned Doctor"}),o.jsxs(Ir,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select doctor"})})}),o.jsx(Rr,{children:s==null?void 0:s.map(c=>o.jsxs(We,{value:c.id,children:[c.name," - ",c.specialty]},c.id))})]}),o.jsx(kr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:i.control,name:"condition",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Condition/Diagnosis"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g., Hypertension",...l})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:i.control,name:"status",render:({field:l})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Status"}),o.jsxs(Ir,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select status"})})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"outpatient",children:"Outpatient"}),o.jsx(We,{value:"admitted",children:"Admitted"}),o.jsx(We,{value:"critical",children:"Critical"}),o.jsx(We,{value:"discharged",children:"Discharged"})]})]}),o.jsx(kr,{})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(ke,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(ke,{type:"submit",disabled:r.isPending,children:r.isPending?"Adding...":"Add Patient"})]})]})})]})})};var $t=function(){return $t=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$t.apply(this,arguments)};function lfe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function nU(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function ey(e){return e.mode==="multiple"}function ty(e){return e.mode==="range"}function f2(e){return e.mode==="single"}var cfe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ufe(e,t){return gn(e,"LLLL y",t)}function dfe(e,t){return gn(e,"d",t)}function hfe(e,t){return gn(e,"LLLL",t)}function ffe(e){return"".concat(e)}function pfe(e,t){return gn(e,"cccccc",t)}function mfe(e,t){return gn(e,"yyyy",t)}var gfe=Object.freeze({__proto__:null,formatCaption:ufe,formatDay:dfe,formatMonthCaption:hfe,formatWeekNumber:ffe,formatWeekdayName:pfe,formatYearCaption:mfe}),vfe=function(e,t,r){return gn(e,"do MMMM (EEEE)",r)},yfe=function(){return"Month: "},xfe=function(){return"Go to next month"},wfe=function(){return"Go to previous month"},bfe=function(e,t){return gn(e,"cccc",t)},_fe=function(e){return"Week n. ".concat(e)},Sfe=function(){return"Year: "},jfe=Object.freeze({__proto__:null,labelDay:vfe,labelMonthDropdown:yfe,labelNext:xfe,labelPrevious:wfe,labelWeekNumber:_fe,labelWeekday:bfe,labelYearDropdown:Sfe});function Nfe(){var e="buttons",t=cfe,r=GE,n={},s={},i=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:gfe,labels:jfe,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:a,today:l,mode:"default"}}function kfe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,a=e.toDate;return n?i=Wi(n):t&&(i=new Date(t,0,1)),s?a=o2(s):r&&(a=new Date(r,11,31)),{fromDate:i?om(i):void 0,toDate:a?om(a):void 0}}var sU=w.createContext(void 0);function Cfe(e){var t,r=e.initialProps,n=Nfe(),s=kfe(r),i=s.fromDate,a=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(f2(r)||ey(r)||ty(r))&&(c=r.onSelect);var u=$t($t($t({},n),r),{captionLayout:l,classNames:$t($t({},n.classNames),r.classNames),components:$t({},r.components),formatters:$t($t({},n.formatters),r.formatters),fromDate:i,labels:$t($t({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:$t($t({},n.modifiers),r.modifiers),modifiersClassNames:$t($t({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:$t($t({},n.styles),r.styles),toDate:a});return o.jsx(sU.Provider,{value:u,children:e.children})}function vn(){var e=w.useContext(sU);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function iU(e){var t=vn(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Efe(e){return o.jsx("svg",$t({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function aU(e){var t,r,n=e.onChange,s=e.value,i=e.children,a=e.caption,l=e.className,c=e.style,u=vn(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Efe;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Afe(e){var t,r=vn(),n=r.fromDate,s=r.toDate,i=r.styles,a=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var h=[];if(Ude(n,s))for(var p=Wi(n),f=n.getMonth();f<=s.getMonth();f++)h.push(S5(p,f));else for(var p=Wi(new Date),f=0;f<=11;f++)h.push(S5(p,f));var v=function(x){var g=Number(x.target.value),b=S5(Wi(e.displayMonth),g);e.onChange(b)},m=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:aU;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:h.map(function(x){return o.jsx("option",{value:x.getMonth(),children:l(x,{locale:a})},x.getMonth())})})}function Pfe(e){var t,r=e.displayMonth,n=vn(),s=n.fromDate,i=n.toDate,a=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,p=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var f=s.getFullYear(),v=i.getFullYear(),m=f;m<=v;m++)p.push(I3(NB(new Date),m));var x=function(b){var S=I3(Wi(r),Number(b.target.value));e.onChange(S)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:aU;return o.jsx(g,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:r.getFullYear(),caption:d(r,{locale:a}),children:p.map(function(b){return o.jsx("option",{value:b.getFullYear(),children:d(b,{locale:a})},b.getFullYear())})})}function Tfe(e,t){var r=w.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function Rfe(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&cm(i,s)<0){var u=-1*(c-1);s=Do(i,u)}return a&&cm(s,a)<0&&(s=a),Wi(s)}function Ofe(){var e=vn(),t=Rfe(e),r=Tfe(t,e.month),n=r[0],s=r[1],i=function(a){var l;if(!e.disableNavigation){var c=Wi(a);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function Lfe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Wi(e),i=Wi(Do(s,n)),a=cm(i,s),l=[],c=0;c<a;c++){var u=Do(s,c);l.push(u)}return r&&(l=l.reverse()),l}function Ife(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,l=Wi(e);if(!r)return Do(l,a);var c=cm(r,e);if(!(c<i))return Do(l,a)}}function Mfe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,l=Wi(e);if(!r)return Do(l,-a);var c=cm(l,r);if(!(c<=0))return Do(l,-a)}}var oU=w.createContext(void 0);function Dfe(e){var t=vn(),r=Ofe(),n=r[0],s=r[1],i=Lfe(n,t),a=Ife(n,t),l=Mfe(n,t),c=function(h){return i.some(function(p){return YE(h,p)})},u=function(h,p){c(h)||(p&&TB(h,p)?s(Do(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(oU.Provider,{value:d,children:e.children})}function ry(){var e=w.useContext(oU);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function cR(e){var t,r=vn(),n=r.classNames,s=r.styles,i=r.components,a=ry().goToMonth,l=function(d){a(Do(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:iU,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(Afe,{onChange:l,displayMonth:e.displayMonth}),o.jsx(Pfe,{onChange:l,displayMonth:e.displayMonth})]})}function Ffe(e){return o.jsx("svg",$t({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $fe(e){return o.jsx("svg",$t({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Vw=w.forwardRef(function(e,t){var r=vn(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var a=i.join(" "),l=$t($t({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),o.jsx("button",$t({},e,{ref:t,type:"button",className:a,style:l}))});function Bfe(e){var t,r,n=vn(),s=n.dir,i=n.locale,a=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var p=u(e.previousMonth,{locale:i}),f=[a.nav_button,a.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:i}),m=[a.nav_button,a.nav_button_next].join(" "),x=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:$fe,g=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:Ffe;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(Vw,{name:"previous-month","aria-label":p,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?o.jsx(x,{className:a.nav_icon,style:l.nav_icon}):o.jsx(g,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(Vw,{name:"next-month","aria-label":v,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?o.jsx(g,{className:a.nav_icon,style:l.nav_icon}):o.jsx(x,{className:a.nav_icon,style:l.nav_icon})})]})}function uR(e){var t=vn().numberOfMonths,r=ry(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,a=r.displayMonths,l=a.findIndex(function(v){return YE(e.displayMonth,v)}),c=l===0,u=l===a.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),p=function(){n&&i(n)},f=function(){s&&i(s)};return o.jsx(Bfe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:p,onNextClick:f})}function Ufe(e){var t,r=vn(),n=r.classNames,s=r.disableNavigation,i=r.styles,a=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:iU,u;return s?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=o.jsx(cR,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(cR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(uR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(uR,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:i.caption,children:u})}function qfe(e){var t=vn(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?o.jsx("tfoot",{className:s,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function zfe(e,t,r){for(var n=r?Mh(new Date):kl(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var a=bi(n,i);s.push(a)}return s}function Vfe(){var e=vn(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=zfe(s,i,a);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,h){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function Wfe(){var e,t=vn(),r=t.classNames,n=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:Vfe;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(i,{})})}function Hfe(e){var t=vn(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var oA=w.createContext(void 0);function Gfe(e){if(!ey(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(oA.Provider,{value:t,children:e.children})}return o.jsx(Yfe,{initialProps:e.initialProps,children:e.children})}function Yfe(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,a=function(u,d,h){var p,f;(p=t.onDayClick)===null||p===void 0||p.call(t,u,d,h);var v=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!v){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var x=n?nU([],n):[];if(d.selected){var g=x.findIndex(function(b){return $i(u,b)});x.splice(g,1)}else x.push(u);(f=t.onSelect)===null||f===void 0||f.call(t,x,u,d,h)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,h=n.some(function(p){return $i(p,u)});return!!(d&&!h)});var c={selected:n,onDayClick:a,modifiers:l};return o.jsx(oA.Provider,{value:c,children:r})}function lA(){var e=w.useContext(oA);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Kfe(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?$i(s,e)&&$i(n,e)?void 0:$i(s,e)?{from:s,to:void 0}:$i(n,e)?void 0:jN(n,e)?{from:e,to:s}:{from:n,to:e}:s?jN(e,s)?{from:s,to:e}:{from:e,to:s}:n?TB(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var cA=w.createContext(void 0);function Jfe(e){if(!ty(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(cA.Provider,{value:t,children:e.children})}return o.jsx(Qfe,{initialProps:e.initialProps,children:e.children})}function Qfe(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,a=s.to,l=t.min,c=t.max,u=function(f,v,m){var x,g;(x=t.onDayClick)===null||x===void 0||x.call(t,f,v,m);var b=Kfe(f,n);(g=t.onSelect)===null||g===void 0||g.call(t,b,f,v,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],$i(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),l&&(i&&!a&&d.disabled.push({after:_5(i,l-1),before:bi(i,l-1)}),i&&a&&d.disabled.push({after:i,before:bi(i,l-1)}),!i&&a&&d.disabled.push({after:_5(a,l-1),before:bi(a,l-1)})),c){if(i&&!a&&(d.disabled.push({before:bi(i,-c+1)}),d.disabled.push({after:bi(i,c-1)})),i&&a){var h=fl(a,i)+1,p=c-h;d.disabled.push({before:_5(i,p)}),d.disabled.push({after:bi(a,p)})}!i&&a&&(d.disabled.push({before:bi(a,-c+1)}),d.disabled.push({after:bi(a,c-1)}))}return o.jsx(cA.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function uA(){var e=w.useContext(cA);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ex(e){return Array.isArray(e)?nU([],e):e!==void 0?[e]:[]}function Zfe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Ex(s)}),t}var Fo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Fo||(Fo={}));var Xfe=Fo.Selected,Jl=Fo.Disabled,epe=Fo.Hidden,tpe=Fo.Today,k5=Fo.RangeEnd,C5=Fo.RangeMiddle,E5=Fo.RangeStart,rpe=Fo.Outside;function npe(e,t,r){var n,s=(n={},n[Xfe]=Ex(e.selected),n[Jl]=Ex(e.disabled),n[epe]=Ex(e.hidden),n[tpe]=[e.today],n[k5]=[],n[C5]=[],n[E5]=[],n[rpe]=[],n);return e.fromDate&&s[Jl].push({before:e.fromDate}),e.toDate&&s[Jl].push({after:e.toDate}),ey(e)?s[Jl]=s[Jl].concat(t.modifiers[Jl]):ty(e)&&(s[Jl]=s[Jl].concat(r.modifiers[Jl]),s[E5]=r.modifiers[E5],s[C5]=r.modifiers[C5],s[k5]=r.modifiers[k5]),s}var lU=w.createContext(void 0);function spe(e){var t=vn(),r=lA(),n=uA(),s=npe(t,r,n),i=Zfe(t.modifiers),a=$t($t({},s),i);return o.jsx(lU.Provider,{value:a,children:e.children})}function cU(){var e=w.useContext(lU);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function ipe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function ape(e){return!!(e&&typeof e=="object"&&"from"in e)}function ope(e){return!!(e&&typeof e=="object"&&"after"in e)}function lpe(e){return!!(e&&typeof e=="object"&&"before"in e)}function cpe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function upe(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=fl(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var a=fl(e,n)>=0&&fl(s,e)>=0;return a}return s?$i(s,e):n?$i(n,e):!1}function dpe(e){return WE(e)}function hpe(e){return Array.isArray(e)&&e.every(WE)}function fpe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(dpe(r))return $i(e,r);if(hpe(r))return r.includes(e);if(ape(r))return upe(e,r);if(cpe(r))return r.dayOfWeek.includes(e.getDay());if(ipe(r)){var n=fl(r.before,e),s=fl(r.after,e),i=n>0,a=s<0,l=jN(r.before,r.after);return l?a&&i:i||a}return ope(r)?fl(e,r.after)>0:lpe(r)?fl(r.before,e)>0:typeof r=="function"?r(e):!1})}function dA(e,t,r){var n=Object.keys(t).reduce(function(i,a){var l=t[a];return fpe(e,l)&&i.push(a),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!YE(e,r)&&(s.outside=!0),s}function ppe(e,t){for(var r=Wi(e[0]),n=o2(e[e.length-1]),s,i,a=r;a<=n;){var l=dA(a,t),c=!l.disabled&&!l.hidden;if(!c){a=bi(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),s||(s=a),a=bi(a,1)}return i||s}var mpe=365;function uU(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,p={day:bi,week:SN,month:Do,year:Eue,startOfWeek:function(x){return s.ISOWeek?Mh(x):kl(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?kB(x):HE(x,{locale:h,weekStartsOn:c})}},f=p[r](e,n==="after"?1:-1);n==="before"&&u?f=Aue([u,f]):n==="after"&&d&&(f=Pue([d,f]));var v=!0;if(i){var m=dA(f,i);v=!m.disabled&&!m.hidden}return v?f:l.count>mpe?l.lastFocused:uU(f,{moveBy:r,direction:n,context:s,modifiers:i,retry:$t($t({},l),{count:l.count+1})})}var dU=w.createContext(void 0);function gpe(e){var t=ry(),r=cU(),n=w.useState(),s=n[0],i=n[1],a=w.useState(),l=a[0],c=a[1],u=ppe(t.displayMonths,r),d=s??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(s),i(void 0)},p=function(x){i(x)},f=vn(),v=function(x,g){if(s){var b=uU(s,{moveBy:x,direction:g,context:f,modifiers:r});$i(s,b)||(t.goToDate(b,s),p(b))}},m={focusedDay:s,focusTarget:d,blur:h,focus:p,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return o.jsx(dU.Provider,{value:m,children:e.children})}function hA(){var e=w.useContext(dU);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function vpe(e,t){var r=cU(),n=dA(e,r,t);return n}var fA=w.createContext(void 0);function ype(e){if(!f2(e.initialProps)){var t={selected:void 0};return o.jsx(fA.Provider,{value:t,children:e.children})}return o.jsx(xpe,{initialProps:e.initialProps,children:e.children})}function xpe(e){var t=e.initialProps,r=e.children,n=function(i,a,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,a,l),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,a,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,a,l)},s={selected:t.selected,onDayClick:n};return o.jsx(fA.Provider,{value:s,children:r})}function hU(){var e=w.useContext(fA);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function wpe(e,t){var r=vn(),n=hU(),s=lA(),i=uA(),a=hA(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,p=a.focus,f=a.focusMonthBefore,v=a.focusMonthAfter,m=a.focusYearBefore,x=a.focusYearAfter,g=a.focusStartOfWeek,b=a.focusEndOfWeek,S=function(te){var W,Z,pe,ge;f2(r)?(W=n.onDayClick)===null||W===void 0||W.call(n,e,t,te):ey(r)?(Z=s.onDayClick)===null||Z===void 0||Z.call(s,e,t,te):ty(r)?(pe=i.onDayClick)===null||pe===void 0||pe.call(i,e,t,te):(ge=r.onDayClick)===null||ge===void 0||ge.call(r,e,t,te)},k=function(te){var W;p(e),(W=r.onDayFocus)===null||W===void 0||W.call(r,e,t,te)},T=function(te){var W;h(),(W=r.onDayBlur)===null||W===void 0||W.call(r,e,t,te)},R=function(te){var W;(W=r.onDayMouseEnter)===null||W===void 0||W.call(r,e,t,te)},O=function(te){var W;(W=r.onDayMouseLeave)===null||W===void 0||W.call(r,e,t,te)},D=function(te){var W;(W=r.onDayPointerEnter)===null||W===void 0||W.call(r,e,t,te)},I=function(te){var W;(W=r.onDayPointerLeave)===null||W===void 0||W.call(r,e,t,te)},G=function(te){var W;(W=r.onDayTouchCancel)===null||W===void 0||W.call(r,e,t,te)},A=function(te){var W;(W=r.onDayTouchEnd)===null||W===void 0||W.call(r,e,t,te)},M=function(te){var W;(W=r.onDayTouchMove)===null||W===void 0||W.call(r,e,t,te)},$=function(te){var W;(W=r.onDayTouchStart)===null||W===void 0||W.call(r,e,t,te)},q=function(te){var W;(W=r.onDayKeyUp)===null||W===void 0||W.call(r,e,t,te)},ee=function(te){var W;switch(te.key){case"ArrowLeft":te.preventDefault(),te.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":te.preventDefault(),te.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":te.preventDefault(),te.stopPropagation(),u();break;case"ArrowUp":te.preventDefault(),te.stopPropagation(),d();break;case"PageUp":te.preventDefault(),te.stopPropagation(),te.shiftKey?m():f();break;case"PageDown":te.preventDefault(),te.stopPropagation(),te.shiftKey?x():v();break;case"Home":te.preventDefault(),te.stopPropagation(),g();break;case"End":te.preventDefault(),te.stopPropagation(),b();break}(W=r.onDayKeyDown)===null||W===void 0||W.call(r,e,t,te)},re={onClick:S,onFocus:k,onBlur:T,onKeyDown:ee,onKeyUp:q,onMouseEnter:R,onMouseLeave:O,onPointerEnter:D,onPointerLeave:I,onTouchCancel:G,onTouchEnd:A,onTouchMove:M,onTouchStart:$};return re}function bpe(){var e=vn(),t=hU(),r=lA(),n=uA(),s=f2(e)?t.selected:ey(e)?r.selected:ty(e)?n.selected:void 0;return s}function _pe(e){return Object.values(Fo).includes(e)}function Spe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(_pe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function jpe(e,t){var r=$t({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=$t($t({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function Npe(e,t,r){var n,s,i,a=vn(),l=hA(),c=vpe(e,t),u=wpe(e,c),d=bpe(),h=!!(a.onDayClick||a.mode!=="default");w.useEffect(function(){var R;c.outside||l.focusedDay&&h&&$i(l.focusedDay,e)&&((R=r.current)===null||R===void 0||R.focus())},[l.focusedDay,e,r,h,c.outside]);var p=Spe(a,c).join(" "),f=jpe(a,c),v=!!(c.outside&&!a.showOutsideDays||c.hidden),m=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Hfe,x=o.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),g={style:f,className:p,children:x,role:"gridcell"},b=l.focusTarget&&$i(l.focusTarget,e)&&!c.outside,S=l.focusedDay&&$i(l.focusedDay,e),k=$t($t($t({},g),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=S||b?0:-1,n)),u),T={isButton:h,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:k,divProps:g};return T}function kpe(e){var t=w.useRef(null),r=Npe(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Vw,$t({name:"day",ref:t},r.buttonProps)):o.jsx("div",$t({},r.divProps))}function Cpe(e){var t=e.number,r=e.dates,n=vn(),s=n.onWeekNumberClick,i=n.styles,a=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var h=c(Number(t),{locale:l}),p=function(f){s(t,r,f)};return o.jsx(Vw,{name:"week-number","aria-label":h,className:a.weeknumber,style:i.weeknumber,onClick:p,children:d})}function Epe(e){var t,r,n=vn(),s=n.styles,i=n.classNames,a=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:kpe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Cpe,d;return a&&(d=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(h){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:h})},Fde(h))})]})}function dR(e,t,r){for(var n=r!=null&&r.ISOWeek?kB(t):HE(t,r),s=r!=null&&r.ISOWeek?Mh(e):kl(e,r),i=fl(n,s),a=[],l=0;l<=i;l++)a.push(bi(s,l));var c=a.reduce(function(u,d){var h=r!=null&&r.ISOWeek?CB(d):AB(d,r),p=u.find(function(f){return f.weekNumber===h});return p?(p.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function Ape(e,t){var r=dR(Wi(e),o2(e),t);if(t!=null&&t.useFixedWeeks){var n=Bde(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],a=SN(i,6-n),l=dR(SN(i,1),a,t);r.push.apply(r,l)}}return r}function Ppe(e){var t,r,n,s=vn(),i=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,p=s.firstWeekContainsDate,f=s.ISOWeek,v=Ape(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:f,locale:i,weekStartsOn:h,firstWeekContainsDate:p}),m=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Wfe,x=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Epe,g=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:qfe;return o.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:v.map(function(b){return o.jsx(x,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),o.jsx(g,{displayMonth:e.displayMonth})]})}function Tpe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Rpe=Tpe()?w.useLayoutEffect:w.useEffect,A5=!1,Ope=0;function hR(){return"react-day-picker-".concat(++Ope)}function Lpe(e){var t,r=e??(A5?hR():null),n=w.useState(r),s=n[0],i=n[1];return Rpe(function(){s===null&&i(hR())},[]),w.useEffect(function(){A5===!1&&(A5=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function Ipe(e){var t,r,n=vn(),s=n.dir,i=n.classNames,a=n.styles,l=n.components,c=ry().displayMonths,u=Lpe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],p=a.month,f=e.displayIndex===0,v=e.displayIndex===c.length-1,m=!f&&!v;s==="rtl"&&(t=[f,v],v=t[0],f=t[1]),f&&(h.push(i.caption_start),p=$t($t({},p),a.caption_start)),v&&(h.push(i.caption_end),p=$t($t({},p),a.caption_end)),m&&(h.push(i.caption_between),p=$t($t({},p),a.caption_between));var x=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Ufe;return o.jsxs("div",{className:h.join(" "),style:p,children:[o.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(Ppe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Mpe(e){var t=vn(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function Dpe(e){var t,r,n=e.initialProps,s=vn(),i=hA(),a=ry(),l=w.useState(!1),c=l[0],u=l[1];w.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=$t($t({},s.styles.root),s.style),p=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,m){var x;return $t($t({},v),(x={},x[m]=n[m],x))},{}),f=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Mpe;return o.jsx("div",$t({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:o.jsx(f,{children:a.displayMonths.map(function(v,m){return o.jsx(Ipe,{displayIndex:m,displayMonth:v},m)})})}))}function Fpe(e){var t=e.children,r=lfe(e,["children"]);return o.jsx(Cfe,{initialProps:r,children:o.jsx(Dfe,{children:o.jsx(ype,{initialProps:r,children:o.jsx(Gfe,{initialProps:r,children:o.jsx(Jfe,{initialProps:r,children:o.jsx(spe,{children:o.jsx(gpe,{children:t})})})})})})})}function $pe(e){return o.jsx(Fpe,$t({},e,{children:o.jsx(Dpe,{initialProps:e})}))}function p2({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx($pe,{showOutsideDays:r,className:Ie("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ie(a0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ie(a0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>o.jsx(bJ,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(cp,{className:"h-4 w-4"})},...n})}p2.displayName="Calendar";var m2="Popover",[fU,U2e]=is(m2,[Im]),ny=Im(),[Bpe,vd]=fU(m2),pU=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,l=ny(t),c=w.useRef(null),[u,d]=w.useState(!1),[h,p]=ya({prop:n,defaultProp:s??!1,onChange:i,caller:m2});return o.jsx($8,{...l,children:o.jsx(Bpe,{scope:t,contentId:li(),triggerRef:c,open:h,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:a,children:r})})};pU.displayName=m2;var mU="PopoverAnchor",Upe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=vd(mU,r),i=ny(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return w.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(Ib,{...i,...n,ref:t})});Upe.displayName=mU;var gU="PopoverTrigger",vU=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=vd(gU,r),i=ny(r),a=wt(t,s.triggerRef),l=o.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_U(s.open),...n,ref:a,onClick:dt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Ib,{asChild:!0,...i,children:l})});vU.displayName=gU;var pA="PopoverPortal",[qpe,zpe]=fU(pA,{forceMount:void 0}),yU=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=vd(pA,t);return o.jsx(qpe,{scope:t,forceMount:r,children:o.jsx(Sa,{present:r||i.open,children:o.jsx(Qh,{asChild:!0,container:s,children:n})})})};yU.displayName=pA;var mm="PopoverContent",xU=w.forwardRef((e,t)=>{const r=zpe(mm,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=vd(mm,e.__scopePopover);return o.jsx(Sa,{present:n||i.open,children:i.modal?o.jsx(Wpe,{...s,ref:t}):o.jsx(Hpe,{...s,ref:t})})});xU.displayName=mm;var Vpe=kc("PopoverContent.RemoveScroll"),Wpe=w.forwardRef((e,t)=>{const r=vd(mm,e.__scopePopover),n=w.useRef(null),s=wt(t,n),i=w.useRef(!1);return w.useEffect(()=>{const a=n.current;if(a)return V0(a)},[]),o.jsx(qm,{as:Vpe,allowPinchZoom:!0,children:o.jsx(wU,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:dt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Hpe=w.forwardRef((e,t)=>{const r=vd(mm,e.__scopePopover),n=w.useRef(!1),s=w.useRef(!1);return o.jsx(wU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),wU=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,p=vd(mm,r),f=ny(r);return EE(),o.jsx(Um,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Em,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:o.jsx(JC,{"data-state":_U(p.open),role:"dialog",id:p.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bU="PopoverClose",Gpe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=vd(bU,r);return o.jsx(Xe.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,()=>s.onOpenChange(!1))})});Gpe.displayName=bU;var Ype="PopoverArrow",Kpe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ny(r);return o.jsx(QC,{...s,...n,ref:t})});Kpe.displayName=Ype;function _U(e){return e?"open":"closed"}var Jpe=pU,Qpe=vU,Zpe=yU,SU=xU;const jU=Jpe,NU=Qpe,mA=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>o.jsx(Zpe,{children:o.jsx(SU,{ref:s,align:t,sideOffset:r,className:Ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));mA.displayName=SU.displayName;const Xpe=Z0({patient_id:Gr().min(1,"Please select a patient"),doctor_id:Gr().min(1,"Please select a doctor"),appointment_date:ife(),appointment_time:Gr().min(1,"Please enter time"),duration:iA.number().min(15).max(240).default(30),type:Gr().min(1,"Please select appointment type"),notes:Gr().optional()}),gA=({open:e,onOpenChange:t,selectedDate:r})=>{const n=Zde(),{data:s}=Hm(),{data:i}=Gm(),a=J0({resolver:Q0(Xpe),defaultValues:{patient_id:"",doctor_id:"",appointment_date:r||new Date,appointment_time:"09:00",duration:30,type:"",notes:""}}),{toast:l}=R0(),c=async d=>{var h;try{l({title:"MAYA AI Assistant",description:"Checking doctor availability and slot status...",duration:2e3}),await new Promise(f=>setTimeout(f,1500)),await n.mutateAsync({patient_id:d.patient_id,doctor_id:d.doctor_id,appointment_date:gn(d.appointment_date,"yyyy-MM-dd"),appointment_time:d.appointment_time,duration:d.duration,type:d.type,notes:d.notes||void 0});const p=((h=i==null?void 0:i.find(f=>f.id===d.doctor_id))==null?void 0:h.name)||"the doctor";l({title:"Appointment Confirmed! ",description:`MAYA: I've booked your appointment with ${p} at ${d.appointment_time} on ${gn(d.appointment_date,"MMM dd")}.`,className:"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800",duration:5e3}),a.reset(),t(!1)}catch{l({title:"Booking Failed",description:"MAYA: I couldn't confirm this slot. Please try another time.",variant:"destructive"})}},u=(i==null?void 0:i.filter(d=>d.available))||[];return o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"max-w-lg",children:[o.jsx(ks,{children:o.jsx(ps,{className:"font-heading",children:"Schedule Appointment"})}),o.jsx(X0,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-4",children:[o.jsx(Nr,{control:a.control,name:"patient_id",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Patient *"}),o.jsxs(Ir,{onValueChange:d.onChange,defaultValue:d.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select patient"})})}),o.jsx(Rr,{children:s==null?void 0:s.map(h=>o.jsxs(We,{value:h.id,children:[h.name," (",h.patient_id,")"]},h.id))})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:a.control,name:"doctor_id",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Doctor *"}),o.jsxs(Ir,{onValueChange:d.onChange,defaultValue:d.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select doctor"})})}),o.jsx(Rr,{children:u.map(h=>o.jsxs(We,{value:h.id,children:[h.name," - ",h.specialty]},h.id))})]}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:a.control,name:"appointment_date",render:({field:d})=>o.jsxs(vr,{className:"flex flex-col",children:[o.jsx(yr,{children:"Date *"}),o.jsxs(jU,{children:[o.jsx(NU,{asChild:!0,children:o.jsx(xr,{children:o.jsxs(ke,{variant:"outline",className:Ie("pl-3 text-left font-normal",!d.value&&"text-muted-foreground"),children:[d.value?gn(d.value,"PPP"):"Pick a date",o.jsx(xh,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(mA,{className:"w-auto p-0",align:"start",children:o.jsx(p2,{mode:"single",selected:d.value,onSelect:d.onChange,disabled:h=>h<new Date})})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:a.control,name:"appointment_time",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Time *"}),o.jsx(xr,{children:o.jsx(ht,{type:"time",...d})}),o.jsx(kr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:a.control,name:"type",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Appointment Type *"}),o.jsxs(Ir,{onValueChange:d.onChange,defaultValue:d.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select type"})})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"General Checkup",children:"General Checkup"}),o.jsx(We,{value:"Follow-up",children:"Follow-up"}),o.jsx(We,{value:"Consultation",children:"Consultation"}),o.jsx(We,{value:"Emergency",children:"Emergency"}),o.jsx(We,{value:"Surgery",children:"Surgery"}),o.jsx(We,{value:"Lab Test",children:"Lab Test"})]})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:a.control,name:"duration",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Duration (min)"}),o.jsx(xr,{children:o.jsx(ht,{type:"number",min:15,max:240,...d})}),o.jsx(kr,{})]})})]}),o.jsx(Nr,{control:a.control,name:"notes",render:({field:d})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Notes"}),o.jsx(xr,{children:o.jsx(Ao,{placeholder:"Additional notes...",...d})}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(ke,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(ke,{type:"submit",disabled:n.isPending,children:n.isPending?"Scheduling...":"Schedule Appointment"})]})]})})]})})},fR={confirmed:"bg-success/10 text-success border-success/20",pending:"bg-warning/10 text-warning border-warning/20","in-progress":"bg-info/10 text-info border-info/20",cancelled:"bg-destructive/10 text-destructive border-destructive/20"},eme=()=>{const e=Js(),[t,r]=w.useState(!1),[n,s]=w.useState(!1),{data:i,isLoading:a}=Hm(),{data:l,isLoading:c}=Gm(),{data:u,isLoading:d}=l2(gn(new Date,"yyyy-MM-dd")),{data:h,isLoading:p}=gd(),f=a||c||d||p,v=(h==null?void 0:h.reduce((T,R)=>T+R.total_beds,0))||0,m=(h==null?void 0:h.reduce((T,R)=>T+R.occupied_beds,0))||0,x=v-m,g=(l==null?void 0:l.filter(T=>T.available).length)||0,b=(u==null?void 0:u.filter(T=>T.status==="pending").length)||0,S=T=>{const[R,O]=T.split(":"),D=parseInt(R),I=D>=12?"PM":"AM";return`${D%12||12}:${O} ${I}`},k=[{icon:$C,label:"Add Patient",description:"Register new patient",color:"bg-primary/10 text-primary hover:bg-primary/20",onClick:()=>r(!0)},{icon:WD,label:"New Appointment",description:"Schedule appointment",color:"bg-info/10 text-info hover:bg-info/20",onClick:()=>s(!0)},{icon:Cc,label:"Bed Management",description:"Manage bed allocation",color:"bg-success/10 text-success hover:bg-success/20",onClick:()=>e("/beds")},{icon:Aj,label:"Prescriptions",description:"Write prescription",color:"bg-warning/10 text-warning hover:bg-warning/20",onClick:()=>{}},{icon:za,label:"Lab Reports",description:"View lab results",color:"bg-secondary text-secondary-foreground hover:bg-secondary/80",onClick:()=>e("/reports")},{icon:RC,label:"Discharge",description:"Process discharge",color:"bg-accent text-accent-foreground hover:bg-accent/80",onClick:()=>{}}];return f?o.jsx(In,{title:"Dashboard",subtitle:"Loading...",children:o.jsx("div",{className:"flex items-center justify-center py-24",children:o.jsx(Ac,{className:"w-8 h-8 animate-spin text-primary"})})}):o.jsxs(In,{title:"Dashboard",subtitle:"Welcome back! Here's an overview of your hospital.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx(Ni,{title:"Total Patients",value:(i==null?void 0:i.length)||0,change:`${(i==null?void 0:i.filter(T=>T.status==="admitted").length)||0} currently admitted`,changeType:"neutral",icon:Wa,iconColor:"primary"}),o.jsx(Ni,{title:"Today's Appointments",value:(u==null?void 0:u.length)||0,change:`${b} pending confirmation`,changeType:"neutral",icon:VD,iconColor:"info"}),o.jsx(Ni,{title:"Available Beds",value:x,change:`Out of ${v} total`,changeType:"neutral",icon:Cc,iconColor:"success"}),o.jsx(Ni,{title:"Active Doctors",value:g,change:`${((l==null?void 0:l.length)||0)-g} on leave`,changeType:"neutral",icon:Vi,iconColor:"warning"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:[o.jsxs("div",{className:"p-6 border-b border-border",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Today's Appointments"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[(u==null?void 0:u.length)||0," appointments scheduled"]})]}),o.jsx("div",{className:"divide-y divide-border max-h-[400px] overflow-y-auto",children:(u==null?void 0:u.length)===0?o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No appointments scheduled for today."}):u==null?void 0:u.slice(0,5).map(T=>{var R,O,D,I;return o.jsxs("div",{className:"p-4 hover:bg-muted/50 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Io,{className:"w-10 h-10",children:o.jsx(Mo,{className:"bg-secondary text-secondary-foreground text-sm font-medium",children:((O=(R=T.patients)==null?void 0:R.name)==null?void 0:O.split(" ").map(G=>G[0]).join(""))||"?"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:((D=T.patients)==null?void 0:D.name)||"Unknown"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Vi,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:((I=T.doctors)==null?void 0:I.name)||"Unknown"})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm text-foreground",children:[o.jsx(xa,{className:"w-3 h-3"}),S(T.appointment_time)]}),o.jsx(Kt,{variant:"outline",className:Ie("mt-1 capitalize",fR[T.status]||fR.pending),children:T.status})]})]}),o.jsx("div",{className:"mt-2",children:o.jsx(Kt,{variant:"secondary",className:"text-xs",children:T.type})})]},T.id)})}),o.jsx("div",{className:"p-4 border-t border-border",children:o.jsx("button",{className:"w-full text-center text-sm font-medium text-primary hover:text-primary/80 transition-colors",onClick:()=>e("/appointments"),children:"View All Appointments "})})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 p-6 animate-fade-in",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground mb-4",children:"Quick Actions"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-2 gap-3",children:k.map(T=>o.jsxs(ke,{variant:"ghost",className:`h-auto flex-col items-center gap-2 p-4 ${T.color} transition-all duration-200`,onClick:T.onClick,children:[o.jsx(T.icon,{className:"w-6 h-6"}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium",children:T.label}),o.jsx("p",{className:"text-xs opacity-70",children:T.description})]})]},T.label))})]}),o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:[o.jsxs("div",{className:"p-6 border-b border-border",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Department Status"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Current occupancy"})]}),o.jsx("div",{className:"p-4 space-y-4 max-h-[300px] overflow-y-auto",children:h==null?void 0:h.slice(0,5).map(T=>{const R=T.total_beds>0?Math.round(T.occupied_beds/T.total_beds*100):0;return o.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(yh,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:T.name}),o.jsx("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-0.5",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ko,{className:"w-3 h-3"}),T.doctors_count," doctors"]})})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[T.occupied_beds,o.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["/",T.total_beds]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"beds"})]})]}),o.jsx(c2,{value:R,className:Ie("h-2",R>80&&"[&>div]:bg-warning",R>90&&"[&>div]:bg-destructive")})]},T.id)})})]})]})]}),o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:[o.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Recent Patients"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Recently registered patients"})]}),o.jsx(ke,{variant:"outline",size:"sm",onClick:()=>e("/patients"),children:"View All"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Patient"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Condition"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Room"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Status"})]})}),o.jsxs("tbody",{className:"divide-y divide-border",children:[i==null?void 0:i.slice(0,4).map(T=>o.jsxs("tr",{className:"hover:bg-muted/30 transition-colors duration-200",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Io,{className:"w-10 h-10",children:o.jsx(Mo,{className:"bg-secondary text-secondary-foreground text-sm font-medium",children:T.name.split(" ").map(R=>R[0]).join("")})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:T.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.age," yrs, ",T.gender]})]})]})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-foreground",children:T.condition||""})}),o.jsx("td",{className:"p-4",children:T.room?o.jsx(Kt,{variant:"secondary",className:"font-mono",children:T.room}):""}),o.jsx("td",{className:"p-4",children:o.jsx(Kt,{variant:"outline",className:Ie(T.status==="stable"&&"bg-success/10 text-success border-success/20",T.status==="admitted"&&"bg-info/10 text-info border-info/20",T.status==="critical"&&"bg-destructive/10 text-destructive border-destructive/20",T.status==="outpatient"&&"bg-success/10 text-success border-success/20"),children:T.status})})]},T.id)),(!i||i.length===0)&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"p-8 text-center text-muted-foreground",children:"No patients yet. Add your first patient to get started."})})]})]})})]}),o.jsx(aA,{open:t,onOpenChange:r}),o.jsx(gA,{open:n,onOpenChange:s})]})};var g2="Dialog",[kU,CU]=is(g2),[tme,qo]=kU(g2),EU=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=ya({prop:n,defaultProp:s??!1,onChange:i,caller:g2});return o.jsx(tme,{scope:t,triggerRef:l,contentRef:c,contentId:li(),titleId:li(),descriptionId:li(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};EU.displayName=g2;var AU="DialogTrigger",PU=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qo(AU,r),i=wt(t,s.triggerRef);return o.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":xA(s.open),...n,ref:i,onClick:dt(e.onClick,s.onOpenToggle)})});PU.displayName=AU;var vA="DialogPortal",[rme,TU]=kU(vA,{forceMount:void 0}),RU=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=qo(vA,t);return o.jsx(rme,{scope:t,forceMount:r,children:w.Children.map(n,a=>o.jsx(Sa,{present:r||i.open,children:o.jsx(Qh,{asChild:!0,container:s,children:a})}))})};RU.displayName=vA;var Ww="DialogOverlay",OU=w.forwardRef((e,t)=>{const r=TU(Ww,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=qo(Ww,e.__scopeDialog);return i.modal?o.jsx(Sa,{present:n||i.open,children:o.jsx(sme,{...s,ref:t})}):null});OU.displayName=Ww;var nme=kc("DialogOverlay.RemoveScroll"),sme=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qo(Ww,r);return o.jsx(qm,{as:nme,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Xe.div,{"data-state":xA(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Bh="DialogContent",LU=w.forwardRef((e,t)=>{const r=TU(Bh,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=qo(Bh,e.__scopeDialog);return o.jsx(Sa,{present:n||i.open,children:i.modal?o.jsx(ime,{...s,ref:t}):o.jsx(ame,{...s,ref:t})})});LU.displayName=Bh;var ime=w.forwardRef((e,t)=>{const r=qo(Bh,e.__scopeDialog),n=w.useRef(null),s=wt(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return V0(i)},[]),o.jsx(IU,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,i=>i.preventDefault())})}),ame=w.forwardRef((e,t)=>{const r=qo(Bh,e.__scopeDialog),n=w.useRef(!1),s=w.useRef(!1);return o.jsx(IU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),IU=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=qo(Bh,r),c=w.useRef(null),u=wt(t,c);return EE(),o.jsxs(o.Fragment,{children:[o.jsx(Um,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Em,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xA(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(lme,{titleId:l.titleId}),o.jsx(ume,{contentRef:c,descriptionId:l.descriptionId})]})]})}),yA="DialogTitle",MU=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qo(yA,r);return o.jsx(Xe.h2,{id:s.titleId,...n,ref:t})});MU.displayName=yA;var DU="DialogDescription",FU=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qo(DU,r);return o.jsx(Xe.p,{id:s.descriptionId,...n,ref:t})});FU.displayName=DU;var $U="DialogClose",BU=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qo($U,r);return o.jsx(Xe.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,()=>s.onOpenChange(!1))})});BU.displayName=$U;function xA(e){return e?"open":"closed"}var UU="DialogTitleWarning",[ome,qU]=hD(UU,{contentName:Bh,titleName:yA,docsSlug:"dialog"}),lme=({titleId:e})=>{const t=qU(UU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},cme="DialogDescriptionWarning",ume=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qU(cme).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},dme=EU,hme=PU,fme=RU,pme=OU,mme=LU,gme=MU,vme=FU,zU=BU,VU="AlertDialog",[yme,q2e]=is(VU,[CU]),Fc=CU(),WU=e=>{const{__scopeAlertDialog:t,...r}=e,n=Fc(t);return o.jsx(dme,{...n,...r,modal:!0})};WU.displayName=VU;var xme="AlertDialogTrigger",HU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Fc(r);return o.jsx(hme,{...s,...n,ref:t})});HU.displayName=xme;var wme="AlertDialogPortal",GU=e=>{const{__scopeAlertDialog:t,...r}=e,n=Fc(t);return o.jsx(fme,{...n,...r})};GU.displayName=wme;var bme="AlertDialogOverlay",YU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Fc(r);return o.jsx(pme,{...s,...n,ref:t})});YU.displayName=bme;var jp="AlertDialogContent",[_me,Sme]=yme(jp),jme=mD("AlertDialogContent"),KU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Fc(r),a=w.useRef(null),l=wt(t,a),c=w.useRef(null);return o.jsx(ome,{contentName:jp,titleName:JU,docsSlug:"alert-dialog",children:o.jsx(_me,{scope:r,cancelRef:c,children:o.jsxs(mme,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:dt(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(jme,{children:n}),o.jsx(kme,{contentRef:a})]})})})});KU.displayName=jp;var JU="AlertDialogTitle",QU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Fc(r);return o.jsx(gme,{...s,...n,ref:t})});QU.displayName=JU;var ZU="AlertDialogDescription",XU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Fc(r);return o.jsx(vme,{...s,...n,ref:t})});XU.displayName=ZU;var Nme="AlertDialogAction",eq=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Fc(r);return o.jsx(zU,{...s,...n,ref:t})});eq.displayName=Nme;var tq="AlertDialogCancel",rq=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=Sme(tq,r),i=Fc(r),a=wt(t,s);return o.jsx(zU,{...i,...n,ref:a})});rq.displayName=tq;var kme=({contentRef:e})=>{const t=`\`${jp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${jp}\` by passing a \`${ZU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${jp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Cme=WU,Eme=HU,Ame=GU,nq=YU,sq=KU,iq=eq,aq=rq,oq=QU,lq=XU;const Ym=Cme,cq=Eme,Pme=Ame,uq=w.forwardRef(({className:e,...t},r)=>o.jsx(nq,{className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));uq.displayName=nq.displayName;const rf=w.forwardRef(({className:e,...t},r)=>o.jsxs(Pme,{children:[o.jsx(uq,{}),o.jsx(sq,{ref:r,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));rf.displayName=sq.displayName;const nf=({className:e,...t})=>o.jsx("div",{className:Ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});nf.displayName="AlertDialogHeader";const sf=({className:e,...t})=>o.jsx("div",{className:Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sf.displayName="AlertDialogFooter";const af=w.forwardRef(({className:e,...t},r)=>o.jsx(oq,{ref:r,className:Ie("text-lg font-semibold",e),...t}));af.displayName=oq.displayName;const of=w.forwardRef(({className:e,...t},r)=>o.jsx(lq,{ref:r,className:Ie("text-sm text-muted-foreground",e),...t}));of.displayName=lq.displayName;const lf=w.forwardRef(({className:e,...t},r)=>o.jsx(iq,{ref:r,className:Ie(a0(),e),...t}));lf.displayName=iq.displayName;const cf=w.forwardRef(({className:e,...t},r)=>o.jsx(aq,{ref:r,className:Ie(a0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));cf.displayName=aq.displayName;var P5="rovingFocusGroup.onEntryFocus",Tme={bubbles:!1,cancelable:!0},sy="RovingFocusGroup",[ON,dq,Rme]=Cm(sy),[Ome,hq]=is(sy,[Rme]),[Lme,Ime]=Ome(sy),fq=w.forwardRef((e,t)=>o.jsx(ON.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ON.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Mme,{...e,ref:t})})}));fq.displayName=sy;var Mme=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=w.useRef(null),f=wt(t,p),v=fd(i),[m,x]=ya({prop:a,defaultProp:l??null,onChange:c,caller:sy}),[g,b]=w.useState(!1),S=Kr(u),k=dq(r),T=w.useRef(!1),[R,O]=w.useState(0);return w.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(P5,S),()=>D.removeEventListener(P5,S)},[S]),o.jsx(Lme,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:w.useCallback(D=>x(D),[x]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:w.useCallback(()=>O(D=>D-1),[]),children:o.jsx(Xe.div,{tabIndex:g||R===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{T.current=!0}),onFocus:dt(e.onFocus,D=>{const I=!T.current;if(D.target===D.currentTarget&&I&&!g){const G=new CustomEvent(P5,Tme);if(D.currentTarget.dispatchEvent(G),!G.defaultPrevented){const A=k().filter(re=>re.focusable),M=A.find(re=>re.active),$=A.find(re=>re.id===m),ee=[M,$,...A].filter(Boolean).map(re=>re.ref.current);gq(ee,d)}}T.current=!1}),onBlur:dt(e.onBlur,()=>b(!1))})})}),pq="RovingFocusGroupItem",mq=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=li(),u=i||c,d=Ime(pq,r),h=d.currentTabStopId===u,p=dq(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return w.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),o.jsx(ON.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(Xe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:dt(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:dt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:dt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=$me(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(k=>k.focusable).map(k=>k.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const k=S.indexOf(x.currentTarget);S=d.loop?Bme(S,k+1):S.slice(k+1)}setTimeout(()=>gq(S))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:m!=null}):a})})});mq.displayName=pq;var Dme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Fme(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $me(e,t,r){const n=Fme(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Dme[n]}function gq(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Bme(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ume=fq,qme=mq,v2="Tabs",[zme,z2e]=is(v2,[hq]),vq=hq(),[Vme,wA]=zme(v2),yq=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=fd(l),[h,p]=ya({prop:n,onChange:s,defaultProp:i??"",caller:v2});return o.jsx(Vme,{scope:r,baseId:li(),value:h,onValueChange:p,orientation:a,dir:d,activationMode:c,children:o.jsx(Xe.div,{dir:d,"data-orientation":a,...u,ref:t})})});yq.displayName=v2;var xq="TabsList",wq=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=wA(xq,r),a=vq(r);return o.jsx(Ume,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});wq.displayName=xq;var bq="TabsTrigger",_q=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=wA(bq,r),l=vq(r),c=Nq(a.baseId,n),u=kq(a.baseId,n),d=n===a.value;return o.jsx(qme,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(Xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:dt(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:dt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:dt(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(n)})})})});_q.displayName=bq;var Sq="TabsContent",jq=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,l=wA(Sq,r),c=Nq(l.baseId,n),u=kq(l.baseId,n),d=n===l.value,h=w.useRef(d);return w.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(Sa,{present:s||d,children:({present:p})=>o.jsx(Xe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});jq.displayName=Sq;function Nq(e,t){return`${e}-trigger-${t}`}function kq(e,t){return`${e}-content-${t}`}var Wme=yq,Cq=wq,Eq=_q,Aq=jq;const yd=Wme,$c=w.forwardRef(({className:e,...t},r)=>o.jsx(Cq,{ref:r,className:Ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));$c.displayName=Cq.displayName;const pn=w.forwardRef(({className:e,...t},r)=>o.jsx(Eq,{ref:r,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));pn.displayName=Eq.displayName;const mn=w.forwardRef(({className:e,...t},r)=>o.jsx(Aq,{ref:r,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));mn.displayName=Aq.displayName;const Hme=({patient:e,open:t,onOpenChange:r})=>{if(!e)return null;const n=()=>{qe.success("Downloading patient records...",{description:"The PDF file will be downloaded shortly."}),setTimeout(()=>{qe.info("Download Complete",{description:`${e.name}_records.pdf saved.`})},1500)};return o.jsx(fs,{open:t,onOpenChange:r,children:o.jsxs(ns,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ks,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx(ps,{className:"text-2xl font-bold",children:e.name}),o.jsxs(Ys,{className:"mt-1 flex items-center gap-2",children:[o.jsxs("span",{children:["ID: ",e.patient_id]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[e.age," yrs, ",e.gender]}),o.jsx("span",{children:""}),o.jsx(Kt,{variant:"outline",children:e.status})]})]}),o.jsxs(ke,{onClick:n,children:[o.jsx(GD,{className:"w-4 h-4 mr-2"}),"Download Records"]})]})}),o.jsxs(yd,{defaultValue:"overview",className:"mt-6",children:[o.jsxs($c,{children:[o.jsx(pn,{value:"overview",children:"Overview"}),o.jsx(pn,{value:"reports",children:"Medical Reports"}),o.jsx(pn,{value:"prescriptions",children:"Prescriptions"}),o.jsx(pn,{value:"billing",children:"Billing & Payments"})]}),o.jsx(mn,{value:"overview",className:"space-y-4 mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(jt,{children:[o.jsx(Wt,{className:"pb-2",children:o.jsxs(Mt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(Sl,{className:"w-4 h-4"})," Current Condition"]})}),o.jsxs(Tt,{children:[o.jsx("p",{className:"text-lg font-semibold",children:e.condition||"Not recorded"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Admitted: ",e.admission_date?gn(new Date(e.admission_date),"PPP"):"N/A"]})]})]}),o.jsxs(jt,{children:[o.jsx(Wt,{className:"pb-2",children:o.jsxs(Mt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(xa,{className:"w-4 h-4"})," Vitals"]})}),o.jsx(Tt,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsx("div",{children:"BP: 120/80"}),o.jsx("div",{children:"Pulse: 72 bpm"}),o.jsx("div",{children:"Temp: 98.6F"}),o.jsx("div",{children:"SpO2: 98%"})]})})]})]})}),o.jsx(mn,{value:"reports",className:"mt-4",children:o.jsx(Sp,{className:"h-[300px] border rounded-md p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(za,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Blood Test Report (CBC)"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Jan 15, 2026"})]})]}),o.jsx(ke,{variant:"ghost",size:"sm",children:"View"})]}),o.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No more reports found."})]})})}),o.jsx(mn,{value:"prescriptions",className:"mt-4",children:o.jsx(Sp,{className:"h-[300px] border rounded-md p-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("h4",{className:"font-semibold",children:"General Medication"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Jan 16, 2026"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Aj,{className:"w-4 h-4 text-primary"}),o.jsx("span",{children:"Paracetamol 500mg - 1-0-1 (3 days)"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Aj,{className:"w-4 h-4 text-primary"}),o.jsx("span",{children:"Amoxicillin 250mg - 1-0-1 (5 days)"})]})]})]})})})}),o.jsx(mn,{value:"billing",className:"mt-4",children:o.jsx(Sp,{className:"h-[300px] border rounded-md p-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-green-50/50 border-green-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx(fw,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Advance Payment"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Jan 14, 2026  Receipt #10234"})]})]}),o.jsx("p",{className:"font-bold text-green-700",children:" 10,000"})]})})})})]})]})})},Gme=Z0({patient_id:Gr().min(1,"Patient is required"),report_type:Gr().min(1,"Report type is required"),title:Gr().min(3,"Title is required"),description:Gr().optional(),file:afe().optional()}),bA=({open:e,onOpenChange:t,patientId:r,patientName:n,defaultType:s="lab"})=>{const{toast:i}=R0(),[a,l]=w.useState(!1),c=J0({resolver:Q0(Gme),defaultValues:{patient_id:r||"",report_type:s,title:"",description:"",file:null}}),u=Xr({mutationFn:async h=>{var f;const{error:p}=await Qe.from("medical_reports").insert({patient_id:h.patient_id,report_type:h.report_type,title:h.title,description:h.description,file_url:"https://example.com/mock-report.pdf",uploaded_by:(f=(await Qe.auth.getUser()).data.user)==null?void 0:f.id});if(p){if(p.code==="42P01"){console.warn("Table medical_reports does not exist, mocking success"),await new Promise(v=>setTimeout(v,1e3));return}throw p}},onSuccess:()=>{i({title:"Upload Successful",description:"The medical report has been added to patient records.",className:"bg-green-50 border-green-200"}),t(!1),c.reset()},onError:h=>{console.error(h),i({title:"Upload Successful (Simulation)",description:"Report metadata saved locally."}),t(!1)}}),d=h=>{l(!0),setTimeout(()=>{u.mutate(h),l(!1)},1e3)};return o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"sm:max-w-[500px]",children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Upload Medical Record"}),o.jsxs(Ys,{children:["Upload reports, prescriptions, or payment receipts for ",n||"patient","."]})]}),o.jsx(X0,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[!r&&o.jsx(Nr,{control:c.control,name:"patient_id",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Patient ID"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Enter Patient ID",...h})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:c.control,name:"report_type",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Record Type"}),o.jsxs(Ir,{onValueChange:h.onChange,defaultValue:h.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select Type"})})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"lab",children:"Lab Report"}),o.jsx(We,{value:"prescription",children:"Prescription"}),o.jsx(We,{value:"imaging",children:"X-Ray / MRI"}),o.jsx(We,{value:"bill",children:"Payment Receipt"}),o.jsx(We,{value:"insurance",children:"Insurance Document"}),o.jsx(We,{value:"other",children:"Other"})]})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:c.control,name:"title",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Title"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g. Blood Test CBC",...h})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:c.control,name:"description",render:({field:h})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Description (Optional)"}),o.jsx(xr,{children:o.jsx(Ao,{placeholder:"Additional details...",...h})}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Attachment"}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center bg-muted/20 hover:bg-muted/40 transition-colors cursor-pointer text-muted-foreground",children:[o.jsx(mw,{className:"w-8 h-8 mb-2"}),o.jsx("span",{className:"text-sm",children:"Click to select file"})]})]}),o.jsx(ke,{type:"submit",className:"w-full",disabled:a||u.isPending,children:a?"Uploading...":"Upload Document"})]})})]})})},pR={admitted:"bg-info/10 text-info border-info/20",outpatient:"bg-success/10 text-success border-success/20",critical:"bg-destructive/10 text-destructive border-destructive/20",discharged:"bg-muted text-muted-foreground border-muted"},Yme=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(""),[s,i]=w.useState("all"),[a,l]=w.useState(null),[c,u]=w.useState(null),[d,h]=w.useState(!1),[p,f]=w.useState(!1),{data:v,isLoading:m}=Hm(),x=Yde(),g=v==null?void 0:v.filter(S=>{var R;const k=S.name.toLowerCase().includes(r.toLowerCase())||S.patient_id.toLowerCase().includes(r.toLowerCase())||((R=S.condition)==null?void 0:R.toLowerCase().includes(r.toLowerCase())),T=s==="all"||S.status===s;return k&&T}),b=async()=>{a&&(await x.mutateAsync(a),l(null))};return o.jsxs(In,{title:"Patients",subtitle:"Manage patient records and information",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search patients by name, ID, or condition...",className:"pl-10",value:r,onChange:S=>n(S.target.value)})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Ir,{value:s,onValueChange:i,children:[o.jsx(Tr,{className:"w-40",children:o.jsx(Mr,{placeholder:"Status"})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"all",children:"All Status"}),o.jsx(We,{value:"admitted",children:"Admitted"}),o.jsx(We,{value:"outpatient",children:"Outpatient"}),o.jsx(We,{value:"critical",children:"Critical"}),o.jsx(We,{value:"discharged",children:"Discharged"})]})]}),o.jsxs(ke,{onClick:()=>t(!0),children:[o.jsx(M0,{className:"w-4 h-4 mr-2"}),"Add Patient"]})]})]}),o.jsx("div",{className:"bg-card rounded-xl card-shadow border border-border/50 animate-fade-in",children:m?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ac,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border bg-muted/30",children:[o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Patient"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"ID"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Contact"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Condition"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Room"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Status"}),o.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:(g==null?void 0:g.length)===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"p-8 text-center text-muted-foreground",children:"No patients found. Add your first patient to get started."})}):g==null?void 0:g.map(S=>o.jsxs("tr",{className:"hover:bg-muted/30 transition-colors duration-200",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Io,{className:"w-10 h-10",children:o.jsx(Mo,{className:"bg-secondary text-secondary-foreground text-sm font-medium",children:S.name.split(" ").map(k=>k[0]).join("")})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:S.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.age," yrs, ",S.gender]})]})]})}),o.jsx("td",{className:"p-4",children:o.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:S.patient_id})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-sm text-foreground",children:S.phone||""})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-foreground",children:S.condition||""})}),o.jsx("td",{className:"p-4",children:S.room?o.jsx(Kt,{variant:"secondary",className:"font-mono",children:S.room}):""}),o.jsx("td",{className:"p-4",children:o.jsx(Kt,{variant:"outline",className:pR[S.status]||pR.outpatient,children:S.status})}),o.jsx("td",{className:"p-4",children:o.jsxs(nd,{children:[o.jsx(sd,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",children:o.jsx(Ej,{className:"w-4 h-4"})})}),o.jsxs(Oc,{align:"end",children:[o.jsxs(hn,{onClick:()=>{u(S),f(!0)},children:[o.jsx(za,{className:"w-4 h-4 mr-2"}),"Upload Record"]}),o.jsxs(hn,{onClick:()=>{u(S),h(!0)},children:[o.jsx(za,{className:"w-4 h-4 mr-2"}),"View Records"]}),o.jsx(hn,{children:"Edit Details"}),S.phone&&o.jsxs(hn,{onClick:()=>window.open(`tel:${S.phone}`),children:[o.jsx(Va,{className:"w-4 h-4 mr-2"}),"Call"]}),S.email&&o.jsxs(hn,{onClick:()=>window.open(`mailto:${S.email}`),children:[o.jsx(Pb,{className:"w-4 h-4 mr-2"}),"Email"]}),o.jsxs(hn,{className:"text-destructive",onClick:()=>l(S.id),children:[o.jsx(Pm,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},S.id))})]})}),o.jsx("div",{className:"p-4 border-t border-border flex items-center justify-between",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(g==null?void 0:g.length)||0," of ",(v==null?void 0:v.length)||0," patients"]})})]})}),o.jsx(aA,{open:e,onOpenChange:t}),o.jsx(Hme,{open:d,onOpenChange:h,patient:c}),o.jsx(bA,{open:p,onOpenChange:f,patientId:c==null?void 0:c.id,patientName:c==null?void 0:c.name}),o.jsx(Ym,{open:!!a,onOpenChange:()=>l(null),children:o.jsxs(rf,{children:[o.jsxs(nf,{children:[o.jsx(af,{children:"Delete Patient"}),o.jsx(of,{children:"Are you sure you want to delete this patient? This action cannot be undone."})]}),o.jsxs(sf,{children:[o.jsx(cf,{children:"Cancel"}),o.jsx(lf,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};var y2="Switch",[Kme,V2e]=is(y2),[Jme,Qme]=Kme(y2),Pq=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[p,f]=w.useState(null),v=wt(t,S=>f(S)),m=w.useRef(!1),x=p?d||!!p.closest("form"):!0,[g,b]=ya({prop:s,defaultProp:i??!1,onChange:u,caller:y2});return o.jsxs(Jme,{scope:r,checked:g,disabled:l,children:[o.jsx(Xe.button,{type:"button",role:"switch","aria-checked":g,"aria-required":a,"data-state":Lq(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:dt(e.onClick,S=>{b(k=>!k),x&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),x&&o.jsx(Oq,{control:p,bubbles:!m.current,name:n,value:c,checked:g,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Pq.displayName=y2;var Tq="SwitchThumb",Rq=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Qme(Tq,r);return o.jsx(Xe.span,{"data-state":Lq(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Rq.displayName=Tq;var Zme="SwitchBubbleInput",Oq=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=w.useRef(null),l=wt(a,i),c=AE(r),u=Lb(t);return w.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const v=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(v)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Oq.displayName=Zme;function Lq(e){return e?"checked":"unchecked"}var Iq=Pq,Xme=Rq;const Np=w.forwardRef(({className:e,...t},r)=>o.jsx(Iq,{className:Ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(Xme,{className:Ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Np.displayName=Iq.displayName;const ege=Z0({name:Gr().min(2,"Name must be at least 2 characters"),specialty:Gr().min(1,"Please enter specialty"),experience:Gr().optional(),phone:Gr().optional(),email:Gr().email().optional().or(XB("")),available:sfe().default(!0),department_id:Gr().optional()}),tge=({open:e,onOpenChange:t})=>{const r=Kde(),{data:n}=gd(),s=J0({resolver:Q0(ege),defaultValues:{name:"",specialty:"",experience:"",phone:"",email:"",available:!0}}),i=async a=>{await r.mutateAsync({name:a.name,specialty:a.specialty,experience:a.experience||void 0,phone:a.phone||void 0,email:a.email||void 0,available:a.available,department_id:a.department_id||void 0}),s.reset(),t(!1)};return o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"max-w-lg",children:[o.jsx(ks,{children:o.jsx(ps,{className:"font-heading",children:"Add New Doctor"})}),o.jsx(X0,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[o.jsx(Nr,{control:s.control,name:"name",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Full Name *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Dr. John Smith",...a})}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:s.control,name:"specialty",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Specialty *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Cardiology",...a})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:s.control,name:"experience",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Experience"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"10 years",...a})}),o.jsx(kr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nr,{control:s.control,name:"phone",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Phone"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"+1 234-567-8900",...a})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:s.control,name:"email",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Email"}),o.jsx(xr,{children:o.jsx(ht,{type:"email",placeholder:"doctor@hospital.com",...a})}),o.jsx(kr,{})]})})]}),o.jsx(Nr,{control:s.control,name:"department_id",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Department"}),o.jsxs(Ir,{onValueChange:a.onChange,defaultValue:a.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select department"})})}),o.jsx(Rr,{children:n==null?void 0:n.map(l=>o.jsx(We,{value:l.id,children:l.name},l.id))})]}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:s.control,name:"available",render:({field:a})=>o.jsxs(vr,{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(yr,{className:"text-base",children:"Available"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Doctor is available for appointments"})]}),o.jsx(xr,{children:o.jsx(Np,{checked:a.value,onCheckedChange:a.onChange})})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(ke,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(ke,{type:"submit",disabled:r.isPending,children:r.isPending?"Adding...":"Add Doctor"})]})]})})]})})},Mq=({open:e,onOpenChange:t,action:r})=>{const{user:n}=ui(),[s,i]=w.useState(""),[a,l]=w.useState(!1),c=async()=>{if(!s.trim()){qe.error("Please provide a reason for this request");return}l(!0);try{const{data:u,error:d}=await Qe.from("user_roles").select("user_id").eq("role","admin");if(d)throw d;if(!u||u.length===0)throw new Error("No administrators found to receive this request.");const h=u.map(f=>({user_id:f.user_id,title:"Permission Request",message:`${(n==null?void 0:n.email)||"A user"} requests to ${r}. Reason: ${s}`,type:"permission_request",entity_type:"request",entity_id:n==null?void 0:n.id,is_read:!1})),{error:p}=await Qe.from("notifications").insert(h);if(p)throw p;qe.success("Permission request sent to Admin",{description:`Request to ${r} has been forwarded for approval.`}),t(!1),i("")}catch(u){console.error("Request failed:",u),qe.error("Failed to send request",{description:u.message})}finally{l(!1)}};return o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"sm:max-w-[425px]",children:[o.jsxs(ks,{children:[o.jsxs(ps,{className:"flex items-center gap-2 text-amber-600",children:[o.jsx(YD,{className:"w-5 h-5"}),"Restricted Action"]}),o.jsxs(Ys,{children:["You do not have permission to ",o.jsx("strong",{children:r}),". You can request approval from an administrator."]})]}),o.jsx("div",{className:"grid gap-4 py-4",children:o.jsx(Ao,{placeholder:"Why is this change necessary?",value:s,onChange:u=>i(u.target.value),className:"min-h-[100px]"})}),o.jsxs(zm,{children:[o.jsx(ke,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(ke,{onClick:c,disabled:a,className:"bg-amber-600 hover:bg-amber-700",children:a?"Sending Request...":"Request Approval"})]})]})})},rge=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],mR=Array.from({length:24},(e,t)=>{const r=t%12||12,n=t<12?"AM":"PM";return`${r}:00 ${n}`}),nge=({open:e,onOpenChange:t,doctor:r})=>{const[n,s]=w.useState(!1),i=Jde(),{user:a}=ui(),[l,c]=w.useState(null),[u,d]=w.useState(!1),[h,p]=w.useState(["Monday","Tuesday","Wednesday","Thursday","Friday"]),[f,v]=w.useState("9:00 AM"),[m,x]=w.useState("5:00 PM"),[g,b]=w.useState(!0);w.useEffect(()=>{if(r)if(b(r.available),r.schedule)try{const O=typeof r.schedule=="string"?JSON.parse(r.schedule):r.schedule;O.start&&v(O.start),O.end&&x(O.end),O.days&&p(O.days)}catch{S()}else S();k()},[r,a]);const S=()=>{v("9:00 AM"),x("5:00 PM"),p(["Monday","Tuesday","Wednesday","Thursday","Friday"])},k=async()=>{if(!a)return;const{data:O}=await Qe.from("user_roles").select("role").eq("user_id",a.id).maybeSingle();O&&c(O.role)},T=O=>{h.includes(O)?p(h.filter(D=>D!==O)):p([...h,O])},R=async()=>{if(r){if(l==="receptionist"){d(!0);return}s(!0);try{const O={days:h,start:f,end:m};console.log("Saving schedule:",O),await i.mutateAsync({id:r.id,available:g,schedule:O}),qe.success("Schedule updated successfully",{description:`Updated availability for ${r.name}`}),t(!1)}catch(O){console.error("Update failed:",O);const D=O.message||"Failed to update schedule";if(l!=="receptionist")try{await i.mutateAsync({id:r.id,available:g}),qe.warning("Availability updated, but detailed schedule could not be saved.",{description:"The database may not yet support detailed schedules."}),t(!1);return}catch(I){console.error("Retry failed:",I)}D.includes("permission")||D.includes("policy")?qe.error("You do not have permission to perform this action."):qe.error(D)}finally{s(!1)}}};return o.jsxs(o.Fragment,{children:[o.jsx(fs,{open:e,onOpenChange:t,children:o.jsxs(ns,{className:"sm:max-w-[500px]",children:[o.jsxs(ks,{children:[o.jsxs(ps,{className:"flex items-center gap-2",children:[o.jsx(xa,{className:"w-5 h-5 text-primary"}),"Set Availability Schedule"]}),o.jsxs(Ys,{children:["Configure the weekly availability for ",o.jsx("strong",{children:r==null?void 0:r.name}),"."]})]}),o.jsxs("div",{className:"grid gap-6 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between space-x-2 border p-3 rounded-lg",children:[o.jsxs(lt,{htmlFor:"available-mode",className:"flex flex-col space-y-1",children:[o.jsx("span",{className:"font-medium",children:"Currently Available"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Toggle global availability status."})]}),o.jsx(Np,{id:"available-mode",checked:g,onCheckedChange:b})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(lt,{children:"Working Days"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:rge.map(O=>o.jsx("div",{onClick:()=>T(O),className:`
                                            cursor-pointer px-3 py-1.5 rounded-full text-xs font-medium transition-colors border
                                            ${h.includes(O)?"bg-primary text-primary-foreground border-primary":"bg-muted text-muted-foreground border-transparent hover:bg-muted/80"}
                                        `,children:O.slice(0,3)},O))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Start Time"}),o.jsxs(Ir,{value:f,onValueChange:v,children:[o.jsx(Tr,{children:o.jsx(Mr,{})}),o.jsx(Rr,{children:mR.map(O=>o.jsx(We,{value:O,children:O},`start-${O}`))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"End Time"}),o.jsxs(Ir,{value:m,onValueChange:x,children:[o.jsx(Tr,{children:o.jsx(Mr,{})}),o.jsx(Rr,{children:mR.map(O=>o.jsx(We,{value:O,children:O},`end-${O}`))})]})]})]})]}),o.jsxs(zm,{children:[o.jsx(ke,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(ke,{onClick:R,disabled:n,children:n?"Saving...":"Save Schedule"})]})]})}),o.jsx(Mq,{open:u,onOpenChange:O=>{d(O),O||t(!1)},action:`update schedule for Dr. ${r==null?void 0:r.name}`})]})},sge=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(!1),[s,i]=w.useState(null),[a,l]=w.useState(""),[c,u]=w.useState("all"),[d,h]=w.useState(null),{data:p,isLoading:f}=Gm(),v=Qde(),m=p==null?void 0:p.filter(b=>{const S=b.name.toLowerCase().includes(a.toLowerCase())||b.specialty.toLowerCase().includes(a.toLowerCase()),k=c==="all"||c==="available"&&b.available||c==="busy"&&!b.available;return S&&k}),x=async()=>{d&&(await v.mutateAsync(d),h(null))},g=b=>{i(b),n(!0)};return o.jsxs(In,{title:"Doctors",subtitle:"Manage medical staff and their schedules",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search doctors by name or specialty...",className:"pl-10",value:a,onChange:b=>l(b.target.value)})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Ir,{value:c,onValueChange:u,children:[o.jsx(Tr,{className:"w-36",children:o.jsx(Mr,{placeholder:"Availability"})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"all",children:"All"}),o.jsx(We,{value:"available",children:"Available"}),o.jsx(We,{value:"busy",children:"On Leave"})]})]}),o.jsxs(ke,{onClick:()=>t(!0),children:[o.jsx(M0,{className:"w-4 h-4 mr-2"}),"Add Doctor"]})]})]}),f?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ac,{className:"w-8 h-8 animate-spin text-primary"})}):(m==null?void 0:m.length)===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No doctors found. Add your first doctor to get started."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m==null?void 0:m.map(b=>o.jsx(jt,{className:"card-shadow border-border/50 hover:shadow-elevated transition-shadow duration-300 animate-fade-in",children:o.jsx(Tt,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Io,{className:"w-20 h-20 mb-4",children:o.jsx(Mo,{className:"bg-primary/10 text-primary text-xl font-semibold",children:b.name.split(" ").slice(1).map(S=>S[0]).join("")||b.name.split(" ")[0][0]})}),o.jsx("span",{className:`absolute bottom-4 right-0 w-4 h-4 rounded-full border-2 border-card ${b.available?"bg-success":"bg-muted-foreground"}`})]}),o.jsx("h3",{className:"font-heading font-semibold text-foreground",children:b.name}),o.jsx(Kt,{variant:"secondary",className:"mt-2",children:b.specialty}),o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-warning",children:[o.jsx(DC,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-medium",children:b.rating})]}),o.jsxs("div",{className:"mt-4 w-full space-y-2 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Experience"}),o.jsx("span",{className:"text-foreground font-medium",children:b.experience||""})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Patients"}),o.jsx("span",{className:"text-foreground font-medium",children:b.total_patients.toLocaleString()})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4 w-full",children:[b.phone&&o.jsx(ke,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>window.open(`tel:${b.phone}`),children:o.jsx(Va,{className:"w-4 h-4"})}),b.email&&o.jsx(ke,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>window.open(`mailto:${b.email}`),children:o.jsx(Pb,{className:"w-4 h-4"})}),o.jsx(ke,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>g(b),title:"Set Schedule",children:o.jsx(xa,{className:"w-4 h-4"})}),o.jsx(ke,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>h(b.id),children:o.jsx(Pm,{className:"w-4 h-4"})})]}),o.jsx(ke,{className:"w-full mt-3",variant:b.available?"default":"secondary",disabled:!b.available,children:b.available?"Book Appointment":"On Leave"})]})})},b.id))}),o.jsx(tge,{open:e,onOpenChange:t}),o.jsx(nge,{open:r,onOpenChange:n,doctor:s}),o.jsx(Ym,{open:!!d,onOpenChange:()=>h(null),children:o.jsxs(rf,{children:[o.jsxs(nf,{children:[o.jsx(af,{children:"Delete Doctor"}),o.jsx(of,{children:"Are you sure you want to delete this doctor? This action cannot be undone."})]}),o.jsxs(sf,{children:[o.jsx(cf,{children:"Cancel"}),o.jsx(lf,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},ige=()=>Cn({queryKey:["patient-appointments"],queryFn:async()=>{const{data:e,error:t}=await Qe.from("patient_appointments").select(`
          *,
          doctors:doctor_id(name, specialty),
          departments:department_id(name)
        `).order("created_at",{ascending:!1});if(t)throw t;return e}}),age=()=>{const e=Mn();return Xr({mutationFn:async({id:t,...r})=>{const{error:n}=await Qe.from("patient_appointments").update(r).eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["patient-appointments"]}),qe.success("Appointment updated successfully")},onError:t=>{qe.error(`Error updating appointment: ${t.message}`)}})},oge=()=>Xr({mutationFn:async({appointmentId:e,action:t})=>{const{data:r,error:n}=await Qe.functions.invoke("vapi-appointment-call",{body:{appointmentId:e,action:t}});if(n)throw new Error(n.message||"Failed to initiate call");if(!r.success)throw new Error(r.error||"Call failed");return r},onSuccess:e=>{Qr({title:"Call Initiated",description:e.message})},onError:e=>{Qr({title:"Call Failed",description:e.message,variant:"destructive"})}}),L1={confirmed:"bg-success/10 text-success border-success/20",pending:"bg-warning/10 text-warning border-warning/20","in-progress":"bg-info/10 text-info border-info/20",cancelled:"bg-destructive/10 text-destructive border-destructive/20",completed:"bg-muted text-muted-foreground border-muted"},lge=()=>{const[e,t]=w.useState(new Date),[r,n]=w.useState(!1),[s,i]=w.useState(""),[a,l]=w.useState("all"),[c,u]=w.useState(null),[d,h]=w.useState("scheduled"),p=e?gn(e,"yyyy-MM-dd"):void 0,{data:f,isLoading:v}=l2(p),{data:m,isLoading:x}=ige(),g=Xde(),b=age(),S=ehe(),k=oge(),T=(m==null?void 0:m.filter($=>$.status==="pending"))||[];m!=null&&m.filter($=>$.status==="confirmed");const R=async($,q)=>{await k.mutateAsync({appointmentId:$,action:q})},O=f==null?void 0:f.filter($=>{var W,Z,pe,ge;const q=((Z=(W=$.patients)==null?void 0:W.name)==null?void 0:Z.toLowerCase())||"",ee=((ge=(pe=$.doctors)==null?void 0:pe.name)==null?void 0:ge.toLowerCase())||"",re=q.includes(s.toLowerCase())||ee.includes(s.toLowerCase()),te=a==="all"||$.status===a;return re&&te}),D={total:(f==null?void 0:f.length)||0,confirmed:(f==null?void 0:f.filter($=>$.status==="confirmed").length)||0,pending:(f==null?void 0:f.filter($=>$.status==="pending").length)||0,cancelled:(f==null?void 0:f.filter($=>$.status==="cancelled").length)||0},I=async($,q)=>{await g.mutateAsync({id:$,status:q})},G=async()=>{c&&(await S.mutateAsync(c),u(null))},A=$=>{const[q,ee]=$.split(":"),re=parseInt(q),te=re>=12?"PM":"AM";return`${re%12||12}:${ee} ${te}`},M=async($,q)=>{await b.mutateAsync({id:$,status:q})};return o.jsxs(In,{title:"Appointments",subtitle:"Schedule and manage patient appointments",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx(jt,{className:"card-shadow border-border/50",children:o.jsx(Tt,{className:"p-4",children:o.jsx(p2,{mode:"single",selected:e,onSelect:t,className:"rounded-md"})})}),o.jsxs(jt,{className:"card-shadow border-border/50",children:[o.jsx(Wt,{className:"pb-3",children:o.jsx(Mt,{className:"text-sm font-medium",children:"Today's Overview"})}),o.jsxs(Tt,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"}),o.jsx(Kt,{variant:"secondary",children:D.total})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Confirmed"}),o.jsx(Kt,{className:"bg-success/10 text-success border-success/20",children:D.confirmed})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Pending"}),o.jsx(Kt,{className:"bg-warning/10 text-warning border-warning/20",children:D.pending})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Cancelled"}),o.jsx(Kt,{className:"bg-destructive/10 text-destructive border-destructive/20",children:D.cancelled})]})]})]})]}),o.jsx("div",{className:"lg:col-span-3 space-y-6",children:o.jsxs(yd,{value:d,onValueChange:h,className:"w-full",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[o.jsxs($c,{children:[o.jsxs(pn,{value:"scheduled",className:"gap-2",children:[o.jsx(Cj,{className:"w-4 h-4"}),"Scheduled"]}),o.jsxs(pn,{value:"requests",className:"gap-2",children:[o.jsx(ko,{className:"w-4 h-4"}),"Patient Requests",T.length>0&&o.jsx(Kt,{variant:"destructive",className:"ml-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:T.length})]})]}),o.jsxs(ke,{onClick:()=>n(!0),children:[o.jsx(M0,{className:"w-4 h-4 mr-2"}),"New Appointment"]})]}),o.jsxs(mn,{value:"scheduled",className:"mt-6 space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search appointments...",className:"pl-10",value:s,onChange:$=>i($.target.value)})]}),o.jsxs(Ir,{value:a,onValueChange:l,children:[o.jsx(Tr,{className:"w-36",children:o.jsx(Mr,{placeholder:"Status"})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"all",children:"All Status"}),o.jsx(We,{value:"confirmed",children:"Confirmed"}),o.jsx(We,{value:"pending",children:"Pending"}),o.jsx(We,{value:"cancelled",children:"Cancelled"})]})]})]}),o.jsxs(jt,{className:"card-shadow border-border/50",children:[o.jsx(Wt,{className:"border-b border-border",children:o.jsxs(Mt,{className:"text-lg",children:["Appointments for ",e==null?void 0:e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]})}),o.jsx(Tt,{className:"p-0",children:v?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ac,{className:"w-8 h-8 animate-spin text-primary"})}):(O==null?void 0:O.length)===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No appointments for this date. Schedule one to get started."}):o.jsx("div",{className:"divide-y divide-border",children:O==null?void 0:O.map($=>{var q,ee,re,te;return o.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors duration-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded-lg min-w-[80px]",children:[o.jsx(xa,{className:"w-4 h-4 text-muted-foreground mb-1"}),o.jsx("span",{className:"text-sm font-medium",children:A($.appointment_time)}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[$.duration," min"]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Io,{className:"w-10 h-10",children:o.jsx(Mo,{className:"bg-secondary text-secondary-foreground",children:((ee=(q=$.patients)==null?void 0:q.name)==null?void 0:ee.split(" ").map(W=>W[0]).join(""))||"?"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ko,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"font-medium text-foreground",children:((re=$.patients)==null?void 0:re.name)||"Unknown"})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Vi,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:((te=$.doctors)==null?void 0:te.name)||"Unknown"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx(Kt,{variant:"secondary",className:"mb-1",children:$.type}),o.jsx(Kt,{variant:"outline",className:L1[$.status]||L1.pending,children:$.status})]}),o.jsxs(nd,{children:[o.jsx(sd,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",children:o.jsx(Ej,{className:"w-4 h-4"})})}),o.jsxs(Oc,{align:"end",children:[o.jsxs(hn,{onClick:()=>R($.id,"confirm"),disabled:k.isPending,children:[o.jsx(Va,{className:"w-4 h-4 mr-2 text-primary"}),"AI Confirm Call"]}),o.jsxs(hn,{onClick:()=>R($.id,"reminder"),disabled:k.isPending,children:[o.jsx(zD,{className:"w-4 h-4 mr-2 text-info"}),"AI Reminder Call"]}),o.jsx(sm,{}),o.jsxs(hn,{onClick:()=>I($.id,"confirmed"),children:[o.jsx(Ec,{className:"w-4 h-4 mr-2 text-success"}),"Confirm"]}),o.jsx(hn,{onClick:()=>I($.id,"completed"),children:"Mark Complete"}),o.jsxs(hn,{onClick:()=>I($.id,"cancelled"),className:"text-destructive",children:[o.jsx(tm,{className:"w-4 h-4 mr-2"}),"Cancel"]}),o.jsx(sm,{}),o.jsx(hn,{onClick:()=>u($.id),className:"text-destructive",children:"Delete"})]})]})]})]})},$.id)})})})]})]}),o.jsx(mn,{value:"requests",className:"mt-6 space-y-4",children:o.jsxs(jt,{className:"card-shadow border-border/50",children:[o.jsx(Wt,{className:"border-b border-border",children:o.jsxs(Mt,{className:"text-lg flex items-center gap-2",children:[o.jsx(ko,{className:"w-5 h-5"}),"Patient Appointment Requests"]})}),o.jsx(Tt,{className:"p-0",children:x?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ac,{className:"w-8 h-8 animate-spin text-primary"})}):(m==null?void 0:m.length)===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No patient appointment requests yet."}):o.jsx("div",{className:"divide-y divide-border",children:m==null?void 0:m.map($=>{var q;return o.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors duration-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded-lg min-w-[100px]",children:[o.jsx(Cj,{className:"w-4 h-4 text-muted-foreground mb-1"}),o.jsx("span",{className:"text-sm font-medium",children:gn(new Date($.preferred_date),"MMM d, yyyy")}),o.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:$.preferred_time||"Any time"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Io,{className:"w-10 h-10",children:o.jsx(Mo,{className:"bg-secondary text-secondary-foreground",children:((q=$.patient_name)==null?void 0:q.split(" ").map(ee=>ee[0]).join(""))||"?"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ko,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"font-medium text-foreground",children:$.patient_name})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xh,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:$.patient_phone})]}),$.patient_email&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pb,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:$.patient_email})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[$.doctors&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Vi,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:$.doctors.name})]}),$.departments&&o.jsx(Kt,{variant:"outline",className:"text-xs",children:$.departments.name})]}),$.notes&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 italic",children:['"',$.notes,'"']})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx(Kt,{variant:"secondary",className:"mb-1 capitalize",children:$.appointment_type}),o.jsx(Kt,{variant:"outline",className:L1[$.status]||L1.pending,children:$.status})]}),o.jsxs(nd,{children:[o.jsx(sd,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",children:o.jsx(Ej,{className:"w-4 h-4"})})}),o.jsxs(Oc,{align:"end",children:[o.jsxs(hn,{onClick:()=>M($.id,"confirmed"),children:[o.jsx(Ec,{className:"w-4 h-4 mr-2 text-success"}),"Confirm Request"]}),o.jsxs(hn,{onClick:()=>M($.id,"cancelled"),className:"text-destructive",children:[o.jsx(tm,{className:"w-4 h-4 mr-2"}),"Reject Request"]})]})]})]})]})},$.id)})})})]})})]})})]}),o.jsx(gA,{open:r,onOpenChange:n,selectedDate:e}),o.jsx(Ym,{open:!!c,onOpenChange:()=>u(null),children:o.jsxs(rf,{children:[o.jsxs(nf,{children:[o.jsx(af,{children:"Delete Appointment"}),o.jsx(of,{children:"Are you sure you want to delete this appointment? This action cannot be undone."})]}),o.jsxs(sf,{children:[o.jsx(cf,{children:"Cancel"}),o.jsx(lf,{onClick:G,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},cge={Cardiology:OC,Neurology:vJ,Orthopedics:gJ,Pediatrics:mJ,Emergency:Sl,Oncology:Vi},uge={Cardiology:"text-red-500 bg-red-500/10",Neurology:"text-purple-500 bg-purple-500/10",Orthopedics:"text-orange-500 bg-orange-500/10",Pediatrics:"text-pink-500 bg-pink-500/10",Emergency:"text-red-600 bg-red-600/10",Oncology:"text-green-500 bg-green-500/10"},dge=()=>{const{data:e,isLoading:t}=gd(),r=the(),n=s=>{r.mutate(s)};return o.jsxs(In,{title:"Departments",subtitle:"Manage hospital departments and their resources",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-muted-foreground",children:[(e==null?void 0:e.length)||0," active departments"]})}),o.jsxs(ke,{children:[o.jsx(M0,{className:"w-4 h-4 mr-2"}),"Add Department"]})]}),t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ac,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e==null?void 0:e.map(s=>{const i=s.total_beds>0?Math.round(s.occupied_beds/s.total_beds*100):0,a=cge[s.name]||Vi,l=uge[s.name]||"text-primary bg-primary/10";return o.jsxs(jt,{className:"card-shadow border-border/50 hover:shadow-elevated transition-all duration-300 cursor-pointer animate-fade-in group",children:[o.jsxs(Wt,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("div",{className:Ie("p-3 rounded-xl",l),children:o.jsx(a,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Kt,{variant:"outline",className:"text-success border-success/30 bg-success/5",children:[o.jsx(FC,{className:"w-3 h-3 mr-1"}),"Active"]}),o.jsxs(Ym,{children:[o.jsx(cq,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:o.jsx(Pm,{className:"w-4 h-4"})})}),o.jsxs(rf,{children:[o.jsxs(nf,{children:[o.jsx(af,{children:"Delete Department"}),o.jsxs(of,{children:['Are you sure you want to delete "',s.name,'"? This action cannot be undone.']})]}),o.jsxs(sf,{children:[o.jsx(cf,{children:"Cancel"}),o.jsx(lf,{onClick:()=>n(s.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]}),o.jsx(Mt,{className:"text-lg font-heading mt-3",children:s.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:s.head_doctor||"No head assigned"})]}),o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wa,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{children:[s.doctors_count," doctors"]})]}),o.jsxs("span",{className:"text-muted-foreground",children:[s.nurses_count," nurses"]})]}),s.total_beds>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Cc,{className:"w-4 h-4 text-muted-foreground"}),"Bed Occupancy"]}),o.jsxs("span",{className:"font-medium",children:[s.occupied_beds,"/",s.total_beds]})]}),o.jsx(c2,{value:i,className:Ie("h-2",i>80&&"[&>div]:bg-warning",i>90&&"[&>div]:bg-destructive")})]}),o.jsx(ke,{variant:"outline",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:"View Details"})]})]},s.id)})})]})},hge=()=>Cn({queryKey:["beds"],queryFn:async()=>{const{data:e,error:t}=await Qe.from("beds").select(`
          *,
          departments (
            name
          ),
          patients (
            name
          )
        `).order("room_number",{ascending:!0}).order("bed_number",{ascending:!0});if(t)throw t;return e}}),fge=()=>{const e=Mn();return Xr({mutationFn:async t=>{const{data:r,error:n}=await Qe.from("beds").insert([t]).select().single();if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["beds"]}),Qr({title:"Success",description:"Bed added successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})},pge=()=>{const e=Mn();return Xr({mutationFn:async t=>{const{error:r}=await Qe.from("beds").delete().eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["beds"]}),Qr({title:"Success",description:"Bed deleted successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})},mge=()=>{const e=Mn();return Xr({mutationFn:async({id:t,status:r,patient_id:n})=>{const{data:s,error:i}=await Qe.from("beds").update({status:r,patient_id:n}).eq("id",t).select().single();if(i)throw i;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["beds"]}),Qr({title:"Success",description:"Bed status updated successfully"})},onError:t=>{Qr({title:"Error",description:t.message,variant:"destructive"})}})},gge=()=>{const{data:e,isLoading:t}=hge(),{data:r}=gd(),n=fge(),s=pge(),i=mge(),[a,l]=w.useState(""),[c,u]=w.useState("all"),[d,h]=w.useState("all"),[p,f]=w.useState(!1),[v,m]=w.useState(!1),[x,g]=w.useState(null),[b,S]=w.useState(null),[k,T]=w.useState({bed_number:"",room_number:"",department_id:"",bed_type:"Standard",status:"Available"}),R=e==null?void 0:e.filter(A=>{var ee;const M=A.bed_number.toLowerCase().includes(a.toLowerCase())||A.room_number.toLowerCase().includes(a.toLowerCase())||((ee=A.patients)==null?void 0:ee.name.toLowerCase().includes(a.toLowerCase())),$=c==="all"||A.status===c,q=d==="all"||A.department_id===d;return M&&$&&q}),O={total:(e==null?void 0:e.length)||0,occupied:(e==null?void 0:e.filter(A=>A.status==="Occupied").length)||0,available:(e==null?void 0:e.filter(A=>A.status==="Available").length)||0,maintenance:(e==null?void 0:e.filter(A=>A.status==="Maintenance").length)||0},D=async A=>{if(A.preventDefault(),!k.department_id){qe.error("Please select a department");return}try{await n.mutateAsync(k),f(!1),T({bed_number:"",room_number:"",department_id:"",bed_type:"Standard",status:"Available"})}catch(M){console.error(M)}},I=A=>{switch(A){case"Available":return"bg-emerald-500/10 text-emerald-600 border-emerald-200";case"Occupied":return"bg-red-500/10 text-red-600 border-red-200";case"Maintenance":return"bg-orange-500/10 text-orange-600 border-orange-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},G=A=>{switch(A){case"Available":return"bg-emerald-500";case"Occupied":return"bg-red-500";case"Maintenance":return"bg-orange-500";default:return"bg-gray-400"}};return o.jsxs(In,{title:"Bed Management",subtitle:"Monitor and manage hospital bed occupancy",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(jt,{className:"shadow-sm border-l-4 border-l-primary",children:o.jsxs(Tt,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Beds"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:O.total})]}),o.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:o.jsx(Cc,{className:"w-5 h-5 text-primary"})})]})}),o.jsx(jt,{className:"shadow-sm border-l-4 border-l-emerald-500",children:o.jsxs(Tt,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:O.available})]}),o.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-xl",children:o.jsx(AJ,{className:"w-5 h-5 text-emerald-500"})})]})}),o.jsx(jt,{className:"shadow-sm border-l-4 border-l-red-500",children:o.jsxs(Tt,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Occupied"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:O.occupied})]}),o.jsx("div",{className:"p-3 bg-red-500/10 rounded-xl",children:o.jsx(ko,{className:"w-5 h-5 text-red-500"})})]})}),o.jsx(jt,{className:"shadow-sm border-l-4 border-l-orange-500",children:o.jsxs(Tt,{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Maintenance"}),o.jsx("h3",{className:"text-2xl font-bold mt-1",children:O.maintenance})]}),o.jsx("div",{className:"p-3 bg-orange-500/10 rounded-xl",children:o.jsx(Sl,{className:"w-5 h-5 text-orange-500"})})]})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center mb-6",children:[o.jsxs("div",{className:"flex flex-1 gap-2 w-full md:w-auto",children:[o.jsxs("div",{className:"relative flex-1 md:max-w-xs",children:[o.jsx(Cl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search bed, room, or patient...",className:"pl-9",value:a,onChange:A=>l(A.target.value)})]}),o.jsxs(Ir,{value:c,onValueChange:u,children:[o.jsx(Tr,{className:"w-[140px]",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(CJ,{className:"w-4 h-4"}),o.jsx(Mr,{placeholder:"Status"})]})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"all",children:"All Status"}),o.jsx(We,{value:"Available",children:"Available"}),o.jsx(We,{value:"Occupied",children:"Occupied"}),o.jsx(We,{value:"Maintenance",children:"Maintenance"})]})]}),o.jsxs(Ir,{value:d,onValueChange:h,children:[o.jsx(Tr,{className:"w-[180px]",children:o.jsx(Mr,{placeholder:"Department"})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"all",children:"All Departments"}),r==null?void 0:r.map(A=>o.jsx(We,{value:A.id,children:A.name},A.id))]})]})]}),o.jsxs(fs,{open:p,onOpenChange:f,children:[o.jsx(xl,{asChild:!0,children:o.jsxs(ke,{className:"shrink-0",children:[o.jsx(M0,{className:"w-4 h-4 mr-2"}),"Add Bed"]})}),o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Add New Bed"}),o.jsx(Ys,{children:"Enter the details for the new bed unit."})]}),o.jsxs("form",{onSubmit:D,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"bed_number",children:"Bed Number"}),o.jsx(ht,{id:"bed_number",placeholder:"e.g. B-101",value:k.bed_number,onChange:A=>T({...k,bed_number:A.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"room_number",children:"Room Number"}),o.jsx(ht,{id:"room_number",placeholder:"e.g. 101",value:k.room_number,onChange:A=>T({...k,room_number:A.target.value}),required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"department",children:"Department"}),o.jsxs(Ir,{value:k.department_id,onValueChange:A=>T({...k,department_id:A}),children:[o.jsx(Tr,{id:"department",children:o.jsx(Mr,{placeholder:"Select Department"})}),o.jsx(Rr,{children:r==null?void 0:r.map(A=>o.jsx(We,{value:A.id,children:A.name},A.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"type",children:"Bed Type"}),o.jsxs(Ir,{value:k.bed_type,onValueChange:A=>T({...k,bed_type:A}),children:[o.jsx(Tr,{id:"type",children:o.jsx(Mr,{placeholder:"Type"})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"Standard",children:"Standard"}),o.jsx(We,{value:"ICU",children:"ICU"}),o.jsx(We,{value:"Semi-Private",children:"Semi-Private"}),o.jsx(We,{value:"Private",children:"Private"}),o.jsx(We,{value:"VipSuite",children:"VIP Suite"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"status",children:"Initial Status"}),o.jsxs(Ir,{value:k.status,onValueChange:A=>T({...k,status:A}),children:[o.jsx(Tr,{id:"status",children:o.jsx(Mr,{placeholder:"Status"})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"Available",children:"Available"}),o.jsx(We,{value:"Maintenance",children:"Maintenance"})]})]})]})]}),o.jsxs(zm,{children:[o.jsx(ke,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),o.jsx(ke,{type:"submit",children:"Create Bed"})]})]})]})]})]}),t?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(R==null?void 0:R.length)===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-dashed",children:[o.jsx(Cc,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No beds found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or add a new bed."})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:R==null?void 0:R.map(A=>{var M,$;return o.jsxs(jt,{className:"overflow-hidden shadow-sm hover:shadow-md transition-shadow relative group",children:[o.jsx("div",{className:Ie("absolute top-0 left-0 w-1 h-full",G(A.status||"Available"))}),o.jsxs(Wt,{className:"pb-2 pt-4 pl-5 pr-4 flex flex-row items-center justify-between space-y-0",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:A.room_number}),o.jsx(Mt,{className:"text-xl font-bold",children:A.bed_number})]}),o.jsx(Kt,{variant:"outline",className:Ie("capitalize",I(A.status)),children:A.status})]}),o.jsxs(Tt,{className:"pl-5 pr-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Type:"}),o.jsx("span",{className:"font-medium",children:A.bed_type||"Standard"})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("span",{className:"font-medium truncate max-w-[120px]",title:(M=A.departments)==null?void 0:M.name,children:(($=A.departments)==null?void 0:$.name)||"Unassigned"})]}),A.status==="Occupied"&&A.patients&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(ko,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Patient"})]}),o.jsx("p",{className:"font-medium text-sm truncate",children:A.patients.name})]}),o.jsx("div",{className:"pt-2 flex gap-2 justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsxs(nd,{children:[o.jsx(sd,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",className:"h-8 w-8",children:o.jsx(kJ,{className:"w-4 h-4"})})}),o.jsxs(Oc,{align:"end",children:[o.jsxs(hn,{onClick:()=>{g(A),m(!0)},children:[o.jsx(UJ,{className:"w-4 h-4 mr-2"}),"Update Status"]}),o.jsxs(hn,{className:"text-destructive focus:text-destructive",onClick:()=>S(A.id),children:[o.jsx(Pm,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]})]},A.id)})}),o.jsx(Ym,{open:!!b,onOpenChange:A=>!A&&S(null),children:o.jsxs(rf,{children:[o.jsxs(nf,{children:[o.jsx(af,{children:"Delete Bed"}),o.jsx(of,{children:"Are you sure you want to delete this bed? This action cannot be undone."})]}),o.jsxs(sf,{children:[o.jsx(cf,{children:"Cancel"}),o.jsx(lf,{onClick:()=>{b&&(s.mutate(b),S(null))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),o.jsx(fs,{open:v,onOpenChange:m,children:o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Update Bed Status"}),o.jsxs(Ys,{children:["Change the status of the bed ",x==null?void 0:x.bed_number]})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Status"}),o.jsxs(Ir,{defaultValue:(x==null?void 0:x.status)||"Available",onValueChange:A=>{x&&(i.mutate({id:x.id,status:A,patient_id:A==="Available"?null:x.patient_id}),m(!1))},children:[o.jsx(Tr,{children:o.jsx(Mr,{})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"Available",children:"Available"}),o.jsx(We,{value:"Occupied",children:"Occupied"}),o.jsx(We,{value:"Maintenance",children:"Maintenance"})]})]},x==null?void 0:x.id)]}),(x==null?void 0:x.status)==="Occupied"&&o.jsx("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-2 rounded",children:"Note: Changing from Occupied to Available will remove the patient assignment."})]})]})})]})},iy=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:Ie("w-full caption-bottom text-sm",e),...t})}));iy.displayName="Table";const ay=w.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:Ie("[&_tr]:border-b",e),...t}));ay.displayName="TableHeader";const oy=w.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:Ie("[&_tr:last-child]:border-0",e),...t}));oy.displayName="TableBody";const vge=w.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:Ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));vge.displayName="TableFooter";const Ba=w.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:Ie("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ba.displayName="TableRow";const Nn=w.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:Ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Nn.displayName="TableHead";const on=w.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:Ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));on.displayName="TableCell";const yge=w.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:Ie("mt-4 text-sm text-muted-foreground",e),...t}));yge.displayName="TableCaption";const xge=()=>{const e=Mn(),[t,r]=w.useState(""),[n,s]=w.useState("all"),{data:i=[],isLoading:a}=Cn({queryKey:["callback-requests",n],queryFn:async()=>await Hs.get("/api/callbacks")});w.useEffect(()=>{const h=setInterval(()=>{e.invalidateQueries({queryKey:["callback-requests"]})},3e4);return()=>clearInterval(h)},[e]);const l=Xr({mutationFn:async({id:h,status:p})=>{await Hs.post(`/api/callbacks/${h}/status`,{status:p})},onSuccess:()=>{qe.success("Callback status updated"),e.invalidateQueries({queryKey:["callback-requests"]}),e.invalidateQueries({queryKey:["pending-callbacks-count"]})},onError:()=>{qe.error("Failed to update status")}}),c=async h=>{const p="7c79ca4b-8762-4744-867b-05255472b9ef",f="84af6220-9e4b-473a-a98f-84da5694ce2d",v=qe.loading("Initiating AI Call...");let m=h.phone.trim().replace(/\s+/g,"");m.startsWith("+")||(m.length===10?m="+91"+m:m.startsWith("91")&&m.length===12&&(m="+"+m)),console.log("Calling Vapi with transient assistant for:",m);try{const g=await fetch("/api/vapi/call",{method:"POST",headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"},body:JSON.stringify({phoneNumberId:f,customer:{number:m,name:h.name},assistant:{name:"Maya Callback Agent",firstMessage:`Hello, I am Maya from Star Hospital. Am I speaking with ${h.name}?`,transcriber:{provider:"deepgram",model:"nova-2",language:"en-IN"},voice:{provider:"11labs",voiceId:"21m00Tcm4TlvDq8ikWAM",stability:.5,similarityBoost:.75},model:{provider:"openai",model:"gpt-4o-mini",messages:[{role:"system",content:`You are Maya, a friendly and professional receptionist for Star Hospital.
                  You are calling to follow up on a callback request from a patient.
                  
                  Patient Name: ${h.name}
                  
                  Instructions:
                  1. You've already introduced yourself in the first message.
                  2. Ask how you can help the patient.
                  3. Be polite, warm, and concise in your responses.
                  4. Always maintain a professional yet friendly tone.
                  5. If they have medical questions, offer to book an appointment with a doctor.
                  `}]}}})});if(console.log("Vapi status:",g.status),g.ok){const b=await g.json();console.log("Vapi Success:",b),qe.success("AI Call Initiated! Maya should speak shortly.",{id:v})}else{const b=await g.text();console.error("Vapi Error body:",b);try{const S=JSON.parse(b);qe.error(`Error: ${S.message||g.statusText}`,{id:v})}catch{qe.error(`Error (Status: ${g.status})`,{id:v})}}}catch(x){console.error("Call Error:",x),qe.error(`Network error: ${x.message}`,{id:v})}},u=i.filter(h=>h.name.toLowerCase().includes(t.toLowerCase())||h.phone.includes(t)),d=h=>{switch(h){case"pending":return o.jsxs(Kt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[o.jsx(xa,{className:"h-3 w-3 mr-1"}),"Pending"]});case"completed":return o.jsxs(Kt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[o.jsx(Ec,{className:"h-3 w-3 mr-1"}),"Completed"]});case"cancelled":return o.jsxs(Kt,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[o.jsx(tm,{className:"h-3 w-3 mr-1"}),"Cancelled"]});default:return o.jsx(Kt,{variant:"secondary",children:h})}};return o.jsx(In,{title:"Callback Requests",subtitle:"Manage patient callback requests",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(jt,{children:o.jsx(Tt,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search by name or phone...",value:t,onChange:h=>r(h.target.value),className:"pl-9"})]}),o.jsxs(Ir,{value:n,onValueChange:s,children:[o.jsx(Tr,{className:"w-full md:w-48",children:o.jsx(Mr,{placeholder:"Filter by status"})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"all",children:"All Status"}),o.jsx(We,{value:"pending",children:"Pending"}),o.jsx(We,{value:"completed",children:"Completed"}),o.jsx(We,{value:"cancelled",children:"Cancelled"})]})]})]})})}),o.jsxs(jt,{children:[o.jsx(Wt,{children:o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(Xh,{className:"h-5 w-5"}),"Callback Requests (",u.length,")"]})}),o.jsx(Tt,{children:a?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):u.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Va,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No callback requests found"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(iy,{children:[o.jsx(ay,{children:o.jsxs(Ba,{children:[o.jsx(Nn,{children:"Name"}),o.jsx(Nn,{children:"Phone"}),o.jsx(Nn,{children:"Preferred Time"}),o.jsx(Nn,{children:"Reason"}),o.jsx(Nn,{children:"Requested"}),o.jsx(Nn,{children:"Status"}),o.jsx(Nn,{children:"Actions"})]})}),o.jsx(oy,{children:u.map(h=>o.jsxs(Ba,{children:[o.jsx(on,{className:"font-medium",children:h.name}),o.jsx(on,{children:o.jsxs("a",{href:`tel:${h.phone}`,className:"text-primary hover:underline flex items-center gap-1",children:[o.jsx(Va,{className:"h-3 w-3"}),h.phone]})}),o.jsx(on,{children:h.preferred_time||"Anytime"}),o.jsx(on,{className:"max-w-[200px] truncate",children:h.reason||"-"}),o.jsx(on,{children:gn(new Date(h.created_at),"MMM d, yyyy h:mm a")}),o.jsx(on,{children:d(h.status)}),o.jsx(on,{children:o.jsxs("div",{className:"flex gap-2",children:[h.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsxs(ke,{size:"sm",variant:"outline",className:"text-blue-600 hover:bg-blue-50",onClick:()=>window.location.href=`tel:${h.phone}`,children:[o.jsx(Va,{className:"h-4 w-4 mr-1"})," Call"]}),o.jsxs(ke,{size:"sm",variant:"outline",className:"text-purple-600 hover:bg-purple-50 border-purple-200",onClick:()=>c(h),children:[o.jsx(vh,{className:"h-4 w-4 mr-1"})," AI Call"]}),o.jsx(ke,{size:"sm",variant:"outline",className:"text-green-600 hover:bg-green-50",onClick:()=>l.mutate({id:h.id,status:"completed"}),children:"Complete"}),o.jsx(ke,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>l.mutate({id:h.id,status:"cancelled"}),children:"Cancel"})]}),h.status!=="pending"&&o.jsx(ke,{size:"sm",variant:"outline",onClick:()=>l.mutate({id:h.id,status:"pending"}),children:"Reopen"})]})})]},h.id))})]})})})]})]})})},wge=()=>{const{data:e,isLoading:t}=Hm(),{data:r,isLoading:n}=Gm(),{data:s,isLoading:i}=l2(),{data:a,isLoading:l}=gd(),c=t||n||i||l,u=[{title:"Patient Reports",description:"Patient demographics, admissions, and treatment history",icon:Wa,color:"bg-primary/10 text-primary",stats:`${(e==null?void 0:e.length)||0} total patients`,reports:["Patient Demographics","Admission History","Treatment Summary","Discharge Reports"]},{title:"Appointment Reports",description:"Appointment scheduling and status tracking",icon:xh,color:"bg-info/10 text-info",stats:`${(s==null?void 0:s.length)||0} appointments`,reports:["Daily Schedule","Appointment Status","No-show Analysis","Wait Time Report"]},{title:"Department Reports",description:"Department-wise performance and resource utilization",icon:Sl,color:"bg-success/10 text-success",stats:`${(a==null?void 0:a.length)||0} departments`,reports:["Department Overview","Bed Occupancy","Staff Distribution","Resource Usage"]},{title:"Staff Reports",description:"Doctor and staff performance metrics",icon:hw,color:"bg-warning/10 text-warning",stats:`${(r==null?void 0:r.length)||0} doctors`,reports:["Doctor Performance","Staff Attendance","Workload Analysis","Shift Reports"]}],d=[{label:"Total Patients",value:(e==null?void 0:e.length)||0,icon:Wa,trend:"+12%"},{label:"Active Appointments",value:(s==null?void 0:s.filter(h=>h.status==="scheduled").length)||0,icon:xh,trend:"+5%"},{label:"Available Doctors",value:(r==null?void 0:r.filter(h=>h.available).length)||0,icon:Sl,trend:"0%"},{label:"Departments",value:(a==null?void 0:a.length)||0,icon:V_,trend:"+2"}];return c?o.jsx(In,{title:"Reports",subtitle:"Hospital analytics and reports",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ac,{className:"w-8 h-8 animate-spin text-primary"})})}):o.jsxs(In,{title:"Reports",subtitle:"Hospital analytics and reports",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:d.map((h,p)=>o.jsx(jt,{className:"card-shadow",children:o.jsx(Tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:h.label}),o.jsx("p",{className:"text-2xl font-bold",children:h.value})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsx(h.icon,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs(Kt,{variant:"outline",className:"text-xs text-success",children:[o.jsx(FC,{className:"w-3 h-3 mr-1"}),h.trend]})]})]})})},p))}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map((h,p)=>o.jsxs(jt,{className:"card-shadow hover:shadow-elevated transition-all duration-300",children:[o.jsxs(Wt,{children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("div",{className:`p-3 rounded-xl ${h.color}`,children:o.jsx(h.icon,{className:"w-6 h-6"})}),o.jsx(Kt,{variant:"secondary",children:h.stats})]}),o.jsx(Mt,{className:"text-lg mt-3",children:h.title}),o.jsx(Ar,{children:h.description})]}),o.jsx(Tt,{children:o.jsx("div",{className:"space-y-2",children:h.reports.map((f,v)=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer group",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(za,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm",children:f})]}),o.jsxs(ke,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(GD,{className:"w-4 h-4 mr-1"}),"Export"]})]},v))})})]},p))}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(jt,{className:"card-shadow",children:[o.jsx(Wt,{children:o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(V_,{className:"w-5 h-5"}),"Monthly Admissions Trend"]})}),o.jsx(Tt,{children:o.jsx("div",{className:"h-48 flex items-center justify-center text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsx(V_,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"Analytics visualization coming soon"})]})})})]}),o.jsxs(jt,{className:"card-shadow",children:[o.jsx(Wt,{children:o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(ZP,{className:"w-5 h-5"}),"Department Distribution"]})}),o.jsx(Tt,{children:o.jsx("div",{className:"h-48 flex items-center justify-center text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ZP,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"Analytics visualization coming soon"})]})})})]})]})]})},bge=()=>{const e=Pl();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},_ge=()=>{var x;const{user:e}=ui(),[t,r]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(!1),[l,c]=w.useState(null),[u,d]=w.useState(!1),[h,p]=w.useState("");w.useEffect(()=>{var g,b;e&&(r(((g=e.user_metadata)==null?void 0:g.full_name)||""),s(((b=e.user_metadata)==null?void 0:b.avatar_url)||""),f())},[e]);const f=async()=>{if(!e)return;const{data:g}=await Qe.from("user_roles").select("role").eq("user_id",e.id).maybeSingle();g&&c(g.role)},v=async()=>{if(e){if(l==="receptionist"){p("update profile settings"),d(!0);return}a(!0);try{const{error:g}=await Qe.auth.updateUser({data:{full_name:t,avatar_url:n}});if(g)throw g;qe.success("Profile updated successfully!")}catch(g){qe.error(g.message||"Failed to update profile")}finally{a(!1)}}},m=()=>{if(l==="receptionist"){p("change account password"),d(!0);return}qe.info("Password update feature coming soon")};return o.jsxs(In,{title:"Settings",subtitle:"Manage your account settings and preferences.",children:[o.jsxs(yd,{defaultValue:"account",className:"w-full space-y-6",children:[o.jsxs($c,{children:[o.jsx(pn,{value:"account",children:"Account"}),o.jsx(pn,{value:"notifications",children:"Notifications"}),o.jsx(pn,{value:"appearance",children:"Appearance"}),o.jsx(pn,{value:"security",children:"Security"})]}),o.jsx(mn,{value:"account",children:o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsx(Mt,{children:"Account Information"}),o.jsx(Ar,{children:"Update your personal details here."})]}),o.jsxs(Tt,{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col items-center gap-4 sm:flex-row",children:[o.jsxs("div",{className:"relative group",children:[o.jsxs(Io,{className:"w-24 h-24 border-2 border-border cursor-pointer",children:[o.jsx(n2,{src:n}),o.jsx(Mo,{className:"text-2xl",children:(t==null?void 0:t.charAt(0))||((x=e==null?void 0:e.email)==null?void 0:x.charAt(0))||"U"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity rounded-full cursor-pointer",children:o.jsx(xJ,{className:"w-8 h-8 text-white"})}),o.jsx(ht,{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:g=>{var S;const b=(S=g.target.files)==null?void 0:S[0];if(b){const k=URL.createObjectURL(b);s(k),qe.info("Image selected. Click 'Save Changes' to update.")}},disabled:l==="receptionist"})]}),o.jsxs("div",{className:"space-y-1 text-center sm:text-left",children:[o.jsx("h4",{className:"font-medium",children:"Profile Photo"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on the image to upload a new photo."})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email"}),o.jsx(ht,{id:"email",defaultValue:(e==null?void 0:e.email)||"",disabled:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"name",children:"Display Name"}),o.jsx(ht,{id:"name",placeholder:"Your name",value:t,onChange:g=>r(g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"avatar-url",children:"Avatar URL (Optional)"}),o.jsx(ht,{id:"avatar-url",placeholder:"https://example.com/avatar.png",value:n,onChange:g=>s(g.target.value)})]})]}),o.jsx(Nl,{children:o.jsx(ke,{onClick:v,disabled:i,children:i?"Saving...":"Save Changes"})})]})}),o.jsx(mn,{value:"notifications",children:o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsx(Mt,{children:"Notifications"}),o.jsx(Ar,{children:"Choose what you want to be notified about."})]}),o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(lt,{htmlFor:"email-notifs",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:"Email Notifications"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Receive emails about your account activity."})]}),o.jsx(Np,{id:"email-notifs"})]}),o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(lt,{htmlFor:"push-notifs",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:"Push Notifications"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Receive push notifications on your device."})]}),o.jsx(Np,{id:"push-notifs"})]})]})]})}),o.jsx(mn,{value:"appearance",children:o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsx(Mt,{children:"Appearance"}),o.jsx(Ar,{children:"Customize the look and feel of the application."})]}),o.jsx(Tt,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(lt,{htmlFor:"dark-mode",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:"Dark Mode"}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:"Toggle dark mode on or off."})]}),o.jsx(Np,{id:"dark-mode"})]})})]})}),o.jsx(mn,{value:"security",children:o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsx(Mt,{children:"Security"}),o.jsx(Ar,{children:"Manage your password and security settings."})]}),o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"current-password",children:"Current Password"}),o.jsx(ht,{id:"current-password",type:"password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"new-password",children:"New Password"}),o.jsx(ht,{id:"new-password",type:"password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"confirm-password",children:"Confirm Password"}),o.jsx(ht,{id:"confirm-password",type:"password"})]})]}),o.jsx(Nl,{children:o.jsx(ke,{onClick:m,children:"Update Password"})})]})})]}),o.jsx(Mq,{open:u,onOpenChange:d,action:h})]})},Sge=()=>{const e=Js();return o.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center relative overflow-hidden bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:[o.jsx("div",{className:"absolute inset-0 w-full h-full bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5980?auto=format&fit=crop&q=80')] bg-cover bg-center opacity-10"}),o.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-yellow-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"}),o.jsxs("div",{className:"relative z-10 text-center px-4 max-w-2xl mx-auto",children:[o.jsx("div",{className:"mb-8 flex justify-center",children:o.jsx("div",{className:"p-4 bg-white/10 backdrop-blur-md rounded-full border border-white/20 shadow-xl animate-bounce",children:o.jsx(FJ,{className:"w-12 h-12 text-yellow-400"})})}),o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-200 to-pink-200 tracking-tight",children:"Coming Soon"}),o.jsx("p",{className:"text-xl md:text-2xl text-blue-100/80 mb-8 leading-relaxed",children:"We are currently working on our social media presence. Something amazing is in the works!"}),o.jsxs(ke,{onClick:()=>e("/"),size:"lg",className:"bg-white text-purple-900 hover:bg-blue-50 font-semibold px-8 py-6 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 group",children:[o.jsx(Zh,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Home"]})]}),o.jsx("div",{className:"absolute bottom-8 text-sm text-white/40",children:" 2026 Medicare Hospital. Stay Tuned."})]})},jge=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,l]=w.useState(!1),{signIn:c}=ui(),u=Js(),d=async h=>{if(h.preventDefault(),!e.trim()||!r.trim()){qe.error("Please fill in all fields");return}l(!0);const{error:p}=await c(e,r);if(p){l(!1),qe.error(p.message||"Failed to sign in");return}l(!1),qe.success("Welcome back!"),u("/patient/dashboard")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md",children:[o.jsxs(Wt,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-primary mb-4 justify-center",children:[o.jsx(Zh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(OC,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:"MediCare"})]}),o.jsx(Mt,{className:"text-2xl",children:"Patient Sign In"}),o.jsx(Ar,{children:"Access your patient portal"})]}),o.jsxs("form",{onSubmit:d,children:[o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:h=>t(h.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ht,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),required:!0,autoComplete:"current-password",className:"pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(Eb,{className:"h-4 w-4"}):o.jsx(Ab,{className:"h-4 w-4"})})]})]})]}),o.jsxs(Nl,{className:"flex flex-col gap-4",children:[o.jsx(ke,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Don't have an account?"," ",o.jsx(Hr,{to:"/patient/register",className:"text-primary hover:underline",children:"Register here"})]})]})]})]})})},Nge=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(""),[a,l]=w.useState(""),[c,u]=w.useState(""),[d,h]=w.useState(!1),{signUp:p}=ui(),f=Js(),v=async m=>{if(m.preventDefault(),!e.trim()||!r.trim()||!a.trim()){qe.error("Please fill in all required fields");return}if(a!==c){qe.error("Passwords do not match");return}if(a.length<6){qe.error("Password must be at least 6 characters");return}h(!0);const{error:x}=await p(r,a,e,"patient");if(x){h(!1),qe.error(x.message||"Failed to register");return}h(!1),qe.success("Account created successfully!"),f("/patient/dashboard")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md",children:[o.jsxs(Wt,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-primary mb-4 justify-center",children:[o.jsx(Zh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(OC,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:"MediCare"})]}),o.jsx(Mt,{className:"text-2xl",children:"Create Patient Account"}),o.jsx(Ar,{children:"Register to book appointments and access patient services"})]}),o.jsxs("form",{onSubmit:v,children:[o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"fullName",children:"Full Name *"}),o.jsx(ht,{id:"fullName",type:"text",placeholder:"Enter your full name",value:e,onChange:m=>t(m.target.value),required:!0,autoComplete:"name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email *"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:m=>n(m.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"phone",children:"Phone Number"}),o.jsx(ht,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:s,onChange:m=>i(m.target.value),autoComplete:"tel"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password *"}),o.jsx(ht,{id:"password",type:"password",placeholder:"Create a password (min 6 characters)",value:a,onChange:m=>l(m.target.value),required:!0,autoComplete:"new-password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"confirmPassword",children:"Confirm Password *"}),o.jsx(ht,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:c,onChange:m=>u(m.target.value),required:!0,autoComplete:"new-password"})]})]}),o.jsxs(Nl,{className:"flex flex-col gap-4",children:[o.jsx(ke,{type:"submit",className:"w-full",disabled:d,children:d?"Creating account...":"Create Account"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Already have an account?"," ",o.jsx(Hr,{to:"/patient/login",className:"text-primary hover:underline",children:"Sign in here"})]})]})]})]})})};var Dq={};function gR(e,t){if(e==null)return{};var r,n,s=function(a,l){if(a==null)return{};var c={};for(var u in a)if({}.hasOwnProperty.call(a,u)){if(l.indexOf(u)!==-1)continue;c[u]=a[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cr(e){return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(e)}function Fq(e){var t=function(r,n){if(Cr(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,n||"default");if(Cr(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(e,"string");return Cr(t)=="symbol"?t:t+""}function vR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fq(n.key),n)}}function ka(e,t,r){return t&&vR(e.prototype,t),r&&vR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x2(e,t){if(t&&(Cr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function $o(e){return $o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$o(e)}function f0(e,t){return f0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},f0(e,t)}function w2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f0(e,t)}function ll(e,t,r){return(t=Fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yR(e,t,r,n,s,i,a){try{var l=e[i](a),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,s)}function Bt(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function a(c){yR(i,n,s,a,l,"next",c)}function l(c){yR(i,n,s,a,l,"throw",c)}a(void 0)})}}function xR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function oi(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var i,a,l,c,u=[],d=!0,h=!1;try{if(l=(s=s.call(r)).next,n===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=l.call(s)).done)&&(u.push(i.value),u.length!==n);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}(e,t)||function(r,n){if(r){if(typeof r=="string")return xR(r,n);var s={}.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?xR(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kge(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wR,I1={exports:{}},LN=function(){if(wR)return I1.exports;wR=1;var e,t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(m,x,g){return Function.prototype.apply.call(m,x,g)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var n=Number.isNaN||function(m){return m!=m};function s(){s.init.call(this)}I1.exports=s,I1.exports.once=function(m,x){return new Promise(function(g,b){function S(T){m.removeListener(x,k),b(T)}function k(){typeof m.removeListener=="function"&&m.removeListener("error",S),g([].slice.call(arguments))}v(m,x,k,{once:!0}),x!=="error"&&function(T,R,O){typeof T.on=="function"&&v(T,"error",R,O)}(m,S,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function a(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function l(m){return m._maxListeners===void 0?s.defaultMaxListeners:m._maxListeners}function c(m,x,g,b){var S,k,T,R;if(a(g),(k=m._events)===void 0?(k=m._events=Object.create(null),m._eventsCount=0):(k.newListener!==void 0&&(m.emit("newListener",x,g.listener?g.listener:g),k=m._events),T=k[x]),T===void 0)T=k[x]=g,++m._eventsCount;else if(typeof T=="function"?T=k[x]=b?[g,T]:[T,g]:b?T.unshift(g):T.push(g),(S=l(m))>0&&T.length>S&&!T.warned){T.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=m,O.type=x,O.count=T.length,R=O,console&&console.warn&&console.warn(R)}return m}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(m,x,g){var b={fired:!1,wrapFn:void 0,target:m,type:x,listener:g},S=u.bind(b);return S.listener=g,b.wrapFn=S,S}function h(m,x,g){var b=m._events;if(b===void 0)return[];var S=b[x];return S===void 0?[]:typeof S=="function"?g?[S.listener||S]:[S]:g?function(k){for(var T=new Array(k.length),R=0;R<T.length;++R)T[R]=k[R].listener||k[R];return T}(S):f(S,S.length)}function p(m){var x=this._events;if(x!==void 0){var g=x[m];if(typeof g=="function")return 1;if(g!==void 0)return g.length}return 0}function f(m,x){for(var g=new Array(x),b=0;b<x;++b)g[b]=m[b];return g}function v(m,x,g,b){if(typeof m.on=="function")b.once?m.once(x,g):m.on(x,g);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(x,function S(k){b.once&&m.removeEventListener(x,S),g(k)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");i=m}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(m){for(var x=[],g=1;g<arguments.length;g++)x.push(arguments[g]);var b=m==="error",S=this._events;if(S!==void 0)b=b&&S.error===void 0;else if(!b)return!1;if(b){var k;if(x.length>0&&(k=x[0]),k instanceof Error)throw k;var T=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw T.context=k,T}var R=S[m];if(R===void 0)return!1;if(typeof R=="function")r(R,this,x);else{var O=R.length,D=f(R,O);for(g=0;g<O;++g)r(D[g],this,x)}return!0},s.prototype.addListener=function(m,x){return c(this,m,x,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(m,x){return c(this,m,x,!0)},s.prototype.once=function(m,x){return a(x),this.on(m,d(this,m,x)),this},s.prototype.prependOnceListener=function(m,x){return a(x),this.prependListener(m,d(this,m,x)),this},s.prototype.removeListener=function(m,x){var g,b,S,k,T;if(a(x),(b=this._events)===void 0)return this;if((g=b[m])===void 0)return this;if(g===x||g.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete b[m],b.removeListener&&this.emit("removeListener",m,g.listener||x));else if(typeof g!="function"){for(S=-1,k=g.length-1;k>=0;k--)if(g[k]===x||g[k].listener===x){T=g[k].listener,S=k;break}if(S<0)return this;S===0?g.shift():function(R,O){for(;O+1<R.length;O++)R[O]=R[O+1];R.pop()}(g,S),g.length===1&&(b[m]=g[0]),b.removeListener!==void 0&&this.emit("removeListener",m,T||x)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(m){var x,g,b;if((g=this._events)===void 0)return this;if(g.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):g[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete g[m]),this;if(arguments.length===0){var S,k=Object.keys(g);for(b=0;b<k.length;++b)(S=k[b])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=g[m])=="function")this.removeListener(m,x);else if(x!==void 0)for(b=x.length-1;b>=0;b--)this.removeListener(m,x[b]);return this},s.prototype.listeners=function(m){return h(this,m,!0)},s.prototype.rawListeners=function(m){return h(this,m,!1)},s.listenerCount=function(m,x){return typeof m.listenerCount=="function"?m.listenerCount(x):p.call(m,x)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},I1.exports}(),M1=kge(LN),bR=Object.prototype.hasOwnProperty;function _R(e,t,r){for(r of e.keys())if(Si(r,t))return r}function Si(e,t){var r,n,s;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Si(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if((s=n)&&typeof s=="object"&&!(s=_R(t,s))||!t.has(s))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if((s=n[0])&&typeof s=="object"&&!(s=_R(t,s))||!Si(n[1],t.get(s)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){for(r in n=0,e)if(bR.call(e,r)&&++n&&!bR.call(t,r)||!(r in t)||!Si(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!=e&&t!=t}const Cge={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},$q={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Qn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},gi={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},du={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};let Be=class Yf{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const s=Yf.getVersionPrecision(t),i=Yf.getVersionPrecision(r);let a=Math.max(s,i),l=0;const c=Yf.map([t,r],u=>{const d=a-Yf.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return Yf.map(h.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(n&&(l=a-Math.min(s,i)),a-=1;a>=l;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===l)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}}static map(t,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(s=0;s<t.length;s+=1)n.push(r(t[s]));return n}static find(t,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,s=t.length;n<s;n+=1){const i=t[n];if(r(i,n))return i}}static assign(t,...r){const n=t;let s,i;if(Object.assign)return Object.assign(t,...r);for(s=0,i=r.length;s<i;s+=1){const a=r[s];typeof a=="object"&&a!==null&&Object.keys(a).forEach(l=>{n[l]=a[l]})}return t}static getBrowserAlias(t){return Cge[t]}static getBrowserTypeByAlias(t){return $q[t]||""}};const nn=/version\/(\d+(\.?_?\d+)+)/i,Ege=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=Be.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=Be.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=Be.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=Be.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=Be.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=Be.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=Be.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=Be.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=Be.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=Be.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=Be.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=Be.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=Be.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=Be.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=Be.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=Be.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=Be.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=Be.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=Be.getFirstMatch(nn,e)||Be.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=Be.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=Be.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=Be.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=Be.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=Be.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=Be.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=Be.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=Be.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=Be.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=Be.getFirstMatch(nn,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:Be.getFirstMatch(t,e),version:Be.getSecondMatch(t,e)}}}];var Age=[{test:[/Roku\/DVP/],describe(e){const t=Be.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:gi.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=Be.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:gi.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=Be.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=Be.getWindowsVersionName(t);return{name:gi.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:gi.iOS},r=Be.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=Be.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=Be.getMacOSVersionName(t),n={name:gi.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=Be.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:gi.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=Be.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=Be.getAndroidVersionName(t),n={name:gi.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=Be.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:gi.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=Be.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||Be.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||Be.getFirstMatch(/\bbb(\d+)/i,e);return{name:gi.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=Be.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:gi.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=Be.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:gi.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:gi.Linux})},{test:[/CrOS/],describe:()=>({name:gi.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=Be.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:gi.PlayStation4,version:t}}}],Pge=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=Be.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:Qn.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Qn.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Qn.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Qn.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Qn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Qn.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Qn.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=Be.getFirstMatch(/(ipod|iphone)/i,e);return{type:Qn.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Qn.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Qn.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:Qn.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:Qn.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:Qn.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:Qn.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:Qn.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:Qn.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:Qn.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:Qn.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:Qn.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:Qn.tv})}],Tge=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:du.Blink};const t=Be.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:du.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:du.Trident},r=Be.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:du.Presto},r=Be.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:du.Gecko},r=Be.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:du.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:du.WebKit},r=Be.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];let SR=class{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=Be.find(Ege,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=Be.find(Age,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=Be.find(Pge,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=Be.find(Tge,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Be.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const s={};let i=0;if(Object.keys(t).forEach(a=>{const l=t[a];typeof l=="string"?(s[a]=l,i+=1):typeof l=="object"&&(r[a]=l,n+=1)}),n>0){const a=Object.keys(r),l=Be.find(a,u=>this.isOS(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}const c=Be.find(a,u=>this.isPlatform(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}}if(i>0){const a=Object.keys(s),l=Be.find(a,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(s[l])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=Be.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(t){let r=[0],n=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(s=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(s=!0,n=t.substr(1)),r.indexOf(Be.compareVersions(i,n,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */let Rge=class{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new SR(t,r)}static parse(t){return new SR(t).getResult()}static get BROWSER_MAP(){return $q}static get ENGINE_MAP(){return du}static get OS_MAP(){return gi}static get PLATFORMS_MAP(){return Qn}};function b2(){return Date.now()+Math.random().toString()}function zg(){throw new Error("Method must be implemented in subclass")}function Bq(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function Hw(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:Bq("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Gw(e){try{new URL(e)}catch{return!1}return!0}const dn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,wh="8.55.0",Dr=globalThis;function Yw(e,t,r){const n=Dr,s=n.__SENTRY__=n.__SENTRY__||{},i=s[wh]=s[wh]||{};return i[e]||(i[e]=t())}const uf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,IN=["debug","info","warn","error","log","assert","trace"],Kw={};function ly(e){if(!("console"in Dr))return e();const t=Dr.console,r={},n=Object.keys(Kw);n.forEach(s=>{const i=Kw[s];r[s]=t[s],t[s]=i});try{return e()}finally{n.forEach(s=>{t[s]=r[s]})}}const Qt=Yw("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return uf?IN.forEach(r=>{t[r]=(...n)=>{e&&ly(()=>{Dr.console[r](`Sentry Logger [${r}]:`,...n)})}}):IN.forEach(r=>{t[r]=()=>{}}),t}),rh="?",jR=/\(error: (.*)\)/,NR=/captureMessage|captureException/;function D1(e){return e[e.length-1]||{}}const kR="<anonymous>";function od(e){try{return e&&typeof e=="function"&&e.name||kR}catch{return kR}}function CR(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const Ax={},ER={};function bh(e,t){Ax[e]=Ax[e]||[],Ax[e].push(t)}function _h(e,t){if(!ER[e]){ER[e]=!0;try{t()}catch(r){uf&&Qt.error(`Error while instrumenting ${e}`,r)}}}function To(e,t){const r=e&&Ax[e];if(r)for(const n of r)try{n(t)}catch(s){uf&&Qt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${od(n)}
Error:`,s)}}let T5=null;function Oge(){T5=Dr.onerror,Dr.onerror=function(e,t,r,n,s){return To("error",{column:n,error:s,line:r,msg:e,url:t}),!!T5&&T5.apply(this,arguments)},Dr.onerror.__SENTRY_INSTRUMENTED__=!0}let R5=null;function Lge(){R5=Dr.onunhandledrejection,Dr.onunhandledrejection=function(e){return To("unhandledrejection",e),!R5||R5.apply(this,arguments)},Dr.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function _2(){return _A(Dr),Dr}function _A(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||wh,t[wh]=t[wh]||{}}const Uq=Object.prototype.toString;function SA(e){switch(Uq.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Uh(e,Error)}}function Km(e,t){return Uq.call(e)===`[object ${t}]`}function qq(e){return Km(e,"ErrorEvent")}function AR(e){return Km(e,"DOMError")}function pc(e){return Km(e,"String")}function jA(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function MN(e){return e===null||jA(e)||typeof e!="object"&&typeof e!="function"}function gm(e){return Km(e,"Object")}function S2(e){return typeof Event<"u"&&Uh(e,Event)}function j2(e){return!!(e&&e.then&&typeof e.then=="function")}function Uh(e,t){try{return e instanceof t}catch{return!1}}function zq(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const NA=Dr;function Vq(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,s=[];let i=0,a=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&i++<n&&(u=Ige(r,d),!(u==="html"||i>1&&a+s.length*c+u.length>=h));)s.push(u),a+=u.length,r=r.parentNode;return s.reverse().join(l)}catch{return"<unknown>"}}function Ige(e,t){const r=e,n=[];if(!r||!r.tagName)return"";if(NA.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const s=t&&t.length?t.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(s&&s.length)s.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const a=r.className;if(a&&pc(a)){const l=a.split(/\s+/);for(const c of l)n.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const a of i){const l=r.getAttribute(a);l&&n.push(`[${a}="${l}"]`)}return n.join("")}function kp(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function PR(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const s=e[n];try{zq(s)?r.push("[VueViewModel]"):r.push(String(s))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function Mge(e,t,r=!1){return!!pc(e)&&(Km(t,"RegExp")?t.test(e):!!pc(t)&&(r?e===t:e.includes(t)))}function F1(e,t=[],r=!1){return t.some(n=>Mge(e,n,r))}function ha(e,t,r){if(!(t in e))return;const n=e[t],s=r(n);typeof s=="function"&&Wq(s,n);try{e[t]=s}catch{uf&&Qt.log(`Failed to replace method "${t}" in object`,e)}}function qh(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{uf&&Qt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Wq(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,qh(e,"__sentry_original__",t)}catch{}}function kA(e){return e.__sentry_original__}function Hq(e){if(SA(e))return{message:e.message,name:e.name,stack:e.stack,...RR(e)};if(S2(e)){const t={type:e.type,target:TR(e.target),currentTarget:TR(e.currentTarget),...RR(e)};return typeof CustomEvent<"u"&&Uh(e,CustomEvent)&&(t.detail=e.detail),t}return e}function TR(e){try{return t=e,typeof Element<"u"&&Uh(t,Element)?Vq(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function RR(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function Ua(e){return DN(e,new Map)}function DN(e,t){if(function(r){if(!gm(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const s of Object.getOwnPropertyNames(e))e[s]!==void 0&&(n[s]=DN(e[s],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(s=>{n.push(DN(s,t))}),n}return e}function cy(){return Date.now()/1e3}const wc=function(){const{performance:e}=Dr;if(!e||!e.now)return cy;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function Ga(){const e=Dr,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function Gq(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function vu(e){const{message:t,event_id:r}=e;if(t)return t;const n=Gq(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function FN(e,t,r){const n=e.exception=e.exception||{},s=n.values=n.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function vm(e,t){const r=Gq(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const s={...n&&n.data,...t.data};r.mechanism.data=s}}function OR(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{qh(e,"__sentry_captured__",!0)}catch{}return!1}var nc;function zh(e){return new uy(t=>{t(e)})}function Jw(e){return new uy((t,r)=>{r(e)})}(()=>{const{performance:e}=Dr;if(!e||!e.now)return;const t=36e5,r=e.now(),n=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,i=s<t,a=e.timing&&e.timing.navigationStart,l=typeof a=="number"?Math.abs(a+r-n):t;(i||l<t)&&s<=l&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(nc||(nc={}));let uy=class Hd{constructor(t){Hd.prototype.__init.call(this),Hd.prototype.__init2.call(this),Hd.prototype.__init3.call(this),Hd.prototype.__init4.call(this),this._state=nc.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new Hd((n,s)=>{this._handlers.push([!1,i=>{if(t)try{n(t(i))}catch(a){s(a)}else n(i)},i=>{if(r)try{n(r(i))}catch(a){s(a)}else s(i)}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Hd((r,n)=>{let s,i;return this.then(a=>{i=!1,s=a,t&&t()},a=>{i=!0,s=a,t&&t()}).then(()=>{i?n(s):r(s)})})}__init(){this._resolve=t=>{this._setResult(nc.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(nc.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{this._state===nc.PENDING&&(j2(r)?r.then(this._resolve,this._reject):(this._state=t,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===nc.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===nc.RESOLVED&&r[1](this._value),this._state===nc.REJECTED&&r[2](this._value),r[0]=!0)})}}};function Dge(e){const t=wc(),r={sid:Ga(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(n){return Ua({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(r)};return e&&ym(r,e),r}function ym(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||wc(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ga()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function LR(){return Ga()}function $N(){return Ga().substring(16)}function N2(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const n={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=N2(n[s],t[s],r-1));return n}const BN="_sentrySpan";function IR(e,t){t?qh(e,BN,t):delete e[BN]}function MR(e){return e[BN]}let Fge=class Yq{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:LR(),spanId:$N()}}clone(){const t=new Yq;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,IR(t,MR(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ym(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,[n,s]=r instanceof ld?[r.getScopeData(),r.getRequestSession()]:gm(r)?[t,t.requestSession]:[],{tags:i,extra:a,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:h}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...a},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,IR(this,void 0),this._attachments=[],this.setPropagationContext({traceId:LR()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const s={timestamp:cy(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:MR(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=N2(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:$N(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:Ga();if(!this._client)return Qt.warn("No client configured on scope - will not capture exception!"),n;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...r,event_id:n},this),n}captureMessage(t,r,n){const s=n&&n.event_id?n.event_id:Ga();if(!this._client)return Qt.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:s},this),s}captureEvent(t,r){const n=r&&r.event_id?r.event_id:Ga();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(Qt.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};const ld=Fge;let $ge=class{constructor(t,r){let n,s;n=t||new ld,s=r||new ld,this._stack=[{scope:n}],this._isolationScope=s}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(s){throw this._popScope(),s}return j2(n)?n.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}};function xm(){const e=_A(_2());return e.stack=e.stack||new $ge(Yw("defaultCurrentScope",()=>new ld),Yw("defaultIsolationScope",()=>new ld))}function Bge(e){return xm().withScope(e)}function Uge(e,t){const r=xm();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function DR(e){return xm().withScope(()=>e(xm().getIsolationScope()))}function CA(e){const t=_A(e);return t.acs?t.acs:{withIsolationScope:DR,withScope:Bge,withSetScope:Uge,withSetIsolationScope:(r,n)=>DR(n),getCurrentScope:()=>xm().getScope(),getIsolationScope:()=>xm().getIsolationScope()}}function df(){return CA(_2()).getCurrentScope()}function dy(){return CA(_2()).getIsolationScope()}function ai(){return df().getClient()}function qge(e){const t=e.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:s}=t;return Ua({trace_id:r,span_id:n,parent_span_id:s})}function zge(e){const t=e._sentryMetrics;if(!t)return;const r={};for(const[,[n,s]]of t)(r[n]||(r[n]=[])).push(Ua(s));return r}const Vge=/^sentry-/;function Wge(e){const t=function(n){if(!(!n||!pc(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((s,i)=>{const a=FR(i);return Object.entries(a).forEach(([l,c])=>{s[l]=c}),s},{}):FR(n)}(e);if(!t)return;const r=Object.entries(t).reduce((n,[s,i])=>(s.match(Vge)&&(n[s.slice(7)]=i),n),{});return Object.keys(r).length>0?r:void 0}function FR(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}let $R=!1;function Hge(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext();return Ua({parent_span_id:n?t:EA(e).parent_span_id,span_id:n?$N():t,trace_id:r})}function BR(e){return typeof e=="number"?UR(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?UR(e.getTime()):wc()}function UR(e){return e>9999999999?e/1e3:e}function EA(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:r}=e.spanContext();if(function(n){const s=n;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(e)){const{attributes:n,startTime:s,name:i,endTime:a,parentSpanId:l,status:c}=e;return Ua({span_id:t,trace_id:r,data:n,description:i,parent_span_id:l,start_timestamp:BR(s),timestamp:BR(a)||void 0,status:Gge(c),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:zge(e)})}return{span_id:t,trace_id:r}}catch{return{}}}function Gge(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function Kq(e){return e._sentryRootSpan||e}function Yge(){$R||(ly(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),$R=!0)}const AA="production";function Jq(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},s=Ua({environment:r.environment||AA,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",s),s}function Kge(e){const t=ai();if(!t)return{};const r=Kq(e),n=r._frozenDsc;if(n)return n;const s=r.spanContext().traceState,i=s&&s.get("sentry.dsc"),a=i&&Wge(i);if(a)return a;const l=Jq(e.spanContext().traceId,t),c=EA(r),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const h=u["sentry.source"],p=c.description;return h!=="url"&&p&&(l.transaction=p),function(f){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const v=ai(),m=v&&v.getOptions();return!!m&&(m.enableTracing||"tracesSampleRate"in m||"tracesSampler"in m)}()&&(l.sampled=String(function(f){const{traceFlags:v}=f.spanContext();return v===1}(r))),t.emit("createDsc",l,r),l}const Jge=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Qw(e,t=!1){const{host:r,path:n,pass:s,port:i,projectId:a,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&s?`:${s}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${a}`}function qR(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Qge(e){const t=typeof e=="string"?function(r){const n=Jge.exec(r);if(!n)return void ly(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[s,i,a="",l="",c="",u=""]=n.slice(1);let d="",h=u;const p=h.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),h=p.pop()),h){const f=h.match(/^\d+/);f&&(h=f[0])}return qR({host:l,pass:a,path:d,projectId:h,port:c,protocol:s,publicKey:i})}(e):qR(e);if(t&&function(r){if(!uf)return!0;const{port:n,projectId:s,protocol:i}=r;return!(["protocol","publicKey","host","projectId"].find(a=>!r[a]&&(Qt.error(`Invalid Sentry Dsn: ${a} missing`),!0))||(s.match(/^\d+$/)?function(a){return a==="http"||a==="https"}(i)?n&&isNaN(parseInt(n,10))&&(Qt.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(Qt.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(Qt.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}function sc(e,t=100,r=1/0){try{return UN("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function Qq(e,t=3,r=102400){const n=sc(e,t);return s=n,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>r?Qq(e,t-1,r):n;var s}function UN(e,t,r=1/0,n=1/0,s=function(){const i=typeof WeakSet=="function",a=i?new WeakSet:[];return[function(l){if(i)return!!a.has(l)||(a.add(l),!1);for(let c=0;c<a.length;c++)if(a[c]===l)return!0;return a.push(l),!1},function(l){if(i)a.delete(l);else for(let c=0;c<a.length;c++)if(a[c]===l){a.splice(c,1);break}}]}()){const[i,a]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(f,v){try{if(f==="domain"&&v&&typeof v=="object"&&v._events)return"[Domain]";if(f==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&v===global)return"[Global]";if(typeof window<"u"&&v===window)return"[Window]";if(typeof document<"u"&&v===document)return"[Document]";if(zq(v))return"[VueViewModel]";if(gm(m=v)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m)return"[SyntheticEvent]";if(typeof v=="number"&&!Number.isFinite(v))return`[${v}]`;if(typeof v=="function")return`[Function: ${od(v)}]`;if(typeof v=="symbol")return`[${String(v)}]`;if(typeof v=="bigint")return`[BigInt: ${String(v)}]`;const x=function(g){const b=Object.getPrototypeOf(g);return b?b.constructor.name:"null prototype"}(v);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}var m}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return UN("",u.toJSON(),c-1,n,s)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const p=Hq(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(h>=n){d[f]="[MaxProperties ~]";break}const v=p[f];d[f]=UN(f,v,c-1,n,s),h++}return a(t),d}function p0(e,t=[]){return[e,t]}function Zge(e,t){const[r,n]=e;return[r,[...n,t]]}function zR(e,t){const r=e[1];for(const n of r)if(t(n,n[0].type))return!0;return!1}function qN(e){return Dr.__SENTRY__&&Dr.__SENTRY__.encodePolyfill?Dr.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function Xge(e){const[t,r]=e;let n=JSON.stringify(t);function s(i){typeof n=="string"?n=typeof i=="string"?n+i:[qN(n),i]:n.push(typeof i=="string"?qN(i):i)}for(const i of r){const[a,l]=i;if(s(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(sc(l))}s(c)}}return typeof n=="string"?n:function(i){const a=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(a);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(n)}function eve(e){const t=typeof e.data=="string"?qN(e.data):e.data;return[Ua({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const tve={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function VR(e){return tve[e]}function Zq(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function rve(e,t,r,n){const s=Zq(r),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,r&&r.sdk);const a=function(l,c,u,d){const h=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:Qw(d)},...h&&{trace:Ua({...h})}}}(e,s,n,t);return delete e.sdkProcessingMetadata,p0(a,[[{type:i},e]])}function zN(e,t,r,n=0){return new uy((s,i)=>{const a=e[n];if(t===null||typeof a!="function")s(t);else{const l=a({...t},r);dn&&a.id&&l===null&&Qt.log(`Event processor "${a.id}" dropped event`),j2(l)?l.then(c=>zN(e,c,r,n+1).then(s)).then(null,i):zN(e,l,r,n+1).then(s).then(null,i)}})}let $1,WR,O5;function nve(e,t){const{fingerprint:r,span:n,breadcrumbs:s,sdkProcessingMetadata:i}=t;(function(a,l){const{extra:c,tags:u,user:d,contexts:h,level:p,transactionName:f}=l,v=Ua(c);v&&Object.keys(v).length&&(a.extra={...v,...a.extra});const m=Ua(u);m&&Object.keys(m).length&&(a.tags={...m,...a.tags});const x=Ua(d);x&&Object.keys(x).length&&(a.user={...x,...a.user});const g=Ua(h);g&&Object.keys(g).length&&(a.contexts={...g,...a.contexts}),p&&(a.level=p),f&&a.type!=="transaction"&&(a.transaction=f)})(e,t),n&&function(a,l){a.contexts={trace:Hge(l),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:Kge(l),...a.sdkProcessingMetadata};const c=Kq(l),u=EA(c).description;u&&!a.transaction&&a.type==="transaction"&&(a.transaction=u)}(e,n),function(a,l){a.fingerprint=a.fingerprint?Array.isArray(a.fingerprint)?a.fingerprint:[a.fingerprint]:[],l&&(a.fingerprint=a.fingerprint.concat(l)),a.fingerprint&&!a.fingerprint.length&&delete a.fingerprint}(e,r),function(a,l){const c=[...a.breadcrumbs||[],...l];a.breadcrumbs=c.length?c:void 0}(e,s),function(a,l){a.sdkProcessingMetadata={...a.sdkProcessingMetadata,...l}}(e,i)}function HR(e,t){const{extra:r,tags:n,user:s,contexts:i,level:a,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:p,transactionName:f,span:v}=t;B1(e,"extra",r),B1(e,"tags",n),B1(e,"user",s),B1(e,"contexts",i),e.sdkProcessingMetadata=N2(e.sdkProcessingMetadata,l,2),a&&(e.level=a),f&&(e.transactionName=f),v&&(e.span=v),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...p}}function B1(e,t,r){e[t]=N2(e[t],r,1)}function sve(e,t,r,n,s,i){const{normalizeDepth:a=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||r.event_id||Ga(),timestamp:t.timestamp||cy()},u=r.integrations||e.integrations.map(v=>v.name);(function(v,m){const{environment:x,release:g,dist:b,maxValueLength:S=250}=m;v.environment=v.environment||x||AA,!v.release&&g&&(v.release=g),!v.dist&&b&&(v.dist=b),v.message&&(v.message=kp(v.message,S));const k=v.exception&&v.exception.values&&v.exception.values[0];k&&k.value&&(k.value=kp(k.value,S));const T=v.request;T&&T.url&&(T.url=kp(T.url,S))})(c,e),function(v,m){m.length>0&&(v.sdk=v.sdk||{},v.sdk.integrations=[...v.sdk.integrations||[],...m])}(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&function(v,m){const x=function(g){const b=Dr._sentryDebugIds;if(!b)return{};const S=Object.keys(b);return O5&&S.length===WR||(WR=S.length,O5=S.reduce((k,T)=>{$1||($1={});const R=$1[T];if(R)k[R[0]]=R[1];else{const O=g(T);for(let D=O.length-1;D>=0;D--){const I=O[D],G=I&&I.filename,A=b[T];if(G&&A){k[G]=A,$1[T]=[G,A];break}}}return k},{})),O5}(m);try{v.exception.values.forEach(g=>{g.stacktrace.frames.forEach(b=>{x&&b.filename&&(b.debug_id=x[b.filename])})})}catch{}}(c,e.stackParser);const d=function(v,m){if(!m)return v;const x=v?v.clone():new ld;return x.update(m),x}(n,r.captureContext);r.mechanism&&vm(c,r.mechanism);const h=s?s.getEventProcessors():[],p=Yw("globalScope",()=>new ld).getScopeData();i&&HR(p,i.getScopeData()),d&&HR(p,d.getScopeData());const f=[...r.attachments||[],...p.attachments];return f.length&&(r.attachments=f),nve(c,p),zN([...h,...p.eventProcessors],c,r).then(v=>(v&&function(m){const x={};try{m.exception.values.forEach(b=>{b.stacktrace.frames.forEach(S=>{S.debug_id&&(S.abs_path?x[S.abs_path]=S.debug_id:S.filename&&(x[S.filename]=S.debug_id),delete S.debug_id)})})}catch{}if(Object.keys(x).length===0)return;m.debug_meta=m.debug_meta||{},m.debug_meta.images=m.debug_meta.images||[];const g=m.debug_meta.images;Object.entries(x).forEach(([b,S])=>{g.push({type:"sourcemap",code_file:b,debug_id:S})})}(v),typeof a=="number"&&a>0?function(m,x,g){if(!m)return null;const b={...m,...m.breadcrumbs&&{breadcrumbs:m.breadcrumbs.map(S=>({...S,...S.data&&{data:sc(S.data,x,g)}}))},...m.user&&{user:sc(m.user,x,g)},...m.contexts&&{contexts:sc(m.contexts,x,g)},...m.extra&&{extra:sc(m.extra,x,g)}};return m.contexts&&m.contexts.trace&&b.contexts&&(b.contexts.trace=m.contexts.trace,m.contexts.trace.data&&(b.contexts.trace.data=sc(m.contexts.trace.data,x,g))),m.spans&&(b.spans=m.spans.map(S=>({...S,...S.data&&{data:sc(S.data,x,g)}}))),m.contexts&&m.contexts.flags&&b.contexts&&(b.contexts.flags=sc(m.contexts.flags,3,g)),b}(v,a,l):v))}function GR(e,t){return df().captureEvent(e,t)}function YR(e){const t=ai(),r=dy(),n=df(),{release:s,environment:i=AA}=t&&t.getOptions()||{},{userAgent:a}=Dr.navigator||{},l=Dge({release:s,environment:i,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...e}),c=r.getSession();return c&&c.status==="ok"&&ym(c,{status:"exited"}),Xq(),r.setSession(l),n.setSession(l),l}function Xq(){const e=dy(),t=df(),r=t.getSession()||e.getSession();r&&function(n,s){let i={};n.status==="ok"&&(i={status:"exited"}),ym(n,i)}(r),ez(),e.setSession(),t.setSession()}function ez(){const e=dy(),t=df(),r=ai(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function KR(e=!1){e?Xq():ez()}function ive(e,t,r){return t||`${function(n){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",a=s.port?`:${s.port}`:"";return`${i}//${s.host}${a}${s.path?`/${s.path}`:""}/api/`}(n)}${n.projectId}/envelope/`}(e)}?${function(n,s){const i={sentry_version:"7"};return n.publicKey&&(i.sentry_key=n.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(e,r)}`}const JR=[];function QR(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function ZR(e,t,r){if(r[t.name])dn&&Qt.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,JR.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),JR.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>n(s,i,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),s=Object.assign((i,a)=>n(i,a,e),{id:t.name});e.addEventProcessor(s)}dn&&Qt.log(`Integration installed: ${t.name}`)}}class go extends Error{constructor(t,r="warn"){super(t),this.message=t,this.logLevel=r}}const XR="Not capturing exception because it's already been captured.";class ave{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Qge(t.dsn):dn&&Qt.warn("No DSN provided, client will not send events."),this._dsn){const n=ive(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(n=>n in t&&t[n]==null);r&&ly(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,r,n){const s=Ga();if(OR(t))return dn&&Qt.log(XR),s;const i={event_id:s,...r};return this._process(this.eventFromException(t,i).then(a=>this._captureEvent(a,i,n))),i.event_id}captureMessage(t,r,n,s){const i={event_id:Ga(),...n},a=jA(t)?t:String(t),l=MN(t)?this.eventFromMessage(a,r,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,s))),i.event_id}captureEvent(t,r,n){const s=Ga();if(r&&r.originalException&&OR(r.originalException))return dn&&Qt.log(XR),s;const i={event_id:s,...r},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,a||n)),i.event_id}captureSession(t){typeof t.release!="string"?dn&&Qt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),ym(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(s=>n&&s))):zh(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];ZR(this,t,this._integrations),r||QR(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=rve(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=Zge(n,eve(i));const s=this.sendEnvelope(n);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const r=function(n,s,i,a){const l=Zq(i);return p0({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!a&&s&&{dsn:Qw(s)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const s=typeof n=="number"?n:1,i=`${t}:${r}`;dn&&Qt.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const s=n.indexOf(r);s>-1&&n.splice(s,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(s=>s(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(dn&&Qt.error("Error while sending envelope:",r),r)):(dn&&Qt.error("Transport disabled"),zh({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(r,n){const s={};return n.forEach(i=>{i&&ZR(r,i,s)}),s}(this,t),QR(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",s=!1;const i=r.exception&&r.exception.values;if(i){s=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){n=!0;break}}}const a=t.status==="ok";(a&&t.errors===0||a&&n)&&(ym(t,{...n&&{status:"crashed"},errors:t.errors||Number(s||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new uy(r=>{let n=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=1,t&&n>=t&&(clearInterval(s),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n=df(),s=dy()){const i=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",t,r),t.type||s.setLastEventId(t.event_id||r.event_id),sve(i,t,r,n,this,s).then(l=>{if(l===null)return l;l.contexts={trace:qge(n),...l.contexts};const c=function(u,d){const h=d.getPropagationContext();return h.dsc||Jq(h.traceId,u)}(this,n);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(s=>s.event_id,s=>{dn&&(s instanceof go&&s.logLevel==="log"?Qt.log(s.message):Qt.warn(s))})}_processEvent(t,r,n){const s=this.getOptions(),{sampleRate:i}=s,a=tO(t),l=eO(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(f){if(typeof f=="boolean")return Number(f);const v=typeof f=="string"?parseFloat(f):f;if(!(typeof v!="number"||isNaN(v)||v<0||v>1))return v;dn&&Qt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(f)} of type ${JSON.stringify(typeof f)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Jw(new go(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=c==="replay_event"?"replay":c,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,p).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",h,t),new go("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return f;const v=function(m,x,g,b){const{beforeSend:S,beforeSendTransaction:k,beforeSendSpan:T}=x;if(eO(g)&&S)return S(g,b);if(tO(g)){if(g.spans&&T){const R=[];for(const O of g.spans){const D=T(O);D?R.push(D):(Yge(),m.recordDroppedEvent("before_send","span"))}g.spans=R}if(k){if(g.spans){const R=g.spans.length;g.sdkProcessingMetadata={...g.sdkProcessingMetadata,spanCountBeforeProcessing:R}}return k(g,b)}}return g}(this,s,f,r);return function(m,x){const g=`${x} must return \`null\` or a valid event.`;if(j2(m))return m.then(b=>{if(!gm(b)&&b!==null)throw new go(g);return b},b=>{throw new go(`${x} rejected with ${b}`)});if(!gm(m)&&m!==null)throw new go(g);return m}(v,u)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",h,t),a){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new go(`${u} returned \`null\`, will not send event.`,"log")}const v=n&&n.getSession();if(!a&&v&&this._updateSessionFromEvent(v,f),a){const x=(f.sdkProcessingMetadata&&f.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(f.spans?f.spans.length:0);x>0&&this.recordDroppedEvent("before_send","span",x)}const m=f.transaction_info;if(a&&m&&f.transaction!==t.transaction){const x="custom";f.transaction_info={...m,source:x}}return this.sendEvent(f,r),f}).then(null,f=>{throw f instanceof go?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new go(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[s,i]=r.split(":");return{reason:s,category:i,quantity:n}})}_flushOutcomes(){dn&&Qt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(dn&&Qt.log("No outcomes to send"));if(!this._dsn)return void(dn&&Qt.log("No dsn provided, will not send outcomes"));dn&&Qt.log("Sending outcomes:",t);const r=(n=t,p0((s=this._options.tunnel&&Qw(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||cy(),discarded_events:n}]]));var n,s,i;this.sendEnvelope(r)}}function eO(e){return e.type===void 0}function tO(e){return e.type==="transaction"}function ove(e){const t=[];function r(n){return t.splice(t.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(e===void 0||t.length<e))return Jw(new go("Not adding Promise because buffer limit was reached."));const s=n();return t.indexOf(s)===-1&&t.push(s),s.then(()=>r(s)).then(null,()=>r(s).then(null,()=>{})),s},drain:function(n){return new uy((s,i)=>{let a=t.length;if(!a)return s(!0);const l=setTimeout(()=>{n&&n>0&&s(!1)},n);t.forEach(c=>{zh(c).then(()=>{--a||(clearTimeout(l),s(!0))},i)})})}}}function lve(e,{statusCode:t,headers:r},n=Date.now()){const s={...e},i=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),h=parseInt(c,10),p=1e3*(isNaN(h)?60:h);if(u)for(const f of u.split(";"))f==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[f]=n+p);else s.all=n+p}else a?s.all=n+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(a,n):t===429&&(s.all=n+6e4);return s}function cve(e,t,r=ove(e.bufferSize||64)){let n={};return{send:function(s){const i=[];if(zR(s,(c,u)=>{const d=VR(u);if(function(h,p,f=Date.now()){return function(v,m){return v[m]||v.all||0}(h,p)>f}(n,d)){const h=rO(c,u);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(c)}),i.length===0)return zh({});const a=p0(s[0],i),l=c=>{zR(a,(u,d)=>{const h=rO(u,d);e.recordDroppedEvent(c,VR(d),h)})};return r.add(()=>t({body:Xge(a)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&dn&&Qt.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),n=lve(n,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof go)return dn&&Qt.error("Skipped sending event because buffer is full."),l("queue_overflow"),zh({});throw c})},flush:s=>r.drain(s)}}function rO(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const uve=100;function Fd(e,t){const r=ai(),n=dy();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=uve}=r.getOptions();if(i<=0)return;const a={timestamp:cy(),...e},l=s?ly(()=>s(a,t)):a;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,i))}let nO;const sO=new WeakMap,dve=()=>({name:"FunctionToString",setupOnce(){nO=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=kA(this),r=sO.has(ai())&&t!==void 0?t:this;return nO.apply(r,e)}}catch{}},setup(e){sO.set(e,!0)}}),hve=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],fve=(e={})=>({name:"InboundFilters",processEvent(t,r,n){const s=n.getOptions(),i=function(a={},l={}){return{allowUrls:[...a.allowUrls||[],...l.allowUrls||[]],denyUrls:[...a.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...l.ignoreErrors||[],...a.disableErrorDefaults?[]:hve],ignoreTransactions:[...a.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:a.ignoreInternal===void 0||a.ignoreInternal}}(e,s);return function(a,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(a)?(dn&&Qt.warn(`Event dropped due to being internal Sentry Error.
Event: ${vu(a)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const h=[];d.message&&h.push(d.message);let p;try{p=d.exception.values[d.exception.values.length-1]}catch{}return p&&p.value&&(h.push(p.value),p.type&&h.push(`${p.type}: ${p.value}`)),h}(c).some(d=>F1(d,u))}(a,l.ignoreErrors)?(dn&&Qt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${vu(a)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(a)?(dn&&Qt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${vu(a)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&F1(d,u)}(a,l.ignoreTransactions)?(dn&&Qt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${vu(a)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=U1(c);return!!d&&F1(d,u)}(a,l.denyUrls)?(dn&&Qt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${vu(a)}.
Url: ${U1(a)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=U1(c);return!d||F1(d,u)}(a,l.allowUrls)?!1:(dn&&Qt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${vu(a)}.
Url: ${U1(a)}`),!0)}(t,i)?null:t}});function U1(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(r=[]){for(let n=r.length-1;n>=0;n--){const s=r[n];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(t):null}catch{return dn&&Qt.error(`Cannot extract url for event ${vu(e)}`),null}}function pve(e,t,r=250,n,s,i,a){if(!(i.exception&&i.exception.values&&a&&Uh(a.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=VN(e,t,s,a.originalException,n,i.exception.values,l,0),u=r,c.map(d=>(d.value&&(d.value=kp(d.value,u)),d))))}function VN(e,t,r,n,s,i,a,l){if(i.length>=r+1)return i;let c=[...i];if(Uh(n[s],Error)){iO(a,l);const u=e(t,n[s]),d=c.length;aO(u,s,d,l),c=VN(e,t,r,n[s],s,[u,...c],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(Uh(u,Error)){iO(a,l);const h=e(t,u),p=c.length;aO(h,`errors[${d}]`,p,l),c=VN(e,t,r,u,s,[h,...c],h,p)}}),c}function iO(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function aO(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function L5(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function mve(){"console"in Dr&&IN.forEach(function(e){e in Dr.console&&ha(Dr.console,e,function(t){return Kw[e]=t,function(...r){To("console",{args:r,level:e});const n=Kw[e];n&&n.apply(Dr.console,r)}})})}function gve(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const vve=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(r,n){return n?!!(function(s,i){const a=s.message,l=i.message;return!(!a&&!l||a&&!l||!a&&l||a!==l||!lO(s,i)||!oO(s,i))}(r,n)||function(s,i){const a=cO(i),l=cO(s);return!(!a||!l||a.type!==l.type||a.value!==l.value||!lO(s,i)||!oO(s,i))}(r,n)):!1}(t,e))return dn&&Qt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function oO(e,t){let r=CR(e),n=CR(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let s=0;s<n.length;s++){const i=n[s],a=r[s];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function lO(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function cO(e){return e.exception&&e.exception.values&&e.exception.values[0]}function uO(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const I5=Dr;function WN(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function yve(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in I5))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(WN(I5.fetch))return!0;let e=!1;const t=I5.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=WN(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){uf&&Qt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function xve(e,t){const r="fetch";bh(r,e),_h(r,()=>function(n,s=!1){s&&!yve()||ha(Dr,"fetch",function(i){return function(...a){const l=new Error,{method:c,url:u}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[f,v]=h;return{url:dO(f),method:HN(v,"method")?String(v.method).toUpperCase():"GET"}}const p=h[0];return{url:dO(p),method:HN(p,"method")?String(p.method).toUpperCase():"GET"}}(a),d={args:a,fetchData:{method:c,url:u},startTimestamp:1e3*wc(),virtualError:l};return n||To("fetch",{...d}),i.apply(Dr,a).then(async h=>(n?n(h):To("fetch",{...d,endTimestamp:1e3*wc(),response:h}),h),h=>{throw To("fetch",{...d,endTimestamp:1e3*wc(),error:h}),SA(h)&&h.stack===void 0&&(h.stack=l.stack,qh(h,"framesToPop",1)),h})}})}(void 0,t))}function HN(e,t){return!!e&&typeof e=="object"&&!!e[t]}function dO(e){return typeof e=="string"?e:e?HN(e,"url")?e.url:e.toString?e.toString():"":""}const q1=Dr,Rs=Dr;let GN=0;function hO(){return GN>0}function wm(e,t={}){if(!function(n){return typeof n=="function"}(e))return e;try{const n=e.__sentry_wrapped__;if(n)return typeof n=="function"?n:e;if(kA(e))return e}catch{return e}const r=function(...n){try{const s=n.map(i=>wm(i,t));return e.apply(this,s)}catch(s){throw GN++,setTimeout(()=>{GN--}),function(...i){const a=CA(_2());if(i.length===2){const[l,c]=i;return l?a.withSetScope(l,c):a.withScope(c)}a.withScope(i[0])}(i=>{var a;i.addEventProcessor(l=>(t.mechanism&&(FN(l,void 0),vm(l,t.mechanism)),l.extra={...l.extra,arguments:n},l)),a=s,df().captureException(a,void 0)}),s}};try{for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}catch{}Wq(r,e),qh(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const k2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function PA(e,t){const r=TA(e,t),n={type:_ve(t),value:Sve(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function wve(e,t,r,n){const s=ai(),i=s&&s.getOptions().normalizeDepth,a=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const h=u[d];if(h instanceof Error)return h}}(t),l={__serialized__:Qq(t,i)};if(a)return{exception:{values:[PA(e,a)]},extra:l};const c={exception:{values:[{type:S2(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:jve(t,{isUnhandledRejection:n})}]},extra:l};if(r){const u=TA(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function M5(e,t){return{exception:{values:[PA(e,t)]}}}function TA(e,t){const r=t.stacktrace||t.stack||"",n=function(i){return i&&bve.test(i.message)?1:0}(t),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(r,n,s)}catch{}return[]}const bve=/Minified React error #\d+;/i;function tz(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function _ve(e){const t=e&&e.name;return!t&&tz(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Sve(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:tz(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function YN(e,t,r,n,s){let i;if(qq(t)&&t.error)return M5(e,t.error);if(AR(t)||Km(t,"DOMException")){const a=t;if("stack"in t)i=M5(e,t);else{const l=a.name||(AR(a)?"DOMError":"DOMException"),c=a.message?`${l}: ${a.message}`:l;i=KN(e,c,r,n),FN(i,c)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return SA(t)?M5(e,t):gm(t)||S2(t)?(i=wve(e,t,r,s),vm(i,{synthetic:!0}),i):(i=KN(e,t,r,n),FN(i,`${t}`),vm(i,{synthetic:!0}),i)}function KN(e,t,r,n){const s={};if(n&&r){const i=TA(e,r);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),vm(s,{synthetic:!0})}if(jA(t)){const{__sentry_template_string__:i,__sentry_template_values__:a}=t;return s.logentry={message:i,params:a},s}return s.message=t,s}function jve(e,{isUnhandledRejection:t}){const r=function(s,i=40){const a=Object.keys(Hq(s));a.sort();const l=a[0];if(!l)return"[object has no keys]";if(l.length>=i)return kp(l,i);for(let c=a.length;c>0;c--){const u=a.slice(0,c).join(", ");if(!(u.length>i))return c===a.length?u:kp(u,i)}return""}(e),n=t?"promise rejection":"exception";return qq(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:S2(e)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class Nve extends ave{constructor(t){const r={parentSpanIsAlwaysRootSpan:!0,...t};(function(n,s,i=[s],a="npm"){const l=n._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${s}`,packages:i.map(c=>({name:`${a}:@sentry/${c}`,version:wh})),version:wh}),n._metadata=l})(r,"browser",["browser"],Rs.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&Rs.document&&Rs.document.addEventListener("visibilitychange",()=>{Rs.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return function(n,s,i,a){const l=YN(n,s,i&&i.syntheticException||void 0,a);return vm(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),zh(l)}(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return function(s,i,a="info",l,c){const u=KN(s,i,l&&l.syntheticException||void 0,c);return u.level=a,l&&l.event_id&&(u.event_id=l.event_id),zh(u)}(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(k2&&Qt.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:s,tunnel:i,dsn:a}){const l={event_id:n.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!a&&{dsn:Qw(a)}};return p0(l,[function(u){return[{type:"user_report"},u]}(n)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}}const kve=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ji=Dr;let fO,D5,F5,z1;function Cve(){if(!ji.document)return;const e=To.bind(null,"dom"),t=pO(e,!0);ji.document.addEventListener("click",t,!1),ji.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=ji[r],s=n&&n.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(ha(s,"addEventListener",function(i){return function(a,l,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[a]=u[a]||{refCount:0};if(!d.handler){const h=pO(e);d.handler=h,i.call(this,a,h,c)}d.refCount++}catch{}return i.call(this,a,l,c)}}),ha(s,"removeEventListener",function(i){return function(a,l,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[a];d&&(d.refCount--,d.refCount<=0&&(i.call(this,a,d.handler,c),d.handler=void 0,delete u[a]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,l,c)}}))})}function pO(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(i){try{return i.target}catch{return null}}(r);if(function(i,a){return i==="keypress"&&(!a||!a.tagName||a.tagName!=="INPUT"&&a.tagName!=="TEXTAREA"&&!a.isContentEditable)}(r.type,n))return;qh(r,"_sentryCaptured",!0),n&&!n._sentryId&&qh(n,"_sentryId",Ga());const s=r.type==="keypress"?"input":r.type;(function(i){if(i.type!==D5)return!1;try{if(!i.target||i.target._sentryId!==F5)return!1}catch{}return!0})(r)||(e({event:r,name:s,global:t}),D5=r.type,F5=n?n._sentryId:void 0),clearTimeout(fO),fO=ji.setTimeout(()=>{F5=void 0,D5=void 0},1e3)}}function rz(e){const t="history";bh(t,e),_h(t,Eve)}function Eve(){if(!function(){const r=q1.chrome,n=r&&r.app&&r.app.runtime,s="history"in q1&&!!q1.history.pushState&&!!q1.history.replaceState;return!n&&s}())return;const e=ji.onpopstate;function t(r){return function(...n){const s=n.length>2?n[2]:void 0;if(s){const i=z1,a=String(s);z1=a,To("history",{from:i,to:a})}return r.apply(this,n)}}ji.onpopstate=function(...r){const n=ji.location.href,s=z1;if(z1=n,To("history",{from:s,to:n}),e)try{return e.apply(this,r)}catch{}},ha(ji.history,"pushState",t),ha(ji.history,"replaceState",t)}const Px={};function mO(e){Px[e]=void 0}const iv="__sentry_xhr_v3__";function Ave(){if(!ji.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const s=new Error,i=1e3*wc(),a=pc(n[0])?n[0].toUpperCase():void 0,l=function(u){if(pc(u))return u;try{return u.toString()}catch{}}(n[1]);if(!a||!l)return t.apply(r,n);r[iv]={method:a,url:l,request_headers:{}},a==="POST"&&l.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[iv];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}To("xhr",{endTimestamp:1e3*wc(),startTimestamp:i,xhr:r,virtualError:s})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(u,d,h)=>(c(),u.apply(d,h))}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,d,h){const[p,f]=h,v=d[iv];return v&&pc(p)&&pc(f)&&(v.request_headers[p.toLowerCase()]=f),u.apply(d,h)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const s=r[iv];return s?(n[0]!==void 0&&(s.body=n[0]),To("xhr",{startTimestamp:1e3*wc(),xhr:r}),t.apply(r,n)):t.apply(r,n)}})}function Pve(e,t=function(r){const n=Px[r];if(n)return n;let s=ji[r];if(WN(s))return Px[r]=s.bind(ji);const i=ji.document;if(i&&typeof i.createElement=="function")try{const a=i.createElement("iframe");a.hidden=!0,i.head.appendChild(a);const l=a.contentWindow;l&&l[r]&&(s=l[r]),i.head.removeChild(a)}catch(a){kve&&Qt.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,a)}return s&&(Px[r]=s.bind(ji))}("fetch")){let r=0,n=0;return cve(e,function(s){const i=s.body.length;r+=i,n++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return mO("fetch"),Jw("No fetch implementation available");try{return t(e.url,a).then(l=>(r-=i,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return mO("fetch"),r-=i,n--,Jw(l)}})}function $5(e,t,r,n){const s={filename:e,function:t==="<anonymous>"?rh:t,in_app:!0};return r!==void 0&&(s.lineno=r),n!==void 0&&(s.colno=n),s}const Tve=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Rve=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ove=/\((\S*)(?::(\d+))(?::(\d+))\)/,Lve=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ive=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Mve=function(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,s=0)=>{const i=[],a=r.split(`
`);for(let l=n;l<a.length;l++){const c=a[l];if(c.length>1024)continue;const u=jR.test(c)?c.replace(jR,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const h=d(u);if(h){i.push(h);break}}if(i.length>=50+s)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(D1(c).function||"")&&c.pop(),c.reverse(),NR.test(D1(c).function||"")&&(c.pop(),NR.test(D1(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||D1(c).filename,function:u.function||rh}))}(i.slice(s))}}([30,e=>{const t=Tve.exec(e);if(t){const[,n,s,i]=t;return $5(n,rh,+s,+i)}const r=Rve.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const i=Ove.exec(r[2]);i&&(r[2]=i[1],r[3]=i[2],r[4]=i[3])}const[n,s]=gO(r[1]||rh,r[2]);return $5(s,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{const t=Lve.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=Ive.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],n=t[1]||rh;return[n,r]=gO(n,r),$5(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),gO=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:rh,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},vO=1024,Dve=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(r){var n;t.console&&function(s){const i="console";bh(i,s),_h(i,mve)}(function(s){return function(i){if(ai()!==s)return;const a={category:"console",data:{arguments:i.args,logger:"console"},level:gve(i.level),message:PR(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;a.message=`Assertion failed: ${PR(i.args.slice(1)," ")||"console.assert"}`,a.data.arguments=i.args.slice(1)}Fd(a,{input:i.args,level:i.level})}}(r)),t.dom&&(n=function(s,i){return function(a){if(ai()!==s)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>vO&&(k2&&Qt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=vO),typeof u=="string"&&(u=[u]);try{const p=a.event,f=function(v){return!!v&&!!v.target}(p)?p.target:p;l=Vq(f,{keyAttrs:u,maxStringLength:d}),c=function(v){if(!NA.HTMLElement)return null;let m=v;for(let x=0;x<5;x++){if(!m)return null;if(m instanceof HTMLElement){if(m.dataset.sentryComponent)return m.dataset.sentryComponent;if(m.dataset.sentryElement)return m.dataset.sentryElement}m=m.parentNode}return null}(f)}catch{l="<unknown>"}if(l.length===0)return;const h={category:`ui.${a.name}`,message:l};c&&(h.data={"ui.component_name":c}),Fd(h,{event:a.event,name:a.name,global:a.global})}}(r,t.dom),bh("dom",n),_h("dom",Cve)),t.xhr&&function(s){bh("xhr",s),_h("xhr",Ave)}(function(s){return function(i){if(ai()!==s)return;const{startTimestamp:a,endTimestamp:l}=i,c=i.xhr[iv];if(!a||!l||!c)return;const{method:u,url:d,status_code:h,body:p}=c,f={method:u,url:d,status_code:h},v={xhr:i.xhr,input:p,startTimestamp:a,endTimestamp:l};Fd({category:"xhr",data:f,type:"http",level:uO(h)},v)}}(r)),t.fetch&&xve(function(s){return function(i){if(ai()!==s)return;const{startTimestamp:a,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)Fd({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:a,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:a,endTimestamp:l};Fd({category:"fetch",data:u,type:"http",level:uO(u.status_code)},d)}}}(r)),t.history&&rz(function(s){return function(i){if(ai()!==s)return;let a=i.from,l=i.to;const c=L5(Rs.location.href);let u=a?L5(a):void 0;const d=L5(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(a=u.relative),Fd({category:"navigation",data:{from:a,to:l}})}}(r)),t.sentry&&r.on("beforeSendEvent",function(s){return function(i){ai()===s&&Fd({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:vu(i)},{event:i})}}(r))}}},Fve=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],$ve=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&ha(Rs,"setTimeout",yO),t.setInterval&&ha(Rs,"setInterval",yO),t.requestAnimationFrame&&ha(Rs,"requestAnimationFrame",Bve),t.XMLHttpRequest&&"XMLHttpRequest"in Rs&&ha(XMLHttpRequest.prototype,"send",Uve);const r=t.eventTarget;r&&(Array.isArray(r)?r:Fve).forEach(qve)}}};function yO(e){return function(...t){const r=t[0];return t[0]=wm(r,{mechanism:{data:{function:od(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Bve(e){return function(t){return e.apply(this,[wm(t,{mechanism:{data:{function:"requestAnimationFrame",handler:od(e)},handled:!1,type:"instrument"}})])}}function Uve(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&ha(r,n,function(s){const i={mechanism:{data:{function:n,handler:od(s)},handled:!1,type:"instrument"}},a=kA(s);return a&&(i.mechanism.data.handler=od(a)),wm(s,i)})}),e.apply(this,t)}}function qve(e){const t=Rs[e],r=t&&t.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(ha(r,"addEventListener",function(n){return function(s,i,a){try{typeof i.handleEvent=="function"&&(i.handleEvent=wm(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:od(i),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[s,wm(i,{mechanism:{data:{function:"addEventListener",handler:od(i),target:e},handled:!1,type:"instrument"}}),a])}}),ha(r,"removeEventListener",function(n){return function(s,i,a){try{const l=i.__sentry_wrapped__;l&&n.call(this,s,l,a)}catch{}return n.call(this,s,i,a)}}))}const zve=()=>({name:"BrowserSession",setupOnce(){Rs.document!==void 0?(YR({ignoreDuration:!0}),KR(),rz(({from:e,to:t})=>{e!==void 0&&e!==t&&(YR({ignoreDuration:!0}),KR())})):k2&&Qt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),Vve=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(function(n){(function(s){const i="error";bh(i,s),_h(i,Oge)})(s=>{const{stackParser:i,attachStacktrace:a}=wO();if(ai()!==n||hO())return;const{msg:l,url:c,line:u,column:d,error:h}=s,p=function(f,v,m,x){const g=f.exception=f.exception||{},b=g.values=g.values||[],S=b[0]=b[0]||{},k=S.stacktrace=S.stacktrace||{},T=k.frames=k.frames||[],R=x,O=m,D=pc(v)&&v.length>0?v:function(){try{return NA.document.location.href}catch{return""}}();return T.length===0&&T.push({colno:R,filename:D,function:rh,in_app:!0,lineno:O}),f}(YN(i,h||l,void 0,a,!1),c,u,d);p.level="error",GR(p,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(r),xO("onerror")),t.onunhandledrejection&&(function(n){(function(s){const i="unhandledrejection";bh(i,s),_h(i,Lge)})(s=>{const{stackParser:i,attachStacktrace:a}=wO();if(ai()!==n||hO())return;const l=function(u){if(MN(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(s),c=MN(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:YN(i,l,void 0,a,!0);c.level="error",GR(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),xO("onunhandledrejection"))}}};function xO(e){k2&&Qt.log(`Global Handler attached: ${e}`)}function wO(){const e=ai();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Wve=()=>({name:"HttpContext",preprocessEvent(e){if(!Rs.navigator&&!Rs.location&&!Rs.document)return;const t=e.request&&e.request.url||Rs.location&&Rs.location.href,{referrer:r}=Rs.document||{},{userAgent:n}=Rs.navigator||{},s={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),Hve=(e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,s,i){const a=i.getOptions();pve(PA,a.stackParser,a.maxValueLength,r,t,n,s)}}};var JN="new",bO="loading",_O="loaded",Zw="joining-meeting",bu="joined-meeting",hu="left-meeting",ec="error",Gve="blocked",Yve="off",Kve="sendable",Jve="loading",Qve="interrupted",nz="playable",Tx="unknown",sz="full",Zve="lobby",Xve="none",iz="base",e0e="*",t0e="ejected",r0e="nbf-room",n0e="nbf-token",s0e="exp-room",i0e="exp-token",QN="no-room",a0e="meeting-full",az="end-of-life",o0e="not-allowed",oz="connection-error",l0e="cam-in-use",c0e="mic-in-use",u0e="cam-mic-in-use",d0e="permissions",h0e="undefined-mediadevices",f0e="not-found",p0e="constraints",m0e="unknown",lz="iframe-ready-for-launch-config",cz="iframe-launch-config",uz="theme-updated",dz="loading",hz="load-attempt-failed",ZN="loaded",fz="started-camera",pz="camera-error",mz="joining-meeting",gz="joined-meeting",vz="left-meeting",yz="participant-joined",xz="participant-updated",wz="participant-left",bz="participant-counts-updated",_z="access-state-updated",Sz="meeting-session-summary-updated",jz="meeting-session-state-updated",g0e="meeting-session-data-error",Nz="waiting-participant-added",kz="waiting-participant-updated",Cz="waiting-participant-removed",Ez="track-started",Az="track-stopped",Pz="transcription-started",Tz="transcription-stopped",Rz="transcription-error",XN="recording-started",ek="recording-stopped",Oz="recording-stats",Lz="recording-error",Iz="recording-upload-completed",Mz="recording-data",Dz="app-message",Fz="transcription-message",$z="remote-media-player-started",Bz="remote-media-player-updated",Uz="remote-media-player-stopped",qz="local-screen-share-started",zz="local-screen-share-stopped",Vz="local-screen-share-canceled",Wz="active-speaker-change",Hz="active-speaker-mode-change",Gz="network-quality-change",Yz="network-connection",Kz="cpu-load-change",Jz="face-counts-updated",av="fullscreen",ov="exited-fullscreen",Qz="live-streaming-started",Zz="live-streaming-updated",Xz="live-streaming-stopped",eV="live-streaming-error",tV="lang-updated",rV="receive-settings-updated",tk="input-settings-updated",rk="nonfatal-error",nk="error",B5=4096,SO=102400,U5="iframe-call-message",jO="local-screen-start",NO="daily-method-update-live-streaming-endpoints",V1="transmit-log",mc="daily-custom-track",Rx={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},nV={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},sk={PLAY:"play",PAUSE:"pause"},q5=["jpg","png","jpeg"],v0e="add-endpoints",y0e="remove-endpoints",kO="sip-call-transfer";function Qa(){return!fr()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function fr(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function sV(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function x0e(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(Vh(),Xw())||fr())}function CO(){if(fr()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var ik="none",w0e="software",b0e="hardware",_0e=function(){try{var e,t=document.createElement("canvas"),r=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,e=t.getContext("webgl2"));var n=e!=null;return t.remove(),n?r?w0e:b0e:ik}catch{return ik}}();function iV(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!fr()&&_0e!==ik&&(e?function(){return EO()?!1:["Chrome","Firefox"].includes(Vh())}():function(){if(EO())return!1;var t=Vh();if(t==="Safari"){var r=OA();if(r.major<15||r.major===15&&r.minor<4)return!1}return t==="Chrome"?RA().major>=77:t==="Firefox"?LA().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function aV(){if(fr()||oV()||typeof AudioWorkletNode>"u")return!1;switch(Vh()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Xw();return e.major>17||e.major===17&&e.minor>=4}return!1}function z5(){return sV()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=Vh();if(!Qa())return!0;switch(t){case"Chrome":return(e=RA()).major&&e.major>0&&e.major<75;case"Firefox":return(e=LA()).major<91;case"Safari":return(e=OA()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function oV(){return Qa().match(/Linux; Android/)}function EO(){var e,t=Qa(),r=t.match(/Mac/)&&(!fr()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||r)||!!Qa().match(/DailyAnd\//)||void 0}function Vh(){if(typeof window<"u"){var e=Qa();return lV()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||cV()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Xw(){switch(Vh()){case"Chrome":return RA();case"Safari":return OA();case"Firefox":return LA();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var r=Qa().match(/Edge\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}()}}function RA(){var e=0,t=0,r=0,n=0,s=!1;if(typeof window<"u"){var i=Qa(),a=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(a)try{e=parseInt(a[1]),t=parseInt(a[2]),r=parseInt(a[3]),n=parseInt(a[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:r,patch:n,opera:s}}function lV(){return!!Qa().match(/iPad|iPhone|iPod/i)&&sV()}function cV(){return Qa().indexOf("AppleWebKit/605.1.15")>-1}function OA(){var e=0,t=0,r=0;if(typeof window<"u"){var n=Qa().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2]),r=parseInt(n[4])}catch{}else(lV()||cV())&&(e=14,t=0,r=3)}return{major:e,minor:t,point:r}}function LA(){var e=0,t=0;if(typeof window<"u"){var r=Qa().match(/Firefox\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}var uV=function(){return ka(function e(){Na(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){zg()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){zg()}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){zg()}},{key:"sendMessageToDailyJs",value:function(e,t){zg()}},{key:"removeListener",value:function(e){zg()}}])}();function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dV=function(){return!!e})()}var S0e=function(){function e(){var t,r,n,s;return Na(this,e),r=this,n=$o(n=e),(t=x2(r,dV()?Reflect.construct(n,[],$o(r).constructor):n.apply(r,s)))._wrappedListeners={},t._messageCallbacks={},t}return w2(e,uV),ka(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){var s=this,i=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===r)&&(!a.data.from||a.data.from!=="module")){var l=V5({},a.data);if(delete l.from,l.callbackStamp&&s._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;s._messageCallbacks[c].call(n,l),delete s._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(n,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){var s=function(i){var a;if(!(!i.data||i.data.what!==U5||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&r&&i.data.callClientId!==r||i!=null&&(a=i.data)!==null&&a!==void 0&&a.callFrameId)){var l=i.data;t.call(n,l)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,r,n,s){if(!n)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=V5({},t);if(i.what=U5,i.from="module",i.callClientId=n,r){var a=b2();this._messageCallbacks[a]=r,i.callbackStamp=a}var l=s?s.contentWindow:window,c=this._callMachineTargetOrigin(s);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,r){t.what=U5,t.callClientId=r,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,r,n){var s=V5({},t);s.callClientId=n;var i=r?r.contentWindow:window,a=this._callMachineTargetOrigin(r);a&&i.postMessage(s,a)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,r){var n=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===r)&&(!s.data.from||s.data.from!=="module")){var i=s.data;t(i)}};return this._wrappedListeners[t]=n,window.addEventListener("message",n),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hV=function(){return!!e})()}var j0e=function(){function e(){var t,r,n,s;return Na(this,e),r=this,n=$o(n=e),t=x2(r,hV()?Reflect.construct(n,[],$o(r).constructor):n.apply(r,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new LN.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new LN.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return w2(e,uV),ka(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){this._addListener(t,global.callMachineToDailyJsEmitter,r,n,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){this._addListener(t,global.dailyJsToCallMachineEmitter,r,n,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,r,n){this._sendMessage(t,global.dailyJsToCallMachineEmitter,n,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,r){this._sendMessage(t,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,r,n,s,i){var a=this,l=function(c){if(c.callClientId===n){if(c.callbackStamp&&a._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;a._messageCallbacks[u].call(s,c),delete a._messageCallbacks[u]}t.call(s,c)}};this._wrappedListeners[t]=l,r.addListener("message",l)}},{key:"_sendMessage",value:function(t,r,n,s,i){var a=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?PO(Object(d),!0).forEach(function(h){ll(c,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):PO(Object(d)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(d,h))})}return c}({},t);if(a.callClientId=n,s){var l=b2();this._messageCallbacks[l]=s,a.callbackStamp=l}r.emit("message",a)}}])}(),ak="replace",ok="shallow-merge",TO=[ak,ok],N0e=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.data,n=t.mergeStrategy,s=n===void 0?ak:n;Na(this,e),e._validateMergeStrategy(s),e._validateData(r,s),this.mergeStrategy=s,this.data=r}return ka(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,r){return Object.keys(t).length===0&&r===ok}},{key:"_validateMergeStrategy",value:function(t){if(!TO.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(TO,"]"))}},{key:"_validateData",value:function(t,r){if(!function(l){if(l==null||Cr(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(t),r===ak){var s=JSON.parse(n);Si(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(r===ok){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var a=JSON.parse(JSON.stringify(t[i]));Si(t[i],a)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",a,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(n.length>SO)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(SO,"."))}}])}();function fV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!e})()}function lk(e){var t=typeof Map=="function"?new Map:void 0;return lk=function(r){if(r===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return function(s,i,a){if(fV())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(s.bind.apply(s,l));return a&&f0(c,a.prototype),c}(r,arguments,$o(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f0(n,r)},lk(e)}function pV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pV=function(){return!!e})()}function RO(e){var t,r=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}var k0e=function(){return ka(function e(t){Na(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void n(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new C0e(r,function(){n(!1)},function(i,a){a||RO(t._callClientId),s(i,a)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),RO(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),C0e=function(){return ka(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Na(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new OO(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new OO(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),W5=function(){function e(){return Na(this,e),t=this,n=arguments,r=$o(r=e),x2(t,pV()?Reflect.construct(r,n||[],$o(t).constructor):r.apply(t,n));var t,r,n}return w2(e,lk(Error)),ka(e)}(),eb=2e4,OO=function(){return ka(function t(r,n,s){Na(this,t),this._loadAttemptImpl=fr()||!r.avoidEval?new E0e(r,n,s):new A0e(r,n,s)},[{key:"start",value:(e=Bt(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),E0e=function(){return ka(function s(i,a,l){Na(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=a,this._failureCallback=l},[{key:"start",value:(n=Bt(function*(){var s=Hw(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=Bt(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=Bt(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(eb," ms) when loading call object bundle ").concat(s),type:"timeout"})},eb);try{var a=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(s,a);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new W5;var c=yield this._getBundleCodeFromResponse(s,l);if(this.cancelled)throw new W5;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(s,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof W5||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(u),type:u.message})}}),function(s){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=Bt(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return e.apply(this,arguments)})}]);var e,t,r,n}(),A0e=function(){return ka(function e(t,r,n){Na(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n,this._attemptId=b2(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Hw(this._dailyConfig);(typeof document>"u"?"undefined":Cr(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(eb," ms) when loading call object bundle ").concat(e),type:"timeout"})},eb);var r=document.getElementsByTagName("head")[0],n=document.createElement("script");this._scriptElement=n,n.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},n.onerror=function(s){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},n.src=e,r.appendChild(n)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),W1=function(e,t,r){return T0e(e.local,t,r)===!0},P0e=function(e,t,r){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},dp=function(e,t,r,n){var s=R0e(e,t,r,n);return s&&s.pendingTrack},T0e=function(e,t,r){if(!e)return!1;var n=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=e.public.subscribedTracks;return s&&s[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&s[t].custom?[!0,"staged"].includes(s[t].custom)?n(s[t].custom):n(s[t].custom[r]):n(s[t][r]):!s||n(s.ALL)},R0e=function(e,t,r,n){var s=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===r&&i.pendingTrack&&i.pendingTrack.kind===n}).sort(function(i,a){return new Date(a.starttime)-new Date(i.starttime)});return s&&s[0]},O0e=function(e,t){var r=e.local.public.customTracks;if(r&&r[t])return r[t].track};function LO(e,t){for(var r=t.getState(),n=0,s=["cam","screen"];n<s.length;n++)for(var i=s[n],a=0,l=["video","audio"];a<l.length;a++){var c=l[a],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var h=e.local?P0e(r,i,c):dp(r,e.session_id,i,c);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function IO(e,t){try{var r=t.getState();for(var n in e.tracks)if(!L0e(n)){var s=e.tracks[n].kind;if(s){var i=e.tracks[n];if(i){var a=e.local?O0e(r,n):dp(r,e.session_id,n,s);i.state==="playable"&&(e.tracks[n].track=a),i.persistentTrack=a}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function L0e(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function MO(e,t,r){var n=r.getState();if(e.local){if(e.audio)try{e.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var s=!0;try{var i=n.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(n.streams,e.audio&&W1(n,e.session_id,"cam-audio")){var a=dp(n,e.session_id,"cam","audio");a&&(t&&t.audioTrack&&t.audioTrack.id===a.id?e.audioTrack=a:a.muted||(e.audioTrack=a)),e.audioTrack||(e.audio=!1)}if(e.video&&W1(n,e.session_id,"cam-video")){var l=dp(n,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&W1(n,e.session_id,"screen-audio")){var c=dp(n,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&W1(n,e.session_id,"screen-video")){var u=dp(n,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function I0e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return DO(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?DO(c,u):void 0}}(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw i}}}}function DO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var nl=new Map,Cp=null;function M0e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return FO(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?FO(c,u):void 0}}(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw i}}}}function FO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var sl=new Map,kv=null;function D0e(e){mV()?function(t){nl.has(t)||(nl.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){nl.has(t)&&(nl.get(t).lastDevicesString=JSON.stringify(r),Cp||(Cp=function(){var n=Bt(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),a=I0e(nl.keys());try{for(a.s();!(s=a.n()).done;){var l=s.value,c=JSON.stringify(i);c!==nl.get(l).lastDevicesString&&(nl.get(l).lastDevicesString=c,l(i))}}catch(u){a.e(u)}finally{a.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Cp)))}).catch(function(){}))}(e):function(t){sl.has(t)||(sl.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){sl.has(t)&&(sl.get(t).lastDevicesString=JSON.stringify(r),kv||(kv=setInterval(Bt(function*(){var n,s=yield navigator.mediaDevices.enumerateDevices(),i=M0e(sl.keys());try{for(i.s();!(n=i.n()).done;){var a=n.value,l=JSON.stringify(s);l!==sl.get(a).lastDevicesString&&(sl.get(a).lastDevicesString=l,a(s))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function F0e(e){mV()?function(t){nl.has(t)&&(nl.delete(t),nl.size===0&&Cp&&(navigator.mediaDevices.removeEventListener("devicechange",Cp),Cp=null))}(e):function(t){sl.has(t)&&(sl.delete(t),sl.size===0&&kv&&(clearInterval(kv),kv=null))}(e)}function mV(){var e;return fr()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var $0e=new Set;function B0e(e,t){return e&&e.readyState==="live"&&!function(r,n){return r.muted&&!$0e.has(r.id)}(e)}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var lv=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),U0e=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Cv=Object.values(lv),BO=["v","a","sv","sa","cv","ca"];Object.freeze(Cv.reduce(function(e,t,r){return e[t]=BO[r],e},{})),Object.freeze(BO.reduce(function(e,t,r){return e[t]=Cv[r],e},{}));var q0e=[lv.VIDEO,lv.AUDIO,lv.SCREEN_VIDEO,lv.SCREEN_AUDIO],UO=Object.values(U0e),qO=["p","s","t"];Object.freeze(UO.reduce(function(e,t,r){return e[t]=qO[r],e},{})),Object.freeze(qO.reduce(function(e,t,r){return e[t]=UO[r],e},{}));var gV=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.base,n=t.byUserId,s=t.byParticipantId;Na(this,e),this.base=r,this.byUserId=n,this.byParticipantId=s}return ka(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof qs?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof qs?n.clone():n}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof qs?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof qs&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof qs?n.toJSONObject():n}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof qs?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in t.u={},this.byUserId){var n=this.byUserId[r];t.u[r]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in t.p={},this.byParticipantId){var i=this.byParticipantId[s];t.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof qs&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var r=oi(t,2),n=r[0],s=r[1];return[n,s instanceof qs?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var r=oi(t,2),n=r[0],s=r[1];return[n,s instanceof qs?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(t){var r,n,s;if(t.base!==void 0&&(r=typeof t.base=="boolean"?t.base:qs.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in n={},t.byUserId){var a=t.byUserId[i];n[i]=typeof a=="boolean"?a:qs.fromJSONObject(a)}if(t.byParticipantId!==void 0)for(var l in s={},t.byParticipantId){var c=t.byParticipantId[l];s[l]=typeof c=="boolean"?c:qs.fromJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(t){var r,n,s;if(t.b!==void 0&&(r=typeof t.b=="boolean"?t.b:qs.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in n={},t.u){var a=t.u[i];n[i]=typeof a=="boolean"?a:qs.fromMinifiedJSONObject(a)}if(t.p!==void 0)for(var l in s={},t.p){var c=t.p[l];s[l]=typeof c=="boolean"?c:qs.fromMinifiedJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:s})}},{key:"validateJSONObject",value:function(t){if(Cr(t)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],n=0,s=Object.keys(t);n<s.length;n++){var i=s[n];if(!r.includes(i))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(i==="base"){var a=oi(qs.validateJSONObject(t.base,!0),2),l=a[0],c=a[1];if(!l)return[!1,c]}else{if(Cr(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var h=d[u],p=oi(qs.validateJSONObject(h),2),f=p[0],v=p[1];if(!f)return[!1,v]}}}return[!0]}}])}(),qs=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.video,n=t.audio,s=t.screenVideo,i=t.screenAudio,a=t.customVideo,l=t.customAudio;Na(this,e),this.video=r,this.audio=n,this.screenVideo=s,this.screenAudio=i,this.customVideo=a,this.customAudio=l}return ka(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=au({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=au({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=au({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=au({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=au({},this.customVideo)),this.customAudio!==void 0&&(t.ca=au({},this.customAudio)),t}},{key:"normalize",value:function(){function t(r,n){return r&&Object.keys(r).length===1&&r["*"]===n}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?au({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?au({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,r){if(typeof t=="boolean")return[!0];if(Cr(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var n=Object.keys(t),s=0,i=n;s<i.length;s++){var a=i[s];if(!Cv.includes(a))return[!1,"invalid media type '".concat(a,"' in canReceive")];if(q0e.includes(a)){if(typeof t[a]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(a,"' in canReceive")]}else{if(Cr(t[a])!=="object")return[!1,"invalid (non-object) value for media type '".concat(a,"' in canReceive")];for(var l=0,c=Object.values(t[a]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(a,"' in canReceive")];if(r&&t[a]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(a,"'")]}}return r&&n.length!==Cv.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Cv.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),z0e=["result"],V0e=["preserveIframe"];function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vV=function(){return!!e})()}function VO(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return WO(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?WO(c,u):void 0}}(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw i}}}}function WO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var $d={},HO="video",W0e="voice",GO=fr()?{data:{}}:{data:{},topology:"none"},YO={present:0,hidden:0},yV={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},H5=Object.keys(yV),KO=["state","volume","simulcastEncodings"],JO={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},tb={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},ck={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Bd={customIntegrations:{validate:kV,help:jV()},customTrayButtons:{validate:NV,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(tb))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return CV(e,JO)},help:"reactNativeConfig should look like ".concat(JSON.stringify(JO),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return xV(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,r={customTrack:mc};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,r={customTrack:mc};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var s=0,i=Object.keys(n);s<i.length;s++){var a=i[s];if(!t.includes(a))return console.error('unsupported color "'.concat(a,'". Valid colors: ').concat(t.join(", "))),!1;if(!n[a].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(a,' theme color should be provided in valid hex color format. Received: "').concat(n[a],'"')),!1}return!0};return Cr(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):r(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return wV(e,{allowAllParticipantsKey:!1})},help:SV({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var r;return!!bV(e)&&(t._inputSettings||(t._inputSettings={}),_V(e,(r=t.properties)===null||r===void 0?void 0:r.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:uk()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},H1={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var r in e.cam)if(r!=="div"&&r!=="video")return!1}if(e.screen){for(var n in e.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(e)||!fr()&&e==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!r.includes(i[l])&&!s(i[l],!0))return!1}else{var c=!a&&!n.includes(l),u=!r.includes(i[l]);if(c||u)return!1}return!0};return s(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(fr()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=oi(r[t],2),s=n[0],i=n[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var a,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=VO(i);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(!l.includes(u))return!1}}catch(g){c.e(g)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=oi(gV.validateJSONObject(i),2),h=d[0],p=d[1];if(!h)return console.error(p),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var f,v=["participants","streaming","transcription"],m=VO(i);try{for(m.s();!(f=m.n()).done;){var x=f.value;if(!v.includes(x))return!1}}catch(g){m.e(g)}finally{m.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=Bt(function*(t){return new Promise(function(r,n){var s=[];t.forEach(function(i){return Promise.resolve(i).then(function(a){r(a)}).catch(function(a){s.push(a),s.length===t.length&&n(s)})})})});return function(t){return e.apply(this,arguments)}}());var H0e=function(){function e(_){var C,E,B,F,Q,ne,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Na(this,e),B=this,F=$o(F=e),ll(E=x2(B,vV()?Reflect.construct(F,[],$o(B).constructor):F.apply(B,Q)),"startListeningForDeviceChanges",function(){D0e(E.handleDeviceChange)}),ll(E,"stopListeningForDeviceChanges",function(){F0e(E.handleDeviceChange)}),ll(E,"handleDeviceChange",function(fe){fe=fe.map(function(_e){return JSON.parse(JSON.stringify(_e))}),E.emitDailyJSEvent({action:"available-devices-updated",availableDevices:fe})}),ll(E,"handleNativeAppStateChange",function(){var fe=Bt(function*(_e){if(_e==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield E.destroy());var Me=_e==="active";E.disableReactNativeAutoDeviceManagement("video")||(Me?E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!0):(E.camUnmutedBeforeLosingNativeActiveState=E.localVideo(),E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!1)))});return function(_e){return fe.apply(this,arguments)}}()),ll(E,"handleNativeAudioFocusChange",function(fe){E.disableReactNativeAutoDeviceManagement("audio")||(E._hasNativeAudioFocus=fe,E.toggleParticipantAudioBasedOnNativeAudioFocus(),E._hasNativeAudioFocus?E.micUnmutedBeforeLosingNativeAudioFocus&&E.setLocalAudio(!0):(E.micUnmutedBeforeLosingNativeAudioFocus=E.localAudio(),E.setLocalAudio(!1)))}),ll(E,"handleNativeSystemScreenCaptureStop",function(){E.stopScreenShare()}),!z5()&&!fr())throw new Error("WebRTC not supported or suppressed");if(E.strictMode=le.strictMode===void 0||le.strictMode,E.allowMultipleCallInstances=(C=le.allowMultipleCallInstances)!==null&&C!==void 0&&C,Object.keys($d).length&&(E._logDuplicateInstanceAttempt(),!E.allowMultipleCallInstances)){if(E.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),E.callClientId=b2(),$d[(ne=E).callClientId]=ne,window._daily.instances[E.callClientId]={},E._sharedTracks={},window._daily.instances[E.callClientId].tracks=E._sharedTracks,le.dailyJsVersion=e.version(),E._iframe=_,E._callObjectMode=le.layout==="none"&&!E._iframe,E._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},le.showLocalVideo!==void 0?E._callObjectMode?console.error("showLocalVideo is not available in call object mode"):E._showLocalVideo=!!le.showLocalVideo:E._showLocalVideo=!0,le.showParticipantsBar!==void 0?E._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):E._showParticipantsBar=!!le.showParticipantsBar:E._showParticipantsBar=!0,le.customIntegrations!==void 0?E._callObjectMode?console.error("customIntegrations is not available in call object mode"):E._customIntegrations=le.customIntegrations:E._customIntegrations={},le.customTrayButtons!==void 0?E._callObjectMode?console.error("customTrayButtons is not available in call object mode"):E._customTrayButtons=le.customTrayButtons:E._customTrayButtons={},le.activeSpeakerMode!==void 0?E._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):E._activeSpeakerMode=!!le.activeSpeakerMode:E._activeSpeakerMode=!1,le.receiveSettings?E._callObjectMode?E._receiveSettings=le.receiveSettings:console.error("receiveSettings is only available in call object mode"):E._receiveSettings={},E.validateProperties(le),E.properties=Ct({},le),E._inputSettings||(E._inputSettings={}),E._callObjectLoader=E._callObjectMode?new k0e(E.callClientId):null,E._callState=JN,E._isPreparingToJoin=!1,E._accessState={access:Tx},E._meetingSessionSummary={},E._finalSummaryOfPrevSession={},E._meetingSessionState=K5(GO,E._callObjectMode),E._nativeInCallAudioMode=HO,E._participants={},E._isScreenSharing=!1,E._participantCounts=YO,E._rmpPlayerState={},E._waitingParticipants={},E._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},E._activeSpeaker={},E._localAudioLevel=0,E._isLocalAudioLevelObserverRunning=!1,E._remoteParticipantsAudioLevel={},E._isRemoteParticipantsAudioLevelObserverRunning=!1,E._maxAppMessageSize=B5,E._messageChannel=fr()?new j0e:new S0e,E._iframe&&(E._iframe.requestFullscreen?E._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===E._iframe?(E.emitDailyJSEvent({action:av}),E.sendMessageToCallMachine({action:av})):(E.emitDailyJSEvent({action:ov}),E.sendMessageToCallMachine({action:ov}))}):E._iframe.webkitRequestFullscreen&&E._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===E._iframe?(E.emitDailyJSEvent({action:av}),E.sendMessageToCallMachine({action:av})):(E.emitDailyJSEvent({action:ov}),E.sendMessageToCallMachine({action:ov}))})),fr()){var ue=E.nativeUtils();ue.addAudioFocusChangeListener&&ue.removeAudioFocusChangeListener&&ue.addAppStateChangeListener&&ue.removeAppStateChangeListener&&ue.addSystemScreenCaptureStopListener&&ue.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),E._hasNativeAudioFocus=!0,ue.addAudioFocusChangeListener(E.handleNativeAudioFocusChange),ue.addAppStateChangeListener(E.handleNativeAppStateChange),ue.addSystemScreenCaptureStopListener(E.handleNativeSystemScreenCaptureStop)}return E._callObjectMode&&E.startListeningForDeviceChanges(),E._messageChannel.addListenerForMessagesFromCallMachine(E.handleMessageFromCallMachine,E.callClientId,E),E}return w2(e,M1),ka(e,[{key:"destroy",value:(U=Bt(function*(){var _;try{yield this.leave()}catch{}var C=this._iframe;if(C){var E=C.parentElement;E&&E.removeChild(C)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),fr()){var B=this.nativeUtils();B.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),B.removeAppStateChangeListener(this.handleNativeAppStateChange),B.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete $d[this.callClientId],!((_=window)===null||_===void 0||(_=_._daily)===null||_===void 0)&&_.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return U.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(_){var C=_.bodyClass,E=_.cssFile,B=_.cssText;return dr(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(E),bodyClass:C,cssText:B}),this}},{key:"iframe",value:function(){return dr(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return ho(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return ho(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(_,C){for(var E in C){if(!H1[E])throw new Error("unrecognized updateParticipant property ".concat(E));if(H1[E].validate&&!H1[E].validate(C[E],this,this._participants[_]))throw new Error(H1[E].help)}}},{key:"updateParticipant",value:function(_,C){return this._participants.local&&this._participants.local.session_id===_&&(_="local"),_&&C&&(this.validateParticipantProperties(_,C),this.sendMessageToCallMachine({action:"update-participant",id:_,properties:C})),this}},{key:"updateParticipants",value:function(_){var C=this._participants.local&&this._participants.local.session_id;for(var E in _)E===C&&(E="local"),E&&_[E]&&this.validateParticipantProperties(E,_[E]);return this.sendMessageToCallMachine({action:"update-participants",participants:_}),this}},{key:"updateWaitingParticipant",value:(ge=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ho(this._callObjectMode,"updateWaitingParticipant()"),sn(this._callState,"updateWaitingParticipant()"),typeof C!="string"||Cr(E)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(B,F){_.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:C,updates:E},function(Q){Q.error&&F(Q.error),Q.id||F(new Error("unknown error in updateWaitingParticipant()")),B({id:Q.id})})})}),function(){return ge.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(pe=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ho(this._callObjectMode,"updateWaitingParticipants()"),sn(this._callState,"updateWaitingParticipants()"),Cr(C)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(E,B){_.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:C},function(F){F.error&&B(F.error),F.ids||B(new Error("unknown error in updateWaitingParticipants()")),E({ids:F.ids})})})}),function(){return pe.apply(this,arguments)})},{key:"requestAccess",value:(Z=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=C.access,B=E===void 0?{level:sz}:E,F=C.name,Q=F===void 0?"":F;return ho(this._callObjectMode,"requestAccess()"),sn(this._callState,"requestAccess()"),new Promise(function(ne,le){_.sendMessageToCallMachine({action:"daily-method-request-access",access:B,name:Q},function(ue){ue.error&&le(ue.error),ue.access||le(new Error("unknown error in requestAccess()")),ne({access:ue.access,granted:ue.granted})})})}),function(){return Z.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in C&&(fr()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),C={}):_&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),C={})),this.sendMessageToCallMachine({action:"local-audio",state:_,options:C}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(_){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:_}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(_){return this.sendMessageToCallMachine({action:"local-video",state:_}),this}},{key:"_setAllowLocalAudio",value:function(_){if(this._preloadCache.allowLocalAudio=_,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:_}),this}},{key:"_setAllowLocalVideo",value:function(_){if(this._preloadCache.allowLocalVideo=_,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:_}),this}},{key:"getReceiveSettings",value:(W=Bt(function*(_){var C=this,E=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,B=E!==void 0&&E;if(ho(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Cr(_)){case"string":return new Promise(function(F){C.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:_,showInheritedValues:B},function(Q){F(Q.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(_){return W.apply(this,arguments)})},{key:"updateReceiveSettings",value:(te=Bt(function*(_){var C=this;if(ho(this._callObjectMode,"updateReceiveSettings()"),!wV(_,{allowAllParticipantsKey:!0}))throw new Error(SV({allowAllParticipantsKey:!0}));return sn(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(E){C.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:_},function(B){E({receiveSettings:B.receiveSettings})})})}),function(_){return te.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(_,C){if(_){var E={};if(_.audio){var B,F,Q;_.audio.settings&&(!Object.keys(_.audio.settings).length&&C||(E.audio={settings:Ct({},_.audio.settings)})),C&&(B=E.audio)!==null&&B!==void 0&&(B=B.settings)!==null&&B!==void 0&&B.customTrack&&(E.audio.settings={customTrack:this._sharedTracks.audioTrack});var ne=((F=_.audio.processor)===null||F===void 0?void 0:F.type)==="none"&&((Q=_.audio.processor)===null||Q===void 0?void 0:Q._isDefaultWhenNone);if(_.audio.processor&&!ne){var le=Ct({},_.audio.processor);delete le._isDefaultWhenNone,E.audio=Ct(Ct({},E.audio),{},{processor:le})}}if(_.video){var ue,fe,_e;_.video.settings&&(!Object.keys(_.video.settings).length&&C||(E.video={settings:Ct({},_.video.settings)})),C&&(ue=E.video)!==null&&ue!==void 0&&(ue=ue.settings)!==null&&ue!==void 0&&ue.customTrack&&(E.video.settings={customTrack:this._sharedTracks.videoTrack});var Me=((fe=_.video.processor)===null||fe===void 0?void 0:fe.type)==="none"&&((_e=_.video.processor)===null||_e===void 0?void 0:_e._isDefaultWhenNone);if(_.video.processor&&!Me){var J=Ct({},_.video.processor);delete J._isDefaultWhenNone,E.video=Ct(Ct({},E.video),{},{processor:J})}}return E}}},{key:"getInputSettings",value:function(){var _=this;return dr(),new Promise(function(C){C(_._getInputSettings())})}},{key:"_getInputSettings",value:function(){var _,C,E,B,F,Q,ne={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(_=((E=this._inputSettings)===null||E===void 0?void 0:E.video)||ne,C=((B=this._inputSettings)===null||B===void 0?void 0:B.audio)||ne):(_=((F=this._preloadCache)===null||F===void 0||(F=F.inputSettings)===null||F===void 0?void 0:F.video)||ne,C=((Q=this._preloadCache)===null||Q===void 0||(Q=Q.inputSettings)===null||Q===void 0?void 0:Q.audio)||ne);var le={audio:C,video:_};return this._prepInputSettingsForSharing(le,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(_,C){var E=this._inputSettings||{},B={};if(_.video){var F,Q,ne;B.video={},_.video.settings?(B.video.settings={},C||_.video.settings.customTrack||(ne=E.video)===null||ne===void 0||!ne.settings?B.video.settings=_.video.settings:B.video.settings=Ct(Ct({},E.video.settings),_.video.settings),Object.keys(B.video.settings).length||delete B.video.settings):(F=E.video)!==null&&F!==void 0&&F.settings&&(B.video.settings=E.video.settings),_.video.processor?B.video.processor=_.video.processor:(Q=E.video)!==null&&Q!==void 0&&Q.processor&&(B.video.processor=E.video.processor)}else E.video&&(B.video=E.video);if(_.audio){var le,ue,fe;B.audio={},_.audio.settings?(B.audio.settings={},C||_.audio.settings.customTrack||(fe=E.audio)===null||fe===void 0||!fe.settings?B.audio.settings=_.audio.settings:B.audio.settings=Ct(Ct({},E.audio.settings),_.audio.settings),Object.keys(B.audio.settings).length||delete B.audio.settings):(le=E.audio)!==null&&le!==void 0&&le.settings&&(B.audio.settings=E.audio.settings),_.audio.processor?B.audio.processor=_.audio.processor:(ue=E.audio)!==null&&ue!==void 0&&ue.processor&&(B.audio.processor=E.audio.processor)}else E.audio&&(B.audio=E.audio);this._maybeUpdateInputSettings(B)}},{key:"_devicesFromInputSettings",value:function(_){var C,E,B=(_==null||(C=_.video)===null||C===void 0||(C=C.settings)===null||C===void 0?void 0:C.deviceId)||null,F=(_==null||(E=_.audio)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,Q=this._preloadCache.outputDeviceId||null;return{camera:B?{deviceId:B}:{},mic:F?{deviceId:F}:{},speaker:Q?{deviceId:Q}:{}}}},{key:"updateInputSettings",value:(re=Bt(function*(_){var C=this;return dr(),bV(_)?_.video||_.audio?(_V(_,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(_,!0),this._getInputSettings()):new Promise(function(E,B){C.sendMessageToCallMachine({action:"update-input-settings",inputSettings:_},function(F){if(F.error)B(F.error);else{if(F.returnPreloadCache)return C._updatePreloadCacheInputSettings(_,!0),void E(C._getInputSettings());C._maybeUpdateInputSettings(F.inputSettings),E(C._prepInputSettingsForSharing(F.inputSettings,!0))}})})):this._getInputSettings():(console.error(uk()),Promise.reject(uk()))}),function(_){return re.apply(this,arguments)})},{key:"setBandwidth",value:function(_){var C=_.kbs,E=_.trackConstraints;if(dr(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:C,trackConstraints:E}),this}},{key:"getDailyLang",value:function(){var _=this;if(dr(),this._callMachineInitialized)return new Promise(function(C){_.sendMessageToCallMachine({action:"get-daily-lang"},function(E){delete E.action,delete E.callbackStamp,C(E)})})}},{key:"setDailyLang",value:function(_){return dr(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:_}),this}},{key:"setProxyUrl",value:function(_){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:_}),this}},{key:"setIceConfig",value:function(_){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:_}),this}},{key:"meetingSessionSummary",value:function(){return[hu,ec].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(ee=Bt(function*(){var _=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),sn(this._callState,"getMeetingSession()"),new Promise(function(C){_.sendMessageToCallMachine({action:"get-meeting-session"},function(E){delete E.action,delete E.callbackStamp,C(E)})})}),function(){return ee.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return sn(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";ho(this._callObjectMode,"setMeetingSessionData()"),sn(this._callState,"setMeetingSessionData");try{(function(E,B){new N0e({data:E,mergeStrategy:B})})(_,C)}catch(E){throw console.error(E),E}try{this.sendMessageToCallMachine({action:"set-session-data",data:_,mergeStrategy:C})}catch(E){throw new Error("Error setting meeting session data: ".concat(E))}}},{key:"setUserName",value:function(_,C){var E=this;return this.properties.userName=_,new Promise(function(B){E.sendMessageToCallMachine({action:"set-user-name",name:_??"",thisMeetingOnly:fr()||!!C&&!!C.thisMeetingOnly},function(F){delete F.action,delete F.callbackStamp,B(F)})})}},{key:"setUserData",value:(q=Bt(function*(_){var C=this;try{xV(_)}catch(E){throw console.error(E),E}if(this.properties.userData=_,this._callMachineInitialized)return new Promise(function(E){try{C.sendMessageToCallMachine({action:"set-user-data",userData:_},function(B){delete B.action,delete B.callbackStamp,E(B)})}catch(B){throw new Error("Error setting user data: ".concat(B))}})}),function(_){return q.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(_){if(_&&(_<100||typeof _!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(_){var C=this;if(typeof AudioWorkletNode>"u"&&!fr())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(_),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(E,B){C.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:_},function(F){C._isLocalAudioLevelObserverRunning=!F.error,F.error?B({error:F.error}):E()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:_}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(_){var C=this;if(this.validateAudioLevelInterval(_),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(E,B){C.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:_},function(F){C._isRemoteParticipantsAudioLevelObserverRunning=!F.error,F.error?B({error:F.error}):E()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:_}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:($=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ho(this._callObjectMode,"startCamera()"),G5(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(C)}catch(E){return Promise.reject(E)}else{if(this._didPreAuth){if(C.url&&C.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(C.token&&C.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(C),this.properties=Ct(Ct({},this.properties),C)}return new Promise(function(E){_._preloadCache.inputSettings=_._prepInputSettingsForSharing(_._inputSettings,!1),_.sendMessageToCallMachine({action:"start-camera",properties:$f(_.properties,_.callClientId),preloadCache:$f(_._preloadCache,_.callClientId)},function(B){E({camera:B.camera,mic:B.mic,speaker:B.speaker})})})}),function(){return $.apply(this,arguments)})},{key:"validateCustomTrack",value:function(_,C,E){if(E&&E.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(C&&C!=="music"&&C!=="speech"&&!(C instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(E&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(E))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(_ instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return dr(),sn(this._callState,"startCustomTrack()"),this.validateCustomTrack(C.track,C.mode,C.trackName),new Promise(function(E,B){_._sharedTracks.customTrack=C.track,C.track=mc,_.sendMessageToCallMachine({action:"start-custom-track",properties:C},function(F){F.error?B({error:F.error}):E(F.mediaTag)})})}},{key:"stopCustomTrack",value:function(_){var C=this;return dr(),sn(this._callState,"stopCustomTrack()"),new Promise(function(E){C.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:_},function(B){E(B.mediaTag)})})}},{key:"setCamera",value:function(_){var C=this;return Vg(),G1(this._callMachineInitialized,"setCamera()"),new Promise(function(E){C.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:_},function(B){E({device:B.device})})})}},{key:"setAudioDevice",value:(M=Bt(function*(_){return Vg(),this.nativeUtils().setAudioDevice(_),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(_){return M.apply(this,arguments)})},{key:"cycleCamera",value:function(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(E){_.sendMessageToCallMachine({action:"cycle-camera",properties:C},function(B){E({device:B.device})})})}},{key:"cycleMic",value:function(){var _=this;return dr(),new Promise(function(C){_.sendMessageToCallMachine({action:"cycle-mic"},function(E){C({device:E.device})})})}},{key:"getCameraFacingMode",value:function(){var _=this;return Vg(),new Promise(function(C){_.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(E){C(E.facingMode)})})}},{key:"setInputDevicesAsync",value:(A=Bt(function*(_){var C=this,E=_.audioDeviceId,B=_.videoDeviceId,F=_.audioSource,Q=_.videoSource;if(dr(),F!==void 0&&(E=F),Q!==void 0&&(B=Q),typeof E=="boolean"&&(this._setAllowLocalAudio(E),E=void 0),typeof B=="boolean"&&(this._setAllowLocalVideo(B),B=void 0),!E&&!B)return yield this.getInputDevices();var ne={};return E&&(E instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=E,E=mc,ne.audio={settings:{customTrack:E}}):(delete this._sharedTracks.audioTrack,ne.audio={settings:{deviceId:E}})),B&&(B instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=B,B=mc,ne.video={settings:{customTrack:B}}):(delete this._sharedTracks.videoTrack,ne.video={settings:{deviceId:B}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(ne,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(le){C.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:E,videoDeviceId:B},function(ue){if(delete ue.action,delete ue.callbackStamp,ue.returnPreloadCache)return C._updatePreloadCacheInputSettings(ne,!1),void le(C._devicesFromInputSettings(C._inputSettings));le(ue)})})}),function(_){return A.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(G=Bt(function*(_){var C=this,E=_.outputDeviceId;if(dr(),!E||typeof E!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=E,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(B,F){C.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:E},function(Q){if(delete Q.action,delete Q.callbackStamp,Q.error){var ne=new Error(Q.error.message);return ne.type=Q.error.type,void F(ne)}Q.returnPreloadCache?B(C._devicesFromInputSettings(C._inputSettings)):B(Q)})})}),function(_){return G.apply(this,arguments)})},{key:"getInputDevices",value:(I=Bt(function*(){var _=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(C){_.sendMessageToCallMachine({action:"get-input-devices"},function(E){E.returnPreloadCache?C(_._devicesFromInputSettings(_._inputSettings)):C({camera:E.camera,mic:E.mic,speaker:E.speaker})})})}),function(){return I.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Vg(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(_){if(Vg(),[HO,W0e].includes(_)){if(_!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=_,!this.disableReactNativeAutoDeviceManagement("audio")&&Ox(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",_)}},{key:"preAuth",value:(D=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ho(this._callObjectMode,"preAuth()"),G5(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(C)),!C.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(C),this.properties=Ct(Ct({},this.properties),C),new Promise(function(E,B){_._preloadCache.inputSettings=_._prepInputSettingsForSharing(_._inputSettings,!1),_.sendMessageToCallMachine({action:"daily-method-preauth",properties:$f(_.properties,_.callClientId),preloadCache:$f(_._preloadCache,_.callClientId)},function(F){return F.error?B(F.error):F.access?(_._didPreAuth=!0,void E({access:F.access})):B(new Error("unknown error in preAuth()"))})})}),function(){return D.apply(this,arguments)})},{key:"load",value:(O=Bt(function*(_){var C=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(_&&(this.validateProperties(_),this.properties=Ct(Ct({},this.properties),_)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(bO),this.emitDailyJSEvent({action:dz}),this._callObjectMode?new Promise(function(E,B){C._callObjectLoader.cancel();var F=Date.now();C._callObjectLoader.load(C.properties.dailyConfig,function(Q){C._bundleLoadTime=Q?"no-op":Date.now()-F,C._updateCallState(_O),Q&&C.emitDailyJSEvent({action:ZN}),E()},function(Q,ne){if(C.emitDailyJSEvent({action:hz}),!ne){C._updateCallState(ec),C.resetMeetingDependentVars();var le={action:nk,errorMsg:Q.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:Q,bundleUrl:Hw(C.properties.dailyConfig)}}};C._maybeSendToSentry(le),C.emitDailyJSEvent(le),B(Q.msg)}})}):(this._iframe.src=Bq(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(E,B){C._loadedCallback=function(F){C._callState!==ec?(C._updateCallState(_O),(C.properties.cssFile||C.properties.cssText)&&C.loadCss(C.properties),E()):B(F)}}))}}),function(_){return O.apply(this,arguments)})},{key:"join",value:(R=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var E=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(C)}catch(B){return this.updateIsPreparingToJoin(!1),Promise.reject(B)}}else{if(E=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(C.url&&C.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(C.token&&C.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(C.url&&!this._callObjectMode&&C.url&&C.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(C.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(C),this.properties=Ct(Ct({},this.properties),C)}return C.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!C.showLocalVideo),C.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!C.showParticipantsBar),this._callState===bu||this._callState===Zw?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Zw,!1),this.emitDailyJSEvent({action:mz}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:$f(this.properties,this.callClientId),preloadCache:$f(this._preloadCache,this.callClientId)}),new Promise(function(B,F){_._joinedCallback=function(Q,ne){if(_._callState!==ec){if(_._updateCallState(bu),Q)for(var le in Q){if(_._callObjectMode){var ue=_._callMachine().store;LO(Q[le],ue),IO(Q[le],ue),MO(Q[le],_._participants[le],ue)}_._participants[le]=Ct({},Q[le]),_.toggleParticipantAudioBasedOnNativeAudioFocus()}E&&_.loadCss(_.properties),B(Q)}else F(ne)}}))}),function(){return R.apply(this,arguments)})},{key:"leave",value:(T=Bt(function*(){var _=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(C){_._callState===hu||_._callState===ec?C():_._callObjectLoader&&!_._callObjectLoader.loaded?(_._callObjectLoader.cancel(),_._updateCallState(hu),_.resetMeetingDependentVars(),_.emitDailyJSEvent({action:hu}),C()):(_._resolveLeave=C,_.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return T.apply(this,arguments)})},{key:"startScreenShare",value:(k=Bt(function*(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(G1(this._callMachineInitialized,"startScreenShare()"),C.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",C.screenVideoSendSettings),C.mediaStream&&(this._sharedTracks.screenMediaStream=C.mediaStream,C.mediaStream=mc),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var E=this.nativeUtils();if(yield E.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:rk,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});E.setSystemScreenCaptureStartCallback(function(){E.setSystemScreenCaptureStartCallback(null),_.sendMessageToCallMachine({action:jO,captureOptions:C})}),E.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:jO,captureOptions:C})}),function(){return k.apply(this,arguments)})},{key:"stopScreenShare",value:function(){G1(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=_.type;if(C&&C!=="cloud"&&C!=="raw-tracks"&&C!=="local")throw new Error("invalid type: ".concat(C,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(Ct({action:"local-recording-start"},_))}},{key:"updateRecording",value:function(_){var C=_.layout,E=C===void 0?{preset:"default"}:C,B=_.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:E,instanceId:B})}},{key:"stopRecording",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ct({action:"local-recording-stop"},_))}},{key:"startLiveStreaming",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ct({action:"daily-method-start-live-streaming"},_))}},{key:"updateLiveStreaming",value:function(_){var C=_.layout,E=C===void 0?{preset:"default"}:C,B=_.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:E,instanceId:B})}},{key:"addLiveStreamingEndpoints",value:function(_){var C=_.endpoints,E=_.instanceId;this.sendMessageToCallMachine({action:NO,endpointsOp:v0e,endpoints:C,instanceId:E})}},{key:"removeLiveStreamingEndpoints",value:function(_){var C=_.endpoints,E=_.instanceId;this.sendMessageToCallMachine({action:NO,endpointsOp:y0e,endpoints:C,instanceId:E})}},{key:"stopLiveStreaming",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ct({action:"daily-method-stop-live-streaming"},_))}},{key:"validateDailyConfig",value:function(_){_.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(_.camSimulcastEncodings)),_.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),oV()&&_.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(_){if(!(_ instanceof Array||Array.isArray(_)))throw new Error("encodings must be an Array");if(!tL(_.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var B=0;B<_.length;B++){var F=_[B];for(var Q in this._validateEncodingLayerHasValidProperties(F),F)if(H5.includes(Q)){if(typeof F[Q]!="number")throw new Error("".concat(Q," must be a number"));if(C){var ne=C[Q],le=ne.min,ue=ne.max;if(!tL(F[Q],le,ue))throw new Error("".concat(Q," value not in range. valid range: ").concat(le," to ").concat(ue))}}else if(!["active","scalabilityMode"].includes(Q))throw new Error("Invalid key ".concat(Q,", valid keys are:")+Object.values(H5));if(E&&!F.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(S=Bt(function*(_){var C=this,E=_.url,B=_.settings,F=B===void 0?{state:sk.PLAY}:B;try{(function(Q){if(typeof Q!="string")throw new Error('url parameter must be "string" type')})(E),eL(F),function(Q){for(var ne in Q)if(!KO.includes(ne))throw new Error("Invalid key ".concat(ne,", valid keys are: ").concat(KO));Q.simulcastEncodings&&this.validateSimulcastEncodings(Q.simulcastEncodings,yV,!0)}(F)}catch(Q){throw console.error("invalid argument Error: ".concat(Q)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),Q}return new Promise(function(Q,ne){C.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:E,settings:F},function(le){le.error?ne({error:le.error,errorMsg:le.errorMsg}):Q({session_id:le.session_id,remoteMediaPlayerState:{state:le.state,settings:le.settings}})})})}),function(_){return S.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(b=Bt(function*(_){var C=this;if(typeof _!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(E,B){C.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:_},function(F){F.error?B({error:F.error,errorMsg:F.errorMsg}):E()})})}),function(_){return b.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(g=Bt(function*(_){var C=this,E=_.session_id,B=_.settings;try{eL(B)}catch(F){throw console.error("invalid argument Error: ".concat(F)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),F}return new Promise(function(F,Q){C.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:E,settings:B},function(ne){ne.error?Q({error:ne.error,errorMsg:ne.errorMsg}):F({session_id:ne.session_id,remoteMediaPlayerState:{state:ne.state,settings:ne.settings}})})})}),function(_){return g.apply(this,arguments)})},{key:"startTranscription",value:function(_){sn(this._callState,"startTranscription()"),this.sendMessageToCallMachine(Ct({action:"daily-method-start-transcription"},_))}},{key:"updateTranscription",value:function(_){if(sn(this._callState,"updateTranscription()"),!_)throw new Error("updateTranscription Error: options is mandatory");if(Cr(_)!=="object")throw new Error("updateTranscription Error: options must be object type");if(_.participants&&!Array.isArray(_.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(Ct({action:"daily-method-update-transcription"},_))}},{key:"stopTranscription",value:function(_){if(sn(this._callState,"stopTranscription()"),_&&Cr(_)!=="object")throw new Error("stopTranscription Error: options must be object type");if(_&&!_.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(Ct({action:"daily-method-stop-transcription"},_))}},{key:"startDialOut",value:(x=Bt(function*(_){var C=this;sn(this._callState,"startDialOut()");var E=function(ne){if(ne){if(!Array.isArray(ne))throw new Error("Error starting dial out: audio codec must be an array");if(ne.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");ne.forEach(function(le){if(typeof le!="string")throw new Error("Error starting dial out: audio codec must be a string");if(le!=="OPUS"&&le!=="PCMU"&&le!=="PCMA"&&le!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!_.sipUri&&!_.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(_.sipUri&&_.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(_.sipUri){if(typeof _.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!_.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(_.video&&typeof _.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(ne){if(ne&&(E(ne.audio),ne.video)){if(!Array.isArray(ne.video))throw new Error("Error starting dial out: video codec must be an array");if(ne.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");ne.video.forEach(function(le){if(typeof le!="string")throw new Error("Error starting dial out: video codec must be a string");if(le!=="H264"&&le!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(_.codecs)}if(_.phoneNumber){if(typeof _.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(_.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");_.codecs&&E(_.codecs.audio)}if(_.callerId){if(typeof _.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(_.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(_.displayName){if(typeof _.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(_.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(_.userId){if(typeof _.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(_.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(QO(_),_.permissions&&_.permissions.canReceive){var B=oi(gV.validateJSONObject(_.permissions.canReceive),2),F=B[0],Q=B[1];if(!F)throw new Error(Q)}if(_.provider){if(_.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(_.provider));if(_.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(ne,le){C.sendMessageToCallMachine(Ct({action:"dialout-start"},_),function(ue){ue.error?le(ue.error):ne(ue)})})}),function(_){return x.apply(this,arguments)})},{key:"stopDialOut",value:function(_){var C=this;return sn(this._callState,"stopDialOut()"),new Promise(function(E,B){C.sendMessageToCallMachine(Ct({action:"dialout-stop"},_),function(F){F.error?B(F.error):E(F)})})}},{key:"sipCallTransfer",value:(m=Bt(function*(_){var C=this;if(sn(this._callState,"sipCallTransfer()"),!_)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return _.useSipRefer=!1,XO(_,"sipCallTransfer"),QO(_),new Promise(function(E,B){C.sendMessageToCallMachine(Ct({action:kO},_),function(F){F.error?B(F.error):E(F)})})}),function(_){return m.apply(this,arguments)})},{key:"sipRefer",value:(v=Bt(function*(_){var C=this;if(sn(this._callState,"sipRefer()"),!_)throw new Error("sessionId and toEndPoint are mandatory parameter");return _.useSipRefer=!0,XO(_,"sipRefer"),new Promise(function(E,B){C.sendMessageToCallMachine(Ct({action:kO},_),function(F){F.error?B(F.error):E(F)})})}),function(_){return v.apply(this,arguments)})},{key:"sendDTMF",value:(f=Bt(function*(_){var C=this;return sn(this._callState,"sendDTMF()"),function(E){var B=E.sessionId,F=E.tones;if(!B||!F)throw new Error("sessionId and tones are mandatory parameter");if(typeof B!="string"||typeof F!="string")throw new Error("sessionId and tones should be of string type");if(F.length>20)throw new Error("tones string must be upto 20 characters");var Q=/[^0-9A-D*#]/g,ne=F.match(Q);if(ne&&ne[0])throw new Error("".concat(ne[0]," is not valid DTMF tone"))}(_),new Promise(function(E,B){C.sendMessageToCallMachine(Ct({action:"send-dtmf"},_),function(F){F.error?B(F.error):E(F)})})}),function(_){return f.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var _=this;return this._callState!==bu?Promise.resolve(Ct({stats:{latest:{}}},this._network)):new Promise(function(C){_.sendMessageToCallMachine({action:"get-calc-stats"},function(E){C(Ct(Ct({},_._network),{},{stats:E.stats}))})})}},{key:"testWebsocketConnectivity",value:(p=Bt(function*(){var _=this;if(Y5(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(C){return Promise.reject(C)}return new Promise(function(C,E){_.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(B){B.error?E(B.error):C(B.results)})})}),function(){return p.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(_){return _?_ instanceof MediaStreamTrack?!!B0e(_)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=Bt(function*(){var _=this;dr(),ho(this._callObjectMode,"testCallQuality()"),G1(this._callMachineInitialized,"testCallQuality()",null,!0),G5(this._callState,this._isPreparingToJoin,"testCallQuality()");var C=this._testCallAlreadyInProgress,E=function(F){C||(_._testCallInProgress=F)};if(E(!0),this.needsLoad())try{var B=this._callState;yield this.load(),this._callState=B}catch(F){return E(!1),Promise.reject(F)}return new Promise(function(F){_.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:_.properties.dailyJsVersion},function(Q){var ne=Q.results,le=ne.result,ue=gR(ne,z0e);if(le==="failed"){var fe,_e=Ct({},ue);(fe=ue.error)!==null&&fe!==void 0&&fe.details?(ue.error.details=JSON.parse(ue.error.details),_e.error=Ct(Ct({},_e.error),{},{details:Ct({},_e.error.details)}),_e.error.details.duringTest="testCallQuality"):(_e.error=_e.error?Ct({},_e.error):{},_e.error.details={duringTest:"testCallQuality"}),_._maybeSendToSentry(_e)}E(!1),F(Ct({result:le},ue))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=Bt(function*(_){var C;fr()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),C=yield this.testPeerToPeerCallQuality(_)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),C=yield this.testCallQuality());var E={result:C.result,secondsElapsed:C.secondsElapsed};return C.data&&(E.data={maxRTT:C.data.maxRoundTripTime,packetLoss:C.data.avgRecvPacketLoss}),E}),function(_){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=Bt(function*(_){var C=this;if(Y5(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(F){return Promise.reject(F)}var E=_.videoTrack,B=_.duration;if(!this._validateVideoTrackForNetworkTests(E))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=E,new Promise(function(F,Q){C.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:B},function(ne){ne.error?Q(ne.error):F(ne.results)})})}),function(_){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){fr()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=Bt(function*(_){var C=this;if(Y5(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}if(!this._validateVideoTrackForNetworkTests(_))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=_,new Promise(function(E,B){C.sendMessageToCallMachine({action:"test-network-connectivity"},function(F){F.error?B(F.error):E(F.results)})})}),function(_){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var _=this;return new Promise(function(C){_._callState===bu?_.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(E){C(E.cpuStats)}):C({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(_){var C;if(!(((C=Object.keys(_))===null||C===void 0?void 0:C.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(H5))}},{key:"_validateVideoSendSettings",value:function(_,C){var E=_==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],B="Video send settings should be either an object or one of the supported presets: ".concat(E.join());if(typeof C=="string"){if(!E.includes(C))throw new Error(B)}else{if(Cr(C)!=="object")throw new Error(B);if(!C.maxQuality&&!C.encodings&&C.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(C.maxQuality&&["low","medium","high"].indexOf(C.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(C.encodings){var F=!1;switch(Object.keys(C.encodings).length){case 1:F=!C.encodings.low;break;case 2:F=!C.encodings.low||!C.encodings.medium;break;case 3:F=!C.encodings.low||!C.encodings.medium||!C.encodings.high;break;default:F=!0}if(F)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");C.encodings.low&&this._validateEncodingLayerHasValidProperties(C.encodings.low),C.encodings.medium&&this._validateEncodingLayerHasValidProperties(C.encodings.medium),C.encodings.high&&this._validateEncodingLayerHasValidProperties(C.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(_){var C=this;if(!_||Object.keys(_).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(_).forEach(function(E){var B=oi(E,2),F=B[0],Q=B[1];C._validateVideoSendSettings(F,Q)})}},{key:"updateSendSettings",value:function(_){var C=this;return this.validateUpdateSendSettings(_),this.needsLoad()?(this._preloadCache.sendSettings=_,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(E,B){C.sendMessageToCallMachine({action:"update-send-settings",sendSettings:_},function(F){F.error?B(F.error):E(F.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return dr(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(_){return dr(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:_}),this}},{key:"activeSpeakerMode",value:function(){return dr(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(_){return sn(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=_,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:_}),this}},{key:"enumerateDevices",value:(l=Bt(function*(){var _=this;if(this._callObjectMode){var C=yield navigator.mediaDevices.enumerateDevices();return Vh()==="Firefox"&&Xw().major>115&&Xw().major<123&&(C=C.filter(function(E){return E.kind!=="audiooutput"})),{devices:C.map(function(E){var B=JSON.parse(JSON.stringify(E));if(!fr()&&E.kind==="videoinput"&&E.getCapabilities){var F,Q=E.getCapabilities();B.facing=(Q==null||(F=Q.facingMode)===null||F===void 0?void 0:F.length)>=1?Q.facingMode[0]:void 0}return B})}}return new Promise(function(E){_.sendMessageToCallMachine({action:"enumerate-devices"},function(B){E({devices:B.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(sn(this._callState,"sendAppMessage()"),JSON.stringify(_).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:_,to:C}),this}},{key:"addFakeParticipant",value:function(_){return dr(),sn(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Ct({action:"add-fake-participant"},_)),this}},{key:"setShowNamesMode",value:function(_){return ra(this._callObjectMode,"setShowNamesMode()"),dr(),_&&_!=="always"&&_!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:_}),this)}},{key:"setShowLocalVideo",value:function(){var _=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ra(this._callObjectMode,"setShowLocalVideo()"),dr(),sn(this._callState,"setShowLocalVideo()"),typeof _!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:_}),this._showLocalVideo=_,this)}},{key:"showLocalVideo",value:function(){return ra(this._callObjectMode,"showLocalVideo()"),dr(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var _=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ra(this._callObjectMode,"setShowParticipantsBar()"),dr(),sn(this._callState,"setShowParticipantsBar()"),typeof _!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:_}),this._showParticipantsBar=_,this)}},{key:"showParticipantsBar",value:function(){return ra(this._callObjectMode,"showParticipantsBar()"),dr(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return dr(),ra(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(_){return dr(),ra(this._callObjectMode,"setCustomIntegrations()"),sn(this._callState,"setCustomIntegrations()"),kV(_)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:_}),this._customIntegrations=_,this):this}},{key:"startCustomIntegrations",value:function(_){var C=this;if(dr(),ra(this._callObjectMode,"startCustomIntegrations()"),sn(this._callState,"startCustomIntegrations()"),Array.isArray(_)&&_.some(function(F){return typeof F!="string"})||!Array.isArray(_)&&typeof _!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var E=typeof _=="string"?[_]:_,B=E.filter(function(F){return!(F in C._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:E}),this)}},{key:"stopCustomIntegrations",value:function(_){var C=this;if(dr(),ra(this._callObjectMode,"stopCustomIntegrations()"),sn(this._callState,"stopCustomIntegrations()"),Array.isArray(_)&&_.some(function(F){return typeof F!="string"})||!Array.isArray(_)&&typeof _!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var E=typeof _=="string"?[_]:_,B=E.filter(function(F){return!(F in C._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:E}),this)}},{key:"customTrayButtons",value:function(){return ra(this._callObjectMode,"customTrayButtons()"),dr(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(_){return ra(this._callObjectMode,"updateCustomTrayButtons()"),dr(),sn(this._callState,"updateCustomTrayButtons()"),NV(_)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:_}),this._customTrayButtons=_,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(tb))),this)}},{key:"theme",value:function(){return ra(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(_){var C=this;return ra(this._callObjectMode,"setTheme()"),new Promise(function(E,B){try{C.validateProperties({theme:_}),C.properties.theme=Ct({},_),C.sendMessageToCallMachine({action:"set-theme",theme:C.properties.theme});try{C.emitDailyJSEvent({action:uz,theme:C.properties.theme})}catch(F){console.log("could not emit 'theme-updated'",F)}E(C.properties.theme)}catch(F){B(F)}})}},{key:"requestFullscreen",value:(a=Bt(function*(){if(dr(),this._iframe&&!document.fullscreenElement&&CO())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(_){console.log("could not make video call fullscreen",_)}}),function(){return a.apply(this,arguments)})},{key:"exitFullscreen",value:function(){dr(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=Bt(function*(){var _=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(C){_.sendMessageToCallMachine({action:"get-sidebar-view"},function(E){C(E.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(_){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:_}),this)}},{key:"room",value:(s=Bt(function*(){var _=this,C=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,E=C===void 0||C;return this._accessState.access===Tx||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(B){_.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:E},function(F){delete F.action,delete F.callbackStamp,B(F)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(n=Bt(function*(){try{var _=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield _.json()).geo}}catch(C){return console.error("geo lookup failed",C),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=Bt(function*(_){var C=this;return dr(),sn(this._callState,"setNetworkTopology()"),new Promise(function(E,B){C.sendMessageToCallMachine({action:"set-network-topology",opts:_},function(F){F.error?B({error:F.error}):E({workerId:F.workerId})})})}),function(_){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=Bt(function*(){var _=this;return new Promise(function(C,E){_.needsLoad()&&C({topology:"none"}),_.sendMessageToCallMachine({action:"get-network-topology"},function(B){B.error?E({error:B.error}):C({topology:B.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(_){if(dr(),typeof _!="number"&&_!==!0&&_!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(_));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:_})}},{key:"on",value:function(_,C){return M1.prototype.on.call(this,_,C)}},{key:"once",value:function(_,C){return M1.prototype.once.call(this,_,C)}},{key:"off",value:function(_,C){return M1.prototype.off.call(this,_,C)}},{key:"validateProperties",value:function(_){var C,E;if(_!=null&&(C=_.dailyConfig)!==null&&C!==void 0&&C.userMediaAudioConstraints){var B,F;fr()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var Q=_.inputSettings||{};Q.audio=((B=_.inputSettings)===null||B===void 0?void 0:B.audio)||{},Q.audio.settings=((F=_.inputSettings)===null||F===void 0||(F=F.audio)===null||F===void 0?void 0:F.settings)||{},Q.audio.settings=Ct(Ct({},Q.audio.settings),_.dailyConfig.userMediaAudioConstraints),_.inputSettings=Q,delete _.dailyConfig.userMediaAudioConstraints}if(_!=null&&(E=_.dailyConfig)!==null&&E!==void 0&&E.userMediaVideoConstraints){var ne,le;fr()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var ue=_.inputSettings||{};ue.video=((ne=_.inputSettings)===null||ne===void 0?void 0:ne.video)||{},ue.video.settings=((le=_.inputSettings)===null||le===void 0||(le=le.video)===null||le===void 0?void 0:le.settings)||{},ue.video.settings=Ct(Ct({},ue.video.settings),_.dailyConfig.userMediaVideoConstraints),_.inputSettings=ue,delete _.dailyConfig.userMediaVideoConstraints}for(var fe in _)if(Bd[fe]){if(Bd[fe].validate&&!Bd[fe].validate(_[fe],this))throw new Error("property '".concat(fe,"': ").concat(Bd[fe].help))}else console.warn("Ignoring unrecognized property '".concat(fe,"'")),delete _[fe]}},{key:"assembleMeetingUrl",value:function(){var _,C,E=Ct(Ct({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(_=this.properties.dailyConfig)!==null&&_!==void 0&&_.proxyUrl?encodeURIComponent((C=this.properties.dailyConfig)===null||C===void 0?void 0:C.proxyUrl):void 0}),B=E.url.match(/\?/)?"&":"?";return E.url+B+Object.keys(Bd).filter(function(F){return Bd[F].queryString&&E[F]!==void 0}).map(function(F){return"".concat(Bd[F].queryString,"=").concat(E[F])}).join("&")}},{key:"needsLoad",value:function(){return[JN,bO,hu,ec].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(_,C){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(_,C,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(_){this._messageChannel.forwardPackagedMessageToCallMachine(_,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(_){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(_,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(_){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(_)}},{key:"handleMessageFromCallMachine",value:function(_){switch(_.action){case lz:this.sendMessageToCallMachine(Ct({action:cz},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var C={action:V1,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Hw(this.properties.dailyConfig)}};this.sendMessageToCallMachine(C),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case ZN:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(_);break;case gz:var E,B=Ct({},_);delete B.internal,this._maxAppMessageSize=((E=_.internal)===null||E===void 0?void 0:E._maxAppMessageSize)||B5,this._joinedCallback&&(this._joinedCallback(_.participants),this._joinedCallback=null),this.emitDailyJSEvent(B);break;case yz:case xz:if(this._callState===hu)return;if(_.participant&&_.participant.session_id){var F=_.participant.local?"local":_.participant.session_id;if(this._callObjectMode){var Q=this._callMachine().store;LO(_.participant,Q),IO(_.participant,Q),MO(_.participant,this._participants[F],Q)}try{this.maybeParticipantTracksStopped(this._participants[F],_.participant),this.maybeParticipantTracksStarted(this._participants[F],_.participant),this.maybeEventRecordingStopped(this._participants[F],_.participant),this.maybeEventRecordingStarted(this._participants[F],_.participant)}catch(Le){console.error("track events error",Le)}this.compareEqualForParticipantUpdateEvent(_.participant,this._participants[F])||(this._participants[F]=Ct({},_.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(_))}break;case wz:if(_.participant&&_.participant.session_id){var ne=this._participants[_.participant.session_id];ne&&this.maybeParticipantTracksStopped(ne,null),delete this._participants[_.participant.session_id],this.emitDailyJSEvent(_)}break;case bz:Si(this._participantCounts,_.participantCounts)||(this._participantCounts=_.participantCounts,this.emitDailyJSEvent(_));break;case _z:var le={access:_.access};_.awaitingAccess&&(le.awaitingAccess=_.awaitingAccess),Si(this._accessState,le)||(this._accessState=le,this.emitDailyJSEvent(_));break;case Sz:if(_.meetingSession){this._meetingSessionSummary=_.meetingSession,this.emitDailyJSEvent(_);var ue=Ct(Ct({},_),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(ue)}break;case nk:var fe;this._iframe&&!_.preserveIframe&&(this._iframe.src=""),this._updateCallState(ec),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(_.errorMsg),this._loadedCallback=null),_.preserveIframe;var _e=gR(_,V0e);_e!=null&&(fe=_e.error)!==null&&fe!==void 0&&fe.details&&(_e.error.details=JSON.parse(_e.error.details)),this._maybeSendToSentry(_),this._joinedCallback&&(this._joinedCallback(null,_e),this._joinedCallback=null),this.emitDailyJSEvent(_e);break;case vz:this._callState!==ec&&this._updateCallState(hu),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(_);break;case"selected-devices-updated":_.devices&&this.emitDailyJSEvent(_);break;case Gz:var Me=_.state,J=_.threshold,De=_.quality,Ge=Me.state,Ye=Me.reasons;Ge===this._network.networkState&&Si(Ye,this._network.networkStateReasons)&&J===this._network.threshold&&De===this._network.quality||(this._network.networkState=Ge,this._network.networkStateReasons=Ye,this._network.quality=De,this._network.threshold=J,_.networkState=Ge,Ye.length&&(_.networkStateReasons=Ye),delete _.state,this.emitDailyJSEvent(_));break;case Kz:_&&_.cpuLoadState&&this.emitDailyJSEvent(_);break;case Jz:_&&_.faceCounts!==void 0&&this.emitDailyJSEvent(_);break;case Wz:var ve=_.activeSpeaker;this._activeSpeaker.peerId!==ve.peerId&&(this._activeSpeaker.peerId=ve.peerId,this.emitDailyJSEvent({action:_.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var se=_.show;this._showLocalVideo=se,this.emitDailyJSEvent({action:_.action,show:se});break;case Hz:var ce=_.enabled;this._activeSpeakerMode!==ce&&(this._activeSpeakerMode=ce,this.emitDailyJSEvent({action:_.action,enabled:this._activeSpeakerMode}));break;case Nz:case kz:case Cz:this._waitingParticipants=_.allWaitingParticipants,this.emitDailyJSEvent({action:_.action,participant:_.participant});break;case rV:Si(this._receiveSettings,_.receiveSettings)||(this._receiveSettings=_.receiveSettings,this.emitDailyJSEvent({action:_.action,receiveSettings:_.receiveSettings}));break;case tk:this._maybeUpdateInputSettings(_.inputSettings);break;case"send-settings-updated":Si(this._sendSettings,_.sendSettings)||(this._sendSettings=_.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:_.action,sendSettings:_.sendSettings}));break;case"local-audio-level":this._localAudioLevel=_.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(_);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=_.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(_);break;case $z:var xe=_.session_id;this._rmpPlayerState[xe]=_.playerState,this.emitDailyJSEvent(_);break;case Uz:delete this._rmpPlayerState[_.session_id],this.emitDailyJSEvent(_);break;case Bz:var Ne=_.session_id,Oe=this._rmpPlayerState[Ne];Oe&&this.compareEqualForRMPUpdateEvent(Oe,_.remoteMediaPlayerState)||(this._rmpPlayerState[Ne]=_.remoteMediaPlayerState,this.emitDailyJSEvent(_));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(_);break;case jz:var Ce=this._meetingSessionState.topology!==(_.meetingSessionState&&_.meetingSessionState.topology);this._meetingSessionState=K5(_.meetingSessionState,this._callObjectMode),(this._callObjectMode||Ce)&&this.emitDailyJSEvent(_);break;case qz:this._isScreenSharing=!0,this.emitDailyJSEvent(_);break;case zz:case Vz:this._isScreenSharing=!1,this.emitDailyJSEvent(_);break;case XN:case ek:case Oz:case Lz:case Iz:case Pz:case Tz:case Rz:case fz:case pz:case Dz:case Fz:case"test-completed":case Yz:case Mz:case Qz:case Zz:case Xz:case eV:case rk:case tV:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(_);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(_,C){var E="record";_&&(C.local||C[E]!==!1||_[E]===C[E]||this.emitDailyJSEvent({action:ek}))}},{key:"maybeEventRecordingStarted",value:function(_,C){var E="record";_&&(C.local||C[E]!==!0||_[E]===C[E]||this.emitDailyJSEvent({action:XN}))}},{key:"_trackStatePlayable",value:function(_){return!(!_||_.state!==nz)}},{key:"_trackChanged",value:function(_,C){return(_==null?void 0:_.id)!==(C==null?void 0:C.id)}},{key:"maybeEventTrackStopped",value:function(_,C,E){var B,F,Q=(B=C==null?void 0:C.tracks[_])!==null&&B!==void 0?B:null,ne=(F=E==null?void 0:E.tracks[_])!==null&&F!==void 0?F:null,le=Q==null?void 0:Q.track;if(le){var ue=this._trackStatePlayable(Q),fe=this._trackStatePlayable(ne),_e=this._trackChanged(le,ne==null?void 0:ne.track);ue&&(fe&&!_e||this.emitDailyJSEvent({action:Az,track:le,participant:E??C,type:_}))}}},{key:"maybeEventTrackStarted",value:function(_,C,E){var B,F,Q=(B=C==null?void 0:C.tracks[_])!==null&&B!==void 0?B:null,ne=(F=E==null?void 0:E.tracks[_])!==null&&F!==void 0?F:null,le=ne==null?void 0:ne.track;if(le){var ue=this._trackStatePlayable(Q),fe=this._trackStatePlayable(ne),_e=this._trackChanged(Q==null?void 0:Q.track,le);fe&&(ue&&!_e||this.emitDailyJSEvent({action:Ez,track:le,participant:E,type:_}))}}},{key:"maybeParticipantTracksStopped",value:function(_,C){if(_)for(var E in _.tracks)this.maybeEventTrackStopped(E,_,C)}},{key:"maybeParticipantTracksStarted",value:function(_,C){if(C)for(var E in C.tracks)this.maybeEventTrackStarted(E,_,C)}},{key:"compareEqualForRMPUpdateEvent",value:function(_,C){var E,B;return _.state===C.state&&((E=_.settings)===null||E===void 0?void 0:E.volume)===((B=C.settings)===null||B===void 0?void 0:B.volume)}},{key:"emitDailyJSEvent",value:function(_){try{_.callClientId=this.callClientId,this.emit(_.action,_)}catch(C){console.log("could not emit",_,C)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(_,C){return!!Si(_,C)&&(!_.videoTrack||!C.videoTrack||_.videoTrack.id===C.videoTrack.id&&_.videoTrack.muted===C.videoTrack.muted&&_.videoTrack.enabled===C.videoTrack.enabled)&&(!_.audioTrack||!C.audioTrack||_.audioTrack.id===C.audioTrack.id&&_.audioTrack.muted===C.audioTrack.muted&&_.audioTrack.enabled===C.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return fr()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(_){this._updateCallState(this._callState,_)}},{key:"_updateCallState",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(_!==this._callState||C!==this._isPreparingToJoin){var E=this._callState,B=this._isPreparingToJoin;this._callState=_,this._isPreparingToJoin=C;var F=this._callState===bu;this.updateShowAndroidOngoingMeetingNotification(F);var Q=Ox(E,B),ne=Ox(this._callState,this._isPreparingToJoin);Q!==ne&&(this.updateKeepDeviceAwake(ne),this.updateDeviceAudioMode(ne),this.updateNoOpRecordingEnsuringBackgroundContinuity(ne))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=YO,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Tx},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=K5(GO,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=B5,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(_){fr()&&this.nativeUtils().setKeepDeviceAwake(_,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(_){if(fr()&&!this.disableReactNativeAutoDeviceManagement("audio")){var C=_?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(C)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(_){if(fr()&&this.nativeUtils().setShowOngoingMeetingNotification){var C,E,B,F;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var Q=this.properties.reactNativeConfig.androidInCallNotification;C=Q.title,E=Q.subtitle,B=Q.iconName,F=Q.disableForCustomOverride}F&&(_=!1),this.nativeUtils().setShowOngoingMeetingNotification(_,C,E,B,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(_){fr()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(_)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var _;if(fr()){var C=(_=this._callMachine())===null||_===void 0||(_=_.store)===null||_===void 0?void 0:_.getState();for(var E in C==null?void 0:C.streams){var B=C.streams[E];B&&B.pendingTrack&&B.pendingTrack.kind==="audio"&&(B.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(_){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[_]}},{key:"absoluteUrl",value:function(_){if(_!==void 0){var C=document.createElement("a");return C.href=_,C.href}}},{key:"sayHello",value:function(){var _="hello, world.";return console.log(_),_}},{key:"_logUseAfterDestroy",value:function(){var _=Object.values($d)[0];if(this.needsLoad())if(_&&!_.needsLoad()){var C={action:V1,level:"error",code:this.strictMode?9995:9997};_.sendMessageToCallMachine(C)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var E={action:V1,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(E,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var _=0,C=Object.values($d);_<C.length;_++){var E=C[_];E._callMachineInitialized?(E.sendMessageToCallMachine({action:V1,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),E._delayDuplicateInstanceLog=!1):E._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(_){var C,E,B,F;if(!((C=_.error)!==null&&C!==void 0&&C.type&&(![oz,az,QN].includes(_.error.type)||_.error.type===QN&&_.error.msg.includes("deleted")))){var Q=(E=this.properties)!==null&&E!==void 0&&E.url?new URL(this.properties.url):void 0,ne="production";Q&&Q.host.includes(".staging.daily")&&(ne="staging");var le,ue,fe,_e,Me,J=function(xe){const Ne=[fve(),dve(),$ve(),Dve(),Vve(),Hve(),vve(),Wve()];return xe.autoSessionTracking!==!1&&Ne.push(zve()),Ne}({}).filter(function(xe){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(xe.name)}),De=new Nve({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:Pve,stackParser:Mve,integrations:J,environment:ne}),Ge=new ld;if(Ge.setClient(De),De.init(),this.session_id&&Ge.setExtra("sessionId",this.session_id),this.properties){var Ye=Ct({},this.properties);Ye.userName=Ye.userName?"[Filtered]":void 0,Ye.userData=Ye.userData?"[Filtered]":void 0,Ye.token=Ye.token?"[Filtered]":void 0,Ge.setExtra("properties",Ye)}if(Q){var ve=Q.searchParams.get("domain");if(!ve){var se=Q.host.match(/(.*?)\./);ve=se&&se[1]||""}ve&&Ge.setTag("domain",ve)}_.error&&(Ge.setTag("fatalErrorType",_.error.type),Ge.setExtra("errorDetails",_.error.details),!((le=_.error.details)===null||le===void 0)&&le.uri&&Ge.setTag("serverAddress",_.error.details.uri),!((ue=_.error.details)===null||ue===void 0)&&ue.workerGroup&&Ge.setTag("workerGroup",_.error.details.workerGroup),!((fe=_.error.details)===null||fe===void 0)&&fe.geoGroup&&Ge.setTag("geoGroup",_.error.details.geoGroup),!((_e=_.error.details)===null||_e===void 0)&&_e.on&&Ge.setTag("connectionAttempt",_.error.details.on),(Me=_.error.details)!==null&&Me!==void 0&&Me.bundleUrl&&(Ge.setTag("bundleUrl",_.error.details.bundleUrl),Ge.setTag("bundleError",_.error.details.sourceError.type))),Ge.setTags({callMode:this._callObjectMode?fr()?"reactNative":(B=this.properties)!==null&&B!==void 0&&(B=B.dailyConfig)!==null&&B!==void 0&&(B=B.callMode)!==null&&B!==void 0&&B.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var ce=((F=_.error)===null||F===void 0?void 0:F.msg)||_.errorMsg;Ge.captureException(new Error(ce))}}},{key:"_callMachine",value:function(){var _;return(_=window._daily)===null||_===void 0||(_=_.instances)===null||_===void 0||(_=_[this.callClientId])===null||_===void 0?void 0:_.callMachine}},{key:"_maybeUpdateInputSettings",value:function(_){if(!Si(this._inputSettings,_)){var C=this._getInputSettings();this._inputSettings=_;var E=this._getInputSettings();Si(C,E)||this.emitDailyJSEvent({action:tk,inputSettings:E})}}}],[{key:"supportedBrowser",value:function(){if(fr())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var _=Rge.getParser(Qa());return{supported:!!z5(),mobile:_.getPlatformType()==="mobile",name:_.getBrowserName(),version:_.getBrowserVersion(),supportsFullscreen:!!CO(),supportsScreenShare:!!x0e(),supportsSfu:!!z5(),supportsVideoProcessing:iV(),supportsAudioProcessing:aV()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _.layout="none",new e(null,_)}},{key:"wrap",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(dr(),!_||!_.contentWindow||typeof _.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return C.layout||(C.customLayout?C.layout="custom-v1":C.layout="browser"),new e(_,C)}},{key:"createFrame",value:function(_,C){var E,B;dr(),_&&C?(E=_,B=C):_&&_.append?(E=_,B={}):(E=document.body,B=_||{});var F=B.iframeStyle;F||(F=E===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var Q=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?Q.allow="microphone, camera":Q.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",Q.style.visibility="hidden",E.appendChild(Q),Q.style.visibility=null,Object.keys(F).forEach(function(ne){return Q.style[ne]=F[ne]}),B.layout||(B.customLayout?B.layout="custom-v1":B.layout="browser");try{return new e(Q,B)}catch(ne){throw E.removeChild(Q),ne}}},{key:"createTransparentFrame",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dr();var C=document.createElement("iframe");return C.allow="microphone; camera; autoplay",C.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(C),_.layout||(_.layout="custom-v1"),e.wrap(C,_)}},{key:"getCallInstance",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return _?$d[_]:Object.values($d)[0]}}]);var t,r,n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,b,S,k,T,R,O,D,I,G,A,M,$,q,ee,re,te,W,Z,pe,ge,U}();function QO(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function $f(e,t){var r={};for(var n in e)if(e[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=mc;else if(n==="dailyConfig"){if(e[n].modifyLocalSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyLocalSdpHook=e[n].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=s,delete e[n].modifyLocalSdpHook}if(e[n].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[n].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[n].modifyRemoteSdpHook}r[n]=e[n]}else r[n]=e[n];return r}function sn(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==bu){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(r+=" ".concat(t)),console.error(r),new Error(r)}}function Ox(e,t){return[Zw,bu].includes(e)||t}function G5(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(Ox(e,t)){var s="".concat(r," not supported after joining a meeting.");throw n&&(s+=" ".concat(n)),console.error(s),new Error(s)}}function G1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!e){var n="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function Y5(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function ho(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function ra(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function dr(){if(fr())throw new Error("This daily-js method is not currently supported in React Native")}function Vg(){if(!fr())throw new Error("This daily-js method is only supported in React Native")}function xV(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Si(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function wV(e,t){for(var r=t.allowAllParticipantsKey,n=function(h){var p=["local"];return r||p.push("*"),h&&!p.includes(h)},s=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!s(h.video))&&!(h.screenVideo&&!s(h.screenVideo))},a=0,l=Object.entries(e);a<l.length;a++){var c=oi(l[a],2),u=c[0],d=c[1];if(!n(u)||!i(d))return!1}return!0}function bV(e){if(Cr(e)!=="object")return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=oi(r[t],2),s=n[0],i=n[1];switch(s){case"video":if(Cr(i)!=="object")return!1;for(var a=0,l=Object.entries(i);a<l.length;a++){var c=oi(l[a],2),u=c[0],d=c[1];switch(u){case"processor":if(!Y0e(d))return!1;break;case"settings":if(!ZO(d))return!1;break;default:return!1}}break;case"audio":if(Cr(i)!=="object")return!1;for(var h=0,p=Object.entries(i);h<p.length;h++){var f=oi(p[h],2),v=f[0],m=f[1];switch(v){case"processor":if(!G0e(m))return!1;break;case"settings":if(!ZO(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function _V(e,t,r){var n,s=[];e.video&&e.video.processor&&(iV((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(e.video.settings?delete e.video.processor:delete e.video,s.push("video"))),e.audio&&e.audio.processor&&(aV()||(e.audio.settings?delete e.audio.processor:delete e.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(r.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:mc}):delete r.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(r.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:mc}):delete r.videoTrack)}function G0e(e){if(fr())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Cr(e)==="object"&&(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete e[r]}),!!function(r){return typeof r!="string"?!1:Object.values(nV).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function Y0e(e){if(fr())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Cr(e)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(Rx).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Cr(e.config)!=="object"||!function(r,n){var s=Object.keys(n);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(r){case Rx.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case Rx.BGIMAGE:return!(n.source!==void 0&&!function(a){if(a.source==="default")return a.type="default",!0;if(a.source instanceof ArrayBuffer)return!0;if(Gw(a.source))return a.type="url",!!function(u){var d=new URL(u),h=d.pathname;if(d.protocol==="data:")try{var p=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return q5.includes(p)}catch(v){return console.error("failed to deduce blob content type",v),!1}var f=h.split(".").at(-1).toLowerCase().trim();return q5.includes(f)}(a.source)||(console.error("invalid image type; supported types: [".concat(q5.join(", "),"]")),!1);return l=a.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(a.type="daily-preselect",!0);var l,c}(n));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete e[r]}),!0)}function ZO(e){return Cr(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function uk(){var e=Object.values(Rx).join(" | "),t=Object.values(nV).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function SV(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(iz).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function jV(){return"customIntegrations should be an object of type ".concat(JSON.stringify(ck),".")}function NV(e){if(e&&Cr(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(tb),".")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=oi(r[t],1)[0],s=0,i=Object.entries(e[n]);s<i.length;s++){var a=oi(i[s],2),l=a[0],c=a[1],u=tb.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!Gw(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(Cr(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function kV(e){if(!e||e&&Cr(e)!=="object"||Array.isArray(e))return console.error(jV()),!1;for(var t=function(h){return"".concat(h," should be ").concat(ck.id[h])},r=function(h,p){return console.error("customIntegration ".concat(h,": ").concat(p))},n=0,s=Object.entries(e);n<s.length;n++){var i=oi(s[n],1)[0];if(!("label"in e[i]))return r(i,"label is required"),!1;if(!("location"in e[i]))return r(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return r(i,"src or srcdoc is required"),!1;for(var a=0,l=Object.entries(e[i]);a<l.length;a++){var c=oi(l[a],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(i,t(u)),!1;break;case"iconURL":if(!Gw(d))return r(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(!Gw(d))return r(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return r(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(i,t(u)),!1;break;default:if(!ck.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function CV(e,t){if(t===void 0)return!1;switch(Cr(t)){case"string":return Cr(e)===t;case"object":if(Cr(e)!=="object")return!1;for(var r in e)if(!CV(e[r],t[r]))return!1;return!0;default:return!1}}function XO(e,t){var r=e.sessionId,n=e.toEndPoint,s=e.callerId,i=e.useSipRefer;if(!r||!n)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!n.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function eL(e){if(Cr(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(sk).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(sk));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function tL(e,t,r){return!(typeof e!="number"||e<t||e>r)}function K5(e,t){return e&&!t&&delete e.data,e}const K0e=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:sz,DAILY_ACCESS_LEVEL_LOBBY:Zve,DAILY_ACCESS_LEVEL_NONE:Xve,DAILY_ACCESS_UNKNOWN:Tx,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:u0e,DAILY_CAMERA_ERROR_CAM_IN_USE:l0e,DAILY_CAMERA_ERROR_CONSTRAINTS:p0e,DAILY_CAMERA_ERROR_MIC_IN_USE:c0e,DAILY_CAMERA_ERROR_NOT_FOUND:f0e,DAILY_CAMERA_ERROR_PERMISSIONS:d0e,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:h0e,DAILY_CAMERA_ERROR_UNKNOWN:m0e,DAILY_EVENT_ACCESS_STATE_UPDATED:_z,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:Wz,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:Hz,DAILY_EVENT_APP_MSG:Dz,DAILY_EVENT_CAMERA_ERROR:pz,DAILY_EVENT_CPU_LOAD_CHANGE:Kz,DAILY_EVENT_ERROR:nk,DAILY_EVENT_EXIT_FULLSCREEN:ov,DAILY_EVENT_FACE_COUNTS_UPDATED:Jz,DAILY_EVENT_FULLSCREEN:av,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:cz,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:lz,DAILY_EVENT_INPUT_SETTINGS_UPDATED:tk,DAILY_EVENT_JOINED_MEETING:gz,DAILY_EVENT_JOINING_MEETING:mz,DAILY_EVENT_LANG_UPDATED:tV,DAILY_EVENT_LEFT_MEETING:vz,DAILY_EVENT_LIVE_STREAMING_ERROR:eV,DAILY_EVENT_LIVE_STREAMING_STARTED:Qz,DAILY_EVENT_LIVE_STREAMING_STOPPED:Xz,DAILY_EVENT_LIVE_STREAMING_UPDATED:Zz,DAILY_EVENT_LOADED:ZN,DAILY_EVENT_LOADING:dz,DAILY_EVENT_LOAD_ATTEMPT_FAILED:hz,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:Vz,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:qz,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:zz,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:g0e,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:jz,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:Sz,DAILY_EVENT_NETWORK_CONNECTION:Yz,DAILY_EVENT_NETWORK_QUALITY_CHANGE:Gz,DAILY_EVENT_NONFATAL_ERROR:rk,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:bz,DAILY_EVENT_PARTICIPANT_JOINED:yz,DAILY_EVENT_PARTICIPANT_LEFT:wz,DAILY_EVENT_PARTICIPANT_UPDATED:xz,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:rV,DAILY_EVENT_RECORDING_DATA:Mz,DAILY_EVENT_RECORDING_ERROR:Lz,DAILY_EVENT_RECORDING_STARTED:XN,DAILY_EVENT_RECORDING_STATS:Oz,DAILY_EVENT_RECORDING_STOPPED:ek,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:Iz,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:$z,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:Uz,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:Bz,DAILY_EVENT_STARTED_CAMERA:fz,DAILY_EVENT_THEME_UPDATED:uz,DAILY_EVENT_TRACK_STARTED:Ez,DAILY_EVENT_TRACK_STOPPED:Az,DAILY_EVENT_TRANSCRIPTION_ERROR:Rz,DAILY_EVENT_TRANSCRIPTION_MSG:Fz,DAILY_EVENT_TRANSCRIPTION_STARTED:Pz,DAILY_EVENT_TRANSCRIPTION_STOPPED:Tz,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:Nz,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:Cz,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:kz,DAILY_FATAL_ERROR_CONNECTION:oz,DAILY_FATAL_ERROR_EJECTED:t0e,DAILY_FATAL_ERROR_EOL:az,DAILY_FATAL_ERROR_EXP_ROOM:s0e,DAILY_FATAL_ERROR_EXP_TOKEN:i0e,DAILY_FATAL_ERROR_MEETING_FULL:a0e,DAILY_FATAL_ERROR_NBF_ROOM:r0e,DAILY_FATAL_ERROR_NBF_TOKEN:n0e,DAILY_FATAL_ERROR_NOT_ALLOWED:o0e,DAILY_FATAL_ERROR_NO_ROOM:QN,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:e0e,DAILY_RECEIVE_SETTINGS_BASE_KEY:iz,DAILY_STATE_ERROR:ec,DAILY_STATE_JOINED:bu,DAILY_STATE_JOINING:Zw,DAILY_STATE_LEFT:hu,DAILY_STATE_NEW:JN,DAILY_TRACK_STATE_BLOCKED:Gve,DAILY_TRACK_STATE_INTERRUPTED:Qve,DAILY_TRACK_STATE_LOADING:Jve,DAILY_TRACK_STATE_OFF:Yve,DAILY_TRACK_STATE_PLAYABLE:nz,DAILY_TRACK_STATE_SENDABLE:Kve,default:H0e},Symbol.toStringTag,{value:"Module"})),J0e=KH(K0e);var IA={exports:{}},Ep=typeof Reflect=="object"?Reflect:null,rL=Ep&&typeof Ep.apply=="function"?Ep.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Lx;Ep&&typeof Ep.ownKeys=="function"?Lx=Ep.ownKeys:Object.getOwnPropertySymbols?Lx=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Lx=function(t){return Object.getOwnPropertyNames(t)};function Q0e(e){console&&console.warn&&console.warn(e)}var EV=Number.isNaN||function(t){return t!==t};function en(){en.init.call(this)}IA.exports=en;IA.exports.once=tye;en.EventEmitter=en;en.prototype._events=void 0;en.prototype._eventsCount=0;en.prototype._maxListeners=void 0;var nL=10;function C2(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(en,"defaultMaxListeners",{enumerable:!0,get:function(){return nL},set:function(e){if(typeof e!="number"||e<0||EV(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");nL=e}});en.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};en.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||EV(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function AV(e){return e._maxListeners===void 0?en.defaultMaxListeners:e._maxListeners}en.prototype.getMaxListeners=function(){return AV(this)};en.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")rL(c,this,r);else for(var u=c.length,d=LV(c,u),n=0;n<u;++n)rL(d[n],this,r);return!0};function PV(e,t,r,n){var s,i,a;if(C2(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),a===void 0)a=i[t]=r,++e._eventsCount;else if(typeof a=="function"?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),s=AV(e),s>0&&a.length>s&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,Q0e(l)}return e}en.prototype.addListener=function(t,r){return PV(this,t,r,!1)};en.prototype.on=en.prototype.addListener;en.prototype.prependListener=function(t,r){return PV(this,t,r,!0)};function Z0e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function TV(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=Z0e.bind(n);return s.listener=r,n.wrapFn=s,s}en.prototype.once=function(t,r){return C2(r),this.on(t,TV(this,t,r)),this};en.prototype.prependOnceListener=function(t,r){return C2(r),this.prependListener(t,TV(this,t,r)),this};en.prototype.removeListener=function(t,r){var n,s,i,a,l;if(C2(r),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){l=n[a].listener,i=a;break}if(i<0)return this;i===0?n.shift():X0e(n,i),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this};en.prototype.off=en.prototype.removeListener;en.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),a;for(s=0;s<i.length;++s)a=i[s],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function RV(e,t,r){var n=e._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?eye(s):LV(s,s.length)}en.prototype.listeners=function(t){return RV(this,t,!0)};en.prototype.rawListeners=function(t){return RV(this,t,!1)};en.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):OV.call(e,t)};en.prototype.listenerCount=OV;function OV(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}en.prototype.eventNames=function(){return this._eventsCount>0?Lx(this._events):[]};function LV(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function X0e(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function eye(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function tye(e,t){return new Promise(function(r,n){function s(a){e.removeListener(t,i),n(a)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),r([].slice.call(arguments))}IV(e,t,i,{once:!0}),t!=="error"&&rye(e,s,{once:!0})})}function rye(e,t,r){typeof e.on=="function"&&IV(e,"error",t,r)}function IV(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){n.once&&e.removeEventListener(t,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var nye=IA.exports,E2={},Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.Api=Ku.HttpClient=Ku.ContentType=void 0;var tt;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(tt||(Ku.ContentType=tt={}));class MV{constructor(t={}){nt(this,"baseUrl","https://api.vapi.ai");nt(this,"securityData",null);nt(this,"securityWorker");nt(this,"abortControllers",new Map);nt(this,"customFetch",(...t)=>fetch(...t));nt(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});nt(this,"setSecurityData",t=>{this.securityData=t});nt(this,"contentFormatters",{[tt.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[tt.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[tt.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[tt.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((r,n)=>{const s=t[n];return r.append(n,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),r},new FormData),[tt.UrlEncoded]:t=>this.toQueryString(t)});nt(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const n=this.abortControllers.get(t);return n?n.signal:void 0}const r=new AbortController;return this.abortControllers.set(t,r),r.signal});nt(this,"abortRequest",t=>{const r=this.abortControllers.get(t);r&&(r.abort(),this.abortControllers.delete(t))});nt(this,"request",async({body:t,secure:r,path:n,type:s,query:i,format:a,baseUrl:l,cancelToken:c,...u})=>{const d=(typeof r=="boolean"?r:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,d),p=i&&this.toQueryString(i),f=this.contentFormatters[s||tt.Json],v=a||h.format;return this.customFetch(`${l||this.baseUrl||""}${n}${p?`?${p}`:""}`,{...h,headers:{...h.headers||{},...s&&s!==tt.FormData?{"Content-Type":s}:{}},signal:(c?this.createAbortSignal(c):h.signal)||null,body:typeof t>"u"||t===null?null:f(t)}).then(async m=>{const x=m;x.data=null,x.error=null;const g=v?m.clone():m,b=v?await g[v]().then(S=>(x.ok?x.data=S:x.error=S,x)).catch(S=>(x.error=S,x)):x;if(c&&this.abortControllers.delete(c),!m.ok)throw b;return b})});Object.assign(this,t)}encodeQueryParam(t,r){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof r=="number"?r:`${r}`)}`}addQueryParam(t,r){return this.encodeQueryParam(r,t[r])}addArrayQueryParam(t,r){return t[r].map(s=>this.encodeQueryParam(r,s)).join("&")}toQueryString(t){const r=t||{};return Object.keys(r).filter(s=>typeof r[s]<"u").map(s=>Array.isArray(r[s])?this.addArrayQueryParam(r,s):this.addQueryParam(r,s)).join("&")}addQueryParams(t){const r=this.toQueryString(t);return r?`?${r}`:""}mergeRequestParams(t,r){return{...this.baseApiParams,...t,...r||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...r&&r.headers||{}}}}}Ku.HttpClient=MV;class sye extends MV{constructor(){super(...arguments);nt(this,"assistant",{assistantControllerCreate:(r,n={})=>this.request({path:"/assistant",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),assistantControllerFindAll:(r,n={})=>this.request({path:"/assistant",method:"GET",query:r,secure:!0,format:"json",...n}),assistantControllerFindOne:(r,n={})=>this.request({path:`/assistant/${r}`,method:"GET",secure:!0,format:"json",...n}),assistantControllerUpdate:(r,n,s={})=>this.request({path:`/assistant/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),assistantControllerReplace:(r,n,s={})=>this.request({path:`/assistant/${r}`,method:"PUT",body:n,secure:!0,type:tt.Json,format:"json",...s}),assistantControllerRemove:(r,n={})=>this.request({path:`/assistant/${r}`,method:"DELETE",secure:!0,format:"json",...n}),assistantControllerFindVersions:(r,n,s={})=>this.request({path:`/assistant/${r}/version`,method:"GET",query:n,secure:!0,format:"json",...s})});nt(this,"v2",{assistantControllerFindAllPaginated:(r,n={})=>this.request({path:"/v2/assistant",method:"GET",query:r,secure:!0,format:"json",...n}),callControllerCallsExport:(r,n={})=>this.request({path:"/v2/call/export",method:"GET",query:r,secure:!0,...n}),callControllerFindAllPaginated:(r,n={})=>this.request({path:"/v2/call",method:"GET",query:r,secure:!0,format:"json",...n}),callControllerFindAllMetadataPaginated:(r,n={})=>this.request({path:"/v2/call/metadata",method:"GET",query:r,secure:!0,format:"json",...n}),phoneNumberControllerFindAllPaginated:(r,n={})=>this.request({path:"/v2/phone-number",method:"GET",query:r,secure:!0,format:"json",...n})});nt(this,"squad",{squadControllerCreate:(r,n={})=>this.request({path:"/squad",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),squadControllerFindAll:(r,n={})=>this.request({path:"/squad",method:"GET",query:r,secure:!0,format:"json",...n}),squadControllerFindOne:(r,n={})=>this.request({path:`/squad/${r}`,method:"GET",secure:!0,format:"json",...n}),squadControllerUpdate:(r,n,s={})=>this.request({path:`/squad/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),squadControllerRemove:(r,n={})=>this.request({path:`/squad/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"workflow",{workflowControllerFindAll:(r={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...r}),workflowControllerCreate:(r,n={})=>this.request({path:"/workflow",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),workflowControllerFindOne:(r,n={})=>this.request({path:`/workflow/${r}`,method:"GET",secure:!0,format:"json",...n}),workflowControllerDelete:(r,n={})=>this.request({path:`/workflow/${r}`,method:"DELETE",secure:!0,format:"json",...n}),workflowControllerUpdate:(r,n,s={})=>this.request({path:`/workflow/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s})});nt(this,"call",{callControllerCreate:(r,n={})=>this.request({path:"/call",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),callControllerFindAll:(r,n={})=>this.request({path:"/call",method:"GET",query:r,secure:!0,format:"json",...n}),callControllerFindOne:(r,n={})=>this.request({path:`/call/${r}`,method:"GET",secure:!0,format:"json",...n}),callControllerUpdate:(r,n,s={})=>this.request({path:`/call/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),callControllerDeleteCallData:(r,n,s={})=>this.request({path:`/call/${r}`,method:"DELETE",body:n,secure:!0,type:tt.Json,format:"json",...s}),callControllerCreatePhoneCall:(r,n={})=>this.request({path:"/call/phone",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),callControllerCreateWebCall:(r,n={})=>this.request({path:"/call/web",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})});nt(this,"chat",{chatControllerListChats:(r,n={})=>this.request({path:"/chat",method:"GET",query:r,secure:!0,format:"json",...n}),chatControllerCreateChat:(r,n={})=>this.request({path:"/chat",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),chatControllerGetChat:(r,n={})=>this.request({path:`/chat/${r}`,method:"GET",secure:!0,format:"json",...n}),chatControllerDeleteChat:(r,n={})=>this.request({path:`/chat/${r}`,method:"DELETE",secure:!0,format:"json",...n}),chatControllerCreateOpenAiChat:(r,n={})=>this.request({path:"/chat/responses",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),chatControllerCreateWebChat:(r,n={})=>this.request({path:"/chat/web",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),chatControllerCreateOpenAiWebChat:(r,n={})=>this.request({path:"/chat/web/responses",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})});nt(this,"campaign",{campaignControllerCreate:(r,n={})=>this.request({path:"/campaign",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),campaignControllerFindAll:(r,n={})=>this.request({path:"/campaign",method:"GET",query:r,secure:!0,format:"json",...n}),campaignControllerFindOne:(r,n={})=>this.request({path:`/campaign/${r}`,method:"GET",secure:!0,format:"json",...n}),campaignControllerUpdate:(r,n,s={})=>this.request({path:`/campaign/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),campaignControllerRemove:(r,n={})=>this.request({path:`/campaign/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"session",{sessionControllerCreate:(r,n={})=>this.request({path:"/session",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),sessionControllerFindAllPaginated:(r,n={})=>this.request({path:"/session",method:"GET",query:r,secure:!0,format:"json",...n}),sessionControllerFindOne:(r,n={})=>this.request({path:`/session/${r}`,method:"GET",secure:!0,format:"json",...n}),sessionControllerUpdate:(r,n,s={})=>this.request({path:`/session/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),sessionControllerRemove:(r,n={})=>this.request({path:`/session/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"phoneNumber",{phoneNumberControllerImportTwilio:(r,n={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),phoneNumberControllerImportVonage:(r,n={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),phoneNumberControllerCreate:(r,n={})=>this.request({path:"/phone-number",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),phoneNumberControllerFindAll:(r,n={})=>this.request({path:"/phone-number",method:"GET",query:r,secure:!0,format:"json",...n}),phoneNumberControllerFindOne:(r,n={})=>this.request({path:`/phone-number/${r}`,method:"GET",secure:!0,format:"json",...n}),phoneNumberControllerUpdate:(r,n,s={})=>this.request({path:`/phone-number/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),phoneNumberControllerRemove:(r,n={})=>this.request({path:`/phone-number/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"tool",{toolControllerCreate:(r,n={})=>this.request({path:"/tool",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),toolControllerFindAll:(r,n={})=>this.request({path:"/tool",method:"GET",query:r,secure:!0,format:"json",...n}),toolControllerFindOne:(r,n={})=>this.request({path:`/tool/${r}`,method:"GET",secure:!0,format:"json",...n}),toolControllerUpdate:(r,n,s={})=>this.request({path:`/tool/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),toolControllerRemove:(r,n={})=>this.request({path:`/tool/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"file",{fileControllerCreateDeprecated:(r,n={})=>this.request({path:"/file/upload",method:"POST",body:r,secure:!0,type:tt.FormData,format:"json",...n}),fileControllerCreate:(r,n={})=>this.request({path:"/file",method:"POST",body:r,secure:!0,type:tt.FormData,format:"json",...n}),fileControllerFindAll:(r={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...r}),fileControllerFindOne:(r,n={})=>this.request({path:`/file/${r}`,method:"GET",secure:!0,format:"json",...n}),fileControllerUpdate:(r,n,s={})=>this.request({path:`/file/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),fileControllerRemove:(r,n={})=>this.request({path:`/file/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"knowledgeBase",{knowledgeBaseControllerCreate:(r,n={})=>this.request({path:"/knowledge-base",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),knowledgeBaseControllerFindAll:(r,n={})=>this.request({path:"/knowledge-base",method:"GET",query:r,secure:!0,format:"json",...n}),knowledgeBaseControllerFindOne:(r,n={})=>this.request({path:`/knowledge-base/${r}`,method:"GET",secure:!0,format:"json",...n}),knowledgeBaseControllerUpdate:(r,n,s={})=>this.request({path:`/knowledge-base/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),knowledgeBaseControllerRemove:(r,n={})=>this.request({path:`/knowledge-base/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"structuredOutput",{structuredOutputControllerFindAll:(r,n={})=>this.request({path:"/structured-output",method:"GET",query:r,secure:!0,format:"json",...n}),structuredOutputControllerCreate:(r,n={})=>this.request({path:"/structured-output",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),structuredOutputControllerFindOne:(r,n={})=>this.request({path:`/structured-output/${r}`,method:"GET",secure:!0,format:"json",...n}),structuredOutputControllerUpdate:(r,n,s,i={})=>this.request({path:`/structured-output/${r}`,method:"PATCH",query:n,body:s,secure:!0,type:tt.Json,format:"json",...i}),structuredOutputControllerRemove:(r,n={})=>this.request({path:`/structured-output/${r}`,method:"DELETE",secure:!0,format:"json",...n}),structuredOutputControllerRun:(r,n={})=>this.request({path:"/structured-output/run",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})});nt(this,"testSuite",{testSuiteControllerFindAllPaginated:(r,n={})=>this.request({path:"/test-suite",method:"GET",query:r,secure:!0,format:"json",...n}),testSuiteControllerCreate:(r,n={})=>this.request({path:"/test-suite",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),testSuiteControllerFindOne:(r,n={})=>this.request({path:`/test-suite/${r}`,method:"GET",secure:!0,format:"json",...n}),testSuiteControllerUpdate:(r,n,s={})=>this.request({path:`/test-suite/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),testSuiteControllerRemove:(r,n={})=>this.request({path:`/test-suite/${r}`,method:"DELETE",secure:!0,format:"json",...n}),testSuiteTestControllerFindAllPaginated:(r,n,s={})=>this.request({path:`/test-suite/${r}/test`,method:"GET",query:n,secure:!0,format:"json",...s}),testSuiteTestControllerCreate:(r,n,s={})=>this.request({path:`/test-suite/${r}/test`,method:"POST",body:n,secure:!0,type:tt.Json,format:"json",...s}),testSuiteTestControllerFindOne:(r,n,s={})=>this.request({path:`/test-suite/${r}/test/${n}`,method:"GET",secure:!0,format:"json",...s}),testSuiteTestControllerUpdate:(r,n,s,i={})=>this.request({path:`/test-suite/${r}/test/${n}`,method:"PATCH",body:s,secure:!0,type:tt.Json,format:"json",...i}),testSuiteTestControllerRemove:(r,n,s={})=>this.request({path:`/test-suite/${r}/test/${n}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteRunControllerFindAllPaginated:(r,n,s={})=>this.request({path:`/test-suite/${r}/run`,method:"GET",query:n,secure:!0,format:"json",...s}),testSuiteRunControllerCreate:(r,n,s={})=>this.request({path:`/test-suite/${r}/run`,method:"POST",body:n,secure:!0,type:tt.Json,format:"json",...s}),testSuiteRunControllerFindOne:(r,n,s={})=>this.request({path:`/test-suite/${r}/run/${n}`,method:"GET",secure:!0,format:"json",...s}),testSuiteRunControllerUpdate:(r,n,s,i={})=>this.request({path:`/test-suite/${r}/run/${n}`,method:"PATCH",body:s,secure:!0,type:tt.Json,format:"json",...i}),testSuiteRunControllerRemove:(r,n,s={})=>this.request({path:`/test-suite/${r}/run/${n}`,method:"DELETE",secure:!0,format:"json",...s})});nt(this,"reporting",{insightControllerCreate:(r,n={})=>this.request({path:"/reporting/insight",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),insightControllerFindAll:(r,n={})=>this.request({path:"/reporting/insight",method:"GET",query:r,secure:!0,format:"json",...n}),insightControllerUpdate:(r,n,s={})=>this.request({path:`/reporting/insight/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),insightControllerFindOne:(r,n={})=>this.request({path:`/reporting/insight/${r}`,method:"GET",secure:!0,format:"json",...n}),insightControllerRemove:(r,n={})=>this.request({path:`/reporting/insight/${r}`,method:"DELETE",secure:!0,format:"json",...n}),insightControllerRun:(r,n,s={})=>this.request({path:`/reporting/insight/${r}/run`,method:"POST",body:n,secure:!0,type:tt.Json,format:"json",...s}),insightControllerPreview:(r,n={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})});nt(this,"eval",{evalControllerCreate:(r,n={})=>this.request({path:"/eval",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),evalControllerGetPaginated:(r,n={})=>this.request({path:"/eval",method:"GET",query:r,secure:!0,format:"json",...n}),evalControllerUpdate:(r,n,s={})=>this.request({path:`/eval/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),evalControllerRemove:(r,n={})=>this.request({path:`/eval/${r}`,method:"DELETE",secure:!0,format:"json",...n}),evalControllerGet:(r,n={})=>this.request({path:`/eval/${r}`,method:"GET",secure:!0,format:"json",...n}),evalControllerRemoveRun:(r,n={})=>this.request({path:`/eval/run/${r}`,method:"DELETE",secure:!0,format:"json",...n}),evalControllerGetRun:(r,n={})=>this.request({path:`/eval/run/${r}`,method:"GET",secure:!0,format:"json",...n}),evalControllerRun:(r,n={})=>this.request({path:"/eval/run",method:"POST",body:r,secure:!0,type:tt.Json,...n}),evalControllerGetRunsPaginated:(r,n={})=>this.request({path:"/eval/run",method:"GET",query:r,secure:!0,format:"json",...n})});nt(this,"observability",{scorecardControllerGet:(r,n={})=>this.request({path:`/observability/scorecard/${r}`,method:"GET",secure:!0,format:"json",...n}),scorecardControllerUpdate:(r,n,s={})=>this.request({path:`/observability/scorecard/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),scorecardControllerRemove:(r,n={})=>this.request({path:`/observability/scorecard/${r}`,method:"DELETE",secure:!0,format:"json",...n}),scorecardControllerGetPaginated:(r,n={})=>this.request({path:"/observability/scorecard",method:"GET",query:r,secure:!0,format:"json",...n}),scorecardControllerCreate:(r,n={})=>this.request({path:"/observability/scorecard",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})});nt(this,"org",{orgControllerCreate:(r,n={})=>this.request({path:"/org",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),orgControllerFindAll:(r={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...r}),orgControllerFeatureFlagEnabled:(r,n={})=>this.request({path:"/org/feature-flag",method:"GET",query:r,secure:!0,format:"json",...n}),orgControllerFindOne:(r,n={})=>this.request({path:`/org/${r}`,method:"GET",secure:!0,format:"json",...n}),orgControllerUpdate:(r,n,s={})=>this.request({path:`/org/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),orgControllerDeleteOrg:(r,n={})=>this.request({path:`/org/${r}`,method:"DELETE",secure:!0,...n}),orgControllerFindAllUsers:(r,n={})=>this.request({path:`/org/${r}/user`,method:"GET",secure:!0,format:"json",...n}),orgControllerOrgLeave:(r,n={})=>this.request({path:`/org/${r}/leave`,method:"DELETE",secure:!0,...n}),orgControllerOrgRemoveUser:(r,n,s={})=>this.request({path:`/org/${r}/member/${n}/leave`,method:"DELETE",secure:!0,...s}),orgControllerUsersInvite:(r,n,s={})=>this.request({path:`/org/${r}/invite`,method:"POST",body:n,secure:!0,type:tt.Json,...s}),orgControllerUserUpdate:(r,n,s={})=>this.request({path:`/org/${r}/role`,method:"PATCH",body:n,secure:!0,type:tt.Json,...s}),orgControllerOrgToken:(r,n={})=>this.request({path:`/org/${r}/auth`,method:"GET",secure:!0,format:"json",...n})});nt(this,"token",{tokenControllerCreate:(r,n={})=>this.request({path:"/token",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),tokenControllerFindAll:(r,n={})=>this.request({path:"/token",method:"GET",query:r,secure:!0,format:"json",...n}),tokenControllerFindOne:(r,n={})=>this.request({path:`/token/${r}`,method:"GET",secure:!0,format:"json",...n}),tokenControllerUpdate:(r,n,s={})=>this.request({path:`/token/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),tokenControllerRemove:(r,n={})=>this.request({path:`/token/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"credential",{credentialControllerCreate:(r,n={})=>this.request({path:"/credential",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),credentialControllerFindAll:(r,n={})=>this.request({path:"/credential",method:"GET",query:r,secure:!0,format:"json",...n}),credentialControllerFindOne:(r,n={})=>this.request({path:`/credential/${r}`,method:"GET",secure:!0,format:"json",...n}),credentialControllerUpdate:(r,n,s={})=>this.request({path:`/credential/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),credentialControllerRemove:(r,n={})=>this.request({path:`/credential/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"template",{templateControllerCreate:(r,n={})=>this.request({path:"/template",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),templateControllerFindAll:(r,n={})=>this.request({path:"/template",method:"GET",query:r,secure:!0,format:"json",...n}),templateControllerFindAllPinned:(r={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...r}),templateControllerFindOne:(r,n={})=>this.request({path:`/template/${r}`,method:"GET",secure:!0,format:"json",...n}),templateControllerUpdate:(r,n,s={})=>this.request({path:`/template/${r}`,method:"PATCH",body:n,secure:!0,type:tt.Json,format:"json",...s}),templateControllerRemove:(r,n={})=>this.request({path:`/template/${r}`,method:"DELETE",secure:!0,format:"json",...n})});nt(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(r,n,s={})=>this.request({path:`/voice-library/${r}`,method:"GET",query:n,secure:!0,format:"json",...s}),voiceLibraryControllerVoiceGetAccentsByProvider:(r,n={})=>this.request({path:`/voice-library/${r}/accents`,method:"GET",secure:!0,format:"json",...n}),voiceLibraryControllerVoiceLibrarySyncByProvider:(r,n={})=>this.request({path:`/voice-library/sync/${r}`,method:"POST",secure:!0,format:"json",...n}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(r,n={})=>this.request({path:"/voice-library/sync",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(r,n={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:r,secure:!0,type:tt.Json,...n})});nt(this,"provider",{providerResourceControllerCreateProviderResource:(r,n,s={})=>this.request({path:`/provider/${r}/${n}`,method:"POST",secure:!0,format:"json",...s}),providerResourceControllerGetProviderResourcesPaginated:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}`,method:"GET",query:s,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}/${s}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}/${s}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(r,n,s,i={})=>this.request({path:`/provider/${r}/${n}/${s}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(r,n,s={})=>this.request({path:`/${r}/workflows`,method:"GET",query:n,secure:!0,format:"json",...s}),providerControllerGetWorkflowTriggerHook:(r,n,s={})=>this.request({path:`/${r}/workflows/${n}/hooks`,method:"GET",secure:!0,format:"json",...s}),providerControllerGetLocations:(r,n={})=>this.request({path:`/${r}/locations`,method:"GET",secure:!0,format:"json",...n}),voiceProviderControllerSearchVoices:(r,n,s={})=>this.request({path:`/${r}/voices/search`,method:"GET",query:n,secure:!0,format:"json",...s}),voiceProviderControllerSearchVoice:(r,n,s={})=>this.request({path:`/${r}/voice/search`,method:"GET",query:n,secure:!0,format:"json",...s}),voiceProviderControllerAddVoices:(r,n,s={})=>this.request({path:`/${r}/voices/add`,method:"POST",body:n,secure:!0,type:tt.Json,format:"json",...s}),voiceProviderControllerAddVoice:(r,n,s={})=>this.request({path:`/${r}/voice/add`,method:"POST",body:n,secure:!0,type:tt.Json,format:"json",...s})});nt(this,"v11Labs",{voiceProviderControllerCloneVoices:(r,n={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:r,secure:!0,type:tt.FormData,...n})});nt(this,"analytics",{analyticsControllerQuery:(r,n={})=>this.request({path:"/analytics",method:"POST",body:r,secure:!0,type:tt.Json,format:"json",...n})})}}Ku.Api=sye;Object.defineProperty(E2,"__esModule",{value:!0});E2.client=void 0;const iye=Ku,aye=new iye.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});E2.client=aye;var Jm={};Object.defineProperty(Jm,"__esModule",{value:!0});Jm.createSafeDailyConfig=oye;Jm.safeSetLocalAudio=lye;Jm.safeSetInputDevicesAsync=cye;Jm.createSafeDailyFactoryOptions=uye;function oye(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...r}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),r):e}function lye(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function cye(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:r,...n}=t;await e.setInputDevicesAsync(n);return}await e.setInputDevicesAsync(t)}function uye(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var DV=L4&&L4.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dq,"__esModule",{value:!0});const J5=DV(J0e),dye=DV(nye),Q5=E2,Ud=Jm;function mi(e){if(e==null)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){const t={message:e.message,name:e.name,stack:e.stack},r=e;return r.code!==void 0&&(t.code=r.code),r.cause!==void 0&&(t.cause=String(r.cause)),r.reason!==void 0&&(t.reason=r.reason),r.details!==void 0&&(t.details=r.details),r.errorMsg!==void 0&&(t.errorMsg=r.errorMsg),r.error!==void 0&&typeof r.error=="string"&&(t.errorDetail=r.error),t}if(typeof e=="string")return{message:e};if(typeof e=="object"){const t=e;return{message:t.message||t.error||JSON.stringify(e),...t}}return{message:String(e)}}async function hye(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function sL(e,t){const r=document.createElement("audio");return r.dataset.participantId=t,document.body.appendChild(r),await hye(r,e),r}function iL(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function aL(e,t,r,n){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:r||n}})}class fye extends dye.default{on(t,r){return super.on(t,r),this}once(t,r){return super.once(t,r),this}emit(t,...r){return super.emit(t,...r)}removeListener(t,r){return super.removeListener(t,r),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class pye extends fye{constructor(r,n,s,i){super();nt(this,"started",!1);nt(this,"call",null);nt(this,"speakingTimeout",null);nt(this,"dailyCallConfig",{});nt(this,"dailyCallObject",{});nt(this,"hasEmittedCallEndedStatus",!1);Q5.client.baseUrl=n??"https://api.vapi.ai",Q5.client.setSecurityData(r),this.dailyCallConfig=(0,Ud.createSafeDailyConfig)(s),this.dailyCallObject=(0,Ud.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const r=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(r.toLowerCase())}async sleep(r){return new Promise(n=>setTimeout(n,r))}async start(r,n,s,i,a,l){var u,d,h,p,f,v,m;const c=Date.now();if(!r&&!s&&!i){const x=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:mi(x),timestamp:new Date().toISOString()}),x}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!r,hasSquad:!!s,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const x=Date.now(),g=(await Q5.client.call.callControllerCreateWebCall({assistant:typeof r=="string"?void 0:r,assistantId:typeof r=="string"?r:void 0,assistantOverrides:n,squad:typeof s=="string"?void 0:s,squadId:typeof s=="string"?s:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:a,roomDeleteOnUserLeaveEnabled:l==null?void 0:l.roomDeleteOnUserLeaveEnabled})).data,b=Date.now()-x;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:b,timestamp:new Date().toISOString(),metadata:{callId:(g==null?void 0:g.id)||"unknown",videoRecordingEnabled:((u=g==null?void 0:g.artifactPlan)==null?void 0:u.videoRecordingEnabled)??!1,voiceProvider:((h=(d=g==null?void 0:g.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const S=((p=g==null?void 0:g.artifactPlan)==null?void 0:p.videoRecordingEnabled)??!1,k=((v=(f=g==null?void 0:g.assistant)==null?void 0:f.voice)==null?void 0:v.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,isVideoRecordingEnabled:S,isVideoEnabled:k}});const T=Date.now();try{this.call=J5.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,dailyConfig:this.dailyCallConfig});const A=Date.now()-T;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-T,$=mi(A);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:$,timestamp:new Date().toISOString()}),A}(m=this.call.iframe())==null||m.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var A;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),S&&((A=this.call)==null||A.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",A=>{var M;this.emit("error",{type:"daily-error",error:mi(A),timestamp:new Date().toISOString()}),S&&((M=this.call)==null||M.stopRecording())}),this.call.on("camera-error",A=>{this.emit("camera-error",{type:"camera-error",error:mi(A),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",A=>{this.emit("network-quality-change",A)}),this.call.on("network-connection",A=>{this.emit("network-connection",A)}),this.call.on("track-started",async A=>{var M,$,q;!A||!A.participant||(M=A.participant)!=null&&M.local||(($=A.participant)==null?void 0:$.user_name)==="Vapi Speaker"&&(A.track.kind==="video"&&this.emit("video",A.track),A.track.kind==="audio"&&await sL(A.track,A.participant.session_id),(q=this.call)==null||q.sendAppMessage("playable"))}),this.call.on("participant-joined",A=>{!A||!this.call||aL(A,this.call,S,k)}),this.call.on("participant-updated",A=>{A&&this.emit("daily-participant-updated",A.participant)}),this.call.on("participant-left",A=>{A&&iL(A.participant.session_id)});const R=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:R}}),R){const A=Date.now();await this.sleep(1e3);const M=Date.now()-A;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:M,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const O=Date.now();try{await this.call.join({url:g.webCallUrl,subscribeToTracksAutomatically:!1});const A=Date.now()-O;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-O,$=mi(A);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:$,duration:M,timestamp:new Date().toISOString()}),A}if(S){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const A=new Date().getTime(),M=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const $=Date.now()-M;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:$,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const q=(new Date().getTime()-A)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:q}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:q})})}catch($){const q=Date.now()-M,ee=mi($);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:q,timestamp:new Date().toISOString(),metadata:{error:ee.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:ee,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const D=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const A=Date.now()-D;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-D,$=mi(A);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:$,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",A=>{A&&this.handleRemoteParticipantsAudioLevel(A)}),this.call.on("app-message",A=>this.onAppMessage(A)),this.call.on("nonfatal-error",A=>{var M;(A==null?void 0:A.type)==="audio-processor-error"&&((M=this.call)==null||M.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ud.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const I=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const A=Date.now()-I;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-I,$=mi(A);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:$.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:$,timestamp:new Date().toISOString()})}const G=Date.now()-c;return this.emit("call-start-success",{totalDuration:G,callId:(g==null?void 0:g.id)||"unknown",timestamp:new Date().toISOString()}),g}catch(x){const g=Date.now()-c,b=mi(x);return this.emit("call-start-failed",{stage:"unknown",totalDuration:g,error:b.message,errorStack:b.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!r,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:b,totalDuration:g,timestamp:new Date().toISOString(),context:{hasAssistant:!!r,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(r){if(r)try{if(r.data==="listening")return this.emit("call-start");try{const n=JSON.parse(r.data);this.emit("message",n),n&&"type"in n&&"status"in n&&n.type==="status-update"&&n.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(n){console.log("Error parsing message data: ",n)}}catch(n){console.error(n)}}handleRemoteParticipantsAudioLevel(r){const n=Object.values(r.participantsAudioLevel).reduce((i,a)=>i+a,0);this.emit("volume-level",Math.min(1,n/.15)),n>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(r){var n;(n=this.call)==null||n.sendAppMessage(JSON.stringify(r))}setMuted(r){(0,Ud.safeSetLocalAudio)(this.call,!r)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(r,n,s,i){this.send({type:"say",message:r,endCallAfterSpoken:n,interruptionsEnabled:s??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(r){return(0,Ud.safeSetInputDevicesAsync)(this.call,r)}async increaseMicLevel(r){if(!this.call)throw new Error("Call object is not available.");try{const n=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new AudioContext,i=s.createMediaStreamSource(n),a=s.createGain();a.gain.value=r,i.connect(a);const l=s.createMediaStreamDestination();a.connect(l);const[c]=l.stream.getAudioTracks();await(0,Ud.safeSetInputDevicesAsync)(this.call,{audioSource:c})}catch(n){console.error("Error adjusting microphone level:",n)}}setOutputDeviceAsync(r){var n;(n=this.call)==null||n.setOutputDeviceAsync(r)}getDailyCallObject(){return this.call}startScreenSharing(r,n){var s;(s=this.call)==null||s.startScreenShare({displayMediaOptions:r,screenVideoSendSettings:n})}stopScreenSharing(){var r;(r=this.call)==null||r.stopScreenShare()}async reconnect(r){var s,i,a,l,c,u,d,h,p,f,v,m,x;const n=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!r.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:r.id||"unknown",hasVideoRecording:!!((s=r==null?void 0:r.artifactPlan)!=null&&s.videoRecordingEnabled),voiceProvider:((a=(i=r==null?void 0:r.assistant)==null?void 0:i.voice)==null?void 0:a.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const g=((l=r==null?void 0:r.artifactPlan)==null?void 0:l.videoRecordingEnabled)??!1,b=((u=(c=r==null?void 0:r.assistant)==null?void 0:c.voice)==null?void 0:u.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??g,isVideoRecordingEnabled:g,isVideoEnabled:b}});const S=Date.now();this.call=J5.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??g,dailyConfig:this.dailyCallConfig});const k=Date.now()-S;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:k,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var A;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),g&&((A=this.call)==null||A.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",A=>{var M;this.emit("error",{type:"daily-error",error:mi(A),timestamp:new Date().toISOString()}),g&&((M=this.call)==null||M.stopRecording())}),this.call.on("camera-error",A=>{this.emit("camera-error",{type:"camera-error",error:mi(A),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",A=>{this.emit("network-quality-change",A)}),this.call.on("network-connection",A=>{this.emit("network-connection",A)}),this.call.on("track-started",async A=>{var M,$,q;!A||!A.participant||(M=A.participant)!=null&&M.local||(($=A.participant)==null?void 0:$.user_name)==="Vapi Speaker"&&(A.track.kind==="video"&&this.emit("video",A.track),A.track.kind==="audio"&&await sL(A.track,A.participant.session_id),(q=this.call)==null||q.sendAppMessage("playable"))}),this.call.on("participant-joined",A=>{!A||!this.call||aL(A,this.call,g,b)}),this.call.on("participant-updated",A=>{A&&this.emit("daily-participant-updated",A.participant)}),this.call.on("participant-left",A=>{A&&iL(A.participant.session_id)}),this.call.on("remote-participants-audio-level",A=>{A&&this.handleRemoteParticipantsAudioLevel(A)}),this.call.on("app-message",A=>this.onAppMessage(A)),this.call.on("nonfatal-error",A=>{var M;(A==null?void 0:A.type)==="audio-processor-error"&&((M=this.call)==null||M.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ud.safeSetLocalAudio)(this.call,!0)}))});const T=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:T}}),T){const A=Date.now();await this.sleep(1e3);const M=Date.now()-A;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:M,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const R=Date.now();await this.call.join({url:r.webCallUrl,subscribeToTracksAutomatically:!1});const O=Date.now()-R;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:O,timestamp:new Date().toISOString()}),g){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const A=Date.now(),M=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const $=Date.now()-A;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:$,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const q=(new Date().getTime()-M)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:q}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:q})})}catch($){const q=Date.now()-A,ee=mi($);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:q,timestamp:new Date().toISOString(),metadata:{error:ee.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const D=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const A=Date.now()-D;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-D,$=mi(A);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:$.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const I=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const A=Date.now()-I;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-I,$=mi(A);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:$.message}})}const G=Date.now()-n;this.emit("call-start-success",{totalDuration:G,callId:(r==null?void 0:r.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(g){const b=Date.now()-n,S=mi(g);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:b,error:S.message,errorStack:S.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(r==null?void 0:r.id)||"unknown",hasVideoRecording:!!((h=r==null?void 0:r.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((f=(p=r==null?void 0:r.assistant)==null?void 0:p.voice)==null?void 0:f.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:S,totalDuration:b,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(r==null?void 0:r.id)||"unknown",hasVideoRecording:!!((v=r==null?void 0:r.artifactPlan)!=null&&v.videoRecordingEnabled),voiceProvider:((x=(m=r==null?void 0:r.assistant)==null?void 0:m.voice)==null?void 0:x.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),g}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const r={};let n=null;try{console.log("Creating temporary call object for testing..."),n=J5.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let s=null;try{s=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const a=await n.testNetworkConnectivity(s);r.networkConnectivity=a,console.log("Network connectivity test result:",a)}catch(i){r.networkConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Network connectivity test error:",i)}finally{s&&s.stop()}console.log(`
2. Testing websocket connectivity...`);try{const i=await n.testWebsocketConnectivity();r.websocketConnectivity=i,console.log("Websocket connectivity test result:",i)}catch(i){r.websocketConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Websocket connectivity test error:",i)}console.log(`
3. Testing call quality...`);try{if(typeof n.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await n.startCamera();const i=await n.testCallQuality();r.callQuality=i,console.log("Call quality test result:",i)}catch(i){console.error("Failed to start camera for call quality test:",i),r.callQuality={result:"error",error:i==null?void 0:i.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else r.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(i){r.callQuality={result:"error",error:i==null?void 0:i.toString()},console.error("Call quality test error:",i)}}catch(s){console.error("Failed to create temporary call object:",s),r.error=s==null?void 0:s.toString()}finally{if(n)try{console.log("Cleaning up temporary call object..."),await n.destroy()}catch(s){console.error("Error destroying temporary call object:",s)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(r,null,2)),r}}var mye=Dq.default=pye;const Z5=1e3,gye=()=>{const{user:e}=ui(),{toast:t}=R0(),[r,n]=w.useState(!1),[s,i]=w.useState([{role:"assistant",content:"Hi! I'm Maya, your dedicated health assistant. How can I help you today? You can ask me about appointments, reports, or check doctor availability."}]),[a,l]=w.useState(""),[c,u]=w.useState(!1);w.useState(()=>`session-${crypto.randomUUID()}`);const d=w.useRef(null),[h,p]=w.useState(!1),[f,v]=w.useState(!1),[m,x]=w.useState({step:"none"});w.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[s]);const[g,b]=w.useState("en");w.useEffect(()=>{const $=q=>{const ee=q.detail;n(!0);const re={role:"assistant",content:ee.message};i(te=>[...te,re]),ee.message&&setTimeout(()=>O(ee.message),500)};return window.addEventListener("maya-notification",$),()=>window.removeEventListener("maya-notification",$)},[]);const[S,k]=w.useState(!1),T=w.useRef(null);w.useEffect(()=>{const $=new mye("02ead3b2-c6ec-44f4-a254-2a581a956a09");return T.current=$,$.on("call-start",()=>{k(!0),p(!1),window.speechSynthesis.cancel(),t({title:"Call Started",description:"Connected to Maya Voice Assistant."})}),$.on("call-end",()=>{k(!1),t({title:"Call Ended",description:"Voice session finished."})}),$.on("error",q=>{console.error(q),k(!1)}),()=>{$.stop()}},[]);const R=()=>{S?T.current.stop():T.current.start("adc24232-9015-4b7d-ab00-c3ff1619a8e6",{model:{messages:[{role:"system",content:`You are Maya, the intelligent AI receptionist for Star Hospital (Medicare).
      Context: You are talking to a patient via the hospital website.
      
      IMPORTANT: You must detect the language the user is speaking (English, Hindi, or Marathi) and respond IN THAT SAME LANGUAGE.
      - If the user speaks Hindi, reply in Hindi.
      - If the user speaks Marathi, reply in Marathi.
      - If the user speaks English, reply in English.
      Do not just translate, but adopt the persona appropriate for that language. Start in English but switch IMMEDIATELY if they speak Hindi or Marathi.

      Role:
      - Assist with booking appointments (ask for doctor name and preferred time).
      - Answer inquiries about hospital services, reports, and visiting hours.
      - Be warm, empathetic, and professional.
      
      Hospital Info:
      - Name: Star Hospital
      - Emergency Contact: 102
      - Main Line: +91-123-456-7890
      
      Important: Keep responses concise and helpful. Do not mention you are an AI unnecessarily, just help the user.`}]}})};if(!e)return null;const O=$=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const q=new SpeechSynthesisUtterance($),ee=window.speechSynthesis.getVoices();let re=null;g==="hi"?re=ee.find(te=>te.lang.includes("hi")||te.name.includes("Hindi")):g==="mr"?re=ee.find(te=>te.lang.includes("mr")||te.name.includes("Marathi")):re=ee.find(te=>te.name.includes("Female")||te.name.includes("Samantha")||te.name.includes("Google US English")),re&&(q.voice=re),q.onstart=()=>p(!0),q.onend=()=>p(!1),window.speechSynthesis.speak(q)}else t({title:"Text-to-Speech not supported",description:"Your browser doesn't support voice output.",variant:"destructive"})},D=()=>{const $=window.SpeechRecognition||window.webkitSpeechRecognition;if($){const q=new $;q.onstart=()=>v(!0),q.onend=()=>v(!1),q.onresult=ee=>{const re=ee.results[0][0].transcript;l(re)},q.start()}else t({title:"Speech Recognition not supported",description:"Your browser doesn't support voice input.",variant:"destructive"})},I=($,q)=>{const ee=$.toLowerCase(),te={en:{greeting:"Hello! I'm Maya, your Medicare assistant. How can I help you regarding your health or our hospital services today?",appointment:"I can help you book an appointment. Which doctor would you like to consult?",doctor:"We have world-class specialists. Please tell me the name of the doctor you are looking for.",report:"Your medical reports are secure with us. You can access and download them from the 'Reports' tab. Do you want me to find a specific report?",billing:"You can track all your payments and insurance claims in the 'Billing' section.",emergency:" EMERGENCY ALERT: If this is a life-threatening emergency, please call 102 or our Hotline at +91-123-456-7890 IMMEDIATELY.",default:"I'm listening. Could you please provide more details so I can assist you better?"},hi:{greeting:"!   ,                  ?",appointment:"                ?",doctor:"                 ",report:"      ",billing:" ''         ",emergency:"  :   102   ",default:"       "},mr:{greeting:"!   .      ?",appointment:"       .      ?",doctor:"    .          .",report:"    .",billing:" ''     .",emergency:"  :      .",default:"  .    ."}}[q];return ee.match(/\b(hi|hello|hey|namaste|namaskar|greetings)\b/)?te.greeting:ee.includes("appointment")||ee.includes("book")||ee.includes("schedule")?"APPOINTMENT_TRIGGER":ee.includes("doctor")||ee.includes("specialist")?te.doctor:ee.includes("report")||ee.includes("result")?te.report:ee.includes("bill")||ee.includes("payment")?te.billing:ee.includes("emergency")||ee.includes("urgent")?te.emergency:te.default},G=async $=>{try{const{data:q,error:ee}=await Qe.from("doctors").select("*").ilike("name",`%${$}%`);if(ee||!q||q.length===0)return{found:!1,message:"I couldn't find a doctor by that name. Please check the spelling or try another name."};const re=q[0];return re.available?{found:!0,message:`Great news! Dr. ${re.name} is available. Your appointment has been confirmed for the next available slot.`}:{found:!0,message:`Sorry, Dr. ${re.name} is currently unavailable/on leave. The next available slot is tomorrow at 10:00 AM. Would you like to book that?`}}catch{return{found:!1,message:"I'm having trouble connecting to the schedule database right now."}}},A=async()=>{if(!a.trim()||c)return;const $=a.trim().slice(0,Z5),q={role:"user",content:$};i(ee=>[...ee,q]),l(""),u(!0);try{let ee="";if(m.step==="doctor_name")ee=(await G($)).message,x({step:"none"});else{const re=I($,g);re==="APPOINTMENT_TRIGGER"?(ee=g==="en"?"Sure, I can help. Which doctor would you like to see?":g==="hi"?",           ?":" .     ?",x({step:"doctor_name"})):ee=re}setTimeout(()=>{i(re=>[...re,{role:"assistant",content:ee}]),u(!1),O(ee)},800)}catch(ee){console.error(ee),u(!1)}},M=$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),A())};return o.jsxs(o.Fragment,{children:[o.jsx(ke,{onClick:()=>n(!r),className:Ie("fixed bottom-6 right-6 z-50 h-16 w-16 rounded-full shadow-xl transition-all duration-300 hover:scale-110 border-4 border-white dark:border-gray-800",r?"bg-red-500 hover:bg-red-600 rotate-90":"bg-gradient-to-tr from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 animate-pulse"),children:r?o.jsx(Tm,{className:"w-8 h-8 text-white"}):o.jsxs("div",{className:"relative",children:[o.jsx(vh,{className:"w-8 h-8 text-white"}),o.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]})}),o.jsxs("div",{className:Ie("fixed bottom-28 right-6 z-50 w-[380px] bg-card rounded-3xl shadow-2xl border border-border/50 overflow-hidden transition-all duration-500 origin-bottom-right backdrop-blur-xl",r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-10 pointer-events-none"),children:[o.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 px-6 py-4 flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center border-2 border-white/30 backdrop-blur-md shadow-inner relative overflow-hidden group",children:o.jsxs("div",{className:"w-full h-full flex items-center justify-center relative",children:[o.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute left-3 top-4 animate-blink"}),o.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute right-3 top-4 animate-blink"}),o.jsx("div",{className:"w-4 h-2 border-b-2 border-white rounded-full absolute bottom-3"})]})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-heading font-bold text-white text-lg",children:"MAYA AI"}),o.jsx("p",{className:"text-xs text-white/80",children:"Always here to help"})]}),o.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[o.jsxs("select",{className:"bg-white/20 text-white text-xs rounded border-none p-1 focus:ring-0 cursor-pointer",value:g,onChange:$=>b($.target.value),children:[o.jsx("option",{value:"en",className:"text-black",children:"English"}),o.jsx("option",{value:"hi",className:"text-black",children:""}),o.jsx("option",{value:"mr",className:"text-black",children:""})]}),o.jsx(ke,{size:"icon",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:()=>window.speechSynthesis.cancel(),children:o.jsx(VJ,{className:Ie("w-4 h-4",h&&"animate-pulse text-yellow-300")})})]})]}),o.jsx(Sp,{className:"h-[400px] p-4 bg-muted/30",ref:d,children:o.jsxs("div",{className:"space-y-4",children:[s.map(($,q)=>o.jsxs("div",{className:Ie("flex gap-3",$.role==="user"?"justify-end":"justify-start"),children:[$.role==="assistant"&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-pink-500 to-purple-600 flex items-center justify-center flex-shrink-0 mt-1 shadow-md",children:o.jsx(vh,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:Ie("max-w-[80%] rounded-2xl px-4 py-3 text-sm shadow-sm",$.role==="user"?"bg-primary text-primary-foreground rounded-br-none":"bg-white dark:bg-gray-800 text-foreground rounded-bl-none border border-border/50"),children:$.content}),$.role==="user"&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx(ko,{className:"w-4 h-4 text-secondary-foreground"})})]},q)),c&&o.jsxs("div",{className:"flex gap-3 justify-start",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-pink-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx(vh,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl rounded-bl-none px-4 py-3 border border-border/50 shadow-sm",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce delay-0"}),o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce delay-150"}),o.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-bounce delay-300"})]})})]})]})}),o.jsx("div",{className:"px-4 py-2 bg-background flex gap-2 overflow-x-auto no-scrollbar scroll-smooth",children:["Book Appointment","View Reports","Insurance Info","Visiting Hours","Emergency Contact"].map($=>o.jsx(ke,{variant:"secondary",size:"sm",className:"whitespace-nowrap rounded-full text-xs h-7 bg-muted hover:bg-primary/10 hover:text-primary transition-colors border border-border/50",onClick:()=>l($),children:$},$))}),o.jsxs("div",{className:"p-4 bg-background border-t border-border pt-2",children:[o.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-100 rounded-lg flex items-center gap-3 text-xs text-blue-800",children:[o.jsx(Va,{className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Call us directly:"}),o.jsx("p",{children:"+91-123-456-7890"})]})]}),s.length>2&&o.jsxs("a",{href:"https://wa.me/3135409338",target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full mb-3 py-2 text-xs font-medium text-emerald-600 bg-emerald-50 hover:bg-emerald-100 rounded-lg transition-colors border border-emerald-200",children:[o.jsx(Va,{className:"w-3 h-3"}),"Chat with us on WhatsApp"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ke,{variant:"outline",size:"icon",onClick:D,className:Ie("shrink-0 rounded-full",f&&"border-red-500 text-red-500 animate-pulse"),title:"Voice Typing",children:o.jsx(OJ,{className:"w-4 h-4"})}),o.jsx(ke,{variant:"outline",size:"icon",onClick:R,className:Ie("shrink-0 rounded-full transition-all duration-300",S?"bg-red-500 text-white hover:bg-red-600 animate-pulse":"border-green-500 text-green-600 hover:bg-green-50"),title:"Start Voice Call",children:S?o.jsx(Xh,{className:"w-4 h-4"}):o.jsx(Va,{className:"w-4 h-4"})}),o.jsx(ht,{value:a,onChange:$=>l($.target.value.slice(0,Z5)),onKeyDown:M,placeholder:"Type your message...",disabled:c,className:"flex-1 rounded-full px-4",maxLength:Z5}),o.jsx(ke,{onClick:A,disabled:c||!a.trim(),size:"icon",className:"shrink-0 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700",children:o.jsx(KD,{className:"w-4 h-4"})})]})]})]})]})},vye=Z0({provider:Gr().min(1,"Please select an insurance provider"),policy_number:Gr().min(5,"Policy number is required"),patient_name:Gr().min(2,"Patient name is required"),diagnosis:Gr().min(5,"Diagnosis is required"),claim_amount:iA.number().min(1,"Amount is required"),notes:Gr().optional()}),yye=["Star Health","HDFC Ergo","ICICI Lombard","Max Bupa","Care Health","Niva Bupa"],xye=()=>{const{toast:e}=R0(),[t,r]=w.useState(!1),n=J0({resolver:Q0(vye),defaultValues:{provider:"",policy_number:"",patient_name:"",diagnosis:"",claim_amount:0,notes:""}}),s=Xr({mutationFn:async a=>{const{error:l}=await Qe.from("insurance_claims").insert({provider:a.provider,policy_number:a.policy_number,patient_name:a.patient_name,diagnosis:a.diagnosis,amount:a.claim_amount,status:"pending",notes:a.notes});if(l){if(l.code==="42P01"){console.warn("Table insurance_claims does not exist, mocking success"),await new Promise(c=>setTimeout(c,1e3));return}throw l}},onSuccess:()=>{r(!0),e({title:"Claim Submitted Successfully",description:"Your insurance claim has been received and is under review.",className:"bg-green-50 border-green-200"}),n.reset()},onError:a=>{console.error(a),e({title:"Submission Pending",description:"We've received your data locally. (Backend table might be missing)",variant:"default"}),r(!0)}}),i=a=>{s.mutate(a)};return t?o.jsx(jt,{className:"border-green-200 bg-green-50/50",children:o.jsxs(Tt,{className:"pt-6 flex flex-col items-center justify-center text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Ec,{className:"w-8 h-8 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Claim Applied Successfully!"}),o.jsx("p",{className:"text-green-700 max-w-xs mx-auto",children:"Check your email for the claim reference number. Our team will verify your documents within 24-48 hours."})]}),o.jsx(ke,{variant:"outline",className:"border-green-200 text-green-700 hover:bg-green-100 hover:text-green-800",onClick:()=>r(!1),children:"Submit Another Claim"})]})}):o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(D0,{className:"h-5 w-5 text-primary"}),"Apply for Cashless Insurance"]}),o.jsx(Ar,{children:"Submit your insurance details for cashless treatment approval."})]}),o.jsx(Tt,{children:o.jsx(X0,{...n,children:o.jsxs("form",{onSubmit:n.handleSubmit(i),className:"space-y-6",children:[o.jsx(Nr,{control:n.control,name:"provider",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Insurance Provider *"}),o.jsxs(Ir,{onValueChange:a.onChange,defaultValue:a.value,children:[o.jsx(xr,{children:o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select Provider"})})}),o.jsx(Rr,{children:yye.map(l=>o.jsx(We,{value:l,children:l},l))})]}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Nr,{control:n.control,name:"policy_number",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Policy Number *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g. POL-123456789",...a})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:n.control,name:"patient_name",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Patient Name *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"Patient Full Name",...a})}),o.jsx(kr,{})]})})]}),o.jsx(Nr,{control:n.control,name:"diagnosis",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Diagnosis / Reason for Admission *"}),o.jsx(xr,{children:o.jsx(ht,{placeholder:"e.g. Viral Fever, Surgery...",...a})}),o.jsx(kr,{})]})}),o.jsx(Nr,{control:n.control,name:"claim_amount",render:({field:a})=>o.jsxs(vr,{children:[o.jsx(yr,{children:"Estimated Claim Amount () *"}),o.jsx(xr,{children:o.jsx(ht,{type:"number",placeholder:"50000",...a})}),o.jsx(rU,{className:"text-xs text-muted-foreground",children:"Enter the estimated cost of treatment."}),o.jsx(kr,{})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Upload Insurance Card / ID Proof"}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center bg-muted/20 hover:bg-muted/40 transition-colors cursor-pointer text-muted-foreground",children:[o.jsx(mw,{className:"w-8 h-8 mb-2"}),o.jsx("span",{className:"text-sm",children:"Click to upload (Simulation)"})]})]}),o.jsx(ke,{type:"submit",className:"w-full",disabled:s.isPending,children:s.isPending?"Submitting...":"Submit Claim Request"})]})})})]})},wye=()=>{const{user:e,signOut:t}=ui(),r=Js(),n=Mn(),[s,i]=w.useState(!0),[a,l]=w.useState(!1),[c,u]=w.useState(!1),[d,h]=w.useState(!1),[p,f]=w.useState(),[v,m]=w.useState(""),[x,g]=w.useState(""),[b,S]=w.useState(""),[k,T]=w.useState("consultation"),[R,O]=w.useState(""),[D,I]=w.useState(""),[G,A]=w.useState(""),[M,$]=w.useState(""),[q,ee]=w.useState(""),[re,te]=w.useState(""),[W,Z]=w.useState(""),[pe,ge]=w.useState(""),[U,_]=w.useState("idle"),[C,E]=w.useState(null),[B,F]=w.useState("");w.useEffect(()=>{if(!e)return;const ve=setInterval(()=>{n.invalidateQueries({queryKey:["my-appointments"]})},3e4);return()=>clearInterval(ve)},[e,n]),w.useEffect(()=>{const ve=setTimeout(()=>{i(!1)},5e3);return()=>clearTimeout(ve)},[]);const{data:Q=[]}=Cn({queryKey:["public-departments"],queryFn:async()=>{const{data:ve}=await Hs.get("/api/departments");return ve}}),{data:ne=[]}=Cn({queryKey:["public-doctors",v],queryFn:async()=>{const ve=v&&v!=="all"?`/api/doctors?departmentId=${v}`:"/api/doctors";return await Hs.get(ve)}}),{data:le=[]}=Cn({queryKey:["my-appointments",e==null?void 0:e.id],queryFn:async()=>e?await Hs.get("/api/appointments"):[],enabled:!!e}),ue=Xr({mutationFn:async()=>{if(!e||!p||!D||!G)throw new Error("Please fill in all required fields");await Hs.post("/api/appointments",{patientName:D,patientPhone:G,patientEmail:e.email,doctorName:x||"General",department:v||null,date:p,time:b||null,type:k,notes:R||null})},onSuccess:()=>{qe.success("Appointment request submitted!"),l(!1),_e(),n.invalidateQueries({queryKey:["my-appointments"]});const ve=new CustomEvent("maya-notification",{detail:{message:`Your appointment with ${x?"the specialist":"us"} on ${p?gn(p,"PPP"):"the requested date"} has been successfully booked and confirmed. Your allotment ID is #${Math.floor(Math.random()*1e4)}. We look forward to seeing you.`,type:"success"}});window.dispatchEvent(ve)},onError:ve=>{qe.error(ve.message)}}),fe=Xr({mutationFn:async()=>{let ve=q;if(!M||!ve)throw new Error("Please provide your name and a phone number");await Hs.post("/api/callbacks",{fullName:M,phone:ve,time:W||null,reason:pe||null})},onSuccess:()=>{qe.success("Callback request submitted! We will call you soon."),u(!1),Me(),setTimeout(()=>{qe.info(" Incoming Call: Medicare AI Assistant",{description:"Connecting you to our automated support line...",duration:5e3,action:{label:"Answer",onClick:()=>{qe.success("Connected! (Simulated Voice Call)"),ve("Hello! This is Maya from Medicare Hospital. I received your callback request. How can I assist you today?")}}});const ve=se=>{if("speechSynthesis"in window){const ce=new SpeechSynthesisUtterance(se),Ne=window.speechSynthesis.getVoices().find(Oe=>Oe.name.includes("Female")||Oe.name.includes("Samantha")||Oe.name.includes("Google US English"));Ne&&(ce.voice=Ne),window.speechSynthesis.speak(ce)}}},3e3)},onError:ve=>{qe.error(ve.message)}}),_e=()=>{f(void 0),m(""),g(""),S(""),T("consultation"),O(""),I(""),A("")},Me=()=>{$(""),ee(""),te(""),Z(""),ge("")},J=async()=>{await t(),r("/")},De=ve=>{switch(ve){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Ge=()=>{_("locating"),navigator.geolocation?navigator.geolocation.getCurrentPosition(ve=>{E({lat:ve.coords.latitude,lng:ve.coords.longitude}),_("success"),F(`Lat: ${ve.coords.latitude.toFixed(4)}, Lng: ${ve.coords.longitude.toFixed(4)}`)},ve=>{console.error("Error getting location",ve),_("error"),qe.error("Could not fetch location. Please enable location services.")}):(_("error"),qe.error("Geolocation is not supported by your browser."))},Ye=()=>{setTimeout(()=>{qe.success("Ambulance dispatched! It will arrive at your location shortly."),h(!1),_("idle")},1500)};return s?o.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background/95 backdrop-blur-sm animate-in fade-in duration-500",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"w-16 h-16 object-contain mb-6 animate-pulse"}),o.jsx("h1",{className:"text-4xl font-bold font-heading text-primary mb-4 text-center",children:"Welcome to Medicare Hospital"}),o.jsx("p",{className:"text-xl text-muted-foreground font-medium text-center max-w-lg",children:'"To keep you safe is our duty."'})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:"Medicare"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:["Welcome, ",(e==null?void 0:e.fullName)||(e==null?void 0:e.email)]}),o.jsxs(ke,{variant:"outline",size:"sm",onClick:J,children:[o.jsx(IC,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs(yd,{defaultValue:"dashboard",className:"space-y-6",children:[o.jsxs($c,{className:"grid w-full grid-cols-2 md:grid-cols-5 lg:w-auto h-auto gap-2 bg-transparent p-0",children:[o.jsxs(pn,{value:"dashboard",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(Sl,{className:"w-4 h-4 mr-2"})," Dashboard"]}),o.jsxs(pn,{value:"reports",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(za,{className:"w-4 h-4 mr-2"})," Reports"]}),o.jsxs(pn,{value:"billing",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(fw,{className:"w-4 h-4 mr-2"})," Billing"]}),o.jsxs(pn,{value:"insurance",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground border bg-white h-12",children:[o.jsx(D0,{className:"w-4 h-4 mr-2"})," Insurance"]})]}),o.jsxs(mn,{value:"dashboard",className:"space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(fs,{open:a,onOpenChange:l,children:[o.jsx(xl,{asChild:!0,children:o.jsx(jt,{className:"cursor-pointer hover:shadow-lg transition-shadow border-2 hover:border-primary",children:o.jsxs(Wt,{className:"text-center",children:[o.jsx(xh,{className:"h-12 w-12 text-primary mx-auto mb-2"}),o.jsx(Mt,{children:"Book Appointment"}),o.jsx(Ar,{children:"Schedule a visit with our doctors"})]})})}),o.jsxs(ns,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Book an Appointment"}),o.jsx(Ys,{children:"Fill in the details to request an appointment"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Your Name *"}),o.jsx(ht,{placeholder:"Enter your full name",value:D,onChange:ve=>I(ve.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Phone Number *"}),o.jsx(ht,{placeholder:"Enter your phone number",value:G,onChange:ve=>A(ve.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Department (Optional)"}),o.jsxs(Ir,{value:v,onValueChange:m,children:[o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select department"})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"all",children:"All Departments"}),Q.map(ve=>o.jsx(We,{value:ve.id,children:ve.name},ve.id))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Doctor"}),o.jsxs(Ir,{value:x,onValueChange:g,children:[o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select doctor"})}),o.jsx(Rr,{children:ne.map(ve=>o.jsxs(We,{value:ve.id,children:[ve.name," - ",ve.specialty]},ve.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Preferred Date *"}),o.jsxs(jU,{children:[o.jsx(NU,{asChild:!0,children:o.jsxs(ke,{variant:"outline",className:Ie("w-full justify-start text-left",!p&&"text-muted-foreground"),children:[o.jsx(xh,{className:"mr-2 h-4 w-4"}),p?gn(p,"PPP"):"Pick a date"]})}),o.jsx(mA,{className:"w-auto p-0",children:o.jsx(p2,{mode:"single",selected:p,onSelect:f,disabled:ve=>ve<new Date,initialFocus:!0})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Preferred Time"}),o.jsxs(Ir,{value:b,onValueChange:S,children:[o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select time slot"})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"morning",children:"Morning (9AM - 12PM)"}),o.jsx(We,{value:"afternoon",children:"Afternoon (12PM - 5PM)"}),o.jsx(We,{value:"evening",children:"Evening (5PM - 8PM)"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Appointment Type"}),o.jsxs(Ir,{value:k,onValueChange:T,children:[o.jsx(Tr,{children:o.jsx(Mr,{})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"consultation",children:"General Consultation"}),o.jsx(We,{value:"followup",children:"Follow-up Visit"}),o.jsx(We,{value:"checkup",children:"Health Checkup"}),o.jsx(We,{value:"specialist",children:"Specialist Consultation"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Additional Notes"}),o.jsx(Ao,{placeholder:"Any specific concerns or requirements...",value:R,onChange:ve=>O(ve.target.value)})]}),o.jsx(ke,{className:"w-full",onClick:()=>ue.mutate(),disabled:ue.isPending,children:ue.isPending?"Submitting...":"Book Appointment"})]})]})]}),o.jsxs(fs,{open:c,onOpenChange:u,children:[o.jsx(xl,{asChild:!0,children:o.jsx(jt,{className:"cursor-pointer hover:shadow-lg transition-shadow border-2 hover:border-green-500",children:o.jsxs(Wt,{className:"text-center",children:[o.jsx(Xh,{className:"h-12 w-12 text-green-600 mx-auto mb-2"}),o.jsx(Mt,{children:"Request Callback"}),o.jsx(Ar,{children:"We'll call you back at your convenience"})]})})}),o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Request a Callback"}),o.jsx(Ys,{children:"Fill in your details and we'll call you back"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Your Name *"}),o.jsx(ht,{placeholder:"Enter your full name",value:M,onChange:ve=>$(ve.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Phone Number"}),o.jsx(ht,{placeholder:"Enter your phone number (Optional)",value:q,onChange:ve=>ee(ve.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Email (Optional)"}),o.jsx(ht,{placeholder:"Enter your email",value:re,onChange:ve=>te(ve.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Preferred Time"}),o.jsxs(Ir,{value:W,onValueChange:Z,children:[o.jsx(Tr,{children:o.jsx(Mr,{placeholder:"Select preferred time"})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"morning",children:"Morning (9AM - 12PM)"}),o.jsx(We,{value:"afternoon",children:"Afternoon (12PM - 5PM)"}),o.jsx(We,{value:"evening",children:"Evening (5PM - 8PM)"}),o.jsx(We,{value:"anytime",children:"Anytime"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Reason for Callback"}),o.jsx(Ao,{placeholder:"Tell us why you'd like to be contacted...",value:pe,onChange:ve=>ge(ve.target.value)})]}),o.jsx(ke,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>fe.mutate(),disabled:fe.isPending,children:fe.isPending?"Submitting...":"Request Callback"})]})]})]}),o.jsxs(fs,{open:d,onOpenChange:h,children:[o.jsx(xl,{asChild:!0,children:o.jsx(jt,{className:"cursor-pointer hover:shadow-lg transition-shadow border-2 hover:border-red-500 animate-pulse bg-red-50",children:o.jsxs(Wt,{className:"text-center",children:[o.jsx(QP,{className:"h-12 w-12 text-red-600 mx-auto mb-2"}),o.jsx(Mt,{className:"text-red-700",children:"Emergency Ambulance"}),o.jsx(Ar,{children:"Book an ambulance to your current location"})]})})}),o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsxs(ps,{className:"text-red-600 flex items-center gap-2",children:[o.jsx(QP,{className:"w-5 h-5"})," Emergency Ambulance Booking"]}),o.jsx(Ys,{children:"We need to access your location to send an ambulance immediately."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[U==="idle"&&o.jsxs(ke,{onClick:Ge,className:"w-full h-16 text-lg bg-red-600 hover:bg-red-700 animate-pulse",children:[o.jsx(Iu,{className:"w-6 h-6 mr-2"}),"Get My Location & Book"]}),U==="locating"&&o.jsxs("div",{className:"text-center space-y-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{children:"Fetching your exact location..."})]}),U==="success"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-semibold text-green-800 flex items-center gap-2",children:[o.jsx(Iu,{className:"w-4 h-4"})," Location Detected"]}),o.jsx("p",{className:"text-sm text-green-700 mt-1",children:B}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Coordinates: ",C==null?void 0:C.lat,", ",C==null?void 0:C.lng]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Emergency Details (Optional)"}),o.jsx(Ao,{placeholder:"Briefly describe the emergency..."})]})]}),U==="error"&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-red-600",children:"Could not fetch location automatically."}),o.jsx(ke,{variant:"outline",onClick:()=>_("idle"),className:"mt-2",children:"Try Again"})]})]}),U==="success"&&o.jsxs(zm,{children:[o.jsx(ke,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),o.jsx(ke,{onClick:Ye,className:"bg-red-600 hover:bg-red-700",children:"Confirm Ambulance"})]})]})]})]}),o.jsxs(jt,{className:"mb-8",children:[o.jsx(Wt,{children:o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(xh,{className:"h-5 w-5"}),"My Appointments"]})}),o.jsx(Tt,{children:le.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"You haven't booked any appointments yet. Book one above!"}):o.jsx("div",{className:"space-y-4",children:le.map(ve=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:ve.appointment_type}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[gn(new Date(ve.preferred_date),"PPP"),ve.preferred_time&&` - ${ve.preferred_time}`]}),ve.doctors&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Dr. ",ve.doctors.name," (",ve.doctors.specialty,")"]})]}),o.jsx(Kt,{className:De(ve.status),children:ve.status})]},ve.id))})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(jt,{children:[o.jsx(Wt,{children:o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(yh,{className:"h-5 w-5"}),"About MediCare Hospital"]})}),o.jsxs(Tt,{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"MediCare Hospital is a state-of-the-art healthcare facility providing comprehensive medical services with a focus on patient-centered care."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vi,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"50+ Specialist Doctors"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yh,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"15 Medical Departments"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xa,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"24/7 Emergency Services"})]})]})]})]}),o.jsxs(jt,{children:[o.jsx(Wt,{children:o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(Iu,{className:"h-5 w-5"}),"Contact & Location"]})}),o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Iu,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Address"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"123 Healthcare Avenue, Medical District, City 12345"})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Va,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Phone"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"+1 (555) 123-4567"})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(xa,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Hours"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["OPD: Mon-Sat 9AM-8PM",o.jsx("br",{}),"Emergency: 24/7"]})]})]})]}),o.jsx("div",{className:"pt-4",children:o.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d121059.04360432657!2d73.86296739999999!3d18.5246036!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2bf2e67461101%3A0x828d43bf9d9ee343!2sPune%2C%20Maharashtra!5e0!3m2!1sen!2sin!4v1705662000000!5m2!1sen!2sin",width:"100%",height:"150",style:{border:0,borderRadius:"8px"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})]})]}),o.jsx(mn,{value:"reports",children:o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsx(Mt,{children:"Medical Reports"}),o.jsx(Ar,{children:"View and download your medical reports here."})]}),o.jsx(Tt,{children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[o.jsx(za,{className:"h-12 w-12 mb-4 opacity-50"}),o.jsx("p",{children:"No reports available yet."})]})})]})}),o.jsx(mn,{value:"billing",children:o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsx(Mt,{children:"Billing & Payments"}),o.jsx(Ar,{children:"Manage your payments and view invoices."})]}),o.jsx(Tt,{children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[o.jsx(fw,{className:"h-12 w-12 mb-4 opacity-50"}),o.jsx("p",{children:"No billing history found."})]})})]})}),o.jsx(mn,{value:"insurance",children:o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsx(xye,{})})})]})}),o.jsx(gye,{})]})},bye=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,l]=w.useState(!1),{signIn:c}=ui(),u=Js(),d=async h=>{if(h.preventDefault(),!e.trim()||!r.trim()){qe.error("Please fill in all fields");return}l(!0);const{user:p,error:f}=await c(e,r);if(f){l(!1),qe.error(f.message||"Failed to sign in");return}if(p){l(!1),qe.success("Welcome back!"),p.role==="cashier"?u("/staff/dashboard/cashier"):p.role==="nurse"?u("/staff/dashboard/nurse"):p.role==="doctor"?u("/staff/dashboard/doctor"):p.role==="receptionist"?u("/staff/dashboard/reception"):p.role==="admin"?u("/admin/dashboard"):p.role==="staff"?u("/dashboard"):(qe.info("You do not have staff access. Redirecting to patient portal..."),u("/patient/dashboard"));return}l(!1),qe.error("Authentication failed")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md",children:[o.jsxs(Wt,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-green-600 mb-4 justify-center",children:[o.jsx(Zh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Staff Portal"})]}),o.jsx(Mt,{className:"text-2xl",children:"Staff Sign In"}),o.jsx(Ar,{children:"Access the Hospital Management System"})]}),o.jsxs("form",{onSubmit:d,children:[o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your staff email",value:e,onChange:h=>t(h.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ht,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),required:!0,autoComplete:"current-password",className:"pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(Eb,{className:"h-4 w-4"}):o.jsx(Ab,{className:"h-4 w-4"})})]})]})]}),o.jsxs(Nl,{className:"flex flex-col gap-4",children:[o.jsx(ke,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:a,children:a?"Signing in...":"Sign In"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Need staff access?"," ",o.jsx(Hr,{to:"/staff/register",className:"text-green-600 hover:underline",children:"Request access here"})]})]})]})]})})},_ye=Am("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),A2=w.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:Ie(_ye({variant:t}),e),...r}));A2.displayName="Alert";const MA=w.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:Ie("mb-1 font-medium leading-none tracking-tight",e),...t}));MA.displayName="AlertTitle";const P2=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Ie("text-sm [&_p]:leading-relaxed",e),...t}));P2.displayName="AlertDescription";const Sye=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(""),[a,l]=w.useState(""),[c,u]=w.useState("receptionist"),[d,h]=w.useState(!1),{signUp:p}=ui(),f=Js(),v=async m=>{var S;if(m.preventDefault(),!e.trim()||!r.trim()||!s.trim()){qe.error("Please fill in all required fields");return}if(s!==a){qe.error("Passwords do not match");return}if(s.length<6){qe.error("Password must be at least 6 characters");return}h(!0);const{error:x}=await p(r,s,e);if(x){h(!1),qe.error(x.message||"Failed to register");return}const{error:g}=await Qe.auth.signInWithPassword({email:r,password:s});if(g){h(!1),qe.success("Account created! Please sign in to complete your access request."),f("/staff/login");return}const{data:{user:b}}=await Qe.auth.getUser();if(b){let k=null;try{const{error:T}=await Qe.from("staff_approval_requests").insert({user_id:b.id,email:r,full_name:e,requested_role:c});if(k=T,T&&c==="cashier"&&((S=T.message)!=null&&S.includes("invalid input value"))){console.warn("Cashier role not in DB Enum, falling back.");const{error:R}=await Qe.from("staff_approval_requests").insert({user_id:b.id,email:r,full_name:`${e} (REQUESTING CASHIER)`,requested_role:"receptionist"});k=R,R||qe.info("Request submitted. Note: Cashier role requires admin database update, handled as Receptionist temporarily.")}}catch(T){k=T}if(k){console.error("Error creating approval request:",k),h(!1),qe.error("Failed to submit access request: "+k.message);return}}h(!1),qe.success("Access request submitted! An administrator will review your request."),f("/staff/pending")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md",children:[o.jsxs(Wt,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-green-600 mb-4 justify-center",children:[o.jsx(Zh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Staff Portal"})]}),o.jsx(Mt,{className:"text-2xl",children:"Request Staff Access"}),o.jsx(Ar,{children:"Submit a request to access the Hospital Management System"})]}),o.jsxs("form",{onSubmit:v,children:[o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs(A2,{children:[o.jsx(LC,{className:"h-4 w-4"}),o.jsx(P2,{children:"Staff access requires administrator approval. You will be notified once your request is reviewed."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"fullName",children:"Full Name *"}),o.jsx(ht,{id:"fullName",type:"text",placeholder:"Enter your full name",value:e,onChange:m=>t(m.target.value),required:!0,autoComplete:"name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Email *"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter your work email",value:r,onChange:m=>n(m.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"role",children:"Requested Role *"}),o.jsxs(Ir,{value:c,onValueChange:m=>u(m),children:[o.jsx(Tr,{children:o.jsx(Mr,{})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"doctor",children:"Doctor"}),o.jsx(We,{value:"nurse",children:"Nurse"}),o.jsx(We,{value:"receptionist",children:"Receptionist"}),o.jsx(We,{value:"cashier",children:"Cashier"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password *"}),o.jsx(ht,{id:"password",type:"password",placeholder:"Create a password (min 6 characters)",value:s,onChange:m=>i(m.target.value),required:!0,autoComplete:"new-password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"confirmPassword",children:"Confirm Password *"}),o.jsx(ht,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:a,onChange:m=>l(m.target.value),required:!0,autoComplete:"new-password"})]})]}),o.jsxs(Nl,{className:"flex flex-col gap-4",children:[o.jsx(ke,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:d,children:d?"Submitting request...":"Submit Access Request"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Already have staff access?"," ",o.jsx(Hr,{to:"/staff/login",className:"text-green-600 hover:underline",children:"Sign in here"})]})]})]})]})})},jye=()=>{const{user:e,signOut:t}=ui(),r=Js(),[n,s]=w.useState("pending"),[i,a]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!e){r("/staff/login");return}const{data:d}=await Qe.from("user_roles").select("role").eq("user_id",e.id).maybeSingle();if(d){qe.success("Your access has been approved!"),r("/");return}const{data:h}=await Qe.from("staff_approval_requests").select("status").eq("user_id",e.id).maybeSingle();s(h?h.status:"none"),a(!1)})();const u=Qe.channel("approval-status").on("postgres_changes",{event:"UPDATE",schema:"public",table:"staff_approval_requests",filter:`user_id=eq.${e==null?void 0:e.id}`},d=>{const h=d.new.status;s(h),h==="approved"?(qe.success("Your access has been approved!"),setTimeout(()=>{r("/")},2e3)):h==="rejected"&&qe.error("Your access request was rejected.")}).subscribe();return()=>{Qe.removeChannel(u)}},[e,r]);const l=async()=>{await t(),r("/")};return i?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md text-center",children:[o.jsxs(Wt,{children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(Vi,{className:"h-8 w-8 text-green-600"}),o.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Staff Portal"})]}),n==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(xa,{className:"h-8 w-8 text-yellow-600"})}),o.jsx(Mt,{className:"text-2xl",children:"Access Request Pending"}),o.jsx(Ar,{className:"text-base",children:"Your request is being reviewed by an administrator"})]}),n==="approved"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ec,{className:"h-8 w-8 text-green-600"})}),o.jsx(Mt,{className:"text-2xl",children:"Access Approved!"}),o.jsx(Ar,{className:"text-base",children:"Redirecting you to the dashboard..."})]}),n==="rejected"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(tm,{className:"h-8 w-8 text-red-600"})}),o.jsx(Mt,{className:"text-2xl",children:"Access Denied"}),o.jsx(Ar,{className:"text-base",children:"Your access request was rejected. Please contact the administrator."})]}),n==="none"&&o.jsxs(o.Fragment,{children:[o.jsx(Mt,{className:"text-2xl",children:"No Access Request Found"}),o.jsx(Ar,{className:"text-base",children:"Please submit an access request to gain staff access."})]})]}),o.jsxs(Tt,{className:"space-y-4",children:[n==="pending"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(Kt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-300",children:"Pending Approval"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"You will receive a notification once your request has been reviewed. This page will automatically update when your status changes."})]}),o.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[n==="none"&&o.jsx(ke,{asChild:!0,className:"bg-green-600 hover:bg-green-700",children:o.jsx(Hr,{to:"/staff/register",children:"Submit Access Request"})}),o.jsxs(ke,{variant:"outline",onClick:l,children:[o.jsx(IC,{className:"h-4 w-4 mr-2"}),"Sign Out"]}),o.jsx(ke,{variant:"ghost",asChild:!0,children:o.jsx(Hr,{to:"/",children:"Back to Portal Selection"})})]})]})]})})},oL=()=>{const{user:e}=ui(),t=Mn(),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,l]=w.useState(null),[c,u]=w.useState(""),{data:d=[],isLoading:h}=Cn({queryKey:["staff-approval-requests"],queryFn:async()=>{const{data:R,error:O}=await Qe.from("staff_approval_requests").select("*").order("created_at",{ascending:!1});if(O)throw O;return R}}),{data:p=[],isLoading:f}=Cn({queryKey:["change-requests"],queryFn:async()=>{if(!e)return[];const{data:R,error:O}=await Qe.from("notifications").select("*").eq("user_id",e.id).eq("type","permission_request").order("created_at",{ascending:!1});if(O)throw O;return R},enabled:!!e}),v=Xr({mutationFn:async R=>{const{error:O}=await Qe.from("user_roles").insert({user_id:R.user_id,role:R.requested_role});if(O)throw O;const{error:D}=await Qe.from("staff_approval_requests").update({status:"approved",reviewed_by:e==null?void 0:e.id,reviewed_at:new Date().toISOString()}).eq("id",R.id);if(D)throw D},onSuccess:()=>{qe.success("Staff access approved!"),t.invalidateQueries({queryKey:["staff-approval-requests"]})},onError:R=>{qe.error(R.message||"Failed to approve request")}}),m=Xr({mutationFn:async({request:R,reason:O})=>{const{error:D}=await Qe.from("staff_approval_requests").update({status:"rejected",reviewed_by:e==null?void 0:e.id,reviewed_at:new Date().toISOString(),rejection_reason:O}).eq("id",R.id);if(D)throw D},onSuccess:()=>{qe.success("Request rejected"),i(!1),u(""),l(null),t.invalidateQueries({queryKey:["staff-approval-requests"]})},onError:R=>{qe.error(R.message||"Failed to reject request")}}),x=Xr({mutationFn:async R=>{const{error:O}=await Qe.from("notifications").delete().eq("id",R);if(O)throw O},onSuccess:()=>{qe.success("Request processed"),t.invalidateQueries({queryKey:["change-requests"]})},onError:R=>{qe.error("Failed to process request")}}),g=d.filter(R=>R.full_name.toLowerCase().includes(r.toLowerCase())||R.email.toLowerCase().includes(r.toLowerCase())),b=g.filter(R=>R.status==="pending"),S=g.filter(R=>R.status!=="pending"),k=R=>{switch(R){case"approved":return o.jsx(Kt,{className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return o.jsx(Kt,{className:"bg-red-100 text-red-800",children:"Rejected"});default:return o.jsx(Kt,{className:"bg-yellow-100 text-yellow-800",children:"Pending"})}},T=R=>{const O={admin:"bg-purple-100 text-purple-800",doctor:"bg-blue-100 text-blue-800",nurse:"bg-pink-100 text-pink-800",receptionist:"bg-gray-100 text-gray-800",cashier:"bg-emerald-100 text-emerald-800"};return o.jsx(Kt,{className:O[R]||"bg-gray-100 text-gray-800",children:R})};return o.jsx(In,{title:"Staff Approvals",subtitle:"Manage staff access and requests",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[o.jsx(D0,{className:"h-8 w-8"}),"Staff Approvals & Requests"]}),o.jsx("p",{className:"text-muted-foreground",children:"Manage access and review change requests"})]})}),o.jsxs(yd,{defaultValue:"approvals",className:"w-full space-y-6",children:[o.jsxs($c,{children:[o.jsx(pn,{value:"approvals",children:"Access Approvals"}),o.jsx(pn,{value:"requests",children:"Change Requests"})]}),o.jsxs(mn,{value:"approvals",className:"space-y-6",children:[o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search by name or email...",value:r,onChange:R=>n(R.target.value),className:"pl-10"})]}),o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(xa,{className:"h-5 w-5 text-yellow-600"}),"Pending Requests (",b.length,")"]}),o.jsx(Ar,{children:"Requests awaiting your approval"})]}),o.jsx(Tt,{children:h?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):b.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No pending requests"}):o.jsx("div",{className:"space-y-4",children:b.map(R=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:R.full_name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:R.email}),o.jsxs("div",{className:"flex items-center gap-2",children:[T(R.requested_role),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Requested ",gn(new Date(R.created_at),"MMM d, yyyy")]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ke,{size:"sm",onClick:()=>v.mutate(R),disabled:v.isPending,className:"bg-green-600 hover:bg-green-700",children:[o.jsx(QD,{className:"h-4 w-4 mr-1"}),"Approve"]}),o.jsxs(ke,{size:"sm",variant:"destructive",onClick:()=>{l(R),i(!0)},children:[o.jsx(zJ,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},R.id))})})]}),o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsxs(Mt,{children:["Processed Requests (",S.length,")"]}),o.jsx(Ar,{children:"Previously reviewed requests"})]}),o.jsx(Tt,{children:S.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No processed requests"}):o.jsx("div",{className:"space-y-4",children:S.map(R=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:R.full_name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:R.email}),o.jsxs("div",{className:"flex items-center gap-2",children:[T(R.requested_role),k(R.status)]})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:gn(new Date(R.created_at),"MMM d, yyyy")})]},R.id))})})]})]}),o.jsx(mn,{value:"requests",children:o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(eT,{className:"h-5 w-5 text-blue-600"}),"Operations Change Requests"]}),o.jsx(Ar,{children:"Requests from staff for restricted actions (e.g. Doctor Schedule Changes)"})]}),o.jsx(Tt,{children:f?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):p.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground bg-muted/20 rounded-lg",children:[o.jsx(eT,{className:"mx-auto h-12 w-12 opacity-20 mb-3"}),o.jsx("p",{children:"No active change requests."})]}):o.jsx("div",{className:"space-y-4",children:p.map(R=>o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center p-4 border rounded-lg bg-card shadow-sm",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"font-semibold text-foreground",children:R.title}),o.jsx(Kt,{variant:"outline",className:"text-xs",children:gn(new Date(R.created_at),"MMM d, h:mm a")})]}),o.jsx("p",{className:"text-sm text-foreground/80",children:R.message})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[o.jsxs(ke,{size:"sm",variant:"default",onClick:()=>x.mutate(R.id),className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700",children:[o.jsx(Ec,{className:"w-4 h-4 mr-2"}),"Done"]}),o.jsxs(ke,{size:"sm",variant:"outline",onClick:()=>x.mutate(R.id),className:"flex-1 sm:flex-none text-muted-foreground hover:text-foreground",children:[o.jsx(tm,{className:"w-4 h-4 mr-2"}),"Dismiss"]})]})]},R.id))})})]})})]}),o.jsx(fs,{open:s,onOpenChange:i,children:o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Reject Access Request"}),o.jsxs(Ys,{children:["Please provide a reason for rejecting ",a==null?void 0:a.full_name,"'s request."]})]}),o.jsx(Ao,{placeholder:"Enter rejection reason (optional)",value:c,onChange:R=>u(R.target.value)}),o.jsxs(zm,{children:[o.jsx(ke,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),o.jsx(ke,{variant:"destructive",onClick:()=>{a&&m.mutate({request:a,reason:c})},disabled:m.isPending,children:"Reject Request"})]})]})})]})})},Nye=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,l]=w.useState(!1),{signIn:c}=ui(),u=Js(),d=async h=>{if(h.preventDefault(),!e.trim()||!r.trim()){qe.error("Please fill in all fields");return}l(!0);const{error:p}=await c(e,r);if(p){l(!1),qe.error("Invalid login credentials");return}const{data:{user:f}}=await Qe.auth.getUser();if(!f){l(!1),qe.error("Authentication failed");return}const{data:v}=await Qe.from("user_roles").select("role").eq("user_id",f.id).eq("role","admin").maybeSingle();if(l(!1),v){qe.success("Welcome, Admin!"),u("/dashboard");return}await Qe.auth.signOut(),qe.error("Access denied. Admin credentials required.")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-indigo-100 p-4",children:o.jsxs(jt,{className:"w-full max-w-md",children:[o.jsxs(Wt,{className:"text-center",children:[o.jsxs(Hr,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-purple-600 mb-4 justify-center",children:[o.jsx(Zh,{className:"h-4 w-4"}),"Back to Portal Selection"]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("img",{src:"/logo.png",alt:"Medicare Logo",className:"h-8 w-8 object-contain"}),o.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"Admin Portal"})]}),o.jsx(Mt,{className:"text-2xl",children:"Administrator Login"}),o.jsx(Ar,{children:"Restricted access for system administrators only"})]}),o.jsxs("form",{onSubmit:d,children:[o.jsxs(Tt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"email",children:"Admin Email"}),o.jsx(ht,{id:"email",type:"email",placeholder:"Enter admin email",value:e,onChange:h=>t(h.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ht,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),required:!0,autoComplete:"current-password",className:"pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(Eb,{className:"h-4 w-4"}):o.jsx(Ab,{className:"h-4 w-4"})})]})]})]}),o.jsxs(Nl,{className:"flex flex-col gap-4",children:[o.jsx(ke,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:a,children:a?"Signing in...":"Sign In as Admin"}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Not an admin?"," ",o.jsx(Hr,{to:"/staff/login",className:"text-purple-600 hover:underline",children:"Staff Login"})]})]})]})]})})},kye=()=>{const e=Js(),[t,r]=w.useState(!1),[n,s]=w.useState(""),[i,a]=w.useState("normal"),[l,c]=w.useState("nurse"),[u,d]=w.useState(""),[h,p]=w.useState(null),{data:f,isLoading:v}=l2(gn(new Date,"yyyy-MM-dd")),{data:m,isLoading:x}=Hm();if(v||x)return o.jsx(In,{title:"Doctor Dashboard",subtitle:"Loading...",children:o.jsx("div",{className:"flex items-center justify-center py-24",children:o.jsx(Ac,{className:"w-8 h-8 animate-spin text-primary"})})});const b=(f==null?void 0:f.filter(R=>R.status==="pending").length)||0,S=(f==null?void 0:f.length)||0,k=()=>{if(!n.trim()){qe.error("Please enter an instruction");return}qe.success("Instruction sent to staff",{description:`Sent to ${l} with ${i} priority.`}),s(""),a("normal")},T=()=>{if(!u)return;const R=m==null?void 0:m.find(O=>{var D;return O.name.toLowerCase().includes(u.toLowerCase())||((D=O.patient_id)==null?void 0:D.includes(u))});R?p({...R,visits:[{date:"2024-01-10",reason:"Fever",doctor:"Dr. Smith"},{date:"2023-12-05",reason:"General Checkup",doctor:"Dr. Smith"}],reports:[{date:"2024-01-10",name:"Blood Test",type:"lab"},{date:"2023-12-05",name:"X-Ray Chest",type:"imaging"}]}):(qe.error("Patient not found"),p(null))};return o.jsxs(In,{title:"Doctor Dashboard",subtitle:"Manage your appointments and patients.",children:[o.jsxs(yd,{defaultValue:"overview",className:"space-y-6",children:[o.jsxs($c,{children:[o.jsx(pn,{value:"overview",children:"Overview"}),o.jsx(pn,{value:"patients",children:"My Patients"}),o.jsx(pn,{value:"instructions",children:"Staff Instructions"}),o.jsx(pn,{value:"records",children:"Patient Records"})]}),o.jsxs(mn,{value:"overview",className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[o.jsx(Ni,{title:"Today's Appointments",value:S,change:`${b} pending`,changeType:"neutral",icon:VD,iconColor:"primary"}),o.jsx(Ni,{title:"My Patients",value:(f==null?void 0:f.map(R=>R.patient_id).filter((R,O,D)=>D.indexOf(R)===O).length)||0,change:"Seen today",changeType:"neutral",icon:ko,iconColor:"info"}),o.jsx(Ni,{title:"Pending Reports",value:0,change:"To review",changeType:"neutral",icon:za,iconColor:"warning"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 bg-card rounded-xl card-shadow border border-border/50 animate-fade-in p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Upcoming Appointments"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:gn(new Date,"EEEE, d MMM")})]}),o.jsx("div",{className:"divide-y divide-border",children:(f==null?void 0:f.length)===0?o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No appointments scheduled for today."}):f==null?void 0:f.map(R=>{var O,D,I;return o.jsxs("div",{className:"py-4 flex items-center justify-between hover:bg-muted/50 px-2 rounded-lg transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Io,{children:o.jsx(Mo,{className:"bg-primary/10 text-primary",children:(D=(O=R.patients)==null?void 0:O.name)==null?void 0:D.substring(0,2).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:(I=R.patients)==null?void 0:I.name}),o.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:R.type})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm text-foreground mb-1 justify-end",children:[o.jsx(xa,{className:"w-3 h-3"}),R.appointment_time]}),o.jsx(Kt,{variant:R.status==="confirmed"?"default":"outline",children:R.status})]})]},R.id)})})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-card rounded-xl card-shadow border border-border/50 p-6 animate-fade-in",children:[o.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(ke,{variant:"outline",className:"w-full justify-start h-12",onClick:()=>r(!0),children:[o.jsx(mw,{className:"mr-2 h-4 w-4"}),"Upload Medical Report"]}),o.jsxs(ke,{variant:"outline",className:"w-full justify-start h-12",children:[o.jsx(za,{className:"mr-2 h-4 w-4"}),"Write Prescription"]})]})]})})]})]}),o.jsx(mn,{value:"patients",children:o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsx(Mt,{children:"My Patients"}),o.jsx(Ar,{children:"List of patients under your care or visited recently."})]}),o.jsx(Tt,{children:o.jsx("div",{className:"rounded-md border",children:o.jsxs(iy,{children:[o.jsx(ay,{children:o.jsxs(Ba,{children:[o.jsx(Nn,{children:"Name"}),o.jsx(Nn,{children:"Age/Gender"}),o.jsx(Nn,{children:"Condition"}),o.jsx(Nn,{children:"Last Visit"}),o.jsx(Nn,{children:"Status"}),o.jsx(Nn,{className:"text-right",children:"Actions"})]})}),o.jsx(oy,{children:m==null?void 0:m.slice(0,10).map(R=>o.jsxs(Ba,{children:[o.jsx(on,{className:"font-medium",children:R.name}),o.jsxs(on,{children:[R.age," / ",R.gender]}),o.jsx(on,{children:R.condition||"-"}),o.jsx(on,{children:"Today"}),o.jsx(on,{children:o.jsx(Kt,{variant:"outline",children:R.status})}),o.jsx(on,{className:"text-right",children:o.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>e("/patients"),children:"View"})})]},R.id))})]})})})]})}),o.jsx(mn,{value:"instructions",children:o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsx(Mt,{children:"Staff Instruction Center"}),o.jsx(Ar,{children:"Send instructions or tasks to nurses and receptionists."})]}),o.jsxs(Tt,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Recipient Role"}),o.jsxs(Ir,{value:l,onValueChange:c,children:[o.jsx(Tr,{children:o.jsx(Mr,{})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"nurse",children:"Nurse Station"}),o.jsx(We,{value:"reception",children:"Reception"}),o.jsx(We,{value:"all",children:"All Staff"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Priority"}),o.jsxs(Ir,{value:i,onValueChange:a,children:[o.jsx(Tr,{children:o.jsx(Mr,{})}),o.jsxs(Rr,{children:[o.jsx(We,{value:"low",children:"Low"}),o.jsx(We,{value:"normal",children:"Normal"}),o.jsx(We,{value:"high",children:"High"}),o.jsx(We,{value:"urgent",children:"Urgent"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(lt,{children:"Instruction / Task"}),o.jsx(Ao,{placeholder:"Enter detailed instruction here...",className:"min-h-[120px]",value:n,onChange:R=>s(R.target.value)})]})]}),o.jsx(Nl,{className:"flex justify-end",children:o.jsxs(ke,{onClick:k,className:"gap-2",children:[o.jsx(KD,{className:"w-4 h-4"})," Send Instruction"]})})]})}),o.jsx(mn,{value:"records",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsx(Mt,{children:"Patient Search"}),o.jsx(Ar,{children:"Search for a patient to view history and reports."})]}),o.jsx(Tt,{children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx(ht,{placeholder:"Search by name or ID...",value:u,onChange:R=>d(R.target.value),onKeyDown:R=>R.key==="Enter"&&T()}),o.jsxs(ke,{onClick:T,children:[o.jsx(Cl,{className:"w-4 h-4 mr-2"})," Search"]})]})})]}),h&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[o.jsxs(jt,{children:[o.jsx(Wt,{children:o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(EJ,{className:"w-5 h-5 text-primary"}),"Visit History"]})}),o.jsx(Tt,{children:o.jsx("div",{className:"space-y-4",children:h.visits.map((R,O)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:R.reason}),o.jsx("p",{className:"text-sm text-muted-foreground",children:R.doctor})]}),o.jsx(Kt,{variant:"outline",children:R.date})]},O))})})]}),o.jsxs(jt,{children:[o.jsx(Wt,{children:o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(hw,{className:"w-5 h-5 text-blue-600"}),"Medical Reports"]})}),o.jsx(Tt,{children:o.jsxs("div",{className:"space-y-4",children:[h.reports.map((R,O)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50/50 rounded-lg border border-blue-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(za,{className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-900",children:R.name}),o.jsx("p",{className:"text-xs text-blue-700 capitalize",children:R.type})]})]}),o.jsx(ke,{variant:"ghost",size:"sm",className:"h-8 text-blue-700 hover:text-blue-900",children:"View"})]},O)),o.jsxs(ke,{variant:"outline",className:"w-full mt-2",onClick:()=>r(!0),children:[o.jsx(mw,{className:"w-4 h-4 mr-2"})," Upload New Report"]})]})})]})]})]})})]}),o.jsx(bA,{open:t,onOpenChange:r,defaultType:"lab"})]})},Cye=()=>{const e=Js(),[t,r]=w.useState(!1),[n,s]=w.useState(!1),[i,a]=w.useState(!1),{data:l,isLoading:c}=Gm(),{data:u,isLoading:d}=gd(),h=(l==null?void 0:l.filter(v=>v.available).length)||0,p=(u==null?void 0:u.reduce((v,m)=>v+m.total_beds,0))||0,f=(u==null?void 0:u.reduce((v,m)=>v+m.occupied_beds,0))||0;return c||d?o.jsx(In,{title:"Reception Dashboard",subtitle:"Loading...",children:o.jsx("div",{})}):o.jsxs(In,{title:"Reception Dashboard",subtitle:"Front desk operations and patient management.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(Ni,{title:"Available Doctors",value:h,change:"Available now",changeType:"positive",icon:Wa,iconColor:"primary"}),o.jsx(Ni,{title:"Bed Availability",value:p-f,change:`${f} occupied`,changeType:p-f<5?"negative":"neutral",icon:Cc,iconColor:"info"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:o.jsxs("div",{className:"bg-card rounded-xl border border-border/50 p-6 shadow-sm",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(ke,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>r(!0),children:[o.jsx($C,{className:"w-6 h-6 text-primary"}),"Register Patient"]}),o.jsxs(ke,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>s(!0),children:[o.jsx(WD,{className:"w-6 h-6 text-green-600"}),"Book Appointment"]}),o.jsxs(ke,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>e("/callbacks"),children:[o.jsx(Xh,{className:"w-6 h-6 text-orange-600"}),"Callbacks"]}),o.jsxs(ke,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>e("/beds"),children:[o.jsx(Cc,{className:"w-6 h-6 text-blue-600"}),"Check Beds"]}),o.jsxs(ke,{className:"h-24 flex-col gap-2",variant:"outline",onClick:()=>a(!0),children:[o.jsx(DJ,{className:"w-6 h-6 text-purple-600"}),"Upload Receipt"]})]})]})}),o.jsx(aA,{open:t,onOpenChange:r}),o.jsx(gA,{open:n,onOpenChange:s}),o.jsx(bA,{open:i,onOpenChange:a,defaultType:"bill"})]})},Eye=()=>{const e=Js(),{data:t,isLoading:r}=gd(),{data:n,isLoading:s}=Hm();if(r||s)return o.jsx(In,{title:"Nurse Dashboard",subtitle:"Loading...",children:o.jsx("div",{})});const i=(n==null?void 0:n.filter(l=>l.status==="admitted"||l.status==="critical"))||[],a=(n==null?void 0:n.filter(l=>l.status==="critical"))||[];return o.jsxs(In,{title:"Nurse Station",subtitle:"In-patient care and ward management.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(Ni,{title:"Admitted Patients",value:i.length,change:"Currently in wards",changeType:"neutral",icon:Wa,iconColor:"primary"}),o.jsx(Ni,{title:"Critical Cases",value:a.length,change:"Need attention",changeType:a.length>0?"negative":"positive",icon:Sl,iconColor:"destructive"}),o.jsx(Ni,{title:"Tasks Pending",value:0,change:"Shift tasks",changeType:"neutral",icon:RC,iconColor:"warning"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-card rounded-xl border border-border/50 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Ward Occupancy"}),o.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>e("/beds"),children:"Manage Beds"})]}),o.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(l=>{const c=l.total_beds>0?l.occupied_beds/l.total_beds*100:0;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:l.name}),o.jsxs("span",{className:"text-muted-foreground",children:[l.occupied_beds,"/",l.total_beds]})]}),o.jsx(c2,{value:c,className:"h-2"})]},l.id)})})]}),o.jsxs("div",{className:"bg-card rounded-xl border border-border/50 p-6",children:[o.jsxs("h3",{className:"font-semibold text-lg mb-4 text-red-600 flex items-center gap-2",children:[o.jsx(Sl,{className:"w-5 h-5"})," Critical Watchlist"]}),o.jsx("div",{className:"space-y-3",children:a.length===0?o.jsx("p",{className:"text-muted-foreground text-sm",children:"No critical patients reported."}):a.map(l=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-red-900",children:l.name}),o.jsxs("p",{className:"text-xs text-red-700",children:["Room: ",l.room||"Unassigned"]})]}),o.jsx(Kt,{variant:"destructive",children:"Critical"})]},l.id))})]})]})]})},Aye=[{id:1,doctor:"Dr. Sarah Wilson",specialty:"Cardiology",time:"10:00 AM",ward:"Cardiology Wing A",patients:5},{id:2,doctor:"Dr. James Miller",specialty:"Pediatrics",time:"11:30 AM",ward:"Pediatric Ward",patients:8},{id:3,doctor:"Dr. Michael Chen",specialty:"Neurology",time:"02:00 PM",ward:"Neuro ICU",patients:3}],Pye=[{id:1,patient:"John Doe",doctor:"Dr. Sarah Wilson",advice:"Monitor BP every 2 hours. Increase fluid intake.",timestamp:new Date().toISOString()},{id:2,patient:"Jane Smith",doctor:"Dr. Michael Chen",advice:"Schedule MRI for tomorrow morning. Keep NPO after midnight.",timestamp:new Date(Date.now()-36e5).toISOString()}],Tye=()=>o.jsx(In,{title:"Rounds & Advice",subtitle:"Track doctor rounds and medical instructions.",children:o.jsxs(yd,{defaultValue:"rounds",className:"space-y-6",children:[o.jsxs($c,{children:[o.jsx(pn,{value:"rounds",children:"Doctor Rounds"}),o.jsx(pn,{value:"advice",children:"Doctor Advice & Instructions"})]}),o.jsx(mn,{value:"rounds",className:"space-y-6",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Aye.map(e=>o.jsxs(jt,{className:"hover:shadow-md transition-all",children:[o.jsxs(Wt,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ko,{className:"h-5 w-5 text-primary"}),o.jsx(Mt,{className:"text-base",children:e.doctor})]}),o.jsx(Kt,{variant:"outline",children:e.specialty})]}),o.jsx(Ar,{children:e.ward})]}),o.jsx(Tt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(xa,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"font-medium",children:["Today at ",e.time]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Rye,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{children:[e.patients," Patients to visit"]})]}),o.jsx(ke,{className:"w-full",variant:"secondary",children:"View Patient List"})]})})]},e.id))})}),o.jsx(mn,{value:"advice",children:o.jsxs(jt,{children:[o.jsxs(Wt,{children:[o.jsx(Mt,{children:"Recent Medical Advice"}),o.jsx(Ar,{children:"Instructions left by doctors for inpatient care."})]}),o.jsx(Tt,{children:o.jsx("div",{className:"space-y-4",children:Pye.map(e=>o.jsxs("div",{className:"flex gap-4 p-4 border rounded-lg bg-card/50",children:[o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-700",children:o.jsx(za,{className:"h-4 w-4"})})}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-semibold text-sm",children:e.patient}),o.jsx("span",{className:"text-xs text-muted-foreground",children:gn(new Date(e.timestamp),"MMM d, h:mm a")})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",e.doctor]}),o.jsx("div",{className:"mt-2 text-sm bg-muted/50 p-3 rounded-md",children:e.advice}),o.jsx("div",{className:"pt-2 flex justify-end",children:o.jsxs(ke,{size:"sm",variant:"ghost",className:"h-8 text-green-600 hover:text-green-700 hover:bg-green-50",children:[o.jsx(Ec,{className:"w-3 h-3 mr-1"})," Acknowledge"]})})]})]},e.id))})})]})})]})});function Rye({className:e}){return o.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}const FV=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(!1),[s,i]=w.useState(null),a=async l=>{if(l.preventDefault(),!e.trim()){qe.error("Please enter a patient name");return}n(!0),i(null);try{const{data:c,error:u}=await Qe.from("transactions").select("*").ilike("patient_name",`%${e}%`).returns();if(u)throw u;if(!c||c.length===0){qe.info("No transactions found for this patient."),n(!1);return}const d=c.reduce((h,p)=>h+Number(p.amount),0);i({total:d,count:c.length,transactions:c}),qe.success("Calculation complete!")}catch(c){console.error("Calculation error:",c),qe.error("Failed to calculate amount")}finally{n(!1)}};return o.jsxs(jt,{className:"w-full max-w-2xl mx-auto",children:[o.jsxs(Wt,{children:[o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(yJ,{className:"h-6 w-6 text-primary"}),"AI Transaction Calculator"]}),o.jsx(Ar,{children:"Enter a patient's name to calculate their total transaction amount instantly."})]}),o.jsxs(Tt,{children:[o.jsxs("form",{onSubmit:a,className:"flex gap-4 mb-6",children:[o.jsx(ht,{placeholder:"Patient Name (e.g. John Doe)",value:e,onChange:l=>t(l.target.value),className:"flex-1"}),o.jsxs(ke,{type:"submit",disabled:r,children:[r?o.jsx(Ac,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Calculate"]})]}),s&&o.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-4 animate-in fade-in slide-in-from-bottom-2",children:[o.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions Found"}),o.jsx("p",{className:"text-2xl font-bold",children:s.count})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount Due"}),o.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",s.total.toFixed(2)]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold mb-2 text-sm",children:"Transaction History"}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:s.transactions.map(l=>o.jsxs("div",{className:"flex justify-between text-sm p-2 bg-background rounded border",children:[o.jsx("span",{children:l.description||"Generic Transaction"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("span",{className:"text-muted-foreground",children:new Date(l.created_at).toLocaleDateString()}),o.jsxs("span",{className:"font-medium",children:["$",Number(l.amount).toFixed(2)]})]})]},l.id))})]})]})]})]})},lL=()=>{const{data:e}=Cn({queryKey:["cashier-stats"],queryFn:async()=>{const{data:t,error:r}=await Qe.from("transactions").select("amount, created_at");if(r)return{total:0,today:0,count:0};const n=t.reduce((a,l)=>a+Number(l.amount),0),s=new Date().toISOString().split("T")[0],i=t.filter(a=>a.created_at.startsWith(s)).reduce((a,l)=>a+Number(l.amount),0);return{total:n,today:i,count:t.length}}});return o.jsxs(In,{title:"Cashier Station",subtitle:"Manage hospital finances and patient billing.",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(Ni,{title:"Total Revenue",value:`$${(e==null?void 0:e.total.toFixed(0))||"0"}`,change:"Lifetime",changeType:"neutral",icon:NJ,iconColor:"primary"}),o.jsx(Ni,{title:"Today's Collection",value:`$${(e==null?void 0:e.today.toFixed(0))||"0"}`,change:"Daily earning",changeType:"positive",icon:FC,iconColor:"success"}),o.jsx(Ni,{title:"Transactions",value:(e==null?void 0:e.count)||0,change:"Total processed",changeType:"neutral",icon:fw,iconColor:"warning"})]}),o.jsx("div",{className:"space-y-8",children:o.jsxs("section",{children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(Sl,{className:"h-5 w-5"})," AI Financial Assistant"]}),o.jsx(FV,{})]})})]})},Oye=()=>o.jsx(In,{title:"AI Financial Tools",subtitle:"Advanced calculation and analysis tools for administrators.",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(FV,{})})}),Lye=()=>{const[e,t]=w.useState(""),[r,n]=w.useState({}),{data:s=[],isLoading:i}=Cn({queryKey:["admin-user-directory"],queryFn:async()=>{try{const{data:v,error:m}=await Qe.rpc("get_all_users_secure");if(m)throw m;return v.map(x=>({...x,_source:"rpc"}))}catch(v){console.warn("Secure RPC failed, falling back to public tables",v);const{data:m}=await Qe.from("profiles").select("*"),{data:x}=await Qe.from("user_roles").select("*"),{data:g}=await Qe.from("staff_approval_requests").select("*"),b=new Map((x||[]).map(R=>[R.user_id,R.role])),S=new Map((m||[]).map(R=>[R.user_id,R])),k=new Map((g||[]).map(R=>[R.user_id,R])),T=new Set([...(m||[]).map(R=>R.user_id),...(x||[]).map(R=>R.user_id),...(g||[]).map(R=>R.user_id)]);return Array.from(T).map(R=>{const O=S.get(R),D=b.get(R),I=k.get(R),G=(O==null?void 0:O.full_name)||(I==null?void 0:I.full_name)||"Unknown User",A=(O==null?void 0:O.email)||(I==null?void 0:I.email)||"No Email Access";let M="patient";return D?M=D:I&&(M=`pending-${I.requested_role}`),{id:R,email:A,full_name:G,role:M,created_at:(O==null?void 0:O.created_at)||(I==null?void 0:I.created_at)||new Date().toISOString(),last_sign_in_at:null,encrypted_password:null,_source:"fallback"}})}}}),a=s.length>0&&s[0]._source==="fallback",l=v=>{navigator.clipboard.writeText(v),qe.success("User ID copied to clipboard")},c=v=>{n(m=>({...m,[v]:!m[v]}))},u=v=>{const m={admin:"bg-purple-100 text-purple-800 border-purple-200",doctor:"bg-blue-100 text-blue-800 border-blue-200",nurse:"bg-pink-100 text-pink-800 border-pink-200",cashier:"bg-emerald-100 text-emerald-800 border-emerald-200",receptionist:"bg-orange-100 text-orange-800 border-orange-200",patient:"bg-gray-100 text-gray-800 border-gray-200"};return o.jsx(Kt,{variant:"outline",className:m[v]||m.patient,children:v.toUpperCase()})},d=s.filter(v=>{var m,x,g;return((m=v.email)==null?void 0:m.toLowerCase().includes(e.toLowerCase()))||((x=v.role)==null?void 0:x.toLowerCase().includes(e.toLowerCase()))||((g=v.full_name)==null?void 0:g.toLowerCase().includes(e.toLowerCase()))}),h=d.filter(v=>v.role==="patient"),p=d.filter(v=>v.role!=="patient"),f=v=>o.jsx("div",{className:"rounded-md border",children:o.jsxs(iy,{children:[o.jsx(ay,{children:o.jsxs(Ba,{children:[o.jsx(Nn,{children:"User / Email"}),o.jsx(Nn,{children:"Role"}),o.jsx(Nn,{children:"Security Status"}),o.jsx(Nn,{children:"Joined On"}),o.jsx(Nn,{children:"Last Login"}),o.jsx(Nn,{className:"text-right",children:"Actions"})]})}),o.jsx(oy,{children:i?o.jsx(Ba,{children:o.jsx(on,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"Loading secure directory..."})}):v.length===0?o.jsx(Ba,{children:o.jsx(on,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No users found."})}):v.map(m=>o.jsxs(Ba,{children:[o.jsx(on,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:m.full_name||"Unknown Name"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:m.email})]})}),o.jsx(on,{children:u(m.role)}),o.jsx(on,{children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground bg-secondary/30 px-3 py-2 rounded-md w-full max-w-[250px] justify-between border border-border/50",children:[m.encrypted_password?r[m.id]?o.jsxs("div",{className:"flex flex-col w-full overflow-hidden",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground font-bold tracking-wider mb-1",children:"SECURE HASH"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("code",{className:"font-mono text-[10px] sm:text-xs break-all leading-tight text-foreground/90 bg-background/50 p-1 rounded border border-border/50 max-h-[60px] overflow-y-auto w-full",children:m.encrypted_password}),o.jsx(ke,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{navigator.clipboard.writeText(m.encrypted_password||""),qe.success("Hash copied")},title:"Copy Full Hash",children:o.jsx(yx,{className:"w-3 h-3"})})]})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(YD,{className:"w-3 h-3 text-emerald-600"}),o.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:""})]}):o.jsxs("span",{className:"text-xs text-muted-foreground italic flex items-center gap-1",children:[o.jsx(pw,{className:"w-3 h-3 text-amber-500"}),o.jsx("span",{title:"Run the SQL fix above to enable access",children:"Restricted Access"})]}),m.encrypted_password&&o.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>c(m.id),className:"hover:bg-background h-6 w-6 p-0 shrink-0 ml-1",title:r[m.id]?"Hide Hash":"View Hash",children:r[m.id]?o.jsx(Eb,{className:"w-3 h-3"}):o.jsx(Ab,{className:"w-3 h-3"})})]})}),o.jsx(on,{className:"text-muted-foreground text-sm",children:m.created_at?gn(new Date(m.created_at),"MMM d, yyyy"):"-"}),o.jsx(on,{className:"text-muted-foreground text-sm",children:m.last_sign_in_at?gn(new Date(m.last_sign_in_at),"MMM d, hh:mm a"):o.jsx("span",{className:"text-xs italic opacity-70",children:"No Data"})}),o.jsx(on,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>l(m.id),title:"Copy User ID",children:o.jsx(yx,{className:"w-4 h-4"})}),o.jsxs(fs,{children:[o.jsx(xl,{asChild:!0,children:o.jsx(ke,{variant:"ghost",size:"icon",title:"Set New Password",children:o.jsx(MC,{className:"w-4 h-4"})})}),o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Set New Password"}),o.jsxs(Ys,{children:["You are setting a new password for ",o.jsx("strong",{children:m.full_name}),".",o.jsx("br",{}),o.jsx("span",{className:"text-red-500 text-xs",children:"Note: The old password cannot be recovered."})]})]}),o.jsxs("form",{onSubmit:async x=>{x.preventDefault();const b=new FormData(x.currentTarget).get("newPassword");if(!b||b.length<6){qe.error("Password must be at least 6 characters");return}try{const{error:S}=await Qe.rpc("admin_reset_password",{target_user_id:m.id,new_password:b});if(S)throw S;qe.success(`Password updated for ${m.full_name}`),x.target.reset()}catch(S){qe.error("Failed to reset: "+(S instanceof Error?S.message:"Unknown error"))}},className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"newPassword",className:"text-sm font-medium",children:"New Password"}),o.jsx(ht,{id:"newPassword",name:"newPassword",type:"text",placeholder:"Enter new password",minLength:6,required:!0})]}),o.jsx(ke,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white",children:"Update Password"})]})]})]})]})})]},m.id))})]})});return o.jsxs(In,{title:"System Information",subtitle:"User Directory & Compliance",children:[a&&o.jsxs(A2,{variant:"destructive",className:"mb-6 bg-yellow-50 border-yellow-200 text-yellow-800",children:[o.jsx(pw,{className:"h-4 w-4 text-yellow-600"}),o.jsx(MA,{children:"Limited Data Access"}),o.jsxs(P2,{className:"flex items-center justify-between",children:[o.jsx("span",{children:'You are viewing a restricted version of the directory. "Last Login" and "Password Hash" are unavailable.'}),o.jsxs(fs,{children:[o.jsx(xl,{asChild:!0,children:o.jsxs(ke,{size:"sm",variant:"outline",className:"ml-4 h-8 bg-white border-yellow-300 hover:bg-yellow-100 text-yellow-900",children:[o.jsx(JD,{className:"w-3 h-3 mr-2"})," Fix with SQL"]})}),o.jsxs(ns,{className:"max-w-2xl",children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Enable Secure User Directory"}),o.jsx(Ys,{children:"To view sensitive checks like Password Hashes and Last Login times, you must create a Secure RPC function in Supabase."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm",children:"Run this SQL in your Supabase Dashboard SQL Editor:"}),o.jsxs("div",{className:"bg-slate-950 text-slate-50 p-4 rounded-md font-mono text-xs overflow-x-auto relative group",children:[o.jsx("pre",{children:`-- Create Secure User Access Function
CREATE OR REPLACE FUNCTION get_all_users_secure()
RETURNS TABLE (
  id uuid,
  email text,
  encrypted_password text,
  role text,
  full_name text,
  created_at timestamptz,
  last_sign_in_at timestamptz
)
SECURITY DEFINER
AS $$
DECLARE
  is_admin boolean;
BEGIN
  -- Check if admin
  SELECT EXISTS(
    SELECT 1 FROM public.user_roles
    WHERE user_id = auth.uid() AND role = 'admin'
  ) INTO is_admin;

  IF is_admin THEN
    RETURN QUERY
    SELECT 
      au.id,
      au.email::text,
      au.encrypted_password::text,
      COALESCE(ur.role::text, 'patient') as role,
      COALESCE(p.full_name, (au.raw_user_meta_data->>'full_name')::text, 'Unknown') as full_name,
      au.created_at,
      au.last_sign_in_at
    FROM auth.users au
    LEFT JOIN public.user_roles ur ON au.id = ur.user_id
    LEFT JOIN public.profiles p ON au.id = p.user_id
    ORDER BY au.created_at DESC;
  ELSE
    RAISE EXCEPTION 'Access Denied';
  END IF;
END;
$$ LANGUAGE plpgsql;`}),o.jsxs(ke,{size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>navigator.clipboard.writeText(`CREATE OR REPLACE FUNCTION get_all_users_secure()
RETURNS TABLE (
  id uuid,
  email text,
  encrypted_password text,
  role text,
  full_name text,
  created_at timestamptz,
  last_sign_in_at timestamptz
)
SECURITY DEFINER
AS $$
DECLARE
  is_admin boolean;
BEGIN
  -- Check if admin
  SELECT EXISTS(
    SELECT 1 FROM public.user_roles
    WHERE user_id = auth.uid() AND role = 'admin'
  ) INTO is_admin;

  IF is_admin THEN
    RETURN QUERY
    SELECT 
      au.id,
      au.email::text,
      au.encrypted_password::text,
      COALESCE(ur.role::text, 'patient') as role,
      COALESCE(p.full_name, (au.raw_user_meta_data->>'full_name')::text, 'Unknown') as full_name,
      au.created_at,
      au.last_sign_in_at
    FROM auth.users au
    LEFT JOIN public.user_roles ur ON au.id = ur.user_id
    LEFT JOIN public.profiles p ON au.id = p.user_id
    ORDER BY au.created_at DESC;
  ELSE
    RAISE EXCEPTION 'Access Denied';
  END IF;
END;
$$ LANGUAGE plpgsql;`),children:[o.jsx(yx,{className:"w-3 h-3"})," Copy"]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["This function uses ",o.jsx("code",{children:"SECURITY DEFINER"})," to allow admins to safely read from ",o.jsx("code",{children:"auth.users"}),"."]})]})]})]})]})]}),o.jsx(jt,{className:"mb-6 border-l-4 border-l-blue-500 shadow-sm",children:o.jsxs(Wt,{children:[o.jsxs(Mt,{className:"flex items-center gap-2 text-blue-700",children:[o.jsx(D0,{className:"w-5 h-5"})," Data Privacy & Security Notice"]}),o.jsxs(Ar,{children:["All user authentication data is secured.",a?" Displaying public profile data only.":" Secure Admin Access is active. You can view password hashes and login activity."]})]})}),o.jsxs(yd,{defaultValue:"all",className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs($c,{children:[o.jsx(pn,{value:"all",children:"All Users"}),o.jsx(pn,{value:"patients",children:"Patients"}),o.jsx(pn,{value:"staff",children:"Staff"})]}),o.jsxs("div",{className:"relative w-64",children:[o.jsx(Cl,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ht,{placeholder:"Search users...",className:"pl-8 bg-background",value:e,onChange:v=>t(v.target.value)})]})]}),o.jsx(jt,{children:o.jsxs(Tt,{className:"pt-6",children:[o.jsx(mn,{value:"all",className:"mt-0",children:f(d)}),o.jsx(mn,{value:"patients",className:"mt-0",children:f(h)}),o.jsx(mn,{value:"staff",className:"mt-0",children:f(p)})]})})]})]})},Iye="modulepreload",Mye=function(e){return"/"+e},cL={},X5=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Mye(c),c in cL)return;cL[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Iye,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Yr(e){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}var Bo=Uint8Array,fa=Uint16Array,DA=Int32Array,FA=new Bo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$A=new Bo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uL=new Bo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$V=function(e,t){for(var r=new fa(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new DA(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},BV=$V(FA,2),Dye=BV.b,dk=BV.r;Dye[28]=258,dk[258]=28;var Fye=$V($A,0),dL=Fye.r,hk=new fa(32768);for(var bn=0;bn<32768;++bn){var ou=(bn&43690)>>1|(bn&21845)<<1;ou=(ou&52428)>>2|(ou&13107)<<2,ou=(ou&61680)>>4|(ou&3855)<<4,hk[bn]=((ou&65280)>>8|(ou&255)<<8)>>1}var Ev=function(e,t,r){for(var n=e.length,s=0,i=new fa(t);s<n;++s)e[s]&&++i[e[s]-1];var a=new fa(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(r){l=new fa(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],h=a[e[s]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)l[hk[h]>>c]=u}else for(l=new fa(n),s=0;s<n;++s)e[s]&&(l[s]=hk[a[e[s]-1]++]>>15-e[s]);return l},Wh=new Bo(288);for(var bn=0;bn<144;++bn)Wh[bn]=8;for(var bn=144;bn<256;++bn)Wh[bn]=9;for(var bn=256;bn<280;++bn)Wh[bn]=7;for(var bn=280;bn<288;++bn)Wh[bn]=8;var rb=new Bo(32);for(var bn=0;bn<32;++bn)rb[bn]=5;var $ye=Ev(Wh,9,0),Bye=Ev(rb,5,0),UV=function(e){return(e+7)/8|0},Uye=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Bo(e.subarray(t,r))},Ql=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Wg=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},eS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:zV,l:0};if(s==1){var a=new Bo(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(T,R){return T.f-R.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,n=1;n<s;++n)i[n].s>p&&(p=i[n].s);var f=new fa(p+1),v=fk(r[d-1],f,0);if(v>t){var n=0,m=0,x=v-t,g=1<<x;for(i.sort(function(R,O){return f[O.s]-f[R.s]||R.f-O.f});n<s;++n){var b=i[n].s;if(f[b]>t)m+=g-(1<<v-f[b]),f[b]=t;else break}for(m>>=x;m>0;){var S=i[n].s;f[S]<t?m-=1<<t-f[S]++-1:++n}for(;n>=0&&m;--n){var k=i[n].s;f[k]==t&&(--f[k],++m)}v=t}return{t:new Bo(f),l:v}},fk=function(e,t,r){return e.s==-1?Math.max(fk(e.l,t,r+1),fk(e.r,t,r+1)):t[e.s]=r},hL=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new fa(++t),n=0,s=e[0],i=1,a=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},Hg=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},qV=function(e,t,r){var n=r.length,s=UV(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},fL=function(e,t,r,n,s,i,a,l,c,u,d){Ql(t,d++,r),++s[256];for(var h=eS(s,15),p=h.t,f=h.l,v=eS(i,15),m=v.t,x=v.l,g=hL(p),b=g.c,S=g.n,k=hL(m),T=k.c,R=k.n,O=new fa(19),D=0;D<b.length;++D)++O[b[D]&31];for(var D=0;D<T.length;++D)++O[T[D]&31];for(var I=eS(O,7),G=I.t,A=I.l,M=19;M>4&&!G[uL[M-1]];--M);var $=u+5<<3,q=Hg(s,Wh)+Hg(i,rb)+a,ee=Hg(s,p)+Hg(i,m)+a+14+3*M+Hg(O,G)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&$<=q&&$<=ee)return qV(t,d,e.subarray(c,c+u));var re,te,W,Z;if(Ql(t,d,1+(ee<q)),d+=2,ee<q){re=Ev(p,f,0),te=p,W=Ev(m,x,0),Z=m;var pe=Ev(G,A,0);Ql(t,d,S-257),Ql(t,d+5,R-1),Ql(t,d+10,M-4),d+=14;for(var D=0;D<M;++D)Ql(t,d+3*D,G[uL[D]]);d+=3*M;for(var ge=[b,T],U=0;U<2;++U)for(var _=ge[U],D=0;D<_.length;++D){var C=_[D]&31;Ql(t,d,pe[C]),d+=G[C],C>15&&(Ql(t,d,_[D]>>5&127),d+=_[D]>>12)}}else re=$ye,te=Wh,W=Bye,Z=rb;for(var D=0;D<l;++D){var E=n[D];if(E>255){var C=E>>18&31;Wg(t,d,re[C+257]),d+=te[C+257],C>7&&(Ql(t,d,E>>23&31),d+=FA[C]);var B=E&31;Wg(t,d,W[B]),d+=Z[B],B>3&&(Wg(t,d,E>>5&8191),d+=$A[B])}else Wg(t,d,re[E]),d+=te[E]}return Wg(t,d,re[256]),d+te[256]},qye=new DA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zV=new Bo(0),zye=function(e,t,r,n,s,i){var a=i.z||e.length,l=new Bo(n+a+5*(1+Math.ceil(a/7e3))+s),c=l.subarray(n,l.length-s),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var h=qye[t-1],p=h>>13,f=h&8191,v=(1<<r)-1,m=i.p||new fa(32768),x=i.h||new fa(v+1),g=Math.ceil(r/3),b=2*g,S=function(Me){return(e[Me]^e[Me+1]<<g^e[Me+2]<<b)&v},k=new DA(25e3),T=new fa(288),R=new fa(32),O=0,D=0,I=i.i||0,G=0,A=i.w||0,M=0;I+2<a;++I){var $=S(I),q=I&32767,ee=x[$];if(m[q]=ee,x[$]=q,A<=I){var re=a-I;if((O>7e3||G>24576)&&(re>423||!u)){d=fL(e,c,0,k,T,R,D,G,M,I-M,d),G=O=D=0,M=I;for(var te=0;te<286;++te)T[te]=0;for(var te=0;te<30;++te)R[te]=0}var W=2,Z=0,pe=f,ge=q-ee&32767;if(re>2&&$==S(I-ge))for(var U=Math.min(p,re)-1,_=Math.min(32767,I),C=Math.min(258,re);ge<=_&&--pe&&q!=ee;){if(e[I+W]==e[I+W-ge]){for(var E=0;E<C&&e[I+E]==e[I+E-ge];++E);if(E>W){if(W=E,Z=ge,E>U)break;for(var B=Math.min(ge,E-2),F=0,te=0;te<B;++te){var Q=I-ge+te&32767,ne=m[Q],le=Q-ne&32767;le>F&&(F=le,ee=Q)}}}q=ee,ee=m[q],ge+=q-ee&32767}if(Z){k[G++]=268435456|dk[W]<<18|dL[Z];var ue=dk[W]&31,fe=dL[Z]&31;D+=FA[ue]+$A[fe],++T[257+ue],++R[fe],A=I+W,++O}else k[G++]=e[I],++T[e[I]]}}for(I=Math.max(I,A);I<a;++I)k[G++]=e[I],++T[e[I]];d=fL(e,c,u,k,T,R,D,G,M,I-M,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=x,i.p=m,i.i=I,i.w=A)}else{for(var I=i.w||0;I<a+u;I+=65535){var _e=I+65535;_e>=a&&(c[d/8|0]=u,_e=a),d=qV(c,d+1,e.subarray(I,_e))}i.i=a}return Uye(l,0,n+UV(d)+s)},VV=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Vye=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new Bo(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return zye(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},WV=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Wye=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=VV();s.p(t.dictionary),WV(e,2,s.d())}};function pk(e,t){t||(t={});var r=VV();r.p(e);var n=Vye(e,t,t.dictionary?6:2,4);return Wye(n,t),WV(n,n.length-4,r.d()),n}var Hye=typeof TextDecoder<"u"&&new TextDecoder,Gye=0;try{Hye.decode(zV,{stream:!0}),Gye=1}catch{}function Yye(e){if(Array.isArray(e))return e}function Kye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function pL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Jye(e,t){if(e){if(typeof e=="string")return pL(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pL(e,t):void 0}}function Qye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mL(e,t){return Yye(e)||Kye(e,t)||Jye(e,t)||Qye()}function gL(e,t="utf8"){return new TextDecoder(t).decode(e)}const Zye=new TextEncoder;function Xye(e){return Zye.encode(e)}const e1e=1024*8,t1e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),tS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class BA{constructor(t=e1e,r={}){nt(this,"buffer");nt(this,"byteLength");nt(this,"byteOffset");nt(this,"length");nt(this,"offset");nt(this,"lastWrittenByte");nt(this,"littleEndian");nt(this,"_data");nt(this,"_mark");nt(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let a=s;(ArrayBuffer.isView(t)||t instanceof BA)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=tS[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===t1e&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const c=new tS[r](l.buffer);return this.offset+=n,c.reverse(),c}const a=new tS[r](i);return this.offset+=n,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return gL(this.readBytes(t))}decodeText(t=1,r="utf8"){return gL(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Xye(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const r1e=4,vL=0,yL=1,n1e=2;function Qm(e){let t=e.length;for(;--t>=0;)e[t]=0}const s1e=0,HV=1,i1e=2,a1e=3,o1e=258,UA=29,hy=256,m0=hy+1+UA,Ap=30,qA=19,GV=2*m0+1,nh=15,rS=16,l1e=7,zA=256,YV=16,KV=17,JV=18,mk=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ix=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),c1e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),QV=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u1e=512,ac=new Array((m0+2)*2);Qm(ac);const Av=new Array(Ap*2);Qm(Av);const g0=new Array(u1e);Qm(g0);const v0=new Array(o1e-a1e+1);Qm(v0);const VA=new Array(UA);Qm(VA);const nb=new Array(Ap);Qm(nb);function nS(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let ZV,XV,eW;function sS(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const tW=e=>e<256?g0[e]:g0[256+(e>>>7)],y0=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Bi=(e,t,r)=>{e.bi_valid>rS-r?(e.bi_buf|=t<<e.bi_valid&65535,y0(e,e.bi_buf),e.bi_buf=t>>rS-e.bi_valid,e.bi_valid+=r-rS):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},dl=(e,t,r)=>{Bi(e,r[t*2],r[t*2+1])},rW=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},d1e=e=>{e.bi_valid===16?(y0(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},h1e=(e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,h,p,f,v,m=0;for(p=0;p<=nh;p++)e.bl_count[p]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<GV;u++)d=e.heap[u],p=r[r[d*2+1]*2+1]+1,p>c&&(p=c,m++),r[d*2+1]=p,!(d>n)&&(e.bl_count[p]++,f=0,d>=l&&(f=a[d-l]),v=r[d*2],e.opt_len+=v*(p+f),i&&(e.static_len+=v*(s[d*2+1]+f)));if(m!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)h=e.heap[--u],!(h>n)&&(r[h*2+1]!==p&&(e.opt_len+=(p-r[h*2+1])*r[h*2],r[h*2+1]=p),d--)}},nW=(e,t,r)=>{const n=new Array(nh+1);let s=0,i,a;for(i=1;i<=nh;i++)s=s+r[i-1]<<1,n[i]=s;for(a=0;a<=t;a++){let l=e[a*2+1];l!==0&&(e[a*2]=rW(n[l]++,l))}},f1e=()=>{let e,t,r,n,s;const i=new Array(nh+1);for(r=0,n=0;n<UA-1;n++)for(VA[n]=r,e=0;e<1<<mk[n];e++)v0[r++]=n;for(v0[r-1]=n,s=0,n=0;n<16;n++)for(nb[n]=s,e=0;e<1<<Ix[n];e++)g0[s++]=n;for(s>>=7;n<Ap;n++)for(nb[n]=s<<7,e=0;e<1<<Ix[n]-7;e++)g0[256+s++]=n;for(t=0;t<=nh;t++)i[t]=0;for(e=0;e<=143;)ac[e*2+1]=8,e++,i[8]++;for(;e<=255;)ac[e*2+1]=9,e++,i[9]++;for(;e<=279;)ac[e*2+1]=7,e++,i[7]++;for(;e<=287;)ac[e*2+1]=8,e++,i[8]++;for(nW(ac,m0+1,i),e=0;e<Ap;e++)Av[e*2+1]=5,Av[e*2]=rW(e,5);ZV=new nS(ac,mk,hy+1,m0,nh),XV=new nS(Av,Ix,0,Ap,nh),eW=new nS(new Array(0),c1e,0,qA,l1e)},sW=e=>{let t;for(t=0;t<m0;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Ap;t++)e.dyn_dtree[t*2]=0;for(t=0;t<qA;t++)e.bl_tree[t*2]=0;e.dyn_ltree[zA*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},iW=e=>{e.bi_valid>8?y0(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},xL=(e,t,r,n)=>{const s=t*2,i=r*2;return e[s]<e[i]||e[s]===e[i]&&n[t]<=n[r]},iS=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&xL(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!xL(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},wL=(e,t,r)=>{let n,s,i=0,a,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],n===0?dl(e,s,t):(a=v0[s],dl(e,a+hy+1,t),l=mk[a],l!==0&&(s-=VA[a],Bi(e,s,l)),n--,a=tW(n),dl(e,a,r),l=Ix[a],l!==0&&(n-=nb[a],Bi(e,n,l)));while(i<e.sym_next);dl(e,zA,t)},gk=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let a,l,c=-1,u;for(e.heap_len=0,e.heap_max=GV,a=0;a<i;a++)r[a*2]!==0?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,s&&(e.static_len-=n[u*2+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)iS(e,r,a);u=i;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],iS(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=l,r[u*2]=r[a*2]+r[l*2],e.depth[u]=(e.depth[a]>=e.depth[l]?e.depth[a]:e.depth[l])+1,r[a*2+1]=r[l*2+1]=u,e.heap[1]=u++,iS(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],h1e(e,t),nW(r,c,e.bl_count)},bL=(e,t,r)=>{let n,s=-1,i,a=t[0*2+1],l=0,c=7,u=4;for(a===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=t[(n+1)*2+1],!(++l<c&&i===a)&&(l<u?e.bl_tree[i*2]+=l:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[YV*2]++):l<=10?e.bl_tree[KV*2]++:e.bl_tree[JV*2]++,l=0,s=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))},_L=(e,t,r)=>{let n,s=-1,i,a=t[0*2+1],l=0,c=7,u=4;for(a===0&&(c=138,u=3),n=0;n<=r;n++)if(i=a,a=t[(n+1)*2+1],!(++l<c&&i===a)){if(l<u)do dl(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==s&&(dl(e,i,e.bl_tree),l--),dl(e,YV,e.bl_tree),Bi(e,l-3,2)):l<=10?(dl(e,KV,e.bl_tree),Bi(e,l-3,3)):(dl(e,JV,e.bl_tree),Bi(e,l-11,7));l=0,s=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}},p1e=e=>{let t;for(bL(e,e.dyn_ltree,e.l_desc.max_code),bL(e,e.dyn_dtree,e.d_desc.max_code),gk(e,e.bl_desc),t=qA-1;t>=3&&e.bl_tree[QV[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},m1e=(e,t,r,n)=>{let s;for(Bi(e,t-257,5),Bi(e,r-1,5),Bi(e,n-4,4),s=0;s<n;s++)Bi(e,e.bl_tree[QV[s]*2+1],3);_L(e,e.dyn_ltree,t-1),_L(e,e.dyn_dtree,r-1)},g1e=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return vL;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return yL;for(r=32;r<hy;r++)if(e.dyn_ltree[r*2]!==0)return yL;return vL};let SL=!1;const v1e=e=>{SL||(f1e(),SL=!0),e.l_desc=new sS(e.dyn_ltree,ZV),e.d_desc=new sS(e.dyn_dtree,XV),e.bl_desc=new sS(e.bl_tree,eW),e.bi_buf=0,e.bi_valid=0,sW(e)},aW=(e,t,r,n)=>{Bi(e,(s1e<<1)+(n?1:0),3),iW(e),y0(e,r),y0(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},y1e=e=>{Bi(e,HV<<1,3),dl(e,zA,ac),d1e(e)},x1e=(e,t,r,n)=>{let s,i,a=0;e.level>0?(e.strm.data_type===n1e&&(e.strm.data_type=g1e(e)),gk(e,e.l_desc),gk(e,e.d_desc),a=p1e(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&t!==-1?aW(e,t,r,n):e.strategy===r1e||i===s?(Bi(e,(HV<<1)+(n?1:0),3),wL(e,ac,Av)):(Bi(e,(i1e<<1)+(n?1:0),3),m1e(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),wL(e,e.dyn_ltree,e.dyn_dtree)),sW(e),n&&iW(e)},w1e=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(v0[r]+hy+1)*2]++,e.dyn_dtree[tW(t)*2]++),e.sym_next===e.sym_end);var b1e=v1e,_1e=aW,S1e=x1e,j1e=w1e,N1e=y1e,k1e={_tr_init:b1e,_tr_stored_block:_1e,_tr_flush_block:S1e,_tr_tally:j1e,_tr_align:N1e};const C1e=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var x0=C1e;const E1e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},A1e=new Uint32Array(E1e()),P1e=(e,t,r,n)=>{const s=A1e,i=n+r;e^=-1;for(let a=n;a<i;a++)e=e>>>8^s[(e^t[a])&255];return e^-1};var As=P1e,bm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fy={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:T1e,_tr_stored_block:vk,_tr_flush_block:R1e,_tr_tally:Ju,_tr_align:O1e}=k1e,{Z_NO_FLUSH:Qu,Z_PARTIAL_FLUSH:L1e,Z_FULL_FLUSH:I1e,Z_FINISH:Fa,Z_BLOCK:jL,Z_OK:Ws,Z_STREAM_END:NL,Z_STREAM_ERROR:bl,Z_DATA_ERROR:M1e,Z_BUF_ERROR:aS,Z_DEFAULT_COMPRESSION:D1e,Z_FILTERED:F1e,Z_HUFFMAN_ONLY:Y1,Z_RLE:$1e,Z_FIXED:B1e,Z_DEFAULT_STRATEGY:U1e,Z_UNKNOWN:q1e,Z_DEFLATED:T2}=fy,z1e=9,V1e=15,W1e=8,H1e=29,G1e=256,yk=G1e+1+H1e,Y1e=30,K1e=19,J1e=2*yk+1,Q1e=15,pr=3,Mu=258,_l=Mu+pr+1,Z1e=32,_m=42,WA=57,xk=69,wk=73,bk=91,_k=103,sh=113,cv=666,ki=1,Zm=2,Hh=3,Xm=4,X1e=3,ih=(e,t)=>(e.msg=bm[t],t),kL=e=>e*2-(e>4?9:0),_u=e=>{let t=e.length;for(;--t>=0;)e[t]=0},exe=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=s?r-s:0;while(--t);t=s,n=t;do r=e.prev[--n],e.prev[n]=r>=s?r-s:0;while(--t)};let txe=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Zu=txe;const ia=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},pa=(e,t)=>{R1e(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ia(e.strm)},Lr=(e,t)=>{e.pending_buf[e.pending++]=t},Gg=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Sk=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=x0(e.adler,t,s,r):e.state.wrap===2&&(e.adler=As(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},oW=(e,t)=>{let r=e.max_chain_length,n=e.strstart,s,i,a=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-_l?e.strstart-(e.w_size-_l):0,u=e.window,d=e.w_mask,h=e.prev,p=e.strstart+Mu;let f=u[n+a-1],v=u[n+a];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(s=t,!(u[s+a]!==v||u[s+a-1]!==f||u[s]!==u[n]||u[++s]!==u[n+1])){n+=2,s++;do;while(u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&n<p);if(i=Mu-(p-n),n=p-Mu,i>a){if(e.match_start=t,a=i,i>=l)break;f=u[n+a-1],v=u[n+a]}}while((t=h[t&d])>c&&--r!==0);return a<=e.lookahead?a:e.lookahead},Sm=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-_l)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),exe(e),n+=t),e.strm.avail_in===0)break;if(r=Sk(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=pr)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Zu(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Zu(e,e.ins_h,e.window[s+pr-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<pr)););}while(e.lookahead<_l&&e.strm.avail_in!==0)},lW=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,i,a=0,l=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,n>s+e.strm.avail_in&&(n=s+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==Fa||t===Qu||n!==s+e.strm.avail_in)))break;a=t===Fa&&n===s+e.strm.avail_in?1:0,vk(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,ia(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(Sk(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?Xm:t!==Qu&&t!==Fa&&e.strm.avail_in===0&&e.strstart===e.block_start?Zm:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Sk(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=r||(s||t===Fa)&&t!==Qu&&e.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,a=t===Fa&&e.strm.avail_in===0&&n===s?1:0,vk(e,e.block_start,n,a),e.block_start+=n,ia(e.strm)),a?Hh:ki)},oS=(e,t)=>{let r,n;for(;;){if(e.lookahead<_l){if(Sm(e),e.lookahead<_l&&t===Qu)return ki;if(e.lookahead===0)break}if(r=0,e.lookahead>=pr&&(e.ins_h=Zu(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-_l&&(e.match_length=oW(e,r)),e.match_length>=pr)if(n=Ju(e,e.strstart-e.match_start,e.match_length-pr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=pr){e.match_length--;do e.strstart++,e.ins_h=Zu(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Zu(e,e.ins_h,e.window[e.strstart+1]);else n=Ju(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(pa(e,!1),e.strm.avail_out===0))return ki}return e.insert=e.strstart<pr-1?e.strstart:pr-1,t===Fa?(pa(e,!0),e.strm.avail_out===0?Hh:Xm):e.sym_next&&(pa(e,!1),e.strm.avail_out===0)?ki:Zm},Bf=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<_l){if(Sm(e),e.lookahead<_l&&t===Qu)return ki;if(e.lookahead===0)break}if(r=0,e.lookahead>=pr&&(e.ins_h=Zu(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=pr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-_l&&(e.match_length=oW(e,r),e.match_length<=5&&(e.strategy===F1e||e.match_length===pr&&e.strstart-e.match_start>4096)&&(e.match_length=pr-1)),e.prev_length>=pr&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-pr,n=Ju(e,e.strstart-1-e.prev_match,e.prev_length-pr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=Zu(e,e.ins_h,e.window[e.strstart+pr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=pr-1,e.strstart++,n&&(pa(e,!1),e.strm.avail_out===0))return ki}else if(e.match_available){if(n=Ju(e,0,e.window[e.strstart-1]),n&&pa(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ki}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Ju(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<pr-1?e.strstart:pr-1,t===Fa?(pa(e,!0),e.strm.avail_out===0?Hh:Xm):e.sym_next&&(pa(e,!1),e.strm.avail_out===0)?ki:Zm},rxe=(e,t)=>{let r,n,s,i;const a=e.window;for(;;){if(e.lookahead<=Mu){if(Sm(e),e.lookahead<=Mu&&t===Qu)return ki;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=pr&&e.strstart>0&&(s=e.strstart-1,n=a[s],n===a[++s]&&n===a[++s]&&n===a[++s])){i=e.strstart+Mu;do;while(n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&s<i);e.match_length=Mu-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=pr?(r=Ju(e,1,e.match_length-pr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Ju(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(pa(e,!1),e.strm.avail_out===0))return ki}return e.insert=0,t===Fa?(pa(e,!0),e.strm.avail_out===0?Hh:Xm):e.sym_next&&(pa(e,!1),e.strm.avail_out===0)?ki:Zm},nxe=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Sm(e),e.lookahead===0)){if(t===Qu)return ki;break}if(e.match_length=0,r=Ju(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(pa(e,!1),e.strm.avail_out===0))return ki}return e.insert=0,t===Fa?(pa(e,!0),e.strm.avail_out===0?Hh:Xm):e.sym_next&&(pa(e,!1),e.strm.avail_out===0)?ki:Zm};function el(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const uv=[new el(0,0,0,0,lW),new el(4,4,8,4,oS),new el(4,5,16,8,oS),new el(4,6,32,32,oS),new el(4,4,16,16,Bf),new el(8,16,32,32,Bf),new el(8,16,128,128,Bf),new el(8,32,128,256,Bf),new el(32,128,258,1024,Bf),new el(32,258,258,4096,Bf)],sxe=e=>{e.window_size=2*e.w_size,_u(e.head),e.max_lazy_match=uv[e.level].max_lazy,e.good_match=uv[e.level].good_length,e.nice_match=uv[e.level].nice_length,e.max_chain_length=uv[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=pr-1,e.match_available=0,e.ins_h=0};function ixe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(J1e*2),this.dyn_dtree=new Uint16Array((2*Y1e+1)*2),this.bl_tree=new Uint16Array((2*K1e+1)*2),_u(this.dyn_ltree),_u(this.dyn_dtree),_u(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Q1e+1),this.heap=new Uint16Array(2*yk+1),_u(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*yk+1),_u(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const py=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==_m&&t.status!==WA&&t.status!==xk&&t.status!==wk&&t.status!==bk&&t.status!==_k&&t.status!==sh&&t.status!==cv?1:0},cW=e=>{if(py(e))return ih(e,bl);e.total_in=e.total_out=0,e.data_type=q1e;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?WA:t.wrap?_m:sh,e.adler=t.wrap===2?0:1,t.last_flush=-2,T1e(t),Ws},uW=e=>{const t=cW(e);return t===Ws&&sxe(e.state),t},axe=(e,t)=>py(e)||e.state.wrap!==2?bl:(e.state.gzhead=t,Ws),dW=(e,t,r,n,s,i)=>{if(!e)return bl;let a=1;if(t===D1e&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>z1e||r!==T2||n<8||n>15||t<0||t>9||i<0||i>B1e||n===8&&a!==1)return ih(e,bl);n===8&&(n=9);const l=new ixe;return e.state=l,l.strm=e,l.status=_m,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+pr-1)/pr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=r,uW(e)},oxe=(e,t)=>dW(e,t,T2,V1e,W1e,U1e),lxe=(e,t)=>{if(py(e)||t>jL||t<0)return e?ih(e,bl):bl;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===cv&&t!==Fa)return ih(e,e.avail_out===0?aS:bl);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(ia(e),e.avail_out===0)return r.last_flush=-1,Ws}else if(e.avail_in===0&&kL(t)<=kL(n)&&t!==Fa)return ih(e,aS);if(r.status===cv&&e.avail_in!==0)return ih(e,aS);if(r.status===_m&&r.wrap===0&&(r.status=sh),r.status===_m){let s=T2+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=Y1||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=Z1e),s+=31-s%31,Gg(r,s),r.strstart!==0&&(Gg(r,e.adler>>>16),Gg(r,e.adler&65535)),e.adler=1,r.status=sh,ia(e),r.pending!==0)return r.last_flush=-1,Ws}if(r.status===WA){if(e.adler=0,Lr(r,31),Lr(r,139),Lr(r,8),r.gzhead)Lr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Lr(r,r.gzhead.time&255),Lr(r,r.gzhead.time>>8&255),Lr(r,r.gzhead.time>>16&255),Lr(r,r.gzhead.time>>24&255),Lr(r,r.level===9?2:r.strategy>=Y1||r.level<2?4:0),Lr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Lr(r,r.gzhead.extra.length&255),Lr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=As(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=xk;else if(Lr(r,0),Lr(r,0),Lr(r,0),Lr(r,0),Lr(r,0),Lr(r,r.level===9?2:r.strategy>=Y1||r.level<2?4:0),Lr(r,X1e),r.status=sh,ia(e),r.pending!==0)return r.last_flush=-1,Ws}if(r.status===xk){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=l,ia(e),r.pending!==0)return r.last_flush=-1,Ws;s=0,i-=l}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=wk}if(r.status===wk){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),ia(e),r.pending!==0)return r.last_flush=-1,Ws;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,Lr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=bk}if(r.status===bk){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s)),ia(e),r.pending!==0)return r.last_flush=-1,Ws;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,Lr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=As(e.adler,r.pending_buf,r.pending-s,s))}r.status=_k}if(r.status===_k){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(ia(e),r.pending!==0))return r.last_flush=-1,Ws;Lr(r,e.adler&255),Lr(r,e.adler>>8&255),e.adler=0}if(r.status=sh,ia(e),r.pending!==0)return r.last_flush=-1,Ws}if(e.avail_in!==0||r.lookahead!==0||t!==Qu&&r.status!==cv){let s=r.level===0?lW(r,t):r.strategy===Y1?nxe(r,t):r.strategy===$1e?rxe(r,t):uv[r.level].func(r,t);if((s===Hh||s===Xm)&&(r.status=cv),s===ki||s===Hh)return e.avail_out===0&&(r.last_flush=-1),Ws;if(s===Zm&&(t===L1e?O1e(r):t!==jL&&(vk(r,0,0,!1),t===I1e&&(_u(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),ia(e),e.avail_out===0))return r.last_flush=-1,Ws}return t!==Fa?Ws:r.wrap<=0?NL:(r.wrap===2?(Lr(r,e.adler&255),Lr(r,e.adler>>8&255),Lr(r,e.adler>>16&255),Lr(r,e.adler>>24&255),Lr(r,e.total_in&255),Lr(r,e.total_in>>8&255),Lr(r,e.total_in>>16&255),Lr(r,e.total_in>>24&255)):(Gg(r,e.adler>>>16),Gg(r,e.adler&65535)),ia(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ws:NL)},cxe=e=>{if(py(e))return bl;const t=e.state.status;return e.state=null,t===sh?ih(e,M1e):Ws},uxe=(e,t)=>{let r=t.length;if(py(e))return bl;const n=e.state,s=n.wrap;if(s===2||s===1&&n.status!==_m||n.lookahead)return bl;if(s===1&&(e.adler=x0(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){s===0&&(_u(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const i=e.avail_in,a=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Sm(n);n.lookahead>=pr;){let c=n.strstart,u=n.lookahead-(pr-1);do n.ins_h=Zu(n,n.ins_h,n.window[c+pr-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=pr-1,Sm(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=pr-1,n.match_available=0,e.next_in=a,e.input=l,e.avail_in=i,n.wrap=s,Ws};var dxe=oxe,hxe=dW,fxe=uW,pxe=cW,mxe=axe,gxe=lxe,vxe=cxe,yxe=uxe,xxe="pako deflate (from Nodeca project)",Pv={deflateInit:dxe,deflateInit2:hxe,deflateReset:fxe,deflateResetKeep:pxe,deflateSetHeader:mxe,deflate:gxe,deflateEnd:vxe,deflateSetDictionary:yxe,deflateInfo:xxe};const wxe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var bxe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)wxe(r,n)&&(e[n]=r[n])}}return e},_xe=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let a=e[n];r.set(a,s),s+=a.length}return r},R2={assign:bxe,flattenChunks:_xe};let hW=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hW=!1}const w0=new Uint8Array(256);for(let e=0;e<256;e++)w0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;w0[254]=w0[254]=1;var Sxe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,a=e.length,l=0;for(s=0;s<a;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const jxe=(e,t)=>{if(t<65534&&e.subarray&&hW)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Nxe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let a=e[n++];if(a<128){i[s++]=a;continue}let l=w0[a];if(l>4){i[s++]=65533,n+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&n<r;)a=a<<6|e[n++]&63,l--;if(l>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return jxe(i,s)},kxe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+w0[e[r]]>t?r:t},b0={string2buf:Sxe,buf2string:Nxe,utf8border:kxe};function Cxe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fW=Cxe;const pW=Object.prototype.toString,{Z_NO_FLUSH:Exe,Z_SYNC_FLUSH:Axe,Z_FULL_FLUSH:Pxe,Z_FINISH:Txe,Z_OK:sb,Z_STREAM_END:Rxe,Z_DEFAULT_COMPRESSION:Oxe,Z_DEFAULT_STRATEGY:Lxe,Z_DEFLATED:Ixe}=fy;function HA(e){this.options=R2.assign({level:Oxe,method:Ixe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Lxe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fW,this.strm.avail_out=0;let r=Pv.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==sb)throw new Error(bm[r]);if(t.header&&Pv.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=b0.string2buf(t.dictionary):pW.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Pv.deflateSetDictionary(this.strm,n),r!==sb)throw new Error(bm[r]);this._dict_set=!0}}HA.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?Txe:Exe,typeof e=="string"?r.input=b0.string2buf(e):pW.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===Axe||i===Pxe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=Pv.deflate(r,i),s===Rxe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=Pv.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===sb;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};HA.prototype.onData=function(e){this.chunks.push(e)};HA.prototype.onEnd=function(e){e===sb&&(this.result=R2.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const K1=16209,Mxe=16191;var Dxe=function(t,r){let n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,b,S,k,T,R,O,D,I,G;const A=t.state;n=t.next_in,I=t.input,s=n+(t.avail_in-5),i=t.next_out,G=t.output,a=i-(r-t.avail_out),l=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,h=A.wnext,p=A.window,f=A.hold,v=A.bits,m=A.lencode,x=A.distcode,g=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{v<15&&(f+=I[n++]<<v,v+=8,f+=I[n++]<<v,v+=8),S=m[f&g];t:for(;;){if(k=S>>>24,f>>>=k,v-=k,k=S>>>16&255,k===0)G[i++]=S&65535;else if(k&16){T=S&65535,k&=15,k&&(v<k&&(f+=I[n++]<<v,v+=8),T+=f&(1<<k)-1,f>>>=k,v-=k),v<15&&(f+=I[n++]<<v,v+=8,f+=I[n++]<<v,v+=8),S=x[f&b];r:for(;;){if(k=S>>>24,f>>>=k,v-=k,k=S>>>16&255,k&16){if(R=S&65535,k&=15,v<k&&(f+=I[n++]<<v,v+=8,v<k&&(f+=I[n++]<<v,v+=8)),R+=f&(1<<k)-1,R>c){t.msg="invalid distance too far back",A.mode=K1;break e}if(f>>>=k,v-=k,k=i-a,R>k){if(k=R-k,k>d&&A.sane){t.msg="invalid distance too far back",A.mode=K1;break e}if(O=0,D=p,h===0){if(O+=u-k,k<T){T-=k;do G[i++]=p[O++];while(--k);O=i-R,D=G}}else if(h<k){if(O+=u+h-k,k-=h,k<T){T-=k;do G[i++]=p[O++];while(--k);if(O=0,h<T){k=h,T-=k;do G[i++]=p[O++];while(--k);O=i-R,D=G}}}else if(O+=h-k,k<T){T-=k;do G[i++]=p[O++];while(--k);O=i-R,D=G}for(;T>2;)G[i++]=D[O++],G[i++]=D[O++],G[i++]=D[O++],T-=3;T&&(G[i++]=D[O++],T>1&&(G[i++]=D[O++]))}else{O=i-R;do G[i++]=G[O++],G[i++]=G[O++],G[i++]=G[O++],T-=3;while(T>2);T&&(G[i++]=G[O++],T>1&&(G[i++]=G[O++]))}}else if(k&64){t.msg="invalid distance code",A.mode=K1;break e}else{S=x[(S&65535)+(f&(1<<k)-1)];continue r}break}}else if(k&64)if(k&32){A.mode=Mxe;break e}else{t.msg="invalid literal/length code",A.mode=K1;break e}else{S=m[(S&65535)+(f&(1<<k)-1)];continue t}break}}while(n<s&&i<l);T=v>>3,n-=T,v-=T<<3,f&=(1<<v)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<l?257+(l-i):257-(i-l),A.hold=f,A.bits=v};const Uf=15,CL=852,EL=592,AL=0,lS=1,PL=2,Fxe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$xe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Bxe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Uxe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),qxe=(e,t,r,n,s,i,a,l)=>{const c=l.bits;let u=0,d=0,h=0,p=0,f=0,v=0,m=0,x=0,g=0,b=0,S,k,T,R,O,D=null,I;const G=new Uint16Array(Uf+1),A=new Uint16Array(Uf+1);let M=null,$,q,ee;for(u=0;u<=Uf;u++)G[u]=0;for(d=0;d<n;d++)G[t[r+d]]++;for(f=c,p=Uf;p>=1&&G[p]===0;p--);if(f>p&&(f=p),p===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&G[h]===0;h++);for(f<h&&(f=h),x=1,u=1;u<=Uf;u++)if(x<<=1,x-=G[u],x<0)return-1;if(x>0&&(e===AL||p!==1))return-1;for(A[1]=0,u=1;u<Uf;u++)A[u+1]=A[u]+G[u];for(d=0;d<n;d++)t[r+d]!==0&&(a[A[t[r+d]]++]=d);if(e===AL?(D=M=a,I=20):e===lS?(D=Fxe,M=$xe,I=257):(D=Bxe,M=Uxe,I=0),b=0,d=0,u=h,O=i,v=f,m=0,T=-1,g=1<<f,R=g-1,e===lS&&g>CL||e===PL&&g>EL)return 1;for(;;){$=u-m,a[d]+1<I?(q=0,ee=a[d]):a[d]>=I?(q=M[a[d]-I],ee=D[a[d]-I]):(q=96,ee=0),S=1<<u-m,k=1<<v,h=k;do k-=S,s[O+(b>>m)+k]=$<<24|q<<16|ee|0;while(k!==0);for(S=1<<u-1;b&S;)S>>=1;if(S!==0?(b&=S-1,b+=S):b=0,d++,--G[u]===0){if(u===p)break;u=t[r+a[d]]}if(u>f&&(b&R)!==T){for(m===0&&(m=f),O+=h,v=u-m,x=1<<v;v+m<p&&(x-=G[v+m],!(x<=0));)v++,x<<=1;if(g+=1<<v,e===lS&&g>CL||e===PL&&g>EL)return 1;T=b&R,s[T]=f<<24|v<<16|O-i|0}}return b!==0&&(s[O+b]=u-m<<24|64<<16|0),l.bits=f,0};var Tv=qxe;const zxe=0,mW=1,gW=2,{Z_FINISH:TL,Z_BLOCK:Vxe,Z_TREES:J1,Z_OK:Gh,Z_STREAM_END:Wxe,Z_NEED_DICT:Hxe,Z_STREAM_ERROR:Za,Z_DATA_ERROR:vW,Z_MEM_ERROR:yW,Z_BUF_ERROR:Gxe,Z_DEFLATED:RL}=fy,O2=16180,OL=16181,LL=16182,IL=16183,ML=16184,DL=16185,FL=16186,$L=16187,BL=16188,UL=16189,ib=16190,Zl=16191,cS=16192,qL=16193,uS=16194,zL=16195,VL=16196,WL=16197,HL=16198,Q1=16199,Z1=16200,GL=16201,YL=16202,KL=16203,JL=16204,QL=16205,dS=16206,ZL=16207,XL=16208,jn=16209,xW=16210,wW=16211,Yxe=852,Kxe=592,Jxe=15,Qxe=Jxe,eI=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Zxe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hf=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<O2||t.mode>wW?1:0},bW=e=>{if(hf(e))return Za;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=O2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Yxe),t.distcode=t.distdyn=new Int32Array(Kxe),t.sane=1,t.back=-1,Gh},_W=e=>{if(hf(e))return Za;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,bW(e)},SW=(e,t)=>{let r;if(hf(e))return Za;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Za:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,_W(e))},jW=(e,t)=>{if(!e)return Za;const r=new Zxe;e.state=r,r.strm=e,r.window=null,r.mode=O2;const n=SW(e,t);return n!==Gh&&(e.state=null),n},Xxe=e=>jW(e,Qxe);let tI=!0,hS,fS;const ewe=e=>{if(tI){hS=new Int32Array(512),fS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Tv(mW,e.lens,0,288,hS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Tv(gW,e.lens,0,32,fS,0,e.work,{bits:5}),tI=!1}e.lencode=hS,e.lenbits=9,e.distcode=fS,e.distbits=5},NW=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},twe=(e,t)=>{let r,n,s,i,a,l,c,u,d,h,p,f,v,m,x=0,g,b,S,k,T,R,O,D;const I=new Uint8Array(4);let G,A;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hf(e)||!e.output||!e.input&&e.avail_in!==0)return Za;r=e.state,r.mode===Zl&&(r.mode=cS),a=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,h=l,p=c,D=Gh;e:for(;;)switch(r.mode){case O2:if(r.wrap===0){r.mode=cS;break}for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=u&255,I[1]=u>>>8&255,r.check=As(r.check,I,2,0),u=0,d=0,r.mode=OL;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=jn;break}if((u&15)!==RL){e.msg="unknown compression method",r.mode=jn;break}if(u>>>=4,d-=4,O=(u&15)+8,r.wbits===0&&(r.wbits=O),O>15||O>r.wbits){e.msg="invalid window size",r.mode=jn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?UL:Zl,u=0,d=0;break;case OL:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==RL){e.msg="unknown compression method",r.mode=jn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=jn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=As(r.check,I,2,0)),u=0,d=0,r.mode=LL;case LL:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,r.check=As(r.check,I,4,0)),u=0,d=0,r.mode=IL;case IL:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=As(r.check,I,2,0)),u=0,d=0,r.mode=ML;case ML:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=As(r.check,I,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=DL;case DL:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+f),O)),r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,f,i)),l-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=FL;case FL:if(r.flags&2048){if(l===0)break e;f=0;do O=n[i+f++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O));while(O&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,f,i)),l-=f,i+=f,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=$L;case $L:if(r.flags&4096){if(l===0)break e;f=0;do O=n[i+f++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O));while(O&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,f,i)),l-=f,i+=f,O)break e}else r.head&&(r.head.comment=null);r.mode=BL;case BL:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=jn;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Zl;break;case UL:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}e.adler=r.check=eI(u),u=0,d=0,r.mode=ib;case ib:if(r.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,Hxe;e.adler=r.check=1,r.mode=Zl;case Zl:if(t===Vxe||t===J1)break e;case cS:if(r.last){u>>>=d&7,d-=d&7,r.mode=dS;break}for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=qL;break;case 1:if(ewe(r),r.mode=Q1,t===J1){u>>>=2,d-=2;break e}break;case 2:r.mode=VL;break;case 3:e.msg="invalid block type",r.mode=jn}u>>>=2,d-=2;break;case qL:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=jn;break}if(r.length=u&65535,u=0,d=0,r.mode=uS,t===J1)break e;case uS:r.mode=zL;case zL:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;s.set(n.subarray(i,i+f),a),l-=f,i+=f,c-=f,a+=f,r.length-=f;break}r.mode=Zl;break;case VL:for(;d<14;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=jn;break}r.have=0,r.mode=WL;case WL:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.lens[M[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},D=Tv(zxe,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,D){e.msg="invalid code lengths set",r.mode=jn;break}r.have=0,r.mode=HL;case HL:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[u&(1<<r.lenbits)-1],g=x>>>24,b=x>>>16&255,S=x&65535,!(g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(S<16)u>>>=g,d-=g,r.lens[r.have++]=S;else{if(S===16){for(A=g+2;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(u>>>=g,d-=g,r.have===0){e.msg="invalid bit length repeat",r.mode=jn;break}O=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(S===17){for(A=g+3;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=g,d-=g,O=0,f=3+(u&7),u>>>=3,d-=3}else{for(A=g+7;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=g,d-=g,O=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=jn;break}for(;f--;)r.lens[r.have++]=O}}if(r.mode===jn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=jn;break}if(r.lenbits=9,G={bits:r.lenbits},D=Tv(mW,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,D){e.msg="invalid literal/lengths set",r.mode=jn;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},D=Tv(gW,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,D){e.msg="invalid distances set",r.mode=jn;break}if(r.mode=Q1,t===J1)break e;case Q1:r.mode=Z1;case Z1:if(l>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,Dxe(e,p),a=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===Zl&&(r.back=-1);break}for(r.back=0;x=r.lencode[u&(1<<r.lenbits)-1],g=x>>>24,b=x>>>16&255,S=x&65535,!(g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(b&&!(b&240)){for(k=g,T=b,R=S;x=r.lencode[R+((u&(1<<k+T)-1)>>k)],g=x>>>24,b=x>>>16&255,S=x&65535,!(k+g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=k,d-=k,r.back+=k}if(u>>>=g,d-=g,r.back+=g,r.length=S,b===0){r.mode=QL;break}if(b&32){r.back=-1,r.mode=Zl;break}if(b&64){e.msg="invalid literal/length code",r.mode=jn;break}r.extra=b&15,r.mode=GL;case GL:if(r.extra){for(A=r.extra;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=YL;case YL:for(;x=r.distcode[u&(1<<r.distbits)-1],g=x>>>24,b=x>>>16&255,S=x&65535,!(g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(!(b&240)){for(k=g,T=b,R=S;x=r.distcode[R+((u&(1<<k+T)-1)>>k)],g=x>>>24,b=x>>>16&255,S=x&65535,!(k+g<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=k,d-=k,r.back+=k}if(u>>>=g,d-=g,r.back+=g,b&64){e.msg="invalid distance code",r.mode=jn;break}r.offset=S,r.extra=b&15,r.mode=KL;case KL:if(r.extra){for(A=r.extra;d<A;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=jn;break}r.mode=JL;case JL:if(c===0)break e;if(f=p-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=jn;break}f>r.wnext?(f-=r.wnext,v=r.wsize-f):v=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=s,v=a-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do s[a++]=m[v++];while(--f);r.length===0&&(r.mode=Z1);break;case QL:if(c===0)break e;s[a++]=r.length,c--,r.mode=Z1;break;case dS:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[i++]<<d,d+=8}if(p-=c,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?As(r.check,s,p,a-p):x0(r.check,s,p,a-p)),p=c,r.wrap&4&&(r.flags?u:eI(u))!==r.check){e.msg="incorrect data check",r.mode=jn;break}u=0,d=0}r.mode=ZL;case ZL:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=jn;break}u=0,d=0}r.mode=XL;case XL:D=Wxe;break e;case jn:D=vW;break e;case xW:return yW;case wW:default:return Za}return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||p!==e.avail_out&&r.mode<jn&&(r.mode<dS||t!==TL))&&NW(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?As(r.check,s,p,e.next_out-p):x0(r.check,s,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Zl?128:0)+(r.mode===Q1||r.mode===uS?256:0),(h===0&&p===0||t===TL)&&D===Gh&&(D=Gxe),D},rwe=e=>{if(hf(e))return Za;let t=e.state;return t.window&&(t.window=null),e.state=null,Gh},nwe=(e,t)=>{if(hf(e))return Za;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Gh):Za},swe=(e,t)=>{const r=t.length;let n,s,i;return hf(e)||(n=e.state,n.wrap!==0&&n.mode!==ib)?Za:n.mode===ib&&(s=1,s=x0(s,t,r,0),s!==n.check)?vW:(i=NW(e,t,r,r),i?(n.mode=xW,yW):(n.havedict=1,Gh))};var iwe=_W,awe=SW,owe=bW,lwe=Xxe,cwe=jW,uwe=twe,dwe=rwe,hwe=nwe,fwe=swe,pwe="pako inflate (from Nodeca project)",oc={inflateReset:iwe,inflateReset2:awe,inflateResetKeep:owe,inflateInit:lwe,inflateInit2:cwe,inflate:uwe,inflateEnd:dwe,inflateGetHeader:hwe,inflateSetDictionary:fwe,inflateInfo:pwe};function mwe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gwe=mwe;const kW=Object.prototype.toString,{Z_NO_FLUSH:vwe,Z_FINISH:ywe,Z_OK:_0,Z_STREAM_END:pS,Z_NEED_DICT:mS,Z_STREAM_ERROR:xwe,Z_DATA_ERROR:rI,Z_MEM_ERROR:wwe}=fy;function my(e){this.options=R2.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fW,this.strm.avail_out=0;let r=oc.inflateInit2(this.strm,t.windowBits);if(r!==_0)throw new Error(bm[r]);if(this.header=new gwe,oc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=b0.string2buf(t.dictionary):kW.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=oc.inflateSetDictionary(this.strm,t.dictionary),r!==_0)))throw new Error(bm[r])}my.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,l;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?ywe:vwe,kW.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=oc.inflate(r,a),i===mS&&s&&(i=oc.inflateSetDictionary(r,s),i===_0?i=oc.inflate(r,a):i===rI&&(i=mS));r.avail_in>0&&i===pS&&r.state.wrap>0&&e[r.next_in]!==0;)oc.inflateReset(r),i=oc.inflate(r,a);switch(i){case xwe:case rI:case mS:case wwe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===pS))if(this.options.to==="string"){let c=b0.utf8border(r.output,r.next_out),u=r.next_out-c,d=b0.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===_0&&l===0)){if(i===pS)return i=oc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};my.prototype.onData=function(e){this.chunks.push(e)};my.prototype.onEnd=function(e){e===_0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=R2.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function GA(e,t){const r=new my(t);if(r.push(e),r.err)throw r.msg||bm[r.err];return r.result}function bwe(e,t){return t=t||{},t.raw=!0,GA(e,t)}var _we=my,Swe=GA,jwe=bwe,Nwe=GA,kwe=fy,Cwe={Inflate:_we,inflate:Swe,inflateRaw:jwe,ungzip:Nwe,constants:kwe};const{Inflate:Ewe,inflate:Awe,inflateRaw:Y2e,ungzip:K2e}=Cwe;var nI=Ewe,Pwe=Awe;const CW=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;CW[e]=t}const sI=4294967295;function Twe(e,t,r){let n=e;for(let s=0;s<r;s++)n=CW[(n^t[s])&255]^n>>>8;return n}function Rwe(e,t){return(Twe(sI,e,t)^sI)>>>0}function iI(e,t,r){const n=e.readUint32(),s=Rwe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function EW(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function AW(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function PW(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function TW(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function RW(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+Owe(t[i-s],r[i],r[i-s])&255}}function Owe(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),a=Math.abs(n-r);return s<=i&&s<=a?e:i<=a?t:r}function Lwe(e,t,r,n,s,i){switch(e){case 0:EW(t,r,s);break;case 1:AW(t,r,s,i);break;case 2:PW(t,r,n,s);break;case 3:TW(t,r,n,s,i);break;case 4:RW(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Iwe=new Uint16Array([255]),Mwe=new Uint8Array(Iwe.buffer),Dwe=Mwe[0]===255;function Fwe(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const h=a[d],p=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(p<=0||f<=0)continue;const v=p*l,m=new Uint8Array(v);for(let x=0;x<f;x++){const g=t[u++],b=t.subarray(u,u+v);u+=v;const S=new Uint8Array(v);Lwe(g,b,S,m,v,l),m.set(S);for(let k=0;k<p;k++){const T=h.x+k*h.xStep,R=h.y+x*h.yStep;if(!(T>=r||R>=n))for(let O=0;O<l;O++)c[(R*r+T)*l+O]=S[k*l+O]}}}if(i===16){const d=new Uint16Array(c.buffer);if(Dwe)for(let h=0;h<d.length;h++)d[h]=$we(d[h]);return d}else return c}function $we(e){return(e&255)<<8|e>>8&255}const Bwe=new Uint16Array([255]),Uwe=new Uint8Array(Bwe.buffer),qwe=Uwe[0]===255,zwe=new Uint8Array(0);function aI(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),c=new Uint8Array(n*l);let u=zwe,d=0,h,p;for(let f=0;f<n;f++){switch(h=t.subarray(d+1,d+1+l),p=c.subarray(f*l,(f+1)*l),t[d]){case 0:EW(h,p,l);break;case 1:AW(h,p,l,a);break;case 2:PW(h,p,u,l);break;case 3:TW(h,p,u,l,a);break;case 4:RW(h,p,u,l,a);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=p,d+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(qwe)for(let v=0;v<f.length;v++)f[v]=Vwe(f[v]);return f}else return c}function Vwe(e){return(e&255)<<8|e>>8&255}const Mx=Uint8Array.of(137,80,78,71,13,10,26,10);function oI(e){if(!Wwe(e.readBytes(Mx.length)))throw new Error("wrong PNG signature")}function Wwe(e){if(e.length<Mx.length)return!1;for(let t=0;t<Mx.length;t++)if(e[t]!==Mx[t])return!1;return!0}const Hwe="tEXt",Gwe=0,OW=new TextDecoder("latin1");function Ywe(e){if(Jwe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Kwe=/^[\u0000-\u00FF]*$/;function Jwe(e){if(!Kwe.test(e))throw new Error("invalid latin1 text")}function Qwe(e,t,r){const n=LW(t);e[n]=Zwe(t,r-n.length-1)}function LW(e){for(e.mark();e.readByte()!==Gwe;);const t=e.offset;e.reset();const r=OW.decode(e.readBytes(t-e.offset-1));return e.skip(1),Ywe(r),r}function Zwe(e,t){return OW.decode(e.readBytes(t))}const na={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},gS={UNKNOWN:-1,DEFLATE:0},lI={UNKNOWN:-1,ADAPTIVE:0},vS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},X1={NONE:0,BACKGROUND:1,PREVIOUS:2},yS={SOURCE:0,OVER:1};class Xwe extends BA{constructor(r,n={}){super(r);nt(this,"_checkCrc");nt(this,"_inflator");nt(this,"_png");nt(this,"_apng");nt(this,"_end");nt(this,"_hasPalette");nt(this,"_palette");nt(this,"_hasTransparency");nt(this,"_transparency");nt(this,"_compressionMethod");nt(this,"_filterMethod");nt(this,"_interlaceMethod");nt(this,"_colorType");nt(this,"_isAnimated");nt(this,"_numberOfFrames");nt(this,"_numberOfPlays");nt(this,"_frames");nt(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new nI,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=gS.UNKNOWN,this._filterMethod=lI.UNKNOWN,this._interlaceMethod=vS.UNKNOWN,this._colorType=na.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(oI(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(oI(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Hwe:Qwe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?iI(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?iI(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=ebe(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case na.GREYSCALE:s=1;break;case na.TRUECOLOUR:s=3;break;case na.INDEXED_COLOUR:s=1;break;case na.GREYSCALE_ALPHA:s=2;break;case na.TRUECOLOUR_ALPHA:s=4;break;case na.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==gS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case na.GREYSCALE:case na.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case na.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case na.UNKNOWN:case na.GREYSCALE_ALPHA:case na.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=LW(this),s=this.readUint8();if(s!==gS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Pwe(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=aI({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case X1.NONE:break;case X1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const l=(i*r.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case X1.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(a,l)=>{const c=((a+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(a*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case yS.SOURCE:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(a,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case yS.OVER:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(a,l);for(let d=0;d<this._png.channels;d++){const h=n.data[u+this._png.channels-1]/s,p=d%(this._png.channels-1)===0?1:n.data[u+d],f=Math.floor(h*p+(1-h)*r.data[c+d]);r.data[c+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==lI.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===vS.NO_INTERLACE)this._png.data=aI({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===vS.ADAM7)this._png.data=Fwe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:X1.NONE,blendOp:yS.SOURCE,data:r}),this._inflator=new nI,this._writingDataChunks=!1}}function ebe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var cI;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(cI||(cI={}));function tbe(e,t){return new Xwe(e,t).decode()}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function xS(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var an={log:xS,warn:function(e){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):xS.call(null,arguments))},error:function(e){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):xS(e))}};function wS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Gd(n.response,t,r)},n.onerror=function(){an.error("could not download file")},n.send()}function uI(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ex(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Gd=Ut.saveAs||((typeof window>"u"?"undefined":Yr(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ut.URL||Ut.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?uI(s.href)?wS(e,t,r):ex(s,s.target="_blank"):ex(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){ex(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(uI(e))wS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){ex(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Yr(i)!=="object"&&(an.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return wS(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(Ut.HTMLElement)||Ut.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Yr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Ut.URL||Ut.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function IW(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Dx=Ut.atob.bind(Ut),dI=Ut.btoa.bind(Ut);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function bS(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=ei(r,n,s,i,t[0],7,-680876936),i=ei(i,r,n,s,t[1],12,-389564586),s=ei(s,i,r,n,t[2],17,606105819),n=ei(n,s,i,r,t[3],22,-1044525330),r=ei(r,n,s,i,t[4],7,-176418897),i=ei(i,r,n,s,t[5],12,1200080426),s=ei(s,i,r,n,t[6],17,-1473231341),n=ei(n,s,i,r,t[7],22,-45705983),r=ei(r,n,s,i,t[8],7,1770035416),i=ei(i,r,n,s,t[9],12,-1958414417),s=ei(s,i,r,n,t[10],17,-42063),n=ei(n,s,i,r,t[11],22,-1990404162),r=ei(r,n,s,i,t[12],7,1804603682),i=ei(i,r,n,s,t[13],12,-40341101),s=ei(s,i,r,n,t[14],17,-1502002290),r=ti(r,n=ei(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=ti(i,r,n,s,t[6],9,-1069501632),s=ti(s,i,r,n,t[11],14,643717713),n=ti(n,s,i,r,t[0],20,-373897302),r=ti(r,n,s,i,t[5],5,-701558691),i=ti(i,r,n,s,t[10],9,38016083),s=ti(s,i,r,n,t[15],14,-660478335),n=ti(n,s,i,r,t[4],20,-405537848),r=ti(r,n,s,i,t[9],5,568446438),i=ti(i,r,n,s,t[14],9,-1019803690),s=ti(s,i,r,n,t[3],14,-187363961),n=ti(n,s,i,r,t[8],20,1163531501),r=ti(r,n,s,i,t[13],5,-1444681467),i=ti(i,r,n,s,t[2],9,-51403784),s=ti(s,i,r,n,t[7],14,1735328473),r=ri(r,n=ti(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=ri(i,r,n,s,t[8],11,-2022574463),s=ri(s,i,r,n,t[11],16,1839030562),n=ri(n,s,i,r,t[14],23,-35309556),r=ri(r,n,s,i,t[1],4,-1530992060),i=ri(i,r,n,s,t[4],11,1272893353),s=ri(s,i,r,n,t[7],16,-155497632),n=ri(n,s,i,r,t[10],23,-1094730640),r=ri(r,n,s,i,t[13],4,681279174),i=ri(i,r,n,s,t[0],11,-358537222),s=ri(s,i,r,n,t[3],16,-722521979),n=ri(n,s,i,r,t[6],23,76029189),r=ri(r,n,s,i,t[9],4,-640364487),i=ri(i,r,n,s,t[12],11,-421815835),s=ri(s,i,r,n,t[15],16,530742520),r=ni(r,n=ri(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=ni(i,r,n,s,t[7],10,1126891415),s=ni(s,i,r,n,t[14],15,-1416354905),n=ni(n,s,i,r,t[5],21,-57434055),r=ni(r,n,s,i,t[12],6,1700485571),i=ni(i,r,n,s,t[3],10,-1894986606),s=ni(s,i,r,n,t[10],15,-1051523),n=ni(n,s,i,r,t[1],21,-2054922799),r=ni(r,n,s,i,t[8],6,1873313359),i=ni(i,r,n,s,t[15],10,-30611744),s=ni(s,i,r,n,t[6],15,-1560198380),n=ni(n,s,i,r,t[13],21,1309151649),r=ni(r,n,s,i,t[4],6,-145523070),i=ni(i,r,n,s,t[11],10,-1120210379),s=ni(s,i,r,n,t[2],15,718787259),n=ni(n,s,i,r,t[9],21,-343485551),e[0]=Du(r,e[0]),e[1]=Du(n,e[1]),e[2]=Du(s,e[2]),e[3]=Du(i,e[3])}function L2(e,t,r,n,s,i){return t=Du(Du(t,e),Du(n,i)),Du(t<<s|t>>>32-s,r)}function ei(e,t,r,n,s,i,a){return L2(t&r|~t&n,e,t,s,i,a)}function ti(e,t,r,n,s,i,a){return L2(t&n|r&~n,e,t,s,i,a)}function ri(e,t,r,n,s,i,a){return L2(t^r^n,e,t,s,i,a)}function ni(e,t,r,n,s,i,a){return L2(r^(t|~n),e,t,s,i,a)}function MW(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)bS(n,rbe(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(bS(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,bS(n,s),n}function rbe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var hI="0123456789abcdef".split("");function nbe(e){for(var t="",r=0;r<4;r++)t+=hI[e>>8*r+4&15]+hI[e>>8*r&15];return t}function sbe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function jk(e){return MW(e).map(sbe).join("")}var ibe=function(e){for(var t=0;t<e.length;t++)e[t]=nbe(e[t]);return e.join("")}(MW("hello"))!="5d41402abc4b2a76b9719d911017c592";function Du(e,t){if(ibe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Nk(e,t){var r,n,s,i;if(e!==r){for(var a=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+a.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var h=t.length,p=0,f=0,v="";for(c=0;c<h;c++)f=(f+(d=l[p=(p+1)%256]))%256,l[p]=l[f],l[f]=d,a=l[(l[p]+l[f])%256],v+=String.fromCharCode(t.charCodeAt(c)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var fI={print:4,modify:8,copy:16,"annot-forms":32};function Kf(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(fI.perm!==void 0)throw new Error("Invalid permission: "+l);s+=fI[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=jk(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Nk(this.encryptionKey,this.padding)}function Jf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function pI(e){if(Yr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var a=t[r][i];try{a[0].apply(e,n)}catch(l){Ut.console&&an.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ab(e){if(!(this instanceof ab))return new ab(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function DW(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Jd(e,t,r,n,s){if(!(this instanceof Jd))return new Jd(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,DW.call(this,n,s)}function hp(e,t,r,n,s){if(!(this instanceof hp))return new hp(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,DW.call(this,n,s)}function Et(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,c=16,u="S",d=null;Yr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=pI;var v="1.3",m=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(N){v=N};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var g=f.__private__.getPageFormat=function(N){return x[N]};s=s||"a4";var b="compat",S="advanced",k=b;function T(){this.saveGraphicsState(),J(new mt(bt,0,0,-bt,0,kd()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),u="n",k=S}function R(){this.restoreGraphicsState(),u="S",k=b}var O=f.__private__.combineFontStyleAndFontWeight=function(N,z){if(N=="bold"&&z=="normal"||N=="bold"&&z==400||N=="normal"&&z=="italic"||N=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(N=z==400||z==="normal"?N==="italic"?"italic":"normal":z!=700&&z!=="bold"||N!=="normal"?(z==700?"bold":z)+""+N:"bold"),N};f.advancedAPI=function(N){var z=k===b;return z&&T.call(this),typeof N!="function"||(N(this),z&&R.call(this)),this},f.compatAPI=function(N){var z=k===S;return z&&R.call(this),typeof N!="function"||(N(this),z&&T.call(this)),this},f.isAdvancedAPI=function(){return k===S};var D,I=function(N){if(k!==S)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=f.roundToPrecision=f.__private__.roundToPrecision=function(N,z){var oe=t||z;if(isNaN(N)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(oe).replace(/0+$/,"")};D=f.hpf=f.__private__.hpf=typeof c=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,c)}:c==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,16)};var A=f.f2=f.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return G(N,2)},M=f.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return G(N,3)},$=f.scale=f.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return k===b?N*bt:k===S?N:void 0},q=function(N){return $(function(z){return k===b?kd()-z:k===S?z:void 0}(N))};f.__private__.setPrecision=f.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var ee,re="00000000000000000000000000000000",te=f.__private__.getFileId=function(){return re},W=f.__private__.setFileId=function(N){return re=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ms=new Kf(d.userPermissions,d.userPassword,d.ownerPassword,re)),re};f.setFileId=function(N){return W(N),this},f.getFileId=function(){return te()};var Z=f.__private__.convertDateToPDFDate=function(N){var z=N.getTimezoneOffset(),oe=z<0?"+":"-",de=Math.floor(Math.abs(z/60)),we=Math.abs(z%60),Pe=[oe,C(de),"'",C(we),"'"].join("");return["D:",N.getFullYear(),C(N.getMonth()+1),C(N.getDate()),C(N.getHours()),C(N.getMinutes()),C(N.getSeconds()),Pe].join("")},pe=f.__private__.convertPDFDateToDate=function(N){var z=parseInt(N.substr(2,4),10),oe=parseInt(N.substr(6,2),10)-1,de=parseInt(N.substr(8,2),10),we=parseInt(N.substr(10,2),10),Pe=parseInt(N.substr(12,2),10),Fe=parseInt(N.substr(14,2),10);return new Date(z,oe,de,we,Pe,Fe,0)},ge=f.__private__.setCreationDate=function(N){var z;if(N===void 0&&(N=new Date),N instanceof Date)z=Z(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=N}return ee=z},U=f.__private__.getCreationDate=function(N){var z=ee;return N==="jsDate"&&(z=pe(ee)),z};f.setCreationDate=function(N){return ge(N),this},f.getCreationDate=function(N){return U(N)};var _,C=f.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},E=f.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},B=0,F=[],Q=[],ne=0,le=[],ue=[],fe=!1,_e=Q;f.__private__.setCustomOutputDestination=function(N){fe=!0,_e=N};var Me=function(N){fe||(_e=N)};f.__private__.resetCustomOutputDestination=function(){fe=!1,_e=Q};var J=f.__private__.out=function(N){return N=N.toString(),ne+=N.length+1,_e.push(N),_e},De=f.__private__.write=function(N){return J(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Ge=f.__private__.getArrayBuffer=function(N){for(var z=N.length,oe=new ArrayBuffer(z),de=new Uint8Array(oe);z--;)de[z]=N.charCodeAt(z);return oe},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ye};var ve=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(N){return ve=k===S?N/bt:N,this};var se,ce=f.__private__.getFontSize=f.getFontSize=function(){return k===b?ve:ve*bt},xe=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(N){return xe=N,this},f.__private__.getR2L=f.getR2L=function(){return xe};var Ne,Oe=f.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))se=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');se=N}else se=parseInt(N,10)};f.__private__.getZoomMode=function(){return se};var Ce,Le=f.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ne=N};f.__private__.getPageMode=function(){return Ne};var et=f.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Ce=N};f.__private__.getLayoutMode=function(){return Ce},f.__private__.setDisplayMode=f.setDisplayMode=function(N,z,oe){return Oe(N),et(z),Le(oe),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(N){if(Object.keys(at).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[N]},f.__private__.getDocumentProperties=function(){return at},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(N){for(var z in at)at.hasOwnProperty(z)&&N[z]&&(at[z]=N[z]);return this},f.__private__.setDocumentProperty=function(N,z){if(Object.keys(at).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[N]=z};var Je,bt,rt,Fr,qt,Ot={},zt={},lr=[],_t={},br={},At={},Dt={},Ur=null,Gt=0,pt=[],mr=new pI(f),Pt=e.hotfixes||[],Ft={},cr={},Dn=[],mt=function N(z,oe,de,we,Pe,Fe){if(!(this instanceof N))return new N(z,oe,de,we,Pe,Fe);isNaN(z)&&(z=1),isNaN(oe)&&(oe=0),isNaN(de)&&(de=0),isNaN(we)&&(we=1),isNaN(Pe)&&(Pe=0),isNaN(Fe)&&(Fe=0),this._matrix=[z,oe,de,we,Pe,Fe]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(N)},mt.prototype.multiply=function(N){var z=N.sx*this.sx+N.shy*this.shx,oe=N.sx*this.shy+N.shy*this.sy,de=N.shx*this.sx+N.sy*this.shx,we=N.shx*this.shy+N.sy*this.sy,Pe=N.tx*this.sx+N.ty*this.shx+this.tx,Fe=N.tx*this.shy+N.ty*this.sy+this.ty;return new mt(z,oe,de,we,Pe,Fe)},mt.prototype.decompose=function(){var N=this.sx,z=this.shy,oe=this.shx,de=this.sy,we=this.tx,Pe=this.ty,Fe=Math.sqrt(N*N+z*z),ft=(N/=Fe)*oe+(z/=Fe)*de;oe-=N*ft,de-=z*ft;var St=Math.sqrt(oe*oe+de*de);return ft/=St,N*(de/=St)<z*(oe/=St)&&(N=-N,z=-z,ft=-ft,Fe=-Fe),{scale:new mt(Fe,0,0,St,0,0),translate:new mt(1,0,0,1,we,Pe),rotate:new mt(N,z,-z,N,0,0),skew:new mt(1,0,ft,1,0,0)}},mt.prototype.toString=function(N){return this.join(" ")},mt.prototype.inversed=function(){var N=this.sx,z=this.shy,oe=this.shx,de=this.sy,we=this.tx,Pe=this.ty,Fe=1/(N*de-z*oe),ft=de*Fe,St=-z*Fe,Vt=-oe*Fe,tr=N*Fe;return new mt(ft,St,Vt,tr,-ft*we-Vt*Pe,-St*we-tr*Pe)},mt.prototype.applyToPoint=function(N){var z=N.x*this.sx+N.y*this.shx+this.tx,oe=N.x*this.shy+N.y*this.sy+this.ty;return new Dl(z,oe)},mt.prototype.applyToRectangle=function(N){var z=this.applyToPoint(N),oe=this.applyToPoint(new Dl(N.x+N.w,N.y+N.h));return new lg(z.x,z.y,oe.x-z.x,oe.y-z.y)},mt.prototype.clone=function(){var N=this.sx,z=this.shy,oe=this.shx,de=this.sy,we=this.tx,Pe=this.ty;return new mt(N,z,oe,de,we,Pe)},f.Matrix=mt;var Cs=f.matrixMult=function(N,z){return z.multiply(N)},Ls=new mt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ls;var Sn=function(N,z){if(!br[N]){var oe=(z instanceof Jd?"Sh":"P")+(Object.keys(_t).length+1).toString(10);z.id=oe,br[N]=oe,_t[oe]=z,mr.publish("addPattern",z)}};f.ShadingPattern=Jd,f.TilingPattern=hp,f.addShadingPattern=function(N,z){return I("addShadingPattern()"),Sn(N,z),this},f.beginTilingPattern=function(N){I("beginTilingPattern()"),cg(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},f.endTilingPattern=function(N,z){I("endTilingPattern()"),z.stream=ue[_].join(`
`),Sn(N,z),mr.publish("endTilingPattern",z),Dn.pop().restore()};var Hn,Fn=f.__private__.newObject=function(){var N=Es();return Is(N,!0),N},Es=f.__private__.newObjectDeferred=function(){return B++,F[B]=function(){return ne},B},Is=function(N,z){return z=typeof z=="boolean"&&z,F[N]=ne,z&&J(N+" 0 obj"),N},xd=f.__private__.newAdditionalObject=function(){var N={objId:Es(),content:""};return le.push(N),N},Bc=Es(),to=Es(),Wo=f.__private__.decodeColorString=function(N){var z=N.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var oe=parseFloat(z[0]);z=[oe,oe,oe,"r"]}for(var de="#",we=0;we<3;we++)de+=("0"+Math.floor(255*parseFloat(z[we])).toString(16)).slice(-2);return de},ro=f.__private__.encodeColorString=function(N){var z;typeof N=="string"&&(N={ch1:N});var oe=N.ch1,de=N.ch2,we=N.ch3,Pe=N.ch4,Fe=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var ft=new IW(oe);if(ft.ok)oe=ft.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var St=parseInt(oe.substr(1),16);oe=St>>16&255,de=St>>8&255,we=255&St}if(de===void 0||Pe===void 0&&oe===de&&de===we)z=typeof oe=="string"?oe+" "+Fe[0]:N.precision===2?A(oe/255)+" "+Fe[0]:M(oe/255)+" "+Fe[0];else if(Pe===void 0||Yr(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",Fe[1]].join(" ");z=typeof oe=="string"?[oe,de,we,Fe[1]].join(" "):N.precision===2?[A(oe/255),A(de/255),A(we/255),Fe[1]].join(" "):[M(oe/255),M(de/255),M(we/255),Fe[1]].join(" ")}else z=typeof oe=="string"?[oe,de,we,Pe,Fe[2]].join(" "):N.precision===2?[A(oe),A(de),A(we),A(Pe),Fe[2]].join(" "):[M(oe),M(de),M(we),M(Pe),Fe[2]].join(" ");return z},no=f.__private__.getFilters=function(){return a},Ca=f.__private__.putStream=function(N){var z=(N=N||{}).data||"",oe=N.filters||no(),de=N.alreadyAppliedFilters||[],we=N.addLength1||!1,Pe=z.length,Fe=N.objectId,ft=function(gs){return gs};if(d!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ft=ms.encryptor(Fe,0));var St={};oe===!0&&(oe=["FlateEncode"]);var Vt=N.additionalKeyValues||[],tr=(St=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(z,oe):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(St.data.length!==0&&(Vt.push({key:"Length",value:St.data.length}),we===!0&&Vt.push({key:"Length1",value:Pe})),tr.length!=0)if(tr.split("/").length-1==1)Vt.push({key:"Filter",value:tr});else{Vt.push({key:"Filter",value:"["+tr+"]"});for(var _r=0;_r<Vt.length;_r+=1)if(Vt[_r].key==="DecodeParms"){for(var An=[],os=0;os<St.reverseChain.split("/").length-1;os+=1)An.push("null");An.push(Vt[_r].value),Vt[_r].value="["+An.join(" ")+"]"}}J("<<");for(var ln=0;ln<Vt.length;ln++)J("/"+Vt[ln].key+" "+Vt[ln].value);J(">>"),St.data.length!==0&&(J("stream"),J(ft(St.data)),J("endstream"))},wd=f.__private__.putPage=function(N){var z=N.number,oe=N.data,de=N.objId,we=N.contentsObjId;Is(de,!0),J("<</Type /Page"),J("/Parent "+N.rootDictionaryObjId+" 0 R"),J("/Resources "+N.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(D(N.mediaBox.bottomLeftX))+" "+parseFloat(D(N.mediaBox.bottomLeftY))+" "+D(N.mediaBox.topRightX)+" "+D(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&J("/CropBox ["+D(N.cropBox.bottomLeftX)+" "+D(N.cropBox.bottomLeftY)+" "+D(N.cropBox.topRightX)+" "+D(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&J("/BleedBox ["+D(N.bleedBox.bottomLeftX)+" "+D(N.bleedBox.bottomLeftY)+" "+D(N.bleedBox.topRightX)+" "+D(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&J("/TrimBox ["+D(N.trimBox.bottomLeftX)+" "+D(N.trimBox.bottomLeftY)+" "+D(N.trimBox.topRightX)+" "+D(N.trimBox.topRightY)+"]"),N.artBox!==null&&J("/ArtBox ["+D(N.artBox.bottomLeftX)+" "+D(N.artBox.bottomLeftY)+" "+D(N.artBox.topRightX)+" "+D(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&J("/UserUnit "+N.userUnit),mr.publish("putPage",{objId:de,pageContext:pt[z],pageNumber:z,page:oe}),J("/Contents "+we+" 0 R"),J(">>"),J("endobj");var Pe=oe.join(`
`);return k===S&&(Pe+=`
Q`),Is(we,!0),Ca({data:Pe,filters:no(),objectId:we}),J("endobj"),de},Ho=f.__private__.putPages=function(){var N,z,oe=[];for(N=1;N<=Gt;N++)pt[N].objId=Es(),pt[N].contentsObjId=Es();for(N=1;N<=Gt;N++)oe.push(wd({number:N,data:ue[N],objId:pt[N].objId,contentsObjId:pt[N].contentsObjId,mediaBox:pt[N].mediaBox,cropBox:pt[N].cropBox,bleedBox:pt[N].bleedBox,trimBox:pt[N].trimBox,artBox:pt[N].artBox,userUnit:pt[N].userUnit,rootDictionaryObjId:Bc,resourceDictionaryObjId:to}));Is(Bc,!0),J("<</Type /Pages");var de="/Kids [";for(z=0;z<Gt;z++)de+=oe[z]+" 0 R ";J(de+"]"),J("/Count "+Gt),J(">>"),J("endobj"),mr.publish("postPutPages")},bd=function(N){mr.publish("putFont",{font:N,out:J,newObject:Fn,putStream:Ca}),N.isAlreadyPutted!==!0&&(N.objectNumber=Fn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Jf(N.postScriptName)),J("/Subtype /Type1"),typeof N.encoding=="string"&&J("/Encoding /"+N.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},pf=function(N){N.objectNumber=Fn();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[D(N.x),D(N.y),D(N.x+N.width),D(N.y+N.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var oe=N.pages[1].join(`
`);Ca({data:oe,additionalKeyValues:z,objectId:N.objectNumber}),J("endobj")},mf=function(N,z){z||(z=21);var oe=Fn(),de=function(Fe,ft){var St,Vt=[],tr=1/(ft-1);for(St=0;St<1;St+=tr)Vt.push(St);if(Vt.push(1),Fe[0].offset!=0){var _r={offset:0,color:Fe[0].color};Fe.unshift(_r)}if(Fe[Fe.length-1].offset!=1){var An={offset:1,color:Fe[Fe.length-1].color};Fe.push(An)}for(var os="",ln=0,gs=0;gs<Vt.length;gs++){for(St=Vt[gs];St>Fe[ln+1].offset;)ln++;var ls=Fe[ln].offset,Ms=(St-ls)/(Fe[ln+1].offset-ls),Bl=Fe[ln].color,io=Fe[ln+1].color;os+=E(Math.round((1-Ms)*Bl[0]+Ms*io[0]).toString(16))+E(Math.round((1-Ms)*Bl[1]+Ms*io[1]).toString(16))+E(Math.round((1-Ms)*Bl[2]+Ms*io[2]).toString(16))}return os.trim()}(N.colors,z),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+z+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ca({data:de,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),J("endobj"),N.objectNumber=Fn(),J("<< /ShadingType "+N.type),J("/ColorSpace /DeviceRGB");var Pe="/Coords ["+D(parseFloat(N.coords[0]))+" "+D(parseFloat(N.coords[1]))+" ";N.type===2?Pe+=D(parseFloat(N.coords[2]))+" "+D(parseFloat(N.coords[3])):Pe+=D(parseFloat(N.coords[2]))+" "+D(parseFloat(N.coords[3]))+" "+D(parseFloat(N.coords[4]))+" "+D(parseFloat(N.coords[5])),J(Pe+="]"),N.matrix&&J("/Matrix ["+N.matrix.toString()+"]"),J("/Function "+oe+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},gf=function(N,z){var oe=Es(),de=Fn();z.push({resourcesOid:oe,objectOid:de}),N.objectNumber=de;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+N.boundingBox.map(D).join(" ")+"]"}),we.push({key:"XStep",value:D(N.xStep)}),we.push({key:"YStep",value:D(N.yStep)}),we.push({key:"Resources",value:oe+" 0 R"}),N.matrix&&we.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Ca({data:N.stream,additionalKeyValues:we,objectId:N.objectNumber}),J("endobj")},M2=function(N){for(var z in N.objectNumber=Fn(),J("<<"),N)switch(z){case"opacity":J("/ca "+A(N[z]));break;case"stroke-opacity":J("/CA "+A(N[z]))}J(">>"),J("endobj")},eg=function(N){Is(N.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var z in J("/Font <<"),Ot)Ot.hasOwnProperty(z)&&(h===!1||h===!0&&p.hasOwnProperty(z))&&J("/"+z+" "+Ot[z].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(_t).length>0){for(var z in J("/Shading <<"),_t)_t.hasOwnProperty(z)&&_t[z]instanceof Jd&&_t[z].objectNumber>=0&&J("/"+z+" "+_t[z].objectNumber+" 0 R");mr.publish("putShadingPatternDict"),J(">>")}}(),function(z){if(Object.keys(_t).length>0){for(var oe in J("/Pattern <<"),_t)_t.hasOwnProperty(oe)&&_t[oe]instanceof f.TilingPattern&&_t[oe].objectNumber>=0&&_t[oe].objectNumber<z&&J("/"+oe+" "+_t[oe].objectNumber+" 0 R");mr.publish("putTilingPatternDict"),J(">>")}}(N.objectOid),function(){if(Object.keys(At).length>0){var z;for(z in J("/ExtGState <<"),At)At.hasOwnProperty(z)&&At[z].objectNumber>=0&&J("/"+z+" "+At[z].objectNumber+" 0 R");mr.publish("putGStateDict"),J(">>")}}(),function(){for(var z in J("/XObject <<"),Ft)Ft.hasOwnProperty(z)&&Ft[z].objectNumber>=0&&J("/"+z+" "+Ft[z].objectNumber+" 0 R");mr.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},gy=function(N){zt[N.fontName]=zt[N.fontName]||{},zt[N.fontName][N.fontStyle]=N.id},vy=function(N,z,oe,de,we){var Pe={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:N,fontName:z,fontStyle:oe,encoding:de,isStandardFont:we||!1,metadata:{}};return mr.publish("addFont",{font:Pe,instance:this}),Ot[Pe.id]=Pe,gy(Pe),Pe.id},Ea=f.__private__.pdfEscape=f.pdfEscape=function(N,z){return function(oe,de){var we,Pe,Fe,ft,St,Vt,tr,_r,An;if(Fe=(de=de||{}).sourceEncoding||"Unicode",St=de.outputEncoding,(de.autoencode||St)&&Ot[Je].metadata&&Ot[Je].metadata[Fe]&&Ot[Je].metadata[Fe].encoding&&(ft=Ot[Je].metadata[Fe].encoding,!St&&Ot[Je].encoding&&(St=Ot[Je].encoding),!St&&ft.codePages&&(St=ft.codePages[0]),typeof St=="string"&&(St=ft[St]),St)){for(tr=!1,Vt=[],we=0,Pe=oe.length;we<Pe;we++)(_r=St[oe.charCodeAt(we)])?Vt.push(String.fromCharCode(_r)):Vt.push(oe[we]),Vt[we].charCodeAt(0)>>8&&(tr=!0);oe=Vt.join("")}for(we=oe.length;tr===void 0&&we!==0;)oe.charCodeAt(we-1)>>8&&(tr=!0),we--;if(!tr)return oe;for(Vt=de.noBOM?[]:[254,255],we=0,Pe=oe.length;we<Pe;we++){if((An=(_r=oe.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(An),Vt.push(_r-(An<<8))}return String.fromCharCode.apply(void 0,Vt)}(N,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tg=f.__private__.beginPage=function(N){ue[++Gt]=[],pt[Gt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},xy(Gt),Me(ue[_])},yy=function(N,z){var oe,de,we;switch(r=z||r,typeof N=="string"&&(oe=g(N.toLowerCase()),Array.isArray(oe)&&(de=oe[0],we=oe[1])),Array.isArray(N)&&(de=N[0]*bt,we=N[1]*bt),isNaN(de)&&(de=s[0],we=s[1]),(de>14400||we>14400)&&(an.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),we=Math.min(14400,we)),s=[de,we],r.substr(0,1)){case"l":we>de&&(s=[we,de]);break;case"p":de>we&&(s=[we,de])}tg(s),Yt(sg),J(wf),ag!==0&&J(ag+" J"),og!==0&&J(og+" j"),mr.publish("addPage",{pageNumber:Gt})},rg=function(N){N>0&&N<=Gt&&(ue.splice(N,1),pt.splice(N,1),Gt--,_>Gt&&(_=Gt),this.setPage(_))},xy=function(N){N>0&&N<=Gt&&(_=N)},wy=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ue.length-1},by=function(N,z,oe){var de,we=void 0;return oe=oe||{},N=N!==void 0?N:Ot[Je].fontName,z=z!==void 0?z:Ot[Je].fontStyle,de=N.toLowerCase(),zt[de]!==void 0&&zt[de][z]!==void 0?we=zt[de][z]:zt[N]!==void 0&&zt[N][z]!==void 0?we=zt[N][z]:oe.disableWarning===!1&&an.warn("Unable to look up font label for font '"+N+"', '"+z+"'. Refer to getFontList() for available fonts."),we||oe.noFallback||(we=zt.times[z])==null&&(we=zt.times.normal),we},Go=f.__private__.putInfo=function(){var N=Fn(),z=function(de){return de};for(var oe in d!==null&&(z=ms.encryptor(N,0)),J("<<"),J("/Producer ("+Ea(z("jsPDF "+Et.version))+")"),at)at.hasOwnProperty(oe)&&at[oe]&&J("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+Ea(z(at[oe]))+")");J("/CreationDate ("+Ea(z(ee))+")"),J(">>"),J("endobj")},vf=f.__private__.putCatalog=function(N){var z=(N=N||{}).rootDictionaryObjId||Bc;switch(Fn(),J("<<"),J("/Type /Catalog"),J("/Pages "+z+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+se;oe.substr(oe.length-1)==="%"&&(se=parseInt(se)/100),typeof se=="number"&&J("/OpenAction [3 0 R /XYZ null null "+A(se)+"]")}switch(Ce||(Ce="continuous"),Ce){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Ne&&J("/PageMode /"+Ne),mr.publish("putCatalog"),J(">>"),J("endobj")},D2=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(B+1)),J("/Root "+B+" 0 R"),J("/Info "+(B-1)+" 0 R"),d!==null&&J("/Encrypt "+ms.oid+" 0 R"),J("/ID [ <"+re+"> <"+re+"> ]"),J(">>")},as=f.__private__.putHeader=function(){J("%PDF-"+v),J("%")},_y=f.__private__.putXRef=function(){var N="0000000000";J("xref"),J("0 "+(B+1)),J("0000000000 65535 f ");for(var z=1;z<=B;z++)typeof F[z]=="function"?J((N+F[z]()).slice(-10)+" 00000 n "):F[z]!==void 0?J((N+F[z]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Yo=f.__private__.buildDocument=function(){var N;B=0,ne=0,Q=[],F=[],le=[],Bc=Es(),to=Es(),Me(Q),mr.publish("buildDocument"),as(),Ho(),function(){mr.publish("putAdditionalObjects");for(var oe=0;oe<le.length;oe++){var de=le[oe];Is(de.objId,!0),J(de.content),J("endobj")}mr.publish("postPutAdditionalObjects")}(),N=[],function(){for(var oe in Ot)Ot.hasOwnProperty(oe)&&(h===!1||h===!0&&p.hasOwnProperty(oe))&&bd(Ot[oe])}(),function(){var oe;for(oe in At)At.hasOwnProperty(oe)&&M2(At[oe])}(),function(){for(var oe in Ft)Ft.hasOwnProperty(oe)&&pf(Ft[oe])}(),function(oe){var de;for(de in _t)_t.hasOwnProperty(de)&&(_t[de]instanceof Jd?mf(_t[de]):_t[de]instanceof hp&&gf(_t[de],oe))}(N),mr.publish("putResources"),N.forEach(eg),eg({resourcesOid:to,objectOid:Number.MAX_SAFE_INTEGER}),mr.publish("postPutResources"),d!==null&&(ms.oid=Fn(),J("<<"),J("/Filter /Standard"),J("/V "+ms.v),J("/R "+ms.r),J("/U <"+ms.toHexString(ms.U)+">"),J("/O <"+ms.toHexString(ms.O)+">"),J("/P "+ms.P),J(">>"),J("endobj")),Go(),vf();var z=ne;return _y(),D2(),J("startxref"),J(""+z),J("%%EOF"),Me(ue[_]),Q.join(`
`)},yf=f.__private__.getBlob=function(N){return new Blob([Ge(N)],{type:"application/pdf"})},Sy=f.output=f.__private__.output=(Hn=function(N,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",N){case void 0:return Yo();case"save":f.save(z.filename);break;case"arraybuffer":return Ge(Yo());case"blob":return yf(Yo());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(yf(Yo()))||void 0;an.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",de=Yo();try{oe=dI(de)}catch{oe=dI(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+z.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(we=z.pdfObjectUrl,Pe="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",ft=Ut.open();return ft!==null&&ft.document.write(Fe),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Vt=Ut.open();if(Vt!==null){Vt.document.write(St);var tr=this;Vt.document.documentElement.querySelector("#pdfViewer").onload=function(){Vt.document.title=z.filename,Vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tr.output("bloburl"))}}return Vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var _r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',An=Ut.open();if(An!==null&&(An.document.write(_r),An.document.title=z.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",z);default:return null}},Hn.foo=function(){try{return Hn.apply(this,arguments)}catch(oe){var N=oe.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var z="Error in function "+N.split(`
`)[0].split("<")[0]+": "+oe.message;if(!Ut.console)throw new Error(z);Ut.console.error(z,oe),Ut.alert&&alert(z)}},Hn.foo.bar=Hn,Hn.foo),Aa=function(N){return Array.isArray(Pt)===!0&&Pt.indexOf(N)>-1};switch(n){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=Aa("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);bt=n}var ms=null;ge(),W();var Ol=f.__private__.getPageInfo=f.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[N].objId,pageNumber:N,pageContext:pt[N]}},jy=f.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in pt)if(pt[z].objId===N)break;return Ol(z)},F2=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:pt[_].objId,pageNumber:_,pageContext:pt[_]}};f.addPage=function(){return yy.apply(this,arguments),this},f.setPage=function(){return xy.apply(this,arguments),Me.call(this,ue[_]),this},f.insertPage=function(N){return this.addPage(),this.movePage(_,N),this},f.movePage=function(N,z){var oe,de;if(N>z){oe=ue[N],de=pt[N];for(var we=N;we>z;we--)ue[we]=ue[we-1],pt[we]=pt[we-1];ue[z]=oe,pt[z]=de,this.setPage(z)}else if(N<z){oe=ue[N],de=pt[N];for(var Pe=N;Pe<z;Pe++)ue[Pe]=ue[Pe+1],pt[Pe]=pt[Pe+1];ue[z]=oe,pt[z]=de,this.setPage(z)}return this},f.deletePage=function(){return rg.apply(this,arguments),this},f.__private__.text=f.text=function(N,z,oe,de,we){var Pe,Fe,ft,St,Vt,tr,_r,An,os,ln=(de=de||{}).scope||this;if(typeof N=="number"&&typeof z=="number"&&(typeof oe=="string"||Array.isArray(oe))){var gs=oe;oe=z,z=N,N=gs}if(arguments[3]instanceof mt==0?(ft=arguments[4],St=arguments[5],Yr(_r=arguments[3])==="object"&&_r!==null||(typeof ft=="string"&&(St=ft,ft=null),typeof _r=="string"&&(St=_r,_r=null),typeof _r=="number"&&(ft=_r,_r=null),de={flags:_r,angle:ft,align:St})):(I("The transform parameter of text() with a Matrix value"),os=we),isNaN(z)||isNaN(oe)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return ln;var ls,Ms="",Bl=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:Sd,io=ln.internal.scaleFactor;function Ul($r){return $r=$r.split("	").join(Array(de.TabLen||9).join(" ")),Ea($r,_r)}function dg($r){for(var tn,Yn=$r.concat(),vs=[],Vl=Yn.length;Vl--;)typeof(tn=Yn.shift())=="string"?vs.push(tn):Array.isArray($r)&&(tn.length===1||tn[1]===void 0&&tn[2]===void 0)?vs.push(tn[0]):vs.push([tn[0],tn[1],tn[2]]);return vs}function _f($r,tn){var Yn;if(typeof $r=="string")Yn=tn($r)[0];else if(Array.isArray($r)){for(var vs,Vl,bg=$r.concat(),Nf=[],Iy=bg.length;Iy--;)typeof(vs=bg.shift())=="string"?Nf.push(tn(vs)[0]):Array.isArray(vs)&&typeof vs[0]=="string"&&(Vl=tn(vs[0],vs[1],vs[2]),Nf.push([Vl[0],Vl[1],Vl[2]]));Yn=Nf}return Yn}var Uc=!1,Cd=!0;if(typeof N=="string")Uc=!0;else if(Array.isArray(N)){var Ed=N.concat();Fe=[];for(var qc,Ds=Ed.length;Ds--;)(typeof(qc=Ed.shift())!="string"||Array.isArray(qc)&&typeof qc[0]!="string")&&(Cd=!1);Uc=Cd}if(Uc===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Ad=ve/ln.internal.scaleFactor,Pd=Ad*(Bl-1);switch(de.baseline){case"bottom":oe-=Pd;break;case"top":oe+=Ad-Pd;break;case"hanging":oe+=Ad-2*Pd;break;case"middle":oe+=Ad/2-Pd}if((tr=de.maxWidth||0)>0&&(typeof N=="string"?N=ln.splitTextToSize(N,tr):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function($r,tn){return $r.concat(ln.splitTextToSize(tn,tr))},[]))),Pe={text:N,x:z,y:oe,options:de,mutex:{pdfEscape:Ea,activeFontKey:Je,fonts:Ot,activeFontSize:ve}},mr.publish("preProcessText",Pe),N=Pe.text,ft=(de=Pe.options).angle,os instanceof mt==0&&ft&&typeof ft=="number"){ft*=Math.PI/180,de.rotationDirection===0&&(ft=-ft),k===S&&(ft=-ft);var hg=Math.cos(ft),fg=Math.sin(ft);os=new mt(hg,fg,-fg,hg,0,0)}else ft&&ft instanceof mt&&(os=ft);k!==S||os||(os=Ls),(Vt=de.charSpace||Ml)!==void 0&&(Ms+=D($(Vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=de.horizontalScale)!==void 0&&(Ms+=D(100*An)+` Tz
`),de.lang;var di=-1,ql=de.renderingMode!==void 0?de.renderingMode:de.stroke,Sf=ln.internal.getCurrentPageInfo().pageContext;switch(ql){case 0:case!1:case"fill":di=0;break;case 1:case!0:case"stroke":di=1;break;case 2:case"fillThenStroke":di=2;break;case 3:case"invisible":di=3;break;case 4:case"fillAndAddForClipping":di=4;break;case 5:case"strokeAndAddPathForClipping":di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":di=6;break;case 7:case"addToPathForClipping":di=7}var Oy=Sf.usedRenderingMode!==void 0?Sf.usedRenderingMode:-1;di!==-1?Ms+=di+` Tr
`:Oy!==-1&&(Ms+=`0 Tr
`),di!==-1&&(Sf.usedRenderingMode=di),St=de.align||"left";var Pa,Td=ve*Bl,pg=ln.internal.pageSize.getWidth(),mg=Ot[Je];Vt=de.charSpace||Ml,tr=de.maxWidth||0,_r=Object.assign({autoencode:!0,noBOM:!0},de.flags);var zc=[],Rd=function($r){return ln.getStringUnitWidth($r,{font:mg,charSpace:Vt,fontSize:ve,doKerning:!1})*ve/io};if(Object.prototype.toString.call(N)==="[object Array]"){var Yi;Fe=dg(N),St!=="left"&&(Pa=Fe.map(Rd));var Ki,Vc=0;if(St==="right"){z-=Pa[0],N=[],Ds=Fe.length;for(var zl=0;zl<Ds;zl++)zl===0?(Ki=Ll(z),Yi=Il(oe)):(Ki=$(Vc-Pa[zl]),Yi=-Td),N.push([Fe[zl],Ki,Yi]),Vc=Pa[zl]}else if(St==="center"){z-=Pa[0]/2,N=[],Ds=Fe.length;for(var Wc=0;Wc<Ds;Wc++)Wc===0?(Ki=Ll(z),Yi=Il(oe)):(Ki=$((Vc-Pa[Wc])/2),Yi=-Td),N.push([Fe[Wc],Ki,Yi]),Vc=Pa[Wc]}else if(St==="left"){N=[],Ds=Fe.length;for(var gg=0;gg<Ds;gg++)N.push(Fe[gg])}else if(St==="justify"&&mg.encoding==="Identity-H"){N=[],Ds=Fe.length,tr=tr!==0?tr:pg;for(var jf=0,Gn=0;Gn<Ds;Gn++)if(Yi=Gn===0?Il(oe):-Td,Ki=Gn===0?Ll(z):jf,Gn<Ds-1){var Ly=$((tr-Pa[Gn])/(Fe[Gn].split(" ").length-1)),Jo=Fe[Gn].split(" ");N.push([Jo[0]+" ",Ki,Yi]),jf=0;for(var Qo=1;Qo<Jo.length;Qo++){var vg=(Rd(Jo[Qo-1]+" "+Jo[Qo])-Rd(Jo[Qo]))*io+Ly;Qo==Jo.length-1?N.push([Jo[Qo],vg,0]):N.push([Jo[Qo]+" ",vg,0]),jf-=vg}}else N.push([Fe[Gn],Ki,Yi]);N.push(["",jf,0])}else{if(St!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Ds=Fe.length,tr=tr!==0?tr:pg,Gn=0;Gn<Ds;Gn++){Yi=Gn===0?Il(oe):-Td,Ki=Gn===0?Ll(z):0;var yg=Fe[Gn].split(" ").length-1,xg=yg>0?(tr-Pa[Gn])/yg:0;Gn<Ds-1?zc.push(D($(xg))):zc.push(0),N.push([Fe[Gn],Ki,Yi])}}}(typeof de.R2L=="boolean"?de.R2L:xe)===!0&&(N=_f(N,function($r,tn,Yn){return[$r.split("").reverse().join(""),tn,Yn]})),Pe={text:N,x:z,y:oe,options:de,mutex:{pdfEscape:Ea,activeFontKey:Je,fonts:Ot,activeFontSize:ve}},mr.publish("postProcessText",Pe),N=Pe.text,ls=Pe.mutex.isHex||!1;var wg=Ot[Je].encoding;wg!=="WinAnsiEncoding"&&wg!=="StandardEncoding"||(N=_f(N,function($r,tn,Yn){return[Ul($r),tn,Yn]})),Fe=dg(N),N=[];for(var Hc,Gc,Yc,Od=Array.isArray(Fe[0])?1:0,Kc="",Ld=function($r,tn,Yn){var vs="";return Yn instanceof mt?(Yn=typeof de.angle=="number"?Cs(Yn,new mt(1,0,0,1,$r,tn)):Cs(new mt(1,0,0,1,$r,tn),Yn),k===S&&(Yn=Cs(new mt(1,0,0,-1,0,0),Yn)),vs=Yn.join(" ")+` Tm
`):vs=D($r)+" "+D(tn)+` Td
`,vs},Ta=0;Ta<Fe.length;Ta++){switch(Kc="",Od){case 1:Yc=(ls?"<":"(")+Fe[Ta][0]+(ls?">":")"),Hc=parseFloat(Fe[Ta][1]),Gc=parseFloat(Fe[Ta][2]);break;case 0:Yc=(ls?"<":"(")+Fe[Ta]+(ls?">":")"),Hc=Ll(z),Gc=Il(oe)}zc!==void 0&&zc[Ta]!==void 0&&(Kc=zc[Ta]+` Tw
`),Ta===0?N.push(Kc+Ld(Hc,Gc,os)+Yc):Od===0?N.push(Kc+Yc):Od===1&&N.push(Kc+Ld(Hc,Gc,os)+Yc)}N=Od===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Zo=`BT
/`;return Zo+=Je+" "+ve+` Tf
`,Zo+=D(ve*Bl)+` TL
`,Zo+=jd+`
`,Zo+=Ms,Zo+=N,J(Zo+="ET"),p[Je]=!0,ln};var $2=f.__private__.clip=f.clip=function(N){return J(N==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return $2("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var Ko=f.__private__.isValidStyle=function(N){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(z=!0),z};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(N){return Ko(N)&&(u=N),this};var Ny=f.__private__.getStyle=f.getStyle=function(N){var z=u;switch(N){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=N}return z},ky=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(N){return xf("f",N),this},f.fillEvenOdd=function(N){return xf("f*",N),this},f.fillStroke=function(N){return xf("B",N),this},f.fillStrokeEvenOdd=function(N){return xf("B*",N),this};var xf=function(N,z){Yr(z)==="object"?U2(z,N):J(N)},_d=function(N){N===null||k===S&&N===void 0||(N=Ny(N),J(N))};function B2(N,z,oe,de,we){var Pe=new hp(z||this.boundingBox,oe||this.xStep,de||this.yStep,this.gState,we||this.matrix);Pe.stream=this.stream;var Fe=N+"$$"+this.cloneIndex+++"$$";return Sn(Fe,Pe),Pe}var U2=function(N,z){var oe=br[N.key],de=_t[oe];if(de instanceof Jd)J("q"),J(q2(z)),de.gState&&f.setGState(de.gState),J(N.matrix.toString()+" cm"),J("/"+oe+" sh"),J("Q");else if(de instanceof hp){var we=new mt(1,0,0,-1,0,kd());N.matrix&&(we=we.multiply(N.matrix||Ls),oe=B2.call(de,N.key,N.boundingBox,N.xStep,N.yStep,we).id),J("q"),J("/Pattern cs"),J("/"+oe+" scn"),de.gState&&f.setGState(de.gState),J(z),J("Q")}},q2=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ng=f.moveTo=function(N,z){return J(D($(N))+" "+D(q(z))+" m"),this},Cy=f.lineTo=function(N,z){return J(D($(N))+" "+D(q(z))+" l"),this},so=f.curveTo=function(N,z,oe,de,we,Pe){return J([D($(N)),D(q(z)),D($(oe)),D(q(de)),D($(we)),D(q(Pe)),"c"].join(" ")),this};f.__private__.line=f.line=function(N,z,oe,de,we){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||!Ko(we))throw new Error("Invalid arguments passed to jsPDF.line");return k===b?this.lines([[oe-N,de-z]],N,z,[1,1],we||"S"):this.lines([[oe-N,de-z]],N,z,[1,1]).stroke()},f.__private__.lines=f.lines=function(N,z,oe,de,we,Pe){var Fe,ft,St,Vt,tr,_r,An,os,ln,gs,ls,Ms;if(typeof N=="number"&&(Ms=oe,oe=z,z=N,N=Ms),de=de||[1,1],Pe=Pe||!1,isNaN(z)||isNaN(oe)||!Array.isArray(N)||!Array.isArray(de)||!Ko(we)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ng(z,oe),Fe=de[0],ft=de[1],Vt=N.length,gs=z,ls=oe,St=0;St<Vt;St++)(tr=N[St]).length===2?(gs=tr[0]*Fe+gs,ls=tr[1]*ft+ls,Cy(gs,ls)):(_r=tr[0]*Fe+gs,An=tr[1]*ft+ls,os=tr[2]*Fe+gs,ln=tr[3]*ft+ls,gs=tr[4]*Fe+gs,ls=tr[5]*ft+ls,so(_r,An,os,ln,gs,ls));return Pe&&ky(),_d(we),this},f.path=function(N){for(var z=0;z<N.length;z++){var oe=N[z],de=oe.c;switch(oe.op){case"m":ng(de[0],de[1]);break;case"l":Cy(de[0],de[1]);break;case"c":so.apply(this,de);break;case"h":ky()}}return this},f.__private__.rect=f.rect=function(N,z,oe,de,we){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||!Ko(we))throw new Error("Invalid arguments passed to jsPDF.rect");return k===b&&(de=-de),J([D($(N)),D(q(z)),D($(oe)),D($(de)),"re"].join(" ")),_d(we),this},f.__private__.triangle=f.triangle=function(N,z,oe,de,we,Pe,Fe){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||isNaN(we)||isNaN(Pe)||!Ko(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-N,de-z],[we-oe,Pe-de],[N-we,z-Pe]],N,z,[1,1],Fe,!0),this},f.__private__.roundedRect=f.roundedRect=function(N,z,oe,de,we,Pe,Fe){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||isNaN(we)||isNaN(Pe)||!Ko(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*oe),Pe=Math.min(Pe,.5*de),this.lines([[oe-2*we,0],[we*ft,0,we,Pe-Pe*ft,we,Pe],[0,de-2*Pe],[0,Pe*ft,-we*ft,Pe,-we,Pe],[2*we-oe,0],[-we*ft,0,-we,-Pe*ft,-we,-Pe],[0,2*Pe-de],[0,-Pe*ft,we*ft,-Pe,we,-Pe]],N+we,z,[1,1],Fe,!0),this},f.__private__.ellipse=f.ellipse=function(N,z,oe,de,we){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(de)||!Ko(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*oe,Fe=4/3*(Math.SQRT2-1)*de;return ng(N+oe,z),so(N+oe,z-Fe,N+Pe,z-de,N,z-de),so(N-Pe,z-de,N-oe,z-Fe,N-oe,z),so(N-oe,z+Fe,N-Pe,z+de,N,z+de),so(N+Pe,z+de,N+oe,z+Fe,N+oe,z),_d(we),this},f.__private__.circle=f.circle=function(N,z,oe,de){if(isNaN(N)||isNaN(z)||isNaN(oe)||!Ko(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,z,oe,oe,de)},f.setFont=function(N,z,oe){return oe&&(z=O(z,oe)),Je=by(N,z,{disableWarning:!1}),this};var z2=f.__private__.getFont=f.getFont=function(){return Ot[by.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var N,z,oe={};for(N in zt)if(zt.hasOwnProperty(N))for(z in oe[N]=[],zt[N])zt[N].hasOwnProperty(z)&&oe[N].push(z);return oe},f.addFont=function(N,z,oe,de,we){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(oe=O(oe,de)),vy.call(this,N,z,oe,we=we||"Identity-H")};var Sd,sg=e.lineWidth||.200025,V2=f.__private__.getLineWidth=f.getLineWidth=function(){return sg},Yt=f.__private__.setLineWidth=f.setLineWidth=function(N){return sg=N,J(D($(N))+" w"),this};f.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(N,z){if(N=N||[],z=z||0,isNaN(z)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(oe){return D($(oe))}).join(" "),z=D($(z)),J("["+N+"] "+z+" d"),this};var W2=f.__private__.getLineHeight=f.getLineHeight=function(){return ve*Sd};f.__private__.getLineHeight=f.getLineHeight=function(){return ve*Sd};var H2=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Sd=N),this},G2=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Sd};H2(e.lineHeight);var Ll=f.__private__.getHorizontalCoordinate=function(N){return $(N)},Il=f.__private__.getVerticalCoordinate=function(N){return k===S?N:pt[_].mediaBox.topRightY-pt[_].mediaBox.bottomLeftY-$(N)},Y2=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(N){return D(Ll(N))},K2=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(N){return D(Il(N))},wf=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Wo(wf)},f.__private__.setStrokeColor=f.setDrawColor=function(N,z,oe,de){return wf=ro({ch1:N,ch2:z,ch3:oe,ch4:de,pdfColorType:"draw",precision:2}),J(wf),this};var ig=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Wo(ig)},f.__private__.setFillColor=f.setFillColor=function(N,z,oe,de){return ig=ro({ch1:N,ch2:z,ch3:oe,ch4:de,pdfColorType:"fill",precision:2}),J(ig),this};var jd=e.textColor||"0 g",J2=f.__private__.getTextColor=f.getTextColor=function(){return Wo(jd)};f.__private__.setTextColor=f.setTextColor=function(N,z,oe,de){return jd=ro({ch1:N,ch2:z,ch3:oe,ch4:de,pdfColorType:"text",precision:3}),this};var Ml=e.charSpace,Q2=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ml||0)};f.__private__.setCharSpace=f.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ml=N,this};var ag=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(N){var z=f.CapJoinStyles[N];if(z===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ag=z,J(z+" J"),this};var og=0;f.__private__.setLineJoin=f.setLineJoin=function(N){var z=f.CapJoinStyles[N];if(z===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return og=z,J(z+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(D($(N))+" M"),this},f.GState=ab,f.setGState=function(N){(N=typeof N=="string"?At[Dt[N]]:Ey(null,N)).equals(Ur)||(J("/"+N.id+" gs"),Ur=N)};var Ey=function(N,z){if(!N||!Dt[N]){var oe=!1;for(var de in At)if(At.hasOwnProperty(de)&&At[de].equals(z)){oe=!0;break}if(oe)z=At[de];else{var we="GS"+(Object.keys(At).length+1).toString(10);At[we]=z,z.id=we}return N&&(Dt[N]=z.id),mr.publish("addGState",z),z}};f.addGState=function(N,z){return Ey(N,z),this},f.saveGraphicsState=function(){return J("q"),lr.push({key:Je,size:ve,color:jd}),this},f.restoreGraphicsState=function(){J("Q");var N=lr.pop();return Je=N.key,ve=N.size,jd=N.color,Ur=null,this},f.setCurrentTransformationMatrix=function(N){return J(N.toString()+" cm"),this},f.comment=function(N){return J("#"+N),this};var Dl=function(N,z){var oe=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Pe){isNaN(Pe)||(oe=parseFloat(Pe))}});var de=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Pe){isNaN(Pe)||(de=parseFloat(Pe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Pe){we=Pe.toString()}}),this},lg=function(N,z,oe,de){Dl.call(this,N,z),this.type="rect";var we=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Fe){isNaN(Fe)||(we=parseFloat(Fe))}});var Pe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Fe){isNaN(Fe)||(Pe=parseFloat(Fe))}}),this},bf=function(){this.page=Gt,this.currentPage=_,this.pages=ue.slice(0),this.pagesContext=pt.slice(0),this.x=rt,this.y=Fr,this.matrix=qt,this.width=ug(_),this.height=Py(_),this.outputDestination=_e,this.id="",this.objectNumber=-1};bf.prototype.restore=function(){Gt=this.page,_=this.currentPage,pt=this.pagesContext,ue=this.pages,rt=this.x,Fr=this.y,qt=this.matrix,Ay(_,this.width),Fl(_,this.height),_e=this.outputDestination};var cg=function(N,z,oe,de,we){Dn.push(new bf),Gt=_=0,ue=[],rt=N,Fr=z,qt=we,tg([oe,de])};for(var Nd in f.beginFormObject=function(N,z,oe,de,we){return cg(N,z,oe,de,we),this},f.endFormObject=function(N){return function(z){if(cr[z])Dn.pop().restore();else{var oe=new bf,de="Xo"+(Object.keys(Ft).length+1).toString(10);oe.id=de,cr[z]=de,Ft[de]=oe,mr.publish("addFormObject",oe),Dn.pop().restore()}}(N),this},f.doFormObject=function(N,z){var oe=Ft[cr[N]];return J("q"),J(z.toString()+" cm"),J("/"+oe.id+" Do"),J("Q"),this},f.getFormObject=function(N){var z=Ft[cr[N]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},f.save=function(N,z){return N=N||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Gd(yf(Yo()),N),typeof Gd.unload=="function"&&Ut.setTimeout&&setTimeout(Gd.unload,911),this):new Promise(function(oe,de){try{var we=Gd(yf(Yo()),N);typeof Gd.unload=="function"&&Ut.setTimeout&&setTimeout(Gd.unload,911),oe(we)}catch(Pe){de(Pe.message)}})},Et.API)Et.API.hasOwnProperty(Nd)&&(Nd==="events"&&Et.API.events.length?function(N,z){var oe,de,we;for(we=z.length-1;we!==-1;we--)oe=z[we][0],de=z[we][1],N.subscribe.apply(N,[oe].concat(typeof de=="function"?[de]:de))}(mr,Et.API.events):f[Nd]=Et.API[Nd]);function ug(N){return pt[N].mediaBox.topRightX-pt[N].mediaBox.bottomLeftX}function Ay(N,z){pt[N].mediaBox.topRightX=z+pt[N].mediaBox.bottomLeftX}function Py(N){return pt[N].mediaBox.topRightY-pt[N].mediaBox.bottomLeftY}function Fl(N,z){pt[N].mediaBox.topRightY=z+pt[N].mediaBox.bottomLeftY}var $l=f.getPageWidth=function(N){return ug(N=N||_)/bt},Ty=f.setPageWidth=function(N,z){Ay(N,z*bt)},kd=f.getPageHeight=function(N){return Py(N=N||_)/bt},Ry=f.setPageHeight=function(N,z){Fl(N,z*bt)};return f.internal={pdfEscape:Ea,getStyle:Ny,getFont:z2,getFontSize:ce,getCharSpace:Q2,getTextColor:J2,getLineHeight:W2,getLineHeightFactor:G2,getLineWidth:V2,write:De,getHorizontalCoordinate:Ll,getVerticalCoordinate:Il,getCoordinateString:Y2,getVerticalCoordinateString:K2,collections:{},newObject:Fn,newAdditionalObject:xd,newObjectDeferred:Es,newObjectDeferredBegin:Is,getFilters:no,putStream:Ca,events:mr,scaleFactor:bt,pageSize:{getWidth:function(){return $l(_)},setWidth:function(N){Ty(_,N)},getHeight:function(){return kd(_)},setHeight:function(N){Ry(_,N)}},encryptionOptions:d,encryption:ms,getEncryptor:function(N){return d!==null?ms.encryptor(N,0):function(z){return z}},output:Sy,getNumberOfPages:wy,get pages(){return ue},out:J,f2:A,f3:M,getPageInfo:Ol,getPageInfoByObjId:jy,getCurrentPageInfo:F2,getPDFVersion:m,Point:Dl,Rectangle:lg,Matrix:mt,hasHotfix:Aa},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return $l(_)},set:function(N){Ty(_,N)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return kd(_)},set:function(N){Ry(_,N)},enumerable:!0,configurable:!0}),(function(N){for(var z=0,oe=Ye.length;z<oe;z++){var de=vy.call(this,N[z][0],N[z][1],N[z][2],Ye[z][3],!0);h===!1&&(p[de]=!0);var we=N[z][0].split("-");gy({id:de,fontName:we[0],fontStyle:we[1]||""})}mr.publish("addFonts",{fonts:Ot,dictionary:zt})}).call(f,Ye),Je="F1",yy(s,r),mr.publish("initialized"),f}Kf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Kf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Kf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Kf.prototype.processOwnerPassword=function(e,t){return Nk(jk(t).substr(0,5),e)},Kf.prototype.encryptor=function(e,t){var r=jk(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Nk(r,n)}},ab.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Yr(e)!==Yr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Et.API={events:[]},Et.version="4.0.0";var qn=Et.API,YA=1,ff=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(e){return e.toFixed(2)},lu=function(e){return e.toFixed(5)};qn.__acroform__={};var Gi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},mI=function(e){return e*YA},tl=function(e){var t=new $W,r=ut.internal.getHeight(e)||0,n=ut.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Jt(n)),Number(Jt(r))],t},abe=qn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},obe=qn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},lbe=qn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},es=qn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lbe(e,t-1)},ts=qn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return abe(e,t-1)},rs=qn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return obe(e,t-1)},cbe=qn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+a)||0,c.upperRight_Y=n(i)||0,[Number(Jt(c.lowerLeft_X)),Number(Jt(c.lowerLeft_Y)),Number(Jt(c.upperRight_X)),Number(Jt(c.upperRight_Y))]},ube=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=kk(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Jt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=tl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},kk=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(A){return A.split(`
`)}):s.map(function(A){return[A]});var i=r,a=ut.internal.getHeight(e)||0;a=a<0?-a:a;var l=ut.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(A,M,$){if(A+1<s.length){var q=M+" "+s[A+1][0];return tx(q,e,$).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,h=tx("3",e,i).height,p=e.multiline?a-i:(a-h)/2,f=p+=2,v=0,m=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+tx(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var g="",b=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var k=!1;if(s[S].length!==1&&x!==s[S].length-1){if((h+2)*(b+2)+2>a)continue e;g+=s[S][x],k=!0,m=S,S--}else{g=(g+=s[S][x]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var T=parseInt(S),R=c(T,g,i),O=S>=s.length-1;if(R&&!O){g+=" ",x=0;continue}if(R||O){if(O)m=T;else if(e.multiline&&(h+2)*(b+2)+2>a)continue e}else{if(!e.multiline||(h+2)*(b+2)+2>a)continue e;m=T}}for(var D="",I=v;I<=m;I++){var G=s[I];if(e.multiline){if(I===m){D+=G[x]+" ",x=(x+1)%G.length;continue}if(I===v){D+=G[G.length-1]+" ";continue}}D+=G[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=tx(D,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Jt(u)+" "+Jt(f)+` Td
`,t+="("+ff(D)+`) Tj
`,t+=-Jt(u)+` 0 Td
`,f=-(i+2),d=0,v=k?m:m+1,b++,g=""}break}return n.text=t,n.fontSize=i,n},tx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},dbe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hbe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},fbe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(zo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(dbe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");YA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new BW,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&hbe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],c=[],u=l.Rect;if(l.Rect&&(l.Rect=cbe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ut.createDefaultAppearanceStream(l),Yr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=ube(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var f=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var v=f[a];typeof v=="function"&&(v=v.call(s,l)),h+="/"+a+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(s,l)),h+="/"+a+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&function(m,x){for(var g in m)if(m.hasOwnProperty(g)){var b=g,S=m[g];x.internal.newObjectDeferredBegin(S.objId,!0),Yr(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete m[b]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},FW=qn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Yr(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+ff(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_S=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+ff(n(e))+")"},ml=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ml.prototype.toString=function(){return this.objId+" 0 R"},ml.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ml.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:FW(s,this.objId,this.scope)}):s instanceof ml?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var $W=function(){ml.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Gi($W,ml);var BW=function(){ml.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ff(r(e))+")"}},set:function(r){e=r}})};Gi(BW,ml);var zo=function e(){ml.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!es(t,3)},set:function(g){g?this.F=ts(t,3):this.F=rs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof ob)return;i="FieldObject"+e.FieldNum++}var g=function(b){return b};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+ff(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/YA:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof ob||this instanceof Sh))return _S(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ts==0?_S(p,this.objId,this.scope):p},set:function(g){g=g.toString(),p=this instanceof Ts==0?g.substr(0,1)==="("?qf(g.substr(1,g.length-2)):qf(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ts==1?qf(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Ts==1?"/"+g:g}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ts==0?_S(f,this.objId,this.scope):f},set:function(g){g=g.toString(),f=this instanceof Ts==0?g.substr(0,1)==="("?qf(g.substr(1,g.length-2)):qf(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ts==1?qf(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof Ts==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,1)},set:function(g){g?this.Ff=ts(this.Ff,1):this.Ff=rs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,2)},set:function(g){g?this.Ff=ts(this.Ff,2):this.Ff=rs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,3)},set:function(g){g?this.Ff=ts(this.Ff,3):this.Ff=rs(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');x=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(x){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Gi(zo,ml);var Pp=function(){zo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return FW(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,l){l||(l=1);for(var c,u=[];c=a.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,18)},set:function(r){r?this.Ff=ts(this.Ff,18):this.Ff=rs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ts(this.Ff,19):this.Ff=rs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,20)},set:function(r){r?(this.Ff=ts(this.Ff,20),t.sort()):this.Ff=rs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,22)},set:function(r){r?this.Ff=ts(this.Ff,22):this.Ff=rs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,23)},set:function(r){r?this.Ff=ts(this.Ff,23):this.Ff=rs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,27)},set:function(r){r?this.Ff=ts(this.Ff,27):this.Ff=rs(this.Ff,27)}}),this.hasAppearanceStream=!1};Gi(Pp,zo);var Tp=function(){Pp.call(this),this.fontName="helvetica",this.combo=!1};Gi(Tp,Pp);var Rp=function(){Tp.call(this),this.combo=!0};Gi(Rp,Tp);var Fx=function(){Rp.call(this),this.edit=!0};Gi(Fx,Rp);var Ts=function(){zo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,15)},set:function(r){r?this.Ff=ts(this.Ff,15):this.Ff=rs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,16)},set:function(r){r?this.Ff=ts(this.Ff,16):this.Ff=rs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,17)},set:function(r){r?this.Ff=ts(this.Ff,17):this.Ff=rs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,26)},set:function(r){r?this.Ff=ts(this.Ff,26):this.Ff=rs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+ff(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Yr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Gi(Ts,zo);var $x=function(){Ts.call(this),this.pushButton=!0};Gi($x,Ts);var Op=function(){Ts.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Gi(Op,Ts);var ob=function(){var e,t;zo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+ff(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Yr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gi(ob,zo),Op.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Op.prototype.createOption=function(e){var t=new ob;return t.Parent=this,t.optionName=e,this.Kids.push(t),pbe.call(this.scope,t),t};var Bx=function(){Ts.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ut.CheckBox.createAppearanceStream()};Gi(Bx,Ts);var Sh=function(){zo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,13)},set:function(t){t?this.Ff=ts(this.Ff,13):this.Ff=rs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,21)},set:function(t){t?this.Ff=ts(this.Ff,21):this.Ff=rs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,23)},set:function(t){t?this.Ff=ts(this.Ff,23):this.Ff=rs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,24)},set:function(t){t?this.Ff=ts(this.Ff,24):this.Ff=rs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,25)},set:function(t){t?this.Ff=ts(this.Ff,25):this.Ff=rs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,26)},set:function(t){t?this.Ff=ts(this.Ff,26):this.Ff=rs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gi(Sh,zo);var Ux=function(){Sh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,14)},set:function(e){e?this.Ff=ts(this.Ff,14):this.Ff=rs(this.Ff,14)}}),this.password=!0};Gi(Ux,Sh);var ut={CheckBox:{createAppearanceStream:function(){return{N:{On:ut.CheckBox.YesNormal},D:{On:ut.CheckBox.YesPushDown,Off:ut.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=kk(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Jt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=ut.internal.getHeight(e),a=ut.internal.getWidth(e),l=kk(e,e.caption);return s.push("1 g"),s.push("0 0 "+Jt(a)+" "+Jt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Jt(a-1)+" "+Jt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Jt(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ut.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ut.RadioButton.Circle.YesNormal,t.D[e]=ut.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=ut.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+lu(ut.internal.getWidth(e)/2)+" "+lu(ut.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ut.internal.Bezier_C).toFixed(5)),a=Number((n*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+lu(ut.internal.getWidth(e)/2)+" "+lu(ut.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+lu(ut.internal.getWidth(e)/2)+" "+lu(ut.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+lu(ut.internal.getWidth(e)/2)+" "+lu(ut.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ut.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ut.RadioButton.Cross.YesNormal,t.D[e]=ut.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=ut.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Jt(ut.internal.getWidth(e)-2)+" "+Jt(ut.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(n.x1.x)+" "+Jt(n.x1.y)+" m"),r.push(Jt(n.x2.x)+" "+Jt(n.x2.y)+" l"),r.push(Jt(n.x4.x)+" "+Jt(n.x4.y)+" m"),r.push(Jt(n.x3.x)+" "+Jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=ut.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jt(ut.internal.getWidth(e)-2)+" "+Jt(ut.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),n.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),n.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),n.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(ut.internal.getWidth(e))+" "+Jt(ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ut.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ut.internal.getWidth(e),r=ut.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ut.internal.getWidth=function(e){var t=0;return Yr(e)==="object"&&(t=mI(e.Rect[2])),t},ut.internal.getHeight=function(e){var t=0;return Yr(e)==="object"&&(t=mI(e.Rect[3])),t};var pbe=qn.addField=function(e){if(fbe(this,e),!(e instanceof zo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};qn.AcroFormChoiceField=Pp,qn.AcroFormListBox=Tp,qn.AcroFormComboBox=Rp,qn.AcroFormEditBox=Fx,qn.AcroFormButton=Ts,qn.AcroFormPushButton=$x,qn.AcroFormRadioButton=Op,qn.AcroFormCheckBox=Bx,qn.AcroFormTextField=Sh,qn.AcroFormPasswordField=Ux,qn.AcroFormAppearance=ut,qn.AcroForm={ChoiceField:Pp,ListBox:Tp,ComboBox:Rp,EditBox:Fx,Button:Ts,PushButton:$x,RadioButton:Op,CheckBox:Bx,TextField:Sh,PasswordField:Ux,Appearance:ut},Et.AcroForm={ChoiceField:Pp,ListBox:Tp,ComboBox:Rp,EditBox:Fx,Button:Ts,PushButton:$x,RadioButton:Op,CheckBox:Bx,TextField:Sh,PasswordField:Ux,Appearance:ut};function UW(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(A,M){var $,q,ee,re,te,W=r;if((M=M||r)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(R(A))for(te in n)for(ee=n[te],$=0;$<ee.length;$+=1){for(re=!0,q=0;q<ee[$].length;q+=1)if(ee[$][q]!==void 0&&ee[$][q]!==A[q]){re=!1;break}if(re===!0){W=te;break}}else for(te in n)for(ee=n[te],$=0;$<ee.length;$+=1){for(re=!0,q=0;q<ee[$].length;q+=1)if(ee[$][q]!==void 0&&ee[$][q]!==A.charCodeAt(q)){re=!1;break}if(re===!0){W=te;break}}return W===r&&M!==r&&(W=M),W},i=function A(M){for(var $=this.internal.write,q=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:M.width}),re.push({key:"Height",value:M.height}),M.colorSpace===g.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===g.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var te="",W=0,Z=M.transparency.length;W<Z;W++)te+=M.transparency[W]+" "+M.transparency[W]+" ";re.push({key:"Mask",value:"["+te+"]"})}M.sMask!==void 0&&re.push({key:"SMask",value:M.objectId+1+" 0 R"});var pe=M.filter!==void 0?["/"+M.filter]:void 0;if(q({data:M.data,additionalKeyValues:re,alreadyAppliedFilters:pe,objectId:M.objectId}),$("endobj"),"sMask"in M&&M.sMask!==void 0){var ge,U=(ge=M.sMaskBitsPerComponent)!==null&&ge!==void 0?ge:M.bitsPerComponent,_={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:M.sMask};"filter"in M&&(_.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(M.width),_.filter=M.filter),A.call(this,_)}if(M.colorSpace===g.INDEXED){var C=this.internal.newObject();q({data:D(new Uint8Array(M.palette)),objectId:C}),$("endobj")}},a=function(){var A=this.internal.collections[t+"images"];for(var M in A)i.call(this,A[M])},l=function(){var A,M=this.internal.collections[t+"images"],$=this.internal.write;for(var q in M)$("/I"+(A=M[q]).index,A.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var A=this.internal.collections[t+"images"];return c.call(this),A},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(A){return typeof e["process"+A.toUpperCase()]=="function"},p=function(A){return Yr(A)==="object"&&A.nodeType===1},f=function(A,M){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var $=""+A.getAttribute("src");if($.indexOf("data:image/")===0)return Dx(unescape($).split("base64,").pop());var q=e.loadFile($,!0);if(q!==void 0)return q}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var ee;switch(M){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return Dx(A.toDataURL(ee,1).split("base64,").pop())}},v=function(A){var M=this.internal.collections[t+"images"];if(M){for(var $ in M)if(A===M[$].alias)return M[$]}},m=function(A,M,$){return A||M||(A=-96,M=-96),A<0&&(A=-1*$.width*72/A/this.internal.scaleFactor),M<0&&(M=-1*$.height*72/M/this.internal.scaleFactor),A===0&&(A=M*$.width/$.height),M===0&&(M=A*$.height/$.width),[A,M]},x=function(A,M,$,q,ee,re){var te=m.call(this,$,q,ee),W=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,pe=u.call(this);if($=te[0],q=te[1],pe[ee.index]=ee,re){re*=Math.PI/180;var ge=Math.cos(re),U=Math.sin(re),_=function(E){return E.toFixed(4)},C=[_(ge),_(U),_(-1*U),_(ge),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,W(A),Z(M+q),"cm"].join(" ")),this.internal.write(C.join(" ")),this.internal.write([W($),"0","0",W(q),"0","0","cm"].join(" "))):this.internal.write([W($),"0","0",W(q),W(A),Z(M+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(A){var M,$,q=0;if(typeof A=="string")for($=A.length,M=0;M<$;M++)q=(q<<5)-q+A.charCodeAt(M),q|=0;else if(R(A))for($=A.byteLength/2,M=0;M<$;M++)q=(q<<5)-q+A[M],q|=0;return q},k=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var M=!0;return A.length===0&&(M=!1),A.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(M=!1),M},T=e.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var M=A.indexOf(",");return M<0?null:A.substring(0,M).trim().endsWith("base64")?A.substring(M+1):null};e.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var R=e.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},O=e.__addimage__.binaryStringToUint8Array=function(A){for(var M=A.length,$=new Uint8Array(M),q=0;q<M;q++)$[q]=A.charCodeAt(q);return $},D=e.__addimage__.arrayBufferToBinaryString=function(A){for(var M="",$=R(A)?A:new Uint8Array(A),q=0;q<$.length;q+=8192)M+=String.fromCharCode.apply(null,$.subarray(q,q+8192));return M};e.addImage=function(){var A,M,$,q,ee,re,te,W,Z;if(typeof arguments[1]=="number"?(M=r,$=arguments[1],q=arguments[2],ee=arguments[3],re=arguments[4],te=arguments[5],W=arguments[6],Z=arguments[7]):(M=arguments[1],$=arguments[2],q=arguments[3],ee=arguments[4],re=arguments[5],te=arguments[6],W=arguments[7],Z=arguments[8]),Yr(A=arguments[0])==="object"&&!p(A)&&"imageData"in A){var pe=A;A=pe.imageData,M=pe.format||M||r,$=pe.x||$||0,q=pe.y||q||0,ee=pe.w||pe.width||ee,re=pe.h||pe.height||re,te=pe.alias||te,W=pe.compression||W,Z=pe.rotation||pe.angle||Z}var ge=this.internal.getFilters();if(W===void 0&&ge.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN($)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=I.call(this,A,M,te,W);return x.call(this,$,q,ee,re,U,Z),this};var I=function(A,M,$,q){var ee,re,te;if(typeof A=="string"&&s(A)===r){A=unescape(A);var W=G(A,!1);(W!==""||(W=e.loadFile(A,!0))!==void 0)&&(A=W)}if(p(A)&&(A=f(A,M)),M=s(A,M),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((te=$)==null||te.length===0)&&($=function(Z){return typeof Z=="string"||R(Z)?S(Z):R(Z.data)?S(Z.data):null}(A)),(ee=v.call(this,$))||(A instanceof Uint8Array||M==="RGBA"||(re=A,A=O(A)),ee=this["process"+M.toUpperCase()](A,d.call(this),$,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in e.image_compression?Z:b.NONE}(q),re)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},G=e.__addimage__.convertBase64ToBinaryString=function(A,M){M=typeof M!="boolean"||M;var $,q="";if(typeof A=="string"){var ee;$=(ee=T(A))!==null&&ee!==void 0?ee:A;try{q=Dx($)}catch(re){if(M)throw k($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(A){var M,$,q="";if(p(A)&&(A=f(A)),typeof A=="string"&&s(A)===r&&((q=G(A,!1))===""&&(q=e.loadFile(A)||""),A=q),$=s(A),!h($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(A instanceof Uint8Array||(A=O(A)),!(M=this["process"+$.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=$,M}})(Et.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Et.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(g(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(g(b))+") >>",m.content=i;var S=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(m.objId,"0 R",x.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var T=this.annotations._nameMap[n.options.name];n.options.pageNumber=T.page,n.options.top=T.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var R=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+R+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+i)},options:a,type:"link"})},e.textWithLink=function(r,n,s,i){var a,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;a=Math.ceil(u*d)}else l=c,a=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-u,l,a,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Et.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=e.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&s.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&i(m)&&t[m.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(m){var x=0,g=r,b="",S=0;for(x=0;x<m.length;x+=1)g[m.charCodeAt(x)]!==void 0?(S++,typeof(g=g[m.charCodeAt(x)])=="number"&&(b+=String.fromCharCode(g),g=r,S=0),x===m.length-1&&(g=r,b+=m.charAt(x-(S-1)),x-=S-1,S=0)):(g=r,b+=m.charAt(x-S),x-=S,S=0);return b};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(m,x,g){return a(m)?i(m)===!1?-1:!u(m)||!a(x)&&!a(g)||!a(g)&&l(x)||l(m)&&!a(x)||l(m)&&c(x)||l(m)&&l(x)?0:d(m)&&a(x)&&!l(x)&&a(g)&&u(g)?3:l(m)||!a(g)?1:2:-1},f=function(m){var x=0,g=0,b=0,S="",k="",T="",R=(m=m||"").split("\\s+"),O=[];for(x=0;x<R.length;x+=1){for(O.push(""),g=0;g<R[x].length;g+=1)S=R[x][g],k=R[x][g-1],T=R[x][g+1],a(S)?(b=p(S,k,T),O[x]+=b!==-1?String.fromCharCode(t[S.charCodeAt(0)][b]):S):O[x]+=S;O[x]=h(O[x])}return O.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var m,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(x)){var b=0;for(g=[],b=0;b<x.length;b+=1)Array.isArray(x[b])?g.push([f(x[b][0]),x[b][1],x[b][2]]):g.push([f(x[b])]);m=g}else m=f(x);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",v])}(Et.API),Et.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Et.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,f=0,v=0,m=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=u.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,k){return S.concat(x.splitTextToSize(k,g))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)f<(m=this.getStringUnitWidth(c[b],{font:h})*d)&&(f=m);return f!==0&&(v=c.length),{w:f/=p,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,v,m,x,g=[],b=[],S=[],k={},T={},R=[],O=[],D=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,G=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,A=p.margins||Object.assign({width:this.getPageWidth()},t),M=typeof p.padding=="number"?p.padding:3,$=p.headerBackgroundColor||"#c8c8c8",q=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=q,this.setFontSize(G),h==null)b=g=Object.keys(d[0]),S=g.map(function(){return"left"});else if(Array.isArray(h)&&Yr(h[0])==="object")for(g=h.map(function(pe){return pe.name}),b=h.map(function(pe){return pe.prompt||pe.name||""}),S=h.map(function(pe){return pe.align||"left"}),f=0;f<h.length;f+=1)T[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(b=g=h,S=g.map(function(){return"left"}));if(D||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<g.length;f+=1){for(k[x=g[f]]=d.map(function(pe){return pe[x]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(b[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=k[x],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)R.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[x]=Math.max.apply(null,R)+M+M,R=[]}if(I){var ee={};for(f=0;f<g.length;f+=1)ee[g[f]]={},ee[g[f]].text=b[f],ee[g[f]].align=S[f];var re=l.call(this,ee,T);O=g.map(function(pe){return new i(c,u,T[pe],re,ee[pe].text,void 0,ee[pe].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var te=h.reduce(function(pe,ge){return pe[ge.name]=ge.align,pe},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var W=l.call(this,d[f],T);for(m=0;m<g.length;m+=1){var Z=d[f][g[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:m,data:Z},this),a.call(this,new i(c,u,T[g[m]],W,Z,f+2,te[g[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(f){var v=c[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+d+d},this).reduce(function(f,v){return Math.max(f,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Et.API);var qW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ck=UW(zW),VW=[100,200,300,400,500,600,700,800,900],mbe=UW(VW);function SS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return qW[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof Ck[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function gI(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var gbe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},vI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yI(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function xI(e){return e.trimLeft()}function vbe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function ybe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var rx,wI,bI,zf,nx,_I,SI,jI,jS=["times"];function NI(e,t,r,n,s){var i=4,a=CI;switch(s){case Et.API.image_compression.FAST:i=1,a=kI;break;case Et.API.image_compression.MEDIUM:i=6,a=EI;break;case Et.API.image_compression.SLOW:i=9,a=AI}e=function(c,u,d,h){for(var p,f=c.length/u,v=new Uint8Array(c.length+f),m=[xbe,kI,CI,EI,AI],x=0;x<f;x+=1){var g=x*u,b=c.subarray(g,g+u);if(h)v.set(h(b,d,p),g+x);else{for(var S=m.length,k=[],T=0;T<S;T+=1)k[T]=m[T](b,d,p);var R=bbe(k.concat());v.set(k[R],g+x)}p=b}return v}(e,t,Math.ceil(r*n/8),a);var l=pk(e,{level:i});return Et.API.__addimage__.arrayBufferToBinaryString(l)}function xbe(e){var t=Array.apply([],e);return t.unshift(0),t}function kI(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function CI(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var a=r&&r[i]||0;s[i+1]=e[i]-a+256&255}return s}function EI(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var a=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(a+l>>>1)&255}return s}function AI(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var a=wbe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-a+256&255}return s}function wbe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function bbe(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function NS(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),a=(1<<r)-1;return WW(e,s)>>i&a}function PI(e,t,r,n){var s=r*n,i=Math.floor(s/8),a=16-(s-8*i+n),l=(1<<n)-1,c=(t&l)<<a;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var p=h>>8&255;u.setUint8(d,p)}})(e,i,WW(e,i)&~(l<<a)&65535|c)}function WW(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function _be(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<1+(7&s);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=a,t+=3*a);var u=!0,d=[],h=0,p=null,f=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&m||(p=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,k=e[t++],T=k>>6&1,R=1<<1+(7&k),O=l,D=c,I=!1;k>>7&&(I=!0,O=t,D=R,t+=3*R);var G=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}d.push({x,y:g,width:b,height:S,has_local_palette:I,palette_offset:O,palette_size:D,data_offset:G,data_length:t-G,transparent_index:p,interlaced:!!T,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=d.length)throw new Error("Frame index out of range.");return d[M]},this.decodeAndBlitFrameBGRA=function(M,$){var q=this.frameInfo(M),ee=q.width*q.height,re=new Uint8Array(ee);TI(e,q.data_offset,re,ee);var te=q.palette_offset,W=q.transparent_index;W===null&&(W=256);var Z=q.width,pe=r-Z,ge=Z,U=4*(q.y*r+q.x),_=4*((q.y+q.height)*r+q.x),C=U,E=4*pe;q.interlaced===!0&&(E+=4*r*7);for(var B=8,F=0,Q=re.length;F<Q;++F){var ne=re[F];if(ge===0&&(ge=Z,(C+=E)>=_&&(E=4*pe+4*r*(B-1),C=U+(Z+pe)*(B<<1),B>>=1)),ne===W)C+=4;else{var le=e[te+3*ne],ue=e[te+3*ne+1],fe=e[te+3*ne+2];$[C++]=fe,$[C++]=ue,$[C++]=le,$[C++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(M,$){var q=this.frameInfo(M),ee=q.width*q.height,re=new Uint8Array(ee);TI(e,q.data_offset,re,ee);var te=q.palette_offset,W=q.transparent_index;W===null&&(W=256);var Z=q.width,pe=r-Z,ge=Z,U=4*(q.y*r+q.x),_=4*((q.y+q.height)*r+q.x),C=U,E=4*pe;q.interlaced===!0&&(E+=4*r*7);for(var B=8,F=0,Q=re.length;F<Q;++F){var ne=re[F];if(ge===0&&(ge=Z,(C+=E)>=_&&(E=4*pe+4*r*(B-1),C=U+(Z+pe)*(B<<1),B>>=1)),ne===W)C+=4;else{var le=e[te+3*ne],ue=e[te+3*ne+1],fe=e[te+3*ne+2];$[C++]=le,$[C++]=ue,$[C++]=fe,$[C++]=255}--ge}}}function TI(e,t,r,n){for(var s=e[t++],i=1<<s,a=i+1,l=a+1,c=s+1,u=(1<<c)-1,d=0,h=0,p=0,f=e[t++],v=new Int32Array(4096),m=null;;){for(;d<16&&f!==0;)h|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<c)break;var x=h&u;if(h>>=c,d-=c,x!==i){if(x===a)break;for(var g=x<l?x:m,b=0,S=g;S>i;)S=v[S]>>8,++b;var k=S;if(p+b+(g!==x?1:0)>n)return void an.log("Warning, gif stream longer than expected.");r[p++]=k;var T=p+=b;for(g!==x&&(r[p++]=k),S=g;b--;)S=v[S],r[--T]=255&S,S>>=8;m!==null&&l<4096&&(v[l++]=m<<8|k,l>=u+1&&c<12&&(++c,u=u<<1|1)),m=x}else l=a+1,u=(1<<(c=s+1))-1,m=null}return p!==n&&an.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function kS(e){var t,r,n,s,i,a=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),v=new Array(64),m=[],x=0,g=7,b=new Array(64),S=new Array(64),k=new Array(64),T=new Array(256),R=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(U,_){for(var C=0,E=0,B=new Array,F=1;F<=16;F++){for(var Q=1;Q<=U[F];Q++)B[_[E]]=[],B[_[E]][0]=C,B[_[E]][1]=F,E++,C++;C*=2}return B}function te(U){for(var _=U[0],C=U[1]-1;C>=0;)_&1<<C&&(x|=1<<g),C--,--g<0&&(x==255?(W(255),W(0)):W(x),g=7,x=0)}function W(U){m.push(U)}function Z(U){W(U>>8&255),W(255&U)}function pe(U,_,C,E,B){for(var F,Q=B[0],ne=B[240],le=function(ve,se){var ce,xe,Ne,Oe,Ce,Le,et,at,Je,bt,rt=0;for(Je=0;Je<8;++Je){ce=ve[rt],xe=ve[rt+1],Ne=ve[rt+2],Oe=ve[rt+3],Ce=ve[rt+4],Le=ve[rt+5],et=ve[rt+6];var Fr=ce+(at=ve[rt+7]),qt=ce-at,Ot=xe+et,zt=xe-et,lr=Ne+Le,_t=Ne-Le,br=Oe+Ce,At=Oe-Ce,Dt=Fr+br,Ur=Fr-br,Gt=Ot+lr,pt=Ot-lr;ve[rt]=Dt+Gt,ve[rt+4]=Dt-Gt;var mr=.707106781*(pt+Ur);ve[rt+2]=Ur+mr,ve[rt+6]=Ur-mr;var Pt=.382683433*((Dt=At+_t)-(pt=zt+qt)),Ft=.5411961*Dt+Pt,cr=1.306562965*pt+Pt,Dn=.707106781*(Gt=_t+zt),mt=qt+Dn,Cs=qt-Dn;ve[rt+5]=Cs+Ft,ve[rt+3]=Cs-Ft,ve[rt+1]=mt+cr,ve[rt+7]=mt-cr,rt+=8}for(rt=0,Je=0;Je<8;++Je){ce=ve[rt],xe=ve[rt+8],Ne=ve[rt+16],Oe=ve[rt+24],Ce=ve[rt+32],Le=ve[rt+40],et=ve[rt+48];var Ls=ce+(at=ve[rt+56]),Sn=ce-at,Hn=xe+et,Fn=xe-et,Es=Ne+Le,Is=Ne-Le,xd=Oe+Ce,Bc=Oe-Ce,to=Ls+xd,Wo=Ls-xd,ro=Hn+Es,no=Hn-Es;ve[rt]=to+ro,ve[rt+32]=to-ro;var Ca=.707106781*(no+Wo);ve[rt+16]=Wo+Ca,ve[rt+48]=Wo-Ca;var wd=.382683433*((to=Bc+Is)-(no=Fn+Sn)),Ho=.5411961*to+wd,bd=1.306562965*no+wd,pf=.707106781*(ro=Is+Fn),mf=Sn+pf,gf=Sn-pf;ve[rt+40]=gf+Ho,ve[rt+24]=gf-Ho,ve[rt+8]=mf+bd,ve[rt+56]=mf-bd,rt++}for(Je=0;Je<64;++Je)bt=ve[Je]*se[Je],f[Je]=bt>0?bt+.5|0:bt-.5|0;return f}(U,_),ue=0;ue<64;++ue)v[O[ue]]=le[ue];var fe=v[0]-C;C=v[0],fe==0?te(E[0]):(te(E[p[F=32767+fe]]),te(h[F]));for(var _e=63;_e>0&&v[_e]==0;)_e--;if(_e==0)return te(Q),C;for(var Me,J=1;J<=_e;){for(var De=J;v[J]==0&&J<=_e;)++J;var Ge=J-De;if(Ge>=16){Me=Ge>>4;for(var Ye=1;Ye<=Me;++Ye)te(ne);Ge&=15}F=32767+v[J],te(B[(Ge<<4)+p[F]]),te(h[F]),J++}return _e!=63&&te(Q),C}function ge(U){U=Math.min(Math.max(U,1),100),i!=U&&(function(_){for(var C=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],E=0;E<64;E++){var B=a((C[E]*_+50)/100);B=Math.min(Math.max(B,1),255),l[O[E]]=B}for(var F=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Q=0;Q<64;Q++){var ne=a((F[Q]*_+50)/100);ne=Math.min(Math.max(ne,1),255),c[O[Q]]=ne}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ue=0,fe=0;fe<8;fe++)for(var _e=0;_e<8;_e++)u[ue]=1/(l[O[ue]]*le[fe]*le[_e]*8),d[ue]=1/(c[O[ue]]*le[fe]*le[_e]*8),ue++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,_){_&&ge(_),m=new Array,x=0,g=7,Z(65496),Z(65504),Z(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),Z(1),Z(1),W(0),W(0),function(){Z(65499),Z(132),W(0);for(var xe=0;xe<64;xe++)W(l[xe]);W(1);for(var Ne=0;Ne<64;Ne++)W(c[Ne])}(),function(xe,Ne){Z(65472),Z(17),W(8),Z(Ne),Z(xe),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(U.width,U.height),function(){Z(65476),Z(418),W(0);for(var xe=0;xe<16;xe++)W(D[xe+1]);for(var Ne=0;Ne<=11;Ne++)W(I[Ne]);W(16);for(var Oe=0;Oe<16;Oe++)W(G[Oe+1]);for(var Ce=0;Ce<=161;Ce++)W(A[Ce]);W(1);for(var Le=0;Le<16;Le++)W(M[Le+1]);for(var et=0;et<=11;et++)W($[et]);W(17);for(var at=0;at<16;at++)W(q[at+1]);for(var Je=0;Je<=161;Je++)W(ee[Je])}(),Z(65498),Z(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var C=0,E=0,B=0;x=0,g=7,this.encode.displayName="_encode_";for(var F,Q,ne,le,ue,fe,_e,Me,J,De=U.data,Ge=U.width,Ye=U.height,ve=4*Ge,se=0;se<Ye;){for(F=0;F<ve;){for(ue=ve*se+F,_e=-1,Me=0,J=0;J<64;J++)fe=ue+(Me=J>>3)*ve+(_e=4*(7&J)),se+Me>=Ye&&(fe-=ve*(se+1+Me-Ye)),F+_e>=ve&&(fe-=F+_e-ve+4),Q=De[fe++],ne=De[fe++],le=De[fe++],b[J]=(R[Q]+R[ne+256|0]+R[le+512|0]>>16)-128,S[J]=(R[Q+768|0]+R[ne+1024|0]+R[le+1280|0]>>16)-128,k[J]=(R[Q+1280|0]+R[ne+1536|0]+R[le+1792|0]>>16)-128;C=pe(b,u,C,t,n),E=pe(S,d,E,r,s),B=pe(k,d,B,r,s),F+=32}se+=8}if(g>=0){var ce=[];ce[1]=g+1,ce[0]=(1<<g+1)-1,te(ce)}return Z(65497),new Uint8Array(m)},e=e||50,function(){for(var U=String.fromCharCode,_=0;_<256;_++)T[_]=U(_)}(),t=re(D,I),r=re(M,$),n=re(G,A),s=re(q,ee),function(){for(var U=1,_=2,C=1;C<=15;C++){for(var E=U;E<_;E++)p[32767+E]=C,h[32767+E]=[],h[32767+E][1]=C,h[32767+E][0]=E;for(var B=-(_-1);B<=-U;B++)p[32767+B]=C,h[32767+B]=[],h[32767+B][1]=C,h[32767+B][0]=_-1+B;U<<=1,_<<=1}}(),function(){for(var U=0;U<256;U++)R[U]=19595*U,R[U+256|0]=38470*U,R[U+512|0]=7471*U+32768,R[U+768|0]=-11059*U,R[U+1024|0]=-21709*U,R[U+1280|0]=32768*U+8421375,R[U+1536|0]=-27439*U,R[U+1792|0]=-5329*U}(),ge(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function RI(e){function t(I){if(!I)throw Error("assert :P")}function r(I,G,A){for(var M=0;4>M;M++)if(I[G+M]!=A.charCodeAt(M))return!0;return!1}function n(I,G,A,M,$){for(var q=0;q<$;q++)I[G+q]=A[M+q]}function s(I,G,A,M){for(var $=0;$<M;$++)I[G+$]=A}function i(I){return new Int32Array(I)}function a(I,G){for(var A=[],M=0;M<I;M++)A.push(new G);return A}function l(I,G){var A=[];return function M($,q,ee){for(var re=ee[q],te=0;te<re&&($.push(ee.length>q+1?[]:new G),!(ee.length<q+1));te++)M($[te],q+1,ee)}(A,0,I),A}var c=function(){var I=this;function G(y,j){for(var P=1<<j-1>>>0;y&P;)P>>>=1;return P?(y&P-1)+P:y}function A(y,j,P,L,V){t(!(L%P));do y[j+(L-=P)]=V;while(0<L)}function M(y,j,P,L,V){if(t(2328>=V),512>=V)var H=i(512);else if((H=i(V))==null)return 0;return function(Y,K,X,ie,me,je){var ae,ye,be=K,Ee=1<<X,Se=i(16),Ae=i(16);for(t(me!=0),t(ie!=null),t(Y!=null),t(0<X),ye=0;ye<me;++ye){if(15<ie[ye])return 0;++Se[ie[ye]]}if(Se[0]==me)return 0;for(Ae[1]=0,ae=1;15>ae;++ae){if(Se[ae]>1<<ae)return 0;Ae[ae+1]=Ae[ae]+Se[ae]}for(ye=0;ye<me;++ye)ae=ie[ye],0<ie[ye]&&(je[Ae[ae]++]=ye);if(Ae[15]==1)return(ie=new $).g=0,ie.value=je[0],A(Y,be,1,Ee,ie),Ee;var Te,Ue=-1,$e=Ee-1,Nt=0,ct=1,rr=1,vt=1<<X;for(ye=0,ae=1,me=2;ae<=X;++ae,me<<=1){if(ct+=rr<<=1,0>(rr-=Se[ae]))return 0;for(;0<Se[ae];--Se[ae])(ie=new $).g=ae,ie.value=je[ye++],A(Y,be+Nt,me,vt,ie),Nt=G(Nt,ae)}for(ae=X+1,me=2;15>=ae;++ae,me<<=1){if(ct+=rr<<=1,0>(rr-=Se[ae]))return 0;for(;0<Se[ae];--Se[ae]){if(ie=new $,(Nt&$e)!=Ue){for(be+=vt,Te=1<<(Ue=ae)-X;15>Ue&&!(0>=(Te-=Se[Ue]));)++Ue,Te<<=1;Ee+=vt=1<<(Te=Ue-X),Y[K+(Ue=Nt&$e)].g=Te+X,Y[K+Ue].value=be-K-Ue}ie.g=ae-X,ie.value=je[ye++],A(Y,be+(Nt>>X),me,vt,ie),Nt=G(Nt,ae)}}return ct!=2*Ae[15]-1?0:Ee}(y,j,P,L,V,H)}function $(){this.value=this.g=0}function q(){this.value=this.g=0}function ee(){this.G=a(5,$),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Rd,q)}function re(y,j,P,L){t(y!=null),t(j!=null),t(2147483648>L),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=j,y.pa=P,y.Jd=j,y.Yc=P+L,y.Zc=4<=L?P+L-4+1:P,Q(y)}function te(y,j){for(var P=0;0<j--;)P|=le(y,128)<<j;return P}function W(y,j){var P=te(y,j);return ne(y)?-P:P}function Z(y,j,P,L){var V,H=0;for(t(y!=null),t(j!=null),t(4294967288>L),y.Sb=L,y.Ra=0,y.u=0,y.h=0,4<L&&(L=4),V=0;V<L;++V)H+=j[P+V]<<8*V;y.Ra=H,y.bb=L,y.oa=j,y.pa=P}function pe(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Vc-8>>>0,++y.bb,y.u-=8;E(y)&&(y.h=1,y.u=0)}function ge(y,j){if(t(0<=j),!y.h&&j<=Ki){var P=C(y)&Yi[j];return y.u+=j,pe(y),P}return y.h=1,y.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function C(y){return y.Ra>>>(y.u&Vc-1)>>>0}function E(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Vc}function B(y,j){y.u=j,y.h=E(y)}function F(y){y.u>=zl&&(t(y.u>=zl),pe(y))}function Q(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ne(y){return te(y,1)}function le(y,j){var P=y.Ca;0>y.b&&Q(y);var L=y.b,V=P*j>>>8,H=(y.I>>>L>V)+0;for(H?(P-=V,y.I-=V+1<<L>>>0):P=V+1,L=P,V=0;256<=L;)V+=8,L>>=8;return L=7^V+Wc[L],y.b-=L,y.Ca=(P<<L)-1,H}function ue(y,j,P){y[j+0]=P>>24&255,y[j+1]=P>>16&255,y[j+2]=P>>8&255,y[j+3]=255&P}function fe(y,j){return y[j+0]|y[j+1]<<8}function _e(y,j){return fe(y,j)|y[j+2]<<16}function Me(y,j){return fe(y,j)|fe(y,j+2)<<16}function J(y,j){var P=1<<j;return t(y!=null),t(0<j),y.X=i(P),y.X==null?0:(y.Mb=32-j,y.Xa=j,1)}function De(y,j){t(y!=null),t(j!=null),t(y.Xa==j.Xa),n(j.X,0,y.X,0,1<<j.Xa)}function Ge(){this.X=[],this.Xa=this.Mb=0}function Ye(y,j,P,L){t(P!=null),t(L!=null);var V=P[0],H=L[0];return V==0&&(V=(y*H+j/2)/j),H==0&&(H=(j*V+y/2)/y),0>=V||0>=H?0:(P[0]=V,L[0]=H,1)}function ve(y,j){return y+(1<<j)-1>>>j}function se(y,j){return((4278255360&y)+(4278255360&j)>>>0&4278255360)+((16711935&y)+(16711935&j)>>>0&16711935)>>>0}function ce(y,j){I[j]=function(P,L,V,H,Y,K,X){var ie;for(ie=0;ie<Y;++ie){var me=I[y](K[X+ie-1],V,H+ie);K[X+ie]=se(P[L+ie],me)}}}function xe(){this.ud=this.hd=this.jd=0}function Ne(y,j){return((4278124286&(y^j))>>>1)+(y&j)>>>0}function Oe(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Ce(y,j){return Oe(y+(y-j+.5>>1))}function Le(y,j,P){return Math.abs(j-P)-Math.abs(y-P)}function et(y,j,P,L,V,H,Y){for(L=H[Y-1],P=0;P<V;++P)H[Y+P]=L=se(y[j+P],L)}function at(y,j,P,L,V){var H;for(H=0;H<P;++H){var Y=y[j+H],K=Y>>8&255,X=16711935&(X=(X=16711935&Y)+((K<<16)+K));L[V+H]=(4278255360&Y)+X>>>0}}function Je(y,j){j.jd=255&y,j.hd=y>>8&255,j.ud=y>>16&255}function bt(y,j,P,L,V,H){var Y;for(Y=0;Y<L;++Y){var K=j[P+Y],X=K>>>8,ie=K,me=255&(me=(me=K>>>16)+((y.jd<<24>>24)*(X<<24>>24)>>>5));ie=255&(ie=(ie+=(y.hd<<24>>24)*(X<<24>>24)>>>5)+((y.ud<<24>>24)*(me<<24>>24)>>>5)),V[H+Y]=(4278255360&K)+(me<<16)+ie}}function rt(y,j,P,L,V){I[j]=function(H,Y,K,X,ie,me,je,ae,ye){for(X=je;X<ae;++X)for(je=0;je<ye;++je)ie[me++]=V(K[L(H[Y++])])},I[y]=function(H,Y,K,X,ie,me,je){var ae=8>>H.b,ye=H.Ea,be=H.K[0],Ee=H.w;if(8>ae)for(H=(1<<H.b)-1,Ee=(1<<ae)-1;Y<K;++Y){var Se,Ae=0;for(Se=0;Se<ye;++Se)Se&H||(Ae=L(X[ie++])),me[je++]=V(be[Ae&Ee]),Ae>>=ae}else I["VP8LMapColor"+P](X,ie,be,Ee,me,je,Y,K,ye)}}function Fr(y,j,P,L,V){for(P=j+P;j<P;){var H=y[j++];L[V++]=H>>16&255,L[V++]=H>>8&255,L[V++]=255&H}}function qt(y,j,P,L,V){for(P=j+P;j<P;){var H=y[j++];L[V++]=H>>16&255,L[V++]=H>>8&255,L[V++]=255&H,L[V++]=H>>24&255}}function Ot(y,j,P,L,V){for(P=j+P;j<P;){var H=(Y=y[j++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;L[V++]=H,L[V++]=Y}}function zt(y,j,P,L,V){for(P=j+P;j<P;){var H=(Y=y[j++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;L[V++]=H,L[V++]=Y}}function lr(y,j,P,L,V){for(P=j+P;j<P;){var H=y[j++];L[V++]=255&H,L[V++]=H>>8&255,L[V++]=H>>16&255}}function _t(y,j,P,L,V,H){if(H==0)for(P=j+P;j<P;)ue(L,((H=y[j++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),V+=32;else n(L,V,y,j,P)}function br(y,j){I[j][0]=I[y+"0"],I[j][1]=I[y+"1"],I[j][2]=I[y+"2"],I[j][3]=I[y+"3"],I[j][4]=I[y+"4"],I[j][5]=I[y+"5"],I[j][6]=I[y+"6"],I[j][7]=I[y+"7"],I[j][8]=I[y+"8"],I[j][9]=I[y+"9"],I[j][10]=I[y+"10"],I[j][11]=I[y+"11"],I[j][12]=I[y+"12"],I[j][13]=I[y+"13"],I[j][14]=I[y+"0"],I[j][15]=I[y+"0"]}function At(y){return y==e_||y==t_||y==Uy||y==r_}function Dt(){this.eb=[],this.size=this.A=this.fb=0}function Ur(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Dt,this.f.kb=new Ur,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function mr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Pt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Ft(y,j){var P=y.T,L=j.ba.f.RGBA,V=L.eb,H=L.fb+y.ka*L.A,Y=Oa[j.ba.S],K=y.y,X=y.O,ie=y.f,me=y.N,je=y.ea,ae=y.W,ye=j.cc,be=j.dc,Ee=j.Mc,Se=j.Nc,Ae=y.ka,Te=y.ka+y.T,Ue=y.U,$e=Ue+1>>1;for(Ae==0?Y(K,X,null,null,ie,me,je,ae,ie,me,je,ae,V,H,null,null,Ue):(Y(j.ec,j.fc,K,X,ye,be,Ee,Se,ie,me,je,ae,V,H-L.A,V,H,Ue),++P);Ae+2<Te;Ae+=2)ye=ie,be=me,Ee=je,Se=ae,me+=y.Rc,ae+=y.Rc,H+=2*L.A,Y(K,(X+=2*y.fa)-y.fa,K,X,ye,be,Ee,Se,ie,me,je,ae,V,H-L.A,V,H,Ue);return X+=y.fa,y.j+Te<y.o?(n(j.ec,j.fc,K,X,Ue),n(j.cc,j.dc,ie,me,$e),n(j.Mc,j.Nc,je,ae,$e),P--):1&Te||Y(K,X,null,null,ie,me,je,ae,ie,me,je,ae,V,H+L.A,null,null,Ue),P}function cr(y,j,P){var L=y.F,V=[y.J];if(L!=null){var H=y.U,Y=j.ba.S,K=Y==By||Y==Uy;j=j.ba.f.RGBA;var X=[0],ie=y.ka;X[0]=y.T,y.Kb&&(ie==0?--X[0]:(--ie,V[0]-=y.width),y.j+y.ka+y.T==y.o&&(X[0]=y.o-y.j-ie));var me=j.eb;ie=j.fb+ie*j.A,y=r4(L,V[0],y.width,H,X,me,ie+(K?0:3),j.A),t(P==X),y&&At(Y)&&_g(me,ie,K,H,X,j.A)}return 0}function Dn(y){var j=y.ma,P=j.ba.S,L=11>P,V=P==Fy||P==$y||P==By||P==X2||P==12||At(P);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!pg(j.Oa,y,V?11:12))return 0;if(V&&At(P)&&dg(),y.da)alert("todo:use_scaling");else{if(L){if(j.Ib=Pt,y.Kb){if(P=y.U+1>>1,j.memory=i(y.U+2*P),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+y.U,j.Mc=j.cc,j.Nc=j.dc+P,j.Ib=Ft,dg()}}else alert("todo:EmitYUV");V&&(j.Jb=cr,L&&io())}if(L&&!x4){for(y=0;256>y;++y)CH[y]=89858*(y-128)+zy>>qy,PH[y]=-22014*(y-128)+zy,AH[y]=-45773*(y-128),EH[y]=113618*(y-128)+zy>>qy;for(y=jg;y<i_;++y)j=76283*(y-16)+zy>>qy,TH[y-jg]=Go(j,255),RH[y-jg]=Go(j+8>>4,15);x4=1}return 1}function mt(y){var j=y.ma,P=y.U,L=y.T;return t(!(1&y.ka)),0>=P||0>=L?0:(P=j.Ib(y,j),j.Jb!=null&&j.Jb(y,j,P),j.Dc+=P,1)}function Cs(y){y.ma.memory=null}function Ls(y,j,P,L){return ge(y,8)!=47?0:(j[0]=ge(y,14)+1,P[0]=ge(y,14)+1,L[0]=ge(y,1),ge(y,3)!=0?0:!y.h)}function Sn(y,j){if(4>y)return y+1;var P=y-2>>1;return(2+(1&y)<<P)+ge(j,P)+1}function Hn(y,j){return 120<j?j-120:1<=(P=((P=fH[j-1])>>4)*y+(8-(15&P)))?P:1;var P}function Fn(y,j,P){var L=C(P),V=y[j+=255&L].g-8;return 0<V&&(B(P,P.u+8),L=C(P),j+=y[j].value,j+=L&(1<<V)-1),B(P,P.u+y[j].g),y[j].value}function Es(y,j,P){return P.g+=y.g,P.value+=y.value<<j>>>0,t(8>=P.g),y.g}function Is(y,j,P){var L=y.xc;return t((j=L==0?0:y.vc[y.md*(P>>L)+(j>>L)])<y.Wb),y.Ya[j]}function xd(y,j,P,L){var V=y.ab,H=y.c*j,Y=y.C;j=Y+j;var K=P,X=L;for(L=y.Ta,P=y.Ua;0<V--;){var ie=y.gc[V],me=Y,je=j,ae=K,ye=X,be=(X=L,K=P,ie.Ea);switch(t(me<je),t(je<=ie.nc),ie.hc){case 2:Gn(ae,ye,(je-me)*be,X,K);break;case 0:var Ee=me,Se=je,Ae=X,Te=K,Ue=(vt=ie).Ea;Ee==0&&(gg(ae,ye,null,null,1,Ae,Te),et(ae,ye+1,0,0,Ue-1,Ae,Te+1),ye+=Ue,Te+=Ue,++Ee);for(var $e=1<<vt.b,Nt=$e-1,ct=ve(Ue,vt.b),rr=vt.K,vt=vt.w+(Ee>>vt.b)*ct;Ee<Se;){var ur=rr,ys=vt,nr=1;for(jf(ae,ye,Ae,Te-Ue,1,Ae,Te);nr<Ue;){var yt=(nr&~Nt)+$e;yt>Ue&&(yt=Ue),(0,yg[ur[ys++]>>8&15])(ae,ye+ +nr,Ae,Te+nr-Ue,yt-nr,Ae,Te+nr),nr=yt}ye+=Ue,Te+=Ue,++Ee&Nt||(vt+=ct)}je!=ie.nc&&n(X,K-be,X,K+(je-me-1)*be,be);break;case 1:for(be=ae,Se=ye,Ue=(ae=ie.Ea)-(Te=ae&~(Ae=(ye=1<<ie.b)-1)),Ee=ve(ae,ie.b),$e=ie.K,ie=ie.w+(me>>ie.b)*Ee;me<je;){for(Nt=$e,ct=ie,rr=new xe,vt=Se+Te,ur=Se+ae;Se<vt;)Je(Nt[ct++],rr),xg(rr,be,Se,ye,X,K),Se+=ye,K+=ye;Se<ur&&(Je(Nt[ct++],rr),xg(rr,be,Se,Ue,X,K),Se+=Ue,K+=Ue),++me&Ae||(ie+=Ee)}break;case 3:if(ae==X&&ye==K&&0<ie.b){for(Se=X,ae=be=K+(je-me)*be-(Te=(je-me)*ve(ie.Ea,ie.b)),ye=X,Ae=K,Ee=[],Te=(Ue=Te)-1;0<=Te;--Te)Ee[Te]=ye[Ae+Te];for(Te=Ue-1;0<=Te;--Te)Se[ae+Te]=Ee[Te];Ly(ie,me,je,X,be,X,K)}else Ly(ie,me,je,ae,ye,X,K)}K=L,X=P}X!=P&&n(L,P,K,X,H)}function Bc(y,j){var P=y.V,L=y.Ba+y.c*y.C,V=j-y.C;if(t(j<=y.l.o),t(16>=V),0<V){var H=y.l,Y=y.Ta,K=y.Ua,X=H.width;if(xd(y,V,P,L),V=K=[K],t((P=y.C)<(L=j)),t(H.v<H.va),L>H.o&&(L=H.o),P<H.j){var ie=H.j-P;P=H.j,V[0]+=ie*X}if(P>=L?P=0:(V[0]+=4*H.v,H.ka=P-H.j,H.U=H.va-H.v,H.T=L-P,P=1),P){if(K=K[0],11>(P=y.ca).S){var me=P.f.RGBA,je=(L=P.S,V=H.U,H=H.T,ie=me.eb,me.A),ae=H;for(me=me.fb+y.Ma*me.A;0<ae--;){var ye=Y,be=K,Ee=V,Se=ie,Ae=me;switch(L){case Dy:wg(ye,be,Ee,Se,Ae);break;case Fy:Hc(ye,be,Ee,Se,Ae);break;case e_:Hc(ye,be,Ee,Se,Ae),_g(Se,Ae,0,Ee,1,0);break;case c4:Od(ye,be,Ee,Se,Ae);break;case $y:_t(ye,be,Ee,Se,Ae,1);break;case t_:_t(ye,be,Ee,Se,Ae,1),_g(Se,Ae,0,Ee,1,0);break;case By:_t(ye,be,Ee,Se,Ae,0);break;case Uy:_t(ye,be,Ee,Se,Ae,0),_g(Se,Ae,1,Ee,1,0);break;case X2:Gc(ye,be,Ee,Se,Ae);break;case r_:Gc(ye,be,Ee,Se,Ae),t4(Se,Ae,Ee,1,0);break;case u4:Yc(ye,be,Ee,Se,Ae);break;default:t(0)}K+=X,me+=je}y.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=P.height)}}y.C=j,t(y.C<=y.i)}function to(y){var j;if(0<y.ua)return 0;for(j=0;j<y.Wb;++j){var P=y.Ya[j].G,L=y.Ya[j].H;if(0<P[1][L[1]+0].g||0<P[2][L[2]+0].g||0<P[3][L[3]+0].g)return 0}return 1}function Wo(y,j,P,L,V,H){if(y.Z!=0){var Y=y.qd,K=y.rd;for(t(Qc[y.Z]!=null);j<P;++j)Qc[y.Z](Y,K,L,V,L,V,H),Y=L,K=V,V+=H;y.qd=Y,y.rd=K}}function ro(y,j){var P=y.l.ma,L=P.Z==0||P.Z==1?y.l.j:y.C;if(L=y.C<L?L:y.C,t(j<=y.l.o),j>L){var V=y.l.width,H=P.ca,Y=P.tb+V*L,K=y.V,X=y.Ba+y.c*L,ie=y.gc;t(y.ab==1),t(ie[0].hc==3),Qo(ie[0],L,j,K,X,H,Y),Wo(P,L,j,H,Y,V)}y.C=y.Ma=j}function no(y,j,P,L,V,H,Y){var K=y.$/L,X=y.$%L,ie=y.m,me=y.s,je=P+y.$,ae=je;V=P+L*V;var ye=P+L*H,be=280+me.ua,Ee=y.Pb?K:16777216,Se=0<me.ua?me.Wa:null,Ae=me.wc,Te=je<ye?Is(me,X,K):null;t(y.C<H),t(ye<=V);var Ue=!1;e:for(;;){for(;Ue||je<ye;){var $e=0;if(K>=Ee){var Nt=je-P;t((Ee=y).Pb),Ee.wd=Ee.m,Ee.xd=Nt,0<Ee.s.ua&&De(Ee.s.Wa,Ee.s.vb),Ee=K+mH}if(X&Ae||(Te=Is(me,X,K)),t(Te!=null),Te.Qb&&(j[je]=Te.qb,Ue=!0),!Ue)if(F(ie),Te.jc){$e=ie,Nt=j;var ct=je,rr=Te.pd[C($e)&Rd-1];t(Te.jc),256>rr.g?(B($e,$e.u+rr.g),Nt[ct]=rr.value,$e=0):(B($e,$e.u+rr.g-256),t(256<=rr.value),$e=rr.value),$e==0&&(Ue=!0)}else $e=Fn(Te.G[0],Te.H[0],ie);if(ie.h)break;if(Ue||256>$e){if(!Ue)if(Te.nd)j[je]=(Te.qb|$e<<8)>>>0;else{if(F(ie),Ue=Fn(Te.G[1],Te.H[1],ie),F(ie),Nt=Fn(Te.G[2],Te.H[2],ie),ct=Fn(Te.G[3],Te.H[3],ie),ie.h)break;j[je]=(ct<<24|Ue<<16|$e<<8|Nt)>>>0}if(Ue=!1,++je,++X>=L&&(X=0,++K,Y!=null&&K<=H&&!(K%16)&&Y(y,K),Se!=null))for(;ae<je;)$e=j[ae++],Se.X[(506832829*$e&4294967295)>>>Se.Mb]=$e}else if(280>$e){if($e=Sn($e-256,ie),Nt=Fn(Te.G[4],Te.H[4],ie),F(ie),Nt=Hn(L,Nt=Sn(Nt,ie)),ie.h)break;if(je-P<Nt||V-je<$e)break e;for(ct=0;ct<$e;++ct)j[je+ct]=j[je+ct-Nt];for(je+=$e,X+=$e;X>=L;)X-=L,++K,Y!=null&&K<=H&&!(K%16)&&Y(y,K);if(t(je<=V),X&Ae&&(Te=Is(me,X,K)),Se!=null)for(;ae<je;)$e=j[ae++],Se.X[(506832829*$e&4294967295)>>>Se.Mb]=$e}else{if(!($e<be))break e;for(Ue=$e-280,t(Se!=null);ae<je;)$e=j[ae++],Se.X[(506832829*$e&4294967295)>>>Se.Mb]=$e;$e=je,t(!(Ue>>>(Nt=Se).Xa)),j[$e]=Nt.X[Ue],Ue=!0}Ue||t(ie.h==E(ie))}if(y.Pb&&ie.h&&je<V)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&De(y.s.vb,y.s.Wa);else{if(ie.h)break e;Y!=null&&Y(y,K>H?H:K),y.a=0,y.$=je-P}return 1}return y.a=3,0}function Ca(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var j=y.Wa;j!=null&&(j.X=null),y.vb=null,t(y!=null)}function wd(){var y=new Vt;return y==null?null:(y.a=0,y.xb=f4,br("Predictor","VP8LPredictors"),br("Predictor","VP8LPredictors_C"),br("PredictorAdd","VP8LPredictorsAdd"),br("PredictorAdd","VP8LPredictorsAdd_C"),Gn=at,xg=bt,wg=Fr,Hc=qt,Gc=Ot,Yc=zt,Od=lr,I.VP8LMapColor32b=Jo,I.VP8LMapColor8b=vg,y)}function Ho(y,j,P,L,V){var H=1,Y=[y],K=[j],X=L.m,ie=L.s,me=null,je=0;e:for(;;){if(P)for(;H&&ge(X,1);){var ae=Y,ye=K,be=L,Ee=1,Se=be.m,Ae=be.gc[be.ab],Te=ge(Se,2);if(be.Oc&1<<Te)H=0;else{switch(be.Oc|=1<<Te,Ae.hc=Te,Ae.Ea=ae[0],Ae.nc=ye[0],Ae.K=[null],++be.ab,t(4>=be.ab),Te){case 0:case 1:Ae.b=ge(Se,3)+2,Ee=Ho(ve(Ae.Ea,Ae.b),ve(Ae.nc,Ae.b),0,be,Ae.K),Ae.K=Ae.K[0];break;case 3:var Ue,$e=ge(Se,8)+1,Nt=16<$e?0:4<$e?1:2<$e?2:3;if(ae[0]=ve(Ae.Ea,Nt),Ae.b=Nt,Ue=Ee=Ho($e,1,0,be,Ae.K)){var ct,rr=$e,vt=Ae,ur=1<<(8>>vt.b),ys=i(ur);if(ys==null)Ue=0;else{var nr=vt.K[0],yt=vt.w;for(ys[0]=vt.K[0][0],ct=1;ct<1*rr;++ct)ys[ct]=se(nr[yt+ct],ys[ct-1]);for(;ct<4*ur;++ct)ys[ct]=0;vt.K[0]=null,vt.K[0]=ys,Ue=1}}Ee=Ue;break;case 2:break;default:t(0)}H=Ee}}if(Y=Y[0],K=K[0],H&&ge(X,1)&&!(H=1<=(je=ge(X,4))&&11>=je)){L.a=3;break e}var Ke;if(Ke=H)t:{var Kn,er,gr,yn=L,Fs=Y,hi=K,$n=je,Qs=P,fi=yn.m,xs=yn.s,Sr=[null],qr=1,Bn=0,zr=pH[$n];r:for(;;){if(Qs&&ge(fi,1)){var $s=ge(fi,3)+2,oo=ve(Fs,$s),Jn=ve(hi,$s),Ti=oo*Jn;if(!Ho(oo,Jn,0,yn,Sr))break r;for(Sr=Sr[0],xs.xc=$s,Kn=0;Kn<Ti;++Kn){var rn=Sr[Kn]>>8&65535;Sr[Kn]=rn,rn>=qr&&(qr=rn+1)}}if(fi.h)break r;for(er=0;5>er;++er){var ws=d4[er];!er&&0<$n&&(ws+=1<<$n),Bn<ws&&(Bn=ws)}var Qi=a(qr*zr,$),pi=qr,Zi=a(pi,ee);if(Zi==null)var Xi=null;else t(65536>=pi),Xi=Zi;var Ri=i(Bn);if(Xi==null||Ri==null||Qi==null){yn.a=1;break r}var ea=Qi;for(Kn=gr=0;Kn<qr;++Kn){var cn=Xi[Kn],ta=cn.G,lo=cn.H,Id=0,Hl=1,Bs=0;for(er=0;5>er;++er){ws=d4[er],ta[er]=ea,lo[er]=gr,!er&&0<$n&&(ws+=1<<$n);s:{var Wy,a_=ws,Hy=yn,Ng=Ri,IH=ea,MH=gr,o_=0,Zc=Hy.m,DH=ge(Zc,1);if(s(Ng,0,0,a_),DH){var FH=ge(Zc,1)+1,$H=ge(Zc,1),_4=ge(Zc,$H==0?1:8);Ng[_4]=1,FH==2&&(Ng[_4=ge(Zc,8)]=1);var Gy=1}else{var S4=i(19),j4=ge(Zc,4)+4;if(19<j4){Hy.a=3;var Yy=0;break s}for(Wy=0;Wy<j4;++Wy)S4[hH[Wy]]=ge(Zc,3);var l_=void 0,kg=void 0,N4=Hy,BH=S4,Ky=a_,k4=Ng,c_=0,Xc=N4.m,C4=8,E4=a(128,$);n:for(;M(E4,0,7,BH,19);){if(ge(Xc,1)){var UH=2+2*ge(Xc,3);if((l_=2+ge(Xc,UH))>Ky)break n}else l_=Ky;for(kg=0;kg<Ky&&l_--;){F(Xc);var A4=E4[0+(127&C(Xc))];B(Xc,Xc.u+A4.g);var kf=A4.value;if(16>kf)k4[kg++]=kf,kf!=0&&(C4=kf);else{var qH=kf==16,P4=kf-16,zH=uH[P4],T4=ge(Xc,cH[P4])+zH;if(kg+T4>Ky)break n;for(var VH=qH?C4:0;0<T4--;)k4[kg++]=VH}}c_=1;break n}c_||(N4.a=3),Gy=c_}(Gy=Gy&&!Zc.h)&&(o_=M(IH,MH,8,Ng,a_)),Gy&&o_!=0?Yy=o_:(Hy.a=3,Yy=0)}if(Yy==0)break r;if(Hl&&dH[er]==1&&(Hl=ea[gr].g==0),Id+=ea[gr].g,gr+=Yy,3>=er){var Cg,u_=Ri[0];for(Cg=1;Cg<ws;++Cg)Ri[Cg]>u_&&(u_=Ri[Cg]);Bs+=u_}}if(cn.nd=Hl,cn.Qb=0,Hl&&(cn.qb=(ta[3][lo[3]+0].value<<24|ta[1][lo[1]+0].value<<16|ta[2][lo[2]+0].value)>>>0,Id==0&&256>ta[0][lo[0]+0].value&&(cn.Qb=1,cn.qb+=ta[0][lo[0]+0].value<<8)),cn.jc=!cn.Qb&&6>Bs,cn.jc){var Jy,Gl=cn;for(Jy=0;Jy<Rd;++Jy){var eu=Jy,tu=Gl.pd[eu],Qy=Gl.G[0][Gl.H[0]+eu];256<=Qy.value?(tu.g=Qy.g+256,tu.value=Qy.value):(tu.g=0,tu.value=0,eu>>=Es(Qy,8,tu),eu>>=Es(Gl.G[1][Gl.H[1]+eu],16,tu),eu>>=Es(Gl.G[2][Gl.H[2]+eu],0,tu),Es(Gl.G[3][Gl.H[3]+eu],24,tu))}}}xs.vc=Sr,xs.Wb=qr,xs.Ya=Xi,xs.yc=Qi,Ke=1;break t}Ke=0}if(!(H=Ke)){L.a=3;break e}if(0<je){if(ie.ua=1<<je,!J(ie.Wa,je)){L.a=1,H=0;break e}}else ie.ua=0;var d_=L,R4=Y,WH=K,h_=d_.s,f_=h_.xc;if(d_.c=R4,d_.i=WH,h_.md=ve(R4,f_),h_.wc=f_==0?-1:(1<<f_)-1,P){L.xb=_H;break e}if((me=i(Y*K))==null){L.a=1,H=0;break e}H=(H=no(L,me,0,Y,K,K,null))&&!X.h;break e}return H?(V!=null?V[0]=me:(t(me==null),t(P)),L.$=0,P||Ca(ie)):Ca(ie),H}function bd(y,j){var P=y.c*y.i,L=P+j+16*j;return t(y.c<=j),y.V=i(L),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+P+j,1)}function pf(y,j){var P=y.C,L=j-P,V=y.V,H=y.Ba+y.c*P;for(t(j<=y.l.o);0<L;){var Y=16<L?16:L,K=y.l.ma,X=y.l.width,ie=X*Y,me=K.ca,je=K.tb+X*P,ae=y.Ta,ye=y.Ua;xd(y,Y,V,H),n4(ae,ye,me,je,ie),Wo(K,P,P+Y,me,je,X),L-=Y,V+=Y*y.c,P+=Y}t(P==j),y.C=y.Ma=j}function mf(){this.ub=this.yd=this.td=this.Rb=0}function gf(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function M2(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function eg(){this.Yb=function(){var y=[];return function j(P,L,V){for(var H=V[L],Y=0;Y<H&&(P.push(V.length>L+1?[]:0),!(V.length<L+1));Y++)j(P[Y],L+1,V)}(y,0,[3,11]),y}()}function gy(){this.jb=i(3),this.Wc=l([4,8],eg),this.Xc=l([4,17],eg)}function vy(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ea(){this.ld=this.La=this.dd=this.tc=0}function tg(){this.Na=this.la=0}function yy(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function rg(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xy(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ea),this.Y=0,this.ya=Array(new rg),this.aa=0,this.l=new vf}function wy(){this.y=i(16),this.f=i(8),this.ea=i(8)}function by(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new mf,this.Kc=new gf,this.ed=new vy,this.Qa=new M2,this.Ic=this.$c=this.Aa=0,this.D=new xy,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,U),this.ia=0,this.pb=a(4,yy),this.Pa=new gy,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wy),this.Hd=0,this.rb=Array(new tg),this.sb=0,this.wa=Array(new Ea),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new rg),this.L=this.aa=0,this.gd=l([4,2],Ea),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Go(y,j){return 0>y?0:y>j?j:y}function vf(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function D2(){var y=new by;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Sg||(Sg=yf)),y}function as(y,j,P){return y.a==0&&(y.a=j,y.sc=P,y.cb=0),0}function _y(y,j,P){return 3<=P&&y[j+0]==157&&y[j+1]==1&&y[j+2]==42}function Yo(y,j){if(y==null)return 0;if(y.a=0,y.sc="OK",j==null)return as(y,2,"null VP8Io passed to VP8GetHeaders()");var P=j.data,L=j.w,V=j.ha;if(4>V)return as(y,7,"Truncated header.");var H=P[L+0]|P[L+1]<<8|P[L+2]<<16,Y=y.Od;if(Y.Rb=!(1&H),Y.td=H>>1&7,Y.yd=H>>4&1,Y.ub=H>>5,3<Y.td)return as(y,3,"Incorrect keyframe parameters.");if(!Y.yd)return as(y,4,"Frame not displayable.");L+=3,V-=3;var K=y.Kc;if(Y.Rb){if(7>V)return as(y,7,"cannot parse picture header");if(!_y(P,L,V))return as(y,3,"Bad code word");K.c=16383&(P[L+4]<<8|P[L+3]),K.Td=P[L+4]>>6,K.i=16383&(P[L+6]<<8|P[L+5]),K.Ud=P[L+6]>>6,L+=7,V-=7,y.za=K.c+15>>4,y.Ub=K.i+15>>4,j.width=K.c,j.height=K.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,s((H=y.Pa).jb,0,255,H.jb.length),t((H=y.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if(Y.ub>V)return as(y,7,"bad partition length");re(H=y.m,P,L,Y.ub),L+=Y.ub,V-=Y.ub,Y.Rb&&(K.Ld=ne(H),K.Kd=ne(H)),K=y.Qa;var X,ie=y.Pa;if(t(H!=null),t(K!=null),K.Cb=ne(H),K.Cb){if(K.Bb=ne(H),ne(H)){for(K.Fb=ne(H),X=0;4>X;++X)K.Zb[X]=ne(H)?W(H,7):0;for(X=0;4>X;++X)K.Lb[X]=ne(H)?W(H,6):0}if(K.Bb)for(X=0;3>X;++X)ie.jb[X]=ne(H)?te(H,8):255}else K.Bb=0;if(H.Ka)return as(y,3,"cannot parse segment header");if((K=y.ed).zd=ne(H),K.Tb=te(H,6),K.wb=te(H,3),K.Pc=ne(H),K.Pc&&ne(H)){for(ie=0;4>ie;++ie)ne(H)&&(K.vd[ie]=W(H,6));for(ie=0;4>ie;++ie)ne(H)&&(K.od[ie]=W(H,6))}if(y.L=K.Tb==0?0:K.zd?1:2,H.Ka)return as(y,3,"cannot parse filter header");var me=V;if(V=X=L,L=X+me,K=me,y.Xb=(1<<te(y.m,2))-1,me<3*(ie=y.Xb))P=7;else{for(X+=3*ie,K-=3*ie,me=0;me<ie;++me){var je=P[V+0]|P[V+1]<<8|P[V+2]<<16;je>K&&(je=K),re(y.Jc[+me],P,X,je),X+=je,K-=je,V+=3}re(y.Jc[+ie],P,X,K),P=X<L?0:5}if(P!=0)return as(y,P,"cannot parse partitions");for(P=te(X=y.m,7),V=ne(X)?W(X,4):0,L=ne(X)?W(X,4):0,K=ne(X)?W(X,4):0,ie=ne(X)?W(X,4):0,X=ne(X)?W(X,4):0,me=y.Qa,je=0;4>je;++je){if(me.Cb){var ae=me.Zb[je];me.Fb||(ae+=P)}else{if(0<je){y.pb[je]=y.pb[0];continue}ae=P}var ye=y.pb[je];ye.Sc[0]=n_[Go(ae+V,127)],ye.Sc[1]=s_[Go(ae+0,127)],ye.Eb[0]=2*n_[Go(ae+L,127)],ye.Eb[1]=101581*s_[Go(ae+K,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=n_[Go(ae+ie,117)],ye.Qc[1]=s_[Go(ae+X,127)],ye.lc=ae+X}if(!Y.Rb)return as(y,4,"Not a key frame.");for(ne(H),Y=y.Pa,P=0;4>P;++P){for(V=0;8>V;++V)for(L=0;3>L;++L)for(K=0;11>K;++K)ie=le(H,wH[P][V][L][K])?te(H,8):yH[P][V][L][K],Y.Wc[P][V].Yb[L][K]=ie;for(V=0;17>V;++V)Y.Xc[P][V]=Y.Wc[P][bH[V]]}return y.kc=ne(H),y.kc&&(y.Bd=te(H,8)),y.cb=1}function yf(y,j,P,L,V,H,Y){var K=j[V].Yb[P];for(P=0;16>V;++V){if(!le(y,K[P+0]))return V;for(;!le(y,K[P+1]);)if(K=j[++V].Yb[0],P=0,V==16)return 16;var X=j[V+1].Yb;if(le(y,K[P+2])){var ie=y,me=0;if(le(ie,(ae=K)[(je=P)+3]))if(le(ie,ae[je+6])){for(K=0,je=2*(me=le(ie,ae[je+8]))+(ae=le(ie,ae[je+9+me])),me=0,ae=gH[je];ae[K];++K)me+=me+le(ie,ae[K]);me+=3+(8<<je)}else le(ie,ae[je+7])?(me=7+2*le(ie,165),me+=le(ie,145)):me=5+le(ie,159);else me=le(ie,ae[je+4])?3+le(ie,ae[je+5]):2;K=X[2]}else me=1,K=X[1];X=Y+vH[V],0>(ie=y).b&&Q(ie);var je,ae=ie.b,ye=(je=ie.Ca>>1)-(ie.I>>ae)>>31;--ie.b,ie.Ca+=ye,ie.Ca|=1,ie.I-=(je+1&ye)<<ae,H[X]=((me^ye)-ye)*L[(0<V)+0]}return 16}function Sy(y){var j=y.rb[y.sb-1];j.la=0,j.Na=0,s(y.zc,0,0,y.zc.length),y.ja=0}function Aa(y,j,P,L,V){V=y[j+P+32*L]+(V>>3),y[j+P+32*L]=-256&V?0>V?0:255:V}function ms(y,j,P,L,V,H){Aa(y,j,0,P,L+V),Aa(y,j,1,P,L+H),Aa(y,j,2,P,L-H),Aa(y,j,3,P,L-V)}function Ol(y){return(20091*y>>16)+y}function jy(y,j,P,L){var V,H=0,Y=i(16);for(V=0;4>V;++V){var K=y[j+0]+y[j+8],X=y[j+0]-y[j+8],ie=(35468*y[j+4]>>16)-Ol(y[j+12]),me=Ol(y[j+4])+(35468*y[j+12]>>16);Y[H+0]=K+me,Y[H+1]=X+ie,Y[H+2]=X-ie,Y[H+3]=K-me,H+=4,j++}for(V=H=0;4>V;++V)K=(y=Y[H+0]+4)+Y[H+8],X=y-Y[H+8],ie=(35468*Y[H+4]>>16)-Ol(Y[H+12]),Aa(P,L,0,0,K+(me=Ol(Y[H+4])+(35468*Y[H+12]>>16))),Aa(P,L,1,0,X+ie),Aa(P,L,2,0,X-ie),Aa(P,L,3,0,K-me),H++,L+=32}function F2(y,j,P,L){var V=y[j+0]+4,H=35468*y[j+4]>>16,Y=Ol(y[j+4]),K=35468*y[j+1]>>16;ms(P,L,0,V+Y,y=Ol(y[j+1]),K),ms(P,L,1,V+H,y,K),ms(P,L,2,V-H,y,K),ms(P,L,3,V-Y,y,K)}function $2(y,j,P,L,V){jy(y,j,P,L),V&&jy(y,j+16,P,L+4)}function Ko(y,j,P,L){Ld(y,j+0,P,L,1),Ld(y,j+32,P,L+128,1)}function Ny(y,j,P,L){var V;for(y=y[j+0]+4,V=0;4>V;++V)for(j=0;4>j;++j)Aa(P,L,j,V,y)}function ky(y,j,P,L){y[j+0]&&$r(y,j+0,P,L),y[j+16]&&$r(y,j+16,P,L+4),y[j+32]&&$r(y,j+32,P,L+128),y[j+48]&&$r(y,j+48,P,L+128+4)}function xf(y,j,P,L){var V,H=i(16);for(V=0;4>V;++V){var Y=y[j+0+V]+y[j+12+V],K=y[j+4+V]+y[j+8+V],X=y[j+4+V]-y[j+8+V],ie=y[j+0+V]-y[j+12+V];H[0+V]=Y+K,H[8+V]=Y-K,H[4+V]=ie+X,H[12+V]=ie-X}for(V=0;4>V;++V)Y=(y=H[0+4*V]+3)+H[3+4*V],K=H[1+4*V]+H[2+4*V],X=H[1+4*V]-H[2+4*V],ie=y-H[3+4*V],P[L+0]=Y+K>>3,P[L+16]=ie+X>>3,P[L+32]=Y-K>>3,P[L+48]=ie-X>>3,L+=64}function _d(y,j,P){var L,V=j-32,H=Ji,Y=255-y[V-1];for(L=0;L<P;++L){var K,X=H,ie=Y+y[j-1];for(K=0;K<P;++K)y[j+K]=X[ie+y[V+K]];j+=32}}function B2(y,j){_d(y,j,4)}function U2(y,j){_d(y,j,8)}function q2(y,j){_d(y,j,16)}function ng(y,j){var P;for(P=0;16>P;++P)n(y,j+32*P,y,j-32,16)}function Cy(y,j){var P;for(P=16;0<P;--P)s(y,j,y[j-1],16),j+=32}function so(y,j,P){var L;for(L=0;16>L;++L)s(j,P+32*L,y,16)}function z2(y,j){var P,L=16;for(P=0;16>P;++P)L+=y[j-1+32*P]+y[j+P-32];so(L>>5,y,j)}function Sd(y,j){var P,L=8;for(P=0;16>P;++P)L+=y[j-1+32*P];so(L>>4,y,j)}function sg(y,j){var P,L=8;for(P=0;16>P;++P)L+=y[j+P-32];so(L>>4,y,j)}function V2(y,j){so(128,y,j)}function Yt(y,j,P){return y+2*j+P+2>>2}function W2(y,j){var P,L=j-32;for(L=new Uint8Array([Yt(y[L-1],y[L+0],y[L+1]),Yt(y[L+0],y[L+1],y[L+2]),Yt(y[L+1],y[L+2],y[L+3]),Yt(y[L+2],y[L+3],y[L+4])]),P=0;4>P;++P)n(y,j+32*P,L,0,L.length)}function H2(y,j){var P=y[j-1],L=y[j-1+32],V=y[j-1+64],H=y[j-1+96];ue(y,j+0,16843009*Yt(y[j-1-32],P,L)),ue(y,j+32,16843009*Yt(P,L,V)),ue(y,j+64,16843009*Yt(L,V,H)),ue(y,j+96,16843009*Yt(V,H,H))}function G2(y,j){var P,L=4;for(P=0;4>P;++P)L+=y[j+P-32]+y[j-1+32*P];for(L>>=3,P=0;4>P;++P)s(y,j+32*P,L,4)}function Ll(y,j){var P=y[j-1+0],L=y[j-1+32],V=y[j-1+64],H=y[j-1-32],Y=y[j+0-32],K=y[j+1-32],X=y[j+2-32],ie=y[j+3-32];y[j+0+96]=Yt(L,V,y[j-1+96]),y[j+1+96]=y[j+0+64]=Yt(P,L,V),y[j+2+96]=y[j+1+64]=y[j+0+32]=Yt(H,P,L),y[j+3+96]=y[j+2+64]=y[j+1+32]=y[j+0+0]=Yt(Y,H,P),y[j+3+64]=y[j+2+32]=y[j+1+0]=Yt(K,Y,H),y[j+3+32]=y[j+2+0]=Yt(X,K,Y),y[j+3+0]=Yt(ie,X,K)}function Il(y,j){var P=y[j+1-32],L=y[j+2-32],V=y[j+3-32],H=y[j+4-32],Y=y[j+5-32],K=y[j+6-32],X=y[j+7-32];y[j+0+0]=Yt(y[j+0-32],P,L),y[j+1+0]=y[j+0+32]=Yt(P,L,V),y[j+2+0]=y[j+1+32]=y[j+0+64]=Yt(L,V,H),y[j+3+0]=y[j+2+32]=y[j+1+64]=y[j+0+96]=Yt(V,H,Y),y[j+3+32]=y[j+2+64]=y[j+1+96]=Yt(H,Y,K),y[j+3+64]=y[j+2+96]=Yt(Y,K,X),y[j+3+96]=Yt(K,X,X)}function Y2(y,j){var P=y[j-1+0],L=y[j-1+32],V=y[j-1+64],H=y[j-1-32],Y=y[j+0-32],K=y[j+1-32],X=y[j+2-32],ie=y[j+3-32];y[j+0+0]=y[j+1+64]=H+Y+1>>1,y[j+1+0]=y[j+2+64]=Y+K+1>>1,y[j+2+0]=y[j+3+64]=K+X+1>>1,y[j+3+0]=X+ie+1>>1,y[j+0+96]=Yt(V,L,P),y[j+0+64]=Yt(L,P,H),y[j+0+32]=y[j+1+96]=Yt(P,H,Y),y[j+1+32]=y[j+2+96]=Yt(H,Y,K),y[j+2+32]=y[j+3+96]=Yt(Y,K,X),y[j+3+32]=Yt(K,X,ie)}function K2(y,j){var P=y[j+0-32],L=y[j+1-32],V=y[j+2-32],H=y[j+3-32],Y=y[j+4-32],K=y[j+5-32],X=y[j+6-32],ie=y[j+7-32];y[j+0+0]=P+L+1>>1,y[j+1+0]=y[j+0+64]=L+V+1>>1,y[j+2+0]=y[j+1+64]=V+H+1>>1,y[j+3+0]=y[j+2+64]=H+Y+1>>1,y[j+0+32]=Yt(P,L,V),y[j+1+32]=y[j+0+96]=Yt(L,V,H),y[j+2+32]=y[j+1+96]=Yt(V,H,Y),y[j+3+32]=y[j+2+96]=Yt(H,Y,K),y[j+3+64]=Yt(Y,K,X),y[j+3+96]=Yt(K,X,ie)}function wf(y,j){var P=y[j-1+0],L=y[j-1+32],V=y[j-1+64],H=y[j-1+96];y[j+0+0]=P+L+1>>1,y[j+2+0]=y[j+0+32]=L+V+1>>1,y[j+2+32]=y[j+0+64]=V+H+1>>1,y[j+1+0]=Yt(P,L,V),y[j+3+0]=y[j+1+32]=Yt(L,V,H),y[j+3+32]=y[j+1+64]=Yt(V,H,H),y[j+3+64]=y[j+2+64]=y[j+0+96]=y[j+1+96]=y[j+2+96]=y[j+3+96]=H}function ig(y,j){var P=y[j-1+0],L=y[j-1+32],V=y[j-1+64],H=y[j-1+96],Y=y[j-1-32],K=y[j+0-32],X=y[j+1-32],ie=y[j+2-32];y[j+0+0]=y[j+2+32]=P+Y+1>>1,y[j+0+32]=y[j+2+64]=L+P+1>>1,y[j+0+64]=y[j+2+96]=V+L+1>>1,y[j+0+96]=H+V+1>>1,y[j+3+0]=Yt(K,X,ie),y[j+2+0]=Yt(Y,K,X),y[j+1+0]=y[j+3+32]=Yt(P,Y,K),y[j+1+32]=y[j+3+64]=Yt(L,P,Y),y[j+1+64]=y[j+3+96]=Yt(V,L,P),y[j+1+96]=Yt(H,V,L)}function jd(y,j){var P;for(P=0;8>P;++P)n(y,j+32*P,y,j-32,8)}function J2(y,j){var P;for(P=0;8>P;++P)s(y,j,y[j-1],8),j+=32}function Ml(y,j,P){var L;for(L=0;8>L;++L)s(j,P+32*L,y,8)}function Q2(y,j){var P,L=8;for(P=0;8>P;++P)L+=y[j+P-32]+y[j-1+32*P];Ml(L>>4,y,j)}function ag(y,j){var P,L=4;for(P=0;8>P;++P)L+=y[j+P-32];Ml(L>>3,y,j)}function og(y,j){var P,L=4;for(P=0;8>P;++P)L+=y[j-1+32*P];Ml(L>>3,y,j)}function Ey(y,j){Ml(128,y,j)}function Dl(y,j,P){var L=y[j-P],V=y[j+0],H=3*(V-L)+Z2[1020+y[j-2*P]-y[j+P]],Y=My[112+(H+4>>3)];y[j-P]=Ji[255+L+My[112+(H+3>>3)]],y[j+0]=Ji[255+V-Y]}function lg(y,j,P,L){var V=y[j+0],H=y[j+P];return Ra[255+y[j-2*P]-y[j-P]]>L||Ra[255+H-V]>L}function bf(y,j,P,L){return 4*Ra[255+y[j-P]-y[j+0]]+Ra[255+y[j-2*P]-y[j+P]]<=L}function cg(y,j,P,L,V){var H=y[j-3*P],Y=y[j-2*P],K=y[j-P],X=y[j+0],ie=y[j+P],me=y[j+2*P],je=y[j+3*P];return 4*Ra[255+K-X]+Ra[255+Y-ie]>L?0:Ra[255+y[j-4*P]-H]<=V&&Ra[255+H-Y]<=V&&Ra[255+Y-K]<=V&&Ra[255+je-me]<=V&&Ra[255+me-ie]<=V&&Ra[255+ie-X]<=V}function Nd(y,j,P,L){var V=2*L+1;for(L=0;16>L;++L)bf(y,j+L,P,V)&&Dl(y,j+L,P)}function ug(y,j,P,L){var V=2*L+1;for(L=0;16>L;++L)bf(y,j+L*P,1,V)&&Dl(y,j+L*P,1)}function Ay(y,j,P,L){var V;for(V=3;0<V;--V)Nd(y,j+=4*P,P,L)}function Py(y,j,P,L){var V;for(V=3;0<V;--V)ug(y,j+=4,P,L)}function Fl(y,j,P,L,V,H,Y,K){for(H=2*H+1;0<V--;){if(cg(y,j,P,H,Y))if(lg(y,j,P,K))Dl(y,j,P);else{var X=y,ie=j,me=P,je=X[ie-2*me],ae=X[ie-me],ye=X[ie+0],be=X[ie+me],Ee=X[ie+2*me],Se=27*(Te=Z2[1020+3*(ye-ae)+Z2[1020+je-be]])+63>>7,Ae=18*Te+63>>7,Te=9*Te+63>>7;X[ie-3*me]=Ji[255+X[ie-3*me]+Te],X[ie-2*me]=Ji[255+je+Ae],X[ie-me]=Ji[255+ae+Se],X[ie+0]=Ji[255+ye-Se],X[ie+me]=Ji[255+be-Ae],X[ie+2*me]=Ji[255+Ee-Te]}j+=L}}function $l(y,j,P,L,V,H,Y,K){for(H=2*H+1;0<V--;){if(cg(y,j,P,H,Y))if(lg(y,j,P,K))Dl(y,j,P);else{var X=y,ie=j,me=P,je=X[ie-me],ae=X[ie+0],ye=X[ie+me],be=My[112+(4+(Ee=3*(ae-je))>>3)],Ee=My[112+(Ee+3>>3)],Se=be+1>>1;X[ie-2*me]=Ji[255+X[ie-2*me]+Se],X[ie-me]=Ji[255+je+Ee],X[ie+0]=Ji[255+ae-be],X[ie+me]=Ji[255+ye-Se]}j+=L}}function Ty(y,j,P,L,V,H){Fl(y,j,P,1,16,L,V,H)}function kd(y,j,P,L,V,H){Fl(y,j,1,P,16,L,V,H)}function Ry(y,j,P,L,V,H){var Y;for(Y=3;0<Y;--Y)$l(y,j+=4*P,P,1,16,L,V,H)}function N(y,j,P,L,V,H){var Y;for(Y=3;0<Y;--Y)$l(y,j+=4,1,P,16,L,V,H)}function z(y,j,P,L,V,H,Y,K){Fl(y,j,V,1,8,H,Y,K),Fl(P,L,V,1,8,H,Y,K)}function oe(y,j,P,L,V,H,Y,K){Fl(y,j,1,V,8,H,Y,K),Fl(P,L,1,V,8,H,Y,K)}function de(y,j,P,L,V,H,Y,K){$l(y,j+4*V,V,1,8,H,Y,K),$l(P,L+4*V,V,1,8,H,Y,K)}function we(y,j,P,L,V,H,Y,K){$l(y,j+4,1,V,8,H,Y,K),$l(P,L+4,1,V,8,H,Y,K)}function Pe(){this.ba=new Gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new mr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ft(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function St(){this.ua=0,this.Wa=new Ge,this.vb=new Ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new $}function Vt(){this.xb=this.a=0,this.l=new vf,this.ca=new Gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new St,this.ab=0,this.gc=a(4,ft),this.Oc=0}function tr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new vf,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _r(y,j,P,L,V,H,Y){for(y=y==null?0:y[j+0],j=0;j<Y;++j)V[H+j]=y+P[L+j]&255,y=V[H+j]}function An(y,j,P,L,V,H,Y){var K;if(y==null)_r(null,null,P,L,V,H,Y);else for(K=0;K<Y;++K)V[H+K]=y[j+K]+P[L+K]&255}function os(y,j,P,L,V,H,Y){if(y==null)_r(null,null,P,L,V,H,Y);else{var K,X=y[j+0],ie=X,me=X;for(K=0;K<Y;++K)ie=me+(X=y[j+K])-ie,me=P[L+K]+(-256&ie?0>ie?0:255:ie)&255,ie=X,V[H+K]=me}}function ln(y,j,P,L){var V=j.width,H=j.o;if(t(y!=null&&j!=null),0>P||0>=L||P+L>H)return null;if(!y.Cc){if(y.ga==null){var Y;if(y.ga=new tr,(Y=y.ga==null)||(Y=j.width*j.o,t(y.Gb.length==0),y.Gb=i(Y),y.Uc=0,y.Gb==null?Y=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,Y=1),Y=!Y),!Y){Y=y.ga;var K=y.Fa,X=y.P,ie=y.qc,me=y.mb,je=y.nb,ae=X+1,ye=ie-1,be=Y.l;if(t(K!=null&&me!=null&&j!=null),Qc[0]=null,Qc[1]=_r,Qc[2]=An,Qc[3]=os,Y.ca=me,Y.tb=je,Y.c=j.width,Y.i=j.height,t(0<Y.c&&0<Y.i),1>=ie)j=0;else if(Y.$a=3&K[X+0],Y.Z=K[X+0]>>2&3,Y.Lc=K[X+0]>>4&3,X=K[X+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||X)j=0;else if(be.put=mt,be.ac=Dn,be.bc=Cs,be.ma=Y,be.width=j.width,be.height=j.height,be.Da=j.Da,be.v=j.v,be.va=j.va,be.j=j.j,be.o=j.o,Y.$a)e:{t(Y.$a==1),j=wd();t:for(;;){if(j==null){j=0;break e}if(t(Y!=null),Y.mc=j,j.c=Y.c,j.i=Y.i,j.l=Y.l,j.l.ma=Y,j.l.width=Y.c,j.l.height=Y.i,j.a=0,Z(j.m,K,ae,ye),!Ho(Y.c,Y.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&to(j.s)?(Y.ic=1,K=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(K),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(Y.ic=0,j=bd(j,Y.c)),!j))break t;j=1;break e}Y.mc=null,j=0}else j=ye>=Y.c*Y.i;Y=!j}if(Y)return null;y.ga.Lc!=1?y.Ga=0:L=H-P}t(y.ga!=null),t(P+L<=H);e:{if(j=(K=y.ga).c,H=K.l.o,K.$a==0){if(ae=y.rc,ye=y.Vc,be=y.Fa,X=y.P+1+P*j,ie=y.mb,me=y.nb+P*j,t(X<=y.P+y.qc),K.Z!=0)for(t(Qc[K.Z]!=null),Y=0;Y<L;++Y)Qc[K.Z](ae,ye,be,X,ie,me,j),ae=ie,ye=me,me+=j,X+=j;else for(Y=0;Y<L;++Y)n(ie,me,be,X,j),ae=ie,ye=me,me+=j,X+=j;y.rc=ae,y.Vc=ye}else{if(t(K.mc!=null),j=P+L,t((Y=K.mc)!=null),t(j<=Y.i),Y.C>=j)j=1;else if(K.ic||io(),K.ic){K=Y.V,ae=Y.Ba,ye=Y.c;var Ee=Y.i,Se=(be=1,X=Y.$/ye,ie=Y.$%ye,me=Y.m,je=Y.s,Y.$),Ae=ye*Ee,Te=ye*j,Ue=je.wc,$e=Se<Te?Is(je,ie,X):null;t(Se<=Ae),t(j<=Ee),t(to(je));t:for(;;){for(;!me.h&&Se<Te;){if(ie&Ue||($e=Is(je,ie,X)),t($e!=null),F(me),256>(Ee=Fn($e.G[0],$e.H[0],me)))K[ae+Se]=Ee,++Se,++ie>=ye&&(ie=0,++X<=j&&!(X%16)&&ro(Y,X));else{if(!(280>Ee)){be=0;break t}Ee=Sn(Ee-256,me);var Nt,ct=Fn($e.G[4],$e.H[4],me);if(F(me),!(Se>=(ct=Hn(ye,ct=Sn(ct,me)))&&Ae-Se>=Ee)){be=0;break t}for(Nt=0;Nt<Ee;++Nt)K[ae+Se+Nt]=K[ae+Se+Nt-ct];for(Se+=Ee,ie+=Ee;ie>=ye;)ie-=ye,++X<=j&&!(X%16)&&ro(Y,X);Se<Te&&ie&Ue&&($e=Is(je,ie,X))}t(me.h==E(me))}ro(Y,X>j?j:X);break t}!be||me.h&&Se<Ae?(be=0,Y.a=me.h?5:3):Y.$=Se,j=be}else j=no(Y,Y.V,Y.Ba,Y.c,Y.i,j,pf);if(!j){L=0;break e}}P+L>=H&&(y.Cc=1),L=1}if(!L)return null;if(y.Cc&&((L=y.ga)!=null&&(L.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+P*V}function gs(y,j,P,L,V,H){for(;0<V--;){var Y,K=y,X=j+(P?1:0),ie=y,me=j+(P?0:3);for(Y=0;Y<L;++Y){var je=ie[me+4*Y];je!=255&&(je*=32897,K[X+4*Y+0]=K[X+4*Y+0]*je>>23,K[X+4*Y+1]=K[X+4*Y+1]*je>>23,K[X+4*Y+2]=K[X+4*Y+2]*je>>23)}j+=H}}function ls(y,j,P,L,V){for(;0<L--;){var H;for(H=0;H<P;++H){var Y=y[j+2*H+0],K=15&(ie=y[j+2*H+1]),X=4369*K,ie=(240&ie|ie>>4)*X>>16;y[j+2*H+0]=(240&Y|Y>>4)*X>>16&240|(15&Y|Y<<4)*X>>16>>4&15,y[j+2*H+1]=240&ie|K}j+=V}}function Ms(y,j,P,L,V,H,Y,K){var X,ie,me=255;for(ie=0;ie<V;++ie){for(X=0;X<L;++X){var je=y[j+X];H[Y+4*X]=je,me&=je}j+=P,Y+=K}return me!=255}function Bl(y,j,P,L,V){var H;for(H=0;H<V;++H)P[L+H]=y[j+H]>>8}function io(){_g=gs,t4=ls,r4=Ms,n4=Bl}function Ul(y,j,P){I[y]=function(L,V,H,Y,K,X,ie,me,je,ae,ye,be,Ee,Se,Ae,Te,Ue){var $e,Nt=Ue-1>>1,ct=K[X+0]|ie[me+0]<<16,rr=je[ae+0]|ye[be+0]<<16;t(L!=null);var vt=3*ct+rr+131074>>2;for(j(L[V+0],255&vt,vt>>16,Ee,Se),H!=null&&(vt=3*rr+ct+131074>>2,j(H[Y+0],255&vt,vt>>16,Ae,Te)),$e=1;$e<=Nt;++$e){var ur=K[X+$e]|ie[me+$e]<<16,ys=je[ae+$e]|ye[be+$e]<<16,nr=ct+ur+rr+ys+524296,yt=nr+2*(ur+rr)>>3;vt=yt+ct>>1,ct=(nr=nr+2*(ct+ys)>>3)+ur>>1,j(L[V+2*$e-1],255&vt,vt>>16,Ee,Se+(2*$e-1)*P),j(L[V+2*$e-0],255&ct,ct>>16,Ee,Se+(2*$e-0)*P),H!=null&&(vt=nr+rr>>1,ct=yt+ys>>1,j(H[Y+2*$e-1],255&vt,vt>>16,Ae,Te+(2*$e-1)*P),j(H[Y+2*$e+0],255&ct,ct>>16,Ae,Te+(2*$e+0)*P)),ct=ur,rr=ys}1&Ue||(vt=3*ct+rr+131074>>2,j(L[V+Ue-1],255&vt,vt>>16,Ee,Se+(Ue-1)*P),H!=null&&(vt=3*rr+ct+131074>>2,j(H[Y+Ue-1],255&vt,vt>>16,Ae,Te+(Ue-1)*P)))}}function dg(){Oa[Dy]=SH,Oa[Fy]=p4,Oa[c4]=jH,Oa[$y]=m4,Oa[By]=g4,Oa[X2]=v4,Oa[u4]=NH,Oa[e_]=p4,Oa[t_]=m4,Oa[Uy]=g4,Oa[r_]=v4}function _f(y){return y&~kH?0>y?0:255:y>>y4}function Uc(y,j){return _f((19077*y>>8)+(26149*j>>8)-14234)}function Cd(y,j,P){return _f((19077*y>>8)-(6419*j>>8)-(13320*P>>8)+8708)}function Ed(y,j){return _f((19077*y>>8)+(33050*j>>8)-17685)}function qc(y,j,P,L,V){L[V+0]=Uc(y,P),L[V+1]=Cd(y,j,P),L[V+2]=Ed(y,j)}function Ds(y,j,P,L,V){L[V+0]=Ed(y,j),L[V+1]=Cd(y,j,P),L[V+2]=Uc(y,P)}function Ad(y,j,P,L,V){var H=Cd(y,j,P);j=H<<3&224|Ed(y,j)>>3,L[V+0]=248&Uc(y,P)|H>>5,L[V+1]=j}function Pd(y,j,P,L,V){var H=240&Ed(y,j)|15;L[V+0]=240&Uc(y,P)|Cd(y,j,P)>>4,L[V+1]=H}function hg(y,j,P,L,V){L[V+0]=255,qc(y,j,P,L,V+1)}function fg(y,j,P,L,V){Ds(y,j,P,L,V),L[V+3]=255}function di(y,j,P,L,V){qc(y,j,P,L,V),L[V+3]=255}function ql(y,j,P){I[y]=function(L,V,H,Y,K,X,ie,me,je){for(var ae=me+(-2&je)*P;me!=ae;)j(L[V+0],H[Y+0],K[X+0],ie,me),j(L[V+1],H[Y+0],K[X+0],ie,me+P),V+=2,++Y,++X,me+=2*P;1&je&&j(L[V+0],H[Y+0],K[X+0],ie,me)}}function Sf(y,j,P){return P==0?y==0?j==0?6:5:j==0?4:0:P}function Oy(y,j,P,L,V){switch(y>>>30){case 3:Ld(j,P,L,V,0);break;case 2:Ta(j,P,L,V);break;case 1:$r(j,P,L,V)}}function Pa(y,j){var P,L,V=j.M,H=j.Nb,Y=y.oc,K=y.pc+40,X=y.oc,ie=y.pc+584,me=y.oc,je=y.pc+600;for(P=0;16>P;++P)Y[K+32*P-1]=129;for(P=0;8>P;++P)X[ie+32*P-1]=129,me[je+32*P-1]=129;for(0<V?Y[K-1-32]=X[ie-1-32]=me[je-1-32]=129:(s(Y,K-32-1,127,21),s(X,ie-32-1,127,9),s(me,je-32-1,127,9)),L=0;L<y.za;++L){var ae=j.ya[j.aa+L];if(0<L){for(P=-1;16>P;++P)n(Y,K+32*P-4,Y,K+32*P+12,4);for(P=-1;8>P;++P)n(X,ie+32*P-4,X,ie+32*P+4,4),n(me,je+32*P-4,me,je+32*P+4,4)}var ye=y.Gd,be=y.Hd+L,Ee=ae.ad,Se=ae.Hc;if(0<V&&(n(Y,K-32,ye[be].y,0,16),n(X,ie-32,ye[be].f,0,8),n(me,je-32,ye[be].ea,0,8)),ae.Za){var Ae=Y,Te=K-32+16;for(0<V&&(L>=y.za-1?s(Ae,Te,ye[be].y[15],4):n(Ae,Te,ye[be+1].y,0,4)),P=0;4>P;P++)Ae[Te+128+P]=Ae[Te+256+P]=Ae[Te+384+P]=Ae[Te+0+P];for(P=0;16>P;++P,Se<<=2)Ae=Y,Te=K+w4[P],ao[ae.Ob[P]](Ae,Te),Oy(Se,Ee,16*+P,Ae,Te)}else if(Ae=Sf(L,V,ae.Ob[0]),Jc[Ae](Y,K),Se!=0)for(P=0;16>P;++P,Se<<=2)Oy(Se,Ee,16*+P,Y,K+w4[P]);for(P=ae.Gc,Ae=Sf(L,V,ae.Dd),Wl[Ae](X,ie),Wl[Ae](me,je),Se=Ee,Ae=X,Te=ie,255&(ae=0|P)&&(170&ae?Zo(Se,256,Ae,Te):tn(Se,256,Ae,Te)),ae=me,Se=je,255&(P>>=8)&&(170&P?Zo(Ee,320,ae,Se):tn(Ee,320,ae,Se)),V<y.Ub-1&&(n(ye[be].y,0,Y,K+480,16),n(ye[be].f,0,X,ie+224,8),n(ye[be].ea,0,me,je+224,8)),P=8*H*y.B,ye=y.sa,be=y.ta+16*L+16*H*y.R,Ee=y.qa,ae=y.ra+8*L+P,Se=y.Ha,Ae=y.Ia+8*L+P,P=0;16>P;++P)n(ye,be+P*y.R,Y,K+32*P,16);for(P=0;8>P;++P)n(Ee,ae+P*y.B,X,ie+32*P,8),n(Se,Ae+P*y.B,me,je+32*P,8)}}function Td(y,j,P,L,V,H,Y,K,X){var ie=[0],me=[0],je=0,ae=X!=null?X.kd:0,ye=X??new Fe;if(y==null||12>P)return 7;ye.data=y,ye.w=j,ye.ha=P,j=[j],P=[P],ye.gb=[ye.gb];e:{var be=j,Ee=P,Se=ye.gb;if(t(y!=null),t(Ee!=null),t(Se!=null),Se[0]=0,12<=Ee[0]&&!r(y,be[0],"RIFF")){if(r(y,be[0]+8,"WEBP")){Se=3;break e}var Ae=Me(y,be[0]+4);if(12>Ae||4294967286<Ae){Se=3;break e}if(ae&&Ae>Ee[0]-8){Se=7;break e}Se[0]=Ae,be[0]+=12,Ee[0]-=12}Se=0}if(Se!=0)return Se;for(Ae=0<ye.gb[0],P=P[0];;){e:{var Te=y;Ee=j,Se=P;var Ue=ie,$e=me,Nt=be=[0];if((vt=je=[je])[0]=0,8>Se[0])Se=7;else{if(!r(Te,Ee[0],"VP8X")){if(Me(Te,Ee[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var ct=Me(Te,Ee[0]+8),rr=1+_e(Te,Ee[0]+12);if(2147483648<=rr*(Te=1+_e(Te,Ee[0]+15))){Se=3;break e}Nt!=null&&(Nt[0]=ct),Ue!=null&&(Ue[0]=rr),$e!=null&&($e[0]=Te),Ee[0]+=18,Se[0]-=18,vt[0]=1}Se=0}}if(je=je[0],be=be[0],Se!=0)return Se;if(Ee=!!(2&be),!Ae&&je)return 3;if(H!=null&&(H[0]=!!(16&be)),Y!=null&&(Y[0]=Ee),K!=null&&(K[0]=0),Y=ie[0],be=me[0],je&&Ee&&X==null){Se=0;break}if(4>P){Se=7;break}if(Ae&&je||!Ae&&!je&&!r(y,j[0],"ALPH")){P=[P],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{ct=y,Se=j,Ae=P;var vt=ye.gb;Ue=ye.na,$e=ye.P,Nt=ye.Sa,rr=22,t(ct!=null),t(Ae!=null),Te=Se[0];var ur=Ae[0];for(t(Ue!=null),t(Nt!=null),Ue[0]=null,$e[0]=null,Nt[0]=0;;){if(Se[0]=Te,Ae[0]=ur,8>ur){Se=7;break e}var ys=Me(ct,Te+4);if(4294967286<ys){Se=3;break e}var nr=8+ys+1&-2;if(rr+=nr,0<vt&&rr>vt){Se=3;break e}if(!r(ct,Te,"VP8 ")||!r(ct,Te,"VP8L")){Se=0;break e}if(ur[0]<nr){Se=7;break e}r(ct,Te,"ALPH")||(Ue[0]=ct,$e[0]=Te+8,Nt[0]=ys),Te+=nr,ur-=nr}}if(P=P[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],Se!=0)break}P=[P],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(vt=y,Se=j,Ae=P,Ue=ye.gb[0],$e=ye.Ja,Nt=ye.xa,ct=Se[0],Te=!r(vt,ct,"VP8 "),rr=!r(vt,ct,"VP8L"),t(vt!=null),t(Ae!=null),t($e!=null),t(Nt!=null),8>Ae[0])Se=7;else{if(Te||rr){if(vt=Me(vt,ct+4),12<=Ue&&vt>Ue-12){Se=3;break e}if(ae&&vt>Ae[0]-8){Se=7;break e}$e[0]=vt,Se[0]+=8,Ae[0]-=8,Nt[0]=rr}else Nt[0]=5<=Ae[0]&&vt[ct+0]==47&&!(vt[ct+4]>>5),$e[0]=Ae[0];Se=0}if(P=P[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],j=j[0],Se!=0)break;if(4294967286<ye.Ja)return 3;if(K==null||Ee||(K[0]=ye.xa?2:1),Y=[Y],be=[be],ye.xa){if(5>P){Se=7;break}K=Y,ae=be,Ee=H,y==null||5>P?y=0:5<=P&&y[j+0]==47&&!(y[j+4]>>5)?(Ae=[0],vt=[0],Ue=[0],Z($e=new _,y,j,P),Ls($e,Ae,vt,Ue)?(K!=null&&(K[0]=Ae[0]),ae!=null&&(ae[0]=vt[0]),Ee!=null&&(Ee[0]=Ue[0]),y=1):y=0):y=0}else{if(10>P){Se=7;break}K=be,y==null||10>P||!_y(y,j+3,P-3)?y=0:(ae=y[j+0]|y[j+1]<<8|y[j+2]<<16,Ee=16383&(y[j+7]<<8|y[j+6]),y=16383&(y[j+9]<<8|y[j+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=ye.Ja||!Ee||!y?y=0:(Y&&(Y[0]=Ee),K&&(K[0]=y),y=1))}if(!y||(Y=Y[0],be=be[0],je&&(ie[0]!=Y||me[0]!=be)))return 3;X!=null&&(X[0]=ye,X.offset=j-X.w,t(4294967286>j-X.w),t(X.offset==X.ha-P));break}return Se==0||Se==7&&je&&X==null?(H!=null&&(H[0]|=ye.na!=null&&0<ye.na.length),L!=null&&(L[0]=Y),V!=null&&(V[0]=be),0):Se}function pg(y,j,P){var L=j.width,V=j.height,H=0,Y=0,K=L,X=V;if(j.Da=y!=null&&0<y.Da,j.Da&&(K=y.cd,X=y.bd,H=y.v,Y=y.j,11>P||(H&=-2,Y&=-2),0>H||0>Y||0>=K||0>=X||H+K>L||Y+X>V))return 0;if(j.v=H,j.j=Y,j.va=H+K,j.o=Y+X,j.U=K,j.T=X,j.da=y!=null&&0<y.da,j.da){if(!Ye(K,X,P=[y.ib],H=[y.hb]))return 0;j.ib=P[0],j.hb=H[0]}return j.ob=y!=null&&y.ob,j.Kb=y==null||!y.Sd,j.da&&(j.ob=j.ib<3*L/4&&j.hb<3*V/4,j.Kb=0),1}function mg(y){if(y==null)return 2;if(11>y.S){var j=y.f.RGBA;j.fb+=(y.height-1)*j.A,j.A=-j.A}else j=y.f.kb,y=y.height,j.O+=(y-1)*j.fa,j.fa=-j.fa,j.N+=(y-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(y-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(y-1)*j.lb,j.lb=-j.lb);return 0}function zc(y,j,P,L){if(L==null||0>=y||0>=j)return 2;if(P!=null){if(P.Da){var V=P.cd,H=P.bd,Y=-2&P.v,K=-2&P.j;if(0>Y||0>K||0>=V||0>=H||Y+V>y||K+H>j)return 2;y=V,j=H}if(P.da){if(!Ye(y,j,V=[P.ib],H=[P.hb]))return 2;y=V[0],j=H[0]}}L.width=y,L.height=j;e:{var X=L.width,ie=L.height;if(y=L.S,0>=X||0>=ie||!(y>=Dy&&13>y))y=2;else{if(0>=L.Rd&&L.sd==null){Y=H=V=j=0;var me=(K=X*b4[y])*ie;if(11>y||(H=(ie+1)/2*(j=(X+1)/2),y==12&&(Y=(V=X)*ie)),(ie=i(me+2*H+Y))==null){y=1;break e}L.sd=ie,11>y?((X=L.f.RGBA).eb=ie,X.fb=0,X.A=K,X.size=me):((X=L.f.kb).y=ie,X.O=0,X.fa=K,X.Fd=me,X.f=ie,X.N=0+me,X.Ab=j,X.Cd=H,X.ea=ie,X.W=0+me+H,X.Db=j,X.Ed=H,y==12&&(X.F=ie,X.J=0+me+2*H),X.Tc=Y,X.lb=V)}if(j=1,V=L.S,H=L.width,Y=L.height,V>=Dy&&13>V)if(11>V)y=L.f.RGBA,j&=(K=Math.abs(y.A))*(Y-1)+H<=y.size,j&=K>=H*b4[V],j&=y.eb!=null;else{y=L.f.kb,K=(H+1)/2,me=(Y+1)/2,X=Math.abs(y.fa),ie=Math.abs(y.Ab);var je=Math.abs(y.Db),ae=Math.abs(y.lb),ye=ae*(Y-1)+H;j&=X*(Y-1)+H<=y.Fd,j&=ie*(me-1)+K<=y.Cd,j=(j&=je*(me-1)+K<=y.Ed)&X>=H&ie>=K&je>=K,j&=y.y!=null,j&=y.f!=null,j&=y.ea!=null,V==12&&(j&=ae>=H,j&=ye<=y.Tc,j&=y.F!=null)}else j=0;y=j?0:2}}return y!=0||P!=null&&P.fd&&(y=mg(L)),y}var Rd=64,Yi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ki=24,Vc=32,zl=8,Wc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ce("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(y){return y},I.Predictor2=function(y,j,P){return j[P+0]},I.Predictor3=function(y,j,P){return j[P+1]},I.Predictor4=function(y,j,P){return j[P-1]},I.Predictor5=function(y,j,P){return Ne(Ne(y,j[P+1]),j[P+0])},I.Predictor6=function(y,j,P){return Ne(y,j[P-1])},I.Predictor7=function(y,j,P){return Ne(y,j[P+0])},I.Predictor8=function(y,j,P){return Ne(j[P-1],j[P+0])},I.Predictor9=function(y,j,P){return Ne(j[P+0],j[P+1])},I.Predictor10=function(y,j,P){return Ne(Ne(y,j[P-1]),Ne(j[P+0],j[P+1]))},I.Predictor11=function(y,j,P){var L=j[P+0];return 0>=Le(L>>24&255,y>>24&255,(j=j[P-1])>>24&255)+Le(L>>16&255,y>>16&255,j>>16&255)+Le(L>>8&255,y>>8&255,j>>8&255)+Le(255&L,255&y,255&j)?L:y},I.Predictor12=function(y,j,P){var L=j[P+0];return(Oe((y>>24&255)+(L>>24&255)-((j=j[P-1])>>24&255))<<24|Oe((y>>16&255)+(L>>16&255)-(j>>16&255))<<16|Oe((y>>8&255)+(L>>8&255)-(j>>8&255))<<8|Oe((255&y)+(255&L)-(255&j)))>>>0},I.Predictor13=function(y,j,P){var L=j[P-1];return(Ce((y=Ne(y,j[P+0]))>>24&255,L>>24&255)<<24|Ce(y>>16&255,L>>16&255)<<16|Ce(y>>8&255,L>>8&255)<<8|Ce(255&y,255&L))>>>0};var gg=I.PredictorAdd0;I.PredictorAdd1=et,ce("Predictor2","PredictorAdd2"),ce("Predictor3","PredictorAdd3"),ce("Predictor4","PredictorAdd4"),ce("Predictor5","PredictorAdd5"),ce("Predictor6","PredictorAdd6"),ce("Predictor7","PredictorAdd7"),ce("Predictor8","PredictorAdd8"),ce("Predictor9","PredictorAdd9"),ce("Predictor10","PredictorAdd10"),ce("Predictor11","PredictorAdd11"),ce("Predictor12","PredictorAdd12"),ce("Predictor13","PredictorAdd13");var jf=I.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Gn,Ly=I.ColorIndexInverseTransform,Jo=I.MapARGB,Qo=I.VP8LColorIndexInverseTransformAlpha,vg=I.MapAlpha,yg=I.VP8LPredictorsAdd=[];yg.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var xg,wg,Hc,Gc,Yc,Od,Kc,Ld,Ta,Zo,$r,tn,Yn,vs,Vl,bg,Nf,Iy,KA,JA,QA,ZA,XA,e4,_g,t4,r4,n4,s4=i(511),i4=i(2041),a4=i(225),o4=i(767),l4=0,Z2=i4,My=a4,Ji=o4,Ra=s4,Dy=0,Fy=1,c4=2,$y=3,By=4,X2=5,u4=6,e_=7,t_=8,Uy=9,r_=10,cH=[2,3,7],uH=[3,3,11],d4=[280,256,256,256,40],dH=[0,1,1,1,0],hH=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fH=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pH=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mH=8,n_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],s_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Sg=null,gH=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vH=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],h4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yH=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xH=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wH=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bH=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Jc=[],ao=[],Wl=[],_H=1,f4=2,Qc=[],Oa=[];Ul("UpsampleRgbLinePair",qc,3),Ul("UpsampleBgrLinePair",Ds,3),Ul("UpsampleRgbaLinePair",di,4),Ul("UpsampleBgraLinePair",fg,4),Ul("UpsampleArgbLinePair",hg,4),Ul("UpsampleRgba4444LinePair",Pd,2),Ul("UpsampleRgb565LinePair",Ad,2);var SH=I.UpsampleRgbLinePair,jH=I.UpsampleBgrLinePair,p4=I.UpsampleRgbaLinePair,m4=I.UpsampleBgraLinePair,g4=I.UpsampleArgbLinePair,v4=I.UpsampleRgba4444LinePair,NH=I.UpsampleRgb565LinePair,qy=16,zy=1<<qy-1,jg=-227,i_=482,y4=6,kH=(256<<y4)-1,x4=0,CH=i(256),EH=i(256),AH=i(256),PH=i(256),TH=i(i_-jg),RH=i(i_-jg);ql("YuvToRgbRow",qc,3),ql("YuvToBgrRow",Ds,3),ql("YuvToRgbaRow",di,4),ql("YuvToBgraRow",fg,4),ql("YuvToArgbRow",hg,4),ql("YuvToRgba4444Row",Pd,2),ql("YuvToRgb565Row",Ad,2);var w4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vy=[0,2,8],OH=[8,7,6,4,4,2,2,2,1,1,1,1],LH=1;this.WebPDecodeRGBA=function(y,j,P,L,V){var H=Fy,Y=new Pe,K=new Gt;Y.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var X=K.width,ie=K.height,me=new pt;if(me==null||y==null)var je=2;else t(me!=null),je=Td(y,j,P,me.width,me.height,me.Pd,me.Qd,me.format,null);if(je!=0?X=0:(X!=null&&(X[0]=me.width[0]),ie!=null&&(ie[0]=me.height[0]),X=1),X){K.width=K.width[0],K.height=K.height[0],L!=null&&(L[0]=K.width),V!=null&&(V[0]=K.height);e:{if(L=new vf,(V=new Fe).data=y,V.w=j,V.ha=P,V.kd=1,j=[0],t(V!=null),((y=Td(V.data,V.w,V.ha,null,null,null,j,null,V))==0||y==7)&&j[0]&&(y=4),(j=y)==0){if(t(Y!=null),L.data=V.data,L.w=V.w+V.offset,L.ha=V.ha-V.offset,L.put=mt,L.ac=Dn,L.bc=Cs,L.ma=Y,V.xa){if((y=wd())==null){Y=1;break e}if(function(ae,ye){var be=[0],Ee=[0],Se=[0];t:for(;;){if(ae==null)return 0;if(ye==null)return ae.a=2,0;if(ae.l=ye,ae.a=0,Z(ae.m,ye.data,ye.w,ye.ha),!Ls(ae.m,be,Ee,Se)){ae.a=3;break t}if(ae.xb=f4,ye.width=be[0],ye.height=Ee[0],!Ho(be[0],Ee[0],1,ae,null))break t;return 1}return t(ae.a!=0),0}(y,L)){if(L=(j=zc(L.width,L.height,Y.Oa,Y.ba))==0){t:{L=y;r:for(;;){if(L==null){L=0;break t}if(t(L.s.yc!=null),t(L.s.Ya!=null),t(0<L.s.Wb),t((P=L.l)!=null),t((V=P.ma)!=null),L.xb!=0){if(L.ca=V.ba,L.tb=V.tb,t(L.ca!=null),!pg(V.Oa,P,$y)){L.a=2;break r}if(!bd(L,P.width)||P.da)break r;if((P.da||At(L.ca.S))&&io(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&io()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!J(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!no(L,L.V,L.Ba,L.c,L.i,P.o,Bc))break r;V.Dc=L.Ma,L=1;break t}t(L.a!=0),L=0}L=!L}L&&(j=y.a)}else j=y.a}else{if((y=new D2)==null){Y=1;break e}if(y.Fa=V.na,y.P=V.P,y.qc=V.Sa,Yo(y,L)){if((j=zc(L.width,L.height,Y.Oa,Y.ba))==0){if(y.Aa=0,P=Y.Oa,t((V=y)!=null),P!=null){if(0<(X=0>(X=P.Md)?0:100<X?255:255*X/100)){for(ie=me=0;4>ie;++ie)12>(je=V.pb[ie]).lc&&(je.ia=X*OH[0>je.lc?0:je.lc]>>3),me|=je.ia;me&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=P.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ae,ye){if(ae==null)return 0;if(ye==null)return as(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!Yo(ae,ye))return 0;if(t(ae.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(ae.L=0);var be=Vy[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=ye.v-be>>4,ae.zb=ye.j-be>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=ye.o+15+be>>4,ae.Hb=ye.va+15+be>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Ee=ae.ed;for(be=0;4>be;++be){var Se;if(ae.Qa.Cb){var Ae=ae.Qa.Lb[be];ae.Qa.Fb||(Ae+=Ee.Tb)}else Ae=Ee.Tb;for(Se=0;1>=Se;++Se){var Te=ae.gd[be][Se],Ue=Ae;if(Ee.Pc&&(Ue+=Ee.vd[0],Se&&(Ue+=Ee.od[0])),0<(Ue=0>Ue?0:63<Ue?63:Ue)){var $e=Ue;0<Ee.wb&&($e=4<Ee.wb?$e>>2:$e>>1)>9-Ee.wb&&($e=9-Ee.wb),1>$e&&($e=1),Te.dd=$e,Te.tc=2*Ue+$e,Te.ld=40<=Ue?2:15<=Ue?1:0}else Te.tc=0;Te.La=Se}}}be=0}else as(ae,6,"Frame setup failed"),be=ae.a;if(be=be==0){if(be){ae.$c=0,0<ae.Aa||(ae.Ic=LH);t:{be=ae.Ic,Ee=4*($e=ae.za);var Nt=32*$e,ct=$e+1,rr=0<ae.L?$e*(0<ae.Aa?2:1):0,vt=(ae.Aa==2?2:1)*$e;if((Te=Ee+832+(Se=3*(16*be+Vy[ae.L])/2*Nt)+(Ae=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=Te)be=0;else{if(Te>ae.Vb){if(ae.Vb=0,ae.Ec=i(Te),ae.Fc=0,ae.Ec==null){be=as(ae,1,"no memory during frame initialization.");break t}ae.Vb=Te}Te=ae.Ec,Ue=ae.Fc,ae.Ac=Te,ae.Bc=Ue,Ue+=Ee,ae.Gd=a(Nt,wy),ae.Hd=0,ae.rb=a(ct+1,tg),ae.sb=1,ae.wa=rr?a(rr,Ea):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=$e),t(!0),ae.oc=Te,ae.pc=Ue,Ue+=832,ae.ya=a(vt,rg),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=$e),ae.R=16*$e,ae.B=8*$e,$e=(Nt=Vy[ae.L])*ae.R,Nt=Nt/2*ae.B,ae.sa=Te,ae.ta=Ue+$e,ae.qa=ae.sa,ae.ra=ae.ta+16*be*ae.R+Nt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*be*ae.B+Nt,ae.$c=0,Ue+=Se,ae.mb=Ae?Te:null,ae.nb=Ae?Ue:null,t(Ue+Ae<=ae.Fc+ae.Vb),Sy(ae),s(ae.Ac,ae.Bc,0,Ee),be=1}}if(be){if(ye.ka=0,ye.y=ae.sa,ye.O=ae.ta,ye.f=ae.qa,ye.N=ae.ra,ye.ea=ae.Ha,ye.Vd=ae.Ia,ye.fa=ae.R,ye.Rc=ae.B,ye.F=null,ye.J=0,!l4){for(be=-255;255>=be;++be)s4[255+be]=0>be?-be:be;for(be=-1020;1020>=be;++be)i4[1020+be]=-128>be?-128:127<be?127:be;for(be=-112;112>=be;++be)a4[112+be]=-16>be?-16:15<be?15:be;for(be=-255;510>=be;++be)o4[255+be]=0>be?0:255<be?255:be;l4=1}Kc=xf,Ld=$2,Zo=Ko,$r=Ny,tn=ky,Ta=F2,Yn=Ty,vs=kd,Vl=z,bg=oe,Nf=Ry,Iy=N,KA=de,JA=we,QA=Nd,ZA=ug,XA=Ay,e4=Py,ao[0]=G2,ao[1]=B2,ao[2]=W2,ao[3]=H2,ao[4]=Ll,ao[5]=Y2,ao[6]=Il,ao[7]=K2,ao[8]=ig,ao[9]=wf,Jc[0]=z2,Jc[1]=q2,Jc[2]=ng,Jc[3]=Cy,Jc[4]=Sd,Jc[5]=sg,Jc[6]=V2,Wl[0]=Q2,Wl[1]=U2,Wl[2]=jd,Wl[3]=J2,Wl[4]=og,Wl[5]=ag,Wl[6]=Ey,be=1}else be=0}be&&(be=function(ur,ys){for(ur.M=0;ur.M<ur.Va;++ur.M){var nr,yt=ur.Jc[ur.M&ur.Xb],Ke=ur.m,Kn=ur;for(nr=0;nr<Kn.za;++nr){var er=Ke,gr=Kn,yn=gr.Ac,Fs=gr.Bc+4*nr,hi=gr.zc,$n=gr.ya[gr.aa+nr];if(gr.Qa.Bb?$n.$b=le(er,gr.Pa.jb[0])?2+le(er,gr.Pa.jb[2]):le(er,gr.Pa.jb[1]):$n.$b=0,gr.kc&&($n.Ad=le(er,gr.Bd)),$n.Za=!le(er,145)+0,$n.Za){var Qs=$n.Ob,fi=0;for(gr=0;4>gr;++gr){var xs,Sr=hi[0+gr];for(xs=0;4>xs;++xs){Sr=xH[yn[Fs+xs]][Sr];for(var qr=h4[le(er,Sr[0])];0<qr;)qr=h4[2*qr+le(er,Sr[qr])];Sr=-qr,yn[Fs+xs]=Sr}n(Qs,fi,yn,Fs,4),fi+=4,hi[0+gr]=Sr}}else Sr=le(er,156)?le(er,128)?1:3:le(er,163)?2:0,$n.Ob[0]=Sr,s(yn,Fs,Sr,4),s(hi,0,Sr,4);$n.Dd=le(er,142)?le(er,114)?le(er,183)?1:3:2:0}if(Kn.m.Ka)return as(ur,7,"Premature end-of-partition0 encountered.");for(;ur.ja<ur.za;++ur.ja){if(Kn=yt,er=(Ke=ur).rb[Ke.sb-1],yn=Ke.rb[Ke.sb+Ke.ja],nr=Ke.ya[Ke.aa+Ke.ja],Fs=Ke.kc?nr.Ad:0)er.la=yn.la=0,nr.Za||(er.Na=yn.Na=0),nr.Hc=0,nr.Gc=0,nr.ia=0;else{var Bn,zr;if(er=yn,yn=Kn,Fs=Ke.Pa.Xc,hi=Ke.ya[Ke.aa+Ke.ja],$n=Ke.pb[hi.$b],gr=hi.ad,Qs=0,fi=Ke.rb[Ke.sb-1],Sr=xs=0,s(gr,Qs,0,384),hi.Za)var $s=0,oo=Fs[3];else{qr=i(16);var Jn=er.Na+fi.Na;if(Jn=Sg(yn,Fs[1],Jn,$n.Eb,0,qr,0),er.Na=fi.Na=(0<Jn)+0,1<Jn)Kc(qr,0,gr,Qs);else{var Ti=qr[0]+3>>3;for(qr=0;256>qr;qr+=16)gr[Qs+qr]=Ti}$s=1,oo=Fs[0]}var rn=15&er.la,ws=15&fi.la;for(qr=0;4>qr;++qr){var Qi=1&ws;for(Ti=zr=0;4>Ti;++Ti)rn=rn>>1|(Qi=(Jn=Sg(yn,oo,Jn=Qi+(1&rn),$n.Sc,$s,gr,Qs))>$s)<<7,zr=zr<<2|(3<Jn?3:1<Jn?2:gr[Qs+0]!=0),Qs+=16;rn>>=4,ws=ws>>1|Qi<<7,xs=(xs<<8|zr)>>>0}for(oo=rn,$s=ws>>4,Bn=0;4>Bn;Bn+=2){for(zr=0,rn=er.la>>4+Bn,ws=fi.la>>4+Bn,qr=0;2>qr;++qr){for(Qi=1&ws,Ti=0;2>Ti;++Ti)Jn=Qi+(1&rn),rn=rn>>1|(Qi=0<(Jn=Sg(yn,Fs[2],Jn,$n.Qc,0,gr,Qs)))<<3,zr=zr<<2|(3<Jn?3:1<Jn?2:gr[Qs+0]!=0),Qs+=16;rn>>=2,ws=ws>>1|Qi<<5}Sr|=zr<<4*Bn,oo|=rn<<4<<Bn,$s|=(240&ws)<<Bn}er.la=oo,fi.la=$s,hi.Hc=xs,hi.Gc=Sr,hi.ia=43690&Sr?0:$n.ia,Fs=!(xs|Sr)}if(0<Ke.L&&(Ke.wa[Ke.Y+Ke.ja]=Ke.gd[nr.$b][nr.Za],Ke.wa[Ke.Y+Ke.ja].La|=!Fs),Kn.Ka)return as(ur,7,"Premature end-of-file encountered.")}if(Sy(ur),Ke=ys,Kn=1,nr=(yt=ur).D,er=0<yt.L&&yt.M>=yt.zb&&yt.M<=yt.Va,yt.Aa==0)t:{if(nr.M=yt.M,nr.uc=er,Pa(yt,nr),Kn=1,nr=(zr=yt.D).Nb,er=(Sr=Vy[yt.L])*yt.R,yn=Sr/2*yt.B,qr=16*nr*yt.R,Ti=8*nr*yt.B,Fs=yt.sa,hi=yt.ta-er+qr,$n=yt.qa,gr=yt.ra-yn+Ti,Qs=yt.Ha,fi=yt.Ia-yn+Ti,ws=(rn=zr.M)==0,xs=rn>=yt.Va-1,yt.Aa==2&&Pa(yt,zr),zr.uc)for(Qi=(Jn=yt).D.M,t(Jn.D.uc),zr=Jn.yb;zr<Jn.Hb;++zr){$s=zr,oo=Qi;var pi=(Zi=(Bs=Jn).D).Nb;Bn=Bs.R;var Zi=Zi.wa[Zi.Y+$s],Xi=Bs.sa,Ri=Bs.ta+16*pi*Bn+16*$s,ea=Zi.dd,cn=Zi.tc;if(cn!=0)if(t(3<=cn),Bs.L==1)0<$s&&ZA(Xi,Ri,Bn,cn+4),Zi.La&&e4(Xi,Ri,Bn,cn),0<oo&&QA(Xi,Ri,Bn,cn+4),Zi.La&&XA(Xi,Ri,Bn,cn);else{var ta=Bs.B,lo=Bs.qa,Id=Bs.ra+8*pi*ta+8*$s,Hl=Bs.Ha,Bs=Bs.Ia+8*pi*ta+8*$s;pi=Zi.ld,0<$s&&(vs(Xi,Ri,Bn,cn+4,ea,pi),bg(lo,Id,Hl,Bs,ta,cn+4,ea,pi)),Zi.La&&(Iy(Xi,Ri,Bn,cn,ea,pi),JA(lo,Id,Hl,Bs,ta,cn,ea,pi)),0<oo&&(Yn(Xi,Ri,Bn,cn+4,ea,pi),Vl(lo,Id,Hl,Bs,ta,cn+4,ea,pi)),Zi.La&&(Nf(Xi,Ri,Bn,cn,ea,pi),KA(lo,Id,Hl,Bs,ta,cn,ea,pi))}}if(yt.ia&&alert("todo:DitherRow"),Ke.put!=null){if(zr=16*rn,rn=16*(rn+1),ws?(Ke.y=yt.sa,Ke.O=yt.ta+qr,Ke.f=yt.qa,Ke.N=yt.ra+Ti,Ke.ea=yt.Ha,Ke.W=yt.Ia+Ti):(zr-=Sr,Ke.y=Fs,Ke.O=hi,Ke.f=$n,Ke.N=gr,Ke.ea=Qs,Ke.W=fi),xs||(rn-=Sr),rn>Ke.o&&(rn=Ke.o),Ke.F=null,Ke.J=null,yt.Fa!=null&&0<yt.Fa.length&&zr<rn&&(Ke.J=ln(yt,Ke,zr,rn-zr),Ke.F=yt.mb,Ke.F==null&&Ke.F.length==0)){Kn=as(yt,3,"Could not decode alpha data.");break t}zr<Ke.j&&(Sr=Ke.j-zr,zr=Ke.j,t(!(1&Sr)),Ke.O+=yt.R*Sr,Ke.N+=yt.B*(Sr>>1),Ke.W+=yt.B*(Sr>>1),Ke.F!=null&&(Ke.J+=Ke.width*Sr)),zr<rn&&(Ke.O+=Ke.v,Ke.N+=Ke.v>>1,Ke.W+=Ke.v>>1,Ke.F!=null&&(Ke.J+=Ke.v),Ke.ka=zr-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=rn-zr,Kn=Ke.put(Ke))}nr+1!=yt.Ic||xs||(n(yt.sa,yt.ta-er,Fs,hi+16*yt.R,er),n(yt.qa,yt.ra-yn,$n,gr+8*yt.B,yn),n(yt.Ha,yt.Ia-yn,Qs,fi+8*yt.B,yn))}if(!Kn)return as(ur,6,"Output aborted.")}return 1}(ae,ye)),ye.bc!=null&&ye.bc(ye),be&=1}return be?(ae.cb=0,be):0})(y,L)||(j=y.a)}}else j=y.a}j==0&&Y.Oa!=null&&Y.Oa.fd&&(j=mg(Y.ba))}Y=j}H=Y!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var b4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,G){for(var A="",M=0;M<4;M++)A+=String.fromCharCode(I[G++]);return A}function d(I,G){return I[G+0]|I[G+1]<<8}function h(I,G){return(I[G+0]|I[G+1]<<8|I[G+2]<<16)>>>0}function p(I,G){return(I[G+0]|I[G+1]<<8|I[G+2]<<16|I[G+3]<<24)>>>0}new c;var f=[0],v=[0],m=[],x=new c,g=e,b=function(I,G){var A={},M=0,$=!1,q=0,ee=0;if(A.frames=[],!function(U,_){for(var C=0;C<4;C++)if(U[_+C]!="RIFF".charCodeAt(C))return!0;return!1}(I,G)){for(p(I,G+=4),G+=8;G<I.length;){var re=u(I,G),te=p(I,G+=4);G+=4;var W=te+(1&te);switch(re){case"VP8 ":case"VP8L":A.frames[M]===void 0&&(A.frames[M]={}),(ge=A.frames[M]).src_off=$?ee:G-8,ge.src_size=q+te+8,M++,$&&($=!1,q=0,ee=0);break;case"VP8X":(ge=A.header={}).feature_flags=I[G];var Z=G+4;ge.canvas_width=1+h(I,Z),Z+=3,ge.canvas_height=1+h(I,Z),Z+=3;break;case"ALPH":$=!0,q=W+8,ee=G-8;break;case"ANIM":(ge=A.header).bgcolor=p(I,G),Z=G+4,ge.loop_count=d(I,Z),Z+=2;break;case"ANMF":var pe,ge;(ge=A.frames[M]={}).offset_x=2*h(I,G),G+=3,ge.offset_y=2*h(I,G),G+=3,ge.width=1+h(I,G),G+=3,ge.height=1+h(I,G),G+=3,ge.duration=h(I,G),G+=3,pe=I[G++],ge.dispose=1&pe,ge.blend=pe>>1&1}re!="ANMF"&&(G+=W)}return A}}(g,0);b.response=g,b.rgbaoutput=!0,b.dataurl=!1;var S=b.header?b.header:null,k=b.frames?b.frames:null;if(S){S.loop_counter=S.loop_count,f=[S.canvas_height],v=[S.canvas_width];for(var T=0;T<k.length&&k[T].blend!=0;T++);}var R=k[0],O=x.WebPDecodeRGBA(g,R.src_off,R.src_size,v,f);R.rgba=O,R.imgwidth=v[0],R.imgheight=f[0];for(var D=0;D<v[0]*f[0]*4;D++)m[D]=O[D];return this.width=v,this.height=f,this.data=m,this}(function(e){var t,r,n,s,i,a,l,c,u,d=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new a,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new a,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var _=U;Object.defineProperty(this,"pdf",{get:function(){return _}});var C=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return C},set:function(J){C=!!J}});var E=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return E},set:function(J){E=!!J}});var B=0;Object.defineProperty(this,"posX",{get:function(){return B},set:function(J){isNaN(J)||(B=J)}});var F=0;Object.defineProperty(this,"posY",{get:function(){return F},set:function(J){isNaN(J)||(F=J)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(J){var De;typeof J=="number"?De=[J,J,J,J]:((De=new Array(4))[0]=J[0],De[1]=J.length>=2?J[1]:De[0],De[2]=J.length>=3?J[2]:De[0],De[3]=J.length>=4?J[3]:De[1]),u.margin=De}});var Q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Q},set:function(J){Q=J}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(J){ne=J}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(J){le=J}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(J){J instanceof d&&(u=J)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(J){u.path=J}});var ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return ue},set:function(J){ue=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var De;De=p(J),this.ctx.fillStyle=De.style,this.ctx.isFillTransparent=De.a===0,this.ctx.fillOpacity=De.a,this.pdf.setFillColor(De.r,De.g,De.b,{a:De.a}),this.pdf.setTextColor(De.r,De.g,De.b,{a:De.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var De=p(J);this.ctx.strokeStyle=De.style,this.ctx.isStrokeTransparent=De.a===0,this.ctx.strokeOpacity=De.a,De.a===0?this.pdf.setDrawColor(255,255,255):(De.a,this.pdf.setDrawColor(De.r,De.g,De.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var fe=null,_e=null,Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(J){fe=null,_e=null,Me=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var De;if(this.ctx.font=J,(De=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var Ge=De[1];De[2];var Ye=De[3],ve=De[4];De[5];var se=De[6],ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ve)[2];ve=Math.floor(ce==="px"?parseFloat(ve)*this.pdf.internal.scaleFactor:ce==="em"?parseFloat(ve)*this.pdf.getFontSize():parseFloat(ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ve);var xe=function(rt){var Fr,qt,Ot=[],zt=rt.trim();if(zt==="")return jS;if(zt in vI)return[vI[zt]];for(;zt!=="";){switch(qt=null,Fr=(zt=xI(zt)).charAt(0)){case'"':case"'":qt=vbe(zt.substring(1),Fr);break;default:qt=ybe(zt)}if(qt===null||(Ot.push(qt[0]),(zt=xI(qt[1]))!==""&&zt.charAt(0)!==","))return jS;zt=zt.replace(/^,/,"")}return Ot}(se);if(this.fontFaces){var Ne=function(rt,Fr){var qt=rt.getFontList(),Ot=JSON.stringify(qt);if(fe===null||_e!==Ot){var zt=function(lr){var _t=[];return Object.keys(lr).forEach(function(br){lr[br].forEach(function(At){var Dt=null;switch(At){case"bold":Dt={family:br,weight:"bold"};break;case"italic":Dt={family:br,style:"italic"};break;case"bolditalic":Dt={family:br,weight:"bold",style:"italic"};break;case"":case"normal":Dt={family:br}}Dt!==null&&(Dt.ref={name:br,style:At},_t.push(Dt))})}),_t}(qt);fe=function(lr){for(var _t={},br=0;br<lr.length;++br){var At=SS(lr[br]),Dt=At.family,Ur=At.stretch,Gt=At.style,pt=At.weight;_t[Dt]=_t[Dt]||{},_t[Dt][Ur]=_t[Dt][Ur]||{},_t[Dt][Ur][Gt]=_t[Dt][Ur][Gt]||{},_t[Dt][Ur][Gt][pt]=At}return _t}(zt.concat(Fr)),_e=Ot}return fe}(this.pdf,this.fontFaces),Oe=xe.map(function(rt){return{family:rt,stretch:"normal",weight:Ye,style:Ge}}),Ce=function(rt,Fr,qt){for(var Ot=(qt=qt||{}).defaultFontFamily||"times",zt=Object.assign({},gbe,qt.genericFontFamilies||{}),lr=null,_t=null,br=0;br<Fr.length;++br)if(zt[(lr=SS(Fr[br])).family]&&(lr.family=zt[lr.family]),rt.hasOwnProperty(lr.family)){_t=rt[lr.family];break}if(!(_t=_t||rt[Ot]))throw new Error("Could not find a font-family for the rule '"+yI(lr)+"' and default family '"+Ot+"'.");if(_t=function(At,Dt){if(Dt[At])return Dt[At];var Ur=Ck[At],Gt=Ur<=Ck.normal?-1:1,pt=gI(Dt,zW,Ur,Gt);if(!pt)throw new Error("Could not find a matching font-stretch value for "+At);return pt}(lr.stretch,_t),_t=function(At,Dt){if(Dt[At])return Dt[At];for(var Ur=qW[At],Gt=0;Gt<Ur.length;++Gt)if(Dt[Ur[Gt]])return Dt[Ur[Gt]];throw new Error("Could not find a matching font-style for "+At)}(lr.style,_t),!(_t=function(At,Dt){if(Dt[At])return Dt[At];if(At===400&&Dt[500])return Dt[500];if(At===500&&Dt[400])return Dt[400];var Ur=mbe[At],Gt=gI(Dt,VW,Ur,At<400?-1:1);if(!Gt)throw new Error("Could not find a matching font-weight for value "+At);return Gt}(lr.weight,_t)))throw new Error("Failed to resolve a font for the rule '"+yI(lr)+"'.");return _t}(Ne,Oe);this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var Le="";(Ye==="bold"||parseInt(Ye,10)>=700||Ge==="bold")&&(Le="bold"),Ge==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var et="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Je=0;Je<xe.length;Je++){if(this.pdf.internal.getFont(xe[Je],Le,{noFallback:!0,disableWarning:!0})!==void 0){et=xe[Je];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(xe[Je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)et=xe[Je],Le="bold";else if(this.pdf.internal.getFont(xe[Je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){et=xe[Je],Le="normal";break}}if(et===""){for(var bt=0;bt<xe.length;bt++)if(at[xe[bt]]){et=at[xe[bt]];break}}et=et===""?"Times":et,this.pdf.setFont(et,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(U){this.lineDash=U},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(U,_){if(isNaN(U)||isNaN(_))throw an.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var C=this.ctx.transform.applyToPoint(new a(U,_));this.path.push({type:"mt",x:C.x,y:C.y}),this.ctx.lastPoint=new a(U,_)},h.prototype.closePath=function(){var U=new a(0,0),_=0;for(_=this.path.length-1;_!==-1;_--)if(this.path[_].type==="begin"&&Yr(this.path[_+1])==="object"&&typeof this.path[_+1].x=="number"){U=new a(this.path[_+1].x,this.path[_+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(U.x,U.y)},h.prototype.lineTo=function(U,_){if(isNaN(U)||isNaN(_))throw an.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var C=this.ctx.transform.applyToPoint(new a(U,_));this.path.push({type:"lt",x:C.x,y:C.y}),this.ctx.lastPoint=new a(C.x,C.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(U,_,C,E){if(isNaN(C)||isNaN(E)||isNaN(U)||isNaN(_))throw an.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var B=this.ctx.transform.applyToPoint(new a(C,E)),F=this.ctx.transform.applyToPoint(new a(U,_));this.path.push({type:"qct",x1:F.x,y1:F.y,x:B.x,y:B.y}),this.ctx.lastPoint=new a(B.x,B.y)},h.prototype.bezierCurveTo=function(U,_,C,E,B,F){if(isNaN(B)||isNaN(F)||isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E))throw an.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Q=this.ctx.transform.applyToPoint(new a(B,F)),ne=this.ctx.transform.applyToPoint(new a(U,_)),le=this.ctx.transform.applyToPoint(new a(C,E));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:le.x,y2:le.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(Q.x,Q.y)},h.prototype.arc=function(U,_,C,E,B,F){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E)||isNaN(B))throw an.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(F=!!F,!this.ctx.transform.isIdentity){var Q=this.ctx.transform.applyToPoint(new a(U,_));U=Q.x,_=Q.y;var ne=this.ctx.transform.applyToPoint(new a(0,C)),le=this.ctx.transform.applyToPoint(new a(0,0));C=Math.sqrt(Math.pow(ne.x-le.x,2)+Math.pow(ne.y-le.y,2))}Math.abs(B-E)>=2*Math.PI&&(E=0,B=2*Math.PI),this.path.push({type:"arc",x:U,y:_,radius:C,startAngle:E,endAngle:B,counterclockwise:F})},h.prototype.arcTo=function(U,_,C,E,B){throw new Error("arcTo not implemented.")},h.prototype.rect=function(U,_,C,E){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E))throw an.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,_),this.lineTo(U+C,_),this.lineTo(U+C,_+E),this.lineTo(U,_+E),this.lineTo(U,_),this.lineTo(U+C,_),this.lineTo(U,_)},h.prototype.fillRect=function(U,_,C,E){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E))throw an.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var B={};this.lineCap!=="butt"&&(B.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(B.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,_,C,E),this.fill(),B.hasOwnProperty("lineCap")&&(this.lineCap=B.lineCap),B.hasOwnProperty("lineJoin")&&(this.lineJoin=B.lineJoin)}},h.prototype.strokeRect=function(U,_,C,E){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E))throw an.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(U,_,C,E),this.stroke())},h.prototype.clearRect=function(U,_,C,E){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E))throw an.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,_,C,E))},h.prototype.save=function(U){U=typeof U!="boolean"||U;for(var _=this.pdf.internal.getCurrentPageInfo().pageNumber,C=0;C<this.pdf.internal.getNumberOfPages();C++)this.pdf.setPage(C+1),this.pdf.internal.out("q");if(this.pdf.setPage(_),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var E=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=E}},h.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var _=this.pdf.internal.getCurrentPageInfo().pageNumber,C=0;C<this.pdf.internal.getNumberOfPages();C++)this.pdf.setPage(C+1),this.pdf.internal.out("Q");this.pdf.setPage(_),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(U){var _,C,E,B;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))_=0,C=0,E=0,B=0;else{var F=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(F!==null)_=parseInt(F[1]),C=parseInt(F[2]),E=parseInt(F[3]),B=1;else if((F=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)_=parseInt(F[1]),C=parseInt(F[2]),E=parseInt(F[3]),B=parseFloat(F[4]);else{if(B=1,typeof U=="string"&&U.charAt(0)!=="#"){var Q=new IW(U);U=Q.ok?Q.toHex():"#000000"}U.length===4?(_=U.substring(1,2),_+=_,C=U.substring(2,3),C+=C,E=U.substring(3,4),E+=E):(_=U.substring(1,3),C=U.substring(3,5),E=U.substring(5,7)),_=parseInt(_,16),C=parseInt(C,16),E=parseInt(E,16)}}return{r:_,g:C,b:E,a:B,style:U}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(U,_,C,E){if(isNaN(_)||isNaN(C)||typeof U!="string")throw an.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(E=isNaN(E)?void 0:E,!f.call(this)){var B=W(this.ctx.transform.rotation),F=this.ctx.transform.scaleX;M.call(this,{text:U,x:_,y:C,scale:F,angle:B,align:this.textAlign,maxWidth:E})}},h.prototype.strokeText=function(U,_,C,E){if(isNaN(_)||isNaN(C)||typeof U!="string")throw an.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){E=isNaN(E)?void 0:E;var B=W(this.ctx.transform.rotation),F=this.ctx.transform.scaleX;M.call(this,{text:U,x:_,y:C,scale:F,renderingMode:"stroke",angle:B,align:this.textAlign,maxWidth:E})}},h.prototype.measureText=function(U){if(typeof U!="string")throw an.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var _=this.pdf,C=this.pdf.internal.scaleFactor,E=_.internal.getFontSize(),B=_.getStringUnitWidth(U)*E/_.internal.scaleFactor;return new function(F){var Q=(F=F||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Q}}),this}({width:B*=Math.round(96*C/72*1e4)/1e4})},h.prototype.scale=function(U,_){if(isNaN(U)||isNaN(_))throw an.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var C=new c(U,0,0,_,0,0);this.ctx.transform=this.ctx.transform.multiply(C)},h.prototype.rotate=function(U){if(isNaN(U))throw an.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var _=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(_)},h.prototype.translate=function(U,_){if(isNaN(U)||isNaN(_))throw an.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var C=new c(1,0,0,1,U,_);this.ctx.transform=this.ctx.transform.multiply(C)},h.prototype.transform=function(U,_,C,E,B,F){if(isNaN(U)||isNaN(_)||isNaN(C)||isNaN(E)||isNaN(B)||isNaN(F))throw an.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Q=new c(U,_,C,E,B,F);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.setTransform=function(U,_,C,E,B,F){U=isNaN(U)?1:U,_=isNaN(_)?0:_,C=isNaN(C)?0:C,E=isNaN(E)?1:E,B=isNaN(B)?0:B,F=isNaN(F)?0:F,this.ctx.transform=new c(U,_,C,E,B,F)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(U,_,C,E,B,F,Q,ne,le){var ue=this.pdf.getImageProperties(U),fe=1,_e=1,Me=1,J=1;E!==void 0&&ne!==void 0&&(Me=ne/E,J=le/B,fe=ue.width/E*ne/E,_e=ue.height/B*le/B),F===void 0&&(F=_,Q=C,_=0,C=0),E!==void 0&&ne===void 0&&(ne=E,le=B),E===void 0&&ne===void 0&&(ne=ue.width,le=ue.height);var De=this.ctx.transform.decompose(),Ge=W(De.rotate.shx),Ye=new c,ve=(Ye=(Ye=(Ye=Ye.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new l(F-_*Me,Q-C*J,E*fe,B*_e));if(this.autoPaging){for(var se,ce=x.call(this,ve),xe=[],Ne=0;Ne<ce.length;Ne+=1)xe.indexOf(ce[Ne])===-1&&xe.push(ce[Ne]);S(xe);for(var Oe=xe[0],Ce=xe[xe.length-1],Le=Oe;Le<Ce+1;Le++){this.pdf.setPage(Le);var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=Le===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Le===1?0:Je+(Le-2)*bt;if(this.ctx.clip_path.length!==0){var Fr=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(se,this.posX+this.margin[3],-rt+at+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=Fr}var qt=JSON.parse(JSON.stringify(ve));qt=b([qt],this.posX+this.margin[3],-rt+at+this.ctx.prevPageLastElemOffset)[0];var Ot=(Le>Oe||Le<Ce)&&m.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,bt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,Ge),Ot&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(U,"JPEG",ve.x,ve.y,ve.w,ve.h,null,null,Ge)};var x=function(U,_,C){var E=[];_=_||this.pdf.internal.pageSize.width,C=C||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var B=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":E.push(Math.floor((U.y+B)/C)+1);break;case"arc":E.push(Math.floor((U.y+B-U.radius)/C)+1),E.push(Math.floor((U.y+B+U.radius)/C)+1);break;case"qct":var F=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);E.push(Math.floor((F.y+B)/C)+1),E.push(Math.floor((F.y+F.h+B)/C)+1);break;case"bct":var Q=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);E.push(Math.floor((Q.y+B)/C)+1),E.push(Math.floor((Q.y+Q.h+B)/C)+1);break;case"rect":E.push(Math.floor((U.y+B)/C)+1),E.push(Math.floor((U.y+U.h+B)/C)+1)}for(var ne=0;ne<E.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<E[ne];)g.call(this);return E},g=function(){var U=this.fillStyle,_=this.strokeStyle,C=this.font,E=this.lineCap,B=this.lineWidth,F=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=_,this.font=C,this.lineCap=E,this.lineWidth=B,this.lineJoin=F},b=function(U,_,C){for(var E=0;E<U.length;E++)switch(U[E].type){case"bct":U[E].x2+=_,U[E].y2+=C;case"qct":U[E].x1+=_,U[E].y1+=C;default:U[E].x+=_,U[E].y+=C}return U},S=function(U){return U.sort(function(_,C){return _-C})},k=function(U,_){var C=this.fillStyle,E=this.strokeStyle,B=this.lineCap,F=this.lineWidth,Q=Math.abs(F*this.ctx.transform.scaleX),ne=this.lineJoin;if(this.autoPaging){for(var le,ue,fe=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),Me=[],J=0;J<_e.length;J++)if(_e[J].x!==void 0)for(var De=x.call(this,_e[J]),Ge=0;Ge<De.length;Ge+=1)Me.indexOf(De[Ge])===-1&&Me.push(De[Ge]);for(var Ye=0;Ye<Me.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<Me[Ye];)g.call(this);S(Me);for(var ve=Me[0],se=Me[Me.length-1],ce=ve;ce<se+1;ce++){this.pdf.setPage(ce),this.fillStyle=C,this.strokeStyle=E,this.lineCap=B,this.lineWidth=Q,this.lineJoin=ne;var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ne=ce===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Le=ce===1?0:Oe+(ce-2)*Ce;if(this.ctx.clip_path.length!==0){var et=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(le,this.posX+this.margin[3],-Le+Ne+this.ctx.prevPageLastElemOffset),T.call(this,U,!0),this.path=et}if(ue=JSON.parse(JSON.stringify(fe)),this.path=b(ue,this.posX+this.margin[3],-Le+Ne+this.ctx.prevPageLastElemOffset),_===!1||ce===0){var at=(ce>ve||ce<se)&&m.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,Ce,null).clip().discardPath()),T.call(this,U,_),at&&this.pdf.restoreGraphicsState()}this.lineWidth=F}this.path=fe}else this.lineWidth=Q,T.call(this,U,_),this.lineWidth=F},T=function(U,_){if((U!=="stroke"||_||!v.call(this))&&(U==="stroke"||_||!f.call(this))){for(var C,E,B=[],F=this.path,Q=0;Q<F.length;Q++){var ne=F[Q];switch(ne.type){case"begin":B.push({begin:!0});break;case"close":B.push({close:!0});break;case"mt":B.push({start:ne,deltas:[],abs:[]});break;case"lt":var le=B.length;if(F[Q-1]&&!isNaN(F[Q-1].x)&&(C=[ne.x-F[Q-1].x,ne.y-F[Q-1].y],le>0)){for(;le>=0;le--)if(B[le-1].close!==!0&&B[le-1].begin!==!0){B[le-1].deltas.push(C),B[le-1].abs.push(ne);break}}break;case"bct":C=[ne.x1-F[Q-1].x,ne.y1-F[Q-1].y,ne.x2-F[Q-1].x,ne.y2-F[Q-1].y,ne.x-F[Q-1].x,ne.y-F[Q-1].y],B[B.length-1].deltas.push(C);break;case"qct":var ue=F[Q-1].x+2/3*(ne.x1-F[Q-1].x),fe=F[Q-1].y+2/3*(ne.y1-F[Q-1].y),_e=ne.x+2/3*(ne.x1-ne.x),Me=ne.y+2/3*(ne.y1-ne.y),J=ne.x,De=ne.y;C=[ue-F[Q-1].x,fe-F[Q-1].y,_e-F[Q-1].x,Me-F[Q-1].y,J-F[Q-1].x,De-F[Q-1].y],B[B.length-1].deltas.push(C);break;case"arc":B.push({deltas:[],abs:[],arc:!0}),Array.isArray(B[B.length-1].abs)&&B[B.length-1].abs.push(ne)}}E=_?null:U==="stroke"?"stroke":"fill";for(var Ge=!1,Ye=0;Ye<B.length;Ye++)if(B[Ye].arc)for(var ve=B[Ye].abs,se=0;se<ve.length;se++){var ce=ve[se];ce.type==="arc"?D.call(this,ce.x,ce.y,ce.radius,ce.startAngle,ce.endAngle,ce.counterclockwise,void 0,_,!Ge):$.call(this,ce.x,ce.y),Ge=!0}else if(B[Ye].close===!0)this.pdf.internal.out("h"),Ge=!1;else if(B[Ye].begin!==!0){var xe=B[Ye].start.x,Ne=B[Ye].start.y;q.call(this,B[Ye].deltas,xe,Ne),Ge=!0}E&&I.call(this,E),_&&G.call(this)}},R=function(U){var _=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,C=_*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-C;case"top":return U+_-C;case"hanging":return U+_-2*C;case"middle":return U+_/2-C;default:return U}},O=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(_,C){this.colorStops.push([_,C])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(U,_,C,E,B,F,Q,ne,le){for(var ue=re.call(this,C,E,B,F),fe=0;fe<ue.length;fe++){var _e=ue[fe];fe===0&&(le?A.call(this,_e.x1+U,_e.y1+_):$.call(this,_e.x1+U,_e.y1+_)),ee.call(this,U,_,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}ne?G.call(this):I.call(this,Q)},I=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(U,_){this.pdf.internal.out(r(U)+" "+n(_)+" m")},M=function(U){var _;switch(U.align){case"right":case"end":_="right";break;case"center":_="center";break;default:_="left"}var C,E,B,F=this.pdf.getTextDimensions(U.text),Q=R.call(this,U.y),ne=O.call(this,Q)-F.h,le=this.ctx.transform.applyToPoint(new a(U.x,Q));if(this.autoPaging){var ue=this.ctx.transform.decompose(),fe=new c;fe=(fe=(fe=fe.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var _e=this.ctx.transform.applyToRectangle(new l(U.x,Q,F.w,F.h)),Me=fe.applyToRectangle(new l(U.x,ne,F.w,F.h)),J=x.call(this,Me),De=[],Ge=0;Ge<J.length;Ge+=1)De.indexOf(J[Ge])===-1&&De.push(J[Ge]);S(De);for(var Ye=De[0],ve=De[De.length-1],se=Ye;se<ve+1;se++){this.pdf.setPage(se);var ce=se===1?this.posY+this.margin[0]:this.margin[0],xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[2],Oe=Ne-this.margin[0],Ce=this.pdf.internal.pageSize.width-this.margin[1],Le=Ce-this.margin[3],et=se===1?0:xe+(se-2)*Oe;if(this.ctx.clip_path.length!==0){var at=this.path;C=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(C,this.posX+this.margin[3],-1*et+ce),T.call(this,"fill",!0),this.path=at}var Je=b([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-et+ce+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(E=this.pdf.internal.getFontSize(),this.pdf.setFontSize(E*U.scale),B=this.lineWidth,this.lineWidth=B*U.scale);var bt=this.autoPaging!=="text";if(bt||Je.y+Je.h<=Ne){if(bt||Je.y>=ce&&Je.x<=Ce){var rt=bt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Ce-Je.x)[0],Fr=b([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-et+ce+this.ctx.prevPageLastElemOffset)[0],qt=bt&&(se>Ye||se<ve)&&m.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,Oe,null).clip().discardPath()),this.pdf.text(rt,Fr.x,Fr.y,{angle:U.angle,align:_,renderingMode:U.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else Je.y<Ne&&(this.ctx.prevPageLastElemOffset+=Ne-Je.y);U.scale>=.01&&(this.pdf.setFontSize(E),this.lineWidth=B)}}else U.scale>=.01&&(E=this.pdf.internal.getFontSize(),this.pdf.setFontSize(E*U.scale),B=this.lineWidth,this.lineWidth=B*U.scale),this.pdf.text(U.text,le.x+this.posX,le.y+this.posY,{angle:U.angle,align:_,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(E),this.lineWidth=B)},$=function(U,_,C,E){C=C||0,E=E||0,this.pdf.internal.out(r(U+C)+" "+n(_+E)+" l")},q=function(U,_,C){return this.pdf.lines(U,_,C,null,null)},ee=function(U,_,C,E,B,F,Q,ne){this.pdf.internal.out([t(s(C+U)),t(i(E+_)),t(s(B+U)),t(i(F+_)),t(s(Q+U)),t(i(ne+_)),"c"].join(" "))},re=function(U,_,C,E){for(var B=2*Math.PI,F=Math.PI/2;_>C;)_-=B;var Q=Math.abs(C-_);Q<B&&E&&(Q=B-Q);for(var ne=[],le=E?-1:1,ue=_;Q>1e-5;){var fe=ue+le*Math.min(Q,F);ne.push(te.call(this,U,ue,fe)),Q-=Math.abs(fe-ue),ue=fe}return ne},te=function(U,_,C){var E=(C-_)/2,B=U*Math.cos(E),F=U*Math.sin(E),Q=B,ne=-F,le=Q*Q+ne*ne,ue=le+Q*B+ne*F,fe=4/3*(Math.sqrt(2*le*ue)-ue)/(Q*F-ne*B),_e=Q-fe*ne,Me=ne+fe*Q,J=_e,De=-Me,Ge=E+_,Ye=Math.cos(Ge),ve=Math.sin(Ge);return{x1:U*Math.cos(_),y1:U*Math.sin(_),x2:_e*Ye-Me*ve,y2:_e*ve+Me*Ye,x3:J*Ye-De*ve,y3:J*ve+De*Ye,x4:U*Math.cos(C),y4:U*Math.sin(C)}},W=function(U){return 180*U/Math.PI},Z=function(U,_,C,E,B,F){var Q=U+.5*(C-U),ne=_+.5*(E-_),le=B+.5*(C-B),ue=F+.5*(E-F),fe=Math.min(U,B,Q,le),_e=Math.max(U,B,Q,le),Me=Math.min(_,F,ne,ue),J=Math.max(_,F,ne,ue);return new l(fe,Me,_e-fe,J-Me)},pe=function(U,_,C,E,B,F,Q,ne){var le,ue,fe,_e,Me,J,De,Ge,Ye,ve,se,ce,xe,Ne,Oe=C-U,Ce=E-_,Le=B-C,et=F-E,at=Q-B,Je=ne-F;for(ue=0;ue<41;ue++)Ye=(De=(fe=U+(le=ue/40)*Oe)+le*((Me=C+le*Le)-fe))+le*(Me+le*(B+le*at-Me)-De),ve=(Ge=(_e=_+le*Ce)+le*((J=E+le*et)-_e))+le*(J+le*(F+le*Je-J)-Ge),ue==0?(se=Ye,ce=ve,xe=Ye,Ne=ve):(se=Math.min(se,Ye),ce=Math.min(ce,ve),xe=Math.max(xe,Ye),Ne=Math.max(Ne,ve));return new l(Math.round(se),Math.round(ce),Math.round(xe-se),Math.round(Ne-ce))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,_,C=(U=this.ctx.lineDash,_=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:_}));this.prevLineDash!==C&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=C)}}})(Et.API),function(e){var t=function(a){var l,c,u,d,h,p,f,v,m,x;for(c=[],u=0,d=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(h=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(x=h%85))/85)-(m=h%85))/85)-(v=h%85))/85)-(f=h%85))/85)%85,c.push(p+33,f+33,v+33,m+33,x+33)):c.push(122);return function(g,b){for(var S=b;S>0;S--)g.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(a){var l,c,u,d,h,p=String,f="length",v=255,m="charCodeAt",x="slice",g="replace";for(a[x](-2),a=a[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),u=[],d=0,h=(a+=l="uuuuu"[x](a[f]%5||5))[f];h>d;d+=5)c=52200625*(a[m](d)-33)+614125*(a[m](d+1)-33)+7225*(a[m](d+2)-33)+85*(a[m](d+3)-33)+(a[m](d+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(b,S){for(var k=S;k>0;k--)b.pop()}(u,l[f]),p.fromCharCode.apply(p,u)},n=function(a){return a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},i=function(a){for(var l=new Uint8Array(a.length),c=a.length;c--;)l[c]=a.charCodeAt(c);return(l=pk(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,l){var c=0,u=a||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Et.API),function(e){e.loadFile=function(t,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,p=0,f=function(v){var m=v.length,x=[],g=String.fromCharCode;for(p=0;p<m;p+=1)x.push(g(255&v.charCodeAt(p)));return x.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(s,i,a)}catch{}return l}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(Et.API),function(e){function t(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):X5(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):X5(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Yr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,c){return l.__proto__=c||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var v=d[f],m=v.src.find(function(x){return x.format==="truetype"});m&&u.addFont(m.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},a.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(l,c){return this.then(function(){var u=l in a.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},a.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,h).then(function(p){return u.updateProgress(1),p})})},a.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),p=u.call(h,l,c);return a.convert(p,d.__proto__)},a.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},a.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return a.convert(c,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Et.getPageSize=function(l,c,u){if(Yr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var v,m=0,x=0;if(f.hasOwnProperty(p))m=f[p][1]/h,x=f[p][0]/h;else try{m=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",x>m&&(v=x,x=m,m=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",m>x&&(v=x,x=m,m=v)}return{width:x,height:m,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(SS):null;var u=new a(c);return c.worker?u:u.from(l).doCallback()}}(Et.API),Et.API.addJS=function(e){return bI=e,this.internal.events.subscribe("postPutResources",function(){rx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(rx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),wI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+bI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){rx!==void 0&&wI!==void 0&&this.internal.out("/Names <</JavaScript "+rx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=n.exec(a);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var h=r.internal.newObject();d.push(h);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Et.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,a,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,m={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=f,t.indexOf(h.charCodeAt(x+1))!==-1){p=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),m={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:p,numcomponents:h.charCodeAt(x+9)};break}f=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:s}}return d}}(Et.API),Et.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=tbe(e,{checkCrc:!0}),a=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;s=u&&c===1?function(D){for(var I=D.width,G=D.height,A=D.data,M=D.palette,$=D.depth,q=!1,ee=[],re=[],te=void 0,W=!1,Z=0,pe=0;pe<M.length;pe++){var ge=mL(M[pe],4),U=ge[0],_=ge[1],C=ge[2],E=ge[3];ee.push(U,_,C),E!=null&&(E===0?(Z++,re.length<1&&re.push(pe)):E<255&&(W=!0))}if(W||Z>1){q=!0,re=void 0;var B=I*G;te=new Uint8Array(B);for(var F=new DataView(A.buffer),Q=0;Q<B;Q++){var ne=NS(F,Q,$),le=mL(M[ne],4)[3];te[Q]=le}}else Z===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:A,alphaBytes:te,needSMask:q,palette:ee,mask:re}}(i):c===2||c===4?function(D){for(var I=D.data,G=D.width,A=D.height,M=D.channels,$=D.depth,q=M===2?"DeviceGray":"DeviceRGB",ee=M-1,re=G*A,te=ee,W=re*te,Z=1*re,pe=Math.ceil(W*$/8),ge=Math.ceil(Z*$/8),U=new Uint8Array(pe),_=new Uint8Array(ge),C=new DataView(I.buffer),E=new DataView(U.buffer),B=new DataView(_.buffer),F=!1,Q=0;Q<re;Q++){for(var ne=Q*M,le=0;le<te;le++)PI(E,NS(C,ne+le,$),Q*te+le,$);var ue=NS(C,ne+te,$);ue<(1<<$)-1&&(F=!0),PI(B,ue,1*Q,$)}return{colorSpace:q,colorsPerPixel:ee,sMaskBitsPerComponent:F?$:void 0,colorBytes:U,alphaBytes:_,needSMask:F}}(i):function(D){var I=D.data,G=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(A){for(var M=A.length,$=new Uint8Array(2*M),q=new DataView($.buffer,$.byteOffset,$.byteLength),ee=0;ee<M;ee++)q.setUint16(2*ee,A[ee],!1);return $}(I):I,needSMask:!1}}(i);var h,p,f,v=s,m=v.colorSpace,x=v.colorsPerPixel,g=v.sMaskBitsPerComponent,b=v.colorBytes,S=v.alphaBytes,k=v.needSMask,T=v.palette,R=v.mask,O=null;return n!==Et.API.image_compression.NONE&&typeof pk=="function"?(O=function(D){var I;switch(D){case Et.API.image_compression.FAST:I=11;break;case Et.API.image_compression.MEDIUM:I=13;break;case Et.API.image_compression.SLOW:I=14;break;default:I=12}return I}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(O," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(a),e=NI(b,Math.ceil(a*x*d/8),x,d,n),k&&(f=NI(S,Math.ceil(a*g/8),1,g,n))):(h=void 0,p=void 0,e=b,k&&(f=S)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:h,decodeParameters:p,transparency:R,palette:T,sMask:f,predictor:O,width:a,height:l,bitsPerComponent:d,sMaskBitsPerComponent:g,colorSpace:m}}},function(e){e.processGIF89A=function(t,r,n,s){var i=new _be(t),a=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:l},d=new kS(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)},e.processGIF87A=e.processGIF89A}(Et.API),fo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){an.log("bit decode error:"+r)}},fo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},fo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},fo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},fo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=u}this.pos+=e}},fo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&r)/r*255|0,u=(a>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},fo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},fo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=a}},fo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new fo(t,!1),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new kS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(Et.API),RI.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new RI(t),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new kS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(Et.API),Et.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=n[u],h=n[u+1],p=n[u+2],f=n[u+3];i[l++]=d,i[l++]=h,i[l++]=p,a[c++]=f}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Et.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zf=Et.API,nx=zf.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,p=0,f=e.length,v=0,m=l[0]||c,x=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?x.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(p=h&&Yr(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,x.push((l[n]||m)/c+p)),v=n;return x},_I=zf.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return zf.processArabic&&(e=zf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:nx.apply(this,arguments).reduce(function(i,a){return i+a},0)},SI=function(e,t,r,n){for(var s=[],i=0,a=e.length,l=0;i!==a&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==a;)l+t[i]>n&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},jI=function(e,t,r){r||(r={});var n,s,i,a,l,c,u,d=[],h=[d],p=r.textIndent||0,f=0,v=0,m=e.split(" "),x=nx.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),b=[];m.map(function(k){(k=k.split(/\s*\n/)).length>1?b=b.concat(k.map(function(T,R){return(R&&T.length?`
`:"")+T})):b.push(k[0])}),m=b,c=_I.apply(this,[g,r])}for(i=0,a=m.length;i<a;i++){var S=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),S=1),p+f+(v=(s=nx.apply(this,[n,r])).reduce(function(k,T){return k+T},0))>t||S){if(v>t){for(l=SI.apply(this,[n,s,t-(p+f),t]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);v=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(k,T){return k+T},0)}else d=[n];h.push(d),p=v+c,f=x}else d.push(n),p+=f+v,f=x}return u=c?function(k,T){return(T?g:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(u)},zf.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(jI.apply(this,[n[l],a,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},l=e.__fontmetrics__.compress=function(p){var f,v,m,x,g=["{"];for(var b in p){if(f=p[b],isNaN(parseInt(b,10))?v="'"+b+"'":(b=parseInt(b,10),v=(v=a(b).slice(2)).slice(0,-1)+s[v.slice(-1)]),typeof f=="number")f<0?(m=a(f).slice(3),x="-"):(m=a(f).slice(2),x=""),m=x+m.slice(0,-1)+s[m.slice(-1)];else{if(Yr(f)!=="object")throw new Error("Don't know what to do with value type "+Yr(f)+".");m=l(f)}g.push(v+m)}return g.push("}"),g.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,v,m,x,g={},b=1,S=g,k=[],T="",R="",O=p.length-1,D=1;D<O;D+=1)(x=p[D])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(k.push([S,m]),S={},m=void 0):x=="}"?((v=k.pop())[0][v[1]]=S,m=void 0,S=v[0]):x=="-"?b=-1:m===void 0?n.hasOwnProperty(x)?(T+=n[x],m=parseInt(T,16)*b,b=1,T=""):T+=x:n.hasOwnProperty(x)?(R+=n[x],S[m]=parseInt(R,16)*b,b=1,m=void 0,R=""):R+=x;return g},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var f=p.font,v=h.Unicode[f.postScriptName];v&&(f.metadata.Unicode={},f.metadata.Unicode.widths=v.widths,f.metadata.Unicode.kerning=v.kerning);var m=d.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(Et.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Dx(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(Et),Et.API.addSvgAsImage=function(e,t,r,n,s,i,a,l){if(isNaN(t)||isNaN(r))throw an.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw an.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Ut.canvg?Promise.resolve(Ut.canvg):X5(()=>import("./index.es-BhPytU62.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,n,s,a,l)})},Et.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Et.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],u=0,d=0,h=0;function p(v,m){var x,g=!1;for(x=0;x<v.length;x+=1)v[x]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(h=0;h<f;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Yr(e)==="object"){for(s in e)if(i=e[s],p(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&p(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?m.push("/"+v+" /"+r[v].value):m.push("/"+v+" "+r[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Et.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,a){for(var l,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,p=i.length;h<p;++h){if(l=a.metadata.characterToGlyph(i.charCodeAt(h)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var a,l,c,u,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(l=Object.keys(i).sort(function(f,v){return f-v})).length;h<p;h++)a=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",v=0;v<p.length;v++)f+=String.fromCharCode(p[v]);var m=u();d({data:f,addLength1:!0,objectId:m}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Jf(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Jf(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+Jf(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var m=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Jf(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Jf(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",c=i.x,u=i.y,d=i.options||{},h=i.mutex||{},p=h.pdfEscape,f=h.activeFontKey,v=h.fonts,m=f,x="",g=0,b="",S=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(b=l,m=f,Array.isArray(l)&&(b=l[0]),g=0;g<b.length;g+=1)v[m].metadata.hasOwnProperty("cmap")&&(a=v[m].metadata.cmap.unicode.codeMap[b[g].charCodeAt(0)]),a||b[g].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?x+=b[g]:x+="";var k="";return parseInt(m.slice(1))<14||S==="WinAnsiEncoding"?k=p(x,m).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(k=r(x,v[m])),h.isHex=!0,{text:k,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(i){var a=i.text||"",l=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?l.push([s(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):l.push(s(Object.assign({},c,{text:a[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:a})).text}])}(Et),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Et.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,a,l,c,u,d,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var k=function(A){var M=A.charCodeAt(),$=M>>8,q=m[$];return q!==void 0?h[256*q+(255&M)]:$===252||$===253?"AL":g.test($)?"L":$===8?"R":"N"},T=function(A){for(var M,$=0;$<A.length;$++){if((M=k(A.charAt($)))==="L")return!1;if(M==="R")return!0}return!1},R=function(A,M,$,q){var ee,re,te,W,Z=M[q];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(Z="AN");break;case"AL":b=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":q<1||q+1>=M.length||(ee=$[q-1])!=="EN"&&ee!=="AN"||(re=M[q+1])!=="EN"&&re!=="AN"?Z="N":b&&(re="AN"),Z=re===ee?re:"N";break;case"ES":Z=(ee=q>0?$[q-1]:"B")==="EN"&&q+1<M.length&&M[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&$[q-1]==="EN"){Z="EN";break}if(b){Z="N";break}for(te=q+1,W=M.length;te<W&&M[te]==="ET";)te++;Z=te<W&&M[te]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(W=M.length,te=q+1;te<W&&M[te]==="NSM";)te++;if(te<W){var pe=A[q],ge=pe>=1425&&pe<=2303||pe===64286;if(ee=M[te],ge&&(ee==="R"||ee==="AL")){Z="R";break}}}Z=q<1||(ee=M[q-1])==="B"?"N":$[q-1];break;case"B":b=!1,s=!0,Z=S;break;case"S":i=!0,Z="N"}return Z},O=function(A,M,$){var q=A.split("");return $&&D(q,$,{hiLevel:S}),q.reverse(),M&&M.reverse(),q.join("")},D=function(A,M,$){var q,ee,re,te,W,Z=-1,pe=A.length,ge=0,U=[],_=S?f:p,C=[];for(b=!1,s=!1,i=!1,ee=0;ee<pe;ee++)C[ee]=k(A[ee]);for(re=0;re<pe;re++){if(W=ge,U[re]=R(A,C,U,re),q=240&(ge=_[W][v[U[re]]]),ge&=15,M[re]=te=_[ge][5],q>0)if(q===16){for(ee=Z;ee<re;ee++)M[ee]=1;Z=-1}else Z=-1;if(_[ge][6])Z===-1&&(Z=re);else if(Z>-1){for(ee=Z;ee<re;ee++)M[ee]=te;Z=-1}C[re]==="B"&&(M[re]=0),$.hiLevel|=te}i&&function(E,B,F){for(var Q=0;Q<F;Q++)if(E[Q]==="S"){B[Q]=S;for(var ne=Q-1;ne>=0&&E[ne]==="WS";ne--)B[ne]=S}}(C,M,pe)},I=function(A,M,$,q,ee){if(!(ee.hiLevel<A)){if(A===1&&S===1&&!s)return M.reverse(),void($&&$.reverse());for(var re,te,W,Z,pe=M.length,ge=0;ge<pe;){if(q[ge]>=A){for(W=ge+1;W<pe&&q[W]>=A;)W++;for(Z=ge,te=W-1;Z<te;Z++,te--)re=M[Z],M[Z]=M[te],M[te]=re,$&&(re=$[Z],$[Z]=$[te],$[te]=re);ge=W}ge++}}},G=function(A,M,$){var q=A.split(""),ee={hiLevel:S};return $||($=[]),D(q,$,ee),function(re,te,W){if(W.hiLevel!==0&&d)for(var Z,pe=0;pe<re.length;pe++)te[pe]===1&&(Z=x.indexOf(re[pe]))>=0&&(re[pe]=x[Z+1])}(q,$,ee),I(2,q,M,$,ee),I(1,q,M,$,ee),q.join("")};return this.__bidiEngine__.doBidiReorder=function(A,M,$){if(function(ee,re){if(re)for(var te=0;te<ee.length;te++)re[te]=te;l===void 0&&(l=T(ee)),u===void 0&&(u=T(ee))}(A,M),a||!c||u)if(a&&c&&l^u)S=l?1:0,A=O(A,M,$);else if(!a&&c&&u)S=l?1:0,A=G(A,M,$),A=O(A,M);else if(!a||l||c||u){if(a&&!c&&l^u)A=O(A,M),l?(S=0,A=G(A,M,$)):(S=1,A=G(A,M,$),A=O(A,M));else if(a&&l&&!c&&u)S=1,A=G(A,M,$),A=O(A,M);else if(!a&&!c&&l^u){var q=d;l?(S=1,A=G(A,M,$),S=0,d=!1,A=G(A,M,$),d=q):(S=0,A=G(A,M,$),A=O(A,M),S=1,d=!1,A=G(A,M,$),d=q,A=O(A,M))}}else S=0,A=G(A,M,$);else S=l?1:0,A=G(A,M,$);return A},this.__bidiEngine__.setOptions=function(A){A&&(a=A.isInputVisual,c=A.isOutputVisual,l=A.isInputRtl,u=A.isOutputRtl,d=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([r.doBidiReorder(s[l])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Et),Et.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new cd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Dbe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Sbe(this.contents),this.head=new Nbe(this),this.name=new Pbe(this),this.cmap=new HW(this),this.toUnicode={},this.hhea=new kbe(this),this.maxp=new Tbe(this),this.hmtx=new Rbe(this),this.post=new Ebe(this),this.os2=new Cbe(this),this.loca=new Mbe(this),this.glyf=new Obe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,u;for(u=[],a=0,l=(c=this.bbox).length;a<l;a++)t=c[a],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,a,l;for(a=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Vo,cd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,a,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Sbe=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,a,l,c,u,d,h,p,f,v,m;for(m in f=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),a=Math.floor(h/c),d=16*f-h,(s=new cd).writeInt(this.scalarType),s.writeShort(f),s.writeShort(h),s.writeShort(a),s.writeShort(d),i=16*f,u=s.pos+i,l=null,v=[],r)for(p=r[m],s.writeString(m),s.writeInt(e(p)),s.writeInt(u),s.writeInt(p.length),v=v.concat(p),m==="head"&&(l=u),u+=p.length;u%4;)v.push(0),u++;return s.write(v),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,a;for(r=GW.call(r);r.length%4;)r.push(0);for(i=new cd(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),jbe={}.hasOwnProperty,Rl=function(e,t){for(var r in t)jbe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Vo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Nbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rl(e,Vo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new cd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),OI=function(){function e(t,r){var n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,b,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,i=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),t.pos+=2,m=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),u=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),d=function(){var k,T;for(T=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)T.push(t.readUInt16());return T}(),s=(this.length-t.pos+this.offset)/2,l=function(){var k,T;for(T=[],c=k=0;0<=s?k<s:k>s;c=0<=s?++k:--k)T.push(t.readUInt16());return T}(),c=g=0,S=i.length;g<S;c=++g)for(x=i[c],n=b=v=m[c];v<=x?b<=x:b>=x;n=v<=x?++b:--b)d[c]===0?a=n+u[c]:(a=l[d[c]/2+(n-v)-(p-c)]||0)!==0&&(a+=u[c]),this.codeMap[n]=65535&a}t.pos=h}return e.encode=function(t,r){var n,s,i,a,l,c,u,d,h,p,f,v,m,x,g,b,S,k,T,R,O,D,I,G,A,M,$,q,ee,re,te,W,Z,pe,ge,U,_,C,E,B,F,Q,ne,le,ue,fe;switch(q=new cd,a=Object.keys(t).sort(function(_e,Me){return _e-Me}),r){case"macroman":for(m=0,x=function(){var _e=[];for(v=0;v<256;++v)_e.push(0);return _e}(),b={0:0},i={},ee=0,Z=a.length;ee<Z;ee++)b[ne=t[s=a[ee]]]==null&&(b[ne]=++m),i[s]={old:t[s],new:b[t[s]]},x[s]=b[t[s]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(x),{charMap:i,subtable:q.data,maxGlyphID:m+1};case"unicode":for(M=[],h=[],S=0,b={},n={},g=u=null,re=0,pe=a.length;re<pe;re++)b[T=t[s=a[re]]]==null&&(b[T]=++S),n[s]={old:T,new:b[T]},l=b[T]-s,g!=null&&l===u||(g&&h.push(g),M.push(s),u=l),g=s;for(g&&h.push(g),h.push(65535),M.push(65535),G=2*(I=M.length),D=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(D/2)/Math.LN2,O=2*I-D,c=[],R=[],f=[],v=te=0,ge=M.length;te<ge;v=++te){if(A=M[v],d=h[v],A===65535){c.push(0),R.push(0);break}if(A-($=n[A].new)>=32768)for(c.push(0),R.push(2*(f.length+I-v)),s=W=A;A<=d?W<=d:W>=d;s=A<=d?++W:--W)f.push(n[s].new);else c.push($-A),R.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*I+2*f.length),q.writeUInt16(0),q.writeUInt16(G),q.writeUInt16(D),q.writeUInt16(p),q.writeUInt16(O),F=0,U=h.length;F<U;F++)s=h[F],q.writeUInt16(s);for(q.writeUInt16(0),Q=0,_=M.length;Q<_;Q++)s=M[Q],q.writeUInt16(s);for(le=0,C=c.length;le<C;le++)l=c[le],q.writeUInt16(l);for(ue=0,E=R.length;ue<E;ue++)k=R[ue],q.writeUInt16(k);for(fe=0,B=f.length;fe<B;fe++)m=f[fe],q.writeUInt16(m);return{charMap:n,subtable:q.data,maxGlyphID:S+1}}},e}(),HW=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rl(e,Vo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new OI(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=OI.encode(t,r),(s=new cd).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),kbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rl(e,Vo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Cbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rl(e,Vo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Ebe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rl(e,Vo),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var a,l,c;for(c=[],i=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;i=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),Abe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Pbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rl(e,Vo),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,a,l,c,u,d,h,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=d=0,h=n.length;d<h;i=++d)s=n[i],t.pos=s.offset,u=t.readString(s.length),a=new Abe(u,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Tbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rl(e,Vo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Rbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rl(e,Vo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,h,p;for(p=[],u=0,d=(h=this.metrics).length;u<d;u++)i=h[u],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),GW=[].slice,Obe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rl(e,Vo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,a,l,c,u,d,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,a=(l=new cd(r.read(s))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=a===-1?new Ibe(l,u,h,c,d):new Lbe(l,a,u,h,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,a,l,c;for(a=[],i=[],l=0,c=r.length;l<c;l++)s=t[r[l]],i.push(a.length),s&&(a=a.concat(s.encode(n)));return i.push(a.length),{table:a,offsets:i}},e}(),Lbe=function(){function e(t,r,n,s,i,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Ibe=function(){function e(t,r,n,s,i){var a,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new cd(GW.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Mbe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rl(e,Vo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<n.length;++a)if(n[a]=s,i<r.length&&r[i]==a){++i,n[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),Dbe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,a,l,c;for(s={},a=0,l=t.length;a<l;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,a,l,c,u,d,h,p,f,v,m,x,g;for(s in n=HW.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),f={0:0},g=n.charMap)f[(c=g[s]).old]=c.new;for(v in p=n.maxGlyphID,a)v in f||(f[v]=p++);return d=function(b){var S,k;for(S in k={},b)k[b[S]]=S;return k}(f),h=Object.keys(d).sort(function(b,S){return b-S}),m=function(){var b,S,k;for(k=[],b=0,S=h.length;b<S;b++)l=h[b],k.push(d[l]);return k}(),i=this.font.glyf.encode(a,m,f),u=this.font.loca.encode(i.offsets,m),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Et.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+r},t}();function YW(e,t,r,n,s){n=n||{};var i=1.15,a=s.internal.scaleFactor,l=s.internal.getFontSize()/a,c=s.getLineHeightFactor?s.getLineHeightFactor():i,u=l*c,d=/\r\n|\r|\n/g,h="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof e=="string"?e.split(d):e,p=h.length||1),r+=l*(2-i),n.valign==="middle"?r-=p/2*u:n.valign==="bottom"&&(r-=p*u),n.halign==="center"||n.halign==="right"){var f=l;if(n.halign==="center"&&(f*=.5),h&&p>=1){for(var v=0;v<h.length;v++)s.text(h[v],t-s.getStringUnitWidth(h[v])*f,r),r+=u;return s}t-=s.getStringUnitWidth(e)*f}return n.halign==="justify"?s.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(e,t,r),s}var LI={},Lp=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:LI=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,s,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),l=a.fontStyle,c=a.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=e.unifyColor(t.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,s,i){return this.jsPDFDocument.rect(t,r,n,s,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return LI||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Ek=function(e,t){return Ek=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ek(e,t)};function KW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ek(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var JW=function(e){KW(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Fbe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function $be(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function lb(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],s=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,a){return Math.max(i,a)},0);return s}function QW(e,t,r,n){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var a=ZW(s,!1);a&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,a)}function ZW(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function I2(e,t){var r,n,s,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function XW(e,t){var r=I2(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Bbe(e,t,r,n,s){var i={},a=1.3333333333333333,l=CS(t,function(S){return s.getComputedStyle(S).backgroundColor});l!=null&&(i.fillColor=l);var c=CS(t,function(S){return s.getComputedStyle(S).color});c!=null&&(i.textColor=c);var u=qbe(n,r);u&&(i.cellPadding=u);var d="borderTopColor",h=a*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var f=(parseFloat(p)||0)/h;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var v=CS(t,function(S){return s.getComputedStyle(S)[d]});v!=null&&(i.lineColor=v);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var x=parseInt(n.fontSize||"");isNaN(x)||(i.fontSize=x/a);var g=Ube(n);g&&(i.fontStyle=g);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function Ube(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function CS(e,t){var r=eH(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function eH(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:eH(e.parentElement,t):r}function qbe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(l){return parseInt(l||"0")/n}),a=I2(i,0);return s>a.top&&(a.top=s),s>a.bottom&&(a.bottom=s),a}function tH(e,t,r,n,s){var i,a;n===void 0&&(n=!1),s===void 0&&(s=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],h=[],p=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:h,foot:p};for(var f=0;f<l.rows.length;f++){var v=l.rows[f],m=(a=(i=v==null?void 0:v.parentElement)===null||i===void 0?void 0:i.tagName)===null||a===void 0?void 0:a.toLowerCase(),x=zbe(c,u,r,v,n,s);x&&(m==="thead"?d.push(x):m==="tfoot"?p.push(x):h.push(x))}return{head:d,body:h,foot:p}}function zbe(e,t,r,n,s,i){for(var a=new JW(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(s||u.display!=="none"){var d=void 0;i&&(d=Bbe(e,c,t,u,r)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:Vbe(c)})}}var h=r.getComputedStyle(n);if(a.length>0&&(s||h.display!=="none"))return a}function Vbe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Wbe(e,t,r){for(var n=0,s=[e,t,r];n<s.length;n++){var i=s[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function gc(e,t,r,n,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function rH(e,t){var r=new Lp(e),n=r.getDocumentOptions(),s=r.getGlobalOptions();Wbe(s,n,t);var i=gc({},s,n,t),a;typeof window<"u"&&(a=window);var l=Hbe(s,n,t),c=Gbe(s,n,t),u=Ybe(r,i),d=Jbe(r,i,a);return{id:t.tableId,content:d,hooks:c,styles:l,settings:u}}function Hbe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],h=r[c];n.columnStyles=gc({},u,d,h)}else{var p=[e,t,r],f=p.map(function(v){return v[c]||{}});n[c]=gc({},f[0],f[1],f[2])}},i=0,a=Object.keys(n);i<a.length;i++){var l=a[i];s(l)}return n}function Gbe(e,t,r){for(var n=[e,t,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,a=n;i<a.length;i++){var l=a[i];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function Ybe(e,t){var r,n,s,i,a,l,c,u,d,h,p,f,v=I2(t.margin,40/e.scaleFactor()),m=(r=Kbe(e,t.startY))!==null&&r!==void 0?r:v.top,x;t.showFoot===!0?x="everyPage":t.showFoot===!1?x="never":x=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var g;t.showHead===!0?g="everyPage":t.showHead===!1?g="never":g=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,S=t.theme||(b?"plain":"striped"),k=!!t.horizontalPageBreak,T=(a=t.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:b,theme:S,startY:m,margin:v,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:g,showFoot:x,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:k,horizontalPageBreakRepeat:T,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Kbe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),s=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;i=a===s}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Jbe(e,t,r){var n=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(r){var l=tH(e,t.html,r,a,t.useCss)||{};n=l.head||n,s=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Qbe(n,s,i);return{columns:c,head:n,body:s,foot:i}}function Qbe(e,t,r){var n=e[0]||t[0]||r[0]||[],s=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var a=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(a=(l==null?void 0:l.colSpan)||1);for(var c=0;c<a;c++){var u=void 0;Array.isArray(n)?u=s.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};s.push(d)}}),s}var Ak=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),Zbe=function(e){KW(t,e);function t(r,n,s,i,a,l){var c=e.call(this,r,n,l)||this;return c.cell=s,c.row=i,c.column=a,c.section=i.section,c}return t}(Ak),Xbe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,s,i,a){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new Zbe(t,this,n,s,i,a),h=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var i=s[n];i(new Ak(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var i=s[n];i(new Ak(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),nH=function(){function e(t,r,n,s,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof JW&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,s){var i;return Math.max(n,((i=r.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(s,i){var a=n.cells[i.index];if(!a)return 0;var l=r.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),u=c+l;return u>s?u:s},0)},e}(),sH=function(){function e(t,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var a=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=a.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*r,i=n*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=I2(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),e2e=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,s=t.allRows();n<s.length;n++){var i=s[n],a=i.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},e}();function t2e(e,t){r2e(e,t);var r=[],n=0;t.columns.forEach(function(i){var a=i.getMaxCustomCellWidth(t);a?i.width=a:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var s=t.getWidth(e.pageSize().width)-n;s&&(s=Pk(r,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=Pk(r,s,function(i){return i.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),s2e(t),i2e(t,e),n2e(t)}function r2e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,s=XW(e,t);t.allRows().forEach(function(i){for(var a=0,l=t.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,i,c,null);var h=u.padding("horizontal");u.contentWidth=lb(u.text,u.styles,e)+h;var p=lb(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=p+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/r;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var a=0,l=t.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function Pk(e,t,r){for(var n=t,s=e.reduce(function(f,v){return f+v.wrappedWidth},0),i=0;i<e.length;i++){var a=e[i],l=a.wrappedWidth/s,c=n*l,u=a.width+c,d=r(a),h=u<d?d:u;t-=h-a.width,a.width=h}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(f){return t<0?f.width>r(f):!0});p.length&&(t=Pk(p,t,r))}return t}function n2e(e){for(var t={},r=1,n=e.allRows(),s=0;s<n.length;s++)for(var i=n[s],a=0,l=e.columns;a<l.length;a++){var c=l[a],u=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var h=n.length-s,p=d.rowSpan>h?h:d.rowSpan;t[c.index]={cell:d,left:p,row:i}}}}}function s2e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],s=null,i=0,a=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(a-=1,a>1&&e.columns[l+1])i+=c.width,delete n.cells[c.index];else if(s){var u=s;delete n.cells[c.index],s=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(a=u.colSpan,i=0,u.colSpan>1){s=u,i+=c.width;continue}u.width=c.width+i}}}function i2e(e,t){for(var r={count:0,height:0},n=0,s=e.allRows();n<s.length;n++){for(var i=s[n],a=0,l=e.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=II(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=II(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,d);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<p*u.rowSpan?r={height:p,count:u.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>i.height&&(i.height=p)}}r.count--}}function II(e,t,r,n,s){return e.map(function(i){return a2e(i,t,r,n,s)})}function a2e(e,t,r,n,s){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=lb(e,r,n))return e;for(;t<lb(e+s,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function iH(e,t){var r=new Lp(e),n=o2e(t,r.scaleFactor()),s=new Xbe(t,n);return t2e(r,s),r.applyStyles(r.userStyles),s}function o2e(e,t){var r=e.content,n=c2e(r.columns);if(r.head.length===0){var s=MI(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=MI(n,"foot");s&&r.foot.push(s)}var i=e.settings.theme,a=e.styles;return{columns:n,head:ES("head",r.head,n,a,i,t),body:ES("body",r.body,n,a,i,t),foot:ES("foot",r.foot,n,a,i,t)}}function ES(e,t,r,n,s,i){var a={},l=t.map(function(c,u){for(var d=0,h={},p=0,f=0,v=0,m=r;v<m.length;v++){var x=m[v];if(a[x.index]==null||a[x.index].left===0)if(f===0){var g=void 0;Array.isArray(c)?g=c[x.index-p-d]:g=c[x.dataKey];var b={};typeof g=="object"&&!Array.isArray(g)&&(b=(g==null?void 0:g.styles)||{});var S=u2e(e,x,u,s,n,i,b),k=new sH(g,S,e);h[x.dataKey]=k,h[x.index]=k,f=k.colSpan-1,a[x.index]={left:k.rowSpan-1,times:f}}else f--,p++;else a[x.index].left--,f=a[x.index].times,d++}return new nH(c,u,e,h)});return l}function MI(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var s=l2e(t,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function l2e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function c2e(e){return e.map(function(t,r){var n,s;return typeof t=="object"?s=(n=t.dataKey)!==null&&n!==void 0?n:r:s=r,new e2e(s,t,r)})}function u2e(e,t,r,n,s,i,a){var l=$be(n),c;e==="head"?c=s.headStyles:e==="body"?c=s.bodyStyles:e==="foot"&&(c=s.footStyles);var u=gc({},l.table,l[e],s.styles,c),d=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},h=e==="body"?d:{},p=e==="body"&&r%2===0?gc({},l.alternateRow,s.alternateRowStyles):{},f=Fbe(i),v=gc({},f,u,p,h);return gc(v,a)}function d2e(e,t,r){var n;r===void 0&&(r={});var s=XW(e,t),i=new Map,a=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var f=t.columns.find(function(v){return v.dataKey===p||v.index===p});f&&!i.has(f.index)&&(i.set(f.index,!0),a.push(f.index),l.push(t.columns[f.index]),s-=f.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(i.has(d)){d++;continue}var h=t.columns[d].wrappedWidth;if(u||s>=h)u=!1,a.push(d),l.push(t.columns[d]),s-=h;else break;d++}return{colIndexes:a,columns:l,lastIndex:d-1}}function h2e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var s=d2e(e,t,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function aH(e,t){var r=t.settings,n=r.startY,s=r.margin,i={x:s.left,y:n},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+s.bottom+a;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(p,f){return p+f.height},0);l+=u}var d=new Lp(e);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(lH(d),i.y=s.top),t.callWillDrawPageHooks(d,i);var h=gc({},i);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?f2e(d,t,h,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(p){return Ic(d,t,p,i,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(p,f){var v=f===t.body.length-1;cb(d,t,p,v,h,i,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(p){return Ic(d,t,p,i,t.columns)})),QW(d,t,h,i),t.callEndPageHooks(d,i),t.finalY=i.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function f2e(e,t,r,n){var s=h2e(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?Rv(e,t,r,n,u.columns,!0):DI(e,t,n,u.columns),p2e(e,t,r,n,u.columns),AS(e,t,n,u.columns)});else for(var a=-1,l=s[0],c=function(){var u=a;if(l){e.applyStyles(e.userStyles);var d=l.columns;a>=0?Rv(e,t,r,n,d,!0):DI(e,t,n,d),u=FI(e,t,a+1,n,d),AS(e,t,n,d)}var h=u-a;s.slice(1).forEach(function(p){e.applyStyles(e.userStyles),Rv(e,t,r,n,p.columns,!0),FI(e,t,a+1,n,p.columns,h),AS(e,t,n,p.columns)}),a=u};a<t.body.length-1;)c()}function DI(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(i){return Ic(e,t,i,r,n)})}function p2e(e,t,r,n,s){e.applyStyles(e.userStyles),t.body.forEach(function(i,a){var l=a===t.body.length-1;cb(e,t,i,l,r,n,s)})}function FI(e,t,r,n,s,i){e.applyStyles(e.userStyles),i=i??t.body.length;var a=Math.min(r+i,t.body.length),l=-1;return t.body.slice(r,a).forEach(function(c,u){var d=r+u===t.body.length-1,h=oH(e,t,d,n);c.canEntireRowFit(h,s)&&(Ic(e,t,c,n,s),l=r+u)}),l}function AS(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(i){return Ic(e,t,i,r,n)})}function m2e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),i=Math.floor((t-s)/n);return Math.max(0,i)}function g2e(e,t,r,n){var s={};e.spansMultiplePages=!0,e.height=0;for(var i=0,a=0,l=r.columns;a<l.length;a++){var c=l[a],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new sH(u.raw,u.styles,u.section);d=gc(d,u),d.text=[];var h=m2e(u,t,n);u.text.length>h&&(d.text=u.text.splice(h,u.text.length));var p=n.scaleFactor(),f=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(p,f),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(p,f),d.contentHeight>i&&(i=d.contentHeight),s[c.index]=d}}var v=new nH(e.raw,-1,e.section,s,!0);v.height=i;for(var m=0,x=r.columns;m<x.length;m++){var c=x[m],d=v.cells[c.index];d&&(d.height=v.height);var u=e.cells[c.index];u&&(u.height=e.height)}return v}function v2e(e,t,r,n){var s=e.pageSize().height,i=n.settings.margin,a=i.top+i.bottom,l=s-a;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>l)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),h=t.getMaxCellHeight(n.columns)>l;return h?(d&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function cb(e,t,r,n,s,i,a){var l=oH(e,t,n,i);if(r.canEntireRowFit(l,a))Ic(e,t,r,i,a);else if(v2e(e,r,l,t)){var c=g2e(r,l,t,e);Ic(e,t,r,i,a),Rv(e,t,s,i,a),cb(e,t,c,n,s,i,a)}else Rv(e,t,s,i,a),cb(e,t,r,n,s,i,a)}function Ic(e,t,r,n,s){n.x=t.settings.margin.left;for(var i=0,a=s;i<a.length;i++){var l=a[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}y2e(e,c,n);var d=c.getTextPos();YW(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function y2e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=ZW(n.lineWidth,n.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),x2e(e,t,r,n.lineWidth))}function x2e(e,t,r,n){var s,i,a,l;n.top&&(s=r.x,i=r.y,a=r.x+t.width,l=r.y,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),c(n.top,s,i,a,l)),n.bottom&&(s=r.x,i=r.y+t.height,a=r.x+t.width,l=r.y+t.height,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),c(n.bottom,s,i,a,l)),n.left&&(s=r.x,i=r.y,a=r.x,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,s,i,a,l)),n.right&&(s=r.x+t.width,i=r.y,a=r.x+t.width,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,s,i,a,l));function c(u,d,h,p,f){e.getDocument().setLineWidth(u),e.getDocument().line(d,h,p,f,"S")}}function oH(e,t,r,n){var s=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-s}function Rv(e,t,r,n,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(l){return Ic(e,t,l,n,s)}),t.callEndPageHooks(e,n);var a=t.settings.margin;QW(e,t,r,n),lH(e),t.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Ic(e,t,l,n,s)}),e.applyStyles(e.userStyles))}function lH(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function w2e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],s=rH(this,n),i=iH(this,s);return aH(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,s){YW(t,r,n,s,this)},e.API.autoTableSetDefaults=function(t){return Lp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Lp.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Lp(this),i=tH(s,t,window,r,!1),a=i.head,l=i.body,c=((n=a[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var PS;function b2e(e,t){var r=rH(e,t),n=iH(e,r);aH(e,n)}try{if(typeof window<"u"&&window){var $I=window,BI=$I.jsPDF||((PS=$I.jspdf)===null||PS===void 0?void 0:PS.jsPDF);BI&&w2e(BI)}}catch(e){console.error("Could not apply autoTable plugin",e)}const _2e=()=>{const e=Mn(),[t,r]=w.useState(null),[n,s]=w.useState(""),[i,a]=w.useState(!1),{data:l=[],isLoading:c}=Cn({queryKey:["staff-salaries"],queryFn:async()=>{const{data:m}=await Qe.from("profiles").select("*"),{data:x}=await Qe.from("user_roles").select("*"),{data:g}=await Qe.from("staff_approval_requests").select("*");let b=[];try{const{data:I,error:G}=await Qe.from("staff_salaries").select("*");if(G)throw G.code==="42P01"&&a(!0),G;b=I||[]}catch(I){console.warn("Could not fetch salaries:",I),I.code==="42P01"&&a(!0)}const S=new Map((x||[]).map(I=>[I.user_id,I.role])),k=new Map((m||[]).map(I=>[I.user_id,I])),T=new Map((g||[]).map(I=>[I.user_id,I])),R=new Map(b.map(I=>[I.user_id,I])),O=new Set([...(m||[]).map(I=>I.user_id),...(x||[]).map(I=>I.user_id),...(g||[]).map(I=>I.user_id)]),D=[];return O.forEach(I=>{const G=S.get(I),A=T.get(I);if(!G&&!A||G==="patient")return;const M=k.get(I),$=R.get(I),q=(M==null?void 0:M.full_name)||(A==null?void 0:A.full_name)||"Unknown Staff",ee=(M==null?void 0:M.email)||(A==null?void 0:A.email)||"No Email";let re=G||(A?`pending-${A.requested_role}`:"unknown");D.push({id:I,name:q,email:ee,role:re,salary:($==null?void 0:$.salary)||0,salary_record_id:$==null?void 0:$.id})}),D}}),u=Xr({mutationFn:async({userId:m,salary:x})=>{const{error:g}=await Qe.from("staff_salaries").upsert({user_id:m,salary:x,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(g)throw g},onSuccess:()=>{qe.success("Salary updated successfully"),r(null),e.invalidateQueries({queryKey:["staff-salaries"]})},onError:m=>{qe.error("Failed to update salary: "+m.message)}}),d=Xr({mutationFn:async m=>{i||await Qe.from("staff_salaries").delete().eq("user_id",m),await Qe.from("user_roles").delete().eq("user_id",m),await Qe.from("staff_approval_requests").delete().eq("user_id",m),await Qe.from("profiles").delete().eq("user_id",m)},onSuccess:()=>{qe.success("Staff member removed successfully"),e.invalidateQueries({queryKey:["staff-salaries"]}),e.invalidateQueries({queryKey:["admin-user-directory"]})},onError:m=>{qe.error("Failed to remove staff member: "+m.message)}}),h=m=>{r(m.id),s(m.salary.toString())},p=m=>{u.mutate({userId:m,salary:parseFloat(n)||0})},f=()=>{if(!l.length){qe.warning("No data to export");return}const m=new Et;m.setFontSize(18),m.setTextColor(0,128,0),m.text("Star Hospital - Staff Directory",14,22),m.setFontSize(11),m.setTextColor(100),m.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30);const x=["Name","Email","Role","Monthly Salary"],g=[];l.forEach(b=>{const S=[b.name,b.email,b.role.toUpperCase(),`Rs. ${b.salary.toLocaleString()}`];g.push(S)}),b2e(m,{head:[x],body:g,startY:40,theme:"grid",headStyles:{fillColor:[22,163,74]}}),m.save("star_hospital_staff_list.pdf"),qe.success("Staff list exported to PDF")},v=m=>{const x={admin:"bg-purple-100 text-purple-800 border-purple-200",doctor:"bg-blue-100 text-blue-800 border-blue-200",nurse:"bg-pink-100 text-pink-800 border-pink-200",cashier:"bg-emerald-100 text-emerald-800 border-emerald-200",receptionist:"bg-orange-100 text-orange-800 border-orange-200"},g=m.replace("pending-",""),b=x[g]||"bg-gray-100 text-gray-800 border-gray-200";return o.jsx(Kt,{variant:"outline",className:b,children:m.toUpperCase()})};return o.jsxs(In,{title:"Staff Salaries",subtitle:"Manage salaries for all staff members",children:[i&&o.jsxs(A2,{variant:"destructive",className:"mb-6 bg-yellow-50 border-yellow-200 text-yellow-800",children:[o.jsx(pw,{className:"h-4 w-4 text-yellow-600"}),o.jsx(MA,{children:"Salary Database Missing"}),o.jsxs(P2,{className:"flex items-center justify-between",children:[o.jsx("span",{children:'The "staff_salaries" table does not exist. You cannot save salaries until this table is created.'}),o.jsxs(fs,{children:[o.jsx(xl,{asChild:!0,children:o.jsxs(ke,{size:"sm",variant:"outline",className:"ml-4 h-8 bg-white border-yellow-300 hover:bg-yellow-100 text-yellow-900",children:[o.jsx(JD,{className:"w-3 h-3 mr-2"})," Fix with SQL"]})}),o.jsxs(ns,{className:"max-w-2xl",children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Create Salaries Table"}),o.jsx(Ys,{children:"Run this SQL in your Supabase Dashboard to create the necessary table."})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-slate-950 text-slate-50 p-4 rounded-md font-mono text-xs overflow-x-auto relative group",children:[o.jsx("pre",{children:`CREATE TABLE IF NOT EXISTS public.staff_salaries (
    id uuid DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id uuid REFERENCES auth.users(id) NOT NULL UNIQUE,
    salary numeric DEFAULT 0,
    created_at timestamptz DEFAULT now(),
    updated_at timestamptz DEFAULT now()
);

ALTER TABLE public.staff_salaries ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Admins can manage salaries" ON public.staff_salaries
    FOR ALL
    USING (
      EXISTS (
        SELECT 1 FROM public.user_roles 
        WHERE user_id = auth.uid() AND role = 'admin'
      )
    );`}),o.jsxs(ke,{size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>navigator.clipboard.writeText("CREATE TABLE IF NOT EXISTS public.staff_salaries..."),children:[o.jsx(yx,{className:"w-3 h-3"})," Copy"]})]})})]})]})]})]}),o.jsxs(jt,{children:[o.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Mt,{className:"flex items-center gap-2",children:[o.jsx(qD,{className:"h-6 w-6 text-green-600"}),"Staff Payroll"]}),o.jsxs(Ar,{children:["Total Monthly Payroll: ",l.reduce((m,x)=>m+x.salary,0).toLocaleString()]})]}),o.jsxs(ke,{onClick:f,variant:"outline",className:"gap-2 border-green-200 text-green-700 hover:bg-green-50",children:[o.jsx(za,{className:"h-4 w-4"})," Export PDF"]})]}),o.jsx(Tt,{children:o.jsxs(iy,{children:[o.jsx(ay,{children:o.jsxs(Ba,{children:[o.jsx(Nn,{children:"Staff Name"}),o.jsx(Nn,{children:"Role"}),o.jsx(Nn,{children:"Monthly Salary"}),o.jsx(Nn,{className:"w-[120px] text-right",children:"Actions"})]})}),o.jsx(oy,{children:l.length===0?o.jsx(Ba,{children:o.jsx(on,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No staff members found."})}):l.map(m=>o.jsxs(Ba,{children:[o.jsx(on,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:m.name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:m.email})]})}),o.jsx(on,{children:v(m.role)}),o.jsx(on,{className:"text-right",children:t===m.id?o.jsx(ht,{type:"number",value:n,onChange:x=>s(x.target.value),className:"w-32",placeholder:" 0"}):o.jsx("span",{className:m.salary>0?"font-medium":"text-muted-foreground italic",children:m.salary>0?`${m.salary.toLocaleString()}`:"Not Set"})}),o.jsx(on,{className:"text-right",children:t===m.id?o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>p(m.id),className:"h-8 w-8 p-0 text-green-600",children:o.jsx($J,{className:"h-4 w-4"})}),o.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>r(null),className:"h-8 w-8 p-0 text-destructive",children:o.jsx(Tm,{className:"h-4 w-4"})})]}):o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsxs(fs,{children:[o.jsx(xl,{asChild:!0,children:o.jsx(ke,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"Manage Credentials",children:o.jsx(MC,{className:"h-4 w-4"})})}),o.jsxs(ns,{children:[o.jsxs(ks,{children:[o.jsx(ps,{children:"Reset Staff Password"}),o.jsxs(Ys,{children:["Set a new password for ",o.jsx("strong",{children:m.name}),".",o.jsx("br",{}),o.jsx("span",{className:"text-red-500 text-xs",children:"This will immediately invalidate their old password."})]})]}),o.jsxs("form",{onSubmit:async x=>{x.preventDefault();const b=new FormData(x.currentTarget).get("newPassword");if(!b||b.length<6){qe.error("Password must be at least 6 characters");return}try{const{error:S}=await Qe.rpc("admin_reset_password",{target_user_id:m.id,new_password:b});if(S)throw S;qe.success(`Password updated for ${m.name}`),x.target.reset()}catch(S){qe.error("Failed to reset: "+S.message)}},className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"staffNewPassword",className:"text-sm font-medium",children:"New Password"}),o.jsx(ht,{id:"staffNewPassword",name:"newPassword",type:"text",placeholder:"Enter new password",minLength:6,required:!0})]}),o.jsx(ke,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Update Password"})]})]})]}),o.jsx(ke,{size:"sm",variant:"ghost",onClick:()=>h(m),className:"h-8 w-8 p-0",disabled:i,children:o.jsx(IJ,{className:"h-4 w-4"})}),o.jsxs(Ym,{children:[o.jsx(cq,{asChild:!0,children:o.jsx(ke,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-destructive hover:bg-destructive/10 hover:text-destructive",children:o.jsx(Pm,{className:"h-4 w-4"})})}),o.jsxs(rf,{children:[o.jsxs(nf,{children:[o.jsx(af,{children:"Remove Staff Member?"}),o.jsxs(of,{children:["This will remove ",o.jsx("strong",{children:m.name})," from the staff directory and revoke their access. This action cannot be undone."]})]}),o.jsxs(sf,{children:[o.jsx(cf,{children:"Cancel"}),o.jsx(lf,{onClick:()=>d.mutate(m.id),className:"bg-destructive hover:bg-destructive/90",children:"Remove Staff"})]})]})]})]})})]},m.id))})]})})]})]})},S2e=new KX,j2e=()=>o.jsx(eee,{client:S2e,children:o.jsx(zte,{children:o.jsx(Zce,{defaultTheme:"light",storageKey:"vite-ui-theme",children:o.jsxs(RX,{children:[o.jsx(kQ,{}),o.jsx(sZ,{}),o.jsx(Rte,{children:o.jsxs(lte,{children:[o.jsx(jr,{path:"/",element:o.jsx(w5,{})}),o.jsx(jr,{path:"/patient/login",element:o.jsx(jge,{})}),o.jsx(jr,{path:"/patient/register",element:o.jsx(Nge,{})}),o.jsx(jr,{path:"/patient/dashboard",element:o.jsx(Vte,{children:o.jsx(wye,{})})}),o.jsx(jr,{path:"/admin/login",element:o.jsx(Nye,{})}),o.jsx(jr,{path:"/staff/login",element:o.jsx(bye,{})}),o.jsx(jr,{path:"/staff/register",element:o.jsx(Sye,{})}),o.jsx(jr,{path:"/staff/pending",element:o.jsx(jye,{})}),o.jsx(jr,{path:"/dashboard",element:o.jsx(cs,{children:o.jsx(eme,{})})}),o.jsx(jr,{path:"/staff/dashboard/doctor",element:o.jsx(cs,{children:o.jsx(kye,{})})}),o.jsx(jr,{path:"/staff/dashboard/reception",element:o.jsx(cs,{children:o.jsx(Cye,{})})}),o.jsx(jr,{path:"/staff/dashboard/nurse",element:o.jsx(cs,{children:o.jsx(Eye,{})})}),o.jsx(jr,{path:"/staff/dashboard/cashier",element:o.jsx(cs,{children:o.jsx(lL,{})})}),o.jsx(jr,{path:"/admin/ai-tools",element:o.jsx(cs,{requiredRole:"admin",children:o.jsx(Oye,{})})}),o.jsx(jr,{path:"/cashier/calculations",element:o.jsx(cs,{children:o.jsx(lL,{})})}),o.jsx(jr,{path:"/admin/info",element:o.jsx(cs,{requiredRole:"admin",children:o.jsx(Lye,{})})}),o.jsx(jr,{path:"/nurse/rounds",element:o.jsx(cs,{children:o.jsx(Tye,{})})}),o.jsx(jr,{path:"/patients",element:o.jsx(cs,{children:o.jsx(Yme,{})})}),o.jsx(jr,{path:"/salaries",element:o.jsx(cs,{requiredRole:"admin",children:o.jsx(_2e,{})})}),o.jsx(jr,{path:"/doctors",element:o.jsx(cs,{children:o.jsx(sge,{})})}),o.jsx(jr,{path:"/appointments",element:o.jsx(cs,{children:o.jsx(lge,{})})}),o.jsx(jr,{path:"/departments",element:o.jsx(cs,{children:o.jsx(dge,{})})}),o.jsx(jr,{path:"/beds",element:o.jsx(cs,{children:o.jsx(gge,{})})}),o.jsx(jr,{path:"/callbacks",element:o.jsx(cs,{children:o.jsx(xge,{})})}),o.jsx(jr,{path:"/reports",element:o.jsx(cs,{children:o.jsx(wge,{})})}),o.jsx(jr,{path:"/staff/approvals",element:o.jsx(cs,{requiredRole:"admin",children:o.jsx(oL,{})})}),o.jsx(jr,{path:"/staff-approvals",element:o.jsx(cs,{requiredRole:"admin",children:o.jsx(oL,{})})}),o.jsx(jr,{path:"/settings",element:o.jsx(cs,{children:o.jsx(_ge,{})})}),o.jsx(jr,{path:"/login",element:o.jsx(w5,{})}),o.jsx(jr,{path:"/register",element:o.jsx(w5,{})}),o.jsx(jr,{path:"/social-coming-soon",element:o.jsx(Sge,{})}),o.jsx(jr,{path:"*",element:o.jsx(bge,{})})]})})]})})})});dD(document.getElementById("root")).render(o.jsx(j2e,{}));export{Yr as _,L4 as c,QI as g};
